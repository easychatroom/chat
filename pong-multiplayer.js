const _0x4b5766=_0x4355;(function(_0x49d43c,_0x54c1a4){const _0x355520=_0x4355,_0x101c0e=_0x49d43c();while(!![]){try{const _0x586938=parseInt(_0x355520(0x103))/0x1+parseInt(_0x355520(0x125))/0x2+-parseInt(_0x355520(0x114))/0x3+parseInt(_0x355520(0x11e))/0x4+-parseInt(_0x355520(0xc9))/0x5+-parseInt(_0x355520(0x124))/0x6+parseInt(_0x355520(0x113))/0x7*(-parseInt(_0x355520(0xad))/0x8);if(_0x586938===_0x54c1a4)break;else _0x101c0e['push'](_0x101c0e['shift']());}catch(_0x318d85){_0x101c0e['push'](_0x101c0e['shift']());}}}(_0x2396,0x58456));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x4b5766(0x10b),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x4b5766(0xf5),'storageBucket':_0x4b5766(0xd6),'messagingSenderId':_0x4b5766(0xce),'appId':_0x4b5766(0xc8),'measurementId':_0x4b5766(0xb3)};firebase[_0x4b5766(0xe2)](firebaseConfig);const db=firebase[_0x4b5766(0xf9)](),canvas=document['getElementById']('gameCanvas'),ctx=canvas[_0x4b5766(0xd5)]('2d');canvas[_0x4b5766(0xea)]=0x320,canvas[_0x4b5766(0xe7)]=0x190;const container=document[_0x4b5766(0xc7)](_0x4b5766(0xf1));container[_0x4b5766(0x12a)]='game-container',container[_0x4b5766(0xd9)][_0x4b5766(0xfa)]=_0x4b5766(0xcf),container[_0x4b5766(0xd9)][_0x4b5766(0x105)]=_0x4b5766(0xb5),container['style'][_0x4b5766(0xcb)]=_0x4b5766(0x10f),container['style'][_0x4b5766(0xb4)]=_0x4b5766(0x10f),container[_0x4b5766(0xd9)][_0x4b5766(0xe7)]=_0x4b5766(0x11a);const resultMessage=document[_0x4b5766(0xc7)](_0x4b5766(0xf1));function _0x4355(_0xed900,_0x5d8d63){const _0x2396eb=_0x2396();return _0x4355=function(_0x435566,_0x2c7b50){_0x435566=_0x435566-0xad;let _0x277ea3=_0x2396eb[_0x435566];return _0x277ea3;},_0x4355(_0xed900,_0x5d8d63);}resultMessage['id']=_0x4b5766(0xf4),resultMessage['style'][_0x4b5766(0xd8)]='#fff',resultMessage['style'][_0x4b5766(0xde)]=_0x4b5766(0xc2),resultMessage[_0x4b5766(0xd9)][_0x4b5766(0x127)]=_0x4b5766(0x102),container[_0x4b5766(0x118)](resultMessage),container[_0x4b5766(0x118)](canvas),document[_0x4b5766(0xba)][_0x4b5766(0xaf)]='',document[_0x4b5766(0xba)][_0x4b5766(0x118)](container);const url=new URLSearchParams(location['search']),gameId=url[_0x4b5766(0xee)](_0x4b5766(0xb1)),username=url[_0x4b5766(0xee)](_0x4b5766(0x11f)),userKey=username[_0x4b5766(0xec)](/[.#$[\]]/g,'_'),gameRef=db[_0x4b5766(0xe9)](_0x4b5766(0xff)+gameId),stateRef=gameRef[_0x4b5766(0xbd)](_0x4b5766(0xb7));let roomId='';gameRef['child'](_0x4b5766(0x111))[_0x4b5766(0xfb)](_0x4b5766(0x106))['then'](_0x581bfa=>{const _0x3b50f5=_0x4b5766;_0x581bfa['exists']()?roomId=_0x581bfa['val']():roomId=_0x3b50f5(0xc5);});function _0x2396(){const _0x58fa36=['display','once','fillText','wYNNU','20px\x20Arial','games/','MrBij','uaOPT','20px','674394BalIMK','wFYFC','flexDirection','value','🏁\x20','system','jcLCG','set','easy-chatroom.firebaseapp.com','Starting\x20in\x20','OtkhV','vSsKl','center','max','roomId','...','98rEFYlM','1950468ngynPG','arrowdown','innerText','ball','appendChild','ZGhwq','100vh','right','iWUNs',')\x20→\x20Winner:\x20','365300AYedfR','player','update','fillRect','TaYqW','now','300318UiLILR','999148LKXiXS','ZnEQF','marginBottom','wUUad','Tgkhe','className','82816IalbxH','Press\x20Space\x20to\x20ready','innerHTML','qMsyR','gameId','yGTmF','G-QDESJ2WR42','alignItems','column','val','state','ready','paddles','body','eqsiY','keydown','child','LcerF','toLowerCase','#fff','QEegm','24px','includes','XJaRf','050BBB66HH','/messages','createElement','1:985049198428:web:d0eb7e2de39887710c9b99','292990pLyyDO','score','justifyContent','nLLmZ','eZFUA','985049198428','flex','remove','BEIee','nYnpc','fillStyle','mhPkz','getContext','easy-chatroom.appspot.com','push','color','style','addEventListener','arrowup','GGRgf','font','fontSize','zqSAt','hMNWB',')\x20vs\x20','initializeApp','qkuiI','name','left','IMrpc','height','clearRect','ref','width','OlGOv','replace','nsQkS','get','hfVMS','players','div','then','fKGuA','resultMessage','easy-chatroom','BRMlL','random','exists','database'];_0x2396=function(){return _0x58fa36;};return _0x2396();}let role='',opponent='',gameState=null,ready=![],opponentReady=![],countdown=0x5,gameStarted=![],winnerDeclared=![],localMove=0x0;function draw(){const _0x5701f4=_0x4b5766,_0x3b69df={'hMNWB':_0x5701f4(0xc0),'TaYqW':function(_0x545c18,_0x4219f8){return _0x545c18-_0x4219f8;},'Tgkhe':_0x5701f4(0xfe),'BRMlL':function(_0x231709,_0x2a9fc6){return _0x231709-_0x2a9fc6;},'fKGuA':function(_0x257698,_0x325cf0){return _0x257698&&_0x325cf0;},'BEIee':function(_0x346929,_0x6247cd){return _0x346929&&_0x6247cd;},'ZnEQF':function(_0x54f330,_0x3b879b){return _0x54f330-_0x3b879b;},'ZGhwq':function(_0x431c55,_0x2aaa65){return _0x431c55/_0x2aaa65;}};ctx[_0x5701f4(0xe8)](0x0,0x0,canvas[_0x5701f4(0xea)],canvas['height']);if(!gameState)return;const {ball:_0x12f065,paddles:_0x39f5df}=gameState;ctx[_0x5701f4(0xd3)]=_0x3b69df[_0x5701f4(0xe0)],ctx[_0x5701f4(0x121)](0xa,_0x39f5df[_0x5701f4(0xe5)]['y'],0xa,0x64),ctx[_0x5701f4(0x121)](_0x3b69df[_0x5701f4(0x122)](canvas[_0x5701f4(0xea)],0x14),_0x39f5df['right']['y'],0xa,0x64),ctx[_0x5701f4(0x121)](_0x12f065['x'],_0x12f065['y'],0xa,0xa),ctx[_0x5701f4(0xdd)]=_0x3b69df[_0x5701f4(0x129)],ctx[_0x5701f4(0xfc)](_0x39f5df[_0x5701f4(0xe5)][_0x5701f4(0xe4)]+':\x20'+_0x39f5df['left'][_0x5701f4(0xca)],0x1e,0x1e),ctx[_0x5701f4(0xfc)](_0x39f5df[_0x5701f4(0x11b)][_0x5701f4(0xe4)]+':\x20'+_0x39f5df[_0x5701f4(0x11b)]['score'],_0x3b69df[_0x5701f4(0xf6)](canvas[_0x5701f4(0xea)],0xfa),0x1e);if(_0x3b69df[_0x5701f4(0xf3)](!gameStarted,!winnerDeclared)){const _0x1e5644=_0x3b69df[_0x5701f4(0xd1)](ready,opponentReady)?_0x5701f4(0x10c)+countdown+_0x5701f4(0x112):_0x5701f4(0xae);ctx[_0x5701f4(0xfc)](_0x1e5644,_0x3b69df[_0x5701f4(0x126)](_0x3b69df[_0x5701f4(0x119)](canvas[_0x5701f4(0xea)],0x2),0x5a),canvas[_0x5701f4(0xe7)]/0x2);}}function resetBall(){const _0x381d02=_0x4b5766,_0x114fdd={'noMCE':function(_0x483c88,_0x261b1d){return _0x483c88/_0x261b1d;},'iFbrL':function(_0x2557a8,_0xaab45){return _0x2557a8>_0xaab45;},'hfVMS':function(_0x2f9a22,_0x2ecf00){return _0x2f9a22>_0x2ecf00;}};gameState[_0x381d02(0x117)]={'x':canvas['width']/0x2,'y':_0x114fdd['noMCE'](canvas[_0x381d02(0xe7)],0x2),'dx':_0x114fdd['iFbrL'](Math[_0x381d02(0xf7)](),0.5)?0x3:-0x3,'dy':_0x114fdd[_0x381d02(0xef)](Math[_0x381d02(0xf7)](),0.5)?0x2:-0x2};}function declareWinner(){const _0x53a2d0=_0x4b5766,_0x2828e9={'wYNNU':function(_0x426c4d,_0x54de25){return _0x426c4d<_0x54de25;},'FcbIA':'😢\x20You\x20Lost!','SRwcH':_0x53a2d0(0x108)};if(winnerDeclared)return;const _0x38b0a8=gameState['paddles'][_0x53a2d0(0xe5)],_0xc8e84=gameState['paddles'][_0x53a2d0(0x11b)];if(_0x38b0a8[_0x53a2d0(0xca)]<0xa&&_0x2828e9[_0x53a2d0(0xfd)](_0xc8e84[_0x53a2d0(0xca)],0xa))return;winnerDeclared=!![],gameStarted=![];const _0x45877a=_0x38b0a8[_0x53a2d0(0xca)]===0xa?_0x38b0a8[_0x53a2d0(0xe4)]:_0xc8e84[_0x53a2d0(0xe4)],_0x322da7=_0x38b0a8['score']===0xa?_0xc8e84[_0x53a2d0(0xe4)]:_0x38b0a8[_0x53a2d0(0xe4)],_0x993375=_0x53a2d0(0x107)+_0x38b0a8[_0x53a2d0(0xe4)]+'\x20('+_0x38b0a8[_0x53a2d0(0xca)]+_0x53a2d0(0xe1)+_0xc8e84[_0x53a2d0(0xe4)]+'\x20('+_0xc8e84[_0x53a2d0(0xca)]+_0x53a2d0(0x11d)+_0x45877a,_0x4cec05=username===_0x45877a?'🏆\x20You\x20Won!':_0x2828e9['FcbIA'];document['getElementById'](_0x53a2d0(0xf4))[_0x53a2d0(0x116)]=_0x4cec05,roomId&&db[_0x53a2d0(0xe9)]('rooms/'+roomId+_0x53a2d0(0xc6))[_0x53a2d0(0xd7)]({'sender':_0x2828e9['SRwcH'],'senderId':_0x53a2d0(0x108),'msg':_0x993375,'timestamp':Date[_0x53a2d0(0x123)]()}),db['ref'](_0x53a2d0(0xff)+gameId)[_0x53a2d0(0xd0)]();}function moveBall(){const _0x3f3481=_0x4b5766,_0x11cf3e={'TeDOv':function(_0x119451,_0x565e16){return _0x119451<=_0x565e16;},'LcerF':function(_0x309dfe,_0x224a7e){return _0x309dfe>=_0x224a7e;},'mhPkz':function(_0x49507f,_0xb68abb){return _0x49507f+_0xb68abb;},'wUUad':function(_0x30cf5e,_0x11cdb0){return _0x30cf5e<=_0x11cdb0;},'XJaRf':function(_0x592934,_0x49807f){return _0x592934<=_0x49807f;},'yGTmF':function(_0x389891,_0x29df48){return _0x389891>=_0x29df48;},'iWUNs':function(_0x41b86e,_0x3d87a0){return _0x41b86e-_0x3d87a0;},'lzdIq':function(_0x53b568,_0x37d19e){return _0x53b568+_0x37d19e;},'wFYFC':function(_0x12a70f){return _0x12a70f();}};if(winnerDeclared)return;const {ball:_0x31cd19,paddles:_0x1025fd}=gameState;_0x31cd19['x']+=_0x31cd19['dx'],_0x31cd19['y']+=_0x31cd19['dy'];if(_0x11cf3e['TeDOv'](_0x31cd19['y'],0x0)||_0x11cf3e['LcerF'](_0x11cf3e[_0x3f3481(0xd4)](_0x31cd19['y'],0xa),canvas[_0x3f3481(0xe7)]))_0x31cd19['dy']*=-0x1;_0x11cf3e[_0x3f3481(0x128)](_0x31cd19['x'],0x14)&&_0x11cf3e[_0x3f3481(0xbe)](_0x11cf3e[_0x3f3481(0xd4)](_0x31cd19['y'],0xa),_0x1025fd[_0x3f3481(0xe5)]['y'])&&_0x11cf3e[_0x3f3481(0xc4)](_0x31cd19['y'],_0x11cf3e[_0x3f3481(0xd4)](_0x1025fd[_0x3f3481(0xe5)]['y'],0x64))&&(_0x31cd19['dx']*=-0x1,_0x31cd19['x']=0x14),_0x11cf3e[_0x3f3481(0xb2)](_0x31cd19['x']+0xa,_0x11cf3e[_0x3f3481(0x11c)](canvas[_0x3f3481(0xea)],0x14))&&_0x11cf3e['yGTmF'](_0x31cd19['y']+0xa,_0x1025fd['right']['y'])&&_0x11cf3e['wUUad'](_0x31cd19['y'],_0x11cf3e['lzdIq'](_0x1025fd[_0x3f3481(0x11b)]['y'],0x64))&&(_0x31cd19['dx']*=-0x1,_0x31cd19['x']=canvas[_0x3f3481(0xea)]-0x1e),_0x11cf3e[_0x3f3481(0x128)](_0x31cd19['x'],0x0)&&(_0x1025fd[_0x3f3481(0x11b)][_0x3f3481(0xca)]++,_0x11cf3e[_0x3f3481(0x104)](resetBall)),_0x31cd19['x']>=canvas[_0x3f3481(0xea)]&&(_0x1025fd[_0x3f3481(0xe5)]['score']++,resetBall()),stateRef[_0x3f3481(0x10a)](gameState),_0x11cf3e[_0x3f3481(0x104)](declareWinner);}function gameLoop(){const _0x4596aa=_0x4b5766,_0x46cebe={'nLLmZ':function(_0x4e818b){return _0x4e818b();},'jcLCG':function(_0x2981d0,_0x3422b9){return _0x2981d0===_0x3422b9;},'vSsKl':function(_0x512a6c,_0x285f95){return _0x512a6c(_0x285f95);}};_0x46cebe[_0x4596aa(0xcc)](draw),gameStarted&&_0x46cebe[_0x4596aa(0x109)](role,_0x4596aa(0xe5))&&_0x46cebe[_0x4596aa(0xcc)](moveBall),_0x46cebe[_0x4596aa(0x10e)](requestAnimationFrame,gameLoop);}document[_0x4b5766(0xda)](_0x4b5766(0xbc),_0x25f1d0=>{const _0x34ab55=_0x4b5766,_0x13c7f7={'zqSAt':function(_0xe2e48d,_0x3a9772){return _0xe2e48d===_0x3a9772;},'qMsyR':_0x34ab55(0xb9),'GGRgf':_0x34ab55(0xdb),'eZFUA':_0x34ab55(0x115)},_0x14016c=_0x25f1d0['key'][_0x34ab55(0xbf)]();_0x13c7f7[_0x34ab55(0xdf)](_0x14016c,'\x20')&&!ready&&!winnerDeclared&&(ready=!![],stateRef[_0x34ab55(0xbd)](_0x13c7f7[_0x34ab55(0xb0)])[_0x34ab55(0xbd)](role)['update']({'ready':!![]}));if(['w',_0x13c7f7[_0x34ab55(0xdc)]][_0x34ab55(0xc3)](_0x14016c))localMove=-0xa;if(['s',_0x13c7f7[_0x34ab55(0xcd)]][_0x34ab55(0xc3)](_0x14016c))localMove=0xa;}),document[_0x4b5766(0xda)]('keyup',()=>{localMove=0x0;});function updatePaddlePosition(){const _0x8e3c35=_0x4b5766,_0x55c4fb={'nsQkS':function(_0x4529fa,_0x167f52){return _0x4529fa!==_0x167f52;},'QEegm':function(_0x4fcca6,_0x3586d4){return _0x4fcca6-_0x3586d4;},'OlGOv':function(_0x73030c,_0xe265d5){return _0x73030c+_0xe265d5;},'ryRQu':function(_0x38b843,_0x50a4cf){return _0x38b843(_0x50a4cf);}};if(gameState&&_0x55c4fb[_0x8e3c35(0xed)](localMove,0x0)&&!winnerDeclared){const _0x187786=gameState[_0x8e3c35(0xb9)][role];_0x187786['y']=Math[_0x8e3c35(0x110)](0x0,Math['min'](_0x55c4fb[_0x8e3c35(0xc1)](canvas[_0x8e3c35(0xe7)],0x64),_0x55c4fb[_0x8e3c35(0xeb)](_0x187786['y'],localMove))),stateRef['child'](_0x8e3c35(0xb9))[_0x8e3c35(0xbd)](role)[_0x8e3c35(0x120)]({'y':_0x187786['y']});}_0x55c4fb['ryRQu'](requestAnimationFrame,updatePaddlePosition);}function startGame(){const _0x563211=_0x4b5766,_0x33b77f={'OtkhV':_0x563211(0xe5),'eqsiY':function(_0x47c63c,_0x555870){return _0x47c63c===_0x555870;},'nYnpc':'right','qkuiI':function(_0x1dbae8,_0x58b8fb){return _0x1dbae8/_0x58b8fb;},'MrBij':function(_0x5402d4,_0x34895e){return _0x5402d4/_0x34895e;},'uaOPT':function(_0x2937bc){return _0x2937bc();},'CJBpG':_0x563211(0xf0),'IMrpc':_0x563211(0x106)};gameRef[_0x563211(0xbd)](_0x33b77f['CJBpG'])[_0x563211(0xfb)](_0x33b77f[_0x563211(0xe6)])[_0x563211(0xf2)](_0x235560=>{const _0x14cf0e=_0x563211,_0x246592=_0x235560['val']();if(!_0x246592)return;role=_0x33b77f[_0x14cf0e(0xbb)](_0x246592['p1'],userKey)?_0x33b77f[_0x14cf0e(0x10d)]:_0x33b77f[_0x14cf0e(0xd2)],opponent=_0x33b77f[_0x14cf0e(0xbb)](role,_0x33b77f['OtkhV'])?_0x246592['p2']:_0x246592['p1'],gameState={'ball':{'x':_0x33b77f[_0x14cf0e(0xe3)](canvas['width'],0x2),'y':_0x33b77f[_0x14cf0e(0x100)](canvas[_0x14cf0e(0xe7)],0x2),'dx':0x3,'dy':0x2},'paddles':{'left':{'y':0x96,'score':0x0,'name':_0x246592['p1'],'ready':![]},'right':{'y':0x96,'score':0x0,'name':_0x246592['p2'],'ready':![]}}},stateRef[_0x14cf0e(0x10a)](gameState),stateRef['on']('value',_0x86b881=>{const _0x3b3e86=_0x14cf0e;if(!_0x86b881[_0x3b3e86(0xf8)]())return;const _0x3ceb27=_0x86b881[_0x3b3e86(0xb6)]();gameState[_0x3b3e86(0x117)]=_0x3ceb27[_0x3b3e86(0x117)],gameState['paddles'][_0x3b3e86(0xe5)]['y']=_0x3ceb27[_0x3b3e86(0xb9)][_0x3b3e86(0xe5)]['y'],gameState['paddles']['right']['y']=_0x3ceb27[_0x3b3e86(0xb9)][_0x3b3e86(0x11b)]['y'],gameState[_0x3b3e86(0xb9)][_0x3b3e86(0xe5)][_0x3b3e86(0xca)]=_0x3ceb27[_0x3b3e86(0xb9)][_0x3b3e86(0xe5)]['score'],gameState[_0x3b3e86(0xb9)][_0x3b3e86(0x11b)]['score']=_0x3ceb27['paddles'][_0x3b3e86(0x11b)]['score'],gameState[_0x3b3e86(0xb9)]['left']['ready']=_0x3ceb27[_0x3b3e86(0xb9)][_0x3b3e86(0xe5)]['ready'],gameState['paddles'][_0x3b3e86(0x11b)][_0x3b3e86(0xb8)]=_0x3ceb27[_0x3b3e86(0xb9)][_0x3b3e86(0x11b)]['ready'],ready=_0x3ceb27['paddles'][role]['ready'],opponentReady=_0x3ceb27[_0x3b3e86(0xb9)][role===_0x33b77f[_0x3b3e86(0x10d)]?_0x3b3e86(0x11b):_0x33b77f[_0x3b3e86(0x10d)]][_0x3b3e86(0xb8)];if(ready&&opponentReady&&!gameStarted&&!winnerDeclared){let _0x583abf=setInterval(()=>{countdown===0x0&&(gameStarted=!![],clearInterval(_0x583abf)),countdown--;},0x3e8);}}),_0x33b77f[_0x14cf0e(0x101)](gameLoop),_0x33b77f['uaOPT'](updatePaddlePosition);});}startGame();