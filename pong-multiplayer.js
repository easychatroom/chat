const _0x5cfb20=_0x3be8;(function(_0x2e7b07,_0x35b9a6){const _0x300da0=_0x3be8,_0x25ac33=_0x2e7b07();while(!![]){try{const _0x455308=parseInt(_0x300da0(0x166))/0x1+-parseInt(_0x300da0(0x167))/0x2+parseInt(_0x300da0(0x13f))/0x3*(parseInt(_0x300da0(0x19c))/0x4)+parseInt(_0x300da0(0x1ac))/0x5*(parseInt(_0x300da0(0x176))/0x6)+-parseInt(_0x300da0(0x1aa))/0x7+-parseInt(_0x300da0(0x199))/0x8+parseInt(_0x300da0(0x1ae))/0x9;if(_0x455308===_0x35b9a6)break;else _0x25ac33['push'](_0x25ac33['shift']());}catch(_0x5a1f0d){_0x25ac33['push'](_0x25ac33['shift']());}}}(_0x546d,0xab7c4));const firebaseConfig={'apiKey':_0x5cfb20(0x1ab),'authDomain':_0x5cfb20(0x182),'databaseURL':_0x5cfb20(0x19f),'projectId':'easy-chatroom','storageBucket':_0x5cfb20(0x18c),'messagingSenderId':'985049198428','appId':_0x5cfb20(0x18b),'measurementId':_0x5cfb20(0x1ba)};function _0x546d(){const _0x18c876=['mRnDh','column','ZAsXP','set','mZygH','bSopL','className','eckht','marginBottom','2298681oRjPIT','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','4703180JDVRph','20px','3777129SjBPnJ','toLowerCase','fontSize','Hftgu','100vh','yBWVJ','UTrYs','#fff','get','JRUJh','alignItems','once','G-QDESJ2WR42','name','innerHTML','resultMessage','games/','27fHoFGn','flex','XKcxf','display','Press\x20Space\x20to\x20ready','getElementById','🏁\x20','arrowdown','OUNDR','color','left','fillText',')\x20vs\x20','child','wFDSs','hUEns','MqJAv','system','JDQHP','gBIfW','/messages','ball','keydown','flexDirection','truzZ','fillRect','MGqiz','050BBB66HH','MuXnH','WFcIv','div','player','vvNQg','then','gameCanvas','update','height','paddles','justifyContent','951509nRNtwY','1513276XdYBOh','UugPi','score','style','game-container','zcjwJ','appendChild','rooms/','replace','dPmRD','wezaI','...','keyup','QLOYI','roomId','6vSsgmM','key','database','kAxUD','random','ready','DeYEa','initializeApp','tZuGV','NOdhh','eyuUC','min','easy-chatroom.firebaseapp.com','width','🏆\x20You\x20Won!','val','now','search','fdJrf','fillStyle','aESzl','1:985049198428:web:d0eb7e2de39887710c9b99','easy-chatroom.appspot.com','innerText','SZJvH','cBUfb','right','Gffpj','20px\x20Arial','clearRect','remove','exists','pSqBZ','state','gameId','9072704iikAci','createElement','font','270972AvCVFL','addEventListener','😢\x20You\x20Lost!','https://easy-chatroom-default-rtdb.firebaseio.com','arrowup'];_0x546d=function(){return _0x18c876;};return _0x546d();}firebase[_0x5cfb20(0x17d)](firebaseConfig);const db=firebase[_0x5cfb20(0x178)](),canvas=document[_0x5cfb20(0x144)](_0x5cfb20(0x161)),ctx=canvas['getContext']('2d');canvas['width']=0x320,canvas[_0x5cfb20(0x163)]=0x190;const container=document[_0x5cfb20(0x19a)](_0x5cfb20(0x15d));container[_0x5cfb20(0x1a7)]=_0x5cfb20(0x16b),container[_0x5cfb20(0x16a)][_0x5cfb20(0x142)]=_0x5cfb20(0x140),container[_0x5cfb20(0x16a)][_0x5cfb20(0x156)]=_0x5cfb20(0x1a2),container['style'][_0x5cfb20(0x165)]='center',container[_0x5cfb20(0x16a)][_0x5cfb20(0x1b8)]='center',container[_0x5cfb20(0x16a)][_0x5cfb20(0x163)]=_0x5cfb20(0x1b2);const resultMessage=document[_0x5cfb20(0x19a)](_0x5cfb20(0x15d));resultMessage['id']=_0x5cfb20(0x1bd),resultMessage[_0x5cfb20(0x16a)][_0x5cfb20(0x148)]=_0x5cfb20(0x1b5),resultMessage[_0x5cfb20(0x16a)][_0x5cfb20(0x1b0)]='24px',resultMessage[_0x5cfb20(0x16a)][_0x5cfb20(0x1a9)]=_0x5cfb20(0x1ad),container['appendChild'](resultMessage),container[_0x5cfb20(0x16d)](canvas),document['body'][_0x5cfb20(0x1bc)]='',document['body'][_0x5cfb20(0x16d)](container);const url=new URLSearchParams(location[_0x5cfb20(0x187)]),gameId=url[_0x5cfb20(0x1b6)](_0x5cfb20(0x198)),username=url[_0x5cfb20(0x1b6)](_0x5cfb20(0x15e)),userKey=username[_0x5cfb20(0x16f)](/[.#$[\]]/g,'_'),gameRef=db['ref'](_0x5cfb20(0x13e)+gameId),stateRef=gameRef[_0x5cfb20(0x14c)](_0x5cfb20(0x197));let roomId='';gameRef[_0x5cfb20(0x14c)](_0x5cfb20(0x175))[_0x5cfb20(0x1b9)]('value')[_0x5cfb20(0x160)](_0xfefd35=>{const _0x346371=_0x5cfb20,_0x56ff69={'QLOYI':_0x346371(0x15a)};_0xfefd35['exists']()?roomId=_0xfefd35[_0x346371(0x185)]():roomId=_0x56ff69[_0x346371(0x174)];});let role='',opponent='',gameState=null,ready=![],opponentReady=![],countdown=0x5,gameStarted=![],winnerDeclared=![],localMove=0x0;function draw(){const _0x507be5=_0x5cfb20,_0x23cbad={'MnwLZ':_0x507be5(0x1b5),'NOdhh':_0x507be5(0x192),'DeYEa':function(_0x44d81b,_0x1404c8){return _0x44d81b-_0x1404c8;},'hUEns':function(_0x185f26,_0x447382){return _0x185f26/_0x447382;}};ctx[_0x507be5(0x193)](0x0,0x0,canvas[_0x507be5(0x183)],canvas[_0x507be5(0x163)]);if(!gameState)return;const {ball:_0xf97bf6,paddles:_0x3c817a}=gameState;ctx[_0x507be5(0x189)]=_0x23cbad['MnwLZ'],ctx['fillRect'](0xa,_0x3c817a[_0x507be5(0x149)]['y'],0xa,0x64),ctx[_0x507be5(0x158)](canvas['width']-0x14,_0x3c817a[_0x507be5(0x190)]['y'],0xa,0x64),ctx[_0x507be5(0x158)](_0xf97bf6['x'],_0xf97bf6['y'],0xa,0xa),ctx[_0x507be5(0x19b)]=_0x23cbad[_0x507be5(0x17f)],ctx['fillText'](_0x3c817a[_0x507be5(0x149)][_0x507be5(0x1bb)]+':\x20'+_0x3c817a[_0x507be5(0x149)][_0x507be5(0x169)],0x1e,0x1e),ctx[_0x507be5(0x14a)](_0x3c817a[_0x507be5(0x190)][_0x507be5(0x1bb)]+':\x20'+_0x3c817a[_0x507be5(0x190)][_0x507be5(0x169)],_0x23cbad[_0x507be5(0x17c)](canvas[_0x507be5(0x183)],0xfa),0x1e);if(!gameStarted&&!winnerDeclared){const _0x4f8861=ready&&opponentReady?'Starting\x20in\x20'+countdown+_0x507be5(0x172):_0x507be5(0x143);ctx[_0x507be5(0x14a)](_0x4f8861,_0x23cbad[_0x507be5(0x17c)](_0x23cbad[_0x507be5(0x14e)](canvas[_0x507be5(0x183)],0x2),0x5a),canvas['height']/0x2);}}function resetBall(){const _0x16ab09=_0x5cfb20,_0x4c764a={'wFDSs':function(_0x67fb72,_0x2a47db){return _0x67fb72/_0x2a47db;},'JRUJh':function(_0x3d535f,_0x39ad2e){return _0x3d535f>_0x39ad2e;}};gameState[_0x16ab09(0x154)]={'x':_0x4c764a[_0x16ab09(0x14d)](canvas['width'],0x2),'y':_0x4c764a['wFDSs'](canvas['height'],0x2),'dx':_0x4c764a[_0x16ab09(0x1b7)](Math[_0x16ab09(0x17a)](),0.5)?0x3:-0x3,'dy':_0x4c764a[_0x16ab09(0x1b7)](Math[_0x16ab09(0x17a)](),0.5)?0x2:-0x2};}function _0x3be8(_0x283d88,_0x1cb717){const _0x546d0e=_0x546d();return _0x3be8=function(_0x3be88d,_0x2dbe88){_0x3be88d=_0x3be88d-0x13e;let _0x18fbb8=_0x546d0e[_0x3be88d];return _0x18fbb8;},_0x3be8(_0x283d88,_0x1cb717);}function declareWinner(){const _0x4051a8=_0x5cfb20,_0x45a709={'eckht':function(_0x479067,_0x344f91){return _0x479067<_0x344f91;},'SZJvH':function(_0x3be97b,_0x1daf98){return _0x3be97b===_0x1daf98;},'MgevI':_0x4051a8(0x184),'mRnDh':_0x4051a8(0x19e)};if(winnerDeclared)return;const _0x27ca35=gameState[_0x4051a8(0x164)][_0x4051a8(0x149)],_0xe2e795=gameState[_0x4051a8(0x164)][_0x4051a8(0x190)];if(_0x45a709[_0x4051a8(0x1a8)](_0x27ca35[_0x4051a8(0x169)],0xa)&&_0x45a709[_0x4051a8(0x1a8)](_0xe2e795[_0x4051a8(0x169)],0xa))return;winnerDeclared=!![],gameStarted=![];const _0xc84e53=_0x45a709[_0x4051a8(0x18e)](_0x27ca35[_0x4051a8(0x169)],0xa)?_0x27ca35[_0x4051a8(0x1bb)]:_0xe2e795[_0x4051a8(0x1bb)],_0xddeefa=_0x45a709[_0x4051a8(0x18e)](_0x27ca35[_0x4051a8(0x169)],0xa)?_0xe2e795[_0x4051a8(0x1bb)]:_0x27ca35[_0x4051a8(0x1bb)],_0x3c9fbb=_0x4051a8(0x145)+_0x27ca35[_0x4051a8(0x1bb)]+'\x20('+_0x27ca35['score']+_0x4051a8(0x14b)+_0xe2e795[_0x4051a8(0x1bb)]+'\x20('+_0xe2e795[_0x4051a8(0x169)]+')\x20→\x20Winner:\x20'+_0xc84e53,_0x3019f4=username===_0xc84e53?_0x45a709['MgevI']:_0x45a709[_0x4051a8(0x1a1)];document['getElementById']('resultMessage')[_0x4051a8(0x18d)]=_0x3019f4,roomId&&db['ref'](_0x4051a8(0x16e)+roomId+_0x4051a8(0x153))['push']({'sender':'system','senderId':_0x4051a8(0x150),'msg':_0x3c9fbb,'timestamp':Date[_0x4051a8(0x186)]()}),db['ref'](_0x4051a8(0x13e)+gameId)[_0x4051a8(0x194)]();}function moveBall(){const _0x3da52d=_0x5cfb20,_0x4bc813={'gGOEs':function(_0x25a7c8,_0x53705b){return _0x25a7c8<=_0x53705b;},'MuXnH':function(_0x358a9f,_0x2531c5){return _0x358a9f>=_0x2531c5;},'gBIfW':function(_0x666247,_0x157b12){return _0x666247+_0x157b12;},'yXrvf':function(_0x27abe8,_0x8c8eac){return _0x27abe8<=_0x8c8eac;},'zcjwJ':function(_0x3f65a4,_0x5518e7){return _0x3f65a4>=_0x5518e7;},'DYnPR':function(_0x1cafc0,_0x132ddc){return _0x1cafc0+_0x132ddc;},'dPmRD':function(_0x30529e,_0x420914){return _0x30529e<=_0x420914;},'qILTo':function(_0x1a3977,_0x59d655){return _0x1a3977+_0x59d655;},'UugPi':function(_0x4dd927,_0x3dca62){return _0x4dd927+_0x3dca62;},'LeFxY':function(_0x4521c9,_0x306bff){return _0x4521c9-_0x306bff;},'Hftgu':function(_0x45f63f){return _0x45f63f();},'MfKSR':function(_0x395902){return _0x395902();}};if(winnerDeclared)return;const {ball:_0x3019a1,paddles:_0x3b3074}=gameState;_0x3019a1['x']+=_0x3019a1['dx'],_0x3019a1['y']+=_0x3019a1['dy'];if(_0x4bc813['gGOEs'](_0x3019a1['y'],0x0)||_0x4bc813[_0x3da52d(0x15b)](_0x4bc813[_0x3da52d(0x152)](_0x3019a1['y'],0xa),canvas[_0x3da52d(0x163)]))_0x3019a1['dy']*=-0x1;_0x4bc813['yXrvf'](_0x3019a1['x'],0x14)&&_0x4bc813['zcjwJ'](_0x4bc813['DYnPR'](_0x3019a1['y'],0xa),_0x3b3074[_0x3da52d(0x149)]['y'])&&_0x4bc813['dPmRD'](_0x3019a1['y'],_0x4bc813['qILTo'](_0x3b3074[_0x3da52d(0x149)]['y'],0x64))&&(_0x3019a1['dx']*=-0x1,_0x3019a1['x']=0x14),_0x4bc813['zcjwJ'](_0x4bc813[_0x3da52d(0x152)](_0x3019a1['x'],0xa),canvas[_0x3da52d(0x183)]-0x14)&&_0x4bc813[_0x3da52d(0x16c)](_0x3019a1['y']+0xa,_0x3b3074[_0x3da52d(0x190)]['y'])&&_0x4bc813[_0x3da52d(0x170)](_0x3019a1['y'],_0x4bc813[_0x3da52d(0x168)](_0x3b3074[_0x3da52d(0x190)]['y'],0x64))&&(_0x3019a1['dx']*=-0x1,_0x3019a1['x']=_0x4bc813['LeFxY'](canvas['width'],0x1e)),_0x3019a1['x']<=0x0&&(_0x3b3074['right'][_0x3da52d(0x169)]++,resetBall()),_0x4bc813['MuXnH'](_0x3019a1['x'],canvas[_0x3da52d(0x183)])&&(_0x3b3074[_0x3da52d(0x149)][_0x3da52d(0x169)]++,_0x4bc813[_0x3da52d(0x1b1)](resetBall)),stateRef['set'](gameState),_0x4bc813['MfKSR'](declareWinner);}function gameLoop(){const _0x2317a9=_0x5cfb20,_0x41a6e5={'dABfx':function(_0x10b2ea,_0x17a0fa){return _0x10b2ea===_0x17a0fa;},'Gffpj':function(_0x404cd9,_0x2d352e){return _0x404cd9(_0x2d352e);}};draw(),gameStarted&&_0x41a6e5['dABfx'](role,_0x2317a9(0x149))&&moveBall(),_0x41a6e5[_0x2317a9(0x191)](requestAnimationFrame,gameLoop);}document['addEventListener'](_0x5cfb20(0x155),_0x251287=>{const _0x2a6411=_0x5cfb20,_0x1c9b84={'tZuGV':function(_0x5c9d8f,_0x388259){return _0x5c9d8f===_0x388259;},'vvNQg':_0x2a6411(0x1a0),'ZAsXP':_0x2a6411(0x146)},_0x376028=_0x251287[_0x2a6411(0x177)][_0x2a6411(0x1af)]();_0x1c9b84[_0x2a6411(0x17e)](_0x376028,'\x20')&&!ready&&!winnerDeclared&&(ready=!![],stateRef[_0x2a6411(0x14c)]('paddles')['child'](role)[_0x2a6411(0x162)]({'ready':!![]}));if(['w',_0x1c9b84[_0x2a6411(0x15f)]]['includes'](_0x376028))localMove=-0xa;if(['s',_0x1c9b84[_0x2a6411(0x1a3)]]['includes'](_0x376028))localMove=0xa;}),document[_0x5cfb20(0x19d)](_0x5cfb20(0x173),()=>{localMove=0x0;});function updatePaddlePosition(){const _0x5bd544=_0x5cfb20,_0x397e32={'mZygH':function(_0x359050,_0x7bbee){return _0x359050!==_0x7bbee;},'MnigK':function(_0xd961a7,_0x3abccd){return _0xd961a7-_0x3abccd;},'MGqiz':function(_0x47c1c1,_0x374ec9){return _0x47c1c1+_0x374ec9;},'truzZ':_0x5bd544(0x164),'pSqBZ':function(_0x10aa2a,_0x141960){return _0x10aa2a(_0x141960);}};if(gameState&&_0x397e32[_0x5bd544(0x1a5)](localMove,0x0)&&!winnerDeclared){const _0x5e1ebd=gameState[_0x5bd544(0x164)][role];_0x5e1ebd['y']=Math['max'](0x0,Math[_0x5bd544(0x181)](_0x397e32['MnigK'](canvas[_0x5bd544(0x163)],0x64),_0x397e32[_0x5bd544(0x159)](_0x5e1ebd['y'],localMove))),stateRef['child'](_0x397e32[_0x5bd544(0x157)])[_0x5bd544(0x14c)](role)[_0x5bd544(0x162)]({'y':_0x5e1ebd['y']});}_0x397e32[_0x5bd544(0x196)](requestAnimationFrame,updatePaddlePosition);}function startGame(){const _0x20e2b7=_0x5cfb20,_0x3be7c2={'yBWVJ':function(_0x1b14cc,_0x3b31e6){return _0x1b14cc===_0x3b31e6;},'UTrYs':'left','JDQHP':function(_0x134b72,_0x2fc2d6){return _0x134b72&&_0x2fc2d6;},'kAxUD':function(_0x3c531b,_0x5448fa,_0x244594){return _0x3c531b(_0x5448fa,_0x244594);},'cBUfb':_0x20e2b7(0x190),'WFcIv':function(_0x179b3b,_0x5253e7){return _0x179b3b/_0x5253e7;},'wezaI':'value','MqJAv':function(_0x31773f){return _0x31773f();},'OUNDR':'players'};gameRef[_0x20e2b7(0x14c)](_0x3be7c2[_0x20e2b7(0x147)])['once'](_0x3be7c2['wezaI'])[_0x20e2b7(0x160)](_0x1202c8=>{const _0x30deda=_0x20e2b7,_0x11f8c7={'XKcxf':function(_0x5bdbe4,_0x3efccf){const _0x232f16=_0x3be8;return _0x3be7c2[_0x232f16(0x1b3)](_0x5bdbe4,_0x3efccf);},'aESzl':_0x30deda(0x190),'fdJrf':_0x3be7c2[_0x30deda(0x1b4)],'eyuUC':function(_0x3fc0b7,_0x183373){const _0x13f6cf=_0x30deda;return _0x3be7c2[_0x13f6cf(0x151)](_0x3fc0b7,_0x183373);},'bSopL':function(_0x1c0900,_0x32c72e,_0x1b0955){const _0x5b95d4=_0x30deda;return _0x3be7c2[_0x5b95d4(0x179)](_0x1c0900,_0x32c72e,_0x1b0955);}},_0x45d747=_0x1202c8[_0x30deda(0x185)]();if(!_0x45d747)return;role=_0x45d747['p1']===userKey?_0x3be7c2[_0x30deda(0x1b4)]:_0x3be7c2[_0x30deda(0x18f)],opponent=role===_0x3be7c2[_0x30deda(0x1b4)]?_0x45d747['p2']:_0x45d747['p1'],gameState={'ball':{'x':_0x3be7c2[_0x30deda(0x15c)](canvas['width'],0x2),'y':_0x3be7c2['WFcIv'](canvas[_0x30deda(0x163)],0x2),'dx':0x3,'dy':0x2},'paddles':{'left':{'y':0x96,'score':0x0,'name':_0x45d747['p1'],'ready':![]},'right':{'y':0x96,'score':0x0,'name':_0x45d747['p2'],'ready':![]}}},stateRef[_0x30deda(0x1a4)](gameState),stateRef['on'](_0x3be7c2[_0x30deda(0x171)],_0x564c07=>{const _0x2d76ae=_0x30deda;if(!_0x564c07[_0x2d76ae(0x195)]())return;const _0x37a4fd=_0x564c07[_0x2d76ae(0x185)]();gameState[_0x2d76ae(0x154)]=_0x37a4fd[_0x2d76ae(0x154)],gameState['paddles'][_0x2d76ae(0x149)]['y']=_0x37a4fd[_0x2d76ae(0x164)][_0x2d76ae(0x149)]['y'],gameState[_0x2d76ae(0x164)][_0x2d76ae(0x190)]['y']=_0x37a4fd[_0x2d76ae(0x164)][_0x2d76ae(0x190)]['y'],gameState[_0x2d76ae(0x164)][_0x2d76ae(0x149)][_0x2d76ae(0x169)]=_0x37a4fd[_0x2d76ae(0x164)][_0x2d76ae(0x149)][_0x2d76ae(0x169)],gameState[_0x2d76ae(0x164)][_0x2d76ae(0x190)]['score']=_0x37a4fd[_0x2d76ae(0x164)]['right']['score'],gameState[_0x2d76ae(0x164)][_0x2d76ae(0x149)][_0x2d76ae(0x17b)]=_0x37a4fd[_0x2d76ae(0x164)]['left'][_0x2d76ae(0x17b)],gameState[_0x2d76ae(0x164)][_0x2d76ae(0x190)]['ready']=_0x37a4fd['paddles'][_0x2d76ae(0x190)][_0x2d76ae(0x17b)],ready=_0x37a4fd[_0x2d76ae(0x164)][role][_0x2d76ae(0x17b)],opponentReady=_0x37a4fd[_0x2d76ae(0x164)][_0x11f8c7[_0x2d76ae(0x141)](role,_0x2d76ae(0x149))?_0x11f8c7[_0x2d76ae(0x18a)]:_0x11f8c7[_0x2d76ae(0x188)]][_0x2d76ae(0x17b)];if(_0x11f8c7[_0x2d76ae(0x180)](ready,opponentReady)&&!gameStarted&&!winnerDeclared){let _0x580d00=_0x11f8c7[_0x2d76ae(0x1a6)](setInterval,()=>{countdown===0x0&&(gameStarted=!![],clearInterval(_0x580d00)),countdown--;},0x3e8);}}),_0x3be7c2[_0x30deda(0x14f)](gameLoop),_0x3be7c2[_0x30deda(0x14f)](updatePaddlePosition);});}startGame();