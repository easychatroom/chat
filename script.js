const _0x5085cb=_0x365d;(function(_0x4970ae,_0x45f449){const _0x57b483=_0x365d,_0x2eaf76=_0x4970ae();while(!![]){try{const _0x2b3066=parseInt(_0x57b483(0x35a))/0x1*(parseInt(_0x57b483(0x2e5))/0x2)+parseInt(_0x57b483(0x169))/0x3*(parseInt(_0x57b483(0x365))/0x4)+parseInt(_0x57b483(0x1ba))/0x5*(-parseInt(_0x57b483(0x303))/0x6)+-parseInt(_0x57b483(0x11f))/0x7+parseInt(_0x57b483(0x1d8))/0x8*(parseInt(_0x57b483(0x34b))/0x9)+parseInt(_0x57b483(0xd2))/0xa*(-parseInt(_0x57b483(0x2e6))/0xb)+parseInt(_0x57b483(0x319))/0xc;if(_0x2b3066===_0x45f449)break;else _0x2eaf76['push'](_0x2eaf76['shift']());}catch(_0x5e54f8){_0x2eaf76['push'](_0x2eaf76['shift']());}}}(_0x202a,0xa359b));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x5085cb(0x1b7),'databaseURL':_0x5085cb(0xe9),'projectId':_0x5085cb(0x2e8),'storageBucket':_0x5085cb(0x155),'messagingSenderId':_0x5085cb(0x233),'appId':_0x5085cb(0x32d),'measurementId':_0x5085cb(0x15f)};let lastVerificationCode=null;firebase[_0x5085cb(0x276)](firebaseConfig);const messaging=firebase[_0x5085cb(0x1c5)](),db=firebase[_0x5085cb(0xcb)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x5085cb(0x245),_0x5085cb(0x1f3),_0x5085cb(0x320),_0x5085cb(0x149),'bastard',_0x5085cb(0x294),_0x5085cb(0x352),_0x5085cb(0x325),'mierda',_0x5085cb(0x277),_0x5085cb(0x134),_0x5085cb(0x34c),_0x5085cb(0x17b),'porra','caralho','merda','puta',_0x5085cb(0x26d),_0x5085cb(0x138),'putangina',_0x5085cb(0x8d),_0x5085cb(0xcd),'ulol',_0x5085cb(0x15b),'bwisit',_0x5085cb(0x2d1)],style=document[_0x5085cb(0x1e1)]('style');style[_0x5085cb(0x195)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document[_0x5085cb(0x344)]['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x5085cb(0x34f)]()['toString'](0x24)[_0x5085cb(0x131)](0x2,0x9),lastActivity=Date[_0x5085cb(0x34a)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x5085cb(0x32e),MAX_MESSAGES=0xfa,sound=new Audio(_0x5085cb(0x30b));sound[_0x5085cb(0x156)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x367257=_0x5085cb,_0x7f5a79={'ITQjK':function(_0x43f6ff,_0x3757c5){return _0x43f6ff(_0x3757c5);}},_0x57f375=navigator[_0x367257(0x215)]+screen['width']+screen[_0x367257(0x127)],_0x1eca59=await _0x7f5a79['ITQjK'](sha256,_0x57f375);return'_'+_0x1eca59['substr'](0x0,0x14);}function sha256(_0x933e2e){const _0x563096=_0x5085cb,_0x419cc9=new TextEncoder()['encode'](_0x933e2e);return crypto[_0x563096(0x2a2)][_0x563096(0x23d)]('SHA-256',_0x419cc9)['then'](_0x42205f=>{const _0x37290d=_0x563096;return Array[_0x37290d(0x226)](new Uint8Array(_0x42205f))[_0x37290d(0x20f)](_0x2d8299=>_0x2d8299[_0x37290d(0x27e)](0x10)[_0x37290d(0x12b)](0x2,'0'))[_0x37290d(0x107)]('');});}function toggleNotifications(){const _0x11d473=_0x5085cb,_0x4b805e={'yMQWj':function(_0x1036a7,_0x46fe61){return _0x1036a7===_0x46fe61;},'AOwHT':'granted','HnxKr':_0x11d473(0x86),'chuLK':_0x11d473(0x30e),'gSxIT':_0x11d473(0xd1),'aILga':_0x11d473(0x135),'zkxCR':'false','eFjoo':'🔔\x20Enable\x20Notifications'};Notification[_0x11d473(0x2fb)]!==_0x11d473(0x31f)?Notification[_0x11d473(0x1ff)]()['then'](_0x42c581=>{const _0x3001bd=_0x11d473;_0x4b805e[_0x3001bd(0x311)](_0x42c581,_0x4b805e[_0x3001bd(0x12f)])&&(notificationsEnabled=!![],localStorage['setItem'](_0x4b805e[_0x3001bd(0x14d)],_0x4b805e[_0x3001bd(0xdf)]),document['getElementById'](_0x4b805e['gSxIT'])[_0x3001bd(0x102)]=_0x4b805e[_0x3001bd(0x281)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x11d473(0x241)](_0x4b805e[_0x11d473(0x14d)],notificationsEnabled?_0x4b805e['chuLK']:_0x4b805e['zkxCR']),document[_0x11d473(0x298)](_0x4b805e['gSxIT'])['innerText']=notificationsEnabled?_0x11d473(0x135):_0x4b805e[_0x11d473(0x1ad)]);}function toggleAuthMode(){const _0x33e349=_0x5085cb,_0x38aad7={'yhIgE':_0x33e349(0xec),'nbxDh':_0x33e349(0xba),'neJpq':'Create\x20Account','ARJtR':_0x33e349(0x248),'twvww':_0x33e349(0x275),'xXkAw':_0x33e349(0x1a2),'LnnTD':_0x33e349(0x137),'zUrPo':_0x33e349(0xbc),'elHVo':_0x33e349(0x17d),'RHGhd':_0x33e349(0x16d),'OUzBe':'sendCodeBtn','bmNlJ':'authDescription','NAsfZ':_0x33e349(0x13c),'QGEyN':_0x33e349(0x1fe)},_0x4ac77e=_0x38aad7['yhIgE'][_0x33e349(0x29f)]('|');let _0x3d0ef1=0x0;while(!![]){switch(_0x4ac77e[_0x3d0ef1++]){case'0':document['getElementById']('authError')[_0x33e349(0x1b4)][_0x33e349(0x358)]=_0x38aad7[_0x33e349(0x331)];continue;case'1':document['getElementById'](_0x33e349(0x255))[_0x33e349(0x102)]=isRegisterMode?_0x38aad7['neJpq']:_0x38aad7[_0x33e349(0x1da)];continue;case'2':document[_0x33e349(0x298)](_0x38aad7['twvww'])['style'][_0x33e349(0x358)]=_0x33e349(0xba);continue;case'3':document[_0x33e349(0x298)](_0x33e349(0x7b))['style'][_0x33e349(0x358)]=isRegisterMode?_0x38aad7['xXkAw']:_0x38aad7[_0x33e349(0x331)];continue;case'4':document[_0x33e349(0x298)](_0x38aad7[_0x33e349(0x353)])[_0x33e349(0x1b4)]['display']=_0x38aad7[_0x33e349(0xd3)];continue;case'5':isRegisterMode=!isRegisterMode;continue;case'6':document[_0x33e349(0x298)](_0x38aad7[_0x33e349(0x22e)])[_0x33e349(0x1b4)][_0x33e349(0x358)]=isRegisterMode?_0x38aad7[_0x33e349(0xd3)]:_0x38aad7[_0x33e349(0x331)];continue;case'7':document[_0x33e349(0x298)](_0x38aad7[_0x33e349(0x83)])[_0x33e349(0x102)]=isRegisterMode?'Already\x20have\x20an\x20account?\x20Login':_0x38aad7[_0x33e349(0x2db)];continue;case'8':document['getElementById'](_0x38aad7[_0x33e349(0x17e)])['style'][_0x33e349(0x358)]=isRegisterMode?_0x33e349(0x1a2):_0x33e349(0xba);continue;case'9':document[_0x33e349(0x298)](_0x33e349(0x242))[_0x33e349(0x1b4)][_0x33e349(0x358)]=isRegisterMode?_0x38aad7['xXkAw']:_0x38aad7[_0x33e349(0x331)];continue;case'10':document[_0x33e349(0x298)](_0x38aad7[_0x33e349(0x317)])[_0x33e349(0x1b4)][_0x33e349(0x358)]=isRegisterMode?_0x33e349(0x1a2):_0x38aad7[_0x33e349(0x331)];continue;case'11':document['getElementById'](_0x38aad7[_0x33e349(0x2f1)])[_0x33e349(0x1b4)][_0x33e349(0x358)]=isRegisterMode?_0x38aad7[_0x33e349(0xd3)]:_0x33e349(0xba);continue;case'12':document[_0x33e349(0x298)](_0x33e349(0x338))['innerText']=isRegisterMode?_0x38aad7[_0x33e349(0x264)]:_0x33e349(0x248);continue;}break;}}function previewAvatar(){const _0x4403db=_0x5085cb,_0x52b504={'HYGVc':_0x4403db(0x275),'QCppS':_0x4403db(0x1a2),'bNgfy':_0x4403db(0x13c)},_0x597ad4=document[_0x4403db(0x298)](_0x52b504[_0x4403db(0x1f5)]);if(!_0x597ad4[_0x4403db(0x25f)][_0x4403db(0x95)])return;const _0x19e8a8=new FileReader();_0x19e8a8[_0x4403db(0x253)]=()=>{const _0x3b6b73=_0x4403db;document[_0x3b6b73(0x298)](_0x52b504[_0x3b6b73(0xab)])[_0x3b6b73(0x31b)]=_0x19e8a8[_0x3b6b73(0x79)],document[_0x3b6b73(0x298)](_0x52b504[_0x3b6b73(0xab)])['style'][_0x3b6b73(0x358)]=_0x52b504[_0x3b6b73(0xe3)];},_0x19e8a8[_0x4403db(0x340)](_0x597ad4[_0x4403db(0x25f)][0x0]);}async function sendVerificationCode(){const _0x380533=_0x5085cb,_0xfaea75={'hNgNU':_0x380533(0x7b),'itZUe':_0x380533(0x137),'QjuWv':_0x380533(0x26a),'jdmje':_0x380533(0x2f0),'IJZiQ':_0x380533(0x1a2),'lXiEO':function(_0x55d4b1,_0xdba375){return _0x55d4b1+_0xdba375;},'bjNlN':function(_0x3dc1bf,_0x4212fb){return _0x3dc1bf*_0x4212fb;},'TtqmD':_0x380533(0x262),'XRdKV':'template_uadxvmp','xtshP':function(_0xaf1137,_0x14a8ad){return _0xaf1137(_0x14a8ad);},'AOgto':_0x380533(0x173),'UNuIM':_0x380533(0x29b)},_0x21bb14=document[_0x380533(0x298)](_0xfaea75[_0x380533(0x1ce)])['value']['trim'](),_0x3acb86=document[_0x380533(0x298)](_0xfaea75[_0x380533(0x2e3)])['value']['trim'](),_0x399bde=document['getElementById'](_0xfaea75['QjuWv']);_0x399bde[_0x380533(0x1b4)][_0x380533(0x358)]=_0x380533(0xba);if(!_0x21bb14||!_0x3acb86){_0x399bde['innerText']=_0xfaea75[_0x380533(0x217)],_0x399bde[_0x380533(0x1b4)][_0x380533(0x358)]=_0xfaea75[_0x380533(0x1d4)];return;}const _0x2e6c0e=Math[_0x380533(0x359)](_0xfaea75['lXiEO'](0x186a0,_0xfaea75[_0x380533(0xdd)](Math[_0x380533(0x34f)](),0xdbba0)))[_0x380533(0x27e)]();lastVerificationCode=_0x2e6c0e;try{await emailjs[_0x380533(0xa2)](_0xfaea75['TtqmD'],_0xfaea75[_0x380533(0x251)],{'to_email':_0x21bb14,'to_name':_0x3acb86,'message':_0x2e6c0e},'c1EG9jBJFQSM_dFHY'),_0xfaea75['xtshP'](alert,_0xfaea75[_0x380533(0x243)]),document[_0x380533(0x298)](_0x380533(0xbc))[_0x380533(0x1b4)]['display']=_0xfaea75[_0x380533(0x1d4)];}catch(_0x8ba06){_0x399bde[_0x380533(0x102)]=_0xfaea75['UNuIM'],_0x399bde['style'][_0x380533(0x358)]=_0xfaea75[_0x380533(0x1d4)],console[_0x380533(0x16a)](_0x8ba06);}}async function submitAuth(){const _0x39ecda=_0x5085cb,_0x2a2f05={'kGYWH':'authPassword','rBJPg':_0x39ecda(0x242),'qPYAE':_0x39ecda(0xbc),'EgoHJ':'authError','SkWNZ':_0x39ecda(0xba),'SHHBw':function(_0x38adf3,_0x48f085){return _0x38adf3||_0x48f085;},'GwDcp':_0x39ecda(0x1a2),'jqgST':function(_0x5a3839,_0x2870fd){return _0x5a3839!==_0x2870fd;},'KaBXe':'Passwords\x20do\x20not\x20match.','xliBj':function(_0x10d522,_0x50efbd){return _0x10d522!==_0x50efbd;},'WobGr':function(_0x3512b1,_0x5e5804){return _0x3512b1(_0x5e5804);},'ELmrz':function(_0x34520d,_0x389cf9){return _0x34520d+_0x389cf9;},'VcHCG':function(_0x3542dc){return _0x3542dc();},'vjMWU':_0x39ecda(0x137),'aMMmo':_0x39ecda(0xd7),'tuOHR':function(_0x256be3,_0x49b388){return _0x256be3(_0x49b388);},'cwCtX':_0x39ecda(0x2f8),'ObHbn':_0x39ecda(0x180)},_0x1ddb37=document[_0x39ecda(0x298)](_0x39ecda(0x7b))[_0x39ecda(0x304)][_0x39ecda(0x154)](),_0x486c62=document[_0x39ecda(0x298)](_0x39ecda(0x137))[_0x39ecda(0x304)]['trim'](),_0x2b346b=document['getElementById'](_0x2a2f05[_0x39ecda(0x94)])[_0x39ecda(0x304)][_0x39ecda(0x154)](),_0x3aaae7=document['getElementById'](_0x2a2f05[_0x39ecda(0x2eb)])['value'][_0x39ecda(0x154)](),_0x1982a1=document[_0x39ecda(0x298)](_0x2a2f05[_0x39ecda(0x2c8)])['value'][_0x39ecda(0x154)](),_0x183854=document[_0x39ecda(0x298)](_0x2a2f05[_0x39ecda(0x12e)]);_0x183854[_0x39ecda(0x1b4)]['display']=_0x2a2f05[_0x39ecda(0x191)];if(isRegisterMode){if(_0x2a2f05[_0x39ecda(0x308)](!_0x1ddb37,!_0x486c62)||!_0x2b346b||!_0x3aaae7||!_0x1982a1){_0x183854[_0x39ecda(0x102)]='Fill\x20all\x20fields.',_0x183854['style'][_0x39ecda(0x358)]=_0x2a2f05[_0x39ecda(0x1e9)];return;}if(_0x2a2f05['jqgST'](_0x2b346b,_0x3aaae7)){_0x183854[_0x39ecda(0x102)]=_0x2a2f05['KaBXe'],_0x183854[_0x39ecda(0x1b4)][_0x39ecda(0x358)]=_0x2a2f05[_0x39ecda(0x1e9)];return;}if(_0x2a2f05[_0x39ecda(0x115)](_0x1982a1,lastVerificationCode)){_0x183854['innerText']=_0x39ecda(0x1ea),_0x183854[_0x39ecda(0x1b4)][_0x39ecda(0x358)]=_0x2a2f05[_0x39ecda(0x1e9)];return;}try{const _0x13de37=await firebase[_0x39ecda(0xc5)]()[_0x39ecda(0x13d)](_0x1ddb37,_0x2b346b),_0x3edba3=_0x13de37['user'],_0x37c1bc=_0x2a2f05[_0x39ecda(0x1ac)](sanitizeUsername,_0x486c62);await db[_0x39ecda(0x164)](_0x2a2f05['ELmrz']('users/',_0x37c1bc))[_0x39ecda(0x113)]({'username':_0x486c62,'email':_0x1ddb37,'createdAt':Date[_0x39ecda(0x34a)]()}),await firebase[_0x39ecda(0xc5)]()['signOut'](),alert(_0x39ecda(0x11c)),_0x2a2f05[_0x39ecda(0x1b5)](toggleAuthMode);}catch(_0xab5c9f){_0x183854[_0x39ecda(0x102)]=_0xab5c9f[_0x39ecda(0x218)],_0x183854[_0x39ecda(0x1b4)][_0x39ecda(0x358)]=_0x39ecda(0x1a2);}}else{const _0x2d00ad=document[_0x39ecda(0x298)](_0x2a2f05[_0x39ecda(0xf8)])[_0x39ecda(0x304)][_0x39ecda(0x154)]();if(_0x2a2f05[_0x39ecda(0x308)](!_0x2d00ad,!_0x2b346b)){_0x183854[_0x39ecda(0x102)]=_0x2a2f05[_0x39ecda(0x209)],_0x183854[_0x39ecda(0x1b4)][_0x39ecda(0x358)]=_0x39ecda(0x1a2);return;}try{const _0x5d85b6=await db[_0x39ecda(0x164)](_0x2a2f05[_0x39ecda(0x296)](_0x39ecda(0x1c6),_0x2a2f05['tuOHR'](sanitizeUsername,_0x2d00ad)))[_0x39ecda(0xa7)]();if(!_0x5d85b6[_0x39ecda(0x2b5)]())throw new Error(_0x2a2f05[_0x39ecda(0x123)]);const _0x454ccc=_0x5d85b6[_0x39ecda(0x290)]()['email'],_0x42f9a6=await firebase[_0x39ecda(0xc5)]()['signInWithEmailAndPassword'](_0x454ccc,_0x2b346b),_0xba543=_0x42f9a6[_0x39ecda(0x21a)];if(!_0xba543[_0x39ecda(0x14b)]){await firebase['auth']()['signOut']();throw new Error(_0x2a2f05[_0x39ecda(0x1a3)]);}username=_0x2d00ad,startAfterAuth();}catch(_0x412ad0){_0x183854['innerText']=_0x412ad0[_0x39ecda(0x218)],_0x183854[_0x39ecda(0x1b4)]['display']=_0x2a2f05['GwDcp'];}}}async function saveNewUser(_0x3d271e,_0x3913d2,_0x326ef5,_0x1b73f7,_0x555101){const _0x4e9151=_0x5085cb,_0x5920fb={'pEjIQ':function(_0x3fdd4b,_0x2f3084){return _0x3fdd4b(_0x2f3084);},'zbsfh':'user','ZiLTy':function(_0x10e5de,_0x4d2a33){return _0x10e5de||_0x4d2a33;},'rXvdG':function(_0x2ca97e,_0x36b2a8){return _0x2ca97e||_0x36b2a8;},'TMnVK':function(_0x507903){return _0x507903();}},_0x5367f8=db[_0x4e9151(0x164)](_0x4e9151(0x1f4)+_0x5920fb[_0x4e9151(0x34e)](sanitizeUsername,_0x3d271e)),_0x58c795={'username':_0x3d271e,'passwordHash':_0x3913d2,'role':_0x5920fb['zbsfh'],'deviceId':_0x326ef5,'description':_0x5920fb[_0x4e9151(0x110)](_0x555101,''),'avatarBase64':_0x5920fb[_0x4e9151(0x205)](_0x1b73f7,''),'usernameHistory':[_0x3d271e],'lastChanged':Date[_0x4e9151(0x34a)]()};await _0x5367f8[_0x4e9151(0x113)](_0x58c795),username=_0x3d271e,_0x1b73f7=_0x58c795[_0x4e9151(0x30a)],userDescription=_0x58c795[_0x4e9151(0x2d5)],_0x5920fb[_0x4e9151(0x254)](startAfterAuth);}async function startAfterAuth(){const _0x420887=_0x5085cb,_0x31097d={'MBBfT':function(_0x32123c,_0x32e816){return _0x32123c(_0x32e816);},'OMxmV':_0x420887(0x16f),'dlFWG':function(_0x487735){return _0x487735();},'Pwfhd':_0x420887(0x206)},_0x4efe6a=_0x31097d[_0x420887(0x35c)](sanitizeUsername,username),_0x19a3a7=db[_0x420887(0x164)]('auth/'+_0x4efe6a),_0x25f9c3=await _0x19a3a7[_0x420887(0xa7)]();if(_0x25f9c3['exists']()){const _0x39a686=_0x25f9c3[_0x420887(0x290)]();username=_0x39a686[_0x420887(0xcc)],userDescription=_0x39a686[_0x420887(0x2d5)]||'',avatarBase64=_0x39a686[_0x420887(0x30a)]||'',role=_0x39a686['role']||_0x420887(0x21a);if(avatarBase64){const _0xff5104=document[_0x420887(0x298)](_0x31097d[_0x420887(0xef)]);_0xff5104[_0x420887(0x31b)]=_0x420887(0x32a)+avatarBase64,_0xff5104['style']['display']=_0x420887(0x1a2);}}else console[_0x420887(0x339)]('User\x20profile\x20not\x20found\x20in\x20auth\x20database.');await _0x31097d[_0x420887(0x1cb)](loadRoomRoles),document[_0x420887(0x298)](_0x31097d[_0x420887(0x2dd)])[_0x420887(0x102)]=username,_0x31097d['MBBfT'](showScreen,'roomChoiceScreen');}function toggleRecording(){const _0x32ea3a=_0x5085cb,_0x3904f0={'soJhV':'[Voice\x20message]','zOfGS':_0x32ea3a(0x9e),'cUDOL':_0x32ea3a(0x89),'gZMve':function(_0x46d4df,_0x13e9bd,_0x145177){return _0x46d4df(_0x13e9bd,_0x145177);},'opUuA':function(_0x51a530,_0x216889){return _0x51a530(_0x216889);}};isRecording?stopRecording():navigator[_0x32ea3a(0x1d0)][_0x32ea3a(0x99)]({'audio':!![]})['then'](_0x126d4f=>{const _0x30fd3b=_0x32ea3a,_0x4a0ac8={'eMxXP':function(_0x395829){return _0x395829();}};mediaRecorder=new MediaRecorder(_0x126d4f),mediaRecorder[_0x30fd3b(0x201)](),isRecording=!![],document[_0x30fd3b(0x298)](_0x3904f0['cUDOL'])[_0x30fd3b(0x102)]='⏹️',audioChunks=[],mediaRecorder[_0x30fd3b(0x116)]=_0x1060be=>audioChunks['push'](_0x1060be['data']),mediaRecorder[_0x30fd3b(0xe7)]=()=>{const _0x4f1b22=_0x30fd3b,_0x5bc8ff={'DYOti':_0x3904f0['soJhV']};clearTimeout(recordingTimer);const _0x2a16a1=new Blob(audioChunks,{'type':_0x3904f0[_0x4f1b22(0x10d)]}),_0x136cd3=new FileReader();_0x136cd3[_0x4f1b22(0x253)]=()=>{const _0x253837=_0x4f1b22,_0x2cec25=_0x136cd3[_0x253837(0x79)][_0x253837(0x29f)](',')[0x1],_0x512625=db['ref']()[_0x253837(0x106)]()[_0x253837(0x2bd)];db[_0x253837(0x164)](_0x253837(0x120)+roomCode+'/messages/'+_0x512625)['set']({'msg':_0x5bc8ff[_0x253837(0x28d)],'audioBase64':_0x2cec25,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x136cd3[_0x4f1b22(0x340)](_0x2a16a1);},recordingTimer=_0x3904f0[_0x30fd3b(0x2b0)](setTimeout,()=>{mediaRecorder&&isRecording&&_0x4a0ac8['eMxXP'](stopRecording);},0x4e20);})['catch'](_0x405e9a=>{const _0x1da503=_0x32ea3a;_0x3904f0[_0x1da503(0x1a8)](alert,_0x1da503(0x27a));});}function stopRecording(){const _0x1260d5=_0x5085cb,_0x5b1090={'UfOYd':_0x1260d5(0x89),'txnzC':_0x1260d5(0x30d)};mediaRecorder&&isRecording&&(mediaRecorder[_0x1260d5(0x2e1)](),isRecording=![],document['getElementById'](_0x5b1090[_0x1260d5(0x78)])[_0x1260d5(0x102)]=_0x5b1090['txnzC']);}window['onload']=async()=>{const _0x3bb51e=_0x5085cb,_0x57a50f={'JMirc':function(_0x598727){return _0x598727();},'LFPHU':function(_0x208b79){return _0x208b79();},'KJgcV':function(_0x47a8d7){return _0x47a8d7();},'kxLQH':function(_0x1da955){return _0x1da955();},'GuCvC':function(_0x4bf211,_0x3c8d5a){return _0x4bf211===_0x3c8d5a;},'uqxFd':_0x3bb51e(0x30e),'NBGcF':function(_0x2d444f,_0x435aa1){return _0x2d444f(_0x435aa1);},'acksB':'authScreen'};_0x57a50f[_0x3bb51e(0x15e)](cleanupOldRooms),_0x57a50f[_0x3bb51e(0x1e4)](setupSidebarBackHandler),_0x57a50f[_0x3bb51e(0x17f)](setupVisibilityAttention),_0x57a50f[_0x3bb51e(0x1aa)](resetWebsiteData);const _0x2b0ccd=localStorage[_0x3bb51e(0x224)](_0x3bb51e(0x86));notificationsEnabled=_0x57a50f[_0x3bb51e(0x231)](_0x2b0ccd,_0x57a50f['uqxFd']),isRegisterMode=![],_0x57a50f[_0x3bb51e(0x1e4)](toggleAuthMode),_0x57a50f['NBGcF'](showScreen,_0x57a50f[_0x3bb51e(0x286)]);};function sanitizeUsername(_0x5240b0){const _0x246118=_0x5085cb;return _0x5240b0[_0x246118(0x175)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x16f0c4=_0x5085cb,_0x3b7331={'Tgiiz':_0x16f0c4(0x165),'BjXtD':_0x16f0c4(0x2d3),'Npoxi':_0x16f0c4(0x206),'bRwZC':_0x16f0c4(0x1e5),'MqMeb':function(_0x175ca9,_0xdbdd80){return _0x175ca9(_0xdbdd80);},'EfMEB':'❌\x20Username\x20already\x20taken.','vTkXo':_0x16f0c4(0x1a2),'lzrrW':_0x16f0c4(0x300),'XxFkC':_0x16f0c4(0x1eb),'kjnaB':_0x16f0c4(0x27f),'lboBR':_0x16f0c4(0x322),'KhNoB':_0x16f0c4(0xb8),'mLngL':function(_0x3f3199,_0x561b96){return _0x3f3199||_0x561b96;},'pAWQL':_0x16f0c4(0x111),'GcOdC':function(_0x2cf312,_0x184c62){return _0x2cf312(_0x184c62);},'rlltt':_0x16f0c4(0x304)},_0x38c546=document[_0x16f0c4(0x298)](_0x3b7331[_0x16f0c4(0x8b)])[_0x16f0c4(0x304)][_0x16f0c4(0x154)](),_0x2c4d1f=document[_0x16f0c4(0x298)](_0x3b7331[_0x16f0c4(0x33b)])[_0x16f0c4(0x304)][_0x16f0c4(0x154)](),_0x329bf3=document[_0x16f0c4(0x298)](_0x3b7331['KhNoB']);if(_0x3b7331[_0x16f0c4(0x2fe)](!_0x38c546,!_0x2c4d1f)){_0x329bf3[_0x16f0c4(0x102)]=_0x3b7331[_0x16f0c4(0x7d)],_0x329bf3[_0x16f0c4(0x1b4)][_0x16f0c4(0x358)]=_0x3b7331[_0x16f0c4(0x35f)];return;}const _0xcf6ada=_0x3b7331[_0x16f0c4(0x1c2)](sanitizeUsername,_0x38c546),_0x473fd6=db['ref'](_0x16f0c4(0x330)+_0xcf6ada);_0x473fd6[_0x16f0c4(0x1b8)](_0x3b7331[_0x16f0c4(0x122)])[_0x16f0c4(0x101)](_0x1b868e=>{const _0x30df7e=_0x16f0c4,_0x4e9ef8={'ilKHT':_0x3b7331['Tgiiz'],'FLfqf':_0x3b7331[_0x30df7e(0x355)],'gufvI':_0x3b7331[_0x30df7e(0x35b)],'yFHXk':_0x3b7331[_0x30df7e(0x30f)],'IPsSQ':function(_0x211c3b,_0x38c96c){const _0x882b14=_0x30df7e;return _0x3b7331[_0x882b14(0x109)](_0x211c3b,_0x38c96c);}};if(_0x1b868e[_0x30df7e(0x2b5)]())_0x329bf3[_0x30df7e(0x102)]=_0x3b7331[_0x30df7e(0x14c)],_0x329bf3['style']['display']=_0x3b7331[_0x30df7e(0x35f)];else{const _0xe506db={'username':_0x38c546,'description':_0x2c4d1f,'lastChanged':Date[_0x30df7e(0x34a)](),'usernameHistory':[_0x38c546]};_0x473fd6[_0x30df7e(0x113)](_0xe506db,_0x18d29c=>{const _0xaae359=_0x30df7e;if(_0x18d29c)console[_0xaae359(0x16a)](_0x4e9ef8['ilKHT'],_0x18d29c),_0x329bf3['innerText']=_0xaae359(0x1fa),_0x329bf3[_0xaae359(0x1b4)]['display']=_0xaae359(0x1a2);else{const _0x2e62b3=_0x4e9ef8['FLfqf'][_0xaae359(0x29f)]('|');let _0x48fb29=0x0;while(!![]){switch(_0x2e62b3[_0x48fb29++]){case'0':username=_0x38c546;continue;case'1':document[_0xaae359(0x298)](_0x4e9ef8[_0xaae359(0x1b1)])['innerText']=_0x38c546;continue;case'2':localStorage[_0xaae359(0x241)](_0xaae359(0x21b),_0x38c546);continue;case'3':localStorage[_0xaae359(0x241)](_0x4e9ef8[_0xaae359(0xfc)],_0x2c4d1f);continue;case'4':_0x4e9ef8[_0xaae359(0xa8)](showScreen,_0xaae359(0x1c0));continue;}break;}}});}})['catch'](_0x7a37a8=>{const _0x35cf2c=_0x16f0c4;console[_0x35cf2c(0x16a)](_0x3b7331[_0x35cf2c(0x1c4)],_0x7a37a8),_0x329bf3['innerText']=_0x3b7331['XxFkC'],_0x329bf3['style']['display']=_0x3b7331[_0x35cf2c(0x35f)];});}function saveProfile(_0x18e3c0,_0x5e2893,_0x39600f){const _0x3b5354=_0x5085cb,_0x10313e={'QaIHn':_0x3b5354(0x206),'Wbqqu':function(_0x204704,_0x35058b){return _0x204704(_0x35058b);},'TxCmR':_0x3b5354(0x1c0)},_0x1aa6b8=Date[_0x3b5354(0x34a)](),_0x3589b6=[_0x18e3c0];db[_0x3b5354(0x164)](_0x3b5354(0x330)+_0x39600f)['set']({'username':_0x18e3c0,'description':_0x5e2893,'lastChanged':_0x1aa6b8,'usernameHistory':_0x3589b6}),document[_0x3b5354(0x298)](_0x10313e[_0x3b5354(0x150)])['innerText']=_0x18e3c0,_0x10313e['Wbqqu'](showScreen,_0x10313e[_0x3b5354(0x28a)]);}function generateRoom(){const _0x12ea56=_0x5085cb,_0x89b15e={'KcBmG':function(_0x28034c){return _0x28034c();},'owRwh':function(_0x12961d,_0x41d102){return _0x12961d+_0x41d102;},'PPhGv':_0x12ea56(0x120),'MYJlb':function(_0x4c5d4d){return _0x4c5d4d();}};roomCode=_0x89b15e[_0x12ea56(0x2ba)](genRoomCode),db[_0x12ea56(0x164)](_0x89b15e[_0x12ea56(0x1b9)](_0x89b15e['PPhGv'],roomCode))[_0x12ea56(0x113)]({'active':!![],'created':Date['now']()}),_0x89b15e['MYJlb'](startChat);}function joinRoom(){const _0x33cd25=_0x5085cb,_0xb08534={'IdTTy':function(_0x327538,_0x95196d){return _0x327538!==_0x95196d;},'mPtcB':function(_0x2cbae1){return _0x2cbae1();},'HZzZQ':function(_0x42f5fd,_0x2dc5d0){return _0x42f5fd(_0x2dc5d0);},'pvVaW':_0x33cd25(0x15c),'ebJQR':'roomCodeInput','BKaCl':'Enter\x20a\x20valid\x20room\x20code','RmWpQ':_0x33cd25(0x1cf),'PbUtn':function(_0x53a0d8,_0x170eb4){return _0x53a0d8+_0x170eb4;},'BGZuI':_0x33cd25(0x120)},_0x19a78b=roomCode||document['getElementById'](_0xb08534['ebJQR'])[_0x33cd25(0x304)]['trim']()[_0x33cd25(0x1b3)]();if(!_0x19a78b)return _0xb08534[_0x33cd25(0x23c)](alert,_0xb08534[_0x33cd25(0x1c1)]);roomCode=_0x19a78b;if(roomCode===STATIC_ROOM){_0xb08534[_0x33cd25(0x23c)](showScreen,_0xb08534[_0x33cd25(0x315)]);return;}db[_0x33cd25(0x164)](_0xb08534[_0x33cd25(0x184)](_0xb08534[_0x33cd25(0x1b6)],roomCode))[_0x33cd25(0xa7)]()[_0x33cd25(0x101)](_0x12bb16=>{const _0x4f0145=_0x33cd25;_0x12bb16[_0x4f0145(0x2b5)]()&&_0xb08534['IdTTy'](_0x12bb16[_0x4f0145(0x290)]()[_0x4f0145(0x29c)],![])?_0xb08534[_0x4f0145(0x1e7)](startChat):_0xb08534[_0x4f0145(0x23c)](alert,_0xb08534[_0x4f0145(0xdc)]);});}async function startChat(){const _0x2a1ee0=_0x5085cb,_0xe4b323={'bSHOi':function(_0x3474f0,_0x297396){return _0x3474f0===_0x297396;},'ODfKI':_0x2a1ee0(0x25e),'KoMDt':function(_0x5de82e,_0x3f837b){return _0x5de82e===_0x3f837b;},'SGjPi':_0x2a1ee0(0x354),'RcoOW':_0x2a1ee0(0x85),'tuOAv':function(_0x27b5d6){return _0x27b5d6();},'iDOtu':'announcementArea','mGAvJ':function(_0x13c297,_0x3cd4f7){return _0x13c297(_0x3cd4f7);},'KMzqo':function(_0x505fe0,_0x484db6){return _0x505fe0(_0x484db6);},'yxrAj':'Failed\x20to\x20register\x20user\x20into\x20room.','IDqQe':'roomChoiceScreen','aGrAN':_0x2a1ee0(0x16f),'qcVfO':function(_0x3d8662,_0x353ffe){return _0x3d8662+_0x353ffe;},'mVrYl':_0x2a1ee0(0x32a),'ddkFr':_0x2a1ee0(0x1a2),'ouzoD':function(_0x3e3099,_0x1f23a5){return _0x3e3099(_0x1f23a5);},'tqhFE':'roomDisplay','ltkvR':_0x2a1ee0(0xa3),'TgCKM':_0x2a1ee0(0x1e0),'nGkSn':_0x2a1ee0(0xbd),'EITSK':_0x2a1ee0(0x9b),'dlzQw':function(_0x18ffca){return _0x18ffca();},'dESLn':function(_0x49f351){return _0x49f351();},'rHmOy':function(_0x3cf521){return _0x3cf521();},'ZowXq':_0x2a1ee0(0x1d5),'tedDw':_0x2a1ee0(0xc5),'WkXRx':function(_0x147a8a,_0x4356f2){return _0x147a8a||_0x4356f2;},'HQshe':function(_0xb0d3ce,_0x41bb80){return _0xb0d3ce(_0x41bb80);},'WWFXi':_0x2a1ee0(0x337),'ozQAg':function(_0x557de3){return _0x557de3();},'gQqZQ':function(_0x564833){return _0x564833();}};if(_0xe4b323[_0x2a1ee0(0x182)](!roomCode,!username))return _0xe4b323['HQshe'](alert,_0xe4b323['WWFXi']),showScreen('roomChoiceScreen');_0xe4b323[_0x2a1ee0(0x2bf)](listenForPauseState),_0xe4b323[_0x2a1ee0(0x327)](listenForUserList),await _0xe4b323[_0x2a1ee0(0x274)](loadRoomRoles),listenForAnnouncement();const _0x2e3f34=sanitizeUsername(username),_0x173299=db[_0x2a1ee0(0x164)](_0x2a1ee0(0x1c6)+roomCode+'/'+_0x2e3f34),_0x3fff52={'username':username,'online':!![],'lastOnline':firebase[_0x2a1ee0(0xcb)][_0x2a1ee0(0xf1)]['TIMESTAMP']};_0x173299['set'](_0x3fff52,_0x3b11f3=>{const _0x4dce4e=_0x2a1ee0,_0x2b1d6f={'lLdas':_0xe4b323[_0x4dce4e(0x2f5)],'pqOvR':function(_0x597dd0,_0x38ed9d){const _0x1b74b2=_0x4dce4e;return _0xe4b323[_0x1b74b2(0x1fb)](_0x597dd0,_0x38ed9d);},'TVftI':function(_0x473f11){return _0x473f11();}};if(_0x3b11f3)return _0xe4b323[_0x4dce4e(0xa1)](alert,_0xe4b323[_0x4dce4e(0xe2)]),_0xe4b323['KMzqo'](showScreen,_0xe4b323['IDqQe']);const _0xb89798=document['getElementById'](_0xe4b323[_0x4dce4e(0x183)]);avatarBase64&&(_0xb89798[_0x4dce4e(0x31b)]=_0xe4b323[_0x4dce4e(0x1dd)](_0xe4b323['mVrYl'],avatarBase64),_0xb89798['style']['display']=_0xe4b323['ddkFr']);document[_0x4dce4e(0x298)]('userDisplay')[_0x4dce4e(0x195)]=username+'\x20'+_0xe4b323[_0x4dce4e(0x2c3)](getRoleTag,_0x2e3f34),document[_0x4dce4e(0x298)](_0xe4b323['tqhFE'])[_0x4dce4e(0x102)]=roomCode===STATIC_ROOM?_0xe4b323[_0x4dce4e(0x9d)]:roomCode,_0xe4b323[_0x4dce4e(0x1d1)](updateAnnouncementVisibility);const _0x56145c=db[_0x4dce4e(0x164)]()[_0x4dce4e(0x106)]()[_0x4dce4e(0x2bd)];db['ref']('rooms/'+roomCode+_0x4dce4e(0x19c)+_0x56145c)[_0x4dce4e(0x113)]({'msg':username+'\x20is\x20online','sender':_0xe4b323[_0x4dce4e(0x10f)],'senderId':_0x4dce4e(0x1e0),'timestamp':Date[_0x4dce4e(0x34a)]()}),_0xe4b323[_0x4dce4e(0xa1)](showScreen,_0xe4b323['nGkSn']),document[_0x4dce4e(0x298)](_0x4dce4e(0x2a9))[_0x4dce4e(0x11d)](_0xe4b323[_0x4dce4e(0xe1)],_0x4bf268=>{const _0x464311=_0x4dce4e;_0xe4b323[_0x464311(0xf3)](_0x4bf268[_0x464311(0x343)],0x3)&&(_0xe4b323[_0x464311(0xf3)](role,_0xe4b323[_0x464311(0x1f1)])||_0xe4b323[_0x464311(0x261)](role,_0xe4b323[_0x464311(0x166)]))&&(confirm(_0xe4b323[_0x464311(0x260)])&&db[_0x464311(0x164)]('rooms/'+roomCode+'/announcement')[_0x464311(0x31e)]()[_0x464311(0x101)](()=>{const _0x4d072f=_0x464311;document[_0x4d072f(0x298)](_0x2b1d6f[_0x4d072f(0x345)])[_0x4d072f(0x102)]='';}));}),_0xe4b323['tuOAv'](listenForMessages),_0xe4b323['tuOAv'](listenForTyping),_0xe4b323[_0x4dce4e(0x327)](startInactivityTimer),_0xe4b323[_0x4dce4e(0x1d1)](trackPresence),_0xe4b323[_0x4dce4e(0x10b)](watchProfileChanges),_0xe4b323[_0x4dce4e(0x196)](watchMuteStatus),_0xe4b323[_0x4dce4e(0x327)](startSidebarSyncLoop);const _0x1e04e3=()=>{const _0x5564ac=_0x4dce4e;_0xe4b323[_0x5564ac(0x1d1)](loadRoomRoles)[_0x5564ac(0x101)](()=>{const _0x12589d=_0x5564ac;_0x2b1d6f[_0x12589d(0x2f7)](renderUserLists,roomUsers),_0x2b1d6f[_0x12589d(0x82)](updateAnnouncementVisibility);});};db[_0x4dce4e(0x164)](_0x4dce4e(0xc5))['on'](_0xe4b323['ZowXq'],_0x1e04e3),db['ref'](_0xe4b323[_0x4dce4e(0x293)])['on']('child_added',_0x1e04e3);});}function updateAnnouncementVisibility(){const _0x2e890a=_0x5085cb,_0x53a673={'cgYCe':function(_0x4c89fc,_0x2a0d08){return _0x4c89fc===_0x2a0d08;},'MRAIk':'admin','mkVzC':function(_0x2cb1ef,_0x31a827){return _0x2cb1ef===_0x31a827;},'nXRiB':'dev'},_0x4dd0a7=document[_0x2e890a(0x298)](_0x2e890a(0x312));_0x53a673['cgYCe'](role,_0x53a673['MRAIk'])||_0x53a673['mkVzC'](role,_0x53a673[_0x2e890a(0x1f2)])?_0x4dd0a7[_0x2e890a(0x1b4)][_0x2e890a(0x358)]=_0x2e890a(0x1a2):_0x4dd0a7['style'][_0x2e890a(0x358)]=_0x2e890a(0xba);}function watchProfileChanges(){const _0x1a7100=_0x5085cb,_0xec8595={'lgEUn':_0x1a7100(0x21a),'BdWHX':_0x1a7100(0x16f),'OjiSj':function(_0x22be20,_0x551371){return _0x22be20+_0x551371;},'BzKMv':_0x1a7100(0x32a),'ReODX':'block','IHfch':function(_0x185ff7,_0x38a32f){return _0x185ff7(_0x38a32f);}},_0x344a7c=_0xec8595[_0x1a7100(0x236)](sanitizeUsername,username);db[_0x1a7100(0x164)]('auth/'+_0x344a7c)['on']('value',_0x2c8c7e=>{const _0x403df5=_0x1a7100;if(!_0x2c8c7e['exists']())return;const _0x3c8067=_0x2c8c7e['val']();userDescription=_0x3c8067[_0x403df5(0x2d5)]||'',avatarBase64=_0x3c8067['avatarBase64']||'',role=_0x3c8067[_0x403df5(0x7c)]||_0xec8595[_0x403df5(0x13b)];if(avatarBase64){const _0x5f5142=document['getElementById'](_0xec8595[_0x403df5(0x1f9)]);!_0x5f5142['src'][_0x403df5(0x81)](avatarBase64)&&(_0x5f5142['src']=_0xec8595[_0x403df5(0x213)](_0xec8595['BzKMv'],avatarBase64),_0x5f5142[_0x403df5(0x1b4)][_0x403df5(0x358)]=_0xec8595['ReODX']);}_0xec8595[_0x403df5(0x236)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x2565da){const _0x1ef22f=_0x5085cb,_0x2aaa8f={'yCrOM':function(_0x459b15,_0x47374f){return _0x459b15<_0x47374f;},'kMILK':_0x1ef22f(0x357),'mjRLJ':function(_0x5d9115,_0xc02b6a){return _0x5d9115>_0xc02b6a;},'tNMyf':function(_0x456bce,_0x2c7e12){return _0x456bce*_0x2c7e12;},'HscoO':function(_0x3b2125,_0x56317c){return _0x3b2125(_0x56317c);},'ifGTi':_0x1ef22f(0x2ad)},_0x4e7a57=Date[_0x1ef22f(0x34a)]();if(_0x2aaa8f['yCrOM'](_0x4e7a57-lastImageTime,0x2710)){alert(_0x2aaa8f['kMILK']);return;}lastImageTime=_0x4e7a57;const _0x990900=_0x2565da[_0x1ef22f(0x25f)][0x0];if(!_0x990900||_0x2aaa8f[_0x1ef22f(0x2a1)](_0x990900[_0x1ef22f(0x341)],_0x2aaa8f['tNMyf'](0x2,0x400)*0x400)){_0x2aaa8f[_0x1ef22f(0x157)](alert,_0x2aaa8f[_0x1ef22f(0x16e)]);return;}const _0x6ed0ee=new FileReader();_0x6ed0ee[_0x1ef22f(0x253)]=()=>{const _0x198041=_0x1ef22f,_0xb390a1=_0x6ed0ee['result'][_0x198041(0x29f)](',')[0x1],_0x8d372a=db[_0x198041(0x164)]()[_0x198041(0x106)]()[_0x198041(0x2bd)];db[_0x198041(0x164)](_0x198041(0x120)+roomCode+_0x198041(0x19c)+_0x8d372a)[_0x198041(0x113)]({'imageBase64':_0xb390a1,'sender':username,'senderId':clientId,'timestamp':Date[_0x198041(0x34a)]()});},_0x6ed0ee['readAsDataURL'](_0x990900);}async function fetchProfile(_0x1b0caf){const _0x31b5e1=_0x5085cb,_0x4e37f0=await db[_0x31b5e1(0x164)](_0x31b5e1(0x1f4)+_0x1b0caf)['get']();if(!_0x4e37f0[_0x31b5e1(0x2b5)]())return null;return _0x4e37f0[_0x31b5e1(0x290)]();}function validateStaticRoomPassword(){const _0x589e64=_0x5085cb,_0x30a015={'RRdSv':_0x589e64(0x1be),'GrORp':function(_0x5f5b26){return _0x5f5b26();},'cqKzC':_0x589e64(0x21c),'nUHhz':'Incorrect\x20password','qFYsX':_0x589e64(0x186),'aJnvx':function(_0x11d1b3,_0x569e08){return _0x11d1b3(_0x569e08);},'UsYzD':_0x589e64(0xf6)},_0x12b1d9=document[_0x589e64(0x298)](_0x30a015[_0x589e64(0x96)])['value'][_0x589e64(0x154)]();if(!_0x12b1d9){_0x30a015[_0x589e64(0x20c)](alert,_0x30a015['UsYzD']);return;}db[_0x589e64(0x164)](_0x589e64(0x2ce)+STATIC_ROOM)[_0x589e64(0xa7)]()[_0x589e64(0x101)](_0xdfd8b8=>{const _0x3d3ee9=_0x589e64;if(!_0xdfd8b8[_0x3d3ee9(0x2b5)]()){alert(_0x30a015[_0x3d3ee9(0xd9)]);return;}const _0xe4a01f=_0xdfd8b8[_0x3d3ee9(0x290)]();_0x12b1d9===_0xe4a01f?(roomCode=STATIC_ROOM,_0x30a015[_0x3d3ee9(0x301)](startChat)):(document[_0x3d3ee9(0x298)](_0x30a015[_0x3d3ee9(0x25a)])[_0x3d3ee9(0x102)]=_0x30a015[_0x3d3ee9(0x12c)],document[_0x3d3ee9(0x298)](_0x30a015[_0x3d3ee9(0x25a)])[_0x3d3ee9(0x1b4)][_0x3d3ee9(0x358)]=_0x3d3ee9(0x1a2));})[_0x589e64(0x8f)](_0x33cd3e=>{const _0x18d5bb=_0x589e64;console[_0x18d5bb(0x16a)](_0x33cd3e),alert(_0x18d5bb(0xa4));});}function listenForPauseState(){const _0x5a44b6=_0x5085cb,_0x4a4b86={'QdeRX':function(_0x448989,_0x40974b){return _0x448989===_0x40974b;},'REqxx':'pausedOverlay','NxfMP':'block','GAwXq':_0x5a44b6(0xba)};db['ref'](_0x5a44b6(0x2df)+roomCode+_0x5a44b6(0x17c))['on']('value',_0x5d91a4=>{const _0x9b29aa=_0x5a44b6,_0x190eaf=_0x5d91a4['exists']()&&_0x4a4b86[_0x9b29aa(0x361)](_0x5d91a4[_0x9b29aa(0x290)](),!![]);document[_0x9b29aa(0x298)](_0x4a4b86[_0x9b29aa(0xc2)])['style'][_0x9b29aa(0x358)]=_0x190eaf?_0x4a4b86[_0x9b29aa(0x335)]:_0x4a4b86['GAwXq'];});}const spamTimestamps=[];async function sendMessage(){const _0x40668d=_0x5085cb,_0xc9a759={'eiSKg':'Type\x20a\x20message...','bOasC':function(_0x342814,_0x5c32bd){return _0x342814(_0x5c32bd);},'VSQSN':function(_0x3f931b,_0x12a8b1){return _0x3f931b===_0x12a8b1;},'rKDFD':_0x40668d(0x24f),'kWHDg':function(_0x37e3ba,_0x4e1df9){return _0x37e3ba(_0x4e1df9);},'VgwAq':function(_0x4f0fb3,_0x3467b0){return _0x4f0fb3===_0x3467b0;},'jmmEe':function(_0x14a0fa,_0x1ae12c){return _0x14a0fa!==_0x1ae12c;},'ZxPJd':_0x40668d(0x354),'GdPIT':_0x40668d(0x1a0),'cUfIy':function(_0x1127e7,_0x4edd20){return _0x1127e7||_0x4edd20;},'mskJt':function(_0x2672de,_0x158c1e){return _0x2672de(_0x158c1e);},'zEKbx':'⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','LzhXZ':function(_0x418362,_0x1d66e2,_0x1fd92f){return _0x418362(_0x1d66e2,_0x1fd92f);},'rvLSD':_0x40668d(0x210),'vIrtj':_0x40668d(0x232),'cMHNr':_0x40668d(0x2d7)},_0x52b951=await db[_0x40668d(0x164)](_0x40668d(0x2df)+roomCode+_0x40668d(0x17c))['get'](),_0x32873d=await db['ref'](_0x40668d(0x1e2)+roomCode+'/'+_0xc9a759['bOasC'](sanitizeUsername,username))[_0x40668d(0xa7)]();if(_0x32873d[_0x40668d(0x2b5)]()){const _0x4ed9f9=_0x32873d[_0x40668d(0x290)](),_0x221faa=_0xc9a759[_0x40668d(0x2e0)](typeof _0x4ed9f9,_0xc9a759[_0x40668d(0xf2)])&&_0x4ed9f9[_0x40668d(0xfa)]?_0x4ed9f9[_0x40668d(0xfa)]:_0x4ed9f9;if(_0x221faa>Date[_0x40668d(0x34a)]()){_0xc9a759[_0x40668d(0x351)](alert,_0x40668d(0x2f2));return;}}if(_0x52b951[_0x40668d(0x2b5)]()&&_0xc9a759[_0x40668d(0x307)](_0x52b951[_0x40668d(0x290)](),!![])&&_0xc9a759[_0x40668d(0x2cd)](role,_0xc9a759[_0x40668d(0x7a)])){alert('Room\x20is\x20currently\x20paused.');return;}const _0x1f7906=document[_0x40668d(0x298)](_0xc9a759[_0x40668d(0x88)]),_0x2cb344=_0x1f7906['value'][_0x40668d(0x154)]();if(_0xc9a759['cUfIy'](!_0x2cb344,isBlocked))return;const _0x5b63f5=Date[_0x40668d(0x34a)](),_0x1fff05=_0x2cb344[_0x40668d(0x20b)](),_0x34fd4d=swearWords[_0x40668d(0x172)](_0x47486b=>_0x1fff05[_0x40668d(0x81)](_0x47486b));if(_0x34fd4d){_0xc9a759[_0x40668d(0x2ae)](alert,_0xc9a759['zEKbx']);return;}spamTimestamps[_0x40668d(0x106)](_0x5b63f5);const _0x273763=spamTimestamps[_0x40668d(0x162)](_0xe6a6a=>_0x5b63f5-_0xe6a6a<0x1b58);if(_0x273763[_0x40668d(0x95)]>0x5){const _0x153049=_0x40668d(0x2fa)[_0x40668d(0x29f)]('|');let _0x336aa4=0x0;while(!![]){switch(_0x153049[_0x336aa4++]){case'0':isBlocked=!![];continue;case'1':return;case'2':_0x1f7906[_0x40668d(0x349)]='⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'3':_0xc9a759[_0x40668d(0x97)](setTimeout,()=>{const _0x5a16f6=_0x40668d;isBlocked=![],_0x1f7906[_0x5a16f6(0x31a)]=![],_0x1f7906[_0x5a16f6(0x349)]=_0xc9a759[_0x5a16f6(0x27b)],spamTimestamps[_0x5a16f6(0x95)]=0x0;},0x7530);continue;case'4':_0x1f7906[_0x40668d(0x31a)]=!![];continue;case'5':alert(_0xc9a759['rvLSD']);continue;}break;}}const _0x177e63=_0x2cb344['match'](/(.)\1{14,}/);if(_0x177e63){alert(_0xc9a759[_0x40668d(0x268)]);return;}const _0x440f35=localStorage[_0x40668d(0x224)](_0xc9a759[_0x40668d(0x299)])||'',_0x181ea5=db[_0x40668d(0x164)]()[_0x40668d(0x106)]()[_0x40668d(0x2bd)];db['ref']('rooms/'+roomCode+_0x40668d(0x19c)+_0x181ea5)[_0x40668d(0x113)]({'msg':_0x2cb344,'sender':username,'senderId':clientId,'avatarBase64':_0x440f35,'timestamp':_0x5b63f5}),_0x1f7906[_0x40668d(0x304)]='',sendTyping(!![]),lastActivity=_0x5b63f5;}function listenForMessages(){const _0x1e56ec=_0x5085cb,_0x283c9c={'bnnJF':function(_0x3f4b9e,_0x4a628e){return _0x3f4b9e!==_0x4a628e;},'WEXPc':function(_0x197f7){return _0x197f7();},'CQhDK':function(_0x3e65f0,_0x1f8dde){return _0x3e65f0&&_0x1f8dde;},'RMgaf':function(_0x47a70d,_0x28c9d0){return _0x47a70d===_0x28c9d0;},'FVLQy':'[Voice\x20Message]','dVhRE':_0x1e56ec(0x1ef),'iVhTF':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','rRacl':function(_0x4b6528,_0x57805f){return _0x4b6528||_0x57805f;},'LbagM':function(_0x1f0734,_0x2eb988){return _0x1f0734-_0x2eb988;},'ZfGDm':_0x1e56ec(0x304),'dNOCV':_0x1e56ec(0x152)},_0x187941=db[_0x1e56ec(0x164)](_0x1e56ec(0x120)+roomCode+_0x1e56ec(0x21d)),_0x263de6=_0x187941[_0x1e56ec(0xaf)](MAX_MESSAGES);userListReady=!![],_0x263de6['on']('child_added',_0x5e6f1a=>{const _0x1abef0=_0x1e56ec,_0x4f263d=_0x5e6f1a[_0x1abef0(0x290)](),{senderId:_0x5afd0a}=_0x4f263d,_0x196b06=_0x5afd0a===clientId;if(!userListReady){pendingMessages['forEach'](({data:_0x243e48,sent:_0x3ed83c,key:_0x559929})=>{addMessage(_0x243e48,_0x3ed83c,_0x559929);}),pendingMessages=[];return;}const _0x337d65=_0x4f263d[_0x1abef0(0xd8)]||null,_0x267de7=_0x4f263d[_0x1abef0(0x272)]||null;addMessage(_0x4f263d,_0x196b06,_0x5e6f1a[_0x1abef0(0x2bd)]);if(_0x283c9c[_0x1abef0(0x346)](roomCode,STATIC_ROOM)&&_0x4f263d[_0x1abef0(0x19f)]!==_0x1abef0(0x1e0)){}!_0x196b06&&(sound[_0x1abef0(0x93)](),_0x283c9c[_0x1abef0(0x2b6)](flagPageAttention));if(_0x283c9c[_0x1abef0(0x9a)](notificationsEnabled,!_0x196b06)&&_0x283c9c['RMgaf'](Notification[_0x1abef0(0x2fb)],_0x1abef0(0x31f))){const _0x571503=_0x4f263d[_0x1abef0(0x2b2)]||(_0x4f263d['audioBase64']?_0x283c9c['FVLQy']:_0x4f263d[_0x1abef0(0x2c6)]?_0x1abef0(0x25b):_0x283c9c[_0x1abef0(0xdb)]);new Notification(_0x1abef0(0x2be)+_0x4f263d[_0x1abef0(0x19f)],{'body':_0x571503,'icon':_0x283c9c[_0x1abef0(0x2d9)]});}}),_0x187941[_0x1e56ec(0x1b8)](_0x283c9c[_0x1e56ec(0xad)])[_0x1e56ec(0x101)](_0x37d4f5=>{const _0x50966b=_0x1e56ec,_0x592122=_0x37d4f5[_0x50966b(0x290)](),_0x51230d=Object[_0x50966b(0x1f7)](_0x283c9c[_0x50966b(0x147)](_0x592122,{}));if(_0x51230d[_0x50966b(0x95)]>MAX_MESSAGES){const _0x161634=_0x283c9c['LbagM'](_0x51230d[_0x50966b(0x95)],MAX_MESSAGES),_0x1a22cc=_0x51230d[_0x50966b(0x2bc)]((_0x4968f0,_0x5c6566)=>_0x592122[_0x4968f0]['timestamp']-_0x592122[_0x5c6566][_0x50966b(0x225)])['slice'](0x0,_0x161634);_0x1a22cc[_0x50966b(0x270)](_0x33ec31=>{const _0x348db6=_0x50966b;db[_0x348db6(0x164)]('rooms/'+roomCode+'/messages/'+_0x33ec31)[_0x348db6(0x31e)]();});}}),db['ref'](_0x1e56ec(0x120)+roomCode+'/messages')['on'](_0x283c9c[_0x1e56ec(0xf0)],_0x2a26eb=>{const _0x446bde=_0x1e56ec,_0x56fa05=_0x2a26eb[_0x446bde(0x2bd)],_0x40816e=document[_0x446bde(0x328)](_0x446bde(0x2a3)+_0x56fa05+'\x22]');if(_0x40816e)_0x40816e[_0x446bde(0x31e)]();});}function stackNotification(_0x425305,_0x525766){const _0xac2456=_0x5085cb,_0x24ec41={'LRVHb':function(_0x46f137,_0x213172,_0x362a5){return _0x46f137(_0x213172,_0x362a5);}};notificationStack[_0xac2456(0x106)]({'sender':_0x425305,'content':_0x525766}),clearTimeout(notificationTimer),notificationTimer=_0x24ec41['LRVHb'](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x331a1f=_0x5085cb,_0x26a84d={'YXmsH':'New\x20Chat\x20Message','Mulvw':_0x331a1f(0x20d),'WNVAf':'granted','DSYKm':function(_0x30a3cd,_0x1bf359){return _0x30a3cd||_0x1bf359;},'wJbSb':'unknown','dMgTP':function(_0x8f591d,_0x12d65b){return _0x8f591d===_0x12d65b;}};if(!notificationStack[_0x331a1f(0x95)]||Notification[_0x331a1f(0x2fb)]!==_0x26a84d[_0x331a1f(0x28e)])return;const _0x4000e1=[...new Set(notificationStack['map'](_0x3e2d30=>_0x3e2d30[_0x331a1f(0x19f)]))],_0x472532=_0x26a84d[_0x331a1f(0x33f)](roomCode,_0x26a84d[_0x331a1f(0x252)]),_0x218293=_0x26a84d[_0x331a1f(0x1d2)](_0x4000e1['length'],0x1)?_0x331a1f(0x194)+_0x4000e1[0x0]+_0x331a1f(0x1c9)+_0x472532+':\x20'+notificationStack[0x0][_0x331a1f(0x26e)]:_0x331a1f(0x220)+_0x4000e1[_0x331a1f(0x107)](',\x20')+_0x331a1f(0x1c9)+_0x472532;setTimeout(()=>{const _0x779aae=_0x331a1f;new Notification(_0x26a84d[_0x779aae(0x1a9)],{'body':_0x218293,'icon':_0x26a84d[_0x779aae(0xcf)]});},0x64);}async function addMessage(_0x10f36a,_0x2cbc20,_0xd9cbdf=null){const _0x22ecbd=_0x5085cb,_0x2c0e93={'PYhzZ':function(_0x5b6dfa,_0x4f8150){return _0x5b6dfa-_0x4f8150;},'BiXFG':function(_0x1a2bab,_0x3ee2a1,_0x4fa941){return _0x1a2bab(_0x3ee2a1,_0x4fa941);},'LiNQi':_0x22ecbd(0x16c),'DHDss':_0x22ecbd(0xed),'EgFfF':_0x22ecbd(0x159),'EpdBV':_0x22ecbd(0x2c1),'GJScm':_0x22ecbd(0x14f),'VmAxU':_0x22ecbd(0x19a),'DyQjL':function(_0xfdc579,_0x57ce83){return _0xfdc579(_0x57ce83);},'ybSoS':_0x22ecbd(0xfd),'anfqi':function(_0xe08f4f,_0x95c45d,_0x2fbc2f){return _0xe08f4f(_0x95c45d,_0x2fbc2f);},'cyjOx':function(_0x1618fd,_0x477e15){return _0x1618fd===_0x477e15;},'mrHVu':function(_0x166e09,_0x19175a){return _0x166e09(_0x19175a);},'Cnbct':_0x22ecbd(0x178),'CzaRL':_0x22ecbd(0x1e0),'YgTlZ':_0x22ecbd(0xbb),'yGRLo':'0.8rem','SAFHN':_0x22ecbd(0x229),'egyKM':_0x22ecbd(0x197),'tpkpg':_0x22ecbd(0x316),'icSAp':'msg','DMDNp':'received','rPUoE':'relative','XbNXR':'2-digit','lQLOW':_0x22ecbd(0x208),'OPmJH':_0x22ecbd(0x192),'OXGhk':_0x22ecbd(0x10e),'bcKQW':_0x22ecbd(0xba),'VOwlo':_0x22ecbd(0x136),'XCmdw':'#222','HqNAK':_0x22ecbd(0x2fd),'mHknc':_0x22ecbd(0x265),'AjVPK':'0px','FpkCz':_0x22ecbd(0xd0),'TKPaP':_0x22ecbd(0x19d),'rUctQ':_0x22ecbd(0x33d),'fImSZ':'grid','CIByx':_0x22ecbd(0x278),'iguEm':_0x22ecbd(0x26c),'uzdDR':'mouseleave','EgwDi':_0x22ecbd(0x163),'KJXJG':'touchend','JNUpj':'value','oTqHS':'dev','MZGcO':_0x22ecbd(0x25e),'KQoYp':_0x22ecbd(0x259),'OBuuT':_0x22ecbd(0x9b)},{msg:_0x24f754,sender:_0x27abec,senderId:_0x294877,timestamp:_0x2cb02d,audioUrl:_0x4c3eeb,audioBase64:_0x5e9a83,imageBase64:_0xb73d6}=_0x10f36a,_0x42c11f=_0x2c0e93[_0x22ecbd(0x77)](sanitizeUsername,_0x27abec),_0x5e9581=document[_0x22ecbd(0x1e1)](_0x2c0e93['Cnbct']);if(_0x10f36a[_0x22ecbd(0x19f)]===_0x2c0e93[_0x22ecbd(0x181)]){const _0x32e7b6=document[_0x22ecbd(0x1e1)](_0x22ecbd(0x178));_0x32e7b6[_0x22ecbd(0x108)]=_0x2c0e93[_0x22ecbd(0x24c)],_0x32e7b6[_0x22ecbd(0x26b)][_0x22ecbd(0x18d)]=_0xd9cbdf||_0x10f36a[_0x22ecbd(0x225)],_0x32e7b6[_0x22ecbd(0x26b)]['timestamp']=_0x10f36a['timestamp'],_0x32e7b6['style']['textAlign']=_0x2c0e93['EgFfF'],_0x32e7b6[_0x22ecbd(0x1b4)][_0x22ecbd(0x18b)]=_0x2c0e93[_0x22ecbd(0x128)],_0x32e7b6[_0x22ecbd(0x1b4)][_0x22ecbd(0x222)]=_0x2c0e93[_0x22ecbd(0x170)],_0x32e7b6[_0x22ecbd(0x1b4)][_0x22ecbd(0x125)]=_0x2c0e93[_0x22ecbd(0x313)],_0x32e7b6['innerText']=_0x10f36a[_0x22ecbd(0x2b2)];const _0x5d4bfc=document[_0x22ecbd(0x298)](_0x2c0e93[_0x22ecbd(0x189)]);_0x5d4bfc[_0x22ecbd(0x216)](_0x32e7b6);const _0x39b831=Array[_0x22ecbd(0x226)](_0x5d4bfc[_0x22ecbd(0x7f)]);_0x39b831[_0x22ecbd(0x2bc)]((_0x2a8a1a,_0xbc106c)=>{const _0x12f25b=_0x22ecbd;return _0x2c0e93[_0x12f25b(0x193)](+_0x2a8a1a[_0x12f25b(0x26b)][_0x12f25b(0x225)]||0x0,+_0xbc106c['dataset'][_0x12f25b(0x225)]||0x0);}),_0x5d4bfc[_0x22ecbd(0x195)]='',_0x39b831['forEach'](_0x329bbd=>_0x5d4bfc[_0x22ecbd(0x216)](_0x329bbd)),_0x5d4bfc[_0x22ecbd(0xc0)]=_0x5d4bfc[_0x22ecbd(0x309)];return;}_0x5e9581[_0x22ecbd(0x30c)][_0x22ecbd(0x23b)](_0x2c0e93[_0x22ecbd(0x1a7)],_0x2cbc20?'sent':_0x2c0e93['DMDNp']),_0x5e9581[_0x22ecbd(0x1b4)][_0x22ecbd(0x1ab)]=_0x2c0e93[_0x22ecbd(0x2b1)];_0xd9cbdf&&(_0x5e9581[_0x22ecbd(0x26b)]['msgId']=_0xd9cbdf);const _0x23f248=new Date(_0x2cb02d)[_0x22ecbd(0xac)]([],{'hour':_0x2c0e93[_0x22ecbd(0x273)],'minute':_0x2c0e93[_0x22ecbd(0x273)]}),_0x2a390c=_0x2c0e93[_0x22ecbd(0x77)](getRoleTag,_0x42c11f),_0x54cb9c=await _0x2c0e93[_0x22ecbd(0x190)](fetchAvatar,_0x42c11f),_0xac605d=_0x54cb9c?_0x22ecbd(0x9f)+_0x54cb9c+_0x22ecbd(0x1bc):'',_0x4ca0fc=_0xac605d+'<span\x20class=\x22sender-name\x22>'+_0x27abec+'\x20'+_0x2a390c+'</span>',_0x576574=_0x24f754?.[_0x22ecbd(0x175)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x2a8fad=_0x4ca0fc+'<br>';if(_0x4c3eeb)_0x2a8fad+=_0x22ecbd(0x2aa)+_0x4c3eeb+_0x22ecbd(0x118);else{if(_0x5e9a83){const _0x2c7031=_0x22ecbd(0xeb)+_0x5e9a83;_0x2a8fad+=_0x22ecbd(0x2aa)+_0x2c7031+_0x22ecbd(0x118);}else{if(_0xb73d6){const _0x260561='data:image/png;base64,'+_0xb73d6;_0x2a8fad+=_0x22ecbd(0x1dc)+_0x260561+_0x22ecbd(0x23a);}else{const _0x4ebba6=_0x576574['replace'](/(https?:\/\/[^\s]+)/g,_0x45442c=>{const _0x42bd72=_0x22ecbd;return'<a\x20href=\x22'+_0x45442c+_0x42bd72(0x2e4)+_0x45442c+_0x42bd72(0x2b4);});_0x2a8fad+=_0x22ecbd(0x174)+_0x4ebba6+_0x22ecbd(0x132);}}}_0x2a8fad+=_0x22ecbd(0x13e)+_0x23f248+_0x22ecbd(0x18c),_0x5e9581[_0x22ecbd(0x195)]=_0x2a8fad;const _0x32ad4a=document[_0x22ecbd(0x1e1)](_0x2c0e93[_0x22ecbd(0x104)]);_0x32ad4a[_0x22ecbd(0x108)]=_0x22ecbd(0x12d),_0x32ad4a[_0x22ecbd(0x1b4)][_0x22ecbd(0x314)]=_0x2c0e93['lQLOW'],_0x32ad4a[_0x22ecbd(0x1b4)][_0x22ecbd(0x18b)]=_0x2c0e93['OPmJH'],_0x5e9581['appendChild'](_0x32ad4a);const _0x23fe32=document[_0x22ecbd(0x1e1)](_0x2c0e93[_0x22ecbd(0x104)]);_0x23fe32[_0x22ecbd(0x108)]=_0x2c0e93[_0x22ecbd(0xe4)];const _0x549b7f=['❤️','😂','😮','😢','👎','💀','🤯'];_0x23fe32[_0x22ecbd(0x195)]=_0x549b7f[_0x22ecbd(0x20f)](_0x550b22=>_0x22ecbd(0x247)+_0x550b22+'</button>')['join'](''),_0x23fe32['style'][_0x22ecbd(0x358)]=_0x2c0e93['bcKQW'],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x1ab)]=_0x2c0e93[_0x22ecbd(0x22f)],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x18e)]=_0x2c0e93[_0x22ecbd(0x2bb)],_0x23fe32['style'][_0x22ecbd(0x256)]=_0x22ecbd(0xee),_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x306)]=_0x2c0e93[_0x22ecbd(0x2d4)],_0x23fe32['style'][_0x22ecbd(0x18b)]=_0x2c0e93['mHknc'],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x1bf)]=_0x22ecbd(0x8a),_0x23fe32['style'][_0x22ecbd(0x324)]=_0x2c0e93['AjVPK'],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x1d9)]='10',_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x2c7)]=_0x2c0e93[_0x22ecbd(0x2cb)],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x266)]=_0x2c0e93['TKPaP'],_0x23fe32['style'][_0x22ecbd(0x263)]=_0x2c0e93['rUctQ'],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x358)]=_0x2c0e93['fImSZ'],_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x100)]=_0x22ecbd(0x133),_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x179)]='4px',_0x23fe32[_0x22ecbd(0x1b4)][_0x22ecbd(0x332)]=_0x2c0e93[_0x22ecbd(0x1b0)],Array['from'](_0x23fe32[_0x22ecbd(0x7f)])[_0x22ecbd(0x270)](_0x4019bb=>{const _0x180078=_0x22ecbd;_0x4019bb['style'][_0x180078(0x2e7)]=_0x2c0e93[_0x180078(0x1ca)],_0x4019bb['onclick']=_0x72a912=>{const _0x524804=_0x180078;_0x72a912[_0x524804(0x1a6)]();const _0x67e1aa=_0x4019bb[_0x524804(0x283)];_0x2c0e93[_0x524804(0x28f)](reactToMessage,_0xd9cbdf,_0x67e1aa);};}),Array['from'](_0x23fe32[_0x22ecbd(0x7f)])['forEach'](_0x146200=>{const _0x1258db=_0x22ecbd,_0x570c5d=_0x2c0e93[_0x1258db(0x31d)][_0x1258db(0x29f)]('|');let _0x176b36=0x0;while(!![]){switch(_0x570c5d[_0x176b36++]){case'0':_0x146200[_0x1258db(0x1b4)]['justifyContent']=_0x2c0e93[_0x1258db(0x20a)];continue;case'1':_0x146200[_0x1258db(0x1b4)][_0x1258db(0x18b)]=_0x2c0e93[_0x1258db(0x2a0)];continue;case'2':_0x146200[_0x1258db(0x1b4)][_0x1258db(0x127)]=_0x2c0e93[_0x1258db(0x2a6)];continue;case'3':_0x146200[_0x1258db(0x1b4)][_0x1258db(0x358)]=_0x2c0e93[_0x1258db(0xe5)];continue;case'4':_0x146200[_0x1258db(0x1b4)][_0x1258db(0x334)]=_0x2c0e93['GJScm'];continue;case'5':_0x146200[_0x1258db(0x1b4)][_0x1258db(0x141)]=_0x1258db(0x159);continue;}break;}}),_0x5e9581[_0x22ecbd(0x216)](_0x23fe32),_0x23fe32['style'][_0x22ecbd(0x358)]=_0x2c0e93[_0x22ecbd(0x2a5)];let _0x2d15e7;_0x5e9581[_0x22ecbd(0x11d)](_0x2c0e93['iguEm'],()=>{const _0x59330b=_0x22ecbd;_0x2d15e7=_0x2c0e93[_0x59330b(0x28f)](setTimeout,()=>{const _0x33abe5=_0x59330b;_0x23fe32[_0x33abe5(0x1b4)][_0x33abe5(0x358)]=_0x33abe5(0xfd);},0x5dc);}),_0x5e9581[_0x22ecbd(0x11d)](_0x2c0e93['uzdDR'],()=>{const _0x49a165=_0x22ecbd;_0x2c0e93[_0x49a165(0x190)](clearTimeout,_0x2d15e7),_0x23fe32[_0x49a165(0x1b4)][_0x49a165(0x358)]=_0x49a165(0xba);});let _0x594e2b;_0x5e9581[_0x22ecbd(0x11d)](_0x2c0e93[_0x22ecbd(0x15d)],()=>{const _0x183cbc=_0x22ecbd,_0x134841={'lQsQh':_0x2c0e93[_0x183cbc(0xc1)]};_0x594e2b=_0x2c0e93['anfqi'](setTimeout,()=>{const _0x3a58b8=_0x183cbc;_0x23fe32[_0x3a58b8(0x1b4)][_0x3a58b8(0x358)]=_0x134841['lQsQh'];},0x5dc);}),_0x5e9581['addEventListener'](_0x2c0e93['KJXJG'],()=>clearTimeout(_0x594e2b));_0xd9cbdf&&db[_0x22ecbd(0x164)](_0x22ecbd(0x120)+roomCode+_0x22ecbd(0x19c)+_0xd9cbdf+_0x22ecbd(0x80))['on'](_0x2c0e93[_0x22ecbd(0xb1)],_0x68926d=>{const _0x39a43e=_0x22ecbd;if(!_0x68926d[_0x39a43e(0x2b5)]()){_0x32ad4a['innerHTML']='';return;}const _0x4b105f=_0x68926d[_0x39a43e(0x290)]();let _0x10dc05='';Object[_0x39a43e(0x167)](_0x4b105f)[_0x39a43e(0x270)](([_0x5a54aa,_0x14df76])=>{const _0x5ecb0a=_0x39a43e;Array['isArray'](_0x14df76)&&_0x14df76[_0x5ecb0a(0x95)]>0x0&&(_0x10dc05+=_0x5ecb0a(0x103)+_0x5a54aa+'\x20'+_0x14df76[_0x5ecb0a(0x95)]+_0x5ecb0a(0x1fc));}),_0x32ad4a[_0x39a43e(0x195)]=_0x10dc05;});if([_0x2c0e93[_0x22ecbd(0x2ff)],_0x2c0e93['MZGcO'],_0x2c0e93[_0x22ecbd(0x22d)]][_0x22ecbd(0x81)](role)){let _0x198ebe=0x0;_0x5e9581[_0x22ecbd(0x11d)](_0x2c0e93[_0x22ecbd(0x117)],()=>{const _0x2231b4=_0x22ecbd;_0x198ebe++,_0x2c0e93['cyjOx'](_0x198ebe,0x3)&&(confirm(_0x2231b4(0x258))&&(db[_0x2231b4(0x164)]('rooms/'+roomCode+_0x2231b4(0x19c)+_0xd9cbdf)['remove'](),_0x5e9581['remove']())),setTimeout(()=>_0x198ebe=0x0,0x5dc);});}const _0x47e080=document[_0x22ecbd(0x298)](_0x2c0e93[_0x22ecbd(0x189)]);_0x47e080[_0x22ecbd(0x216)](_0x5e9581),_0x47e080[_0x22ecbd(0xc0)]=_0x47e080['scrollHeight'];}function cleanupOldRooms(){const _0x2e2207=_0x5085cb,_0x285d1d={'srbyj':function(_0x1d4198,_0xc1dc15){return _0x1d4198!==_0xc1dc15;},'CPCbO':function(_0x4f98d8,_0x3af811){return _0x4f98d8>_0x3af811;},'kMOeM':function(_0x43699f,_0x5319de){return _0x43699f-_0x5319de;},'xxtep':function(_0x73a5f7,_0x2ab581){return _0x73a5f7*_0x2ab581;},'eKDkU':function(_0x4d5dd1,_0x5d0737){return _0x4d5dd1*_0x5d0737;},'Rqzrt':_0x2e2207(0x10a),'sArek':_0x2e2207(0x114),'nrHFM':'value','bKbPJ':_0x2e2207(0x91)};db[_0x2e2207(0x164)](_0x285d1d['bKbPJ'])[_0x2e2207(0x1b8)](_0x285d1d['nrHFM'])[_0x2e2207(0x101)](_0x57e075=>{const _0x1c7ed7=_0x2e2207,_0x1df8ce=_0x57e075[_0x1c7ed7(0x290)]();if(!_0x1df8ce)return;const _0x5422e0=Date['now']();for(const _0x4e498e in _0x1df8ce){if(_0x4e498e===STATIC_ROOM)continue;const _0x5b3ab4=_0x1df8ce[_0x4e498e];_0x285d1d[_0x1c7ed7(0x2ef)](_0x285d1d[_0x1c7ed7(0x129)](_0x5422e0,_0x5b3ab4[_0x1c7ed7(0x130)]||0x0),_0x285d1d[_0x1c7ed7(0x288)](_0x285d1d[_0x1c7ed7(0x202)](0x2,0x3c),0x3e8))&&db[_0x1c7ed7(0x164)](_0x1c7ed7(0x120)+_0x4e498e)[_0x1c7ed7(0x31e)]();}db[_0x1c7ed7(0x164)](_0x285d1d['Rqzrt'])['once']('value')[_0x1c7ed7(0x101)](_0x4667d3=>{const _0x118e17=_0x1c7ed7,_0x9da866=_0x4667d3[_0x118e17(0x290)]();if(!_0x9da866)return;for(const _0x74223a in _0x9da866){if(_0x285d1d[_0x118e17(0x35d)](_0x74223a,STATIC_ROOM))db[_0x118e17(0x164)](_0x118e17(0x1a4)+_0x74223a)[_0x118e17(0x31e)]();}}),db[_0x1c7ed7(0x164)](_0x285d1d[_0x1c7ed7(0x171)])[_0x1c7ed7(0x1b8)](_0x285d1d[_0x1c7ed7(0x198)])[_0x1c7ed7(0x101)](_0x4cd476=>{const _0x2b69be=_0x1c7ed7,_0xe843f0=_0x4cd476[_0x2b69be(0x290)]();if(!_0xe843f0)return;for(const _0x2910b3 in _0xe843f0){if(_0x285d1d[_0x2b69be(0x35d)](_0x2910b3,STATIC_ROOM))db[_0x2b69be(0x164)](_0x2b69be(0x287)+_0x2910b3)[_0x2b69be(0x31e)]();}});});}document[_0x5085cb(0x11d)](_0x5085cb(0x235),()=>{const _0x4c7bc2=_0x5085cb,_0x39dec5={'gsLwt':function(_0x26d339,_0x5e72eb){return _0x26d339===_0x5e72eb;},'bQUrz':function(_0x406771){return _0x406771();},'JrxSK':'msgInput'},_0x4d887a=document[_0x4c7bc2(0x298)](_0x39dec5['JrxSK']);_0x4d887a&&_0x4d887a['addEventListener'](_0x4c7bc2(0x1c7),function(_0x1746a2){const _0x454cbf=_0x4c7bc2;_0x39dec5[_0x454cbf(0x214)](_0x1746a2[_0x454cbf(0x2bd)],'Enter')&&(_0x1746a2[_0x454cbf(0x24e)](),_0x39dec5['bQUrz'](sendMessage));});});function showScreen(_0x53969f){const _0x17c026=_0x5085cb,_0x2f240b={'kDbpV':'none','Ozctq':_0x17c026(0x1c0),'ktGgF':_0x17c026(0x1bd),'QLhdq':_0x17c026(0xbd),'YKNcQ':_0x17c026(0x1cf),'goLMj':_0x17c026(0x219),'xRITS':'editProfileScreen','OPpnh':'flex'};[_0x17c026(0x19e),_0x2f240b[_0x17c026(0x348)],_0x2f240b[_0x17c026(0x1e8)],_0x2f240b['QLhdq'],_0x2f240b['YKNcQ'],_0x17c026(0x19b),_0x17c026(0x2cf),_0x2f240b[_0x17c026(0x168)],_0x2f240b[_0x17c026(0x212)]][_0x17c026(0x270)](_0xcaccbc=>{const _0x2b245a=_0x17c026;document[_0x2b245a(0x298)](_0xcaccbc)[_0x2b245a(0x1b4)][_0x2b245a(0x358)]=_0x2f240b[_0x2b245a(0xb2)];}),document['getElementById'](_0x53969f)[_0x17c026(0x1b4)][_0x17c026(0x358)]=_0x2f240b[_0x17c026(0x2ec)];}function genRoomCode(){const _0x4c08bb=_0x5085cb,_0x47f6ef={'ZSUek':_0x4c08bb(0x31c),'NIbxs':'0123456789','pDYUq':function(_0x3ce224,_0x130cf5){return _0x3ce224+_0x130cf5;},'OrkUy':function(_0x38640a,_0x5c2ae5){return _0x38640a+_0x5c2ae5;},'PWStP':function(_0x1dfc06,_0x280b30){return _0x1dfc06+_0x280b30;},'LPOXn':function(_0x409221,_0x2a13dc,_0x5fded3){return _0x409221(_0x2a13dc,_0x5fded3);},'lSJci':function(_0x21cd1a,_0x9af70d,_0x3d736f){return _0x21cd1a(_0x9af70d,_0x3d736f);}},_0x18b40d=_0x47f6ef[_0x4c08bb(0xaa)],_0x27f97e=_0x47f6ef[_0x4c08bb(0x27d)],_0x29a716=(_0x5f38be,_0x48d0c9)=>Array[_0x4c08bb(0x226)]({'length':_0x48d0c9},()=>_0x5f38be[Math['floor'](Math[_0x4c08bb(0x34f)]()*_0x5f38be['length'])])[_0x4c08bb(0x107)]('');return _0x47f6ef[_0x4c08bb(0x153)](_0x47f6ef[_0x4c08bb(0x2dc)](_0x47f6ef['PWStP'](_0x29a716(_0x27f97e,0x3),_0x29a716(_0x18b40d,0x3)),_0x47f6ef[_0x4c08bb(0x142)](_0x29a716,_0x27f97e,0x2)),_0x47f6ef[_0x4c08bb(0x145)](_0x29a716,_0x18b40d,0x2));}function startInactivityTimer(){const _0x3d7e84=_0x5085cb,_0x2c0a2e={'BQygJ':function(_0x2f786c,_0x56a403){return _0x2f786c>_0x56a403;},'cBsZa':function(_0xba17a3,_0x4e6c98){return _0xba17a3-_0x4e6c98;},'bfjOh':function(_0x49ab02,_0x5c9c9c){return _0x49ab02*_0x5c9c9c;},'oUUdX':function(_0x4ba752,_0x22e47b){return _0x4ba752+_0x22e47b;},'rxALm':_0x3d7e84(0x120),'KpnGO':_0x3d7e84(0x1c3)};setInterval(()=>{const _0x537f38=_0x3d7e84;_0x2c0a2e[_0x537f38(0x1bb)](_0x2c0a2e['cBsZa'](Date['now'](),lastActivity),_0x2c0a2e[_0x537f38(0x1db)](0x5,0x3c)*0x3e8)&&roomCode!==STATIC_ROOM&&(db[_0x537f38(0x164)](_0x2c0a2e[_0x537f38(0x369)](_0x2c0a2e[_0x537f38(0x17a)],roomCode))['update']({'active':![]}),alert(_0x2c0a2e[_0x537f38(0x28b)]),location[_0x537f38(0x187)]());},0x7530);}function setupSidebarBackHandler(){const _0x176448=_0x5085cb,_0x447a21={'iAjXd':_0x176448(0x289),'gCDqG':'show'};window[_0x176448(0x11d)](_0x176448(0x1fd),()=>{const _0x4a9fbe=_0x176448,_0x4e0af0=document[_0x4a9fbe(0x298)](_0x447a21[_0x4a9fbe(0x151)]);_0x4e0af0?.['classList'][_0x4a9fbe(0x1f6)](_0x447a21['gCDqG'])&&_0x4e0af0[_0x4a9fbe(0x30c)][_0x4a9fbe(0x31e)](_0x447a21['gCDqG']);});}function toggleSidebar(){const _0x302962=_0x5085cb,_0x20be80={'NEYBs':_0x302962(0x289)},_0x38fc1f=document[_0x302962(0x298)](_0x20be80[_0x302962(0x356)]);if(!_0x38fc1f['classList'][_0x302962(0x1f6)]('show'))_0x38fc1f['classList'][_0x302962(0x23b)](_0x302962(0x22b)),history[_0x302962(0xb9)]({'sidebarOpen':!![]},'');else{_0x38fc1f[_0x302962(0x30c)][_0x302962(0x31e)]('show');if(history['state']?.[_0x302962(0x1c8)])history[_0x302962(0x1de)]();}}function setupVisibilityAttention(){const _0x2fc7f9=_0x5085cb,_0x2d75a9={'KZrEy':_0x2fc7f9(0x2f4)};let _0x4ab3ad=0x0,_0x5e9664=document['title'];document['addEventListener'](_0x2d75a9['KZrEy'],()=>{const _0x2b5e39=_0x2fc7f9;!document[_0x2b5e39(0x2f9)]&&(document['title']=_0x5e9664,_0x4ab3ad=0x0);}),window[_0x2fc7f9(0x90)]=function(){const _0x403452=_0x2fc7f9;document['hidden']&&(_0x4ab3ad++,document[_0x403452(0x36a)]='('+_0x4ab3ad+_0x403452(0x32c)+_0x5e9664);};}function tryEditProfile(){const _0x8e43c2=_0x5085cb,_0x1d2774={'ieLAq':function(_0x3c0adf,_0x465fa2){return _0x3c0adf(_0x465fa2);},'ObNTD':_0x8e43c2(0x1df)};_0x1d2774[_0x8e43c2(0x362)](showScreen,_0x1d2774[_0x8e43c2(0xfe)]);}async function submitEditProfile(){const _0x16bd1a=_0x5085cb,_0x606d7b={'tAKQm':_0x16bd1a(0x146),'vTRXp':_0x16bd1a(0x139),'tajEA':function(_0x11bc28,_0x490f84){return _0x11bc28(_0x490f84);},'YuZjs':'Profile\x20not\x20found.','mtDug':_0x16bd1a(0x1a2),'IVokJ':function(_0x4c6822,_0x48e2fc){return _0x4c6822(_0x48e2fc);},'kQLyK':function(_0x3812af,_0x4ce33b){return _0x3812af!==_0x4ce33b;},'TGuxN':function(_0x4a8e92,_0x202076){return _0x4a8e92*_0x202076;},'kjJTi':function(_0x462ac9,_0x178502){return _0x462ac9>_0x178502;},'jJGqP':_0x16bd1a(0x10c),'QIdlj':'Enter\x20your\x20new\x20username:','hlLyR':'✅\x20Profile\x20updated!\x20Please\x20reload.'},_0x4b4433=document[_0x16bd1a(0x298)](_0x16bd1a(0x2ca))[_0x16bd1a(0x304)],_0xa873de=document[_0x16bd1a(0x298)]('newPasswordInput')['value'],_0x17db46=document[_0x16bd1a(0x298)](_0x606d7b[_0x16bd1a(0x12a)])[_0x16bd1a(0x304)][_0x16bd1a(0x154)](),_0x55f273=document['getElementById'](_0x606d7b['vTRXp']);if(!_0x4b4433){_0x55f273[_0x16bd1a(0x102)]=_0x16bd1a(0x2de),_0x55f273[_0x16bd1a(0x1b4)][_0x16bd1a(0x358)]=_0x16bd1a(0x1a2);return;}const _0x45bd60=_0x606d7b[_0x16bd1a(0x23f)](sanitizeUsername,username),_0x4f1008=await db[_0x16bd1a(0x164)](_0x16bd1a(0x1f4)+_0x45bd60)['get']();if(!_0x4f1008[_0x16bd1a(0x2b5)]()){_0x55f273['innerText']=_0x606d7b[_0x16bd1a(0x1a1)],_0x55f273['style']['display']=_0x606d7b[_0x16bd1a(0x204)];return;}const _0x2c114e=_0x4f1008[_0x16bd1a(0x290)](),_0x5a4d8a=await _0x606d7b[_0x16bd1a(0x23f)](sha256,_0x4b4433);if(_0x5a4d8a!==_0x2c114e[_0x16bd1a(0x22a)]){_0x55f273['innerText']=_0x16bd1a(0x318),_0x55f273[_0x16bd1a(0x1b4)][_0x16bd1a(0x358)]=_0x606d7b[_0x16bd1a(0x204)];return;}const _0x4b1df1={};if(_0xa873de){const _0x286af5=await _0x606d7b[_0x16bd1a(0x367)](sha256,_0xa873de);_0x4b1df1[_0x16bd1a(0x22a)]=_0x286af5;}_0x606d7b[_0x16bd1a(0x160)](_0x17db46,_0x2c114e[_0x16bd1a(0x2d5)])&&(_0x4b1df1[_0x16bd1a(0x2d5)]=_0x17db46);const _0x2bdbcc=Date[_0x16bd1a(0x34a)](),_0x4abef8=_0x606d7b[_0x16bd1a(0x368)](_0x606d7b[_0x16bd1a(0x368)](0x18*0x3c,0x3c),0x3e8),_0x444af7=_0x606d7b[_0x16bd1a(0x342)](_0x2bdbcc-(_0x2c114e[_0x16bd1a(0x211)]||0x0),_0x4abef8);if(_0x444af7&&confirm(_0x606d7b[_0x16bd1a(0x28c)])){const _0x51e2d7=_0x606d7b['IVokJ'](prompt,_0x606d7b[_0x16bd1a(0x2c2)]);_0x51e2d7&&_0x51e2d7[_0x16bd1a(0x154)]()&&(_0x4b1df1['username']=_0x51e2d7['trim'](),_0x4b1df1[_0x16bd1a(0xc4)]=(_0x2c114e['usernameHistory']||[])[_0x16bd1a(0x2da)](_0x51e2d7[_0x16bd1a(0x154)]()),_0x4b1df1[_0x16bd1a(0x211)]=_0x2bdbcc);}_0x4b1df1['username']&&_0x606d7b[_0x16bd1a(0x160)](_0x4b1df1[_0x16bd1a(0xcc)],_0x2c114e['username'])?(await db[_0x16bd1a(0x164)](_0x16bd1a(0x1f4)+_0x606d7b[_0x16bd1a(0x367)](sanitizeUsername,_0x4b1df1['username']))[_0x16bd1a(0x113)]({..._0x2c114e,..._0x4b1df1}),await db[_0x16bd1a(0x164)]('auth/'+_0x45bd60)[_0x16bd1a(0x31e)](),username=_0x4b1df1['username']):await db['ref'](_0x16bd1a(0x1f4)+_0x45bd60)[_0x16bd1a(0xda)](_0x4b1df1),_0x606d7b['tajEA'](alert,_0x606d7b[_0x16bd1a(0xc6)]),location[_0x16bd1a(0x187)]();}function cancelEditProfile(){const _0x2a5966=_0x5085cb,_0x1846d0={'yRgtV':_0x2a5966(0x1df),'ULZUN':_0x2a5966(0xba),'EyNyq':'chatScreen'};document['getElementById'](_0x1846d0[_0x2a5966(0x280)])[_0x2a5966(0x1b4)][_0x2a5966(0x358)]=_0x1846d0[_0x2a5966(0x20e)],showScreen(_0x1846d0[_0x2a5966(0x25c)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x865d7f=_0x5085cb,_0x3f012d={'Izdvu':function(_0x3db3da,_0x314b83){return _0x3db3da(_0x314b83);},'JqHlB':function(_0x323184){return _0x323184();},'uQSah':function(_0x25d1d9,_0x4764ad){return _0x25d1d9(_0x4764ad);},'uqPWr':_0x865d7f(0x304)};db['ref'](_0x865d7f(0x1c6)+roomCode)['on'](_0x3f012d['uqPWr'],async _0x33c0a6=>{const _0x99cdc6=_0x865d7f;if(!_0x33c0a6[_0x99cdc6(0x2b5)]())return;const _0x13ccee=_0x33c0a6[_0x99cdc6(0x290)]();for(const _0x13b320 in previousUsers){if(!_0x13ccee[_0x13b320])_0x13ccee[_0x13b320]=previousUsers[_0x13b320];}_0x3f012d['Izdvu'](renderUserLists,_0x13ccee),previousUsers=_0x13ccee,await _0x3f012d[_0x99cdc6(0x267)](loadRoomRoles),_0x3f012d[_0x99cdc6(0x246)](renderUserLists,_0x13ccee);});}function trackPresence(){const _0x242078=_0x5085cb,_0x5dae84={'XljuS':function(_0x2794dc){return _0x2794dc();},'MvgMe':_0x242078(0x1e0),'ZDyKM':function(_0x2a089a,_0x5dbebe){return _0x2a089a||_0x5dbebe;},'NQLFF':function(_0x380b3c,_0x5ac534){return _0x380b3c(_0x5ac534);},'VHSts':function(_0xabea22,_0x4d43af){return _0xabea22||_0x4d43af;},'aXxZH':function(_0x29d1cf,_0x3211f1){return _0x29d1cf||_0x3211f1;}};if(_0x5dae84['ZDyKM'](!username,!roomCode))return;const _0x54ebea=_0x5dae84[_0x242078(0x239)](sanitizeUsername,username),_0x42d0bb=db['ref'](_0x242078(0x1c6)+roomCode+'/'+_0x54ebea),_0x5b4824={'username':username,'avatarBase64':_0x5dae84['VHSts'](avatarBase64,''),'description':_0x5dae84[_0x242078(0x221)](userDescription,''),'online':!![],'lastOnline':firebase[_0x242078(0xcb)]['ServerValue'][_0x242078(0x13a)]};_0x42d0bb[_0x242078(0x1b8)](_0x242078(0x304))[_0x242078(0x101)](_0x55d87d=>{const _0xd60d53=_0x242078,_0x289e6b=_0x55d87d[_0xd60d53(0x290)]()?.[_0xd60d53(0x1a5)];_0x42d0bb[_0xd60d53(0x113)](_0x5b4824)[_0xd60d53(0x101)](()=>{const _0xf6eff9=_0xd60d53;_0x5dae84['XljuS'](updateOnlineIndicator);if(!_0x289e6b){const _0x4c018e=db[_0xf6eff9(0x164)]()[_0xf6eff9(0x106)]()[_0xf6eff9(0x2bd)];db[_0xf6eff9(0x164)](_0xf6eff9(0x120)+roomCode+'/messages/'+_0x4c018e)[_0xf6eff9(0x113)]({'msg':username+'\x20is\x20online','sender':_0x5dae84[_0xf6eff9(0x2a8)],'senderId':_0x5dae84['MvgMe'],'timestamp':Date['now']()});}_0x42d0bb[_0xf6eff9(0x234)]()['update']({'online':![],'lastOnline':Date[_0xf6eff9(0x34a)]()});});});}function uploadSidebarAvatar(_0x403031){const _0x58c15f=_0x5085cb,_0x2d1ae8={'mwdCr':'sidebarAvatarPreview','rhdZm':_0x58c15f(0x1a2),'pmwgq':function(_0x2f182f,_0x3db0ef){return _0x2f182f(_0x3db0ef);},'hvaYw':_0x58c15f(0x2b7)};if(!_0x403031['files'][_0x58c15f(0x95)])return;const _0x551755=_0x403031['files'][0x0],_0x49d368=new FileReader();_0x49d368[_0x58c15f(0x253)]=async()=>{const _0x40275f=_0x58c15f,_0x4e9bac=_0x49d368[_0x40275f(0x79)][_0x40275f(0x29f)](',')[0x1];document[_0x40275f(0x298)](_0x40275f(0x16f))['src']=_0x49d368[_0x40275f(0x79)],document[_0x40275f(0x298)](_0x2d1ae8['mwdCr'])['style'][_0x40275f(0x358)]=_0x2d1ae8['rhdZm'];try{const _0x2d900f=_0x2d1ae8[_0x40275f(0x140)](sanitizeUsername,username);await db['ref'](_0x40275f(0x1f4)+_0x2d900f+_0x40275f(0xe6))[_0x40275f(0x113)](_0x4e9bac),_0x2d1ae8[_0x40275f(0x140)](alert,_0x2d1ae8['hvaYw']);}catch(_0x2dfaf1){console[_0x40275f(0x16a)](_0x2dfaf1),alert('⚠️\x20Failed\x20to\x20update\x20avatar.');}},_0x49d368[_0x58c15f(0x340)](_0x551755);}function muteUser(_0x1eaaf6,_0x2f6dc6){const _0x40cf49=_0x5085cb,_0x4c1ae1={'vHkqZ':function(_0x3a28ca,_0x338059){return _0x3a28ca(_0x338059);},'uRgXk':function(_0x4da6b1,_0x3fe802){return _0x4da6b1(_0x3fe802);},'nxISj':function(_0x18d52d,_0x24a009){return _0x18d52d*_0x24a009;}},_0x8fe097=Date['now']()+_0x4c1ae1[_0x40cf49(0x2c4)](_0x2f6dc6*0x3c,0x3e8);db[_0x40cf49(0x164)]('muted/'+roomCode+'/'+sanitizeUsername(_0x1eaaf6))[_0x40cf49(0x113)]({'muteUntil':_0x8fe097})['then'](()=>{const _0x497dbe=_0x40cf49;_0x4c1ae1['vHkqZ'](alert,_0x1eaaf6+_0x497dbe(0x2af)+_0x2f6dc6+'\x20minutes.'),_0x4c1ae1[_0x497dbe(0x228)](addSystemMessage,_0x1eaaf6+_0x497dbe(0x207)+_0x2f6dc6+_0x497dbe(0x310));});}function unmuteUser(_0x4e823f){const _0x28046a=_0x5085cb,_0x3d1c51={'ctDUA':function(_0x2eca5b,_0x3df29b){return _0x2eca5b(_0x3df29b);},'MGSLd':'Admins\x20only.'};if(!isRoomAdmin)return _0x3d1c51[_0x28046a(0x200)](alert,_0x3d1c51[_0x28046a(0xce)]);db[_0x28046a(0x164)](_0x28046a(0x1e2)+roomCode+'/'+sanitizeUsername(_0x4e823f))[_0x28046a(0x31e)]();}function _0x202a(){const _0x8f7517=['moderators/','[Unknown]','Enter\x20Announcement\x20Text:','ODfKI','nXRiB','shit','auth/','bNgfy','contains','keys','pausedOverlay','BdWHX','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','mGAvJ','</span>','popstate','Register','requestPermission','ctDUA','start','eKDkU','WugRc','mtDug','rXvdG','namePreview','\x20was\x20muted\x20for\x20','4px','aMMmo','EgFfF','toLowerCase','aJnvx','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','ULZUN','map','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','lastChanged','xRITS','OjiSj','gsLwt','userAgent','appendChild','jdmje','message','authScreen','user','chat_username','passwordError','/messages','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','You\x20got\x20messages\x20from\x20','aXxZH','color','EmSWX','getItem','timestamp','from','jTPwU','uRgXk','#aaa','passwordHash','show','xbxys','KQoYp','zUrPo','VOwlo','\x0aDescription:\x20','GuCvC','⚠️\x20No\x20spamming\x20allowed.','985049198428','onDisconnect','DOMContentLoaded','IHfch','0.8rem','clear','NQLFF','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','add','HZzZQ','digest','evpHZ','tajEA','FbKgv','setItem','authPasswordConfirm','AOgto','\x27)\x22>Demote</button>','fuck','uQSah','<button>','Login','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','\x20was\x20demoted','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','YgTlZ','mCwNn','preventDefault','object','byvlF','XRdKV','wJbSb','onloadend','TMnVK','authSubmitBtn','padding','mod','Delete\x20this\x20message?','moderator','cqKzC','[Image]','EyNyq','YuLlh','admin','files','RcoOW','KoMDt','service_qfnrrrl','whiteSpace','QGEyN','18px','minWidth','JqHlB','vIrtj','PphZk','authError','dataset','mouseenter','fdp','content','MONOw','forEach','adminControlsSection','audioBase64','XbNXR','gQqZQ','authAvatarPreview','initializeApp','pendejo','0\x202px\x206px\x20rgba(0,0,0,0.5)','RkbbO','Microphone\x20permission\x20denied.','eiSKg','jlMxe','NIbxs','toString','profileUsernameInput','yRgtV','aILga','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','textContent','typing/','fcrhk','acksB','antispamBlocked/','xxtep','userSidebar','TxCmR','KpnGO','jJGqP','DYOti','WNVAf','BiXFG','val','profileContent','\x27,\x201)\x22>Mute\x201m</button>','tedDw','dick','\x20was\x20promoted\x20to\x20Admin','ELmrz','textAlign','getElementById','cMHNr','AnxmK','Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.','active','inedS','Kwyjc','split','EpdBV','mjRLJ','subtle','[data-msg-id=\x22','Remove\x20Announcement?','bcKQW','GJScm','QpAhA','MvgMe','announcementArea','<audio\x20controls\x20src=\x22','Kmryk','cgZxk','❌\x20Image\x20must\x20be\x20under\x202MB','mskJt','\x20muted\x20for\x20','gZMve','rPUoE','msg','ORPFK','</a>','exists','WEXPc','✅\x20Profile\x20picture\x20updated!','2px\x20solid\x20red','ahAnD','KcBmG','XCmdw','sort','key','💬\x20','ozQAg','USRHT','20px','QIdlj','ouzoD','nxISj','</span>\x20','imageBase64','maxWidth','qPYAE','Nlpji','oldPasswordInput','FpkCz','mstgL','jmmEe','gr8stg/','profileViewer','onlineStatus','putang\x20ina','troej','2|3|0|1|4','HqNAK','description','eaJoV','avatar_base64','gTgDb','iVhTF','concat','RHGhd','OrkUy','Pwfhd','Please\x20enter\x20your\x20current\x20password.','roomStates/','VSQSN','stop','Messages\x20by\x20','itZUe','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','1806pSWZjR','121prdjgv','cursor','easy-chatroom','mute','🚫\x20Cannot\x20promote\x20Developers.','rBJPg','OPpnh','QCAwo','lYgWv','CPCbO','Enter\x20email\x20and\x20username\x20first.','NAsfZ','⛔\x20You\x20are\x20muted.','gLGzp','visibilitychange','iDOtu','wMAqs','pqOvR','Username\x20not\x20found.','hidden','0|4|2|5|3|1','permission','dkMIb','10px','mLngL','oTqHS','Error\x20checking\x20username:','GrORp','MggqE','30ewAolq','value','fsBRq','borderRadius','VgwAq','SHHBw','scrollHeight','avatarBase64','sounds/beep.mp3','classList','🎙️','true','bRwZC','\x20minutes','yMQWj','addAnnouncementBtn','egyKM','marginTop','RmWpQ','messages','bmNlJ','Incorrect\x20current\x20password.','15401148ZDzVfN','disabled','src','ABCDEFGHIJKLMNOPQRSTUVWXYZ','DHDss','remove','granted','bitch','\x20promoted\x20to\x20Admin!','profileDescriptionInput','Profile\x20not\x20found.','left','puta','leNup','dlzQw','querySelector','/announcement','data:image/png;base64,','xzNKc',')\x20New\x20message\x20•\x20','1:985049198428:web:d0eb7e2de39887710c9b99','050BBB66HH','msWFa','profiles/','nbxDh','boxShadow','GbAJk','width','NxfMP','MzKra','Missing\x20room\x20or\x20user\x20information.','authTitle','warn','</li>','lboBR','\x0aUsername\x20History:\x20','normal','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','DSYKm','readAsDataURL','size','kjJTi','detail','head','lLdas','bnnJF','hpiii','Ozctq','placeholder','now','9QLHfrb','cabron','toLocaleString','pEjIQ','random','RaZwj','kWHDg','cunt','LnnTD','dev','BjXtD','NEYBs','🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','display','floor','122TXHYHA','Npoxi','MBBfT','srbyj','POnyz','vTkXo','Xocod','QdeRX','ieLAq','qJSBz','all','106616uqUBVX','<button\x20onclick=\x22demoteUser(\x27','IVokJ','TGuxN','oUUdX','title','userOptions-','mrHVu','UfOYd','result','ZxPJd','authEmail','role','pAWQL','<button\x20onclick=\x22promoteToModerator(\x27','children','/reactions','includes','TVftI','elHVo','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','Remove\x20this\x20announcement?','notifications_enabled','CgrBB','GdPIT','recordBtn','-45px','kjnaB','geQum','gago','userList','catch','flagPageAttention','rooms','\x0aName:\x20','play','kGYWH','length','qFYsX','LzhXZ','VRzyc','getUserMedia','CQhDK','click','wXFGQ','ltkvR','audio/webm','<img\x20src=\x22data:image/png;base64,','rNoZq','KMzqo','send','No\x20room\x20code\x20available\x20for\x20private\x20rooms','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','<button\x20onclick=\x22deleteUserMessages(\x27','UiewT','get','IPsSQ','\x20is\x20typing...','ZSUek','HYGVc','toLocaleTimeString','ZfGDm','\x27)\x22>+Admin</button>','limitToLast','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','JNUpj','kDbpV','AMknY','\x27,\x205)\x22>Mute\x205m</button>','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','vDakB','AoUXf','profileError','pushState','none','system-msg','authVerificationCode','chatScreen','DyluQ','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','scrollTop','ybSoS','REqxx','\x0aLast\x20Changed:\x20','usernameHistory','auth','hlLyR','lTcGn','MikBW','1|4|2|0|3','sphTL','database','username','tangina','MGSLd','Mulvw','160px','notifToggleBtn','1152570gXJHCP','xXkAw','admins/','No\x20changes\x20yet','deleteMessage','Enter\x20username\x20and\x20password.','audioUrl','RRdSv','update','dVhRE','pvVaW','bjNlN','FJGKU','chuLK','JUAWS','EITSK','yxrAj','QCppS','OXGhk','VmAxU','/avatarBase64','onstop','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','https://easy-chatroom-default-rtdb.firebaseio.com','tevbt','data:audio/webm;base64,','5|12|3|8|6|9|10|11|2|4|1|0|7','4|2|3|5|0|1','6px','OMxmV','dNOCV','ServerValue','rKDFD','bSHOi','NiETO','\x20demoted\x20to\x20user.','Please\x20enter\x20the\x20password.','text','vjMWU','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','muteUntil','oEVit','yFHXk','inline-block','ObNTD','LlWHe','gridTemplateColumns','then','innerText','<span\x20style=\x22margin-right:6px;\x22>','Cnbct','IqJFt','push','join','className','MqMeb','antispam','dESLn','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','zOfGS','reaction-tray','TgCKM','ZiLTy','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','<button\x20onclick=\x22muteUser(\x27','set','antispamBlocked','xliBj','ondataavailable','OBuuT','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','gkWyD','qXigd','kFYaz','Account\x20created!\x20You\x20may\x20now\x20login.','addEventListener','gvGLp','496013QgAeRb','rooms/','Raran','rlltt','cwCtX','Type\x20a\x20message...','margin','\x27)\x22>Delete\x20Messages</button>','height','yGRLo','kMOeM','tAKQm','padStart','nUHhz','reaction-box','EgoHJ','AOwHT','created','substr','</div>','repeat(auto-fill,\x20minmax(32px,\x201fr))','coño','🔕\x20Disable\x20Notifications','absolute','authUsername','otario','editProfileError','TIMESTAMP','lgEUn','authAvatar','createUserWithEmailAndPassword','<small>','kOBdS','pmwgq','alignItems','LPOXn','\x20was\x20promoted\x20to\x20Moderator','ZmGmN','lSJci','editBioInput','rRacl','border','asshole','typing','emailVerified','EfMEB','HnxKr','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','32px','QaIHn','iAjXd','child_removed','pDYUq','trim','easy-chatroom.firebasestorage.app','volume','HscoO','OgnoI','center','oHeSV','bobo','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','EgwDi','JMirc','G-QDESJ2WR42','kQLyK','\x20🔧\x20','filter','touchstart','ref','Failed\x20to\x20save\x20profile:','SGjPi','entries','goLMj','12ZTuDmZ','error','cZPYW','pointer','Don\x27t\x20have\x20an\x20account?\x20Register','ifGTi','sidebarAvatarPreview','SAFHN','sArek','some','Verification\x20code\x20sent!','<div>','replace','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','wDzdu','div','gap','rxALm','gilipollas','/paused','toggleAuthMode','OUzBe','KJgcV','Email\x20not\x20verified.','CzaRL','WkXRx','aGrAN','PbUtn','\x20minutes.','staticPasswordInput','reload','mTpuY','tpkpg','adminUserList','fontSize','</small>','msgId','background','qUcbP','DyQjL','SkWNZ','16px','PYhzZ','You\x20got\x20a\x20message\x20from\x20','innerHTML','rHmOy','6px\x20auto','nrHFM','mzCch','flex','profileScreen','/messages/','120px','usernameScreen','sender','msgInput','YuZjs','block','ObHbn','antispam/','online','stopPropagation','icSAp','opUuA','YXmsH','kxLQH','position','WobGr','eFjoo','\x27,\x2010)\x22>Mute\x2010m</button>','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','CIByx','gufvI','wZqld','toUpperCase','style','VcHCG','BGZuI','easy-chatroom.firebaseapp.com','once','owRwh','515180gIkBYk','BQygJ','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','codeEntryScreen','Room\x20password\x20not\x20set.\x20Cannot\x20join.','top','roomChoiceScreen','BKaCl','GcOdC','Session\x20expired.','lzrrW','messaging','users/','keypress','sidebarOpen','\x20in\x20room\x20','LiNQi','dlFWG','xzGBp','CLOTk','hNgNU','passwordScreen','mediaDevices','tuOAv','dMgTP','orderByChild','IJZiQ','child_changed','<button\x20onclick=\x22promoteToAdmin(\x27','UyQnP','8181904AcUnoJ','zIndex','ARJtR','bfjOh','<img\x20src=\x22','qcVfO','back','editProfileScreen','system','createElement','muted/','COjEL','LFPHU','profile_description','bfYBw','mPtcB','ktGgF','GwDcp','Invalid\x20verification\x20code.','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','\x27)\x22>Promote\x20to\x20Admin</button>','eOVFy'];_0x202a=function(){return _0x8f7517;};return _0x202a();}function updateOnlineIndicator(){const _0x378d25=_0x5085cb,_0x3201b4={'hpiii':_0x378d25(0x2d0),'UyQnP':'#00ff88'},_0x31736e=document[_0x378d25(0x298)](_0x3201b4[_0x378d25(0x347)]);_0x31736e[_0x378d25(0x102)]='●\x20Online',_0x31736e[_0x378d25(0x1b4)][_0x378d25(0x222)]=_0x3201b4[_0x378d25(0x1d7)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x14d07a){const _0x3b5dd5=_0x5085cb,_0x14f124={'TbLAn':function(_0x87e11d,_0x274660){return _0x87e11d(_0x274660);},'YuLlh':_0x3b5dd5(0x323),'fsBRq':'No\x20bio\x20set','iSEbE':'Unknown','hQGoS':_0x3b5dd5(0x2cf),'JUAWS':_0x3b5dd5(0x1a2)};db['ref'](_0x3b5dd5(0x1f4)+_0x14d07a)['get']()[_0x3b5dd5(0x101)](_0x32f457=>{const _0x1a214f=_0x3b5dd5;if(!_0x32f457['exists']())return _0x14f124['TbLAn'](alert,_0x14f124[_0x1a214f(0x25d)]);const _0x1760fc=_0x32f457['val'](),_0x5e4ec3=(_0x1a214f(0x92)+_0x1760fc[_0x1a214f(0xcc)]+_0x1a214f(0x230)+(_0x1760fc['description']||_0x14f124[_0x1a214f(0x305)])+_0x1a214f(0x33c)+((_0x1760fc[_0x1a214f(0xc4)]||[])[_0x1a214f(0x107)](',\x20')||_0x1a214f(0xd5))+_0x1a214f(0xc3)+(_0x1760fc[_0x1a214f(0x211)]?new Date(_0x1760fc[_0x1a214f(0x211)])[_0x1a214f(0x34d)]():_0x14f124['iSEbE'])+'\x0a\x20\x20\x20\x20')['trim']();document[_0x1a214f(0x298)](_0x1a214f(0x291))[_0x1a214f(0x102)]=_0x5e4ec3,document['getElementById'](_0x14f124['hQGoS'])[_0x1a214f(0x1b4)][_0x1a214f(0x358)]=_0x14f124[_0x1a214f(0xe0)];});}function initUsernameFlow(){const _0x18f5ee=_0x5085cb,_0x5dfc34={'dkMIb':'chat_username','rNoZq':function(_0x57cbb3,_0x41a23e){return _0x57cbb3(_0x41a23e);},'msWFa':_0x18f5ee(0x19b),'ZmGmN':_0x18f5ee(0x1c0)},_0x3f4cb7=localStorage[_0x18f5ee(0x224)](_0x5dfc34[_0x18f5ee(0x2fc)]);!_0x3f4cb7?_0x5dfc34[_0x18f5ee(0xa0)](showScreen,_0x5dfc34[_0x18f5ee(0x32f)]):(username=_0x3f4cb7,document[_0x18f5ee(0x298)](_0x18f5ee(0x206))[_0x18f5ee(0x102)]=username,showScreen(_0x5dfc34[_0x18f5ee(0x144)]));}function closeProfile(){const _0x178cf7=_0x5085cb,_0x56a70b={'kFYaz':_0x178cf7(0x2cf),'gkWyD':_0x178cf7(0xba)};document[_0x178cf7(0x298)](_0x56a70b[_0x178cf7(0x11b)])['style']['display']=_0x56a70b[_0x178cf7(0x119)];}function resetWebsiteData(){const _0x4257b7=_0x5085cb,_0x4c8504={'Kwyjc':_0x4257b7(0x86),'tUNQl':function(_0x5aaa65,_0x128a9d){return _0x5aaa65||_0x128a9d;},'fcrhk':function(_0x2fa425,_0x262af8){return _0x2fa425+_0x262af8;}};try{const _0x386bc4=localStorage[_0x4257b7(0x224)](_0x4c8504[_0x4257b7(0x29e)]);localStorage['clear'](),sessionStorage[_0x4257b7(0x238)](),_0x386bc4&&localStorage[_0x4257b7(0x241)](_0x4c8504[_0x4257b7(0x29e)],_0x386bc4);}catch(_0x2b92fe){}_0x4c8504['tUNQl'](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x4c8504[_0x4257b7(0x285)]('_',Math['random']()[_0x4257b7(0x27e)](0x24)[_0x4257b7(0x131)](0x2,0x9)));}function addAnnouncement(){const _0x39082a=_0x5085cb,_0x375022={'CgrBB':_0x39082a(0x1f0)},_0x1e9ee1=prompt(_0x375022[_0x39082a(0x87)]);if(!_0x1e9ee1)return;db[_0x39082a(0x164)]('rooms/'+roomCode+_0x39082a(0x329))[_0x39082a(0x113)]({'text':_0x1e9ee1,'by':username,'timestamp':Date[_0x39082a(0x34a)]()});}function listenForAnnouncement(){const _0x2736b2=_0x5085cb,_0x567bfc={'uUOwk':'announcementArea','GUpho':_0x2736b2(0x304)},_0x40e299=db[_0x2736b2(0x164)](_0x2736b2(0x120)+roomCode+_0x2736b2(0x329));_0x40e299['on'](_0x567bfc['GUpho'],_0x5d4b20=>{const _0x740377=_0x2736b2,_0x34e5d2=_0x5d4b20['val']();if(!_0x34e5d2){document[_0x740377(0x298)]('announcementArea')['innerText']='';return;}const _0x573cb6=document[_0x740377(0x298)](_0x567bfc['uUOwk']);_0x573cb6['innerText']=''+_0x34e5d2[_0x740377(0xf7)];});}document[_0x5085cb(0x298)](_0x5085cb(0x2a9))[_0x5085cb(0x11d)](_0x5085cb(0x9b),_0x20f2c8=>{const _0x2fc43f=_0x5085cb,_0x19e2ef={'byvlF':function(_0x1111f2,_0x3dbe38){return _0x1111f2===_0x3dbe38;},'xzGBp':function(_0x2a9b0d,_0xf5b8c6){return _0x2a9b0d(_0xf5b8c6);},'nmGLw':_0x2fc43f(0x2a4)};_0x19e2ef[_0x2fc43f(0x250)](_0x20f2c8[_0x2fc43f(0x343)],0x3)&&isRoomAdmin&&(_0x19e2ef[_0x2fc43f(0x1cc)](confirm,_0x19e2ef['nmGLw'])&&db[_0x2fc43f(0x164)]('rooms/'+roomCode+_0x2fc43f(0x329))[_0x2fc43f(0x31e)]());}),document[_0x5085cb(0x298)](_0x5085cb(0x1a0))['addEventListener']('input',()=>{const _0x5ee3fc=_0x5085cb,_0x200b06={'PphZk':_0x5ee3fc(0x2b8)},_0x268836=document[_0x5ee3fc(0x298)](_0x5ee3fc(0x1a0));_0x4c39d8?_0x268836[_0x5ee3fc(0x1b4)]['border']='2px\x20solid\x20red':_0x268836['style'][_0x5ee3fc(0x148)]='';const _0x34c451=_0x268836[_0x5ee3fc(0x304)][_0x5ee3fc(0x20b)](),_0x4c39d8=swearWords[_0x5ee3fc(0x172)](_0x190040=>_0x34c451[_0x5ee3fc(0x81)](_0x190040));_0x4c39d8?(_0x268836['style'][_0x5ee3fc(0x148)]=_0x200b06['PphZk'],sendBtn[_0x5ee3fc(0x31a)]=!![]):(_0x268836[_0x5ee3fc(0x1b4)]['border']='',_0x4c39d8?_0x268836[_0x5ee3fc(0x1b4)]['border']=_0x200b06[_0x5ee3fc(0x269)]:_0x268836[_0x5ee3fc(0x1b4)][_0x5ee3fc(0x148)]='');});function muteUser(_0x58bafc,_0x3ebf86){const _0x296b47=_0x5085cb,_0x4ac0db={'qUcbP':function(_0x2dbf52,_0x1894cd){return _0x2dbf52(_0x1894cd);},'mCwNn':function(_0xd7b4a0,_0x289be9){return _0xd7b4a0+_0x289be9;},'MikBW':function(_0x5851a5,_0x21d44d){return _0x5851a5*_0x21d44d;}},_0x14f196=_0x4ac0db[_0x296b47(0x24d)](Date[_0x296b47(0x34a)](),_0x4ac0db['MikBW'](_0x4ac0db[_0x296b47(0xc8)](_0x3ebf86,0x3c),0x3e8));db[_0x296b47(0x164)](_0x296b47(0x1e2)+roomCode+'/'+_0x4ac0db[_0x296b47(0x18f)](sanitizeUsername,_0x58bafc))['set']({'muteUntil':_0x14f196})['then'](()=>{const _0x2543c8=_0x296b47;_0x4ac0db[_0x2543c8(0x18f)](alert,_0x58bafc+_0x2543c8(0x2af)+_0x3ebf86+_0x2543c8(0x185));});}function deleteUserMessages(_0x23f5af){const _0x4b07dd=_0x5085cb,_0x3b898b={'EUtav':_0x4b07dd(0x19f)};db['ref']('rooms/'+roomCode+_0x4b07dd(0x21d))[_0x4b07dd(0x1d3)](_0x3b898b['EUtav'])['equalTo'](_0x23f5af)['get']()[_0x4b07dd(0x101)](_0x1d374d=>{const _0x4a5668=_0x4b07dd;_0x1d374d['forEach'](_0x2815c4=>{const _0x451a1a=_0x365d;db['ref'](_0x451a1a(0x120)+roomCode+_0x451a1a(0x19c)+_0x2815c4[_0x451a1a(0x2bd)])[_0x451a1a(0x31e)]();}),alert(_0x4a5668(0x2e2)+_0x23f5af+'\x20deleted.');});}function pauseRoom(_0x446390){const _0x13749e=_0x5085cb,_0x3785fd={'gAIYs':_0x13749e(0xba),'xbxys':_0x13749e(0x304)};db['ref'](_0x13749e(0x120)+roomCode+_0x13749e(0x17c))['on'](_0x3785fd[_0x13749e(0x22c)],_0xa031b2=>{const _0x237584=_0x13749e,_0x579b31=_0xa031b2['val']();document[_0x237584(0x298)](_0x237584(0x1f8))['style']['display']=_0x579b31?_0x237584(0x1a2):_0x3785fd['gAIYs'];});}function canPerformAction(_0x4084d8){const _0x365f76=_0x5085cb,_0x56ccef={'bfYBw':function(_0x56ee3b,_0x513c14){return _0x56ee3b===_0x513c14;},'COjEL':'promote','NiETO':'admin','vDakB':function(_0x4a3427,_0x10e534){return _0x4a3427===_0x10e534;},'POnyz':_0x365f76(0x354),'MzKra':_0x365f76(0xd6),'eaJoV':'mute','pYvZS':function(_0x128105,_0x424584){return _0x128105===_0x424584;},'Kmryk':'moderator','lTcGn':function(_0x258c04,_0x1d2f69){return _0x258c04===_0x1d2f69;},'lqsgg':_0x365f76(0x257)},_0x527e36=_0x365f76(0xc9)['split']('|');let _0x3d32a5=0x0;while(!![]){switch(_0x527e36[_0x3d32a5++]){case'0':if(_0x56ccef['bfYBw'](_0x4084d8,_0x56ccef[_0x365f76(0x1e3)]))return _0x56ccef[_0x365f76(0x1e6)](role,_0x56ccef[_0x365f76(0xf4)]);continue;case'1':if(_0x56ccef[_0x365f76(0xb6)](role,_0x56ccef[_0x365f76(0x35e)]))return!![];continue;case'2':if(_0x56ccef[_0x365f76(0xb6)](_0x4084d8,_0x56ccef[_0x365f76(0x336)])||_0x4084d8==='promote')return role==='admin';continue;case'3':return![];case'4':if(_0x4084d8===_0x56ccef[_0x365f76(0x2d6)])return role===_0x56ccef[_0x365f76(0xf4)]||_0x56ccef['pYvZS'](role,_0x56ccef[_0x365f76(0x2ab)])||_0x56ccef[_0x365f76(0xc7)](role,_0x56ccef['lqsgg']);continue;}break;}}const html=Object['values'](roomUsers)['map'](_0xc37d38=>{const _0x275333=_0x5085cb,_0x52279a={'BRaIN':function(_0x23acd8,_0x1b99a5){return _0x23acd8(_0x1b99a5);},'QCAwo':function(_0x5f4828,_0x1cd383){return _0x5f4828!==_0x1cd383;},'WugRc':function(_0x1f5f97,_0x13aee4){return _0x1f5f97(_0x13aee4);},'KAyMI':function(_0x83b914,_0x3678c6){return _0x83b914(_0x3678c6);},'inedS':function(_0x4beee0,_0xb927ec){return _0x4beee0(_0xb927ec);},'QITJo':'deleteMessage','QXsln':function(_0x27989d,_0x177d93){return _0x27989d===_0x177d93;},'XxYzg':_0x275333(0x25e)},_0xe15ff4=_0x52279a['BRaIN'](sanitizeUsername,_0xc37d38[_0x275333(0xcc)]),_0x12d7af=[];if(_0x52279a[_0x275333(0x2ed)](_0xe15ff4,_0x52279a[_0x275333(0x203)](sanitizeUsername,username))){_0x52279a['KAyMI'](canPerformAction,_0x275333(0x2e9))&&(_0x12d7af[_0x275333(0x106)](_0x275333(0x112)+_0xe15ff4+'\x27,\x205)\x22>Mute\x205m</button>'),_0x12d7af[_0x275333(0x106)](_0x275333(0x112)+_0xe15ff4+_0x275333(0x1ae)));_0x52279a[_0x275333(0x29d)](canPerformAction,_0x52279a['QITJo'])&&_0x12d7af[_0x275333(0x106)](_0x275333(0xa5)+_0xe15ff4+_0x275333(0x126));if(_0x52279a['QXsln'](role,_0x275333(0x354)))_0x12d7af[_0x275333(0x106)](_0x275333(0x7e)+_0xe15ff4+'\x27)\x22>Promote\x20to\x20Moderator</button>'),_0x12d7af['push'](_0x275333(0x1d6)+_0xe15ff4+_0x275333(0x1ec));else role===_0x52279a['XxYzg']&&_0x12d7af[_0x275333(0x106)](_0x275333(0x7e)+_0xe15ff4+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x275333(0xbf)+_0xc37d38['username']+'\x20'+getRoleTag(sanitizeUsername(_0xc37d38[_0x275333(0xcc)]))+_0x275333(0xf9)+_0xe15ff4+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x12d7af[_0x275333(0x107)]('')+_0x275333(0xb5)+_0xe15ff4+_0x275333(0xb0);})[_0x5085cb(0x107)]('');function promoteToModerator(_0x2f5e10){const _0xec6d11=_0x5085cb,_0x8e89a9={'wXFGQ':function(_0x4ae82c,_0x5c3b37){return _0x4ae82c(_0x5c3b37);},'flAAp':function(_0x59913e,_0x2f1a0c){return _0x59913e!==_0x2f1a0c;},'troej':_0xec6d11(0x354)},_0x2c0607=_0x8e89a9[_0xec6d11(0x9c)](sanitizeUsername,_0x2f5e10);if(_0x8e89a9['wXFGQ'](isProtected,_0x2c0607))return _0x8e89a9[_0xec6d11(0x9c)](alert,_0xec6d11(0x2ea));if(_0x8e89a9['flAAp'](role,_0x8e89a9[_0xec6d11(0x2d2)])&&role!==_0xec6d11(0x25e)){_0x8e89a9[_0xec6d11(0x9c)](alert,_0xec6d11(0x84));return;}db[_0xec6d11(0x164)](_0xec6d11(0x1ee)+roomCode+'/'+_0x2c0607)[_0xec6d11(0x113)](!![])[_0xec6d11(0x101)](()=>{const _0x1ea9e6=_0xec6d11;_0x8e89a9[_0x1ea9e6(0x9c)](alert,_0x2f5e10+'\x20promoted\x20to\x20Moderator!'),addSystemMessage(_0x2f5e10+_0x1ea9e6(0x143));});}function promoteToAdmin(_0x31db59){const _0x3d1196=_0x5085cb,_0x2e9a3c={'CLOTk':function(_0x37ecb3,_0x5f4eba){return _0x37ecb3(_0x5f4eba);},'eOVFy':function(_0x75fa4c,_0x2bf85e){return _0x75fa4c!==_0x2bf85e;},'MggqE':'dev','gvGLp':function(_0xff131a,_0x524236){return _0xff131a(_0x524236);},'sphTL':'Only\x20Devs\x20can\x20promote\x20to\x20Admin.'},_0x4e9d2c=_0x2e9a3c['CLOTk'](sanitizeUsername,_0x31db59);if(_0x2e9a3c[_0x3d1196(0x1cd)](isProtected,_0x4e9d2c))return _0x2e9a3c['CLOTk'](alert,_0x3d1196(0x2ea));if(_0x2e9a3c[_0x3d1196(0x1ed)](role,_0x2e9a3c[_0x3d1196(0x302)])){_0x2e9a3c[_0x3d1196(0x11e)](alert,_0x2e9a3c[_0x3d1196(0xca)]);return;}db[_0x3d1196(0x164)](_0x3d1196(0xd4)+roomCode+'/'+_0x4e9d2c)[_0x3d1196(0x113)](!![])[_0x3d1196(0x101)](()=>{const _0x5930d0=_0x3d1196;_0x2e9a3c['CLOTk'](alert,_0x31db59+_0x5930d0(0x321)),_0x2e9a3c[_0x5930d0(0x1cd)](addSystemMessage,_0x31db59+_0x5930d0(0x295));});}function toggleUserOptions(_0x4b34f6){const _0x4120e0=_0x5085cb,_0x4caf84={'AnxmK':function(_0x10cd6b,_0x4fa0ce){return _0x10cd6b===_0x4fa0ce;},'wDzdu':_0x4120e0(0x354),'RaZwj':_0x4120e0(0x25e),'ORPFK':_0x4120e0(0xba),'sOXFi':_0x4120e0(0x1a2)};(_0x4caf84[_0x4120e0(0x29a)](role,_0x4caf84[_0x4120e0(0x177)])||role===_0x4caf84[_0x4120e0(0x350)])&&controls[_0x4120e0(0x106)](_0x4120e0(0x366)+safeName+_0x4120e0(0x244));const _0xd732b4=document[_0x4120e0(0x298)](_0x4120e0(0x36b)+_0x4b34f6);_0x4caf84['AnxmK'](_0xd732b4[_0x4120e0(0x1b4)]['display'],_0x4caf84[_0x4120e0(0x2b3)])?_0xd732b4[_0x4120e0(0x1b4)][_0x4120e0(0x358)]=_0x4caf84['sOXFi']:_0xd732b4[_0x4120e0(0x1b4)][_0x4120e0(0x358)]=_0x4caf84[_0x4120e0(0x2b3)];}function demoteUser(_0x3cb1ed){const _0x370570=_0x5085cb,_0x1af441={'qJSBz':function(_0x45d511,_0x168557){return _0x45d511(_0x168557);},'qXigd':_0x370570(0x14e),'mzCch':function(_0xd39580,_0x50717c){return _0xd39580===_0x50717c;},'IqJFt':function(_0x138f72,_0xa44768){return _0x138f72(_0xa44768);}};if(_0x1af441[_0x370570(0x363)](isProtected,_0x3cb1ed))return _0x1af441[_0x370570(0x363)](alert,_0x1af441[_0x370570(0x11a)]);if(_0x1af441[_0x370570(0x199)](role,_0x370570(0x354)))db[_0x370570(0x164)](_0x370570(0xd4)+roomCode+'/'+_0x3cb1ed)[_0x370570(0x31e)](),db['ref'](_0x370570(0x1ee)+roomCode+'/'+_0x3cb1ed)[_0x370570(0x31e)](),alert(_0x3cb1ed+_0x370570(0xf5)),_0x1af441[_0x370570(0x105)](addSystemMessage,_0x3cb1ed+_0x370570(0x24a));else _0x1af441[_0x370570(0x199)](role,_0x370570(0x25e))?(db[_0x370570(0x164)]('moderators/'+roomCode+'/'+_0x3cb1ed)['remove'](),_0x1af441[_0x370570(0x363)](alert,_0x3cb1ed+'\x20demoted\x20to\x20user.'),addSystemMessage(_0x3cb1ed+_0x370570(0x24a))):_0x1af441['IqJFt'](alert,'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.');}function getRoleTag(_0x4d6942){const _0x109b7c=_0x5085cb,_0x17c86f={'yAMXy':function(_0x139acc,_0x5cd0cc){return _0x139acc(_0x5cd0cc);}},_0x1850eb=_0x17c86f['yAMXy'](sanitizeUsername,_0x4d6942);if(globalDevs[_0x109b7c(0x81)](_0x1850eb))return _0x109b7c(0x21e);if(roomAdmins['includes'](_0x1850eb))return _0x109b7c(0x21f);if(roomModerators['includes'](_0x1850eb))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x6d7e0d=_0x5085cb,_0x31b8e6={'geQum':function(_0x320f8e,_0x29925d){return _0x320f8e===_0x29925d;},'wYwjH':_0x6d7e0d(0x354),'FbKgv':function(_0x31bdc5,_0x3eb2a8){return _0x31bdc5(_0x3eb2a8);},'MONOw':'admin','hpqST':_0x6d7e0d(0x259),'VRzyc':_0x6d7e0d(0x21a)},_0x10965f=_0x31b8e6[_0x6d7e0d(0x240)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x52284b=await db[_0x6d7e0d(0x164)](_0x6d7e0d(0xc5))[_0x6d7e0d(0xa7)]();_0x52284b[_0x6d7e0d(0x270)](_0x456d0f=>{const _0x35367f=_0x6d7e0d;if(_0x31b8e6[_0x35367f(0x8c)](_0x456d0f[_0x35367f(0x290)]()[_0x35367f(0x7c)],_0x31b8e6['wYwjH']))globalDevs[_0x35367f(0x106)](_0x456d0f[_0x35367f(0x2bd)]);});const _0x5bdcb2=await db[_0x6d7e0d(0x164)](_0x6d7e0d(0xd4)+roomCode)['get']();_0x5bdcb2[_0x6d7e0d(0x2b5)]()&&_0x5bdcb2[_0x6d7e0d(0x270)](_0xd7c298=>roomAdmins[_0x6d7e0d(0x106)](_0xd7c298[_0x6d7e0d(0x2bd)]));const _0x1a086f=await db[_0x6d7e0d(0x164)](_0x6d7e0d(0x1ee)+roomCode)['get']();_0x1a086f[_0x6d7e0d(0x2b5)]()&&_0x1a086f[_0x6d7e0d(0x270)](_0x6ab34c=>roomModerators['push'](_0x6ab34c[_0x6d7e0d(0x2bd)]));if(globalDevs['includes'](_0x10965f))role=_0x31b8e6['wYwjH'];else{if(roomAdmins['includes'](_0x10965f))role=_0x31b8e6[_0x6d7e0d(0x26f)];else roomModerators[_0x6d7e0d(0x81)](_0x10965f)?role=_0x31b8e6['hpqST']:role=_0x31b8e6[_0x6d7e0d(0x98)];}}async function renderUserLists(_0x2085d8){const _0x5bc5ff=_0x5085cb,_0x9ac3fc={'gTgDb':function(_0x57f312,_0x55b939){return _0x57f312(_0x55b939);},'xzNKc':function(_0x3d305b,_0x59d112){return _0x3d305b===_0x59d112;},'LlWHe':'moderator','UiewT':_0x5bc5ff(0x25e),'tevbt':'dev','USRHT':function(_0x8a6064,_0x6558f0){return _0x8a6064===_0x6558f0;},'EmSWX':function(_0x2acb7a,_0x9add){return _0x2acb7a===_0x9add;},'jTPwU':function(_0x4c4ef6,_0x28e75e){return _0x4c4ef6(_0x28e75e);},'obeqJ':_0x5bc5ff(0x257),'Nlpji':_0x5bc5ff(0x271),'hbMXQ':_0x5bc5ff(0x1a2),'wZqld':_0x5bc5ff(0x8e)};roomUsers=_0x2085d8;const _0x5b9012=sanitizeUsername(username),_0x4656ab=[_0x9ac3fc[_0x5bc5ff(0xea)],_0x9ac3fc[_0x5bc5ff(0xa6)],_0x9ac3fc[_0x5bc5ff(0xff)],_0x9ac3fc['obeqJ']][_0x5bc5ff(0x81)](role);document[_0x5bc5ff(0x298)](_0x9ac3fc[_0x5bc5ff(0x2c9)])[_0x5bc5ff(0x1b4)][_0x5bc5ff(0x358)]=_0x4656ab?_0x9ac3fc['hbMXQ']:'none';const _0x2d2aac=Object['entries'](_0x2085d8)[_0x5bc5ff(0x20f)](async([_0x3b46d3,_0x128f6d])=>{const _0x463c2d=_0x5bc5ff,_0xcc6441=sanitizeUsername(_0x128f6d[_0x463c2d(0xcc)]||_0x3b46d3),_0x1a47f4=await _0x9ac3fc[_0x463c2d(0x2d8)](fetchAvatar,_0xcc6441),_0x29424e=_0x1a47f4?_0x463c2d(0x9f)+_0x1a47f4+_0x463c2d(0x176):'',_0x5e186a=_0x128f6d['online']?_0x463c2d(0xe8):_0x463c2d(0x1af);return'<li>'+_0x29424e+'\x20'+_0x5e186a+_0x463c2d(0x282)+_0xcc6441+'\x27)\x22>'+(_0x128f6d[_0x463c2d(0xcc)]||_0x3b46d3)+_0x463c2d(0x2c5)+getRoleTag(_0xcc6441)+_0x463c2d(0x33a);});document[_0x5bc5ff(0x298)](_0x9ac3fc[_0x5bc5ff(0x1b2)])[_0x5bc5ff(0x195)]=(await Promise[_0x5bc5ff(0x364)](_0x2d2aac))[_0x5bc5ff(0x107)]('');if(!_0x4656ab)return;const _0x505da5=Object['entries'](_0x2085d8)['map'](async([_0x44d07b,_0x2a4ac3])=>{const _0x3b6cf9=_0x5bc5ff,_0x3478ec=sanitizeUsername(_0x2a4ac3[_0x3b6cf9(0xcc)]||_0x44d07b);if(_0x9ac3fc[_0x3b6cf9(0x32b)](_0x3478ec,_0x5b9012))return'';const _0xf4704c=globalDevs[_0x3b6cf9(0x81)](_0x3478ec),_0x12b33c=await fetchAvatar(_0x3478ec),_0x5a28b2=_0x12b33c?'<img\x20src=\x22data:image/png;base64,'+_0x12b33c+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x216025=_0x2a4ac3['online']?_0x3b6cf9(0xe8):_0x3b6cf9(0x1af),_0x5044c3=[];if(!_0xf4704c){[_0x3b6cf9(0x257),_0x9ac3fc[_0x3b6cf9(0xff)],_0x9ac3fc[_0x3b6cf9(0xa6)],_0x9ac3fc[_0x3b6cf9(0xea)]][_0x3b6cf9(0x81)](role)&&(_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x112)+_0x3478ec+_0x3b6cf9(0x292)),_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x112)+_0x3478ec+_0x3b6cf9(0xb4)),_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x112)+_0x3478ec+_0x3b6cf9(0x1ae)));if(_0x9ac3fc[_0x3b6cf9(0x2c0)](role,_0x9ac3fc['tevbt']))_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x7e)+_0x3478ec+'\x27)\x22>+Mod</button>'),_0x5044c3[_0x3b6cf9(0x106)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x3478ec+_0x3b6cf9(0xae)),_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x366)+_0x3478ec+_0x3b6cf9(0x244));else _0x9ac3fc[_0x3b6cf9(0x223)](role,'admin')&&(_0x5044c3[_0x3b6cf9(0x106)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x3478ec+'\x27)\x22>+Mod</button>'),_0x5044c3[_0x3b6cf9(0x106)](_0x3b6cf9(0x366)+_0x3478ec+'\x27)\x22>Demote</button>'));}return _0x3b6cf9(0x33e)+_0x5a28b2+'\x20'+_0x216025+_0x3b6cf9(0x161)+(_0x2a4ac3[_0x3b6cf9(0xcc)]||_0x44d07b)+'\x20'+_0x9ac3fc[_0x3b6cf9(0x227)](getRoleTag,_0x3478ec)+_0x3b6cf9(0x24b)+_0x5044c3[_0x3b6cf9(0x107)]('\x20')+_0x3b6cf9(0x249);});document[_0x5bc5ff(0x298)](_0x5bc5ff(0x18a))['innerHTML']=(await Promise[_0x5bc5ff(0x364)](_0x505da5))[_0x5bc5ff(0x107)]('');}function updateAnnouncementVisibility(){const _0x5a42ec=_0x5085cb,_0x525039={'leNup':'addAnnouncementBtn','FJGKU':function(_0x1a13df,_0x131945){return _0x1a13df===_0x131945;},'kOBdS':_0x5a42ec(0x25e),'cZPYW':function(_0x55c7f5,_0x11d8fa){return _0x55c7f5===_0x11d8fa;},'Raran':_0x5a42ec(0x1a2),'jlMxe':_0x5a42ec(0xba)},_0x2a7d9f=document[_0x5a42ec(0x298)](_0x525039[_0x5a42ec(0x326)]);_0x525039[_0x5a42ec(0xde)](role,_0x525039[_0x5a42ec(0x13f)])||_0x525039[_0x5a42ec(0x16b)](role,'dev')?_0x2a7d9f[_0x5a42ec(0x1b4)][_0x5a42ec(0x358)]=_0x525039[_0x5a42ec(0x121)]:_0x2a7d9f[_0x5a42ec(0x1b4)][_0x5a42ec(0x358)]=_0x525039[_0x5a42ec(0x27c)];}async function fetchAvatar(_0x2e1efe){const _0x3e3bbf=_0x5085cb;if(userAvatars[_0x2e1efe])return userAvatars[_0x2e1efe];const _0xd0f2a7=await db[_0x3e3bbf(0x164)]('auth/'+_0x2e1efe)['get']();if(_0xd0f2a7[_0x3e3bbf(0x2b5)]()&&_0xd0f2a7[_0x3e3bbf(0x290)]()[_0x3e3bbf(0x30a)])return userAvatars[_0x2e1efe]=_0xd0f2a7[_0x3e3bbf(0x290)]()['avatarBase64'],userAvatars[_0x2e1efe];return null;}function sendTyping(){const _0x236d28=_0x5085cb,_0x1345dd={'Xocod':function(_0x1219c3,_0x5bf2c1){return _0x1219c3(_0x5bf2c1);},'OgnoI':function(_0x36afca,_0x8a9b5e){return _0x36afca(_0x8a9b5e);},'DyluQ':function(_0x27f129,_0x3957f7,_0x5d9f9a){return _0x27f129(_0x3957f7,_0x5d9f9a);}},_0x342716=_0x1345dd[_0x236d28(0x360)](sanitizeUsername,username),_0x209401=Date[_0x236d28(0x34a)]();db[_0x236d28(0x164)](_0x236d28(0x284)+roomCode+'/'+_0x342716)[_0x236d28(0x113)](_0x209401);if(typingTimeout)_0x1345dd[_0x236d28(0x158)](clearTimeout,typingTimeout);typingTimeout=_0x1345dd[_0x236d28(0xbe)](setTimeout,()=>{const _0x50ab94=_0x236d28;db['ref'](_0x50ab94(0x284)+roomCode+'/'+_0x342716)[_0x50ab94(0x31e)]();},0x1f4);}function listenForTyping(){const _0x3dba3d=_0x5085cb,_0x4360ff={'ergsQ':_0x3dba3d(0x14a),'AAGgA':_0x3dba3d(0x304)};db[_0x3dba3d(0x164)]('typing/'+roomCode)['on'](_0x4360ff['AAGgA'],_0x529369=>{const _0x4401eb=_0x3dba3d,_0x3acf3f=document[_0x4401eb(0x298)](_0x4360ff['ergsQ']);if(!_0x529369[_0x4401eb(0x2b5)]())return _0x3acf3f[_0x4401eb(0x102)]='';const _0x49d962=Date[_0x4401eb(0x34a)](),_0x5ba41c=Object[_0x4401eb(0x167)](_0x529369['val']())[_0x4401eb(0x162)](([_0x2ed0cd,_0xd0460])=>_0x2ed0cd!==sanitizeUsername(username)&&_0x49d962-_0xd0460<0x1388)['map'](([_0x5a8fa7])=>_0x5a8fa7);_0x3acf3f[_0x4401eb(0x102)]=_0x5ba41c['length']?_0x5ba41c['join'](',\x20')+_0x4401eb(0xa9):'';});}function watchMuteStatus(){const _0x434add=_0x5085cb,_0x51ff77={'oHeSV':function(_0x1b7f32,_0x2d9da0){return _0x1b7f32(_0x2d9da0);},'hnNOQ':_0x434add(0x1a0),'AMknY':_0x434add(0x124),'cgZxk':function(_0x3b67b1,_0x3cb191){return _0x3b67b1===_0x3cb191;},'mstgL':function(_0x19516f,_0x41fef8){return _0x19516f>_0x41fef8;},'mTpuY':function(_0x2cd010,_0x256431,_0x9b375){return _0x2cd010(_0x256431,_0x9b375);},'wMAqs':function(_0x16b05f,_0x3de4ae){return _0x16b05f(_0x3de4ae);}},_0x2676f7=db[_0x434add(0x164)](_0x434add(0x1e2)+roomCode+'/'+_0x51ff77[_0x434add(0x2f6)](sanitizeUsername,username));let _0x44805f;_0x2676f7['on'](_0x434add(0x304),_0x5f400d=>{const _0x44fff5=_0x434add;_0x51ff77[_0x44fff5(0x15a)](clearInterval,_0x44805f);const _0x3db171=document[_0x44fff5(0x298)](_0x51ff77['hnNOQ']);if(!_0x5f400d[_0x44fff5(0x2b5)]()){_0x3db171['disabled']=![],_0x3db171[_0x44fff5(0x349)]=_0x51ff77[_0x44fff5(0xb3)];return;}const _0x32fca3=_0x5f400d[_0x44fff5(0x290)](),_0x53cb05=_0x51ff77[_0x44fff5(0x2ac)](typeof _0x32fca3,_0x44fff5(0x24f))&&_0x32fca3[_0x44fff5(0xfa)]?_0x32fca3[_0x44fff5(0xfa)]:_0x32fca3;_0x51ff77[_0x44fff5(0x2cc)](_0x53cb05,Date[_0x44fff5(0x34a)]())?(_0x3db171[_0x44fff5(0x31a)]=!![],_0x3db171['placeholder']='⛔\x20You\x20are\x20muted.',_0x44805f=_0x51ff77[_0x44fff5(0x188)](setInterval,()=>{const _0x56acd5=_0x44fff5;Date[_0x56acd5(0x34a)]()>_0x53cb05&&_0x2676f7[_0x56acd5(0x31e)]();},0xbb8)):(_0x3db171[_0x44fff5(0x31a)]=![],_0x3db171['placeholder']=_0x44fff5(0x124),_0x2676f7[_0x44fff5(0x31e)]());});}function _0x365d(_0x450c5f,_0xa2e6b5){const _0x202afd=_0x202a();return _0x365d=function(_0x365da8,_0x4d7a1e){_0x365da8=_0x365da8-0x77;let _0x6d773f=_0x202afd[_0x365da8];return _0x6d773f;},_0x365d(_0x450c5f,_0xa2e6b5);}function isProtected(_0x40f981){return globalDevs['includes'](_0x40f981);}function addSystemMessage(_0x1a5327){const _0x7a5cbf=_0x5085cb,_0x179814={'ahAnD':_0x7a5cbf(0x178),'QpAhA':_0x7a5cbf(0x159),'yhNen':_0x7a5cbf(0x237),'AoUXf':_0x7a5cbf(0x229),'gLGzp':_0x7a5cbf(0x197),'oEVit':'messages'},_0xaa88a3=document[_0x7a5cbf(0x1e1)](_0x179814[_0x7a5cbf(0x2b9)]);_0xaa88a3[_0x7a5cbf(0x1b4)][_0x7a5cbf(0x297)]=_0x179814[_0x7a5cbf(0x2a7)],_0xaa88a3[_0x7a5cbf(0x1b4)]['fontSize']=_0x179814['yhNen'],_0xaa88a3[_0x7a5cbf(0x1b4)][_0x7a5cbf(0x222)]=_0x179814[_0x7a5cbf(0xb7)],_0xaa88a3[_0x7a5cbf(0x1b4)][_0x7a5cbf(0x125)]=_0x179814[_0x7a5cbf(0x2f3)],_0xaa88a3[_0x7a5cbf(0x102)]=_0x1a5327,document[_0x7a5cbf(0x298)](_0x179814[_0x7a5cbf(0xfb)])[_0x7a5cbf(0x216)](_0xaa88a3),document[_0x7a5cbf(0x298)](_0x179814[_0x7a5cbf(0xfb)])[_0x7a5cbf(0xc0)]=document[_0x7a5cbf(0x298)](_0x179814[_0x7a5cbf(0xfb)])[_0x7a5cbf(0x309)];}function reactToMessage(_0x1724a4,_0x15162a){const _0x2db957=_0x5085cb,_0x181b07={'RkbbO':function(_0x5f40db,_0x27d7a4){return _0x5f40db(_0x27d7a4);},'GbAJk':_0x2db957(0x304)},_0x1f71da=_0x181b07[_0x2db957(0x279)](sanitizeUsername,username),_0x156958=db[_0x2db957(0x164)](_0x2db957(0x120)+roomCode+_0x2db957(0x19c)+_0x1724a4+_0x2db957(0x80));_0x156958['once'](_0x181b07[_0x2db957(0x333)])[_0x2db957(0x101)](_0x594427=>{const _0x2cad49=_0x2db957,_0x4f36d5=_0x594427[_0x2cad49(0x290)]()||{},_0x440c8f={};for(const [_0x23fcda,_0x142d6d]of Object['entries'](_0x4f36d5)){_0x440c8f[_0x23fcda]=(_0x142d6d||[])[_0x2cad49(0x162)](_0x1c9527=>_0x1c9527!==_0x1f71da);}if(!_0x4f36d5[_0x15162a]||!_0x4f36d5[_0x15162a]['includes'](_0x1f71da)){if(!_0x440c8f[_0x15162a])_0x440c8f[_0x15162a]=[];_0x440c8f[_0x15162a]['push'](_0x1f71da);}_0x156958[_0x2cad49(0x113)](_0x440c8f);});}function startSidebarSyncLoop(){const _0x587a8a=_0x5085cb,_0xe31c06={'lYgWv':function(_0x5e3a19,_0xf4d39d){return _0x5e3a19(_0xf4d39d);},'evpHZ':function(_0x251405,_0x131090,_0x386d79){return _0x251405(_0x131090,_0x386d79);}};_0xe31c06[_0x587a8a(0x23e)](setInterval,async()=>{const _0x321e2e=_0x587a8a;if(!roomCode)return;const _0x7d5b31=await db[_0x321e2e(0x164)](_0x321e2e(0x1c6)+roomCode)['get']();if(_0x7d5b31[_0x321e2e(0x2b5)]()){const _0x365a61=_0x7d5b31[_0x321e2e(0x290)]();_0xe31c06[_0x321e2e(0x2ee)](renderUserLists,_0x365a61);}},0x1388);}