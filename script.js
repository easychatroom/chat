const _0x42b5e8=_0x3d28;(function(_0x4b6a29,_0xaee597){const _0x47da7a=_0x3d28,_0x44f404=_0x4b6a29();while(!![]){try{const _0x44fc29=-parseInt(_0x47da7a(0x2b8))/0x1*(parseInt(_0x47da7a(0x27e))/0x2)+-parseInt(_0x47da7a(0x393))/0x3+-parseInt(_0x47da7a(0x386))/0x4+parseInt(_0x47da7a(0x258))/0x5+parseInt(_0x47da7a(0x369))/0x6*(parseInt(_0x47da7a(0x19e))/0x7)+parseInt(_0x47da7a(0x37e))/0x8+-parseInt(_0x47da7a(0x31a))/0x9*(-parseInt(_0x47da7a(0x3da))/0xa);if(_0x44fc29===_0xaee597)break;else _0x44f404['push'](_0x44f404['shift']());}catch(_0x2f98f4){_0x44f404['push'](_0x44f404['shift']());}}}(_0x1b0c,0x5f83e));const firebaseConfig={'apiKey':_0x42b5e8(0x395),'authDomain':_0x42b5e8(0x3e2),'databaseURL':_0x42b5e8(0x3b5),'projectId':_0x42b5e8(0x3d6),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':'985049198428','appId':_0x42b5e8(0x1ca),'measurementId':'G-QDESJ2WR42'};let lastVerificationCode=null;firebase[_0x42b5e8(0x12b)](firebaseConfig);const messaging=firebase[_0x42b5e8(0x323)](),db=firebase[_0x42b5e8(0x147)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=['fuck',_0x42b5e8(0x2d3),_0x42b5e8(0x222),'asshole',_0x42b5e8(0x12f),_0x42b5e8(0x2c2),_0x42b5e8(0x3c6),'puta','mierda',_0x42b5e8(0x351),_0x42b5e8(0x250),_0x42b5e8(0x17e),_0x42b5e8(0x3df),'porra',_0x42b5e8(0x15c),_0x42b5e8(0x309),_0x42b5e8(0x268),_0x42b5e8(0x2b7),'otario',_0x42b5e8(0x2bc),_0x42b5e8(0x11b),_0x42b5e8(0x31d),_0x42b5e8(0x330),_0x42b5e8(0x13c),'bwisit','putang\x20ina'],style=document['createElement'](_0x42b5e8(0x210));style[_0x42b5e8(0x352)]=_0x42b5e8(0x338),document['head'][_0x42b5e8(0x22a)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x42b5e8(0x38b)]()[_0x42b5e8(0x257)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x42b5e8(0x1db)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x42b5e8(0x2c5),MAX_MESSAGES=0xfa,sound=new Audio(_0x42b5e8(0x293));function _0x3d28(_0x4953bf,_0x385e18){const _0x1b0cd5=_0x1b0c();return _0x3d28=function(_0x3d28c4,_0x1aa795){_0x3d28c4=_0x3d28c4-0x10a;let _0x2f7e82=_0x1b0cd5[_0x3d28c4];return _0x2f7e82;},_0x3d28(_0x4953bf,_0x385e18);}sound[_0x42b5e8(0x29a)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x766306=_0x42b5e8,_0x280492={'bMMhz':function(_0x43d189,_0x12e803){return _0x43d189(_0x12e803);},'GlFkB':function(_0x3c5c0a,_0x4f057c){return _0x3c5c0a+_0x4f057c;}},_0x13bca1=navigator[_0x766306(0x221)]+screen[_0x766306(0x394)]+screen[_0x766306(0x409)],_0x36792d=await _0x280492['bMMhz'](sha256,_0x13bca1);return _0x280492[_0x766306(0x37d)]('_',_0x36792d[_0x766306(0x348)](0x0,0x14));}function sha256(_0x37175d){const _0x4e5cc9=_0x42b5e8,_0xa243dc={'nfIYp':_0x4e5cc9(0x238)},_0x70897=new TextEncoder()[_0x4e5cc9(0x126)](_0x37175d);return crypto['subtle'][_0x4e5cc9(0x1d5)](_0xa243dc[_0x4e5cc9(0x170)],_0x70897)[_0x4e5cc9(0x163)](_0x3e7f01=>{const _0x53788c=_0x4e5cc9;return Array[_0x53788c(0x124)](new Uint8Array(_0x3e7f01))[_0x53788c(0x3c8)](_0x471477=>_0x471477[_0x53788c(0x257)](0x10)[_0x53788c(0x176)](0x2,'0'))[_0x53788c(0x10c)]('');});}function toggleNotifications(){const _0x5de1cb=_0x42b5e8,_0x52008f={'BDuOh':function(_0x3146dd,_0x5859f2){return _0x3146dd===_0x5859f2;},'CmvQp':_0x5de1cb(0x320),'lxhdP':'ðŸ”•\x20Disable\x20Notifications','jdIUl':_0x5de1cb(0x34e),'xpwAt':_0x5de1cb(0x33d),'lJMVY':_0x5de1cb(0x3ba)};Notification[_0x5de1cb(0x121)]!==_0x52008f[_0x5de1cb(0x204)]?Notification[_0x5de1cb(0x127)]()[_0x5de1cb(0x163)](_0x3d9e1=>{const _0x21d02d=_0x5de1cb;_0x52008f['BDuOh'](_0x3d9e1,_0x21d02d(0x34e))&&(notificationsEnabled=!![],localStorage['setItem'](_0x21d02d(0x33d),_0x21d02d(0x3e1)),document[_0x21d02d(0x249)](_0x52008f[_0x21d02d(0x3f5)])[_0x21d02d(0x190)]=_0x52008f[_0x21d02d(0x20b)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x5de1cb(0x308)](_0x52008f[_0x5de1cb(0x3d7)],notificationsEnabled?'true':_0x5de1cb(0x40c)),document[_0x5de1cb(0x249)](_0x52008f[_0x5de1cb(0x3f5)])[_0x5de1cb(0x190)]=notificationsEnabled?_0x52008f[_0x5de1cb(0x20b)]:_0x52008f['lJMVY']);}function toggleAuthMode(){const _0x26d1b4=_0x42b5e8,_0x1a9ce9={'jwOdS':_0x26d1b4(0x180),'SufBL':_0x26d1b4(0x169),'Tweox':_0x26d1b4(0x39e),'cQgBE':_0x26d1b4(0x269),'HpFmJ':_0x26d1b4(0x1be),'iPvMl':_0x26d1b4(0x3c0),'gFxCh':_0x26d1b4(0x25e),'BeJsu':'authAvatarPreview','LqJyI':_0x26d1b4(0x390),'iRApu':_0x26d1b4(0x3e5),'hNAWw':_0x26d1b4(0x144),'vxnur':_0x26d1b4(0x1fa),'uQpHM':_0x26d1b4(0x3a0),'yEhvn':_0x26d1b4(0x3be),'dtzqA':_0x26d1b4(0x141),'crpnX':_0x26d1b4(0x2a4)},_0x33c9b9=_0x1a9ce9[_0x26d1b4(0x374)]['split']('|');let _0x3d7a76=0x0;while(!![]){switch(_0x33c9b9[_0x3d7a76++]){case'0':document['getElementById'](_0x26d1b4(0x1da))['innerText']=isRegisterMode?_0x1a9ce9['SufBL']:_0x1a9ce9['Tweox'];continue;case'1':document[_0x26d1b4(0x249)](_0x1a9ce9['cQgBE'])[_0x26d1b4(0x210)][_0x26d1b4(0x16b)]=isRegisterMode?_0x1a9ce9[_0x26d1b4(0x240)]:_0x1a9ce9[_0x26d1b4(0x139)];continue;case'2':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x316)])[_0x26d1b4(0x210)]['display']=_0x1a9ce9[_0x26d1b4(0x240)];continue;case'3':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x34f)])[_0x26d1b4(0x210)][_0x26d1b4(0x16b)]=_0x26d1b4(0x3c0);continue;case'4':document['getElementById'](_0x1a9ce9['LqJyI'])['style'][_0x26d1b4(0x16b)]=isRegisterMode?_0x1a9ce9['HpFmJ']:_0x1a9ce9[_0x26d1b4(0x139)];continue;case'5':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x333)])['style'][_0x26d1b4(0x16b)]=isRegisterMode?_0x1a9ce9[_0x26d1b4(0x240)]:_0x1a9ce9[_0x26d1b4(0x139)];continue;case'6':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x1de)])[_0x26d1b4(0x190)]=isRegisterMode?_0x1a9ce9[_0x26d1b4(0x2f8)]:_0x1a9ce9[_0x26d1b4(0x16e)];continue;case'7':isRegisterMode=!isRegisterMode;continue;case'8':document[_0x26d1b4(0x249)]('authError')['style'][_0x26d1b4(0x16b)]=_0x1a9ce9['iPvMl'];continue;case'9':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x32a)])[_0x26d1b4(0x210)][_0x26d1b4(0x16b)]=isRegisterMode?_0x26d1b4(0x1be):_0x1a9ce9[_0x26d1b4(0x139)];continue;case'10':document[_0x26d1b4(0x249)](_0x26d1b4(0x20a))[_0x26d1b4(0x210)][_0x26d1b4(0x16b)]=isRegisterMode?_0x1a9ce9[_0x26d1b4(0x240)]:_0x1a9ce9[_0x26d1b4(0x139)];continue;case'11':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x217)])[_0x26d1b4(0x210)][_0x26d1b4(0x16b)]=isRegisterMode?_0x1a9ce9[_0x26d1b4(0x240)]:_0x1a9ce9[_0x26d1b4(0x139)];continue;case'12':document[_0x26d1b4(0x249)](_0x1a9ce9[_0x26d1b4(0x137)])[_0x26d1b4(0x190)]=isRegisterMode?'Create\x20Account':_0x1a9ce9[_0x26d1b4(0x16e)];continue;}break;}}function previewAvatar(){const _0x2589e4=_0x42b5e8,_0x1cfed1={'qiEwI':_0x2589e4(0x302),'DFDrc':'authAvatar'},_0x4f772d=document[_0x2589e4(0x249)](_0x1cfed1[_0x2589e4(0x2c4)]);if(!_0x4f772d['files'][_0x2589e4(0x24d)])return;const _0x41d794=new FileReader();_0x41d794['onloadend']=()=>{const _0x3b397c=_0x2589e4;document[_0x3b397c(0x249)](_0x1cfed1[_0x3b397c(0x1f1)])[_0x3b397c(0x356)]=_0x41d794[_0x3b397c(0x3a4)],document[_0x3b397c(0x249)](_0x1cfed1[_0x3b397c(0x1f1)])[_0x3b397c(0x210)][_0x3b397c(0x16b)]='block';},_0x41d794[_0x2589e4(0x27c)](_0x4f772d[_0x2589e4(0x1a6)][0x0]);}async function sendVerificationCode(){const _0x139553=_0x42b5e8,_0x3be0d9={'jBgca':_0x139553(0x141),'psAng':_0x139553(0x25e),'AVSEt':_0x139553(0x3f7),'GSHRK':_0x139553(0x328),'wJMio':_0x139553(0x1be),'aagKr':'c1EG9jBJFQSM_dFHY','xKQbJ':function(_0xec45a3,_0x37e396){return _0xec45a3(_0x37e396);},'frKgY':'Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.'},_0x652226=document[_0x139553(0x249)](_0x3be0d9['jBgca'])['value'][_0x139553(0x2d2)](),_0x276146=document['getElementById'](_0x3be0d9['psAng'])[_0x139553(0x13a)][_0x139553(0x2d2)](),_0x5d23fe=document[_0x139553(0x249)](_0x3be0d9[_0x139553(0x335)]);_0x5d23fe[_0x139553(0x210)]['display']=_0x139553(0x3c0);if(!_0x652226||!_0x276146){_0x5d23fe[_0x139553(0x190)]=_0x3be0d9[_0x139553(0x1b5)],_0x5d23fe[_0x139553(0x210)][_0x139553(0x16b)]=_0x3be0d9[_0x139553(0x130)];return;}const _0x5ab93e=Math[_0x139553(0x3e7)](0x186a0+Math['random']()*0xdbba0)[_0x139553(0x257)]();lastVerificationCode=_0x5ab93e;try{await emailjs[_0x139553(0x2a8)](_0x139553(0x261),_0x139553(0x201),{'to_email':_0x652226,'to_name':_0x276146,'message':_0x5ab93e},_0x3be0d9['aagKr']),_0x3be0d9[_0x139553(0x114)](alert,'Verification\x20code\x20sent!'),document['getElementById'](_0x139553(0x3e5))[_0x139553(0x210)]['display']=_0x3be0d9[_0x139553(0x130)];}catch(_0x29427b){_0x5d23fe[_0x139553(0x190)]=_0x3be0d9[_0x139553(0x226)],_0x5d23fe[_0x139553(0x210)][_0x139553(0x16b)]=_0x3be0d9[_0x139553(0x130)],console['error'](_0x29427b);}}async function submitAuth(){const _0x346a96=_0x42b5e8,_0x5efd94={'TQuwI':_0x346a96(0x141),'ROmxS':_0x346a96(0x25e),'Rvdsa':_0x346a96(0x32b),'ZKIQI':_0x346a96(0x3be),'oyWdk':_0x346a96(0x3e5),'tSmDX':'authError','fYEjr':'none','ZkZst':function(_0x42430a,_0x489a18){return _0x42430a||_0x489a18;},'kmaqR':'Fill\x20all\x20fields.','FpyUA':function(_0x556cb3,_0x33117e){return _0x556cb3!==_0x33117e;},'psFhB':'Passwords\x20do\x20not\x20match.','oPlrb':function(_0x114494,_0x594962){return _0x114494!==_0x594962;},'bXvrB':_0x346a96(0x21b),'XoXxA':_0x346a96(0x1be),'EDxXG':function(_0x197abc,_0x3cbb77){return _0x197abc+_0x3cbb77;},'MmOId':function(_0x2803fc,_0x98a7e6){return _0x2803fc(_0x98a7e6);},'ZwVmy':'Account\x20created!\x20You\x20may\x20now\x20login.','tcuAj':_0x346a96(0x20e),'BpYJh':function(_0x243093,_0x2ee762){return _0x243093+_0x2ee762;},'cNkfA':_0x346a96(0x398),'bZFuL':function(_0x3226b6,_0x3a9d51){return _0x3226b6(_0x3a9d51);},'yDmXO':_0x346a96(0x117),'xLbsB':_0x346a96(0x2bb)},_0x22eaf5=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x2cc)])[_0x346a96(0x13a)]['trim'](),_0x530ff0=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x36c)])['value'][_0x346a96(0x2d2)](),_0x2de930=document['getElementById'](_0x5efd94[_0x346a96(0x185)])[_0x346a96(0x13a)][_0x346a96(0x2d2)](),_0x50975d=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x1ac)])[_0x346a96(0x13a)][_0x346a96(0x2d2)](),_0xe54029=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x367)])['value'][_0x346a96(0x2d2)](),_0x5c1cc6=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x373)]);_0x5c1cc6[_0x346a96(0x210)]['display']=_0x5efd94['fYEjr'];if(isRegisterMode){if(_0x5efd94[_0x346a96(0x150)](!_0x22eaf5,!_0x530ff0)||!_0x2de930||!_0x50975d||!_0xe54029){_0x5c1cc6[_0x346a96(0x190)]=_0x5efd94['kmaqR'],_0x5c1cc6[_0x346a96(0x210)][_0x346a96(0x16b)]='block';return;}if(_0x5efd94[_0x346a96(0x3c2)](_0x2de930,_0x50975d)){_0x5c1cc6['innerText']=_0x5efd94[_0x346a96(0x181)],_0x5c1cc6['style'][_0x346a96(0x16b)]=_0x346a96(0x1be);return;}if(_0x5efd94[_0x346a96(0x3a9)](_0xe54029,lastVerificationCode)){_0x5c1cc6[_0x346a96(0x190)]=_0x5efd94[_0x346a96(0x21a)],_0x5c1cc6[_0x346a96(0x210)][_0x346a96(0x16b)]=_0x5efd94[_0x346a96(0x1a5)];return;}try{const _0x6a316b=await firebase[_0x346a96(0x133)]()[_0x346a96(0x1bd)](_0x22eaf5,_0x2de930),_0x522a42=_0x6a316b['user'],_0x3175ac=sanitizeUsername(_0x530ff0);await db['ref'](_0x5efd94[_0x346a96(0x3f6)](_0x346a96(0x398),_0x3175ac))[_0x346a96(0x2d0)]({'username':_0x530ff0,'email':_0x22eaf5,'createdAt':Date[_0x346a96(0x1db)]()}),await firebase[_0x346a96(0x133)]()[_0x346a96(0x2bd)](),_0x5efd94[_0x346a96(0x3db)](alert,_0x5efd94[_0x346a96(0x243)]),toggleAuthMode();}catch(_0x5db5f7){_0x5c1cc6[_0x346a96(0x190)]=_0x5db5f7[_0x346a96(0x32e)],_0x5c1cc6['style'][_0x346a96(0x16b)]=_0x346a96(0x1be);}}else{const _0xea5036=document[_0x346a96(0x249)](_0x5efd94[_0x346a96(0x36c)])['value']['trim']();if(_0x5efd94[_0x346a96(0x150)](!_0xea5036,!_0x2de930)){_0x5c1cc6[_0x346a96(0x190)]=_0x5efd94[_0x346a96(0x18c)],_0x5c1cc6[_0x346a96(0x210)][_0x346a96(0x16b)]=_0x5efd94['XoXxA'];return;}try{const _0x1486cf=await db[_0x346a96(0x252)](_0x5efd94['BpYJh'](_0x5efd94[_0x346a96(0x354)],_0x5efd94[_0x346a96(0x3cc)](sanitizeUsername,_0xea5036)))[_0x346a96(0x36d)]();if(!_0x1486cf[_0x346a96(0x203)]())throw new Error(_0x5efd94[_0x346a96(0x253)]);const _0x14e1f9=_0x1486cf[_0x346a96(0x143)]()[_0x346a96(0x28d)],_0x3dac73=await firebase[_0x346a96(0x133)]()[_0x346a96(0x237)](_0x14e1f9,_0x2de930),_0x33ea50=_0x3dac73['user'];if(!_0x33ea50[_0x346a96(0x30b)]){await firebase[_0x346a96(0x133)]()['signOut']();throw new Error(_0x5efd94[_0x346a96(0x2b1)]);}username=_0xea5036,startAfterAuth();}catch(_0x14ea6f){_0x5c1cc6['innerText']=_0x14ea6f[_0x346a96(0x32e)],_0x5c1cc6[_0x346a96(0x210)]['display']=_0x346a96(0x1be);}}}async function saveNewUser(_0x5838ab,_0x2f8017,_0x1c8278,_0x273907,_0x3658e9){const _0xd986fc=_0x42b5e8,_0x1df4a4={'vHWbN':function(_0x47bf05,_0x88ec2d){return _0x47bf05(_0x88ec2d);},'OxEiG':_0xd986fc(0x2fe),'QEpSl':function(_0x7feedd,_0x3a90bf){return _0x7feedd||_0x3a90bf;}},_0x5dc739=db[_0xd986fc(0x252)](_0xd986fc(0x28f)+_0x1df4a4[_0xd986fc(0x149)](sanitizeUsername,_0x5838ab)),_0x5cb27a={'username':_0x5838ab,'passwordHash':_0x2f8017,'role':_0x1df4a4['OxEiG'],'deviceId':_0x1c8278,'description':_0x1df4a4[_0xd986fc(0x138)](_0x3658e9,''),'avatarBase64':_0x273907||'','usernameHistory':[_0x5838ab],'lastChanged':Date[_0xd986fc(0x1db)]()};await _0x5dc739['set'](_0x5cb27a),username=_0x5838ab,_0x273907=_0x5cb27a['avatarBase64'],userDescription=_0x5cb27a[_0xd986fc(0x1b0)],startAfterAuth();}async function startAfterAuth(){const _0x136c80=_0x42b5e8,_0x82b768={'hDJlk':function(_0x12ffa1,_0x7768c7){return _0x12ffa1(_0x7768c7);},'xIyYT':_0x136c80(0x2fe),'PuBAj':'sidebarAvatarPreview','Xibak':function(_0x45c181,_0x2cd67e){return _0x45c181+_0x2cd67e;},'VdaDw':'block','vtlia':_0x136c80(0x3b1),'EQifA':'namePreview','velPi':_0x136c80(0x1ab)},_0x23da3a=_0x82b768['hDJlk'](sanitizeUsername,username),_0xd590f0=db[_0x136c80(0x252)](_0x136c80(0x28f)+_0x23da3a),_0x733b96=await _0xd590f0[_0x136c80(0x36d)]();if(_0x733b96[_0x136c80(0x203)]()){const _0x234867=_0x733b96[_0x136c80(0x143)]();username=_0x234867[_0x136c80(0x2e3)],userDescription=_0x234867[_0x136c80(0x1b0)]||'',avatarBase64=_0x234867[_0x136c80(0x2f6)]||'',role=_0x234867[_0x136c80(0x275)]||_0x82b768[_0x136c80(0x11e)];if(avatarBase64){const _0xc33f9d=document[_0x136c80(0x249)](_0x82b768['PuBAj']);_0xc33f9d[_0x136c80(0x356)]=_0x82b768[_0x136c80(0x174)]('data:image/png;base64,',avatarBase64),_0xc33f9d['style'][_0x136c80(0x16b)]=_0x82b768['VdaDw'];}}else console['warn'](_0x82b768[_0x136c80(0x214)]);await loadRoomRoles(),document[_0x136c80(0x249)](_0x82b768[_0x136c80(0x1b7)])['innerText']=username,showScreen(_0x82b768[_0x136c80(0x30c)]);}function toggleRecording(){const _0x4d5638=_0x42b5e8,_0x4b495d={'hNSlz':'[Voice\x20message]','HYrOp':function(_0x2e27e0,_0x4501cf){return _0x2e27e0(_0x4501cf);},'wkliU':_0x4d5638(0x3ee),'wAUCb':function(_0x3474d9,_0xc8b9ea){return _0x3474d9&&_0xc8b9ea;},'aIfGg':function(_0x1d3c59){return _0x1d3c59();},'JbhAo':'recordBtn'};isRecording?stopRecording():navigator['mediaDevices'][_0x4d5638(0x225)]({'audio':!![]})[_0x4d5638(0x163)](_0x2014ff=>{const _0x3fb9e5=_0x4d5638,_0x408480={'McrlS':function(_0x4a382d,_0x48e2a9){const _0x2daf66=_0x3d28;return _0x4b495d[_0x2daf66(0x31e)](_0x4a382d,_0x48e2a9);},'OJShf':function(_0x2c7478){return _0x4b495d['aIfGg'](_0x2c7478);}};mediaRecorder=new MediaRecorder(_0x2014ff),mediaRecorder[_0x3fb9e5(0x1c4)](),isRecording=!![],document[_0x3fb9e5(0x249)](_0x4b495d[_0x3fb9e5(0x38d)])[_0x3fb9e5(0x190)]='â¹ï¸',audioChunks=[],mediaRecorder[_0x3fb9e5(0x2d9)]=_0x29b693=>audioChunks[_0x3fb9e5(0x3dd)](_0x29b693[_0x3fb9e5(0x279)]),mediaRecorder[_0x3fb9e5(0x28e)]=()=>{const _0x4d74fc=_0x3fb9e5,_0x2f8b08={'PeKRr':_0x4b495d[_0x4d74fc(0x168)]};_0x4b495d['HYrOp'](clearTimeout,recordingTimer);const _0x297a98=new Blob(audioChunks,{'type':_0x4b495d['wkliU']}),_0x8e41c0=new FileReader();_0x8e41c0[_0x4d74fc(0x277)]=()=>{const _0x119500=_0x4d74fc,_0x175fb4=_0x8e41c0[_0x119500(0x3a4)]['split'](',')[0x1],_0x4b5995=db['ref']()[_0x119500(0x3dd)]()['key'];db[_0x119500(0x252)](_0x119500(0x2e6)+roomCode+'/messages/'+_0x4b5995)[_0x119500(0x2d0)]({'msg':_0x2f8b08[_0x119500(0x38a)],'audioBase64':_0x175fb4,'sender':username,'senderId':clientId,'timestamp':Date[_0x119500(0x1db)]()});},_0x8e41c0['readAsDataURL'](_0x297a98);},recordingTimer=setTimeout(()=>{const _0x5c2dd2=_0x3fb9e5;_0x408480[_0x5c2dd2(0x22f)](mediaRecorder,isRecording)&&_0x408480['OJShf'](stopRecording);},0x4e20);})[_0x4d5638(0x292)](_0x2b8c3a=>{alert('Microphone\x20permission\x20denied.');});}function stopRecording(){const _0x21a32d=_0x42b5e8,_0x3a877d={'Cwyxd':_0x21a32d(0x1f9),'cglbX':_0x21a32d(0x405)};mediaRecorder&&isRecording&&(mediaRecorder[_0x21a32d(0x1c5)](),isRecording=![],document[_0x21a32d(0x249)](_0x3a877d[_0x21a32d(0x1d2)])[_0x21a32d(0x190)]=_0x3a877d[_0x21a32d(0x2b3)]);}window[_0x42b5e8(0x39b)]=async()=>{const _0x5977b0=_0x42b5e8,_0x5c618c={'pSckS':function(_0x188643){return _0x188643();},'aHebK':function(_0x212f52){return _0x212f52();},'iAIoA':function(_0x437d2a,_0x308334){return _0x437d2a===_0x308334;},'bNRTA':_0x5977b0(0x3e1),'iwKYV':function(_0xbcfc7b,_0x732394){return _0xbcfc7b(_0x732394);},'tWgPX':'authScreen'};cleanupOldRooms(),_0x5c618c[_0x5977b0(0x12a)](setupSidebarBackHandler),_0x5c618c[_0x5977b0(0x12a)](setupVisibilityAttention),_0x5c618c[_0x5977b0(0x295)](resetWebsiteData);const _0x5ae4dc=localStorage[_0x5977b0(0x319)](_0x5977b0(0x33d));notificationsEnabled=_0x5c618c[_0x5977b0(0x235)](_0x5ae4dc,_0x5c618c[_0x5977b0(0x1a8)]),isRegisterMode=![],_0x5c618c[_0x5977b0(0x12a)](toggleAuthMode),_0x5c618c[_0x5977b0(0x26e)](showScreen,_0x5c618c[_0x5977b0(0x17f)]);};function sanitizeUsername(_0x53688b){const _0x2f4a53=_0x42b5e8;return _0x53688b[_0x2f4a53(0x16c)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x4b55ee=_0x42b5e8,_0x59215b={'jBOoj':_0x4b55ee(0x140),'xYtia':'âš ï¸\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','yikaA':'block','xyBIA':_0x4b55ee(0x112),'uZULY':_0x4b55ee(0x404),'mLyZD':'âŒ\x20Username\x20already\x20taken.','upgAH':'Error\x20checking\x20username:','HziFr':'profileUsernameInput','TWRir':_0x4b55ee(0x13a)},_0x8992b1=document[_0x4b55ee(0x249)](_0x59215b[_0x4b55ee(0x2ad)])['value'][_0x4b55ee(0x2d2)](),_0x5543ef=document['getElementById'](_0x4b55ee(0x30f))[_0x4b55ee(0x13a)][_0x4b55ee(0x2d2)](),_0x152ce4=document[_0x4b55ee(0x249)](_0x4b55ee(0x353));if(!_0x8992b1||!_0x5543ef){_0x152ce4[_0x4b55ee(0x190)]=_0x4b55ee(0x1eb),_0x152ce4[_0x4b55ee(0x210)][_0x4b55ee(0x16b)]=_0x59215b[_0x4b55ee(0x3c4)];return;}const _0x506788=sanitizeUsername(_0x8992b1),_0x5da4a3=db[_0x4b55ee(0x252)]('profiles/'+_0x506788);_0x5da4a3['once'](_0x59215b['TWRir'])[_0x4b55ee(0x163)](_0x3cfe2d=>{const _0xb33d9=_0x4b55ee;if(_0x3cfe2d['exists']())_0x152ce4[_0xb33d9(0x190)]=_0x59215b[_0xb33d9(0x1af)],_0x152ce4[_0xb33d9(0x210)][_0xb33d9(0x16b)]=_0x59215b[_0xb33d9(0x3c4)];else{const _0x28a36f={'username':_0x8992b1,'description':_0x5543ef,'lastChanged':Date[_0xb33d9(0x1db)](),'usernameHistory':[_0x8992b1]};_0x5da4a3['set'](_0x28a36f,_0x26a637=>{const _0x5c4466=_0xb33d9;if(_0x26a637)console[_0x5c4466(0x194)](_0x59215b[_0x5c4466(0x245)],_0x26a637),_0x152ce4[_0x5c4466(0x190)]=_0x59215b['xYtia'],_0x152ce4[_0x5c4466(0x210)][_0x5c4466(0x16b)]=_0x59215b['yikaA'];else{const _0x358cd0=_0x59215b[_0x5c4466(0x1cf)]['split']('|');let _0x1ca7ab=0x0;while(!![]){switch(_0x358cd0[_0x1ca7ab++]){case'0':localStorage['setItem']('profile_description',_0x5543ef);continue;case'1':localStorage[_0x5c4466(0x308)](_0x59215b['uZULY'],_0x8992b1);continue;case'2':showScreen(_0x5c4466(0x1ab));continue;case'3':document[_0x5c4466(0x249)](_0x5c4466(0x23e))[_0x5c4466(0x190)]=_0x8992b1;continue;case'4':username=_0x8992b1;continue;}break;}}});}})[_0x4b55ee(0x292)](_0x48e22d=>{const _0x267f52=_0x4b55ee;console[_0x267f52(0x194)](_0x59215b['upgAH'],_0x48e22d),_0x152ce4[_0x267f52(0x190)]=_0x267f52(0x1fc),_0x152ce4['style'][_0x267f52(0x16b)]=_0x59215b[_0x267f52(0x3c4)];});}function saveProfile(_0xff5757,_0x3999fc,_0xd89d95){const _0x35fbed=_0x42b5e8,_0xbb92a7={'pIsBn':_0x35fbed(0x23e),'qyOFz':function(_0x294140,_0x30e6d2){return _0x294140(_0x30e6d2);},'ZRZFF':'roomChoiceScreen'},_0x33f377=Date[_0x35fbed(0x1db)](),_0xea4bc7=[_0xff5757];db[_0x35fbed(0x252)](_0x35fbed(0x14f)+_0xd89d95)[_0x35fbed(0x2d0)]({'username':_0xff5757,'description':_0x3999fc,'lastChanged':_0x33f377,'usernameHistory':_0xea4bc7}),document[_0x35fbed(0x249)](_0xbb92a7[_0x35fbed(0x34b)])['innerText']=_0xff5757,_0xbb92a7['qyOFz'](showScreen,_0xbb92a7[_0x35fbed(0x1a9)]);}function generateRoom(){const _0x14bb14=_0x42b5e8,_0x572284={'pDwZi':function(_0x3095f7){return _0x3095f7();},'odXEp':function(_0x2e4cd8,_0x3390c7){return _0x2e4cd8+_0x3390c7;}};roomCode=_0x572284[_0x14bb14(0x171)](genRoomCode),db[_0x14bb14(0x252)](_0x572284[_0x14bb14(0x1c3)](_0x14bb14(0x2e6),roomCode))[_0x14bb14(0x2d0)]({'active':!![],'created':Date[_0x14bb14(0x1db)]()}),_0x572284['pDwZi'](startChat);}function joinRoom(){const _0x6cc7a5=_0x42b5e8,_0xe171d0={'MkYkW':function(_0x33b39f,_0x441706){return _0x33b39f!==_0x441706;},'chKCj':function(_0x3ce4d1){return _0x3ce4d1();},'XXkZi':function(_0x532a24,_0x37f9b3){return _0x532a24(_0x37f9b3);},'xqDLn':_0x6cc7a5(0x273),'Loums':'Enter\x20a\x20valid\x20room\x20code','XlEfS':function(_0x59671f,_0x3fb382){return _0x59671f(_0x3fb382);},'Asfvr':'passwordScreen','qqWPp':function(_0x550781,_0x2068dd){return _0x550781+_0x2068dd;},'DieSB':'rooms/'},_0x2c9b6e=roomCode||document[_0x6cc7a5(0x249)](_0xe171d0['xqDLn'])['value'][_0x6cc7a5(0x2d2)]()['toUpperCase']();if(!_0x2c9b6e)return alert(_0xe171d0[_0x6cc7a5(0x2c8)]);roomCode=_0x2c9b6e;if(roomCode===STATIC_ROOM){_0xe171d0[_0x6cc7a5(0x10f)](showScreen,_0xe171d0[_0x6cc7a5(0x305)]);return;}db[_0x6cc7a5(0x252)](_0xe171d0[_0x6cc7a5(0x12c)](_0xe171d0[_0x6cc7a5(0x324)],roomCode))[_0x6cc7a5(0x36d)]()['then'](_0x2d2667=>{const _0x8a6abe=_0x6cc7a5;_0x2d2667[_0x8a6abe(0x203)]()&&_0xe171d0[_0x8a6abe(0x287)](_0x2d2667['val']()[_0x8a6abe(0x2ea)],![])?_0xe171d0[_0x8a6abe(0x3bb)](startChat):_0xe171d0[_0x8a6abe(0x36b)](alert,_0x8a6abe(0x1b8));});}async function startChat(){const _0x4effd3=_0x42b5e8,_0x3eee80={'aFQuM':_0x4effd3(0x2f1),'SFlVL':function(_0x528f13,_0x4b2445){return _0x528f13===_0x4b2445;},'zGGCY':function(_0x148d54,_0x42896f){return _0x148d54===_0x42896f;},'iuEyJ':'admin','idsCw':function(_0x13cea6,_0x503db0){return _0x13cea6===_0x503db0;},'GzcsW':_0x4effd3(0x3d0),'ZBZlQ':function(_0x107185,_0xd8f006){return _0x107185(_0xd8f006);},'ofesM':function(_0x50682d,_0x3a6db6){return _0x50682d(_0x3a6db6);},'tAcPh':function(_0xb2cb59){return _0xb2cb59();},'Xhrsi':_0x4effd3(0x3a6),'qErIo':'sidebarAvatarPreview','AgWdp':function(_0x2d8ddf,_0x158ba4){return _0x2d8ddf+_0x158ba4;},'DeliM':_0x4effd3(0x2ab),'inbLC':'block','yUARk':function(_0x248863,_0x39c77b){return _0x248863(_0x39c77b);},'vzGUF':'roomDisplay','qqAIn':_0x4effd3(0x2ba),'BvHtK':'system','RuJrF':_0x4effd3(0x3ff),'fWOnb':function(_0x3cd15d){return _0x3cd15d();},'RegcI':function(_0x136df2){return _0x136df2();},'BnqBT':'auth','YDfJf':_0x4effd3(0x189),'RIgwA':function(_0x1cb267,_0x1973e7){return _0x1cb267||_0x1973e7;},'XCSuX':function(_0x34cd43,_0x19c093){return _0x34cd43(_0x19c093);},'EDYav':_0x4effd3(0x1ab)};if(_0x3eee80[_0x4effd3(0x3d8)](!roomCode,!username))return _0x3eee80['XCSuX'](alert,_0x4effd3(0x3d5)),_0x3eee80[_0x4effd3(0x1e8)](showScreen,_0x3eee80[_0x4effd3(0x30d)]);listenForPauseState(),_0x3eee80[_0x4effd3(0x1bb)](listenForUserList),await _0x3eee80['RegcI'](loadRoomRoles),_0x3eee80[_0x4effd3(0x123)](listenForAnnouncement);const _0x238100=sanitizeUsername(username),_0x57de1c=db[_0x4effd3(0x252)](_0x4effd3(0x398)+roomCode+'/'+_0x238100),_0x6902c9={'username':username,'online':!![],'lastOnline':firebase[_0x4effd3(0x147)][_0x4effd3(0x1d7)]['TIMESTAMP']};_0x57de1c['set'](_0x6902c9,_0x441312=>{const _0xba649c=_0x4effd3,_0x5c911b={'bljwh':function(_0x934d69,_0x3ba474){const _0x45ed73=_0x3d28;return _0x3eee80[_0x45ed73(0x207)](_0x934d69,_0x3ba474);},'fkBGK':function(_0x28e833){return _0x28e833();},'ZHGRQ':function(_0x44d9b4){return _0x3eee80['tAcPh'](_0x44d9b4);}};if(_0x441312)return _0x3eee80[_0xba649c(0x207)](alert,_0x3eee80['Xhrsi']),_0x3eee80['ZBZlQ'](showScreen,'roomChoiceScreen');const _0x35fb8f=document['getElementById'](_0x3eee80[_0xba649c(0x2df)]);avatarBase64&&(_0x35fb8f[_0xba649c(0x356)]=_0x3eee80[_0xba649c(0x1a7)](_0x3eee80[_0xba649c(0x317)],avatarBase64),_0x35fb8f[_0xba649c(0x210)]['display']=_0x3eee80[_0xba649c(0x154)]);document[_0xba649c(0x249)](_0xba649c(0x3b9))['innerHTML']=username+'\x20'+_0x3eee80[_0xba649c(0x10b)](getRoleTag,_0x238100),document[_0xba649c(0x249)](_0x3eee80[_0xba649c(0x2dc)])[_0xba649c(0x190)]=roomCode===STATIC_ROOM?_0x3eee80[_0xba649c(0x157)]:roomCode,updateAnnouncementVisibility();const _0x234e63=db[_0xba649c(0x252)]()['push']()[_0xba649c(0x13d)];db[_0xba649c(0x252)](_0xba649c(0x2e6)+roomCode+'/messages/'+_0x234e63)[_0xba649c(0x2d0)]({'msg':username+_0xba649c(0x22d),'sender':_0xba649c(0x1b1),'senderId':_0x3eee80['BvHtK'],'timestamp':Date[_0xba649c(0x1db)]()}),_0x3eee80[_0xba649c(0x10b)](showScreen,_0xba649c(0x166)),document[_0xba649c(0x249)](_0x3eee80[_0xba649c(0x10d)])[_0xba649c(0x1ec)](_0x3eee80[_0xba649c(0x40a)],_0x2e913f=>{const _0xc19216=_0xba649c,_0x3acbed={'LNoBO':_0x3eee80[_0xc19216(0x10d)]};_0x3eee80['SFlVL'](_0x2e913f[_0xc19216(0x1c6)],0x3)&&(_0x3eee80['zGGCY'](role,_0x3eee80[_0xc19216(0x1ff)])||_0x3eee80['idsCw'](role,_0x3eee80[_0xc19216(0x11f)]))&&(_0x3eee80[_0xc19216(0x1e8)](confirm,_0xc19216(0x23c))&&db['ref'](_0xc19216(0x2e6)+roomCode+_0xc19216(0x122))[_0xc19216(0x17b)]()['then'](()=>{const _0x51b8bb=_0xc19216;document['getElementById'](_0x3acbed[_0x51b8bb(0x158)])[_0x51b8bb(0x190)]='';}));}),_0x3eee80[_0xba649c(0x1bb)](listenForMessages),listenForTyping(),_0x3eee80[_0xba649c(0x123)](startInactivityTimer),_0x3eee80[_0xba649c(0x123)](trackPresence),watchProfileChanges(),_0x3eee80['RegcI'](watchMuteStatus),_0x3eee80[_0xba649c(0x274)](startSidebarSyncLoop);const _0x14e632=()=>{const _0x5da3d9=_0xba649c;_0x5c911b[_0x5da3d9(0x30e)](loadRoomRoles)[_0x5da3d9(0x163)](()=>{const _0x11ce49=_0x5da3d9;_0x5c911b[_0x11ce49(0x1f4)](renderUserLists,roomUsers),_0x5c911b[_0x11ce49(0x370)](updateAnnouncementVisibility);});};db[_0xba649c(0x252)](_0x3eee80[_0xba649c(0x2d5)])['on']('child_changed',_0x14e632),db[_0xba649c(0x252)](_0x3eee80[_0xba649c(0x2d5)])['on'](_0x3eee80[_0xba649c(0x2b4)],_0x14e632);});}function updateAnnouncementVisibility(){const _0x27b1d5=_0x42b5e8,_0x3ac08a={'utHgL':'admin','ylpQL':function(_0x2f75c2,_0x4ea43e){return _0x2f75c2===_0x4ea43e;},'jebhe':'dev','pgyBu':_0x27b1d5(0x1be),'ICZdd':_0x27b1d5(0x3c0)},_0x155840=document[_0x27b1d5(0x249)]('addAnnouncementBtn');role===_0x3ac08a[_0x27b1d5(0x37c)]||_0x3ac08a['ylpQL'](role,_0x3ac08a[_0x27b1d5(0x21f)])?_0x155840['style'][_0x27b1d5(0x16b)]=_0x3ac08a[_0x27b1d5(0x28c)]:_0x155840['style']['display']=_0x3ac08a[_0x27b1d5(0x1d8)];}function watchProfileChanges(){const _0x1f8e85=_0x42b5e8,_0x54cb19={'ZeCTB':_0x1f8e85(0x346),'aXLsE':_0x1f8e85(0x2ab),'rcYwQ':function(_0xac18f7,_0x4c8c9e){return _0xac18f7(_0x4c8c9e);}},_0x92746d=_0x54cb19[_0x1f8e85(0x17a)](sanitizeUsername,username);db['ref']('auth/'+_0x92746d)['on'](_0x1f8e85(0x13a),_0x3f48b1=>{const _0xfdc03b=_0x1f8e85;if(!_0x3f48b1[_0xfdc03b(0x203)]())return;const _0x5659e9=_0x3f48b1['val']();userDescription=_0x5659e9['description']||'',avatarBase64=_0x5659e9[_0xfdc03b(0x2f6)]||'',role=_0x5659e9[_0xfdc03b(0x275)]||_0xfdc03b(0x2fe);if(avatarBase64){const _0x196e9b=document[_0xfdc03b(0x249)](_0x54cb19[_0xfdc03b(0x3ab)]);!_0x196e9b[_0xfdc03b(0x356)][_0xfdc03b(0x1e2)](avatarBase64)&&(_0x196e9b[_0xfdc03b(0x356)]=_0x54cb19['aXLsE']+avatarBase64,_0x196e9b[_0xfdc03b(0x210)][_0xfdc03b(0x16b)]='block');}_0x54cb19[_0xfdc03b(0x17a)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0xec02a3){const _0x3b3804=_0x42b5e8,_0x4a6c7d={'QCRss':function(_0x386527,_0x17dbdc){return _0x386527<_0x17dbdc;},'pwFJJ':function(_0x1d0356,_0x1cb3fc){return _0x1d0356(_0x1cb3fc);},'GByEQ':_0x3b3804(0x2d4),'ZOrjb':function(_0x25764d,_0x59b845){return _0x25764d>_0x59b845;},'quMRX':function(_0xc195f5,_0x3ce152){return _0xc195f5*_0x3ce152;},'ZvgSl':'âŒ\x20Image\x20must\x20be\x20under\x202MB'},_0x173390=Date['now']();if(_0x4a6c7d[_0x3b3804(0x368)](_0x173390-lastImageTime,0x2710)){_0x4a6c7d[_0x3b3804(0x281)](alert,_0x4a6c7d[_0x3b3804(0x113)]);return;}lastImageTime=_0x173390;const _0x2d7015=_0xec02a3[_0x3b3804(0x1a6)][0x0];if(!_0x2d7015||_0x4a6c7d['ZOrjb'](_0x2d7015[_0x3b3804(0x344)],_0x4a6c7d[_0x3b3804(0x2a2)](_0x4a6c7d['quMRX'](0x2,0x400),0x400))){_0x4a6c7d[_0x3b3804(0x281)](alert,_0x4a6c7d[_0x3b3804(0x1d0)]);return;}const _0x5df1c5=new FileReader();_0x5df1c5[_0x3b3804(0x277)]=()=>{const _0x2ac20c=_0x3b3804,_0x506c13=_0x5df1c5['result'][_0x2ac20c(0x248)](',')[0x1],_0x3567b4=db[_0x2ac20c(0x252)]()['push']()[_0x2ac20c(0x13d)];db[_0x2ac20c(0x252)]('rooms/'+roomCode+_0x2ac20c(0x3c3)+_0x3567b4)[_0x2ac20c(0x2d0)]({'imageBase64':_0x506c13,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x5df1c5[_0x3b3804(0x27c)](_0x2d7015);}async function fetchProfile(_0x18ca7d){const _0x550054=_0x42b5e8,_0x2e84c4=await db['ref']('auth/'+_0x18ca7d)[_0x550054(0x36d)]();if(!_0x2e84c4[_0x550054(0x203)]())return null;return _0x2e84c4[_0x550054(0x143)]();}function validateStaticRoomPassword(){const _0x230ecb=_0x42b5e8,_0x3c54e1={'komCv':function(_0x41cd9a,_0x4b4e3d){return _0x41cd9a(_0x4b4e3d);},'siXcg':_0x230ecb(0x1ce),'uOKhp':function(_0x1aaf2d,_0x49b838){return _0x1aaf2d===_0x49b838;},'FkSOq':function(_0x29cfa8){return _0x29cfa8();},'Kiega':_0x230ecb(0x1d9),'KVxBT':'block','fTurX':function(_0x55f27a,_0x55f395){return _0x55f27a(_0x55f395);},'hqjMg':_0x230ecb(0x161),'bUJpG':function(_0xee449a,_0x1281f5){return _0xee449a(_0x1281f5);},'rObUy':_0x230ecb(0x230)},_0x406d75=document[_0x230ecb(0x249)](_0x3c54e1[_0x230ecb(0x200)])[_0x230ecb(0x13a)][_0x230ecb(0x2d2)]();if(!_0x406d75){_0x3c54e1[_0x230ecb(0x179)](alert,_0x3c54e1[_0x230ecb(0x14c)]);return;}db[_0x230ecb(0x252)](_0x230ecb(0x350)+STATIC_ROOM)['get']()[_0x230ecb(0x163)](_0xdc8c1d=>{const _0x2fdc6f=_0x230ecb;if(!_0xdc8c1d[_0x2fdc6f(0x203)]()){_0x3c54e1[_0x2fdc6f(0x1a4)](alert,_0x3c54e1['siXcg']);return;}const _0x2b2842=_0xdc8c1d[_0x2fdc6f(0x143)]();_0x3c54e1[_0x2fdc6f(0x3a1)](_0x406d75,_0x2b2842)?(roomCode=STATIC_ROOM,_0x3c54e1[_0x2fdc6f(0x3fe)](startChat)):(document['getElementById'](_0x3c54e1[_0x2fdc6f(0x1f7)])['innerText']=_0x2fdc6f(0x15b),document[_0x2fdc6f(0x249)](_0x3c54e1[_0x2fdc6f(0x1f7)])[_0x2fdc6f(0x210)][_0x2fdc6f(0x16b)]=_0x3c54e1['KVxBT']);})['catch'](_0x36a7dc=>{const _0x3bfda1=_0x230ecb;console[_0x3bfda1(0x194)](_0x36a7dc),_0x3c54e1[_0x3bfda1(0x132)](alert,_0x3bfda1(0x199));});}function listenForPauseState(){const _0x28ffac=_0x42b5e8,_0xbfc726={'ubuwH':_0x28ffac(0x298),'uYsAG':_0x28ffac(0x1be)};db[_0x28ffac(0x252)]('roomStates/'+roomCode+_0x28ffac(0x1f5))['on'](_0x28ffac(0x13a),_0x293d57=>{const _0xc4fe7f=_0x28ffac,_0x53442e=_0x293d57[_0xc4fe7f(0x203)]()&&_0x293d57[_0xc4fe7f(0x143)]()===!![];document[_0xc4fe7f(0x249)](_0xbfc726[_0xc4fe7f(0x26b)])[_0xc4fe7f(0x210)][_0xc4fe7f(0x16b)]=_0x53442e?_0xbfc726[_0xc4fe7f(0x2c7)]:_0xc4fe7f(0x3c0);});}const spamTimestamps=[];async function sendMessage(){const _0x1d0952=_0x42b5e8,_0x4d3120={'BetOu':_0x1d0952(0x2f4),'hnjRk':function(_0xb598cb,_0x1fff98){return _0xb598cb===_0x1fff98;},'ENoAd':'object','wRZGB':function(_0x3adde9,_0x4b2a0c){return _0x3adde9>_0x4b2a0c;},'JitbK':function(_0x11056b,_0x1e5c96){return _0x11056b(_0x1e5c96);},'FqpiD':'â›”\x20You\x20are\x20muted.','BJhVT':function(_0x41ea01,_0x5b6418){return _0x41ea01===_0x5b6418;},'mgTRh':function(_0x4308bb,_0x305f29){return _0x4308bb!==_0x305f29;},'eJDIt':function(_0x14315e,_0x9917a1){return _0x14315e(_0x9917a1);},'XlcGt':_0x1d0952(0x3ca),'GifbI':_0x1d0952(0x286),'CeclU':_0x1d0952(0x399),'kYcea':_0x1d0952(0x223),'ghJIr':function(_0x2a7942,_0x178ec7,_0x3c7a42){return _0x2a7942(_0x178ec7,_0x3c7a42);},'ZDIQM':function(_0x43ac81,_0x38f1f8){return _0x43ac81(_0x38f1f8);},'uRUtH':_0x1d0952(0x3e9),'mEIvP':_0x1d0952(0x24e)},_0x2d98f4=await db[_0x1d0952(0x252)]('roomStates/'+roomCode+_0x1d0952(0x1f5))[_0x1d0952(0x36d)](),_0x36c9ec=await db[_0x1d0952(0x252)]('muted/'+roomCode+'/'+sanitizeUsername(username))[_0x1d0952(0x36d)]();if(_0x36c9ec['exists']()){const _0x466169=_0x36c9ec[_0x1d0952(0x143)](),_0x1d7c90=_0x4d3120[_0x1d0952(0x29e)](typeof _0x466169,_0x4d3120['ENoAd'])&&_0x466169['muteUntil']?_0x466169[_0x1d0952(0x325)]:_0x466169;if(_0x4d3120[_0x1d0952(0x1f3)](_0x1d7c90,Date['now']())){_0x4d3120['JitbK'](alert,_0x4d3120['FqpiD']);return;}}if(_0x2d98f4[_0x1d0952(0x203)]()&&_0x4d3120['BJhVT'](_0x2d98f4[_0x1d0952(0x143)](),!![])&&_0x4d3120[_0x1d0952(0x195)](role,_0x1d0952(0x3d0))){_0x4d3120[_0x1d0952(0x37f)](alert,_0x1d0952(0x251));return;}const _0x1b824e=document['getElementById'](_0x4d3120[_0x1d0952(0x35b)]),_0x352038=_0x1b824e[_0x1d0952(0x13a)][_0x1d0952(0x2d2)]();if(!_0x352038||isBlocked)return;const _0x22503b=Date[_0x1d0952(0x1db)](),_0x8cf8f7=_0x352038[_0x1d0952(0x1c7)](),_0x37e3a7=swearWords[_0x1d0952(0x131)](_0xb4d786=>_0x8cf8f7[_0x1d0952(0x1e2)](_0xb4d786));if(_0x37e3a7){_0x4d3120[_0x1d0952(0x1c9)](alert,_0x4d3120['GifbI']);return;}spamTimestamps[_0x1d0952(0x3dd)](_0x22503b);const _0x44c0a0=spamTimestamps[_0x1d0952(0x301)](_0x4a8898=>_0x22503b-_0x4a8898<0x1b58);if(_0x44c0a0[_0x1d0952(0x24d)]>0x5){isBlocked=!![],_0x1b824e['disabled']=!![],_0x1b824e[_0x1d0952(0x160)]=_0x4d3120[_0x1d0952(0x35a)],alert(_0x4d3120['kYcea']),_0x4d3120['ghJIr'](setTimeout,()=>{const _0x4ab0ca=_0x1d0952;isBlocked=![],_0x1b824e[_0x4ab0ca(0x173)]=![],_0x1b824e[_0x4ab0ca(0x160)]=_0x4d3120[_0x4ab0ca(0x1dc)],spamTimestamps[_0x4ab0ca(0x24d)]=0x0;},0x7530);return;}const _0x43f8bd=_0x352038[_0x1d0952(0x1ef)](/(.)\1{14,}/);if(_0x43f8bd){_0x4d3120['ZDIQM'](alert,_0x4d3120['uRUtH']);return;}const _0x1d1bbf=localStorage[_0x1d0952(0x319)](_0x4d3120[_0x1d0952(0x1a3)])||'',_0x385698=db['ref']()['push']()['key'];db[_0x1d0952(0x252)](_0x1d0952(0x2e6)+roomCode+_0x1d0952(0x3c3)+_0x385698)[_0x1d0952(0x2d0)]({'msg':_0x352038,'sender':username,'senderId':clientId,'avatarBase64':_0x1d1bbf,'timestamp':_0x22503b}),_0x1b824e[_0x1d0952(0x13a)]='',_0x4d3120[_0x1d0952(0x37f)](sendTyping,!![]),lastActivity=_0x22503b;}function listenForMessages(){const _0x33daa7=_0x42b5e8,_0x10691e={'RQDsf':function(_0x542513,_0x1c1991,_0x5ec6b1,_0x8cd091){return _0x542513(_0x1c1991,_0x5ec6b1,_0x8cd091);},'UJeXj':function(_0x272e12,_0x341c47){return _0x272e12===_0x341c47;},'dCCmJ':function(_0x3cdeea,_0x57df4a){return _0x3cdeea!==_0x57df4a;},'tqVan':function(_0x5e365d,_0x15ba6f){return _0x5e365d!==_0x15ba6f;},'JmFbQ':_0x33daa7(0x1b1),'LAsPh':function(_0x516c40){return _0x516c40();},'aXNAo':function(_0x14b631,_0x42503b){return _0x14b631&&_0x42503b;},'bftub':_0x33daa7(0x27a),'qiDii':_0x33daa7(0x206),'wzubi':'[Unknown]','MCxzj':function(_0x5f6666,_0x42f175){return _0x5f6666||_0x42f175;},'biSxe':function(_0x4178c6,_0x986b59){return _0x4178c6>_0x986b59;},'qNExi':_0x33daa7(0x189),'CTQTz':'value','BRegw':'child_removed'},_0x2d8871=db[_0x33daa7(0x252)](_0x33daa7(0x2e6)+roomCode+_0x33daa7(0x334)),_0x533504=_0x2d8871[_0x33daa7(0x40d)](MAX_MESSAGES);userListReady=!![],_0x533504['on'](_0x10691e[_0x33daa7(0x366)],_0x37a67f=>{const _0x2601aa=_0x33daa7,_0x61e662=_0x37a67f['val'](),{senderId:_0x41dfc2}=_0x61e662,_0x1ddc0e=_0x10691e[_0x2601aa(0x2e1)](_0x41dfc2,clientId);if(!userListReady){pendingMessages[_0x2601aa(0x406)](({data:_0x56f1cc,sent:_0x22c7bb,key:_0x576cff})=>{const _0x1bfcfc=_0x2601aa;_0x10691e[_0x1bfcfc(0x2b0)](addMessage,_0x56f1cc,_0x22c7bb,_0x576cff);}),pendingMessages=[];return;}const _0x4a7463=_0x61e662[_0x2601aa(0x22e)]||null,_0x2f9379=_0x61e662[_0x2601aa(0x231)]||null;addMessage(_0x61e662,_0x1ddc0e,_0x37a67f['key']);if(_0x10691e[_0x2601aa(0x1c2)](roomCode,STATIC_ROOM)&&_0x10691e['tqVan'](_0x61e662[_0x2601aa(0x327)],_0x10691e[_0x2601aa(0x128)])){}!_0x1ddc0e&&(sound[_0x2601aa(0x159)](),_0x10691e[_0x2601aa(0x135)](flagPageAttention));if(_0x10691e[_0x2601aa(0x39a)](notificationsEnabled,!_0x1ddc0e)&&Notification[_0x2601aa(0x121)]==='granted'){const _0x15f093=_0x61e662['msg']||(_0x61e662[_0x2601aa(0x231)]?_0x10691e[_0x2601aa(0x2a9)]:_0x61e662['imageBase64']?_0x10691e[_0x2601aa(0x2e0)]:_0x10691e[_0x2601aa(0x120)]);new Notification(_0x2601aa(0x2a0)+_0x61e662[_0x2601aa(0x327)],{'body':_0x15f093,'icon':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg'});}}),_0x2d8871['once'](_0x10691e[_0x33daa7(0x155)])[_0x33daa7(0x163)](_0xf0ff43=>{const _0x5d9065=_0x33daa7,_0x5a05fc=_0xf0ff43[_0x5d9065(0x143)](),_0x3d5099=Object[_0x5d9065(0x24b)](_0x10691e[_0x5d9065(0x407)](_0x5a05fc,{}));if(_0x10691e[_0x5d9065(0x381)](_0x3d5099[_0x5d9065(0x24d)],MAX_MESSAGES)){const _0x4603cd=_0x3d5099[_0x5d9065(0x24d)]-MAX_MESSAGES,_0x4f8ada=_0x3d5099['sort']((_0x464ece,_0x2128ba)=>_0x5a05fc[_0x464ece][_0x5d9065(0x3c5)]-_0x5a05fc[_0x2128ba][_0x5d9065(0x3c5)])[_0x5d9065(0x29c)](0x0,_0x4603cd);_0x4f8ada[_0x5d9065(0x406)](_0x43d8ab=>{const _0x29bd96=_0x5d9065;db['ref'](_0x29bd96(0x2e6)+roomCode+_0x29bd96(0x3c3)+_0x43d8ab)[_0x29bd96(0x17b)]();});}}),db[_0x33daa7(0x252)](_0x33daa7(0x2e6)+roomCode+_0x33daa7(0x334))['on'](_0x10691e[_0x33daa7(0x33a)],_0x521e46=>{const _0x1a1f31=_0x33daa7,_0x561d57=_0x521e46['key'],_0xe1c73c=document[_0x1a1f31(0x3b0)](_0x1a1f31(0x2f9)+_0x561d57+'\x22]');if(_0xe1c73c)_0xe1c73c['remove']();});}function stackNotification(_0x35ed1a,_0x1b5070){const _0x245d71=_0x42b5e8,_0x20d9ea={'IgOEu':function(_0x311d75){return _0x311d75();},'kfbZK':function(_0x2d21e5,_0x12781c){return _0x2d21e5(_0x12781c);},'XEMMv':function(_0x193582,_0x5123e7,_0x180bc3){return _0x193582(_0x5123e7,_0x180bc3);}};notificationStack[_0x245d71(0x3dd)]({'sender':_0x35ed1a,'content':_0x1b5070}),_0x20d9ea[_0x245d71(0x25a)](clearTimeout,notificationTimer),notificationTimer=_0x20d9ea['XEMMv'](setTimeout,()=>{const _0x2fe53e=_0x245d71;_0x20d9ea[_0x2fe53e(0x33e)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x1edd7e=_0x42b5e8,_0x2c81ad={'JDqOb':_0x1edd7e(0x1d1),'FlrTk':function(_0x58f1ab,_0x550ec4){return _0x58f1ab!==_0x550ec4;},'qMVuL':'granted','YkFmq':function(_0x4241d8,_0x5809be){return _0x4241d8||_0x5809be;},'bdWoJ':_0x1edd7e(0x1f0),'XdGim':function(_0x58851e,_0x29500e){return _0x58851e===_0x29500e;},'uinlb':function(_0xa1a609,_0x567840,_0x1097c1){return _0xa1a609(_0x567840,_0x1097c1);}};if(!notificationStack[_0x1edd7e(0x24d)]||_0x2c81ad[_0x1edd7e(0x18b)](Notification[_0x1edd7e(0x121)],_0x2c81ad['qMVuL']))return;const _0x3a4fb1=[...new Set(notificationStack[_0x1edd7e(0x3c8)](_0x2e1c54=>_0x2e1c54[_0x1edd7e(0x327)]))],_0x19ec2e=_0x2c81ad[_0x1edd7e(0x2c3)](roomCode,_0x2c81ad[_0x1edd7e(0x299)]),_0x55db2d=_0x2c81ad[_0x1edd7e(0x304)](_0x3a4fb1[_0x1edd7e(0x24d)],0x1)?_0x1edd7e(0x2ac)+_0x3a4fb1[0x0]+'\x20in\x20room\x20'+_0x19ec2e+':\x20'+notificationStack[0x0][_0x1edd7e(0x294)]:_0x1edd7e(0x314)+_0x3a4fb1['join'](',\x20')+_0x1edd7e(0x371)+_0x19ec2e;_0x2c81ad[_0x1edd7e(0x25d)](setTimeout,()=>{const _0x327e55=_0x1edd7e;new Notification(_0x327e55(0x213),{'body':_0x55db2d,'icon':_0x2c81ad[_0x327e55(0x1bc)]});},0x64);}async function addMessage(_0x2c4212,_0x2401d6,_0x44910e=null){const _0x506b07=_0x42b5e8,_0x38fdac={'jxxuw':function(_0x3017a6,_0x2ceebf,_0x119c49){return _0x3017a6(_0x2ceebf,_0x119c49);},'oPwZm':_0x506b07(0x146),'hvctj':_0x506b07(0x2f7),'NpemR':'32px','eZyTq':_0x506b07(0x24f),'GBOdZ':_0x506b07(0x3b2),'qTdDF':function(_0x155f3c,_0x1e96c6){return _0x155f3c(_0x1e96c6);},'CwPNA':_0x506b07(0x3c0),'tLuLm':function(_0x3bdd6d,_0x3d3b54,_0x4fa5d7){return _0x3bdd6d(_0x3d3b54,_0x4fa5d7);},'OWYnU':function(_0x59ead9,_0x15eb6c){return _0x59ead9===_0x15eb6c;},'YsTJX':function(_0x509c53,_0xfba2eb){return _0x509c53(_0xfba2eb);},'yVkCS':function(_0x366725,_0x4d4d3f){return _0x366725(_0x4d4d3f);},'lRUcP':function(_0x265998,_0xae701){return _0x265998===_0xae701;},'bxliv':_0x506b07(0x1b1),'aqxRe':'div','HwMFb':'system-msg','VGUhh':_0x506b07(0x364),'mDTgf':_0x506b07(0x3dc),'Mqsxw':_0x506b07(0x3c7),'NCwVT':_0x506b07(0x33f),'juiUa':_0x506b07(0x2fd),'FfxiA':_0x506b07(0x365),'lKMSZ':_0x506b07(0x192),'jqshp':'4px','jssEP':'16px','zeFHP':_0x506b07(0x2ae),'Cxhcb':_0x506b07(0x34d),'wduTB':_0x506b07(0x260),'CXlSB':_0x506b07(0x164),'Slicl':_0x506b07(0x2eb),'DIkMY':_0x506b07(0x380),'mQAbx':'0px','DxwYi':_0x506b07(0x1f6),'xtwvH':_0x506b07(0x2a5),'vRgYU':_0x506b07(0x3ac),'TpKez':'grid','DVfDb':_0x506b07(0x360),'nrfrK':_0x506b07(0x2ef),'ffjVB':_0x506b07(0x175),'nMPLM':'touchstart','yykfi':_0x506b07(0x3d0),'pSdIx':_0x506b07(0x3ff)},{msg:_0x2a497c,sender:_0x540cf9,senderId:_0x1d9a93,timestamp:_0x40c57b,audioUrl:_0x3b41aa,audioBase64:_0x3a6caa,imageBase64:_0x1d0e7c}=_0x2c4212,_0x174f87=_0x38fdac[_0x506b07(0x336)](sanitizeUsername,_0x540cf9),_0x15f685=document[_0x506b07(0x1c8)](_0x506b07(0x15a));if(_0x38fdac[_0x506b07(0x1fd)](_0x2c4212[_0x506b07(0x327)],_0x38fdac[_0x506b07(0x2cf)])){const _0x2e0510=document[_0x506b07(0x1c8)](_0x38fdac[_0x506b07(0x3c1)]);_0x2e0510[_0x506b07(0x1c0)]=_0x38fdac[_0x506b07(0x385)],_0x2e0510[_0x506b07(0x2fa)][_0x506b07(0x38e)]=_0x44910e||_0x2c4212[_0x506b07(0x3c5)],_0x2e0510[_0x506b07(0x2fa)][_0x506b07(0x3c5)]=_0x2c4212[_0x506b07(0x3c5)],_0x2e0510['style'][_0x506b07(0x3ef)]=_0x38fdac[_0x506b07(0x3a7)],_0x2e0510[_0x506b07(0x210)][_0x506b07(0x362)]=_0x38fdac[_0x506b07(0x26d)],_0x2e0510[_0x506b07(0x210)]['color']=_0x38fdac[_0x506b07(0x10e)],_0x2e0510[_0x506b07(0x210)][_0x506b07(0x198)]=_0x506b07(0x2ec),_0x2e0510[_0x506b07(0x190)]=_0x2c4212[_0x506b07(0x33f)];const _0x1a57c2=document[_0x506b07(0x249)](_0x38fdac['Mqsxw']);_0x1a57c2[_0x506b07(0x22a)](_0x2e0510);const _0xb9db57=Array[_0x506b07(0x124)](_0x1a57c2[_0x506b07(0x3de)]);_0xb9db57['sort']((_0xff38a5,_0x2e816b)=>{const _0x45c972=_0x506b07;return(+_0xff38a5[_0x45c972(0x2fa)][_0x45c972(0x3c5)]||0x0)-(+_0x2e816b['dataset'][_0x45c972(0x3c5)]||0x0);}),_0x1a57c2['innerHTML']='',_0xb9db57[_0x506b07(0x406)](_0x196a79=>_0x1a57c2[_0x506b07(0x22a)](_0x196a79)),_0x1a57c2[_0x506b07(0x218)]=_0x1a57c2[_0x506b07(0x392)];return;}_0x15f685[_0x506b07(0x408)][_0x506b07(0x326)](_0x38fdac['NCwVT'],_0x2401d6?'sent':_0x506b07(0x1e0)),_0x15f685[_0x506b07(0x210)][_0x506b07(0x329)]=_0x38fdac[_0x506b07(0x1ae)];_0x44910e&&(_0x15f685['dataset'][_0x506b07(0x38e)]=_0x44910e);const _0x229f45=new Date(_0x40c57b)[_0x506b07(0x228)]([],{'hour':_0x38fdac[_0x506b07(0x239)],'minute':_0x38fdac[_0x506b07(0x239)]}),_0x4f3218=_0x38fdac[_0x506b07(0x336)](getRoleTag,_0x174f87),_0x3a5657=await fetchAvatar(_0x174f87),_0x5a987f=_0x3a5657?_0x506b07(0x1e6)+_0x3a5657+_0x506b07(0x37a):'',_0x21e8cb=_0x5a987f+'<span\x20class=\x22sender-name\x22>'+_0x540cf9+'\x20'+_0x4f3218+_0x506b07(0x282),_0x298ea7=_0x2a497c?.[_0x506b07(0x16c)](new RegExp('@'+username+'\x5cb','gi'),_0x506b07(0x178));let _0x1d6a43=_0x21e8cb+'<br>';if(_0x3b41aa)_0x1d6a43+=_0x506b07(0x186)+_0x3b41aa+_0x506b07(0x129);else{if(_0x3a6caa){const _0xc5ef81=_0x506b07(0x1d6)+_0x3a6caa;_0x1d6a43+=_0x506b07(0x186)+_0xc5ef81+_0x506b07(0x129);}else{if(_0x1d0e7c){const _0x4c8a66='data:image/png;base64,'+_0x1d0e7c;_0x1d6a43+=_0x506b07(0x339)+_0x4c8a66+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else{const _0x3fbba4=_0x298ea7['replace'](/(https?:\/\/[^\s]+)/g,_0x4706a6=>{const _0x33702c=_0x506b07;return _0x33702c(0x3d4)+_0x4706a6+_0x33702c(0x116)+_0x4706a6+'</a>';});_0x1d6a43+='<div>'+_0x3fbba4+_0x506b07(0x12e);}}}_0x1d6a43+=_0x506b07(0x254)+_0x229f45+_0x506b07(0x18e),_0x15f685[_0x506b07(0x352)]=_0x1d6a43;const _0x117fc3=document[_0x506b07(0x1c8)](_0x38fdac[_0x506b07(0x3c1)]);_0x117fc3['className']=_0x38fdac[_0x506b07(0x22c)],_0x117fc3['style']['marginTop']=_0x38fdac[_0x506b07(0x16a)],_0x117fc3[_0x506b07(0x210)][_0x506b07(0x362)]=_0x38fdac['jssEP'],_0x15f685['appendChild'](_0x117fc3);const _0x427feb=document['createElement'](_0x38fdac[_0x506b07(0x3c1)]);_0x427feb[_0x506b07(0x1c0)]=_0x38fdac[_0x506b07(0x3ec)];const _0x1bf143=['â¤ï¸','ðŸ˜‚','ðŸ˜®','ðŸ˜¢','ðŸ‘Ž','ðŸ’€','ðŸ¤¯'];_0x427feb['innerHTML']=_0x1bf143[_0x506b07(0x3c8)](_0x163c43=>'<button>'+_0x163c43+'</button>')[_0x506b07(0x10c)](''),_0x427feb[_0x506b07(0x210)]['display']=_0x38fdac[_0x506b07(0x2ce)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x329)]=_0x38fdac[_0x506b07(0x3af)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x17d)]=_0x38fdac[_0x506b07(0x188)],_0x427feb['style'][_0x506b07(0x1d3)]=_0x506b07(0x3f8),_0x427feb[_0x506b07(0x210)]['borderRadius']=_0x38fdac[_0x506b07(0x246)],_0x427feb[_0x506b07(0x210)]['fontSize']=_0x38fdac[_0x506b07(0x2c6)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x229)]=_0x38fdac['DIkMY'],_0x427feb[_0x506b07(0x210)][_0x506b07(0x3cd)]=_0x38fdac['mQAbx'],_0x427feb[_0x506b07(0x210)][_0x506b07(0x3bc)]='10',_0x427feb[_0x506b07(0x210)][_0x506b07(0x388)]=_0x38fdac[_0x506b07(0x3bf)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x276)]=_0x38fdac['xtwvH'],_0x427feb[_0x506b07(0x210)]['whiteSpace']=_0x38fdac[_0x506b07(0x2cb)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x16b)]=_0x38fdac[_0x506b07(0x1e1)],_0x427feb['style'][_0x506b07(0x2d8)]=_0x38fdac[_0x506b07(0x17c)],_0x427feb[_0x506b07(0x210)][_0x506b07(0x391)]=_0x38fdac['jqshp'],_0x427feb[_0x506b07(0x210)]['boxShadow']=_0x38fdac[_0x506b07(0x3e0)],Array[_0x506b07(0x124)](_0x427feb['children'])[_0x506b07(0x406)](_0x5a7811=>{const _0x5d0509=_0x506b07;_0x5a7811[_0x5d0509(0x210)]['cursor']=_0x38fdac[_0x5d0509(0x182)],_0x5a7811[_0x5d0509(0x21d)]=_0x5b09db=>{const _0x1d40a0=_0x5d0509;_0x5b09db[_0x1d40a0(0x145)]();const _0x1a0a50=_0x5a7811[_0x1d40a0(0x208)];_0x38fdac[_0x1d40a0(0x14b)](reactToMessage,_0x44910e,_0x1a0a50);};}),Array[_0x506b07(0x124)](_0x427feb['children'])['forEach'](_0x256e95=>{const _0x175a3e=_0x506b07,_0x194fbd=_0x175a3e(0x3f3)[_0x175a3e(0x248)]('|');let _0x192fa3=0x0;while(!![]){switch(_0x194fbd[_0x192fa3++]){case'0':_0x256e95[_0x175a3e(0x210)]['alignItems']=_0x38fdac[_0x175a3e(0x3a7)];continue;case'1':_0x256e95['style']['display']=_0x175a3e(0x361);continue;case'2':_0x256e95['style']['justifyContent']=_0x38fdac['hvctj'];continue;case'3':_0x256e95['style'][_0x175a3e(0x409)]=_0x38fdac[_0x175a3e(0x15e)];continue;case'4':_0x256e95[_0x175a3e(0x210)]['width']=_0x38fdac['NpemR'];continue;case'5':_0x256e95[_0x175a3e(0x210)][_0x175a3e(0x362)]=_0x38fdac[_0x175a3e(0x289)];continue;}break;}}),_0x15f685[_0x506b07(0x22a)](_0x427feb),_0x427feb[_0x506b07(0x210)][_0x506b07(0x16b)]=_0x38fdac[_0x506b07(0x2ce)];let _0x1db4f4;_0x15f685[_0x506b07(0x1ec)](_0x38fdac[_0x506b07(0x151)],()=>{_0x1db4f4=setTimeout(()=>{const _0x8417ee=_0x3d28;_0x427feb[_0x8417ee(0x210)][_0x8417ee(0x16b)]=_0x38fdac['GBOdZ'];},0x5dc);}),_0x15f685['addEventListener'](_0x506b07(0x345),()=>{const _0xb2fd8=_0x506b07;_0x38fdac[_0xb2fd8(0x32f)](clearTimeout,_0x1db4f4),_0x427feb[_0xb2fd8(0x210)][_0xb2fd8(0x16b)]=_0x38fdac[_0xb2fd8(0x2ce)];});let _0xc365ed;_0x15f685[_0x506b07(0x1ec)](_0x38fdac[_0x506b07(0x18f)],()=>{_0xc365ed=_0x38fdac['tLuLm'](setTimeout,()=>{const _0x50d880=_0x3d28;_0x427feb[_0x50d880(0x210)][_0x50d880(0x16b)]=_0x38fdac[_0x50d880(0x19f)];},0x5dc);}),_0x15f685[_0x506b07(0x1ec)]('touchend',()=>clearTimeout(_0xc365ed));_0x44910e&&db[_0x506b07(0x252)](_0x506b07(0x2e6)+roomCode+'/messages/'+_0x44910e+_0x506b07(0x3b8))['on'](_0x506b07(0x13a),_0x3e2798=>{const _0x1dcdb6=_0x506b07,_0x5a65ac={'Efzjk':function(_0x18c52b,_0xced413){return _0x18c52b>_0xced413;}};if(!_0x3e2798['exists']()){_0x117fc3[_0x1dcdb6(0x352)]='';return;}const _0x52b4a3=_0x3e2798[_0x1dcdb6(0x143)]();let _0x5223d2='';Object[_0x1dcdb6(0x31b)](_0x52b4a3)[_0x1dcdb6(0x406)](([_0x563aab,_0x2c135f])=>{const _0x33cf3e=_0x1dcdb6;Array['isArray'](_0x2c135f)&&_0x5a65ac[_0x33cf3e(0x378)](_0x2c135f[_0x33cf3e(0x24d)],0x0)&&(_0x5223d2+=_0x33cf3e(0x3e3)+_0x563aab+'\x20'+_0x2c135f['length']+'</span>');}),_0x117fc3[_0x1dcdb6(0x352)]=_0x5223d2;});if([_0x38fdac[_0x506b07(0x2c0)],_0x506b07(0x403),_0x506b07(0x311)][_0x506b07(0x1e2)](role)){let _0x7c6748=0x0;_0x15f685['addEventListener'](_0x38fdac[_0x506b07(0x38f)],()=>{const _0x1baf7c=_0x506b07;_0x7c6748++,_0x38fdac[_0x1baf7c(0x2c9)](_0x7c6748,0x3)&&(_0x38fdac[_0x1baf7c(0x14a)](confirm,_0x1baf7c(0x322))&&(db[_0x1baf7c(0x252)]('rooms/'+roomCode+_0x1baf7c(0x3c3)+_0x44910e)['remove'](),_0x15f685['remove']())),setTimeout(()=>_0x7c6748=0x0,0x5dc);});}const _0xe607af=document['getElementById'](_0x506b07(0x3c7));_0xe607af[_0x506b07(0x22a)](_0x15f685),_0xe607af[_0x506b07(0x218)]=_0xe607af[_0x506b07(0x392)];}function cleanupOldRooms(){const _0x4e3353=_0x42b5e8,_0x468b95={'CbcYA':function(_0xe46f78,_0x467829){return _0xe46f78!==_0x467829;},'nzAfa':function(_0x20ee85,_0x50f295){return _0x20ee85===_0x50f295;},'XCZIx':function(_0x34bf0e,_0x34cf7e){return _0x34bf0e>_0x34cf7e;},'wCItE':function(_0x2af4e6,_0x131f07){return _0x2af4e6-_0x131f07;},'IxsnM':function(_0x48535e,_0x4a496f){return _0x48535e*_0x4a496f;},'rftAk':function(_0x2c93be,_0x19ff5f){return _0x2c93be*_0x19ff5f;},'halZP':'rooms/','mFKnR':_0x4e3353(0x13f),'ocYpD':_0x4e3353(0x13a),'YTgai':_0x4e3353(0x16f),'GuQhC':'rooms'};db['ref'](_0x468b95[_0x4e3353(0x23d)])[_0x4e3353(0x3ad)](_0x4e3353(0x13a))['then'](_0x141516=>{const _0x20f850=_0x4e3353,_0x41d4a1=_0x141516[_0x20f850(0x143)]();if(!_0x41d4a1)return;const _0xadae34=Date[_0x20f850(0x1db)]();for(const _0x2d34d8 in _0x41d4a1){if(_0x468b95[_0x20f850(0x3a8)](_0x2d34d8,STATIC_ROOM))continue;const _0x39e852=_0x41d4a1[_0x2d34d8];_0x468b95[_0x20f850(0x3b7)](_0x468b95[_0x20f850(0x3e6)](_0xadae34,_0x39e852[_0x20f850(0x290)]||0x0),_0x468b95['IxsnM'](_0x468b95['rftAk'](0x2,0x3c),0x3e8))&&db['ref'](_0x468b95[_0x20f850(0x2c1)]+_0x2d34d8)[_0x20f850(0x17b)]();}db[_0x20f850(0x252)](_0x468b95[_0x20f850(0x19a)])[_0x20f850(0x3ad)](_0x468b95['ocYpD'])[_0x20f850(0x163)](_0x185f23=>{const _0x364569=_0x20f850,_0x55f535=_0x185f23[_0x364569(0x143)]();if(!_0x55f535)return;for(const _0x13f948 in _0x55f535){if(_0x13f948!==STATIC_ROOM)db[_0x364569(0x252)](_0x364569(0x310)+_0x13f948)[_0x364569(0x17b)]();}}),db['ref'](_0x468b95[_0x20f850(0x318)])['once'](_0x468b95[_0x20f850(0x27f)])[_0x20f850(0x163)](_0x2b5cef=>{const _0x52322a=_0x20f850,_0x368710=_0x2b5cef[_0x52322a(0x143)]();if(!_0x368710)return;for(const _0x12f135 in _0x368710){if(_0x468b95[_0x52322a(0x379)](_0x12f135,STATIC_ROOM))db[_0x52322a(0x252)](_0x52322a(0x1cd)+_0x12f135)[_0x52322a(0x17b)]();}});});}document[_0x42b5e8(0x1ec)]('DOMContentLoaded',()=>{const _0x1a64d1=_0x42b5e8,_0x3de173={'JQBub':_0x1a64d1(0x357),'yINrX':_0x1a64d1(0x363)},_0x39521f=document[_0x1a64d1(0x249)](_0x1a64d1(0x3ca));_0x39521f&&_0x39521f[_0x1a64d1(0x1ec)](_0x3de173['yINrX'],function(_0x1f5a04){const _0x58cacb=_0x1a64d1;_0x1f5a04[_0x58cacb(0x13d)]===_0x3de173[_0x58cacb(0x31c)]&&(_0x1f5a04['preventDefault'](),sendMessage());});});function showScreen(_0x5876a2){const _0x130066=_0x42b5e8,_0x35fd1e={'oxbLk':_0x130066(0x3c0),'BsuxM':_0x130066(0x1ab),'HSZoZ':_0x130066(0x288),'CtFZk':_0x130066(0x166),'eotFT':'passwordScreen','bqdoF':_0x130066(0x29b),'JPLBZ':_0x130066(0x36f),'maIWv':_0x130066(0x361)};[_0x130066(0x3a2),_0x35fd1e[_0x130066(0x358)],_0x35fd1e[_0x130066(0x1ea)],_0x35fd1e[_0x130066(0x307)],_0x35fd1e[_0x130066(0x1aa)],_0x130066(0x193),_0x35fd1e[_0x130066(0x372)],_0x130066(0x1bf),_0x35fd1e[_0x130066(0x1df)]][_0x130066(0x406)](_0x310cc2=>{document['getElementById'](_0x310cc2)['style']['display']=_0x35fd1e['oxbLk'];}),document[_0x130066(0x249)](_0x5876a2)['style'][_0x130066(0x16b)]=_0x35fd1e[_0x130066(0x2fb)];}function genRoomCode(){const _0x2e6174=_0x42b5e8,_0x5b4611={'kwHdd':_0x2e6174(0x16d),'RNjFT':'0123456789','NmXkB':function(_0x389ef8,_0x5bcd70){return _0x389ef8+_0x5bcd70;},'rNbbs':function(_0xdb0805,_0x2a327f,_0x73f938){return _0xdb0805(_0x2a327f,_0x73f938);}},_0x1560c9=_0x5b4611['kwHdd'],_0x43293c=_0x5b4611[_0x2e6174(0x33c)],_0x2db730=(_0x4a6921,_0x22e3a1)=>Array[_0x2e6174(0x124)]({'length':_0x22e3a1},()=>_0x4a6921[Math['floor'](Math[_0x2e6174(0x38b)]()*_0x4a6921[_0x2e6174(0x24d)])])[_0x2e6174(0x10c)]('');return _0x5b4611[_0x2e6174(0x111)](_0x5b4611['NmXkB'](_0x5b4611[_0x2e6174(0x111)](_0x5b4611[_0x2e6174(0x14d)](_0x2db730,_0x43293c,0x3),_0x5b4611[_0x2e6174(0x14d)](_0x2db730,_0x1560c9,0x3)),_0x5b4611[_0x2e6174(0x14d)](_0x2db730,_0x43293c,0x2)),_0x2db730(_0x1560c9,0x2));}function startInactivityTimer(){const _0xa839b7=_0x42b5e8,_0x296f15={'xtdda':function(_0x3fffe5,_0x23565a){return _0x3fffe5-_0x23565a;},'InBGh':function(_0x45ba4b,_0x393a6a){return _0x45ba4b*_0x393a6a;},'EdEYE':function(_0x33fc6d,_0x4b15cc){return _0x33fc6d*_0x4b15cc;},'YImFD':function(_0x9ca53f,_0x2c3f3f){return _0x9ca53f!==_0x2c3f3f;},'iwWqg':function(_0x57ba39,_0x43d1e5){return _0x57ba39+_0x43d1e5;},'LCWHK':_0xa839b7(0x2e6),'bMRCU':function(_0x3d28c1,_0xc2a76b){return _0x3d28c1(_0xc2a76b);},'QCqQe':function(_0xf9c4e0,_0x253336,_0x4c8910){return _0xf9c4e0(_0x253336,_0x4c8910);}};_0x296f15['QCqQe'](setInterval,()=>{const _0x4fbe82=_0xa839b7;_0x296f15['xtdda'](Date[_0x4fbe82(0x1db)](),lastActivity)>_0x296f15['InBGh'](_0x296f15[_0x4fbe82(0x3f0)](0x5,0x3c),0x3e8)&&_0x296f15[_0x4fbe82(0x384)](roomCode,STATIC_ROOM)&&(db[_0x4fbe82(0x252)](_0x296f15[_0x4fbe82(0x297)](_0x296f15[_0x4fbe82(0x215)],roomCode))[_0x4fbe82(0x2ff)]({'active':![]}),_0x296f15[_0x4fbe82(0x35d)](alert,_0x4fbe82(0x2e9)),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x5f0ee5=_0x42b5e8,_0x521f70={'aQZDN':_0x5f0ee5(0x224),'qnchI':_0x5f0ee5(0x34a),'LvRYm':'popstate'};window[_0x5f0ee5(0x1ec)](_0x521f70['LvRYm'],()=>{const _0x3b8527=_0x5f0ee5,_0x536cae=document[_0x3b8527(0x249)](_0x521f70[_0x3b8527(0x382)]);_0x536cae?.[_0x3b8527(0x408)]['contains'](_0x521f70[_0x3b8527(0x197)])&&_0x536cae[_0x3b8527(0x408)][_0x3b8527(0x17b)](_0x521f70['qnchI']);});}function toggleSidebar(){const _0x5d881d=_0x42b5e8,_0x5943fc={'cqNPV':'userSidebar','LIPjB':_0x5d881d(0x34a)},_0x5a886c=document['getElementById'](_0x5943fc[_0x5d881d(0x3ce)]);if(!_0x5a886c[_0x5d881d(0x408)][_0x5d881d(0x23a)](_0x5943fc[_0x5d881d(0x32c)]))_0x5a886c[_0x5d881d(0x408)]['add'](_0x5943fc['LIPjB']),history[_0x5d881d(0x233)]({'sidebarOpen':!![]},'');else{_0x5a886c[_0x5d881d(0x408)][_0x5d881d(0x17b)](_0x5943fc[_0x5d881d(0x32c)]);if(history[_0x5d881d(0x191)]?.[_0x5d881d(0x2ee)])history[_0x5d881d(0x1b3)]();}}function setupVisibilityAttention(){const _0x41ffc5=_0x42b5e8,_0x362729={'pkJHg':_0x41ffc5(0x26f)};let _0x30138d=0x0,_0x375878=document[_0x41ffc5(0x271)];document[_0x41ffc5(0x1ec)](_0x362729[_0x41ffc5(0x375)],()=>{const _0x4b9fe8=_0x41ffc5;!document[_0x4b9fe8(0x337)]&&(document[_0x4b9fe8(0x271)]=_0x375878,_0x30138d=0x0);}),window[_0x41ffc5(0x1cc)]=function(){const _0x1b2393=_0x41ffc5;document[_0x1b2393(0x337)]&&(_0x30138d++,document[_0x1b2393(0x271)]='('+_0x30138d+')\x20New\x20message\x20â€¢\x20'+_0x375878);};}function tryEditProfile(){const _0x5eaae8=_0x42b5e8,_0x47974c={'KbVWU':function(_0x5e5d7e,_0x5e1176){return _0x5e5d7e(_0x5e1176);},'tVkgw':_0x5eaae8(0x36f)};_0x47974c[_0x5eaae8(0x256)](showScreen,_0x47974c[_0x5eaae8(0x26a)]);}async function submitEditProfile(){const _0x3bd5d4=_0x42b5e8,_0x120aae={'RIIuA':_0x3bd5d4(0x3d3),'glLwO':_0x3bd5d4(0x20d),'WYioZ':_0x3bd5d4(0x1be),'icoqk':function(_0x2278a7,_0x164849){return _0x2278a7(_0x164849);},'vNfCI':_0x3bd5d4(0x2b5),'qHrgj':function(_0x55224e,_0x181529){return _0x55224e!==_0x181529;},'hBPKT':_0x3bd5d4(0x35f),'bHkDw':function(_0x201490,_0x62217c){return _0x201490*_0x62217c;},'tKQmG':function(_0x49caeb,_0x5f0f68){return _0x49caeb*_0x5f0f68;},'lGRrD':function(_0x914b88,_0x13862d){return _0x914b88*_0x13862d;},'ypIKn':function(_0x4a4b49,_0x303b49){return _0x4a4b49-_0x303b49;},'XsSBZ':function(_0xbfc49,_0x381c3c){return _0xbfc49(_0x381c3c);},'mUOVn':_0x3bd5d4(0x1a0),'TvwIU':_0x3bd5d4(0x267),'jKWQA':_0x3bd5d4(0x2d6)},_0xe47a95=document[_0x3bd5d4(0x249)](_0x120aae['RIIuA'])[_0x3bd5d4(0x13a)],_0x2f568c=document[_0x3bd5d4(0x249)]('newPasswordInput')[_0x3bd5d4(0x13a)],_0x54332e=document[_0x3bd5d4(0x249)](_0x3bd5d4(0x202))[_0x3bd5d4(0x13a)]['trim'](),_0x4a358f=document['getElementById']('editProfileError');if(!_0xe47a95){_0x4a358f[_0x3bd5d4(0x190)]=_0x120aae[_0x3bd5d4(0x2a7)],_0x4a358f[_0x3bd5d4(0x210)][_0x3bd5d4(0x16b)]=_0x120aae[_0x3bd5d4(0x396)];return;}const _0x377554=_0x120aae[_0x3bd5d4(0x13b)](sanitizeUsername,username),_0x4d3e8d=await db[_0x3bd5d4(0x252)](_0x3bd5d4(0x28f)+_0x377554)[_0x3bd5d4(0x36d)]();if(!_0x4d3e8d[_0x3bd5d4(0x203)]()){_0x4a358f['innerText']=_0x120aae[_0x3bd5d4(0x3d1)],_0x4a358f[_0x3bd5d4(0x210)][_0x3bd5d4(0x16b)]=_0x3bd5d4(0x1be);return;}const _0x3444e9=_0x4d3e8d['val'](),_0x13c1f6=await sha256(_0xe47a95);if(_0x120aae[_0x3bd5d4(0x183)](_0x13c1f6,_0x3444e9[_0x3bd5d4(0x205)])){_0x4a358f['innerText']=_0x120aae[_0x3bd5d4(0x156)],_0x4a358f[_0x3bd5d4(0x210)]['display']=_0x120aae[_0x3bd5d4(0x396)];return;}const _0xecb240={};if(_0x2f568c){const _0xef7a37=await _0x120aae[_0x3bd5d4(0x13b)](sha256,_0x2f568c);_0xecb240[_0x3bd5d4(0x205)]=_0xef7a37;}_0x120aae[_0x3bd5d4(0x183)](_0x54332e,_0x3444e9[_0x3bd5d4(0x1b0)])&&(_0xecb240[_0x3bd5d4(0x1b0)]=_0x54332e);const _0x39bd72=Date[_0x3bd5d4(0x1db)](),_0x351750=_0x120aae[_0x3bd5d4(0x3c9)](_0x120aae[_0x3bd5d4(0x118)](_0x120aae[_0x3bd5d4(0x3eb)](0x18,0x3c),0x3c),0x3e8),_0xccb5e2=_0x120aae[_0x3bd5d4(0x265)](_0x39bd72,_0x3444e9['lastChanged']||0x0)>_0x351750;if(_0xccb5e2&&_0x120aae[_0x3bd5d4(0x383)](confirm,_0x120aae['mUOVn'])){const _0x141a19=_0x120aae['XsSBZ'](prompt,_0x120aae[_0x3bd5d4(0x209)]);_0x141a19&&_0x141a19['trim']()&&(_0xecb240[_0x3bd5d4(0x2e3)]=_0x141a19['trim'](),_0xecb240[_0x3bd5d4(0x2f3)]=(_0x3444e9[_0x3bd5d4(0x2f3)]||[])[_0x3bd5d4(0x10a)](_0x141a19[_0x3bd5d4(0x2d2)]()),_0xecb240[_0x3bd5d4(0x1b9)]=_0x39bd72);}_0xecb240[_0x3bd5d4(0x2e3)]&&_0xecb240['username']!==_0x3444e9['username']?(await db['ref'](_0x3bd5d4(0x28f)+_0x120aae[_0x3bd5d4(0x383)](sanitizeUsername,_0xecb240[_0x3bd5d4(0x2e3)]))[_0x3bd5d4(0x2d0)]({..._0x3444e9,..._0xecb240}),await db['ref'](_0x3bd5d4(0x28f)+_0x377554)[_0x3bd5d4(0x17b)](),username=_0xecb240[_0x3bd5d4(0x2e3)]):await db[_0x3bd5d4(0x252)](_0x3bd5d4(0x28f)+_0x377554)[_0x3bd5d4(0x2ff)](_0xecb240),_0x120aae[_0x3bd5d4(0x13b)](alert,_0x120aae[_0x3bd5d4(0x2bf)]),location[_0x3bd5d4(0x2dd)]();}function cancelEditProfile(){const _0x175dce=_0x42b5e8,_0x606f1a={'UUFku':function(_0x309457,_0x260bc6){return _0x309457(_0x260bc6);}};document[_0x175dce(0x249)]('editProfileScreen')[_0x175dce(0x210)][_0x175dce(0x16b)]=_0x175dce(0x3c0),_0x606f1a[_0x175dce(0x187)](showScreen,_0x175dce(0x166));}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x3b4cd3=_0x42b5e8,_0x545431={'IhUwF':function(_0x18a90b,_0xd4652f){return _0x18a90b(_0xd4652f);},'Zrvvt':function(_0x57894b){return _0x57894b();},'pHvlf':function(_0x52acbe,_0x21149e){return _0x52acbe(_0x21149e);},'lZReU':_0x3b4cd3(0x13a)};db[_0x3b4cd3(0x252)](_0x3b4cd3(0x398)+roomCode)['on'](_0x545431[_0x3b4cd3(0x387)],async _0x260dbf=>{const _0x5bcb96=_0x3b4cd3;if(!_0x260dbf[_0x5bcb96(0x203)]())return;const _0x170cb8=_0x260dbf[_0x5bcb96(0x143)]();for(const _0x227d6f in previousUsers){if(!_0x170cb8[_0x227d6f])_0x170cb8[_0x227d6f]=previousUsers[_0x227d6f];}_0x545431[_0x5bcb96(0x376)](renderUserLists,_0x170cb8),previousUsers=_0x170cb8,await _0x545431[_0x5bcb96(0x3d9)](loadRoomRoles),_0x545431[_0x5bcb96(0x389)](renderUserLists,_0x170cb8);});}function trackPresence(){const _0x234369=_0x42b5e8,_0x2af5a2={'PGbRw':function(_0x21cd0c){return _0x21cd0c();},'wcUGW':_0x234369(0x1b1),'CInXg':function(_0x509b77,_0x6548fb){return _0x509b77||_0x6548fb;},'mNeSv':function(_0xe009fa,_0x189e5a){return _0xe009fa(_0x189e5a);},'GTwcK':_0x234369(0x13a)};if(_0x2af5a2['CInXg'](!username,!roomCode))return;const _0x5750a1=_0x2af5a2[_0x234369(0x2a3)](sanitizeUsername,username),_0x4037cc=db[_0x234369(0x252)](_0x234369(0x398)+roomCode+'/'+_0x5750a1),_0x535f78={'username':username,'avatarBase64':_0x2af5a2[_0x234369(0x142)](avatarBase64,''),'description':_0x2af5a2[_0x234369(0x142)](userDescription,''),'online':!![],'lastOnline':firebase[_0x234369(0x147)]['ServerValue'][_0x234369(0x284)]};_0x4037cc[_0x234369(0x3ad)](_0x2af5a2[_0x234369(0x1c1)])[_0x234369(0x163)](_0x36cc85=>{const _0x32d806=_0x234369,_0x44a765=_0x36cc85['val']()?.['online'];_0x4037cc['set'](_0x535f78)[_0x32d806(0x163)](()=>{const _0x12199f=_0x32d806;_0x2af5a2['PGbRw'](updateOnlineIndicator);if(!_0x44a765){const _0x564a88=db[_0x12199f(0x252)]()[_0x12199f(0x3dd)]()[_0x12199f(0x13d)];db[_0x12199f(0x252)](_0x12199f(0x2e6)+roomCode+'/messages/'+_0x564a88)[_0x12199f(0x2d0)]({'msg':username+_0x12199f(0x22d),'sender':'system','senderId':_0x2af5a2[_0x12199f(0x270)],'timestamp':Date['now']()});}_0x4037cc[_0x12199f(0x32d)]()[_0x12199f(0x2ff)]({'online':![],'lastOnline':Date[_0x12199f(0x1db)]()});});});}function uploadSidebarAvatar(_0x23b15e){const _0x5c0fe1=_0x42b5e8,_0x505204={'AnKYI':_0x5c0fe1(0x346),'RYEmd':function(_0x418f69,_0xa3ccde){return _0x418f69(_0xa3ccde);},'IGces':function(_0x1294ed,_0x38fe4d){return _0x1294ed(_0x38fe4d);},'GcIYh':_0x5c0fe1(0x291),'wlCFi':function(_0x5da9b8,_0x294fa6){return _0x5da9b8(_0x294fa6);},'WpTJj':_0x5c0fe1(0x2a1)};if(!_0x23b15e[_0x5c0fe1(0x1a6)]['length'])return;const _0x5271b9=_0x23b15e['files'][0x0],_0x4cfd1c=new FileReader();_0x4cfd1c['onloadend']=async()=>{const _0x303480=_0x5c0fe1,_0x702fbe=_0x4cfd1c['result']['split'](',')[0x1];document['getElementById'](_0x505204[_0x303480(0x2d1)])[_0x303480(0x356)]=_0x4cfd1c[_0x303480(0x3a4)],document[_0x303480(0x249)](_0x505204[_0x303480(0x2d1)])[_0x303480(0x210)][_0x303480(0x16b)]=_0x303480(0x1be);try{const _0x18204b=_0x505204[_0x303480(0x2da)](sanitizeUsername,username);await db[_0x303480(0x252)](_0x303480(0x28f)+_0x18204b+_0x303480(0x244))['set'](_0x702fbe),_0x505204[_0x303480(0x36e)](alert,_0x505204[_0x303480(0x3f2)]);}catch(_0x2ea879){console[_0x303480(0x194)](_0x2ea879),_0x505204[_0x303480(0x11a)](alert,_0x505204[_0x303480(0x39c)]);}},_0x4cfd1c[_0x5c0fe1(0x27c)](_0x5271b9);}function _0x1b0c(){const _0x495b8f=['msg','\x20ðŸ”§\x20','\x20demoted\x20to\x20user.','GsiYd','IIpzY','size','mouseleave','sidebarAvatarPreview','VouTf','substr','CzRBk','show','pIsBn','\x27)\x22>Promote\x20to\x20Admin</button>','absolute','granted','BeJsu','gr8stg/','pendejo','innerHTML','profileError','cNkfA','apRJH','src','Enter','BsuxM','<button\x20onclick=\x22demoteUser(\x27','CeclU','XlcGt','DRsCb','bMRCU','<button\x20onclick=\x22promoteToModerator(\x27','Incorrect\x20current\x20password.','repeat(auto-fill,\x20minmax(32px,\x201fr))','flex','fontSize','keypress','0.8rem','2-digit','qNExi','oyWdk','QCRss','183462rLCEuj','</span>\x20','XXkZi','ROmxS','get','IGces','editProfileScreen','fkBGK','\x20in\x20room\x20','bqdoF','tSmDX','jwOdS','pkJHg','IhUwF','\x20promoted\x20to\x20Admin!','Efzjk','CbcYA','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','\x20muted\x20for\x20','utHgL','GlFkB','2042664kCbjBV','eJDIt','-45px','biSxe','aQZDN','XsSBZ','YImFD','HwMFb','2652784FecZjk','lZReU','maxWidth','pHvlf','PeKRr','random','EeWMD','JbhAo','msgId','pSdIx','authDescription','gap','scrollHeight','2164869cPIVTB','width','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','WYioZ','KyAEJ','users/','â›”\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','aXNAo','onload','WpTJj','profileContent','Don\x27t\x20have\x20an\x20account?\x20Register','oWEcn','Login','uOKhp','usernameScreen','rLPwr','result','gYozx','Failed\x20to\x20register\x20user\x20into\x20room.','hvctj','nzAfa','oPlrb','jyynv','ZeCTB','normal','once','ksTwz','Cxhcb','querySelector','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','inline-block','FNKJP','rpbxx','https://easy-chatroom-default-rtdb.firebaseio.com','promote','XCZIx','/reactions','userDisplay','ðŸ””\x20Enable\x20Notifications','chKCj','zIndex','Wvvho','authPasswordConfirm','DxwYi','none','aqxRe','FpyUA','/messages/','yikaA','timestamp','cunt','messages','map','bHkDw','msgInput','all','bZFuL','left','cqNPV','<span\x20style=\x22color:red;font-size:1rem;\x22>â—</span>','dev','vNfCI','muted/','oldPasswordInput','<a\x20href=\x22','Missing\x20room\x20or\x20user\x20information.','easy-chatroom','xpwAt','RIgwA','Zrvvt','9933190VKBlBz','MmOId','#aaa','push','children','gilipollas','nrfrK','true','easy-chatroom.firebaseapp.com','<span\x20style=\x22margin-right:6px;\x22>','gvbBL','authVerificationCode','wCItE','floor','Fzuxn','âš ï¸\x20No\x20spamming\x20allowed.','1|4|3|2|0','lGRrD','zeFHP','mute','audio/webm','textAlign','EdEYE','\x0aDescription:\x20','GcIYh','4|3|1|0|2|5','Lutjh','CmvQp','EDxXG','authError','6px','oweBo','typing','typing/','IvIOv','object','FkSOq','click','ðŸš«\x20Cannot\x20promote\x20Developers.','TiXuU','PtOsx','admin','chat_username','ðŸŽ™ï¸','forEach','MCxzj','classList','height','RuJrF','bOdRO','false','limitToLast','concat','yUARk','join','aFQuM','mDTgf','XlEfS','XFshD','NmXkB','1|0|4|3|2','GByEQ','xKQbJ','BBciO','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','Username\x20not\x20found.','tKQmG','bOVXa','wlCFi','gago','aSUMM','\x27,\x205)\x22>Mute\x205m</button>','xIyYT','GzcsW','wzubi','permission','/announcement','fWOnb','from','RsTuw','encode','requestPermission','JmFbQ','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','pSckS','initializeApp','qqWPp','yfvNh','</div>','bastard','wJMio','some','fTurX','auth','rqGCt','LAsPh','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','crpnX','QEpSl','iPvMl','value','icoqk','bobo','key','ONltm','antispam','Failed\x20to\x20save\x20profile:','authEmail','CInXg','val','authTitle','stopPropagation','pointer','database','TIfZP','vHWbN','YsTJX','jxxuw','rObUy','rNbbs','<li>','profiles/','ZkZst','ffjVB','â›”\x20You\x20are\x20muted.','QaIJV','inbLC','CTQTz','hBPKT','qqAIn','LNoBO','play','div','Incorrect\x20password','caralho','lgNUs','NpemR','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','placeholder','staticPasswordInput','\x27)\x22>+Admin</button>','then','10px','jjqqA','chatScreen','mIRHz','hNSlz','Already\x20have\x20an\x20account?\x20Login','jqshp','display','replace','ABCDEFGHIJKLMNOPQRSTUVWXYZ','uQpHM','antispamBlocked','nfIYp','pDwZi','HXjTO','disabled','Xibak','mouseenter','padStart','clear','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','bUJpG','rcYwQ','remove','DVfDb','background','cabron','tWgPX','7|6|11|1|5|9|4|10|3|2|12|8|0','psFhB','oPwZm','qHrgj','<button\x20onclick=\x22muteUser(\x27','Rvdsa','<audio\x20controls\x20src=\x22','UUFku','wduTB','child_added','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','FlrTk','tcuAj','nIQZL','</small>','nMPLM','innerText','state','reaction-box','profileScreen','error','mgTRh','MnsmX','qnchI','margin','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','mFKnR','Hxlir','\x27)\x22>+Mod</button>','mod','7OLTSbp','GBOdZ','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','adminUserList','bVzOZ','mEIvP','komCv','XoXxA','files','AgWdp','bNRTA','ZRZFF','eotFT','roomChoiceScreen','ZKIQI','RKUbd','juiUa','mLyZD','description','system','IEtDM','back','qdKLZ','GSHRK','\x27)\x22>Demote</button>','EQifA','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','lastChanged','irMGX','tAcPh','JDqOb','createUserWithEmailAndPassword','block','authScreen','className','GTwcK','dCCmJ','odXEp','start','stop','detail','toLowerCase','createElement','JitbK','1:985049198428:web:d0eb7e2de39887710c9b99','onlineStatus','flagPageAttention','antispamBlocked/','Room\x20password\x20not\x20set.\x20Cannot\x20join.','xyBIA','ZvgSl','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','Cwyxd','padding','\x20was\x20muted\x20for\x20','digest','data:audio/webm;base64,','ServerValue','ICZdd','passwordError','toggleAuthMode','now','BetOu','qpmig','hNAWw','JPLBZ','received','TpKez','includes','\x20promoted\x20to\x20Moderator!','2px\x20solid\x20red','NBviw','<img\x20src=\x22data:image/png;base64,','No\x20bio\x20set','ZBZlQ','YeCoB','HSZoZ','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','addEventListener','#00ff88','values','match','unknown','qiEwI','OthIZ','wRZGB','bljwh','/paused','160px','Kiega','moderators/','recordBtn','Register','ImcCP','âš ï¸\x20Could\x20not\x20check\x20username.\x20Try\x20again.','lRUcP','tPkbZ','iuEyJ','hqjMg','template_uadxvmp','editBioInput','exists','jdIUl','passwordHash','[Image]','ofesM','textContent','TvwIU','authAvatar','lxhdP','Unknown','Please\x20enter\x20your\x20current\x20password.','Enter\x20username\x20and\x20password.','\x27,\x2010)\x22>Mute\x2010m</button>','style','Admins\x20only.','heEzg','New\x20Chat\x20Message','vtlia','LCWHK','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dtzqA','scrollTop','input','bXvrB','Invalid\x20verification\x20code.','deleteMessage','onclick','cYbRu','jebhe','\x0aUsername\x20History:\x20','userAgent','bitch','â›”\x20Youâ€™ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','userSidebar','getUserMedia','frKgY','mudaz','toLocaleTimeString','top','appendChild','\x20was\x20demoted','lKMSZ','\x20is\x20online','audioUrl','McrlS','Please\x20enter\x20the\x20password.','audioBase64','Messages\x20by\x20','pushState','JRHBm','iAIoA','TWyaH','signInWithEmailAndPassword','SHA-256','FfxiA','contains','wIqZq','Remove\x20this\x20announcement?','GuQhC','namePreview','xsPth','HpFmJ','MGegb','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','ZwVmy','/avatarBase64','jBOoj','CXlSB','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>âš™ï¸</button>\x0a\x20\x20\x20\x20</li>','split','getElementById','\x27)\x22>Promote\x20to\x20Moderator</button>','keys','tLCdn','length','avatar_base64','20px','coÃ±o','Room\x20is\x20currently\x20paused.','ref','yDmXO','<small>','\x27)\x22>Delete\x20Messages</button>','KbVWU','toString','1337460letCWJ','IljNj','kfbZK','iMkEc','MkkLn','uinlb','authUsername','\x20minutes.','#222','service_qfnrrrl','dJUUv','gqGGw','userOptions-','ypIKn','JqQrA','Enter\x20your\x20new\x20username:','puta','sendCodeBtn','tVkgw','ubuwH','WztDl','VGUhh','iwKYV','visibilitychange','wcUGW','title','HDyOb','roomCodeInput','RegcI','role','minWidth','onloadend','admins/','data','[Voice\x20Message]','veWSa','readAsDataURL','onyuA','66434zabcHR','ocYpD','PHAEt','pwFJJ','</span>','fgTZm','TIMESTAMP','Ljlnz','âš ï¸\x20Please\x20keep\x20the\x20chat\x20respectful.','MkYkW','codeEntryScreen','eZyTq','xUaru','BXgrb','pgyBu','email','onstop','auth/','created','âœ…\x20Profile\x20picture\x20updated!','catch','sounds/beep.mp3','content','aHebK','\x27,\x201)\x22>Mute\x201m</button>','iwWqg','pausedOverlay','bdWoJ','volume','profileViewer','slice','BBpmA','hnjRk','pKsMg','ðŸ’¬\x20','âš ï¸\x20Failed\x20to\x20update\x20avatar.','quMRX','mNeSv','authSubmitBtn','120px','wwDOQ','glLwO','send','bftub','text','data:image/png;base64,','You\x20got\x20a\x20message\x20from\x20','HziFr','reaction-tray','sHdXf','RQDsf','xLbsB','bNByx','cglbX','YDfJf','Profile\x20not\x20found.','ZlAyn','fdp','23biWOiC','orderByChild','No\x20room\x20code\x20available\x20for\x20private\x20rooms','Email\x20not\x20verified.','putangina','signOut','wsGwy','jKWQA','yykfi','halZP','dick','YkFmq','DFDrc','050BBB66HH','Slicl','uYsAG','Loums','OWYnU','ufNmP','vRgYU','TQuwI','border','CwPNA','bxliv','set','AnKYI','trim','shit','ðŸ•’\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','BnqBT','âœ…\x20Profile\x20updated!\x20Please\x20reload.','EOyyb','gridTemplateColumns','ondataavailable','RYEmd','adminControlsSection','vzGUF','reload','syyyx','qErIo','qiDii','UJeXj','online','username','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','rooms/','equalTo','Remove\x20Announcement?','Session\x20expired.','active','18px','6px\x20auto','oqXCL','sidebarOpen','0\x202px\x206px\x20rgba(0,0,0,0.5)','oEiZY','announcementArea','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','usernameHistory','Type\x20a\x20message...','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','avatarBase64','center','vxnur','[data-msg-id=\x22','dataset','maIWv','<button\x20onclick=\x22promoteToAdmin(\x27','relative','user','update','\x0aLast\x20Changed:\x20','filter','authAvatarPreview','AWyEM','XdGim','Asfvr','uIgwc','CtFZk','setItem','merda','qPvUe','emailVerified','velPi','EDYav','ZHGRQ','profileDescriptionInput','antispam/','moderator','â—\x20Online','</li>','You\x20got\x20messages\x20from\x20','fEVuI','gFxCh','DeliM','YTgai','getItem','18GypitL','entries','JQBub','tangina','wAUCb','lFEwE','notifToggleBtn','kpqGt','Delete\x20this\x20message?','messaging','DieSB','muteUntil','add','sender','Enter\x20email\x20and\x20username\x20first.','position','yEhvn','authPassword','LIPjB','onDisconnect','message','qTdDF','ulol','\x20is\x20typing...','\x0aName:\x20','iRApu','/messages','AVSEt','yVkCS','hidden','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','<img\x20src=\x22','BRegw','VCuul','RNjFT','notifications_enabled','IgOEu'];_0x1b0c=function(){return _0x495b8f;};return _0x1b0c();}function muteUser(_0x24c6c1,_0x2ea630){const _0x39c318=_0x42b5e8,_0x3fd2d7={'IvIOv':function(_0x2dd313,_0x29c993){return _0x2dd313(_0x29c993);},'irMGX':function(_0x4c302b,_0x3b3baa){return _0x4c302b*_0x3b3baa;},'qPvUe':function(_0x44842e,_0x3fb669){return _0x44842e*_0x3fb669;}},_0x3602cf=Date[_0x39c318(0x1db)]()+_0x3fd2d7[_0x39c318(0x1ba)](_0x3fd2d7[_0x39c318(0x30a)](_0x2ea630,0x3c),0x3e8);db['ref'](_0x39c318(0x3d2)+roomCode+'/'+sanitizeUsername(_0x24c6c1))[_0x39c318(0x2d0)]({'muteUntil':_0x3602cf})[_0x39c318(0x163)](()=>{const _0x4f8a58=_0x39c318;alert(_0x24c6c1+_0x4f8a58(0x37b)+_0x2ea630+_0x4f8a58(0x25f)),_0x3fd2d7[_0x4f8a58(0x3fc)](addSystemMessage,_0x24c6c1+_0x4f8a58(0x1d4)+_0x2ea630+'\x20minutes');});}function unmuteUser(_0xaf3455){const _0x51218f=_0x42b5e8,_0x3bd227={'kpqGt':function(_0x5af874,_0x458cb9){return _0x5af874(_0x458cb9);},'XFFmI':_0x51218f(0x211)};if(!isRoomAdmin)return _0x3bd227[_0x51218f(0x321)](alert,_0x3bd227['XFFmI']);db[_0x51218f(0x252)]('muted/'+roomCode+'/'+sanitizeUsername(_0xaf3455))[_0x51218f(0x17b)]();}function updateOnlineIndicator(){const _0x271fac=_0x42b5e8,_0x733c5c={'bOdRO':_0x271fac(0x312),'ONltm':_0x271fac(0x1ed)},_0x427bd8=document[_0x271fac(0x249)](_0x271fac(0x1cb));_0x427bd8[_0x271fac(0x190)]=_0x733c5c[_0x271fac(0x40b)],_0x427bd8[_0x271fac(0x210)]['color']=_0x733c5c[_0x271fac(0x13e)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x29685b){const _0x198cff=_0x42b5e8,_0x4884e5={'wwDOQ':'Profile\x20not\x20found.','HDyOb':_0x198cff(0x20c),'mIRHz':'profileViewer'};db[_0x198cff(0x252)](_0x198cff(0x28f)+_0x29685b)['get']()[_0x198cff(0x163)](_0x33bd43=>{const _0x55c960=_0x198cff;if(!_0x33bd43[_0x55c960(0x203)]())return alert(_0x4884e5[_0x55c960(0x2a6)]);const _0x28d438=_0x33bd43[_0x55c960(0x143)](),_0x2d6ccc=(_0x55c960(0x332)+_0x28d438[_0x55c960(0x2e3)]+_0x55c960(0x3f1)+(_0x28d438[_0x55c960(0x1b0)]||_0x55c960(0x1e7))+_0x55c960(0x220)+((_0x28d438[_0x55c960(0x2f3)]||[])[_0x55c960(0x10c)](',\x20')||'No\x20changes\x20yet')+_0x55c960(0x300)+(_0x28d438[_0x55c960(0x1b9)]?new Date(_0x28d438[_0x55c960(0x1b9)])['toLocaleString']():_0x4884e5[_0x55c960(0x272)])+'\x0a\x20\x20\x20\x20')['trim']();document['getElementById'](_0x55c960(0x39d))['innerText']=_0x2d6ccc,document[_0x55c960(0x249)](_0x4884e5[_0x55c960(0x167)])[_0x55c960(0x210)][_0x55c960(0x16b)]=_0x55c960(0x1be);});}function initUsernameFlow(){const _0x352bea=_0x42b5e8,_0x8e1395={'GsiYd':_0x352bea(0x404),'heEzg':function(_0x261e80,_0x5392a0){return _0x261e80(_0x5392a0);},'xLKlO':_0x352bea(0x23e),'veWSa':function(_0x43eaa8,_0x264571){return _0x43eaa8(_0x264571);}},_0x55431f=localStorage[_0x352bea(0x319)](_0x8e1395[_0x352bea(0x342)]);!_0x55431f?_0x8e1395[_0x352bea(0x212)](showScreen,_0x352bea(0x193)):(username=_0x55431f,document[_0x352bea(0x249)](_0x8e1395['xLKlO'])[_0x352bea(0x190)]=username,_0x8e1395[_0x352bea(0x27b)](showScreen,_0x352bea(0x1ab)));}function closeProfile(){const _0xbeacbd=_0x42b5e8,_0x34363b={'CjbEm':_0xbeacbd(0x3c0)};document['getElementById'](_0xbeacbd(0x29b))[_0xbeacbd(0x210)][_0xbeacbd(0x16b)]=_0x34363b['CjbEm'];}function resetWebsiteData(){const _0x488a73=_0x42b5e8,_0x3c61ad={'BBciO':_0x488a73(0x33d),'jyynv':function(_0x3bb7dd,_0x542f63){return _0x3bb7dd||_0x542f63;}};try{const _0x2f5dc=localStorage[_0x488a73(0x319)](_0x3c61ad['BBciO']);localStorage[_0x488a73(0x177)](),sessionStorage[_0x488a73(0x177)](),_0x2f5dc&&localStorage[_0x488a73(0x308)](_0x3c61ad[_0x488a73(0x115)],_0x2f5dc);}catch(_0x5289ae){}_0x3c61ad[_0x488a73(0x3aa)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId='_'+Math[_0x488a73(0x38b)]()['toString'](0x24)[_0x488a73(0x348)](0x2,0x9));}function addAnnouncement(){const _0x3bf91e=_0x42b5e8,_0x30e24f={'ImcCP':function(_0x2afd23,_0x52fc55){return _0x2afd23(_0x52fc55);},'oqXCL':'Enter\x20Announcement\x20Text:'},_0x382a45=_0x30e24f[_0x3bf91e(0x1fb)](prompt,_0x30e24f[_0x3bf91e(0x2ed)]);if(!_0x382a45)return;db[_0x3bf91e(0x252)]('rooms/'+roomCode+_0x3bf91e(0x122))['set']({'text':_0x382a45,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x508c7d=_0x42b5e8,_0x38b217={'dJUUv':_0x508c7d(0x2f1),'IljNj':_0x508c7d(0x13a)},_0x51c3fa=db['ref'](_0x508c7d(0x2e6)+roomCode+_0x508c7d(0x122));_0x51c3fa['on'](_0x38b217[_0x508c7d(0x259)],_0x339e79=>{const _0x36b3b8=_0x508c7d,_0x2f8661=_0x339e79['val']();if(!_0x2f8661){document[_0x36b3b8(0x249)](_0x38b217[_0x36b3b8(0x262)])['innerText']='';return;}const _0x1bbc00=document[_0x36b3b8(0x249)](_0x38b217['dJUUv']);_0x1bbc00['innerText']=''+_0x2f8661[_0x36b3b8(0x2aa)];});}document[_0x42b5e8(0x249)](_0x42b5e8(0x2f1))[_0x42b5e8(0x1ec)](_0x42b5e8(0x3ff),_0x2c42bf=>{const _0x46ca24=_0x42b5e8,_0x49ab1f={'oWEcn':function(_0xac2f7e,_0x5db1c5){return _0xac2f7e===_0x5db1c5;},'YeCoB':function(_0x222e6d,_0x8c07c6){return _0x222e6d(_0x8c07c6);}};_0x49ab1f[_0x46ca24(0x39f)](_0x2c42bf[_0x46ca24(0x1c6)],0x3)&&isRoomAdmin&&(_0x49ab1f[_0x46ca24(0x1e9)](confirm,_0x46ca24(0x2e8))&&db[_0x46ca24(0x252)]('rooms/'+roomCode+'/announcement')[_0x46ca24(0x17b)]());}),document[_0x42b5e8(0x249)]('msgInput')[_0x42b5e8(0x1ec)](_0x42b5e8(0x219),()=>{const _0x4545be=_0x42b5e8,_0x2b59ea={'RsTuw':_0x4545be(0x3ca),'JqQrA':_0x4545be(0x1e4)},_0xefe1f2=document[_0x4545be(0x249)](_0x2b59ea[_0x4545be(0x125)]);_0x506d5c?_0xefe1f2[_0x4545be(0x210)][_0x4545be(0x2cd)]=_0x2b59ea[_0x4545be(0x266)]:_0xefe1f2[_0x4545be(0x210)][_0x4545be(0x2cd)]='';const _0xa49022=_0xefe1f2['value']['toLowerCase'](),_0x506d5c=swearWords[_0x4545be(0x131)](_0x988047=>_0xa49022['includes'](_0x988047));_0x506d5c?(_0xefe1f2['style'][_0x4545be(0x2cd)]=_0x4545be(0x1e4),sendBtn[_0x4545be(0x173)]=!![]):(_0xefe1f2['style']['border']='',_0x506d5c?_0xefe1f2['style'][_0x4545be(0x2cd)]=_0x2b59ea[_0x4545be(0x266)]:_0xefe1f2[_0x4545be(0x210)][_0x4545be(0x2cd)]='');});function muteUser(_0x3036ca,_0x3d37a){const _0x20fe21=_0x42b5e8,_0x32caf3={'Ljlnz':function(_0x176d1e,_0x5a2310){return _0x176d1e(_0x5a2310);},'iAEFV':function(_0x501021,_0xed7866){return _0x501021*_0xed7866;},'pKsMg':function(_0x1a1089,_0x5b4a51){return _0x1a1089*_0x5b4a51;}},_0x13b161=Date[_0x20fe21(0x1db)]()+_0x32caf3['iAEFV'](_0x32caf3[_0x20fe21(0x29f)](_0x3d37a,0x3c),0x3e8);db['ref'](_0x20fe21(0x3d2)+roomCode+'/'+sanitizeUsername(_0x3036ca))[_0x20fe21(0x2d0)]({'muteUntil':_0x13b161})[_0x20fe21(0x163)](()=>{const _0x457453=_0x20fe21;_0x32caf3[_0x457453(0x285)](alert,_0x3036ca+'\x20muted\x20for\x20'+_0x3d37a+_0x457453(0x25f));});}function deleteUserMessages(_0x815e11){const _0x29a5f2=_0x42b5e8,_0x12b9ac={'hEBPR':function(_0x211cd1,_0x5906c0){return _0x211cd1(_0x5906c0);}};db[_0x29a5f2(0x252)](_0x29a5f2(0x2e6)+roomCode+_0x29a5f2(0x334))[_0x29a5f2(0x2b9)](_0x29a5f2(0x327))[_0x29a5f2(0x2e7)](_0x815e11)[_0x29a5f2(0x36d)]()[_0x29a5f2(0x163)](_0x5e931a=>{const _0x5799cf=_0x29a5f2;_0x5e931a[_0x5799cf(0x406)](_0x42d246=>{const _0x54c605=_0x5799cf;db[_0x54c605(0x252)](_0x54c605(0x2e6)+roomCode+_0x54c605(0x3c3)+_0x42d246['key'])[_0x54c605(0x17b)]();}),_0x12b9ac['hEBPR'](alert,_0x5799cf(0x232)+_0x815e11+'\x20deleted.');});}function pauseRoom(_0x50a857){const _0x2a71e0=_0x42b5e8,_0x2d0837={'NBviw':_0x2a71e0(0x298),'lFEwE':_0x2a71e0(0x1be),'YtMnn':'value'};db[_0x2a71e0(0x252)](_0x2a71e0(0x2e6)+roomCode+'/paused')['on'](_0x2d0837['YtMnn'],_0x23f25=>{const _0x289ae2=_0x2a71e0,_0x1cb380=_0x23f25[_0x289ae2(0x143)]();document[_0x289ae2(0x249)](_0x2d0837[_0x289ae2(0x1e5)])[_0x289ae2(0x210)][_0x289ae2(0x16b)]=_0x1cb380?_0x2d0837[_0x289ae2(0x31f)]:_0x289ae2(0x3c0);});}function canPerformAction(_0xe81595){const _0x4456de=_0x42b5e8,_0x4717fe={'PiBvv':_0x4456de(0x3ea),'lgNUs':function(_0x4141cf,_0x4e3f28){return _0x4141cf===_0x4e3f28;},'rLPwr':_0x4456de(0x3b6),'bOVXa':_0x4456de(0x403),'WRNas':_0x4456de(0x21c),'qpmig':function(_0x5e4604,_0x165ea1){return _0x5e4604===_0x165ea1;},'ksTwz':function(_0x4d59d9,_0x272168){return _0x4d59d9===_0x272168;},'Qzsit':_0x4456de(0x3ed),'WigZG':_0x4456de(0x311),'ZlAyn':function(_0x487f6c,_0x3ffa7e){return _0x487f6c===_0x3ffa7e;},'tLCdn':_0x4456de(0x19d)},_0x52deb7=_0x4717fe['PiBvv'][_0x4456de(0x248)]('|');let _0x2efb6a=0x0;while(!![]){switch(_0x52deb7[_0x2efb6a++]){case'0':return![];case'1':if(_0x4717fe[_0x4456de(0x15d)](role,_0x4456de(0x3d0)))return!![];continue;case'2':if(_0x4717fe[_0x4456de(0x15d)](_0xe81595,_0x4717fe[_0x4456de(0x3a3)]))return _0x4717fe[_0x4456de(0x15d)](role,_0x4717fe[_0x4456de(0x119)]);continue;case'3':if(_0xe81595===_0x4717fe['WRNas']||_0x4717fe[_0x4456de(0x1dd)](_0xe81595,_0x4717fe[_0x4456de(0x3a3)]))return _0x4717fe[_0x4456de(0x3ae)](role,_0x4717fe[_0x4456de(0x119)]);continue;case'4':if(_0x4717fe[_0x4456de(0x1dd)](_0xe81595,_0x4717fe['Qzsit']))return _0x4717fe[_0x4456de(0x1dd)](role,_0x4717fe[_0x4456de(0x119)])||_0x4717fe['ksTwz'](role,_0x4717fe['WigZG'])||_0x4717fe[_0x4456de(0x2b6)](role,_0x4717fe[_0x4456de(0x24c)]);continue;}break;}}const html=Object[_0x42b5e8(0x1ee)](roomUsers)[_0x42b5e8(0x3c8)](_0xfc7cec=>{const _0x2825e4=_0x42b5e8,_0x53e356={'MGegb':function(_0x4300ce,_0x153936){return _0x4300ce!==_0x153936;},'fVzID':function(_0xf52d48,_0x1aff52){return _0xf52d48(_0x1aff52);},'UpCCI':_0x2825e4(0x3ed),'EOyyb':function(_0x3f844a,_0x4f4fc2){return _0x3f844a===_0x4f4fc2;},'BBpmA':_0x2825e4(0x403),'fEVuI':function(_0x15384a,_0x5c0c6e){return _0x15384a(_0x5c0c6e);},'TiXuU':function(_0x3fc182,_0x510edd){return _0x3fc182(_0x510edd);}},_0x1ba34d=sanitizeUsername(_0xfc7cec[_0x2825e4(0x2e3)]),_0x15ece6=[];if(_0x53e356[_0x2825e4(0x241)](_0x1ba34d,_0x53e356['fVzID'](sanitizeUsername,username))){canPerformAction(_0x53e356['UpCCI'])&&(_0x15ece6['push'](_0x2825e4(0x184)+_0x1ba34d+_0x2825e4(0x11d)),_0x15ece6[_0x2825e4(0x3dd)]('<button\x20onclick=\x22muteUser(\x27'+_0x1ba34d+_0x2825e4(0x20f)));canPerformAction(_0x2825e4(0x21c))&&_0x15ece6[_0x2825e4(0x3dd)]('<button\x20onclick=\x22deleteUserMessages(\x27'+_0x1ba34d+_0x2825e4(0x255));if(_0x53e356[_0x2825e4(0x2d7)](role,'dev'))_0x15ece6['push'](_0x2825e4(0x35e)+_0x1ba34d+_0x2825e4(0x24a)),_0x15ece6['push'](_0x2825e4(0x2fc)+_0x1ba34d+_0x2825e4(0x34c));else role===_0x53e356[_0x2825e4(0x29d)]&&_0x15ece6[_0x2825e4(0x3dd)](_0x2825e4(0x35e)+_0x1ba34d+_0x2825e4(0x24a));}return _0x2825e4(0x15f)+_0xfc7cec['username']+'\x20'+_0x53e356[_0x2825e4(0x315)](getRoleTag,_0x53e356[_0x2825e4(0x401)](sanitizeUsername,_0xfc7cec[_0x2825e4(0x2e3)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x1ba34d+_0x2825e4(0x216)+_0x15ece6[_0x2825e4(0x10c)]('')+_0x2825e4(0x2e4)+_0x1ba34d+_0x2825e4(0x247);})['join']('');function promoteToModerator(_0x3732d1){const _0x57b11a=_0x42b5e8,_0x12cebc={'yfvNh':function(_0x44873c,_0x5ae798){return _0x44873c(_0x5ae798);},'pMQAV':function(_0x3d78c7,_0x5eeb67){return _0x3d78c7(_0x5eeb67);},'PHAEt':function(_0xaa6f92,_0x379582){return _0xaa6f92(_0x379582);},'xUaru':function(_0x5b0cd6,_0x34bace){return _0x5b0cd6(_0x34bace);},'INfns':_0x57b11a(0x400),'EeWMD':function(_0x470aae,_0x4a39e6){return _0x470aae!==_0x4a39e6;},'VouTf':'admin','rpbxx':function(_0xed8d6b,_0x4acb01){return _0xed8d6b(_0x4acb01);}},_0x14dd2e=_0x12cebc[_0x57b11a(0x280)](sanitizeUsername,_0x3732d1);if(_0x12cebc[_0x57b11a(0x28a)](isProtected,_0x14dd2e))return _0x12cebc[_0x57b11a(0x28a)](alert,_0x12cebc['INfns']);if(_0x12cebc[_0x57b11a(0x38c)](role,'dev')&&role!==_0x12cebc[_0x57b11a(0x347)]){_0x12cebc[_0x57b11a(0x3b4)](alert,'Only\x20Devs\x20or\x20Admins\x20can\x20promote.');return;}db[_0x57b11a(0x252)](_0x57b11a(0x1f8)+roomCode+'/'+_0x14dd2e)[_0x57b11a(0x2d0)](!![])[_0x57b11a(0x163)](()=>{const _0x58f104=_0x57b11a;_0x12cebc[_0x58f104(0x12d)](alert,_0x3732d1+_0x58f104(0x1e3)),_0x12cebc['pMQAV'](addSystemMessage,_0x3732d1+'\x20was\x20promoted\x20to\x20Moderator');});}function promoteToAdmin(_0xdc4985){const _0x13499e=_0x42b5e8,_0x5d2a4a={'Pwplc':function(_0x1b7406,_0x1a8d51){return _0x1b7406(_0x1a8d51);},'DYaoe':function(_0x444eb2,_0x274f8c){return _0x444eb2(_0x274f8c);},'rqGCt':'dev','TIfZP':function(_0x2cb535,_0x51b62e){return _0x2cb535(_0x51b62e);}},_0x4c5546=sanitizeUsername(_0xdc4985);if(isProtected(_0x4c5546))return alert('ðŸš«\x20Cannot\x20promote\x20Developers.');if(role!==_0x5d2a4a[_0x13499e(0x134)]){_0x5d2a4a[_0x13499e(0x148)](alert,_0x13499e(0x242));return;}db[_0x13499e(0x252)](_0x13499e(0x278)+roomCode+'/'+_0x4c5546)[_0x13499e(0x2d0)](!![])[_0x13499e(0x163)](()=>{const _0x5d2adb=_0x13499e;_0x5d2a4a['Pwplc'](alert,_0xdc4985+_0x5d2adb(0x377)),_0x5d2a4a['DYaoe'](addSystemMessage,_0xdc4985+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0xec2141){const _0x19d6f4=_0x42b5e8,_0x1d97ed={'IIpzY':function(_0x59e600,_0x1e011c){return _0x59e600===_0x1e011c;},'aSUMM':'dev','apRJH':_0x19d6f4(0x403),'DRsCb':_0x19d6f4(0x3c0),'xsPth':_0x19d6f4(0x1be)};(_0x1d97ed[_0x19d6f4(0x343)](role,_0x1d97ed[_0x19d6f4(0x11c)])||role===_0x1d97ed[_0x19d6f4(0x355)])&&controls[_0x19d6f4(0x3dd)](_0x19d6f4(0x359)+safeName+_0x19d6f4(0x1b6));const _0x1e88a3=document[_0x19d6f4(0x249)](_0x19d6f4(0x264)+_0xec2141);_0x1d97ed[_0x19d6f4(0x343)](_0x1e88a3[_0x19d6f4(0x210)][_0x19d6f4(0x16b)],_0x1d97ed['DRsCb'])?_0x1e88a3[_0x19d6f4(0x210)][_0x19d6f4(0x16b)]=_0x1d97ed[_0x19d6f4(0x23f)]:_0x1e88a3['style'][_0x19d6f4(0x16b)]=_0x1d97ed[_0x19d6f4(0x35c)];}function demoteUser(_0xb2d689){const _0xf59d70=_0x42b5e8,_0x41b38c={'OthIZ':function(_0x4cb62d,_0x587294){return _0x4cb62d(_0x587294);},'bVzOZ':'ðŸš«\x20You\x20cannot\x20demote\x20a\x20Developer.','qnlhf':_0xf59d70(0x3d0),'gYozx':function(_0x24026a,_0x4f0740){return _0x24026a(_0x4f0740);},'wIqZq':function(_0x31427c,_0x44163f){return _0x31427c===_0x44163f;},'IEtDM':_0xf59d70(0x403),'oEiZY':'ðŸš«\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(_0x41b38c['OthIZ'](isProtected,_0xb2d689))return _0x41b38c['OthIZ'](alert,_0x41b38c[_0xf59d70(0x1a2)]);if(role===_0x41b38c['qnlhf'])db[_0xf59d70(0x252)](_0xf59d70(0x278)+roomCode+'/'+_0xb2d689)[_0xf59d70(0x17b)](),db[_0xf59d70(0x252)](_0xf59d70(0x1f8)+roomCode+'/'+_0xb2d689)[_0xf59d70(0x17b)](),_0x41b38c[_0xf59d70(0x3a5)](alert,_0xb2d689+'\x20demoted\x20to\x20user.'),_0x41b38c[_0xf59d70(0x3a5)](addSystemMessage,_0xb2d689+_0xf59d70(0x22b));else _0x41b38c[_0xf59d70(0x23b)](role,_0x41b38c[_0xf59d70(0x1b2)])?(db['ref'](_0xf59d70(0x1f8)+roomCode+'/'+_0xb2d689)['remove'](),_0x41b38c[_0xf59d70(0x1f2)](alert,_0xb2d689+_0xf59d70(0x341)),addSystemMessage(_0xb2d689+'\x20was\x20demoted')):alert(_0x41b38c[_0xf59d70(0x2f0)]);}function getRoleTag(_0x44866c){const _0x2c3fa0=_0x42b5e8,_0xa6cb0={'Fzuxn':function(_0x1573b6,_0x3cb83b){return _0x1573b6(_0x3cb83b);}},_0x112a02=_0xa6cb0[_0x2c3fa0(0x3e8)](sanitizeUsername,_0x44866c);if(globalDevs[_0x2c3fa0(0x1e2)](_0x112a02))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins[_0x2c3fa0(0x1e2)](_0x112a02))return _0x2c3fa0(0x2f2);if(roomModerators[_0x2c3fa0(0x1e2)](_0x112a02))return _0x2c3fa0(0x2e5);return'';}async function loadRoomRoles(){const _0x2af824=_0x42b5e8,_0x509ff4={'WztDl':function(_0x244095,_0xe9d31f){return _0x244095===_0xe9d31f;},'JRHBm':'dev','cYbRu':function(_0x1ff9cb,_0x327ae5){return _0x1ff9cb(_0x327ae5);},'onyuA':'auth','NtSoC':_0x2af824(0x403),'Hxlir':_0x2af824(0x311),'QaIJV':_0x2af824(0x2fe)},_0x40a789=_0x509ff4[_0x2af824(0x21e)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x2070a4=await db[_0x2af824(0x252)](_0x509ff4[_0x2af824(0x27d)])[_0x2af824(0x36d)]();_0x2070a4[_0x2af824(0x406)](_0x42c1a8=>{const _0x55cbb6=_0x2af824;if(_0x509ff4[_0x55cbb6(0x26c)](_0x42c1a8[_0x55cbb6(0x143)]()[_0x55cbb6(0x275)],_0x509ff4[_0x55cbb6(0x234)]))globalDevs[_0x55cbb6(0x3dd)](_0x42c1a8[_0x55cbb6(0x13d)]);});const _0xbd904c=await db[_0x2af824(0x252)]('admins/'+roomCode)['get']();_0xbd904c['exists']()&&_0xbd904c[_0x2af824(0x406)](_0x3dec14=>roomAdmins['push'](_0x3dec14['key']));const _0x14a52b=await db[_0x2af824(0x252)]('moderators/'+roomCode)[_0x2af824(0x36d)]();_0x14a52b[_0x2af824(0x203)]()&&_0x14a52b[_0x2af824(0x406)](_0x4fcd02=>roomModerators[_0x2af824(0x3dd)](_0x4fcd02[_0x2af824(0x13d)]));if(globalDevs[_0x2af824(0x1e2)](_0x40a789))role=_0x2af824(0x3d0);else{if(roomAdmins[_0x2af824(0x1e2)](_0x40a789))role=_0x509ff4['NtSoC'];else roomModerators['includes'](_0x40a789)?role=_0x509ff4[_0x2af824(0x19b)]:role=_0x509ff4[_0x2af824(0x153)];}}async function renderUserLists(_0x1178eb){const _0x36f1a4=_0x42b5e8,_0x18cf40={'BXgrb':function(_0x1c09da,_0x5e9514){return _0x1c09da(_0x5e9514);},'VCuul':function(_0x27c316,_0x584f90){return _0x27c316(_0x584f90);},'gvbBL':_0x36f1a4(0x311),'PtOsx':'admin','qdKLZ':'dev','nIQZL':function(_0x593a61,_0x488942){return _0x593a61===_0x488942;},'wsGwy':_0x36f1a4(0x19d),'RKUbd':_0x36f1a4(0x3c0),'fgTZm':'userList','mudaz':_0x36f1a4(0x1a1)};roomUsers=_0x1178eb;const _0x5e5d79=sanitizeUsername(username),_0x2cd8da=[_0x18cf40[_0x36f1a4(0x1b4)],_0x18cf40[_0x36f1a4(0x402)],_0x18cf40[_0x36f1a4(0x3e4)],_0x18cf40[_0x36f1a4(0x2be)]][_0x36f1a4(0x1e2)](role);document[_0x36f1a4(0x249)](_0x36f1a4(0x2db))['style'][_0x36f1a4(0x16b)]=_0x2cd8da?_0x36f1a4(0x1be):_0x18cf40[_0x36f1a4(0x1ad)];const _0x569ea8=Object[_0x36f1a4(0x31b)](_0x1178eb)[_0x36f1a4(0x3c8)](async([_0x2b5794,_0x579ad3])=>{const _0x58a201=_0x36f1a4,_0x42a6d7=_0x18cf40[_0x58a201(0x28b)](sanitizeUsername,_0x579ad3['username']||_0x2b5794),_0x2c6a0c=await _0x18cf40['BXgrb'](fetchAvatar,_0x42a6d7),_0x53b36e=_0x2c6a0c?'<img\x20src=\x22data:image/png;base64,'+_0x2c6a0c+_0x58a201(0x18a):'',_0x24b67b=_0x579ad3[_0x58a201(0x2e2)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>â—</span>':_0x58a201(0x3cf);return _0x58a201(0x14e)+_0x53b36e+'\x20'+_0x24b67b+'\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27'+_0x42a6d7+'\x27)\x22>'+(_0x579ad3[_0x58a201(0x2e3)]||_0x2b5794)+_0x58a201(0x36a)+_0x18cf40[_0x58a201(0x33b)](getRoleTag,_0x42a6d7)+_0x58a201(0x313);});document['getElementById'](_0x18cf40[_0x36f1a4(0x283)])[_0x36f1a4(0x352)]=(await Promise['all'](_0x569ea8))[_0x36f1a4(0x10c)]('');if(!_0x2cd8da)return;const _0x285e3f=Object['entries'](_0x1178eb)['map'](async([_0x12c343,_0x5a2d38])=>{const _0x41c058=_0x36f1a4,_0x4571c5=_0x18cf40['VCuul'](sanitizeUsername,_0x5a2d38['username']||_0x12c343);if(_0x4571c5===_0x5e5d79)return'';const _0x5e7d57=globalDevs[_0x41c058(0x1e2)](_0x4571c5),_0x20ddd7=await _0x18cf40['VCuul'](fetchAvatar,_0x4571c5),_0x5d5b43=_0x20ddd7?_0x41c058(0x1e6)+_0x20ddd7+_0x41c058(0x18a):'',_0x45ee75=_0x5a2d38[_0x41c058(0x2e2)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>â—</span>':_0x41c058(0x3cf),_0x27866c=[];if(!_0x5e7d57){[_0x41c058(0x19d),_0x18cf40['gvbBL'],_0x18cf40[_0x41c058(0x402)],_0x18cf40['qdKLZ']][_0x41c058(0x1e2)](role)&&(_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x184)+_0x4571c5+_0x41c058(0x296)),_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x184)+_0x4571c5+_0x41c058(0x11d)),_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x184)+_0x4571c5+_0x41c058(0x20f)));if(_0x18cf40[_0x41c058(0x18d)](role,_0x18cf40['qdKLZ']))_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x35e)+_0x4571c5+_0x41c058(0x19c)),_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x2fc)+_0x4571c5+_0x41c058(0x162)),_0x27866c[_0x41c058(0x3dd)]('<button\x20onclick=\x22demoteUser(\x27'+_0x4571c5+_0x41c058(0x1b6));else role===_0x18cf40[_0x41c058(0x402)]&&(_0x27866c[_0x41c058(0x3dd)](_0x41c058(0x35e)+_0x4571c5+_0x41c058(0x19c)),_0x27866c['push'](_0x41c058(0x359)+_0x4571c5+_0x41c058(0x1b6)));}return _0x41c058(0x2f5)+_0x5d5b43+'\x20'+_0x45ee75+_0x41c058(0x340)+(_0x5a2d38[_0x41c058(0x2e3)]||_0x12c343)+'\x20'+getRoleTag(_0x4571c5)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x27866c[_0x41c058(0x10c)]('\x20')+_0x41c058(0x136);});document[_0x36f1a4(0x249)](_0x18cf40[_0x36f1a4(0x227)])['innerHTML']=(await Promise[_0x36f1a4(0x3cb)](_0x285e3f))[_0x36f1a4(0x10c)]('');}function updateAnnouncementVisibility(){const _0x4f54f8=_0x42b5e8,_0xc27ba4={'TWyaH':function(_0x1bd0d2,_0x937b7a){return _0x1bd0d2===_0x937b7a;},'gqGGw':_0x4f54f8(0x403),'jjqqA':function(_0xc0ba0,_0x3b1898){return _0xc0ba0===_0x3b1898;},'HXjTO':_0x4f54f8(0x3c0)},_0x1a830a=document['getElementById']('addAnnouncementBtn');_0xc27ba4[_0x4f54f8(0x236)](role,_0xc27ba4[_0x4f54f8(0x263)])||_0xc27ba4[_0x4f54f8(0x165)](role,'dev')?_0x1a830a[_0x4f54f8(0x210)]['display']=_0x4f54f8(0x1be):_0x1a830a[_0x4f54f8(0x210)]['display']=_0xc27ba4[_0x4f54f8(0x172)];}async function fetchAvatar(_0x1dc396){const _0x53cbe0=_0x42b5e8;if(userAvatars[_0x1dc396])return userAvatars[_0x1dc396];const _0x507087=await db[_0x53cbe0(0x252)](_0x53cbe0(0x28f)+_0x1dc396)[_0x53cbe0(0x36d)]();if(_0x507087[_0x53cbe0(0x203)]()&&_0x507087[_0x53cbe0(0x143)]()['avatarBase64'])return userAvatars[_0x1dc396]=_0x507087[_0x53cbe0(0x143)]()[_0x53cbe0(0x2f6)],userAvatars[_0x1dc396];return null;}function sendTyping(){const _0xeee09e=_0x42b5e8,_0x2731f9={'WBIaK':function(_0x59718f,_0x470827){return _0x59718f(_0x470827);},'MkkLn':function(_0x5a35ed,_0x3ee577,_0x531726){return _0x5a35ed(_0x3ee577,_0x531726);}},_0x54105a=sanitizeUsername(username),_0x445580=Date[_0xeee09e(0x1db)]();db[_0xeee09e(0x252)]('typing/'+roomCode+'/'+_0x54105a)[_0xeee09e(0x2d0)](_0x445580);if(typingTimeout)_0x2731f9['WBIaK'](clearTimeout,typingTimeout);typingTimeout=_0x2731f9[_0xeee09e(0x25c)](setTimeout,()=>{const _0x1263e9=_0xeee09e;db[_0x1263e9(0x252)](_0x1263e9(0x3fb)+roomCode+'/'+_0x54105a)[_0x1263e9(0x17b)]();},0x1f4);}function listenForTyping(){const _0x341cf8=_0x42b5e8,_0x4544b2={'Wvvho':_0x341cf8(0x3fa),'oweBo':'value'};db[_0x341cf8(0x252)](_0x341cf8(0x3fb)+roomCode)['on'](_0x4544b2[_0x341cf8(0x3f9)],_0x203ba8=>{const _0x4cc4a9=_0x341cf8,_0x188a77=document[_0x4cc4a9(0x249)](_0x4544b2[_0x4cc4a9(0x3bd)]);if(!_0x203ba8[_0x4cc4a9(0x203)]())return _0x188a77['innerText']='';const _0x498b09=Date[_0x4cc4a9(0x1db)](),_0x2b544a=Object['entries'](_0x203ba8['val']())[_0x4cc4a9(0x301)](([_0x41e6f8,_0x461310])=>_0x41e6f8!==sanitizeUsername(username)&&_0x498b09-_0x461310<0x1388)[_0x4cc4a9(0x3c8)](([_0x5cb149])=>_0x5cb149);_0x188a77[_0x4cc4a9(0x190)]=_0x2b544a[_0x4cc4a9(0x24d)]?_0x2b544a[_0x4cc4a9(0x10c)](',\x20')+_0x4cc4a9(0x331):'';});}function watchMuteStatus(){const _0x18189e=_0x42b5e8,_0x27d0a5={'syyyx':function(_0x74ad8,_0x4cc7a8){return _0x74ad8>_0x4cc7a8;},'uIgwc':function(_0x4f749e,_0x24eece){return _0x4f749e(_0x24eece);},'bNByx':'msgInput','sHdXf':'Type\x20a\x20message...','ufNmP':function(_0x7831f,_0xef23e3){return _0x7831f===_0xef23e3;},'RpBvu':function(_0x2388f8,_0x135dc8,_0x42fea3){return _0x2388f8(_0x135dc8,_0x42fea3);},'tPkbZ':_0x18189e(0x13a)},_0x4be9fd=db['ref'](_0x18189e(0x3d2)+roomCode+'/'+sanitizeUsername(username));let _0xcb45ca;_0x4be9fd['on'](_0x27d0a5[_0x18189e(0x1fe)],_0x10f369=>{const _0x2f31f5=_0x18189e;_0x27d0a5[_0x2f31f5(0x306)](clearInterval,_0xcb45ca);const _0x48b4d6=document[_0x2f31f5(0x249)](_0x27d0a5[_0x2f31f5(0x2b2)]);if(!_0x10f369['exists']()){_0x48b4d6[_0x2f31f5(0x173)]=![],_0x48b4d6[_0x2f31f5(0x160)]=_0x27d0a5[_0x2f31f5(0x2af)];return;}const _0x154c40=_0x10f369[_0x2f31f5(0x143)](),_0x575380=_0x27d0a5[_0x2f31f5(0x2ca)](typeof _0x154c40,_0x2f31f5(0x3fd))&&_0x154c40[_0x2f31f5(0x325)]?_0x154c40['muteUntil']:_0x154c40;_0x575380>Date[_0x2f31f5(0x1db)]()?(_0x48b4d6[_0x2f31f5(0x173)]=!![],_0x48b4d6[_0x2f31f5(0x160)]=_0x2f31f5(0x152),_0xcb45ca=_0x27d0a5['RpBvu'](setInterval,()=>{const _0x65dcaf=_0x2f31f5;_0x27d0a5[_0x65dcaf(0x2de)](Date[_0x65dcaf(0x1db)](),_0x575380)&&_0x4be9fd[_0x65dcaf(0x17b)]();},0xbb8)):(_0x48b4d6['disabled']=![],_0x48b4d6[_0x2f31f5(0x160)]=_0x27d0a5['sHdXf'],_0x4be9fd[_0x2f31f5(0x17b)]());});}function isProtected(_0x1f53ee){return globalDevs['includes'](_0x1f53ee);}function addSystemMessage(_0x10c446){const _0x2c204d=_0x42b5e8,_0x56844c={'KyAEJ':'div','AWyEM':'center','FNKJP':_0x2c204d(0x364),'XFshD':_0x2c204d(0x3dc),'hjIIp':_0x2c204d(0x2ec),'iMkEc':_0x2c204d(0x3c7)},_0x132536=document[_0x2c204d(0x1c8)](_0x56844c[_0x2c204d(0x397)]);_0x132536[_0x2c204d(0x210)][_0x2c204d(0x3ef)]=_0x56844c[_0x2c204d(0x303)],_0x132536[_0x2c204d(0x210)][_0x2c204d(0x362)]=_0x56844c[_0x2c204d(0x3b3)],_0x132536['style']['color']=_0x56844c[_0x2c204d(0x110)],_0x132536['style']['margin']=_0x56844c['hjIIp'],_0x132536[_0x2c204d(0x190)]=_0x10c446,document['getElementById'](_0x2c204d(0x3c7))[_0x2c204d(0x22a)](_0x132536),document[_0x2c204d(0x249)](_0x2c204d(0x3c7))[_0x2c204d(0x218)]=document[_0x2c204d(0x249)](_0x56844c[_0x2c204d(0x25b)])[_0x2c204d(0x392)];}function reactToMessage(_0x7f7317,_0x4b36d3){const _0x51df60=_0x42b5e8,_0x1dec12={'MnsmX':function(_0x46701f,_0x3e4db6){return _0x46701f(_0x3e4db6);},'CzRBk':'value'},_0x2f35f6=_0x1dec12[_0x51df60(0x196)](sanitizeUsername,username),_0x2b427e=db[_0x51df60(0x252)](_0x51df60(0x2e6)+roomCode+_0x51df60(0x3c3)+_0x7f7317+_0x51df60(0x3b8));_0x2b427e['once'](_0x1dec12[_0x51df60(0x349)])['then'](_0x50edd9=>{const _0x222e13=_0x51df60,_0x81cd72=_0x50edd9[_0x222e13(0x143)]()||{},_0x2f436f={};for(const [_0x13e0ef,_0x298404]of Object[_0x222e13(0x31b)](_0x81cd72)){_0x2f436f[_0x13e0ef]=(_0x298404||[])[_0x222e13(0x301)](_0xf89ee3=>_0xf89ee3!==_0x2f35f6);}if(!_0x81cd72[_0x4b36d3]||!_0x81cd72[_0x4b36d3][_0x222e13(0x1e2)](_0x2f35f6)){if(!_0x2f436f[_0x4b36d3])_0x2f436f[_0x4b36d3]=[];_0x2f436f[_0x4b36d3][_0x222e13(0x3dd)](_0x2f35f6);}_0x2b427e['set'](_0x2f436f);});}function startSidebarSyncLoop(){const _0xcbdb18=_0x42b5e8,_0x283e9e={'yuwrF':function(_0x303d2b,_0x58ddcb){return _0x303d2b(_0x58ddcb);},'Lutjh':function(_0x302570,_0x10d14a,_0x313e0a){return _0x302570(_0x10d14a,_0x313e0a);}};_0x283e9e[_0xcbdb18(0x3f4)](setInterval,async()=>{const _0x33fecf=_0xcbdb18;if(!roomCode)return;const _0x5c3837=await db['ref'](_0x33fecf(0x398)+roomCode)[_0x33fecf(0x36d)]();if(_0x5c3837['exists']()){const _0x1defcf=_0x5c3837[_0x33fecf(0x143)]();_0x283e9e['yuwrF'](renderUserLists,_0x1defcf);}},0x1388);}