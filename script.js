const _0x594cef=_0x3688;(function(_0x2304b6,_0x544599){const _0x35351d=_0x3688,_0x20e9f6=_0x2304b6();while(!![]){try{const _0x1104ad=-parseInt(_0x35351d(0x28d))/0x1*(parseInt(_0x35351d(0x25c))/0x2)+-parseInt(_0x35351d(0x115))/0x3+-parseInt(_0x35351d(0x2d2))/0x4*(parseInt(_0x35351d(0x224))/0x5)+parseInt(_0x35351d(0x2e5))/0x6+parseInt(_0x35351d(0x234))/0x7*(-parseInt(_0x35351d(0x103))/0x8)+parseInt(_0x35351d(0x2b0))/0x9*(-parseInt(_0x35351d(0xfd))/0xa)+parseInt(_0x35351d(0x28a))/0xb;if(_0x1104ad===_0x544599)break;else _0x20e9f6['push'](_0x20e9f6['shift']());}catch(_0x3ed5cf){_0x20e9f6['push'](_0x20e9f6['shift']());}}}(_0x3915,0x7427d));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x594cef(0x210),'databaseURL':_0x594cef(0x326),'projectId':_0x594cef(0x9c),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':_0x594cef(0x1a7),'appId':_0x594cef(0xf0),'measurementId':_0x594cef(0x2ce)};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x594cef(0x252)]();let deviceId=null;((async()=>{const _0x412348=_0x594cef,_0xe96f3e={'YJRGL':function(_0x55aaab){return _0x55aaab();}};deviceId=await _0xe96f3e[_0x412348(0x9d)](generateDeviceId);})());const swearWords=[_0x594cef(0x149),'shit','bitch',_0x594cef(0x1db),_0x594cef(0x2e7),_0x594cef(0x199),_0x594cef(0x291),_0x594cef(0x120),_0x594cef(0x167),'pendejo',_0x594cef(0x15d),_0x594cef(0x200),_0x594cef(0xc1),'porra',_0x594cef(0x26c),'merda',_0x594cef(0x120),'fdp',_0x594cef(0x18a),_0x594cef(0xa1),_0x594cef(0x308),_0x594cef(0xc9),_0x594cef(0x12d),_0x594cef(0x1e3),_0x594cef(0xb2),_0x594cef(0x107)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x594cef(0x151)]()[_0x594cef(0x127)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x594cef(0x250)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x594cef(0xff),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound[_0x594cef(0x1c4)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x58576a=_0x594cef,_0x215df3={'nsdvg':function(_0x2d751a,_0x366ebb){return _0x2d751a+_0x366ebb;},'Huhbj':function(_0x272b3e,_0xe5b61e){return _0x272b3e+_0xe5b61e;}},_0x344dac=_0x215df3['nsdvg'](navigator[_0x58576a(0x1e4)]+screen['width'],screen[_0x58576a(0x1f1)]),_0x19d4ac=await sha256(_0x344dac);return _0x215df3['Huhbj']('_',_0x19d4ac['substr'](0x0,0x14));}function sha256(_0xfb60e4){const _0x584d1b=_0x594cef,_0x5b19eb={'CbbCb':_0x584d1b(0x1b4)},_0x17dbe2=new TextEncoder()[_0x584d1b(0x31a)](_0xfb60e4);return crypto[_0x584d1b(0x136)]['digest'](_0x5b19eb['CbbCb'],_0x17dbe2)[_0x584d1b(0x1f8)](_0x5ebb68=>{const _0x488ce7=_0x584d1b;return Array[_0x488ce7(0x1b7)](new Uint8Array(_0x5ebb68))[_0x488ce7(0xf2)](_0x516074=>_0x516074['toString'](0x10)['padStart'](0x2,'0'))[_0x488ce7(0x27b)]('');});}function toggleNotifications(){const _0xdcc7cc=_0x594cef,_0x38e900={'vTZTN':function(_0x4bd2ed,_0x3318c8){return _0x4bd2ed===_0x3318c8;},'CepIY':_0xdcc7cc(0x2cf),'OKTrY':_0xdcc7cc(0x27a),'XoLJd':'true','OagBs':_0xdcc7cc(0x272),'OmKFL':_0xdcc7cc(0x2c8),'zeaFN':function(_0x3bf1c9,_0x3e7d97){return _0x3bf1c9!==_0x3e7d97;},'CUQaI':_0xdcc7cc(0x1fc)};_0x38e900[_0xdcc7cc(0x161)](Notification[_0xdcc7cc(0xf3)],_0xdcc7cc(0x2cf))?Notification[_0xdcc7cc(0x138)]()['then'](_0x2059fc=>{const _0x339ca0=_0xdcc7cc;_0x38e900[_0x339ca0(0x22a)](_0x2059fc,_0x38e900['CepIY'])&&(notificationsEnabled=!![],localStorage[_0x339ca0(0x26b)](_0x38e900['OKTrY'],_0x38e900[_0x339ca0(0x155)]),document[_0x339ca0(0x16d)](_0x38e900['OagBs'])[_0x339ca0(0x2d8)]=_0x38e900[_0x339ca0(0x2eb)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0xdcc7cc(0x26b)](_0x38e900[_0xdcc7cc(0xd1)],notificationsEnabled?_0xdcc7cc(0x128):_0x38e900[_0xdcc7cc(0x205)]),document[_0xdcc7cc(0x16d)](_0x38e900[_0xdcc7cc(0x2b8)])['innerText']=notificationsEnabled?_0xdcc7cc(0x2c8):_0xdcc7cc(0x2dc));}function toggleAuthMode(){const _0x8204aa=_0x594cef,_0x5d14b4={'ZhRAs':_0x8204aa(0xa6),'GGmTh':_0x8204aa(0x29e),'ZESLu':_0x8204aa(0xe0),'IIWCZ':_0x8204aa(0x202),'bNZaU':_0x8204aa(0x12c),'Pxwxb':_0x8204aa(0x281),'kQeep':_0x8204aa(0x256),'ldnYI':'authAvatar','LdJAl':'authSubmitBtn','wdybu':_0x8204aa(0x254)},_0x418fa3=_0x5d14b4[_0x8204aa(0x2e8)][_0x8204aa(0x1ec)]('|');let _0x134398=0x0;while(!![]){switch(_0x418fa3[_0x134398++]){case'0':document[_0x8204aa(0x16d)](_0x5d14b4['GGmTh'])['style'][_0x8204aa(0x309)]=isRegisterMode?_0x5d14b4['ZESLu']:_0x5d14b4['IIWCZ'];continue;case'1':isRegisterMode=!isRegisterMode;continue;case'2':document[_0x8204aa(0x16d)](_0x5d14b4[_0x8204aa(0xb7)])[_0x8204aa(0xa9)][_0x8204aa(0x309)]=_0x5d14b4['IIWCZ'];continue;case'3':document[_0x8204aa(0x16d)](_0x5d14b4[_0x8204aa(0x110)])[_0x8204aa(0x2d8)]=isRegisterMode?_0x5d14b4[_0x8204aa(0x262)]:_0x8204aa(0x254);continue;case'4':document[_0x8204aa(0x16d)](_0x8204aa(0xe9))[_0x8204aa(0xa9)][_0x8204aa(0x309)]=_0x5d14b4['IIWCZ'];continue;case'5':document[_0x8204aa(0x16d)](_0x5d14b4[_0x8204aa(0x219)])['style'][_0x8204aa(0x309)]=isRegisterMode?_0x5d14b4['ZESLu']:_0x5d14b4[_0x8204aa(0x27e)];continue;case'6':document[_0x8204aa(0x16d)](_0x5d14b4[_0x8204aa(0x169)])[_0x8204aa(0x2d8)]=isRegisterMode?_0x5d14b4[_0x8204aa(0x262)]:_0x5d14b4[_0x8204aa(0x28b)];continue;case'7':document[_0x8204aa(0x16d)](_0x8204aa(0x2a7))[_0x8204aa(0xa9)]['display']=isRegisterMode?_0x5d14b4['ZESLu']:_0x5d14b4[_0x8204aa(0x27e)];continue;}break;}}function previewAvatar(){const _0x377934=_0x594cef,_0x5b3833={'YdWFr':_0x377934(0x12c),'DGzHT':_0x377934(0xe0),'pMIYW':'authAvatar'},_0x426314=document[_0x377934(0x16d)](_0x5b3833[_0x377934(0x15c)]);if(!_0x426314[_0x377934(0x114)][_0x377934(0xbc)])return;const _0x538c3e=new FileReader();_0x538c3e['onloadend']=()=>{const _0x421d26=_0x377934;document[_0x421d26(0x16d)](_0x5b3833[_0x421d26(0x260)])[_0x421d26(0x13d)]=_0x538c3e[_0x421d26(0x15f)],document[_0x421d26(0x16d)](_0x5b3833[_0x421d26(0x260)])[_0x421d26(0xa9)][_0x421d26(0x309)]=_0x5b3833[_0x421d26(0x196)];},_0x538c3e['readAsDataURL'](_0x426314[_0x377934(0x114)][0x0]);}async function submitAuth(){const _0x239ab1=_0x594cef,_0x4ade44={'PTSLE':function(_0x2b51b2,_0x2aaaed){return _0x2b51b2||_0x2aaaed;},'tEfUK':'user','UCeBi':function(_0xf8a44d){return _0xf8a44d();},'FNYLo':_0x239ab1(0x29e),'IlUzR':_0x239ab1(0xe9),'CCMJu':_0x239ab1(0x202),'kDhdF':_0x239ab1(0xe0),'YWEJn':function(_0x3e45cc,_0x4e0bad){return _0x3e45cc(_0x4e0bad);},'cIDPz':_0x239ab1(0x1cc),'OMyUd':function(_0x10fb52,_0x5f2d6e){return _0x10fb52!==_0x5f2d6e;},'oDaqD':_0x239ab1(0x1bd),'TDPoL':function(_0x37d168){return _0x37d168();},'tYApK':'Account\x20not\x20found.','oXluS':'Incorrect\x20password.'},_0x877682=document['getElementById'](_0x239ab1(0xac))[_0x239ab1(0x248)][_0x239ab1(0xeb)](),_0x2d0ee9=document[_0x239ab1(0x16d)](_0x239ab1(0x28e))[_0x239ab1(0x248)]['trim'](),_0x20ea10=document[_0x239ab1(0x16d)](_0x239ab1(0x2a7))[_0x239ab1(0x248)][_0x239ab1(0xeb)](),_0x4c492b=document[_0x239ab1(0x16d)](_0x4ade44[_0x239ab1(0x9e)])[_0x239ab1(0x248)]['trim'](),_0x291d90=document[_0x239ab1(0x16d)](_0x239ab1(0xa2)),_0x3290cb=document[_0x239ab1(0x16d)](_0x4ade44[_0x239ab1(0x23b)]);_0x3290cb[_0x239ab1(0xa9)][_0x239ab1(0x309)]=_0x4ade44['CCMJu'];if(_0x4ade44['PTSLE'](!_0x877682,!_0x2d0ee9)){_0x3290cb[_0x239ab1(0x2d8)]=_0x239ab1(0x318),_0x3290cb[_0x239ab1(0xa9)][_0x239ab1(0x309)]=_0x4ade44[_0x239ab1(0x298)];return;}const _0x15d1b7=_0x4ade44[_0x239ab1(0x2c0)](sanitizeUsername,_0x877682),_0x356787=db[_0x239ab1(0x2ef)](_0x239ab1(0xdd)+_0x15d1b7),_0x3b50f7=await _0x356787[_0x239ab1(0x25e)]();if(isRegisterMode){if(_0x3b50f7[_0x239ab1(0x2fa)]()){_0x3290cb[_0x239ab1(0x2d8)]=_0x4ade44[_0x239ab1(0x16e)],_0x3290cb['style'][_0x239ab1(0x309)]=_0x4ade44[_0x239ab1(0x298)];return;}if(_0x4ade44['OMyUd'](_0x2d0ee9,_0x20ea10)){_0x3290cb[_0x239ab1(0x2d8)]=_0x4ade44[_0x239ab1(0x133)],_0x3290cb[_0x239ab1(0xa9)]['display']=_0x4ade44[_0x239ab1(0x298)];return;}const _0x44bc6b=await _0x4ade44[_0x239ab1(0x2c0)](sha256,_0x2d0ee9),_0x4c94f6=await _0x4ade44[_0x239ab1(0x17f)](generateDeviceId);if(_0x291d90[_0x239ab1(0x114)][_0x239ab1(0xbc)]){const _0x4d2996=_0x291d90[_0x239ab1(0x114)][0x0],_0x57f2cc=new FileReader();_0x57f2cc['onloadend']=async()=>{const _0x5082ad=_0x239ab1,_0x54b820=_0x57f2cc[_0x5082ad(0x15f)]['split'](',')[0x1];await _0x356787['set']({'username':_0x877682,'passwordHash':_0x44bc6b,'description':_0x4ade44[_0x5082ad(0x22d)](_0x4c492b,''),'avatarBase64':_0x54b820,'role':_0x4ade44[_0x5082ad(0x300)],'deviceId':_0x4c94f6,'usernameHistory':[_0x877682],'lastChanged':Date[_0x5082ad(0x250)]()}),username=_0x877682,userDescription=_0x4c492b,avatarBase64=_0x54b820,role=_0x4ade44[_0x5082ad(0x300)],_0x4ade44[_0x5082ad(0x17f)](startAfterAuth);},_0x57f2cc[_0x239ab1(0x247)](_0x4d2996);}else{const _0x4c26ea=_0x239ab1(0x198)[_0x239ab1(0x1ec)]('|');let _0x35c7aa=0x0;while(!![]){switch(_0x4c26ea[_0x35c7aa++]){case'0':role=_0x4ade44[_0x239ab1(0x300)];continue;case'1':_0x4ade44['TDPoL'](startAfterAuth);continue;case'2':username=_0x877682;continue;case'3':await _0x356787[_0x239ab1(0xbb)]({'username':_0x877682,'passwordHash':_0x44bc6b,'description':_0x4c492b||'','avatarBase64':'','role':_0x4ade44[_0x239ab1(0x300)],'deviceId':_0x4c94f6,'usernameHistory':[_0x877682],'lastChanged':Date[_0x239ab1(0x250)]()});continue;case'4':userDescription=_0x4c492b;continue;case'5':avatarBase64='';continue;}break;}}}else{if(!_0x3b50f7[_0x239ab1(0x2fa)]()){_0x3290cb['innerText']=_0x4ade44[_0x239ab1(0x166)],_0x3290cb[_0x239ab1(0xa9)][_0x239ab1(0x309)]=_0x4ade44[_0x239ab1(0x298)];return;}const _0x37c455=_0x3b50f7[_0x239ab1(0x238)](),_0xab4203=await _0x4ade44['YWEJn'](sha256,_0x2d0ee9);if(_0xab4203!==_0x37c455[_0x239ab1(0x19b)]){_0x3290cb[_0x239ab1(0x2d8)]=_0x4ade44[_0x239ab1(0x159)],_0x3290cb[_0x239ab1(0xa9)][_0x239ab1(0x309)]=_0x4ade44[_0x239ab1(0x298)];return;}username=_0x877682;if(_0x37c455[_0x239ab1(0x11a)])userDescription=_0x37c455[_0x239ab1(0x11a)];if(_0x37c455[_0x239ab1(0xce)])avatarBase64=_0x37c455['avatarBase64'];if(_0x37c455['role'])role=_0x37c455[_0x239ab1(0x14e)];else role='user';_0x4ade44[_0x239ab1(0x148)](startAfterAuth);}}async function saveNewUser(_0x4cd3b4,_0x3af6b1,_0x1edb9a,_0x4e1436,_0x47795a){const _0x29158f=_0x594cef,_0x123eda={'WbXOt':function(_0x4607b6,_0x51a83d){return _0x4607b6(_0x51a83d);},'ravLq':'user','XZmBe':function(_0x4f6b43,_0x3237bd){return _0x4f6b43||_0x3237bd;},'DJhTZ':function(_0x4f91b2){return _0x4f91b2();}},_0x197ad1=db[_0x29158f(0x2ef)]('auth/'+_0x123eda[_0x29158f(0x24c)](sanitizeUsername,_0x4cd3b4)),_0x560d48={'username':_0x4cd3b4,'passwordHash':_0x3af6b1,'role':_0x123eda[_0x29158f(0x132)],'deviceId':_0x1edb9a,'description':_0x123eda[_0x29158f(0x27f)](_0x47795a,''),'avatarBase64':_0x123eda[_0x29158f(0x27f)](_0x4e1436,''),'usernameHistory':[_0x4cd3b4],'lastChanged':Date[_0x29158f(0x250)]()};await _0x197ad1[_0x29158f(0xbb)](_0x560d48),username=_0x4cd3b4,_0x4e1436=_0x560d48['avatarBase64'],userDescription=_0x560d48['description'],_0x123eda[_0x29158f(0x17a)](startAfterAuth);}async function startAfterAuth(){const _0x1436f4=_0x594cef,_0x4a7348={'eDuvH':function(_0x370e8f,_0x57fb29){return _0x370e8f(_0x57fb29);},'fNVdt':_0x1436f4(0x18c),'OWcKZ':_0x1436f4(0xb6),'tJzIh':_0x1436f4(0xe0),'DMKKA':_0x1436f4(0x1cd),'aposk':function(_0x5c3c9c){return _0x5c3c9c();},'gUPLQ':_0x1436f4(0x2ff),'jgafr':_0x1436f4(0x21d)},_0x2f5459=_0x4a7348[_0x1436f4(0x249)](sanitizeUsername,username),_0x5d5c84=db['ref'](_0x1436f4(0xdd)+_0x2f5459),_0x3f9166=await _0x5d5c84[_0x1436f4(0x25e)]();if(_0x3f9166[_0x1436f4(0x2fa)]()){const _0x15ebc2=_0x3f9166[_0x1436f4(0x238)]();username=_0x15ebc2['username'],userDescription=_0x15ebc2[_0x1436f4(0x11a)]||'',avatarBase64=_0x15ebc2[_0x1436f4(0xce)]||'',role=_0x15ebc2[_0x1436f4(0x14e)]||_0x4a7348[_0x1436f4(0x2b2)];if(avatarBase64){const _0x43d7ad=document[_0x1436f4(0x16d)](_0x4a7348[_0x1436f4(0x1d3)]);_0x43d7ad[_0x1436f4(0x13d)]=_0x1436f4(0x220)+avatarBase64,_0x43d7ad['style'][_0x1436f4(0x309)]=_0x4a7348[_0x1436f4(0xaa)];}}else console[_0x1436f4(0x2ba)](_0x4a7348[_0x1436f4(0x2ed)]);await _0x4a7348[_0x1436f4(0x314)](loadRoomRoles),document[_0x1436f4(0x16d)](_0x4a7348['gUPLQ'])['innerText']=username,_0x4a7348[_0x1436f4(0x249)](showScreen,_0x4a7348[_0x1436f4(0x2be)]);}function toggleRecording(){const _0x37b60b=_0x594cef,_0x4d2dd4={'PtWTZ':function(_0x16d9a0,_0xe0859e){return _0x16d9a0(_0xe0859e);},'QlrGQ':_0x37b60b(0x2b5),'jElDP':function(_0xe7923d){return _0xe7923d();},'ReyJo':function(_0x4dc42c,_0x3807cb,_0x24c66c){return _0x4dc42c(_0x3807cb,_0x24c66c);},'IHBbA':_0x37b60b(0x119)};isRecording?stopRecording():navigator['mediaDevices'][_0x37b60b(0xf9)]({'audio':!![]})[_0x37b60b(0x1f8)](_0x9fe8d5=>{const _0x2829a9=_0x37b60b,_0x38fe56={'aZRbp':_0x2829a9(0x1bc),'xNety':function(_0xfc766c,_0x2a0379){const _0x4c1761=_0x2829a9;return _0x4d2dd4[_0x4c1761(0x1f7)](_0xfc766c,_0x2a0379);},'dOQMg':_0x4d2dd4['QlrGQ'],'ywUNa':function(_0x43f661,_0x1f773d){return _0x43f661&&_0x1f773d;},'tpaok':function(_0x52271c){return _0x4d2dd4['jElDP'](_0x52271c);}};mediaRecorder=new MediaRecorder(_0x9fe8d5),mediaRecorder[_0x2829a9(0x144)](),isRecording=!![],document[_0x2829a9(0x16d)]('recordBtn')['innerText']='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x2829a9(0xd2)]=_0x3773f1=>audioChunks[_0x2829a9(0x1bb)](_0x3773f1[_0x2829a9(0x209)]),mediaRecorder[_0x2829a9(0x21f)]=()=>{const _0x1eb788=_0x2829a9,_0x24629b={'isfue':_0x38fe56['aZRbp']};_0x38fe56[_0x1eb788(0x310)](clearTimeout,recordingTimer);const _0x155437=new Blob(audioChunks,{'type':_0x38fe56[_0x1eb788(0x2ab)]}),_0x2417ee=new FileReader();_0x2417ee['onloadend']=()=>{const _0x43ddd0=_0x1eb788,_0x9b8dcf=_0x2417ee[_0x43ddd0(0x15f)][_0x43ddd0(0x1ec)](',')[0x1],_0x39cf12=db[_0x43ddd0(0x2ef)]()[_0x43ddd0(0x1bb)]()[_0x43ddd0(0x15b)];db[_0x43ddd0(0x2ef)](_0x43ddd0(0x188)+roomCode+_0x43ddd0(0x31e)+_0x39cf12)[_0x43ddd0(0xbb)]({'msg':_0x24629b['isfue'],'audioBase64':_0x9b8dcf,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x2417ee[_0x1eb788(0x247)](_0x155437);},recordingTimer=_0x4d2dd4[_0x2829a9(0xc0)](setTimeout,()=>{const _0x65fabc=_0x2829a9;_0x38fe56[_0x65fabc(0x10f)](mediaRecorder,isRecording)&&_0x38fe56[_0x65fabc(0x2c1)](stopRecording);},0x4e20);})['catch'](_0x436c93=>{const _0x2c329b=_0x37b60b;alert(_0x4d2dd4[_0x2c329b(0x10d)]);});}function stopRecording(){const _0x3851e6=_0x594cef,_0xe1bf52={'sWcMJ':_0x3851e6(0x29b),'mqJAn':'üéôÔ∏è'};mediaRecorder&&isRecording&&(mediaRecorder[_0x3851e6(0x2e1)](),isRecording=![],document[_0x3851e6(0x16d)](_0xe1bf52[_0x3851e6(0xe5)])[_0x3851e6(0x2d8)]=_0xe1bf52[_0x3851e6(0x2bc)]);}window['onload']=async()=>{const _0x10df25=_0x594cef,_0x4ada06={'AWLKO':function(_0x9250a5){return _0x9250a5();},'gBSEx':function(_0x2041c7){return _0x2041c7();},'NFsBy':function(_0x15b1ae){return _0x15b1ae();},'CuMSm':function(_0x5a8485,_0x1040a6){return _0x5a8485===_0x1040a6;},'Cisdr':_0x10df25(0x128),'gNhlH':function(_0x5be503,_0x26bd22){return _0x5be503(_0x26bd22);},'zLPru':'authScreen'};_0x4ada06['AWLKO'](cleanupOldRooms),setupSidebarBackHandler(),_0x4ada06[_0x10df25(0x26f)](setupVisibilityAttention),_0x4ada06['NFsBy'](resetWebsiteData);const _0x596058=localStorage[_0x10df25(0x12b)](_0x10df25(0x27a));notificationsEnabled=_0x4ada06[_0x10df25(0x245)](_0x596058,_0x4ada06['Cisdr']),_0x4ada06[_0x10df25(0x19f)](showScreen,_0x4ada06['zLPru']);};function sanitizeUsername(_0x34d97f){const _0x551593=_0x594cef;return _0x34d97f[_0x551593(0x172)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3a715a=_0x594cef,_0x3bd568={'lnnUg':_0x3a715a(0x142),'MeiSk':_0x3a715a(0xe0),'RwjAZ':_0x3a715a(0x1bf),'RTmOp':_0x3a715a(0x192),'VGZKt':_0x3a715a(0x285),'mCtiO':_0x3a715a(0x123),'mNraA':_0x3a715a(0x1ab),'VVaSp':_0x3a715a(0x12a),'UrdiN':_0x3a715a(0xa4),'neSrL':function(_0x5554e0,_0x5915e5){return _0x5554e0||_0x5915e5;},'ooBZk':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','RJpGH':function(_0x181cb8,_0x2524c8){return _0x181cb8(_0x2524c8);}},_0x377972=document[_0x3a715a(0x16d)](_0x3bd568['mNraA'])[_0x3a715a(0x248)][_0x3a715a(0xeb)](),_0x4da39e=document['getElementById'](_0x3bd568[_0x3a715a(0x207)])[_0x3a715a(0x248)][_0x3a715a(0xeb)](),_0x5737e1=document[_0x3a715a(0x16d)](_0x3bd568[_0x3a715a(0x2db)]);if(_0x3bd568[_0x3a715a(0x26a)](!_0x377972,!_0x4da39e)){_0x5737e1[_0x3a715a(0x2d8)]=_0x3bd568[_0x3a715a(0x137)],_0x5737e1[_0x3a715a(0xa9)][_0x3a715a(0x309)]=_0x3bd568[_0x3a715a(0x1a9)];return;}const _0x380913=_0x3bd568[_0x3a715a(0x1ed)](sanitizeUsername,_0x377972),_0x33be1a=db[_0x3a715a(0x2ef)](_0x3a715a(0x277)+_0x380913);_0x33be1a[_0x3a715a(0x1d8)](_0x3a715a(0x248))[_0x3a715a(0x1f8)](_0x2cc32e=>{const _0x27d768=_0x3a715a,_0x211a25={'GUuwW':'Failed\x20to\x20save\x20profile:','fAPOW':_0x3bd568[_0x27d768(0x2a8)],'nUwkh':_0x3bd568[_0x27d768(0x1a9)],'uesIg':_0x3bd568['RwjAZ'],'lYCCh':_0x3bd568[_0x27d768(0x263)],'SHcja':function(_0x6bb5c6,_0x1a976){return _0x6bb5c6(_0x1a976);}};if(_0x2cc32e['exists']())_0x5737e1[_0x27d768(0x2d8)]=_0x3bd568['VGZKt'],_0x5737e1[_0x27d768(0xa9)][_0x27d768(0x309)]=_0x27d768(0xe0);else{const _0x2e2f08={'username':_0x377972,'description':_0x4da39e,'lastChanged':Date[_0x27d768(0x250)](),'usernameHistory':[_0x377972]};_0x33be1a[_0x27d768(0xbb)](_0x2e2f08,_0x2e5d26=>{const _0x54da51=_0x27d768;_0x2e5d26?(console[_0x54da51(0x322)](_0x211a25[_0x54da51(0xba)],_0x2e5d26),_0x5737e1[_0x54da51(0x2d8)]=_0x211a25[_0x54da51(0x181)],_0x5737e1[_0x54da51(0xa9)][_0x54da51(0x309)]=_0x211a25[_0x54da51(0x113)]):(localStorage['setItem'](_0x211a25['uesIg'],_0x377972),localStorage[_0x54da51(0x26b)](_0x211a25[_0x54da51(0x1d4)],_0x4da39e),username=_0x377972,document['getElementById'](_0x54da51(0x2ff))[_0x54da51(0x2d8)]=_0x377972,_0x211a25['SHcja'](showScreen,_0x54da51(0x21d)));});}})[_0x3a715a(0x24f)](_0x5317f1=>{const _0x47adcf=_0x3a715a;console[_0x47adcf(0x322)](_0x3bd568['mCtiO'],_0x5317f1),_0x5737e1[_0x47adcf(0x2d8)]=_0x47adcf(0x1f5),_0x5737e1[_0x47adcf(0xa9)]['display']=_0x3bd568[_0x47adcf(0x1a9)];});}function saveProfile(_0x550eed,_0xa2f458,_0x25ae60){const _0x1de55f=_0x594cef,_0x5dda45={'xsgSl':function(_0x564c19,_0x3e33fd){return _0x564c19(_0x3e33fd);},'QZPIw':_0x1de55f(0x21d)},_0x48d059=Date[_0x1de55f(0x250)](),_0x37e616=[_0x550eed];db['ref'](_0x1de55f(0x277)+_0x25ae60)[_0x1de55f(0xbb)]({'username':_0x550eed,'description':_0xa2f458,'lastChanged':_0x48d059,'usernameHistory':_0x37e616}),document[_0x1de55f(0x16d)](_0x1de55f(0x2ff))[_0x1de55f(0x2d8)]=_0x550eed,_0x5dda45[_0x1de55f(0x287)](showScreen,_0x5dda45[_0x1de55f(0x1d7)]);}function generateRoom(){const _0x19e85=_0x594cef,_0x211794={'PYrZQ':function(_0x96c7ac){return _0x96c7ac();}};roomCode=genRoomCode(),db['ref'](_0x19e85(0x188)+roomCode)[_0x19e85(0xbb)]({'active':!![],'created':Date['now']()}),_0x211794[_0x19e85(0x24b)](startChat);}function joinRoom(){const _0x2c5959=_0x594cef,_0x47ee88={'kSBew':function(_0x340d5a,_0x3bc91f){return _0x340d5a!==_0x3bc91f;},'BjntT':_0x2c5959(0x2a6),'EgTfd':function(_0x26cc96,_0x3879a8){return _0x26cc96(_0x3879a8);},'drfXu':_0x2c5959(0x16b),'dTrsr':function(_0x40ccbf,_0x1c14ae){return _0x40ccbf(_0x1c14ae);},'fyZZm':'passwordScreen','kwGBA':_0x2c5959(0x188)},_0x538ba9=roomCode||document[_0x2c5959(0x16d)](_0x47ee88[_0x2c5959(0x307)])['value'][_0x2c5959(0xeb)]()['toUpperCase']();if(!_0x538ba9)return _0x47ee88[_0x2c5959(0x2fb)](alert,_0x47ee88[_0x2c5959(0x255)]);roomCode=_0x538ba9;if(roomCode===STATIC_ROOM){_0x47ee88[_0x2c5959(0x296)](showScreen,_0x47ee88[_0x2c5959(0x143)]);return;}db['ref'](_0x47ee88[_0x2c5959(0xdf)]+roomCode)[_0x2c5959(0x25e)]()[_0x2c5959(0x1f8)](_0x4c7a17=>{const _0x317d83=_0x2c5959;_0x4c7a17[_0x317d83(0x2fa)]()&&_0x47ee88[_0x317d83(0xe7)](_0x4c7a17[_0x317d83(0x238)]()[_0x317d83(0x121)],![])?startChat():alert('Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}async function startChat(){const _0x59d894=_0x594cef,_0x4b5ad6={'LUsTL':function(_0x5c796d,_0x137f2d){return _0x5c796d===_0x137f2d;},'UsVWm':function(_0x178104,_0x226f6c){return _0x178104===_0x226f6c;},'lCFLR':_0x59d894(0xe2),'OJIsi':function(_0x4426ce,_0x57b12f){return _0x4426ce(_0x57b12f);},'GHGxm':_0x59d894(0x10b),'TJapk':_0x59d894(0x21d),'rKvvf':_0x59d894(0xb6),'muORZ':function(_0x2bcaa4,_0x1a31d4){return _0x2bcaa4+_0x1a31d4;},'TRmSE':_0x59d894(0x19a),'FsfLk':_0x59d894(0x1ce),'XwPVj':function(_0x5a1f0b,_0x3fbd29){return _0x5a1f0b===_0x3fbd29;},'HSDMm':_0x59d894(0x288),'HqtWJ':_0x59d894(0x2dd),'jJufb':'moderator','xGJmd':_0x59d894(0x21c),'cujRn':'system','TBKSn':function(_0x333bf1,_0x1841cc){return _0x333bf1(_0x1841cc);},'DZCFZ':'chatScreen','cFNKQ':_0x59d894(0x1ea),'TAAZj':_0x59d894(0xaf),'VtrDH':function(_0x442a1e){return _0x442a1e();},'ehheN':function(_0x21f217){return _0x21f217();},'EDAMj':function(_0x2f10c4){return _0x2f10c4();},'wbcPx':function(_0x357899){return _0x357899();},'NqLRD':function(_0x1b7874,_0x37a6fd){return _0x1b7874||_0x37a6fd;},'hwPAp':function(_0x543121,_0x383852){return _0x543121(_0x383852);},'OwyZx':function(_0x194cd3){return _0x194cd3();},'SlUIM':function(_0x145b49){return _0x145b49();},'Qsceh':function(_0x4732bc){return _0x4732bc();},'WXtmI':function(_0x2b3dc3,_0x401b2d){return _0x2b3dc3(_0x401b2d);}};if(_0x4b5ad6[_0x59d894(0x160)](!roomCode,!username))return _0x4b5ad6['OJIsi'](alert,_0x59d894(0x122)),_0x4b5ad6[_0x59d894(0x1c5)](showScreen,_0x4b5ad6[_0x59d894(0x2e2)]);_0x4b5ad6[_0x59d894(0x316)](listenForPauseState),_0x4b5ad6['SlUIM'](listenForUserList),await loadRoomRoles(),_0x4b5ad6[_0x59d894(0x312)](listenForAnnouncement);const _0x570ceb=_0x4b5ad6[_0x59d894(0x129)](sanitizeUsername,username),_0x1901b4=db[_0x59d894(0x2ef)](_0x59d894(0x264)+roomCode+'/'+_0x570ceb),_0x2d465a={'username':username,'online':!![],'lastOnline':firebase[_0x59d894(0x252)][_0x59d894(0x157)]['TIMESTAMP']};_0x1901b4['set'](_0x2d465a,_0x8f60d1=>{const _0x15c942=_0x59d894;if(_0x8f60d1)return _0x4b5ad6[_0x15c942(0x206)](alert,'Failed\x20to\x20register\x20user\x20into\x20room.'),showScreen(_0x4b5ad6[_0x15c942(0x2e2)]);const _0x18d50d=document[_0x15c942(0x16d)](_0x4b5ad6[_0x15c942(0x2bd)]);avatarBase64&&(_0x18d50d[_0x15c942(0x13d)]=_0x4b5ad6['muORZ'](_0x15c942(0x220),avatarBase64),_0x18d50d['style'][_0x15c942(0x309)]='block');document[_0x15c942(0x16d)](_0x4b5ad6[_0x15c942(0x2b1)])[_0x15c942(0x304)]=username+'\x20'+_0x4b5ad6['OJIsi'](getRoleTag,_0x570ceb),document[_0x15c942(0x16d)](_0x4b5ad6[_0x15c942(0x15a)])[_0x15c942(0x2d8)]=_0x4b5ad6[_0x15c942(0xfc)](roomCode,STATIC_ROOM)?_0x4b5ad6[_0x15c942(0x1f9)]:roomCode;[_0x4b5ad6['HqtWJ'],_0x4b5ad6[_0x15c942(0x239)],_0x4b5ad6[_0x15c942(0x2e0)]][_0x15c942(0x301)](role)?document['getElementById'](_0x4b5ad6[_0x15c942(0x13f)])[_0x15c942(0xa9)][_0x15c942(0x309)]=_0x15c942(0xe0):document['getElementById'](_0x4b5ad6['xGJmd'])[_0x15c942(0xa9)][_0x15c942(0x309)]=_0x15c942(0x202);const _0x4663c3=db[_0x15c942(0x2ef)]()[_0x15c942(0x1bb)]()[_0x15c942(0x15b)];db[_0x15c942(0x2ef)](_0x15c942(0x188)+roomCode+_0x15c942(0x31e)+_0x4663c3)[_0x15c942(0xbb)]({'msg':username+_0x15c942(0x2d6),'sender':_0x4b5ad6['cujRn'],'senderId':_0x4b5ad6[_0x15c942(0x108)],'timestamp':Date[_0x15c942(0x250)]()}),_0x4b5ad6[_0x15c942(0x292)](showScreen,_0x4b5ad6[_0x15c942(0x1ac)]);const _0x41055c=document[_0x15c942(0x16d)](_0x4b5ad6['cFNKQ']);_0x41055c[_0x15c942(0x185)](_0x4b5ad6['TAAZj'],_0x4acf1b=>{const _0x3d8230=_0x15c942;_0x4acf1b[_0x3d8230(0x2fc)]===0x3&&(_0x4b5ad6['LUsTL'](role,_0x3d8230(0x2dd))||_0x4b5ad6[_0x3d8230(0x2d9)](role,_0x4b5ad6[_0x3d8230(0x239)]))&&(_0x4b5ad6['OJIsi'](confirm,_0x4b5ad6[_0x3d8230(0x266)])&&db['ref']('rooms/'+roomCode+_0x3d8230(0x215))['remove']()[_0x3d8230(0x1f8)](()=>{const _0x2445d9=_0x3d8230;_0x41055c[_0x2445d9(0x2d8)]='';}));}),listenForMessages(),_0x4b5ad6[_0x15c942(0x212)](listenForTyping),_0x4b5ad6[_0x15c942(0x2cb)](startInactivityTimer),_0x4b5ad6[_0x15c942(0x2f2)](trackPresence),_0x4b5ad6[_0x15c942(0x2cb)](watchProfileChanges),_0x4b5ad6[_0x15c942(0x174)](watchMuteStatus);});}function watchProfileChanges(){const _0x1e6311=_0x594cef,_0x424cd4={'dIogB':'user','vrala':_0x1e6311(0xb6),'olgVX':function(_0x4a4d88,_0x5c6be7){return _0x4a4d88+_0x5c6be7;},'Rlmiq':'data:image/png;base64,','bVGCC':function(_0x39c403,_0x21abc8){return _0x39c403(_0x21abc8);},'tqGjv':function(_0x2a747c,_0x34fc62){return _0x2a747c(_0x34fc62);}},_0x258646=_0x424cd4[_0x1e6311(0xea)](sanitizeUsername,username);db['ref']('auth/'+_0x258646)['on'](_0x1e6311(0x248),_0x1c0732=>{const _0x9cac5=_0x1e6311;if(!_0x1c0732['exists']())return;const _0x19c7ba=_0x1c0732['val']();userDescription=_0x19c7ba[_0x9cac5(0x11a)]||'',avatarBase64=_0x19c7ba[_0x9cac5(0xce)]||'',role=_0x19c7ba['role']||_0x424cd4['dIogB'];if(avatarBase64){const _0xbd745b=document[_0x9cac5(0x16d)](_0x424cd4[_0x9cac5(0x2c4)]);!_0xbd745b[_0x9cac5(0x13d)][_0x9cac5(0x301)](avatarBase64)&&(_0xbd745b[_0x9cac5(0x13d)]=_0x424cd4['olgVX'](_0x424cd4[_0x9cac5(0x225)],avatarBase64),_0xbd745b[_0x9cac5(0xa9)]['display']=_0x9cac5(0xe0));}_0x424cd4['bVGCC'](renderUserLists,roomUsers);});}function uploadImage(_0x219ddc){const _0x1e9d62=_0x594cef,_0x34fac9={'KpmKK':function(_0x1dddea,_0x47023c){return _0x1dddea>_0x47023c;},'NmSPZ':function(_0x52f5fd,_0x1b73e7){return _0x52f5fd*_0x1b73e7;},'bdKAo':function(_0x373e57,_0x224543){return _0x373e57(_0x224543);}},_0x38f6f5=_0x219ddc[_0x1e9d62(0x114)][0x0];if(!_0x38f6f5||_0x34fac9[_0x1e9d62(0x2f5)](_0x38f6f5[_0x1e9d62(0x118)],_0x34fac9[_0x1e9d62(0xdc)](0x2*0x400,0x400))){_0x34fac9['bdKAo'](alert,_0x1e9d62(0x130));return;}const _0x21e221=new FileReader();_0x21e221[_0x1e9d62(0x1fe)]=()=>{const _0x4be9ab=_0x1e9d62,_0x4a0bb5=_0x21e221[_0x4be9ab(0x15f)]['split'](',')[0x1],_0x40a45e=db[_0x4be9ab(0x2ef)]()['push']()[_0x4be9ab(0x15b)];db[_0x4be9ab(0x2ef)](_0x4be9ab(0x188)+roomCode+_0x4be9ab(0x31e)+_0x40a45e)[_0x4be9ab(0xbb)]({'imageBase64':_0x4a0bb5,'sender':username,'senderId':clientId,'timestamp':Date[_0x4be9ab(0x250)]()});},_0x21e221['readAsDataURL'](_0x38f6f5);}async function fetchProfile(_0x431d23){const _0x4a5bc1=_0x594cef,_0x28c2ac=await db['ref'](_0x4a5bc1(0xdd)+_0x431d23)[_0x4a5bc1(0x25e)]();if(!_0x28c2ac['exists']())return null;return _0x28c2ac['val']();}function validateStaticRoomPassword(){const _0x24ebe3=_0x594cef,_0x41c178={'aIJZi':function(_0x4f71f5,_0x20e9dc){return _0x4f71f5(_0x20e9dc);},'yWhFG':_0x24ebe3(0xd0),'NtMgI':function(_0x182f15,_0x34501e){return _0x182f15===_0x34501e;},'OMUOh':function(_0x3dc6b1){return _0x3dc6b1();},'dBKYY':'passwordError','bmyxv':_0x24ebe3(0xe0),'HQguu':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','NeLuG':_0x24ebe3(0x179),'wNxHA':_0x24ebe3(0x1f6)},_0x43feb8=document[_0x24ebe3(0x16d)](_0x41c178[_0x24ebe3(0x2cc)])[_0x24ebe3(0x248)]['trim']();if(!_0x43feb8){_0x41c178[_0x24ebe3(0x2c2)](alert,_0x41c178[_0x24ebe3(0x217)]);return;}db['ref'](_0x24ebe3(0x2c6)+STATIC_ROOM)[_0x24ebe3(0x25e)]()[_0x24ebe3(0x1f8)](_0x2775ba=>{const _0x352dba=_0x24ebe3;if(!_0x2775ba[_0x352dba(0x2fa)]()){_0x41c178[_0x352dba(0x2c2)](alert,_0x41c178['yWhFG']);return;}const _0x5230f3=_0x2775ba[_0x352dba(0x238)]();_0x41c178[_0x352dba(0x22b)](_0x43feb8,_0x5230f3)?(roomCode=STATIC_ROOM,_0x41c178[_0x352dba(0x101)](startChat)):(document[_0x352dba(0x16d)](_0x352dba(0x323))[_0x352dba(0x2d8)]=_0x352dba(0x23e),document[_0x352dba(0x16d)](_0x41c178[_0x352dba(0x261)])[_0x352dba(0xa9)][_0x352dba(0x309)]=_0x41c178[_0x352dba(0x1ff)]);})['catch'](_0x3fdbdc=>{const _0xb17a66=_0x24ebe3;console[_0xb17a66(0x322)](_0x3fdbdc),_0x41c178[_0xb17a66(0x2c2)](alert,_0x41c178['HQguu']);});}function listenForPauseState(){const _0xe2cf28=_0x594cef,_0x17f1c0={'aroSb':function(_0x3879bf,_0x339e84){return _0x3879bf===_0x339e84;},'lEcRx':_0xe2cf28(0x2f0),'uQaIn':_0xe2cf28(0xe0),'dSkAn':_0xe2cf28(0x202),'fSGJj':'value'};db[_0xe2cf28(0x2ef)](_0xe2cf28(0x2ad)+roomCode+'/paused')['on'](_0x17f1c0[_0xe2cf28(0xc4)],_0x3b038b=>{const _0x3907a6=_0xe2cf28,_0x48e5a0=_0x3b038b[_0x3907a6(0x2fa)]()&&_0x17f1c0[_0x3907a6(0x1ba)](_0x3b038b[_0x3907a6(0x238)](),!![]);document[_0x3907a6(0x16d)](_0x17f1c0[_0x3907a6(0x14a)])[_0x3907a6(0xa9)]['display']=_0x48e5a0?_0x17f1c0[_0x3907a6(0x23d)]:_0x17f1c0[_0x3907a6(0x1a2)];});}const spamTimestamps=[];async function sendMessage(){const _0x5fd7e7=_0x594cef,_0x40a013={'MBuVU':function(_0x4140f1,_0x2ef9e8){return _0x4140f1===_0x2ef9e8;},'IoZoV':_0x5fd7e7(0x1e0),'VDvdg':function(_0x5b2293,_0x573329){return _0x5b2293>_0x573329;},'IfwgB':function(_0x43532d,_0x38273b){return _0x43532d(_0x38273b);},'IJuQU':_0x5fd7e7(0x2c5),'oEbei':function(_0x4c1ab4,_0x278554){return _0x4c1ab4!==_0x278554;},'pmiSO':_0x5fd7e7(0xe2),'feMGr':function(_0x4d540b,_0x17a54d){return _0x4d540b(_0x17a54d);},'OTXhO':'Room\x20is\x20currently\x20paused.','tzlxW':_0x5fd7e7(0x25b),'UGNYB':_0x5fd7e7(0xca),'KcMLc':function(_0xe3b274,_0x2c360c){return _0xe3b274(_0x2c360c);},'RpMRn':function(_0x12ca94,_0xced0cf,_0x172963){return _0x12ca94(_0xced0cf,_0x172963);},'QmAoo':_0x5fd7e7(0xf4)},_0x2e2bd6=await db[_0x5fd7e7(0x2ef)](_0x5fd7e7(0x2ad)+roomCode+_0x5fd7e7(0x154))[_0x5fd7e7(0x25e)](),_0x4ad9c3=await db['ref'](_0x5fd7e7(0x2af)+roomCode+'/'+sanitizeUsername(username))[_0x5fd7e7(0x25e)]();if(_0x4ad9c3[_0x5fd7e7(0x2fa)]()){const _0x57248e=_0x4ad9c3[_0x5fd7e7(0x238)](),_0xb58e82=_0x40a013[_0x5fd7e7(0x1c6)](typeof _0x57248e,_0x40a013[_0x5fd7e7(0x2f1)])&&_0x57248e[_0x5fd7e7(0x232)]?_0x57248e[_0x5fd7e7(0x232)]:_0x57248e;if(_0x40a013['VDvdg'](_0xb58e82,Date[_0x5fd7e7(0x250)]())){_0x40a013[_0x5fd7e7(0x230)](alert,_0x40a013[_0x5fd7e7(0x1de)]);return;}}if(_0x2e2bd6['exists']()&&_0x2e2bd6[_0x5fd7e7(0x238)]()===!![]&&_0x40a013[_0x5fd7e7(0x2ec)](role,_0x40a013[_0x5fd7e7(0x2e3)])){_0x40a013[_0x5fd7e7(0x16f)](alert,_0x40a013[_0x5fd7e7(0x28f)]);return;}const _0x1326b1=document[_0x5fd7e7(0x16d)](_0x40a013['tzlxW']),_0x50aa90=_0x1326b1[_0x5fd7e7(0x248)][_0x5fd7e7(0xeb)]();if(!_0x50aa90||isBlocked)return;const _0x1bc7bf=Date['now'](),_0x1746b5=_0x50aa90[_0x5fd7e7(0x259)](),_0x2c3a5d=swearWords[_0x5fd7e7(0x27d)](_0x21e558=>_0x1746b5[_0x5fd7e7(0x301)](_0x21e558));if(_0x2c3a5d){alert(_0x5fd7e7(0x20a));return;}spamTimestamps[_0x5fd7e7(0x1bb)](_0x1bc7bf);const _0x10888b=spamTimestamps['filter'](_0x3d4765=>_0x1bc7bf-_0x3d4765<0x1b58);if(_0x40a013[_0x5fd7e7(0x22f)](_0x10888b[_0x5fd7e7(0xbc)],0x5)){const _0x506c91=_0x40a013['UGNYB'][_0x5fd7e7(0x1ec)]('|');let _0x344a0f=0x0;while(!![]){switch(_0x506c91[_0x344a0f++]){case'0':isBlocked=!![];continue;case'1':_0x1326b1[_0x5fd7e7(0x12f)]=_0x5fd7e7(0x2f9);continue;case'2':_0x40a013[_0x5fd7e7(0xf1)](alert,_0x5fd7e7(0x311));continue;case'3':return;case'4':_0x1326b1[_0x5fd7e7(0xc6)]=!![];continue;case'5':_0x40a013[_0x5fd7e7(0x24e)](setTimeout,()=>{const _0x1b8591=_0x5fd7e7;isBlocked=![],_0x1326b1['disabled']=![],_0x1326b1['placeholder']=_0x1b8591(0x1b9),spamTimestamps[_0x1b8591(0xbc)]=0x0;},0x7530);continue;}break;}}const _0x4992b8=localStorage[_0x5fd7e7(0x12b)](_0x40a013['QmAoo'])||'',_0x1db0ed=db[_0x5fd7e7(0x2ef)]()[_0x5fd7e7(0x1bb)]()[_0x5fd7e7(0x15b)];db[_0x5fd7e7(0x2ef)](_0x5fd7e7(0x188)+roomCode+_0x5fd7e7(0x31e)+_0x1db0ed)[_0x5fd7e7(0xbb)]({'msg':_0x50aa90,'sender':username,'senderId':clientId,'avatarBase64':_0x4992b8,'timestamp':_0x1bc7bf}),_0x1326b1['value']='',_0x40a013['feMGr'](sendTyping,!![]),lastActivity=_0x1bc7bf;}function listenForMessages(){const _0x105474=_0x594cef,_0x12187d={'LVRiE':function(_0x3a9e2c,_0x365bb6,_0x5f2018,_0x540ba9){return _0x3a9e2c(_0x365bb6,_0x5f2018,_0x540ba9);},'JVnrh':function(_0x3f2235,_0x2f78a6){return _0x3f2235===_0x2f78a6;},'CKrAR':function(_0x39666d,_0x23ccaa,_0x432368,_0x4bd651){return _0x39666d(_0x23ccaa,_0x432368,_0x4bd651);},'RNvPK':function(_0x2d3262,_0x1d2e44){return _0x2d3262!==_0x1d2e44;},'pYGPa':function(_0x381146){return _0x381146();},'BSaRe':function(_0x989cda,_0x1b45c9){return _0x989cda&&_0x1b45c9;},'dhduY':function(_0x2545bb,_0x4a8232){return _0x2545bb===_0x4a8232;},'xPikt':'[Image]','vXciJ':'[Unknown]','nUOTx':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','XhIyB':'child_added'},_0x11a0dd=db[_0x105474(0x2ef)](_0x105474(0x188)+roomCode+'/messages'),_0x5a4950=_0x11a0dd[_0x105474(0x1e9)](MAX_MESSAGES);userListReady=!![],_0x5a4950['on'](_0x12187d[_0x105474(0x284)],_0xce4d2e=>{const _0xc46a91=_0x105474,_0x2938b5=_0xce4d2e[_0xc46a91(0x238)](),{senderId:_0x24c49d}=_0x2938b5,_0x154709=_0x12187d[_0xc46a91(0xd6)](_0x24c49d,clientId);if(!userListReady){pendingMessages[_0xc46a91(0x282)](({data:_0x26e0db,sent:_0x53baa9,key:_0x1d606f})=>{_0x12187d['LVRiE'](addMessage,_0x26e0db,_0x53baa9,_0x1d606f);}),pendingMessages=[];return;}const _0x2fc74d=_0x2938b5[_0xc46a91(0x165)]||null,_0x4d2e73=_0x2938b5[_0xc46a91(0x213)]||null;_0x12187d['CKrAR'](addMessage,_0x2938b5,_0x154709,_0xce4d2e[_0xc46a91(0x15b)]);_0x12187d[_0xc46a91(0x276)](roomCode,STATIC_ROOM)&&_0x2938b5[_0xc46a91(0xb5)]!=='system'&&db['ref'](_0xc46a91(0x188)+roomCode+_0xc46a91(0x31e)+_0xce4d2e['key'])[_0xc46a91(0xc7)]();!_0x154709&&(sound[_0xc46a91(0x145)](),_0x12187d[_0xc46a91(0x233)](flagPageAttention));if(_0x12187d['BSaRe'](notificationsEnabled,!_0x154709)){if(document[_0xc46a91(0x14c)]&&_0x12187d[_0xc46a91(0xf6)](Notification[_0xc46a91(0xf3)],_0xc46a91(0x2cf))){const _0x230e3d=_0x2938b5[_0xc46a91(0x117)]||(_0x2938b5['audioBase64']?_0xc46a91(0x140):_0x2938b5[_0xc46a91(0x10a)]?_0x12187d['xPikt']:_0x12187d['vXciJ']);new Notification(_0xc46a91(0x329)+_0x2938b5['sender'],{'body':_0x230e3d,'icon':_0x12187d['nUOTx']});}}});}function _0x3915(){const _0x950094=['start','play','uzHCm','userList','TDPoL','fuck','lEcRx','OfiTn','hidden','onDisconnect','role','\x20promoted\x20to\x20Admin!','gCDMV','random','qyMOi','\x0a\x20\x20\x20\x20','/paused','XoLJd','gEWpp','ServerValue','created','oXluS','FsfLk','key','pMIYW','co√±o','mMRpb','result','NqLRD','zeaFN','6px\x20auto','PHybQ','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','audioUrl','tYApK','mierda','lastChanged','LdJAl','Czvfu','Enter\x20a\x20valid\x20room\x20code','MCuvm','getElementById','cIDPz','feMGr','rRICC','yqXgg','replace','haMbP','wbcPx','\x27)\x22>+Mod</button>','VbNHK','bFVCM','usernameScreen','staticPasswordInput','DJhTZ','</div>','moderator','typing','iAHCq','UCeBi','You\x20got\x20a\x20message\x20from\x20','fAPOW','dcGWy','\x27,\x205)\x22>Mute\x205m</button>','zbXiT','addEventListener','Mnykg','Qzwaf','rooms/','iqceQ','otario','border','user','clear','text','HTTgO','DMLet','createElement','profile_description','<button\x20onclick=\x22promoteToModerator(\x27','HfTyy','title','DGzHT','AgrBF','3|2|4|5|0|1','dick','userDisplay','passwordHash','orderByChild','flex','contains','gNhlH','substr','MSQzY','dSkAn','KkVsF','fzVVJ','ddmQO','\x20was\x20muted\x20for\x20','985049198428','moderators/','MeiSk','all','profileUsernameInput','DZCFZ','LbBOe','Delete\x20this\x20message?','Enter\x20your\x20new\x20username:','oGzgI','CYkmW','bUFtZ','wXfPt','SHA-256','<img\x20src=\x22','system','from','CDnBr','Type\x20a\x20message...','aroSb','push','[Voice\x20message]','Passwords\x20do\x20not\x20match.','Pmmty','chat_username','\x27)\x22>Demote</button>','Admins\x20only.','njELO','BoQJh','volume','hwPAp','MBuVU','VNnsV','rhTPF','DNhav','MTWUH','chfPp','Username\x20already\x20exists.','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','roomDisplay','AsGIn','RttfM','messages','cPvzN','OWcKZ','lYCCh','SwNFX','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','QZPIw','once','adminControlsSection','NiNwG','asshole','tPbpY','editProfileError','IJuQU','CmJtH','object','NiyPU','ulKoF','bobo','userAgent','online','show','received','scrollHeight','limitToLast','announcementArea','uneXw','split','RJpGH','\x27)\x22>Promote\x20to\x20Moderator</button>','usernameHistory','pushState','height','input','KPhkQ','‚óè\x20Online','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','Please\x20enter\x20the\x20password.','PtWTZ','then','HSDMm','add','lCiOg','false','rYLDf','onloadend','bmyxv','cabron','equalTo','none','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','kFGHq','CUQaI','OJIsi','VVaSp','editBioInput','data','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','htfUt','appendChild',')\x20New\x20message\x20‚Ä¢\x20','center','KNRua','easy-chatroom.firebaseapp.com','cqsXy','VtrDH','audioBase64','2|3|1|0|4','/announcement','duivY','wNxHA','deleteMessage','ldnYI','bZEnD','ByNdy','addAnnouncementBtn','roomChoiceScreen','üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','onstop','data:image/png;base64,','ldFby','antispam','LRDHm','21795CKULvy','Rlmiq','</span>','floor','admins/','<small>','vTZTN','NtMgI','DbdnL','PTSLE','You\x20got\x20messages\x20from\x20','VDvdg','IfwgB','TMLXq','muteUntil','pYGPa','42XdWoOB','codeEntryScreen','sent','<img\x20src=\x22data:image/png;base64,','val','lCFLR','udPHG','IlUzR','XiPhL','uQaIn','Incorrect\x20password','div','dSAaN','mAGvD','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','0.8rem','/avatarBase64','CuMSm','AmTVI','readAsDataURL','value','eDuvH','New\x20Chat\x20Message','PYrZQ','WbXOt','editProfileScreen','RpMRn','catch','now','toLocaleString','database','ZDjhP','Login','drfXu','Register','bbinT','XMjFe','toLowerCase','reload','msgInput','173492sQKaFH','username','get','popstate','YdWFr','dBKYY','kQeep','RTmOp','users/','kKCin','GHGxm','sSCQP','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','rooms','neSrL','setItem','caralho','DOMContentLoaded','bQmuL','gBSEx','undefined','update','notifToggleBtn','bpPTj','hIqeQ','LXeUX','RNvPK','profiles/','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','authScreen','notifications_enabled','join','ncYvC','some','IIWCZ','XZmBe','Fwxbx','authTitle','forEach','MztbH','XhIyB','‚ùå\x20Username\x20already\x20taken.','DvUbQ','xsgSl','No\x20room\x20code\x20available\x20for\x20private\x20rooms','rlwKR','43720358MmsLLe','wdybu','DYdzn','7JAOBXc','authPassword','OTXhO','scrollTop','cunt','TBKSn','igzsQ','ABCDEFGHIJKLMNOPQRSTUVWXYZ','<button\x20onclick=\x22deleteUserMessages(\x27','dTrsr','uriqm','kDhdF','typing/','onlineStatus','recordBtn','maPMN','lLZge','authDescription','YveNn','antispamBlocked','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','profileViewer','No\x20changes\x20yet','bqzDw','fKBjT','roomCodeInput','authPasswordConfirm','lnnUg','BpRUd','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','dOQMg','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','roomStates/','\x20minutes.','muted/','3951QPLLUH','TRmSE','fNVdt','rmlIx','JMzRV','audio/webm','mute','vZOCF','OagBs','vRDAh','warn','ylBwl','mqJAn','rKvvf','jgafr','passwordScreen','YWEJn','tpaok','aIJZi','EMmSK','vrala','‚õî\x20You\x20are\x20muted.','gr8stg/','cisEf','üîï\x20Disable\x20Notifications','pcHcX','hEuOS','ehheN','NeLuG','</li>','G-QDESJ2WR42','granted','DpftR','#00ff88','460CKkdIV','GPSpc','\x27)\x22>Promote\x20to\x20Admin</button>','gWnqU','\x20is\x20online','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','innerText','UsVWm','YIMsX','UrdiN','üîî\x20Enable\x20Notifications','admin','<button\x20onclick=\x22promoteToAdmin(\x27','fjrdS','jJufb','stop','TJapk','pmiSO','Nemxa','2027130PIbRRQ','lsWHO','bastard','ZhRAs','BmpXR','entries','OmKFL','oEbei','DMKKA','\x20is\x20typing...','ref','pausedOverlay','IoZoV','EDAMj','MZvJP','iiRqZ','KpmKK','woNnf','GAMsZ','kMyDK','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','exists','EgTfd','detail','OUHhL','<li>','namePreview','tEfUK','includes','btHlc','\x20in\x20room\x20','innerHTML','\x0aUsername\x20History:\x20','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','BjntT','gago','display','fontSize','\x20promoted\x20to\x20Moderator!','unknown','siQhx','textAlign','<button\x20onclick=\x22muteUser(\x27','xNety','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','Qsceh','qoaSE','aposk','QAXWM','OwyZx','newPasswordInput','Please\x20fill\x20in\x20all\x20fields.','YWUwc','encode','najOH','FVnbH','WjxER','/messages/','profileContent','#aaa','userSidebar','error','passwordError','chatScreen','oytNw','https://easy-chatroom-default-rtdb.firebaseio.com','üö´\x20Cannot\x20promote\x20Developers.','<audio\x20controls\x20src=\x22','üí¨\x20','AWzXB','KjxjO','easy-chatroom','YJRGL','FNYLo','</span>\x20','content','putangina','authAvatar','jpRXy','profileError','Session\x20expired.','1|3|7|0|5|2|6|4','wlECH','TPjup','style','tJzIh','kBCfM','authUsername','pdabR','back','click','classList','2-digit','bwisit','\x20muted\x20for\x20','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','sender','sidebarAvatarPreview','bNZaU','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','sidebarOpen','GUuwW','set','length','BGVmp','jzLig','Remove\x20Announcement?','ReyJo','gilipollas','BDCWd','xtTtH','fSGJj','Incorrect\x20current\x20password.','disabled','remove','/messages','tangina','0|4|1|2|5|3','KuNKx','JEJzu','uQZNz','avatarBase64','preventDefault','Room\x20password\x20not\x20set.\x20Cannot\x20join.','OKTrY','ondataavailable','promote','cQCqA','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','JVnrh','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','fLQQm','\x20was\x20promoted\x20to\x20Admin','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','RNOlI','NmSPZ','auth/','fKJyA','kwGBA','block','RtEDQ','dev','\x27)\x22>+Admin</button>','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','sWcMJ','DLaQD','kSBew','ORolL','authError','tqGjv','trim','YzgXg','FJtqK','aGcqB','qEhmR','1:985049198428:web:d0eb7e2de39887710c9b99','KcMLc','map','permission','avatar_base64','TZwvS','dhduY','SNoXl','margin','getUserMedia','‚úÖ\x20Profile\x20picture\x20updated!','userOptions-','XwPVj','20230mrWNqv','wuHxV','050BBB66HH','\x20demoted\x20to\x20user.','OMUOh','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','1223792rBfNGB','profileScreen','tTbje','LJfqQ','putang\x20ina','cujRn','keypress','imageBase64','Remove\x20this\x20announcement?','<button\x20onclick=\x22demoteUser(\x27','IHBbA','rycwM','ywUNa','Pxwxb','xDUGE','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','nUwkh','files','2766636AcBmhG','CfYSW','msg','size','Microphone\x20permission\x20denied.','description','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dugGN','aPNtD','dBJkh','\x20üîß\x20','puta','active','Missing\x20room\x20or\x20user\x20information.','Error\x20checking\x20username:','color','Ffkzx','values','toString','true','WXtmI','profileDescriptionInput','getItem','authAvatarPreview','ulol','nOaEQ','placeholder','‚ùå\x20Image\x20must\x20be\x20under\x202MB','Bvlzk','ravLq','oDaqD','\x20was\x20promoted\x20to\x20Moderator','<div>','subtle','ooBZk','requestPermission','WsdTd','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','\x27)\x22>Delete\x20Messages</button>','teeSI','src','OWnBt','xGJmd','[Voice\x20Message]','OqCPr','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','fyZZm'];_0x3915=function(){return _0x950094;};return _0x3915();}function stackNotification(_0x3204e1,_0x4ee0a3){const _0x128403=_0x594cef,_0x5b8c59={'HFkrP':function(_0x53c8b2){return _0x53c8b2();},'MztbH':function(_0x3ce66e,_0x47c37c,_0x4f9b3b){return _0x3ce66e(_0x47c37c,_0x4f9b3b);}};notificationStack[_0x128403(0x1bb)]({'sender':_0x3204e1,'content':_0x4ee0a3}),clearTimeout(notificationTimer),notificationTimer=_0x5b8c59[_0x128403(0x283)](setTimeout,()=>{_0x5b8c59['HFkrP'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x314c7a=_0x594cef,_0x1e5f73={'wuHxV':_0x314c7a(0x24a),'DpftR':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','KNRua':function(_0x312472,_0x54cdd8){return _0x312472!==_0x54cdd8;},'prprV':'granted','rycwM':function(_0x3179a5,_0x3ca3ea){return _0x3179a5||_0x3ca3ea;},'bbinT':_0x314c7a(0x30c),'zbXiT':function(_0x23df2a,_0x47219f,_0x14ab80){return _0x23df2a(_0x47219f,_0x14ab80);}};if(!notificationStack['length']||_0x1e5f73[_0x314c7a(0x20f)](Notification[_0x314c7a(0xf3)],_0x1e5f73['prprV']))return;const _0x243d57=[...new Set(notificationStack['map'](_0x3d84e7=>_0x3d84e7['sender']))],_0x1821d2=_0x1e5f73[_0x314c7a(0x10e)](roomCode,_0x1e5f73[_0x314c7a(0x257)]),_0x37eba2=_0x243d57[_0x314c7a(0xbc)]===0x1?_0x314c7a(0x180)+_0x243d57[0x0]+_0x314c7a(0x303)+_0x1821d2+':\x20'+notificationStack[0x0][_0x314c7a(0xa0)]:_0x314c7a(0x22e)+_0x243d57[_0x314c7a(0x27b)](',\x20')+'\x20in\x20room\x20'+_0x1821d2;_0x1e5f73[_0x314c7a(0x184)](setTimeout,()=>{const _0x58e4ed=_0x314c7a;new Notification(_0x1e5f73[_0x58e4ed(0xfe)],{'body':_0x37eba2,'icon':_0x1e5f73[_0x58e4ed(0x2d0)]});},0x64);}async function addMessage(_0x190bfa,_0x94bb88,_0x3dc9b5=null){const _0x63f705=_0x594cef,_0x1d6736={'KkVsF':function(_0x35c890,_0x2860ea){return _0x35c890===_0x2860ea;},'hGDCi':_0x63f705(0x1ae),'mAGvD':function(_0x1bdcfe,_0x358d0a){return _0x1bdcfe(_0x358d0a);},'thmmk':_0x63f705(0x23f),'uOrvZ':function(_0x212318,_0x3e29e0){return _0x212318===_0x3e29e0;},'VNnsV':_0x63f705(0x20e),'AFPOT':'0.8rem','RttfM':_0x63f705(0x162),'cqsXy':'messages','KPhkQ':_0x63f705(0x117),'uzHCm':_0x63f705(0x236),'FzAJG':_0x63f705(0x1e7),'fLQQm':_0x63f705(0xb1),'cTrmA':'dev','zwrlZ':_0x63f705(0x2dd),'qoaSE':_0x63f705(0x17c),'xtTtH':_0x63f705(0xaf)},{msg:_0x17e5b1,sender:_0x37fc92,senderId:_0x1393af,timestamp:_0x103df9,audioUrl:_0x4eabeb,audioBase64:_0x2ff5c2,imageBase64:_0x4def28}=_0x190bfa,_0x448977=_0x1d6736[_0x63f705(0x241)](sanitizeUsername,_0x37fc92),_0x4e89dd=document[_0x63f705(0x191)](_0x1d6736['thmmk']);if(_0x1d6736['uOrvZ'](_0x190bfa[_0x63f705(0xb5)],_0x63f705(0x1b6))){const _0x94154d=document[_0x63f705(0x191)](_0x1d6736['thmmk']);_0x94154d[_0x63f705(0xa9)]['textAlign']=_0x1d6736[_0x63f705(0x1c7)],_0x94154d[_0x63f705(0xa9)][_0x63f705(0x30a)]=_0x1d6736['AFPOT'],_0x94154d[_0x63f705(0xa9)][_0x63f705(0x124)]=_0x63f705(0x320),_0x94154d[_0x63f705(0xa9)][_0x63f705(0xf8)]=_0x1d6736[_0x63f705(0x1d0)],_0x94154d[_0x63f705(0x2d8)]=_0x190bfa[_0x63f705(0x117)];const _0x5399c9=document[_0x63f705(0x16d)](_0x1d6736[_0x63f705(0x211)]);_0x5399c9[_0x63f705(0x20c)](_0x94154d),_0x5399c9['scrollTop']=_0x5399c9[_0x63f705(0x1e8)];return;}_0x4e89dd['classList'][_0x63f705(0x1fa)](_0x1d6736[_0x63f705(0x1f3)],_0x94bb88?_0x1d6736[_0x63f705(0x146)]:_0x1d6736['FzAJG']);const _0x365eca=new Date(_0x103df9)['toLocaleTimeString']([],{'hour':_0x1d6736[_0x63f705(0xd8)],'minute':_0x1d6736['fLQQm']}),_0x573d05=_0x1d6736[_0x63f705(0x241)](getRoleTag,_0x448977),_0x1f0899=await fetchAvatar(_0x448977),_0x45fddd=_0x1f0899?_0x63f705(0x237)+_0x1f0899+_0x63f705(0xd7):'',_0x1b2cdb=_0x45fddd+'<span\x20class=\x22sender-name\x22>'+_0x37fc92+'\x20'+_0x573d05+_0x63f705(0x226),_0x3a986e=_0x17e5b1?.[_0x63f705(0x172)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x3a65af=_0x1b2cdb+'<br>';if(_0x4eabeb)_0x3a65af+=_0x63f705(0x328)+_0x4eabeb+_0x63f705(0x2d7);else{if(_0x2ff5c2){const _0xd6fff6='data:audio/webm;base64,'+_0x2ff5c2;_0x3a65af+=_0x63f705(0x328)+_0xd6fff6+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x4def28){const _0x4a272a=_0x63f705(0x220)+_0x4def28;_0x3a65af+=_0x63f705(0x1b5)+_0x4a272a+_0x63f705(0xb8);}else _0x3a65af+=_0x63f705(0x135)+_0x3a986e+_0x63f705(0x17b);}}_0x3a65af+=_0x63f705(0x229)+_0x365eca+'</small>',_0x4e89dd[_0x63f705(0x304)]=_0x3a65af;if([_0x1d6736['cTrmA'],_0x1d6736['zwrlZ'],_0x1d6736[_0x63f705(0x313)]][_0x63f705(0x301)](role)){let _0x99b67e=0x0;_0x4e89dd[_0x63f705(0x185)](_0x1d6736[_0x63f705(0xc3)],()=>{const _0x6ecd39=_0x63f705;_0x99b67e++,_0x1d6736[_0x6ecd39(0x1a3)](_0x99b67e,0x3)&&(confirm(_0x1d6736['hGDCi'])&&(db['ref']('rooms/'+roomCode+_0x6ecd39(0x31e)+_0x3dc9b5)['remove'](),_0x4e89dd['remove']())),setTimeout(()=>_0x99b67e=0x0,0x1f4);});}const _0x2d52a0=document[_0x63f705(0x16d)](_0x1d6736[_0x63f705(0x211)]);_0x2d52a0['appendChild'](_0x4e89dd),_0x2d52a0[_0x63f705(0x290)]=_0x2d52a0['scrollHeight'];}function cleanupOldRooms(){const _0x48d184=_0x594cef,_0x3506e2={'mzLfB':function(_0x81140b,_0x82232f){return _0x81140b===_0x82232f;},'rRICC':function(_0x33698c,_0x16b928){return _0x33698c>_0x16b928;},'iHdOQ':function(_0x1b3962,_0x442674){return _0x1b3962-_0x442674;},'rmlIx':function(_0x37ac7d,_0x587e2f){return _0x37ac7d*_0x587e2f;},'fZBOw':'rooms/','jpRXy':_0x48d184(0x248),'HTTgO':_0x48d184(0x2a0),'ORolL':_0x48d184(0x269)};db[_0x48d184(0x2ef)](_0x3506e2[_0x48d184(0xe8)])[_0x48d184(0x1d8)](_0x3506e2[_0x48d184(0xa3)])['then'](_0x18a14c=>{const _0x1f0db1=_0x48d184,_0x107ce2={'gUUuC':function(_0x1d22bd,_0x41e6bd){return _0x1d22bd!==_0x41e6bd;}},_0x3f2997=_0x18a14c['val']();if(!_0x3f2997)return;const _0x50f289=Date[_0x1f0db1(0x250)]();for(const _0x4971ef in _0x3f2997){if(_0x3506e2['mzLfB'](_0x4971ef,STATIC_ROOM))continue;const _0x35fdcc=_0x3f2997[_0x4971ef];_0x3506e2[_0x1f0db1(0x170)](_0x3506e2['iHdOQ'](_0x50f289,_0x35fdcc[_0x1f0db1(0x158)]||0x0),_0x3506e2[_0x1f0db1(0x2b3)](0x2,0x3c)*0x3e8)&&db[_0x1f0db1(0x2ef)](_0x3506e2['fZBOw']+_0x4971ef)['remove']();}db[_0x1f0db1(0x2ef)](_0x1f0db1(0x222))[_0x1f0db1(0x1d8)](_0x3506e2[_0x1f0db1(0xa3)])['then'](_0x64c581=>{const _0x2b634e=_0x1f0db1,_0x1d902b=_0x64c581['val']();if(!_0x1d902b)return;for(const _0x2486d0 in _0x1d902b){if(_0x107ce2['gUUuC'](_0x2486d0,STATIC_ROOM))db[_0x2b634e(0x2ef)]('antispam/'+_0x2486d0)[_0x2b634e(0xc7)]();}}),db['ref'](_0x3506e2[_0x1f0db1(0x18f)])['once'](_0x1f0db1(0x248))[_0x1f0db1(0x1f8)](_0x2b378e=>{const _0x46b0bb=_0x1f0db1,_0x56f6db=_0x2b378e[_0x46b0bb(0x238)]();if(!_0x56f6db)return;for(const _0x512fd5 in _0x56f6db){if(_0x512fd5!==STATIC_ROOM)db['ref']('antispamBlocked/'+_0x512fd5)[_0x46b0bb(0xc7)]();}});});}document[_0x594cef(0x185)](_0x594cef(0x26d),()=>{const _0x4600d1=_0x594cef,_0x4f40af={'mVUEx':function(_0x272fd4,_0x8b3ab9){return _0x272fd4===_0x8b3ab9;},'QNaNB':'Enter','Pmmty':function(_0xdabfcf){return _0xdabfcf();},'qEhmR':_0x4600d1(0x25b),'oGzgI':_0x4600d1(0x109)},_0x5c8ec0=document[_0x4600d1(0x16d)](_0x4f40af[_0x4600d1(0xef)]);_0x5c8ec0&&_0x5c8ec0[_0x4600d1(0x185)](_0x4f40af[_0x4600d1(0x1b0)],function(_0x511693){const _0x179f9e=_0x4600d1;_0x4f40af['mVUEx'](_0x511693['key'],_0x4f40af['QNaNB'])&&(_0x511693[_0x179f9e(0xcf)](),_0x4f40af[_0x179f9e(0x1be)](sendMessage));});});function showScreen(_0x2bf97a){const _0x2563f7=_0x594cef,_0x5d2dfc={'Nemxa':_0x2563f7(0x202),'btHlc':_0x2563f7(0x178),'FVnbH':'roomChoiceScreen','CmJtH':_0x2563f7(0x235),'BmpXR':_0x2563f7(0x324),'Mnykg':_0x2563f7(0x2bf),'bZEnD':_0x2563f7(0x104),'ldFby':_0x2563f7(0x279),'tTbje':_0x2563f7(0x19d)};[_0x5d2dfc[_0x2563f7(0x302)],_0x5d2dfc[_0x2563f7(0x31c)],_0x5d2dfc[_0x2563f7(0x1df)],_0x5d2dfc[_0x2563f7(0x2e9)],_0x5d2dfc[_0x2563f7(0x186)],_0x5d2dfc[_0x2563f7(0x21a)],_0x2563f7(0x2a2),_0x5d2dfc[_0x2563f7(0x221)],'editProfileScreen'][_0x2563f7(0x282)](_0x5e2c19=>{const _0x6b91b2=_0x2563f7;document['getElementById'](_0x5e2c19)['style'][_0x6b91b2(0x309)]=_0x5d2dfc[_0x6b91b2(0x2e4)];}),document[_0x2563f7(0x16d)](_0x2bf97a)['style'][_0x2563f7(0x309)]=_0x5d2dfc[_0x2563f7(0x105)];}function genRoomCode(){const _0x49dfc6=_0x594cef,_0x4f59d5={'maPMN':_0x49dfc6(0x294),'vZOCF':'0123456789','YIMsX':function(_0x50c5ff,_0x5d2022){return _0x50c5ff+_0x5d2022;},'cPvzN':function(_0x5e9de9,_0x436713,_0x5aef98){return _0x5e9de9(_0x436713,_0x5aef98);},'siQhx':function(_0x349cf6,_0x3558f5,_0x41c202){return _0x349cf6(_0x3558f5,_0x41c202);}},_0x3e9e65=_0x4f59d5[_0x49dfc6(0x29c)],_0x38d81f=_0x4f59d5[_0x49dfc6(0x2b7)],_0x141a67=(_0x5d081e,_0x4bc7be)=>Array['from']({'length':_0x4bc7be},()=>_0x5d081e[Math[_0x49dfc6(0x227)](Math[_0x49dfc6(0x151)]()*_0x5d081e['length'])])[_0x49dfc6(0x27b)]('');return _0x4f59d5[_0x49dfc6(0x2da)](_0x4f59d5[_0x49dfc6(0x2da)](_0x4f59d5[_0x49dfc6(0x1d2)](_0x141a67,_0x38d81f,0x3)+_0x4f59d5['cPvzN'](_0x141a67,_0x3e9e65,0x3),_0x4f59d5[_0x49dfc6(0x30d)](_0x141a67,_0x38d81f,0x2)),_0x4f59d5[_0x49dfc6(0x30d)](_0x141a67,_0x3e9e65,0x2));}function startInactivityTimer(){const _0x352b08=_0x594cef,_0x14112e={'teeSI':function(_0x56656d,_0x3a16e1){return _0x56656d>_0x3a16e1;},'sNNTA':function(_0x1591f0,_0x581047){return _0x1591f0*_0x581047;},'bpPTj':function(_0x298231,_0x27cdb1){return _0x298231*_0x27cdb1;},'CYkmW':function(_0x348c4b,_0x10dde5){return _0x348c4b!==_0x10dde5;},'eZwhI':function(_0x2644cc,_0x212582){return _0x2644cc+_0x212582;},'FJtqK':_0x352b08(0x188),'NiNwG':function(_0x46d4ef,_0x429f0b){return _0x46d4ef(_0x429f0b);},'BDCWd':_0x352b08(0xa5),'fKBjT':function(_0x307828,_0xd4875e,_0x93db57){return _0x307828(_0xd4875e,_0x93db57);}};_0x14112e[_0x352b08(0x2a5)](setInterval,()=>{const _0x27aa6f=_0x352b08;_0x14112e[_0x27aa6f(0x13c)](Date[_0x27aa6f(0x250)]()-lastActivity,_0x14112e['sNNTA'](_0x14112e[_0x27aa6f(0x273)](0x5,0x3c),0x3e8))&&_0x14112e[_0x27aa6f(0x1b1)](roomCode,STATIC_ROOM)&&(db[_0x27aa6f(0x2ef)](_0x14112e['eZwhI'](_0x14112e[_0x27aa6f(0xed)],roomCode))[_0x27aa6f(0x271)]({'active':![]}),_0x14112e[_0x27aa6f(0x1da)](alert,_0x14112e[_0x27aa6f(0xc2)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x3ebbd5=_0x594cef,_0x14b0bc={'lsWHO':_0x3ebbd5(0x321),'OWnBt':'show','MCuvm':_0x3ebbd5(0x25f)};window[_0x3ebbd5(0x185)](_0x14b0bc[_0x3ebbd5(0x16c)],()=>{const _0x50553e=_0x3ebbd5,_0x586a51=document['getElementById'](_0x14b0bc[_0x50553e(0x2e6)]);_0x586a51?.[_0x50553e(0xb0)][_0x50553e(0x19e)](_0x14b0bc[_0x50553e(0x13e)])&&_0x586a51['classList'][_0x50553e(0xc7)](_0x14b0bc['OWnBt']);});}function toggleSidebar(){const _0x382526=_0x594cef,_0x380bf6={'dBJkh':'userSidebar','htfUt':_0x382526(0x1e6)},_0x40eddc=document['getElementById'](_0x380bf6[_0x382526(0x11e)]);if(!_0x40eddc[_0x382526(0xb0)]['contains'](_0x382526(0x1e6)))_0x40eddc['classList'][_0x382526(0x1fa)](_0x380bf6[_0x382526(0x20b)]),history[_0x382526(0x1f0)]({'sidebarOpen':!![]},'');else{_0x40eddc['classList']['remove'](_0x380bf6['htfUt']);if(history['state']?.[_0x382526(0xb9)])history[_0x382526(0xae)]();}}function setupVisibilityAttention(){const _0x5cf20d=_0x594cef,_0xed88b2={'rYLDf':'visibilitychange'};let _0x554d83=0x0,_0xe5265=document[_0x5cf20d(0x195)];document['addEventListener'](_0xed88b2[_0x5cf20d(0x1fd)],()=>{const _0x23b232=_0x5cf20d;!document[_0x23b232(0x14c)]&&(document[_0x23b232(0x195)]=_0xe5265,_0x554d83=0x0);}),window['flagPageAttention']=function(){const _0x4b86df=_0x5cf20d;document[_0x4b86df(0x14c)]&&(_0x554d83++,document[_0x4b86df(0x195)]='('+_0x554d83+_0x4b86df(0x20d)+_0xe5265);};}function tryEditProfile(){const _0x27be4b=_0x594cef,_0x5320a1={'najOH':_0x27be4b(0x24d),'uWZyB':_0x27be4b(0x19d)};document[_0x27be4b(0x16d)](_0x5320a1[_0x27be4b(0x31b)])['style'][_0x27be4b(0x309)]=_0x5320a1['uWZyB'];}async function submitEditProfile(){const _0x3dfdec=_0x594cef,_0x1932b4={'TZwvS':'oldPasswordInput','LRDHm':_0x3dfdec(0x317),'BpRUd':_0x3dfdec(0x208),'RtEDQ':_0x3dfdec(0x1dd),'gQAQC':'block','LXeUX':function(_0x2b435c,_0x16aed1){return _0x2b435c(_0x16aed1);},'fDbVI':'Profile\x20not\x20found.','HfTyy':function(_0x4943ae,_0x250781){return _0x4943ae(_0x250781);},'kKCin':function(_0x3f2be4,_0x569fed){return _0x3f2be4!==_0x569fed;},'qyMOi':_0x3dfdec(0xc5),'OqCPr':function(_0x972c5d,_0x3574a6){return _0x972c5d!==_0x3574a6;},'chfPp':function(_0x3f8278,_0x174be0){return _0x3f8278*_0x174be0;},'YWUwc':function(_0x158233,_0x36037c){return _0x158233*_0x36037c;},'TMLXq':function(_0x5eebee,_0x38619e){return _0x5eebee-_0x38619e;},'ulKoF':_0x3dfdec(0x2ac),'iAHCq':'‚úÖ\x20Profile\x20updated!\x20Please\x20reload.'},_0x467673=document[_0x3dfdec(0x16d)](_0x1932b4[_0x3dfdec(0xf5)])[_0x3dfdec(0x248)],_0x2fe3ac=document['getElementById'](_0x1932b4[_0x3dfdec(0x223)])['value'],_0x292cac=document['getElementById'](_0x1932b4[_0x3dfdec(0x2a9)])[_0x3dfdec(0x248)][_0x3dfdec(0xeb)](),_0x9d8282=document['getElementById'](_0x1932b4[_0x3dfdec(0xe1)]);if(!_0x467673){_0x9d8282[_0x3dfdec(0x2d8)]='Please\x20enter\x20your\x20current\x20password.',_0x9d8282[_0x3dfdec(0xa9)][_0x3dfdec(0x309)]=_0x1932b4['gQAQC'];return;}const _0x3e923d=_0x1932b4[_0x3dfdec(0x275)](sanitizeUsername,username),_0x1749b7=await db[_0x3dfdec(0x2ef)]('auth/'+_0x3e923d)[_0x3dfdec(0x25e)]();if(!_0x1749b7[_0x3dfdec(0x2fa)]()){_0x9d8282[_0x3dfdec(0x2d8)]=_0x1932b4['fDbVI'],_0x9d8282[_0x3dfdec(0xa9)]['display']=_0x3dfdec(0xe0);return;}const _0x561dc1=_0x1749b7[_0x3dfdec(0x238)](),_0xa32fde=await _0x1932b4[_0x3dfdec(0x194)](sha256,_0x467673);if(_0x1932b4[_0x3dfdec(0x265)](_0xa32fde,_0x561dc1['passwordHash'])){_0x9d8282[_0x3dfdec(0x2d8)]=_0x1932b4[_0x3dfdec(0x152)],_0x9d8282[_0x3dfdec(0xa9)]['display']=_0x1932b4['gQAQC'];return;}const _0x467220={};if(_0x2fe3ac){const _0x444c50=await sha256(_0x2fe3ac);_0x467220[_0x3dfdec(0x19b)]=_0x444c50;}_0x1932b4[_0x3dfdec(0x141)](_0x292cac,_0x561dc1[_0x3dfdec(0x11a)])&&(_0x467220['description']=_0x292cac);const _0x3e362c=Date['now'](),_0xde78a7=_0x1932b4[_0x3dfdec(0x1cb)](_0x1932b4['YWUwc'](_0x1932b4[_0x3dfdec(0x319)](0x18,0x3c),0x3c),0x3e8),_0x2b643c=_0x1932b4[_0x3dfdec(0x231)](_0x3e362c,_0x561dc1[_0x3dfdec(0x168)]||0x0)>_0xde78a7;if(_0x2b643c&&confirm(_0x1932b4[_0x3dfdec(0x1e2)])){const _0x4ff792=_0x1932b4['LXeUX'](prompt,_0x3dfdec(0x1af));_0x4ff792&&_0x4ff792[_0x3dfdec(0xeb)]()&&(_0x467220['username']=_0x4ff792[_0x3dfdec(0xeb)](),_0x467220['usernameHistory']=(_0x561dc1['usernameHistory']||[])['concat'](_0x4ff792[_0x3dfdec(0xeb)]()),_0x467220[_0x3dfdec(0x168)]=_0x3e362c);}_0x467220[_0x3dfdec(0x25d)]&&_0x1932b4[_0x3dfdec(0x141)](_0x467220[_0x3dfdec(0x25d)],_0x561dc1['username'])?(await db['ref'](_0x3dfdec(0xdd)+_0x1932b4[_0x3dfdec(0x194)](sanitizeUsername,_0x467220[_0x3dfdec(0x25d)]))['set']({..._0x561dc1,..._0x467220}),await db[_0x3dfdec(0x2ef)]('auth/'+_0x3e923d)[_0x3dfdec(0xc7)](),username=_0x467220[_0x3dfdec(0x25d)]):await db[_0x3dfdec(0x2ef)](_0x3dfdec(0xdd)+_0x3e923d)[_0x3dfdec(0x271)](_0x467220),alert(_0x1932b4[_0x3dfdec(0x17e)]),location[_0x3dfdec(0x25a)]();}function cancelEditProfile(){const _0x3f3a8f=_0x594cef,_0x2d2094={'BoQJh':_0x3f3a8f(0x24d),'DvUbQ':_0x3f3a8f(0x202),'UakiV':function(_0x2933b6,_0x1b81ee){return _0x2933b6(_0x1b81ee);}};document[_0x3f3a8f(0x16d)](_0x2d2094[_0x3f3a8f(0x1c3)])[_0x3f3a8f(0xa9)][_0x3f3a8f(0x309)]=_0x2d2094[_0x3f3a8f(0x286)],_0x2d2094['UakiV'](showScreen,'chatScreen');}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={};function listenForUserList(){const _0x763457=_0x594cef,_0x5aa9e3={'DbdnL':function(_0x265ade,_0x425677){return _0x265ade(_0x425677);},'DMLet':function(_0x3f615c,_0x636fbc){return _0x3f615c===_0x636fbc;},'PRgDl':function(_0x509d04,_0x1bcc2d){return _0x509d04!==_0x1bcc2d;},'cQCqA':_0x763457(0x270),'dugGN':function(_0x20b720,_0x5b874f){return _0x20b720!==_0x5b874f;},'AsGIn':'offline','KjxjO':'system','JEJzu':function(_0x1448f2){return _0x1448f2();},'haMbP':function(_0x1582a8,_0x4ad457){return _0x1582a8(_0x4ad457);},'XMjFe':'value'};db['ref']('users/'+roomCode)['on'](_0x5aa9e3[_0x763457(0x258)],async _0x394b69=>{const _0x3c17d6=_0x763457;if(!_0x394b69['exists']()){_0x5aa9e3[_0x3c17d6(0x22c)](renderUserLists,{});return;}const _0xfb584b=_0x394b69[_0x3c17d6(0x238)](),_0x2eb444=[];for(const [_0x512d15,_0x5f419d]of Object['entries'](_0xfb584b)){const _0x1fb3f2=_0x5aa9e3[_0x3c17d6(0x190)](_0x5f419d[_0x3c17d6(0x1e5)],!![]),_0x1e384b=cachedOnlineStatus[_0x512d15];if(_0x5aa9e3['PRgDl'](typeof _0x1e384b,_0x5aa9e3[_0x3c17d6(0xd4)])&&_0x5aa9e3[_0x3c17d6(0x11c)](_0x1fb3f2,_0x1e384b)){const _0x40a6c9=_0x5f419d[_0x3c17d6(0x25d)]||_0x512d15;_0x2eb444[_0x3c17d6(0x1bb)]({'key':db[_0x3c17d6(0x2ef)]()[_0x3c17d6(0x1bb)]()[_0x3c17d6(0x15b)],'msg':_0x40a6c9+'\x20is\x20'+(_0x1fb3f2?'online':_0x5aa9e3[_0x3c17d6(0x1cf)])});}cachedOnlineStatus[_0x512d15]=_0x1fb3f2;}for(const _0x22b2cc of _0x2eb444){await db[_0x3c17d6(0x2ef)](_0x3c17d6(0x188)+roomCode+_0x3c17d6(0x31e)+_0x22b2cc[_0x3c17d6(0x15b)])[_0x3c17d6(0xbb)]({'msg':_0x22b2cc[_0x3c17d6(0x117)],'sender':_0x5aa9e3[_0x3c17d6(0x32b)],'senderId':_0x5aa9e3['KjxjO'],'timestamp':Date[_0x3c17d6(0x250)]()});}await _0x5aa9e3[_0x3c17d6(0xcc)](loadRoomRoles),_0x5aa9e3[_0x3c17d6(0x173)](renderUserLists,_0xfb584b);});}function trackPresence(){const _0x8d4d71=_0x594cef,_0x34579c={'OUHhL':_0x8d4d71(0x214),'ylBwl':function(_0x414b7c,_0xde77af){return _0x414b7c||_0xde77af;},'fUCQr':function(_0x1dc7d0,_0x5a682e){return _0x1dc7d0||_0x5a682e;},'LXrci':function(_0x568e2a){return _0x568e2a();},'LJfqQ':function(_0x30ee58,_0x2b1d9b){return _0x30ee58||_0x2b1d9b;}};if(_0x34579c['LJfqQ'](!username,!roomCode))return;const _0x25df86=sanitizeUsername(username),_0x3b1619=db['ref'](_0x8d4d71(0x264)+roomCode+'/'+_0x25df86),_0x4aaad9={'username':username,'avatarBase64':_0x34579c[_0x8d4d71(0x106)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x8d4d71(0x252)][_0x8d4d71(0x157)]['TIMESTAMP']};db[_0x8d4d71(0x2ef)](_0x8d4d71(0x228)+roomCode+'/'+_0x25df86)[_0x8d4d71(0x1d8)](_0x8d4d71(0x248))[_0x8d4d71(0x1f8)](_0x307a2e=>{const _0x3a565d=_0x8d4d71,_0x2bcc77=_0x34579c[_0x3a565d(0x2fd)][_0x3a565d(0x1ec)]('|');let _0x1b8f6c=0x0;while(!![]){switch(_0x2bcc77[_0x1b8f6c++]){case'0':_0x3b1619[_0x3a565d(0x14d)]()[_0x3a565d(0xbb)]({'username':username,'avatarBase64':_0x34579c[_0x3a565d(0x2bb)](avatarBase64,''),'description':_0x34579c['fUCQr'](userDescription,''),'online':![],'lastOnline':Date[_0x3a565d(0x250)]()});continue;case'1':_0x3b1619['set'](_0x4aaad9);continue;case'2':_0x307a2e[_0x3a565d(0x2fa)]()&&(_0x4aaad9['admin']=!![]);continue;case'3':_0x3b1619[_0x3a565d(0x14d)]()[_0x3a565d(0x271)]({'online':![],'lastOnline':Date[_0x3a565d(0x250)]()});continue;case'4':_0x34579c['LXrci'](updateOnlineIndicator);continue;}break;}});}function uploadSidebarAvatar(_0x426d51){const _0x51202b=_0x594cef,_0xd7a1b3={'OLqPD':_0x51202b(0xb6),'bQmuL':_0x51202b(0xe0),'bUFtZ':function(_0x295caf,_0x37a452){return _0x295caf(_0x37a452);},'MSQzY':function(_0x319c3d,_0x209781){return _0x319c3d(_0x209781);},'JMzRV':_0x51202b(0xfa),'RSfAT':function(_0x5b2c54,_0x14200e){return _0x5b2c54(_0x14200e);},'PgDNL':'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.'};if(!_0x426d51[_0x51202b(0x114)][_0x51202b(0xbc)])return;const _0x3ecef3=_0x426d51['files'][0x0],_0xf313ba=new FileReader();_0xf313ba['onloadend']=async()=>{const _0x4e1688=_0x51202b,_0x3b6651=_0xf313ba[_0x4e1688(0x15f)]['split'](',')[0x1];document['getElementById'](_0xd7a1b3['OLqPD'])[_0x4e1688(0x13d)]=_0xf313ba[_0x4e1688(0x15f)],document[_0x4e1688(0x16d)](_0x4e1688(0xb6))[_0x4e1688(0xa9)][_0x4e1688(0x309)]=_0xd7a1b3[_0x4e1688(0x26e)];try{const _0x36f3c8=_0xd7a1b3[_0x4e1688(0x1b2)](sanitizeUsername,username);await db[_0x4e1688(0x2ef)](_0x4e1688(0xdd)+_0x36f3c8+_0x4e1688(0x244))[_0x4e1688(0xbb)](_0x3b6651),_0xd7a1b3[_0x4e1688(0x1a1)](alert,_0xd7a1b3[_0x4e1688(0x2b4)]);}catch(_0x4b77d5){console[_0x4e1688(0x322)](_0x4b77d5),_0xd7a1b3['RSfAT'](alert,_0xd7a1b3['PgDNL']);}},_0xf313ba[_0x51202b(0x247)](_0x3ecef3);}function muteUser(_0x96859b,_0x2181fc){const _0x2261d1=_0x594cef,_0xa495e={'DLaQD':function(_0x3dca0d,_0x938734){return _0x3dca0d(_0x938734);},'cisEf':function(_0x4c97ff,_0x426623){return _0x4c97ff+_0x426623;},'yqXgg':function(_0x2f8637,_0x26f850){return _0x2f8637*_0x26f850;},'dSAaN':function(_0x3f3da0,_0x2a3967){return _0x3f3da0*_0x2a3967;},'uudMx':function(_0x1c57c2,_0x4ec270){return _0x1c57c2(_0x4ec270);}},_0x3e1dfe=_0xa495e[_0x2261d1(0x2c7)](Date['now'](),_0xa495e[_0x2261d1(0x171)](_0xa495e[_0x2261d1(0x240)](_0x2181fc,0x3c),0x3e8));db['ref'](_0x2261d1(0x2af)+roomCode+'/'+_0xa495e['uudMx'](sanitizeUsername,_0x96859b))[_0x2261d1(0xbb)]({'muteUntil':_0x3e1dfe})[_0x2261d1(0x1f8)](()=>{const _0x2aff20=_0x2261d1;_0xa495e[_0x2aff20(0xe6)](alert,_0x96859b+_0x2aff20(0xb3)+_0x2181fc+'\x20minutes.'),addSystemMessage(_0x96859b+_0x2aff20(0x1a6)+_0x2181fc+'\x20minutes');});}function unmuteUser(_0x3931ea){const _0x257ba9=_0x594cef,_0x421d43={'DNhav':function(_0xedc5cb,_0x4109a5){return _0xedc5cb(_0x4109a5);}};if(!isRoomAdmin)return _0x421d43['DNhav'](alert,_0x257ba9(0x1c1));db[_0x257ba9(0x2ef)](_0x257ba9(0x2af)+roomCode+'/'+_0x421d43[_0x257ba9(0x1c9)](sanitizeUsername,_0x3931ea))[_0x257ba9(0xc7)]();}function updateOnlineIndicator(){const _0x371906=_0x594cef,_0x27b543={'igzsQ':_0x371906(0x29a),'oytNw':_0x371906(0x1f4),'CfYSW':_0x371906(0x2d1)},_0x5701d4=document[_0x371906(0x16d)](_0x27b543[_0x371906(0x293)]);_0x5701d4[_0x371906(0x2d8)]=_0x27b543[_0x371906(0x325)],_0x5701d4[_0x371906(0xa9)]['color']=_0x27b543[_0x371906(0x116)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x4d5f6b){const _0x3fa26a=_0x594cef,_0x217301={'PHybQ':function(_0x4d35f6,_0x261cf8){return _0x4d35f6(_0x261cf8);},'hIqeQ':'Profile\x20not\x20found.','EOPir':'No\x20bio\x20set','rlwKR':_0x3fa26a(0x31f),'uQZNz':'block'};db['ref'](_0x3fa26a(0xdd)+_0x4d5f6b)[_0x3fa26a(0x25e)]()[_0x3fa26a(0x1f8)](_0x50cfbc=>{const _0x3d490e=_0x3fa26a;if(!_0x50cfbc[_0x3d490e(0x2fa)]())return _0x217301[_0x3d490e(0x163)](alert,_0x217301[_0x3d490e(0x274)]);const _0x8bb645=_0x50cfbc['val'](),_0x1302ad=('\x0aName:\x20'+_0x8bb645['username']+'\x0aDescription:\x20'+(_0x8bb645[_0x3d490e(0x11a)]||_0x217301['EOPir'])+_0x3d490e(0x305)+((_0x8bb645[_0x3d490e(0x1ef)]||[])[_0x3d490e(0x27b)](',\x20')||_0x3d490e(0x2a3))+'\x0aLast\x20Changed:\x20'+(_0x8bb645[_0x3d490e(0x168)]?new Date(_0x8bb645[_0x3d490e(0x168)])[_0x3d490e(0x251)]():'Unknown')+_0x3d490e(0x153))[_0x3d490e(0xeb)]();document[_0x3d490e(0x16d)](_0x217301[_0x3d490e(0x289)])[_0x3d490e(0x2d8)]=_0x1302ad,document[_0x3d490e(0x16d)](_0x3d490e(0x2a2))[_0x3d490e(0xa9)][_0x3d490e(0x309)]=_0x217301[_0x3d490e(0xcd)];});}function initUsernameFlow(){const _0x54dfef=_0x594cef,_0x4d910a={'EMmSK':_0x54dfef(0x1bf),'fKJyA':function(_0x2a1795,_0x21ccdc){return _0x2a1795(_0x21ccdc);},'QRvhN':_0x54dfef(0x104),'GLjot':_0x54dfef(0x2ff),'mMRpb':function(_0x27047d,_0x17e4a2){return _0x27047d(_0x17e4a2);},'xCQEZ':'roomChoiceScreen'},_0x10ea04=localStorage[_0x54dfef(0x12b)](_0x4d910a[_0x54dfef(0x2c3)]);!_0x10ea04?_0x4d910a[_0x54dfef(0xde)](showScreen,_0x4d910a['QRvhN']):(username=_0x10ea04,document[_0x54dfef(0x16d)](_0x4d910a['GLjot'])['innerText']=username,_0x4d910a[_0x54dfef(0x15e)](showScreen,_0x4d910a['xCQEZ']));}function closeProfile(){const _0x2bc352=_0x594cef,_0x455df8={'KuNKx':_0x2bc352(0x2a2),'czcTK':'none'};document[_0x2bc352(0x16d)](_0x455df8[_0x2bc352(0xcb)])[_0x2bc352(0xa9)]['display']=_0x455df8['czcTK'];}function resetWebsiteData(){const _0x3615f8=_0x594cef,_0x14ea71={'xDUGE':'notifications_enabled','AgrBF':function(_0x3c204c,_0x85ce00){return _0x3c204c||_0x85ce00;},'TPjup':function(_0x153c39,_0x3f583b){return _0x153c39+_0x3f583b;}};try{const _0x1124ef=localStorage[_0x3615f8(0x12b)](_0x14ea71[_0x3615f8(0x111)]);localStorage['clear'](),sessionStorage[_0x3615f8(0x18d)](),_0x1124ef&&localStorage[_0x3615f8(0x26b)](_0x14ea71[_0x3615f8(0x111)],_0x1124ef);}catch(_0x17c597){}if(_0x14ea71[_0x3615f8(0x197)](!username,!roomCode)){const _0x41f472='2|1|4|3|0'[_0x3615f8(0x1ec)]('|');let _0x47762d=0x0;while(!![]){switch(_0x41f472[_0x47762d++]){case'0':clientId=_0x14ea71[_0x3615f8(0xa8)]('_',Math['random']()[_0x3615f8(0x127)](0x24)[_0x3615f8(0x1a0)](0x2,0x9));continue;case'1':roomCode=null;continue;case'2':username=null;continue;case'3':pendingMessages=[];continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x5a8203=_0x594cef,_0x31d0b5={'SNoXl':function(_0x2ab975,_0x1b5150){return _0x2ab975(_0x1b5150);},'wXfPt':'Enter\x20Announcement\x20Text:'},_0x4ff2e1=_0x31d0b5[_0x5a8203(0xf7)](prompt,_0x31d0b5[_0x5a8203(0x1b3)]);if(!_0x4ff2e1)return;db[_0x5a8203(0x2ef)](_0x5a8203(0x188)+roomCode+_0x5a8203(0x215))['set']({'text':_0x4ff2e1,'by':username,'timestamp':Date[_0x5a8203(0x250)]()});}function listenForAnnouncement(){const _0xdde964=_0x594cef,_0x1b765d={'ZDjhP':_0xdde964(0x1ea),'ZRjfM':_0xdde964(0x248)},_0x2c17c3=db[_0xdde964(0x2ef)](_0xdde964(0x188)+roomCode+_0xdde964(0x215));_0x2c17c3['on'](_0x1b765d['ZRjfM'],_0x2b0c68=>{const _0x57472a=_0xdde964,_0xd37968=_0x2b0c68['val']();if(!_0xd37968){document['getElementById'](_0x1b765d[_0x57472a(0x253)])[_0x57472a(0x2d8)]='';return;}const _0x469c2c=document[_0x57472a(0x16d)](_0x57472a(0x1ea));_0x469c2c[_0x57472a(0x2d8)]=''+_0xd37968[_0x57472a(0x18e)];});}document['getElementById'](_0x594cef(0x1ea))['addEventListener'](_0x594cef(0xaf),_0x53cec2=>{const _0x1f2c8f=_0x594cef,_0x1e6462={'qhxWH':function(_0x42cb82,_0x28c0b9){return _0x42cb82===_0x28c0b9;}};_0x1e6462['qhxWH'](_0x53cec2['detail'],0x3)&&isRoomAdmin&&(confirm(_0x1f2c8f(0xbf))&&db[_0x1f2c8f(0x2ef)](_0x1f2c8f(0x188)+roomCode+_0x1f2c8f(0x215))[_0x1f2c8f(0xc7)]());}),document[_0x594cef(0x16d)]('msgInput')[_0x594cef(0x185)](_0x594cef(0x1f2),()=>{const _0x3e36fb=_0x594cef,_0x58a6e5={'Czvfu':'2px\x20solid\x20red'},_0x9fed9b=document[_0x3e36fb(0x16d)]('msgInput');_0x25a689?_0x9fed9b[_0x3e36fb(0xa9)][_0x3e36fb(0x18b)]=_0x58a6e5['Czvfu']:_0x9fed9b[_0x3e36fb(0xa9)][_0x3e36fb(0x18b)]='';const _0x33e2e1=_0x9fed9b['value'][_0x3e36fb(0x259)](),_0x25a689=swearWords[_0x3e36fb(0x27d)](_0x144a4e=>_0x33e2e1['includes'](_0x144a4e));_0x25a689?(_0x9fed9b[_0x3e36fb(0xa9)]['border']=_0x58a6e5[_0x3e36fb(0x16a)],sendBtn[_0x3e36fb(0xc6)]=!![]):(_0x9fed9b[_0x3e36fb(0xa9)][_0x3e36fb(0x18b)]='',_0x25a689?_0x9fed9b[_0x3e36fb(0xa9)]['border']=_0x58a6e5[_0x3e36fb(0x16a)]:_0x9fed9b['style'][_0x3e36fb(0x18b)]='');});function muteUser(_0x35e996,_0x786f4c){const _0x5cb649=_0x594cef,_0x399070={'duivY':function(_0x5b2f22,_0xc3f36e){return _0x5b2f22(_0xc3f36e);},'iqceQ':function(_0x4d1d15,_0x508759){return _0x4d1d15+_0x508759;}},_0x15679b=_0x399070[_0x5cb649(0x189)](Date['now'](),_0x786f4c*0x3c*0x3e8);db['ref'](_0x5cb649(0x2af)+roomCode+'/'+_0x399070[_0x5cb649(0x216)](sanitizeUsername,_0x35e996))[_0x5cb649(0xbb)]({'muteUntil':_0x15679b})[_0x5cb649(0x1f8)](()=>{const _0x4b3dc6=_0x5cb649;_0x399070[_0x4b3dc6(0x216)](alert,_0x35e996+_0x4b3dc6(0xb3)+_0x786f4c+_0x4b3dc6(0x2ae));});}function deleteUserMessages(_0x5d56e6){const _0x210c2d=_0x594cef,_0x1bc46e={'ByNdy':function(_0x386e08,_0x1bea7e){return _0x386e08(_0x1bea7e);},'gEWpp':_0x210c2d(0xb5)};db[_0x210c2d(0x2ef)](_0x210c2d(0x188)+roomCode+_0x210c2d(0xc8))[_0x210c2d(0x19c)](_0x1bc46e[_0x210c2d(0x156)])[_0x210c2d(0x201)](_0x5d56e6)['get']()[_0x210c2d(0x1f8)](_0x20f6f2=>{const _0x42b5cb=_0x210c2d;_0x20f6f2[_0x42b5cb(0x282)](_0x56864b=>{const _0x5359a3=_0x42b5cb;db[_0x5359a3(0x2ef)](_0x5359a3(0x188)+roomCode+'/messages/'+_0x56864b['key'])[_0x5359a3(0xc7)]();}),_0x1bc46e[_0x42b5cb(0x21b)](alert,'Messages\x20by\x20'+_0x5d56e6+'\x20deleted.');});}function pauseRoom(_0x56994b){const _0x264a99=_0x594cef,_0x19e2c8={'AmTVI':_0x264a99(0x202),'bFVCM':_0x264a99(0x248)};db[_0x264a99(0x2ef)](_0x264a99(0x188)+roomCode+_0x264a99(0x154))['on'](_0x19e2c8[_0x264a99(0x177)],_0x1e3046=>{const _0x30f1eb=_0x264a99,_0x1012ba=_0x1e3046[_0x30f1eb(0x238)]();document[_0x30f1eb(0x16d)](_0x30f1eb(0x2f0))[_0x30f1eb(0xa9)][_0x30f1eb(0x309)]=_0x1012ba?_0x30f1eb(0xe0):_0x19e2c8[_0x30f1eb(0x246)];});}function canPerformAction(_0x18bf02){const _0x4af2cc=_0x594cef,_0x202d47={'QAXWM':'dev','Bvlzk':function(_0x25fcea,_0x562093){return _0x25fcea===_0x562093;},'vRDAh':_0x4af2cc(0x2b6),'rhTPF':function(_0x3d2a4f,_0x55b5c5){return _0x3d2a4f===_0x55b5c5;},'jzLig':function(_0x23b4be,_0x3b2106){return _0x23b4be===_0x3b2106;},'kFGHq':_0x4af2cc(0x2dd),'GAMsZ':function(_0x2adb0d,_0x3fc594){return _0x2adb0d===_0x3fc594;},'Ffkzx':function(_0x3b7f28,_0x1e675b){return _0x3b7f28===_0x1e675b;}};if(role===_0x202d47[_0x4af2cc(0x315)])return!![];if(_0x202d47[_0x4af2cc(0x131)](_0x18bf02,_0x202d47[_0x4af2cc(0x2b9)])||_0x202d47[_0x4af2cc(0x1c8)](_0x18bf02,_0x4af2cc(0x218)))return _0x202d47[_0x4af2cc(0xbe)](role,_0x202d47[_0x4af2cc(0x204)])||_0x202d47[_0x4af2cc(0x2f7)](role,_0x4af2cc(0x17c));if(_0x202d47[_0x4af2cc(0x125)](_0x18bf02,_0x4af2cc(0xd3)))return _0x202d47[_0x4af2cc(0x125)](role,_0x202d47[_0x4af2cc(0x204)]);return![];}const html=Object[_0x594cef(0x126)](roomUsers)[_0x594cef(0xf2)](_0x31f8e3=>{const _0x4c5988=_0x594cef,_0xf3b0b4={'KUvHl':function(_0x1d1e83,_0x4a8d99){return _0x1d1e83(_0x4a8d99);},'woNnf':function(_0x251a45,_0x5690e5){return _0x251a45(_0x5690e5);},'rtDwe':_0x4c5988(0x2b6),'MhCro':function(_0x4b0ce9,_0x473fc3){return _0x4b0ce9(_0x473fc3);},'LbBOe':_0x4c5988(0x218),'BGVmp':function(_0x34049f,_0x42de01){return _0x34049f===_0x42de01;},'pdabR':function(_0x29da9a,_0x431ca4){return _0x29da9a(_0x431ca4);},'aigmp':function(_0x2f44f0,_0x2e7a39){return _0x2f44f0(_0x2e7a39);}},_0x3495b1=_0xf3b0b4['KUvHl'](sanitizeUsername,_0x31f8e3[_0x4c5988(0x25d)]),_0x2e5312=[];if(_0x3495b1!==_0xf3b0b4[_0x4c5988(0x2f6)](sanitizeUsername,username)){_0xf3b0b4['woNnf'](canPerformAction,_0xf3b0b4['rtDwe'])&&(_0x2e5312[_0x4c5988(0x1bb)]('<button\x20onclick=\x22muteUser(\x27'+_0x3495b1+_0x4c5988(0x183)),_0x2e5312[_0x4c5988(0x1bb)](_0x4c5988(0x30f)+_0x3495b1+'\x27,\x2010)\x22>Mute\x2010m</button>'));_0xf3b0b4['MhCro'](canPerformAction,_0xf3b0b4[_0x4c5988(0x1ad)])&&_0x2e5312[_0x4c5988(0x1bb)](_0x4c5988(0x295)+_0x3495b1+_0x4c5988(0x13b));if(_0xf3b0b4[_0x4c5988(0xbd)](role,_0x4c5988(0xe2)))_0x2e5312[_0x4c5988(0x1bb)](_0x4c5988(0x193)+_0x3495b1+_0x4c5988(0x1ee)),_0x2e5312[_0x4c5988(0x1bb)](_0x4c5988(0x2de)+_0x3495b1+_0x4c5988(0x2d4));else _0xf3b0b4[_0x4c5988(0xbd)](role,_0x4c5988(0x2dd))&&_0x2e5312['push'](_0x4c5988(0x193)+_0x3495b1+_0x4c5988(0x1ee));}return _0x4c5988(0x1d6)+_0x31f8e3['username']+'\x20'+_0xf3b0b4[_0x4c5988(0xad)](getRoleTag,_0xf3b0b4['aigmp'](sanitizeUsername,_0x31f8e3[_0x4c5988(0x25d)]))+_0x4c5988(0x268)+_0x3495b1+_0x4c5988(0x11b)+_0x2e5312[_0x4c5988(0x27b)]('')+_0x4c5988(0x242)+_0x3495b1+_0x4c5988(0xd5);})['join']('');function promoteToModerator(_0x2f980a){const _0x3e8a37=_0x594cef,_0x58573b={'uriqm':function(_0x29a412,_0x2a1797){return _0x29a412(_0x2a1797);},'lLZge':function(_0x20ead4,_0x5c6032){return _0x20ead4(_0x5c6032);},'CDnBr':_0x3e8a37(0xe2),'XgQek':function(_0x14f3f3,_0x561725){return _0x14f3f3!==_0x561725;},'ddmQO':'admin','XiPhL':_0x3e8a37(0x112)},_0x402b5b=_0x58573b[_0x3e8a37(0x297)](sanitizeUsername,_0x2f980a);if(_0x58573b[_0x3e8a37(0x297)](isProtected,_0x402b5b))return _0x58573b[_0x3e8a37(0x29d)](alert,_0x3e8a37(0x327));if(role!==_0x58573b[_0x3e8a37(0x1b8)]&&_0x58573b['XgQek'](role,_0x58573b[_0x3e8a37(0x1a5)])){_0x58573b[_0x3e8a37(0x29d)](alert,_0x58573b[_0x3e8a37(0x23c)]);return;}db[_0x3e8a37(0x2ef)](_0x3e8a37(0x1a8)+roomCode+'/'+_0x402b5b)[_0x3e8a37(0xbb)](!![])['then'](()=>{const _0x12ec1c=_0x3e8a37;alert(_0x2f980a+_0x12ec1c(0x30b)),_0x58573b[_0x12ec1c(0x297)](addSystemMessage,_0x2f980a+_0x12ec1c(0x134));});}function promoteToAdmin(_0x5547e0){const _0x3cb729=_0x594cef,_0x5c58f1={'hEuOS':function(_0x456edc,_0x3f6831){return _0x456edc(_0x3f6831);},'tPbpY':function(_0x293a79,_0xba10e6){return _0x293a79(_0xba10e6);},'DYdzn':function(_0x57d542,_0xef95a8){return _0x57d542(_0xef95a8);},'YveNn':_0x3cb729(0xe2),'MTWUH':function(_0x2d288f,_0x32f774){return _0x2d288f(_0x32f774);}},_0x5472a2=_0x5c58f1[_0x3cb729(0x1dc)](sanitizeUsername,_0x5547e0);if(isProtected(_0x5472a2))return _0x5c58f1[_0x3cb729(0x28c)](alert,_0x3cb729(0x327));if(role!==_0x5c58f1[_0x3cb729(0x29f)]){_0x5c58f1[_0x3cb729(0x1ca)](alert,_0x3cb729(0x2a1));return;}db[_0x3cb729(0x2ef)](_0x3cb729(0x228)+roomCode+'/'+_0x5472a2)[_0x3cb729(0xbb)](!![])[_0x3cb729(0x1f8)](()=>{const _0x41e71c=_0x3cb729;_0x5c58f1[_0x41e71c(0x2ca)](alert,_0x5547e0+_0x41e71c(0x14f)),_0x5c58f1['hEuOS'](addSystemMessage,_0x5547e0+_0x41e71c(0xd9));});}function toggleUserOptions(_0x30bb02){const _0x3c7ca8=_0x594cef,_0x2dacdf={'gWnqU':function(_0x584cb5,_0x185d85){return _0x584cb5===_0x185d85;},'HCsQn':_0x3c7ca8(0xe2),'dcGWy':_0x3c7ca8(0x2dd),'Qzwaf':'none'};(_0x2dacdf['gWnqU'](role,_0x2dacdf['HCsQn'])||role===_0x2dacdf[_0x3c7ca8(0x182)])&&controls[_0x3c7ca8(0x1bb)](_0x3c7ca8(0x10c)+safeName+_0x3c7ca8(0x1c0));const _0x49d021=document['getElementById'](_0x3c7ca8(0xfb)+_0x30bb02);_0x2dacdf[_0x3c7ca8(0x2d5)](_0x49d021[_0x3c7ca8(0xa9)]['display'],_0x2dacdf[_0x3c7ca8(0x187)])?_0x49d021[_0x3c7ca8(0xa9)][_0x3c7ca8(0x309)]='block':_0x49d021[_0x3c7ca8(0xa9)][_0x3c7ca8(0x309)]=_0x3c7ca8(0x202);}function demoteUser(_0x368c1b){const _0x21daed=_0x594cef,_0x1cb54a={'GPSpc':function(_0xbc9843,_0x341c8f){return _0xbc9843(_0x341c8f);},'ysjfY':_0x21daed(0x21e),'aGcqB':function(_0x1f2dbf,_0x40d86c){return _0x1f2dbf===_0x40d86c;},'ncYvC':_0x21daed(0x2dd),'RNOlI':_0x21daed(0xb4)};if(isProtected(_0x368c1b))return _0x1cb54a[_0x21daed(0x2d3)](alert,_0x1cb54a['ysjfY']);if(role===_0x21daed(0xe2))db[_0x21daed(0x2ef)]('admins/'+roomCode+'/'+_0x368c1b)['remove'](),db[_0x21daed(0x2ef)](_0x21daed(0x1a8)+roomCode+'/'+_0x368c1b)[_0x21daed(0xc7)](),alert(_0x368c1b+_0x21daed(0x100));else _0x1cb54a[_0x21daed(0xee)](role,_0x1cb54a[_0x21daed(0x27c)])?(db[_0x21daed(0x2ef)](_0x21daed(0x1a8)+roomCode+'/'+_0x368c1b)[_0x21daed(0xc7)](),_0x1cb54a[_0x21daed(0x2d3)](alert,_0x368c1b+_0x21daed(0x100))):_0x1cb54a[_0x21daed(0x2d3)](alert,_0x1cb54a[_0x21daed(0xdb)]);}function getRoleTag(_0x29819d){const _0x12ebf2=_0x594cef,_0x3fc257=sanitizeUsername(_0x29819d);if(globalDevs['includes'](_0x3fc257))return _0x12ebf2(0x164);if(roomAdmins[_0x12ebf2(0x301)](_0x3fc257))return _0x12ebf2(0x203);if(roomModerators[_0x12ebf2(0x301)](_0x3fc257))return _0x12ebf2(0x102);return'';}async function loadRoomRoles(){const _0x4bed01=_0x594cef,_0x3fb4f8={'AWzXB':function(_0xf30539,_0x1b2dfe){return _0xf30539(_0x1b2dfe);},'iiRqZ':'auth','Aqske':_0x4bed01(0xe2),'pcHcX':_0x4bed01(0x2dd),'Ufyws':_0x4bed01(0x17c)},_0x2f2327=_0x3fb4f8[_0x4bed01(0x32a)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x3ba773=await db[_0x4bed01(0x2ef)](_0x3fb4f8[_0x4bed01(0x2f4)])[_0x4bed01(0x25e)]();_0x3ba773[_0x4bed01(0x282)](_0x1178c9=>{const _0x342e9d=_0x4bed01;if(_0x1178c9[_0x342e9d(0x238)]()[_0x342e9d(0x14e)]==='dev')globalDevs[_0x342e9d(0x1bb)](_0x1178c9['key']);});const _0x2fcb1b=await db[_0x4bed01(0x2ef)](_0x4bed01(0x228)+roomCode)[_0x4bed01(0x25e)]();_0x2fcb1b['exists']()&&_0x2fcb1b[_0x4bed01(0x282)](_0x2cf263=>roomAdmins[_0x4bed01(0x1bb)](_0x2cf263[_0x4bed01(0x15b)]));const _0x182e9b=await db['ref'](_0x4bed01(0x1a8)+roomCode)[_0x4bed01(0x25e)]();_0x182e9b[_0x4bed01(0x2fa)]()&&_0x182e9b[_0x4bed01(0x282)](_0x397254=>roomModerators[_0x4bed01(0x1bb)](_0x397254[_0x4bed01(0x15b)]));if(globalDevs['includes'](_0x2f2327))role=_0x3fb4f8['Aqske'];else{if(roomAdmins[_0x4bed01(0x301)](_0x2f2327))role=_0x3fb4f8[_0x4bed01(0x2c9)];else roomModerators[_0x4bed01(0x301)](_0x2f2327)?role=_0x3fb4f8['Ufyws']:role='user';}}async function renderUserLists(_0x5080cd){const _0xb77fa5=_0x594cef,_0x28a223={'VbNHK':function(_0x247865,_0x3e2450){return _0x247865(_0x3e2450);},'SwNFX':function(_0x6d7380,_0x436632){return _0x6d7380(_0x436632);},'WjxER':function(_0x7bfc6b,_0x1d53dc){return _0x7bfc6b===_0x1d53dc;},'WsdTd':'dev','udPHG':_0xb77fa5(0x2dd),'wlECH':function(_0x356202,_0x1fb143){return _0x356202===_0x1fb143;},'njELO':function(_0x2c3dbf,_0x15f2be){return _0x2c3dbf===_0x15f2be;},'uneXw':function(_0x21f3f6,_0x3a44a0){return _0x21f3f6(_0x3a44a0);},'nOaEQ':function(_0x424ffa,_0x292b02){return _0x424ffa===_0x292b02;},'sSCQP':_0xb77fa5(0x1d9),'kMyDK':'none','gCDMV':_0xb77fa5(0x147)};roomUsers=_0x5080cd;const _0x41532b=_0x28a223[_0xb77fa5(0x1eb)](sanitizeUsername,username),_0x19803f=_0x28a223[_0xb77fa5(0xa7)](role,_0x28a223['WsdTd'])||_0x28a223[_0xb77fa5(0x31d)](role,_0x28a223[_0xb77fa5(0x23a)])||_0x28a223[_0xb77fa5(0x12e)](role,'moderator');document['getElementById'](_0x28a223[_0xb77fa5(0x267)])[_0xb77fa5(0xa9)][_0xb77fa5(0x309)]=_0x19803f?_0xb77fa5(0xe0):_0x28a223[_0xb77fa5(0x2f8)];const _0x398b3a=Object[_0xb77fa5(0x2ea)](_0x5080cd)[_0xb77fa5(0xf2)](async([_0x5342ff,_0x39d95a])=>{const _0x517dbf=_0xb77fa5,_0x4fa2c7=sanitizeUsername(_0x39d95a[_0x517dbf(0x25d)]||_0x5342ff),_0x1c42bb=await _0x28a223[_0x517dbf(0x176)](fetchAvatar,_0x4fa2c7),_0x5f0e31=_0x1c42bb?_0x517dbf(0x237)+_0x1c42bb+_0x517dbf(0x278):'',_0x7301d2=_0x39d95a['online']?_0x517dbf(0x2aa):_0x517dbf(0xda);return _0x517dbf(0x2fe)+_0x5f0e31+'\x20'+_0x7301d2+_0x517dbf(0x13a)+_0x4fa2c7+'\x27)\x22>'+(_0x39d95a[_0x517dbf(0x25d)]||_0x5342ff)+_0x517dbf(0x9f)+_0x28a223[_0x517dbf(0x1d5)](getRoleTag,_0x4fa2c7)+_0x517dbf(0x2cd);}),_0x414502=await Promise[_0xb77fa5(0x1aa)](_0x398b3a);document['getElementById'](_0x28a223[_0xb77fa5(0x150)])['innerHTML']=_0x414502[_0xb77fa5(0x27b)]('');if(!_0x19803f)return;const _0x32c895=Object[_0xb77fa5(0x2ea)](_0x5080cd)[_0xb77fa5(0xf2)](async([_0x301df6,_0x36e9a1])=>{const _0x268e6e=_0xb77fa5,_0x1b8d50=sanitizeUsername(_0x36e9a1[_0x268e6e(0x25d)]||_0x301df6);if(_0x28a223[_0x268e6e(0x31d)](_0x1b8d50,_0x41532b))return'';const _0x1b7420=globalDevs[_0x268e6e(0x301)](_0x1b8d50),_0x428648=await _0x28a223[_0x268e6e(0x1d5)](fetchAvatar,_0x1b8d50),_0x4678ed=_0x428648?_0x268e6e(0x237)+_0x428648+_0x268e6e(0x278):'',_0xe54dab=_0x36e9a1[_0x268e6e(0x1e5)]?_0x268e6e(0x2aa):_0x268e6e(0xda),_0x1d8f7a=[];if(!_0x1b7420){(role===_0x28a223[_0x268e6e(0x139)]||_0x28a223[_0x268e6e(0x31d)](role,_0x28a223[_0x268e6e(0x23a)])||_0x28a223[_0x268e6e(0x31d)](role,_0x268e6e(0x17c)))&&(_0x1d8f7a[_0x268e6e(0x1bb)](_0x268e6e(0x30f)+_0x1b8d50+'\x27,\x201)\x22>Mute\x201m</button>'),_0x1d8f7a[_0x268e6e(0x1bb)](_0x268e6e(0x30f)+_0x1b8d50+'\x27,\x205)\x22>Mute\x205m</button>'),_0x1d8f7a['push'](_0x268e6e(0x30f)+_0x1b8d50+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x28a223[_0x268e6e(0xa7)](role,_0x28a223[_0x268e6e(0x139)]))_0x1d8f7a['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1b8d50+'\x27)\x22>+Mod</button>'),_0x1d8f7a[_0x268e6e(0x1bb)](_0x268e6e(0x2de)+_0x1b8d50+_0x268e6e(0xe3)),_0x1d8f7a[_0x268e6e(0x1bb)]('<button\x20onclick=\x22demoteUser(\x27'+_0x1b8d50+_0x268e6e(0x1c0));else _0x28a223[_0x268e6e(0x1c2)](role,_0x268e6e(0x2dd))&&(_0x1d8f7a['push'](_0x268e6e(0x193)+_0x1b8d50+_0x268e6e(0x175)),_0x1d8f7a[_0x268e6e(0x1bb)](_0x268e6e(0x10c)+_0x1b8d50+'\x27)\x22>Demote</button>'));}return _0x268e6e(0xe4)+_0x4678ed+'\x20'+_0xe54dab+_0x268e6e(0x11f)+(_0x36e9a1[_0x268e6e(0x25d)]||_0x301df6)+'\x20'+getRoleTag(_0x1b8d50)+_0x268e6e(0x306)+_0x1d8f7a['join']('\x20')+'</div>\x0a\x20\x20\x20\x20\x20\x20</li>';}),_0x1242e3=await Promise[_0xb77fa5(0x1aa)](_0x32c895);document[_0xb77fa5(0x16d)]('adminUserList')['innerHTML']=_0x1242e3['join']('');}async function fetchAvatar(_0xa39fbf){const _0x44b5d8=_0x594cef;if(userAvatars[_0xa39fbf])return userAvatars[_0xa39fbf];const _0x517ed6=await db['ref'](_0x44b5d8(0xdd)+_0xa39fbf)[_0x44b5d8(0x25e)]();if(_0x517ed6['exists']()&&_0x517ed6[_0x44b5d8(0x238)]()[_0x44b5d8(0xce)])return userAvatars[_0xa39fbf]=_0x517ed6[_0x44b5d8(0x238)]()[_0x44b5d8(0xce)],userAvatars[_0xa39fbf];return null;}function sendTyping(){const _0x5517a4=_0x594cef,_0x4bb4d2={'NiyPU':function(_0x540fad,_0x938fd8){return _0x540fad(_0x938fd8);},'meBpP':function(_0x2eaca9,_0x2bd1d2,_0x2b613c){return _0x2eaca9(_0x2bd1d2,_0x2b613c);}},_0x2535f4=_0x4bb4d2[_0x5517a4(0x1e1)](sanitizeUsername,username),_0x1b96cd=Date['now']();db[_0x5517a4(0x2ef)](_0x5517a4(0x299)+roomCode+'/'+_0x2535f4)[_0x5517a4(0xbb)](_0x1b96cd);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=_0x4bb4d2['meBpP'](setTimeout,()=>{const _0x4d51b9=_0x5517a4;db[_0x4d51b9(0x2ef)](_0x4d51b9(0x299)+roomCode+'/'+_0x2535f4)[_0x4d51b9(0xc7)]();},0xbb8);}function _0x3688(_0x10790d,_0x5ad0d8){const _0x3915eb=_0x3915();return _0x3688=function(_0x36884e,_0x2a4f54){_0x36884e=_0x36884e-0x9c;let _0x375494=_0x3915eb[_0x36884e];return _0x375494;},_0x3688(_0x10790d,_0x5ad0d8);}function listenForTyping(){const _0x499fde=_0x594cef,_0x21a564={'aPNtD':_0x499fde(0x17d),'bqzDw':'value'};db['ref'](_0x499fde(0x299)+roomCode)['on'](_0x21a564[_0x499fde(0x2a4)],_0x319b2f=>{const _0xd4c51e=_0x499fde,_0x3dc5a4=document['getElementById'](_0x21a564[_0xd4c51e(0x11d)]);if(!_0x319b2f[_0xd4c51e(0x2fa)]())return _0x3dc5a4[_0xd4c51e(0x2d8)]='';const _0x19000a=Date['now'](),_0x33c130=Object[_0xd4c51e(0x2ea)](_0x319b2f[_0xd4c51e(0x238)]())['filter'](([_0x16e7b,_0x16a384])=>_0x16e7b!==sanitizeUsername(username)&&_0x19000a-_0x16a384<0x1388)['map'](([_0x40b4d8])=>_0x40b4d8);_0x3dc5a4[_0xd4c51e(0x2d8)]=_0x33c130['length']?_0x33c130['join'](',\x20')+_0xd4c51e(0x2ee):'';});}function watchMuteStatus(){const _0x13040b=_0x594cef,_0x4788aa={'YzgXg':function(_0x5324c1,_0x4d8133){return _0x5324c1===_0x4d8133;},'MZvJP':_0x13040b(0x1e0),'kBCfM':_0x13040b(0x2c5),'OfiTn':_0x13040b(0x1b9),'lCiOg':function(_0x36df9a,_0x4f4ee4){return _0x36df9a(_0x4f4ee4);},'YbMZU':_0x13040b(0x248)},_0x34e019=db['ref'](_0x13040b(0x2af)+roomCode+'/'+_0x4788aa[_0x13040b(0x1fb)](sanitizeUsername,username));_0x34e019['on'](_0x4788aa['YbMZU'],_0x4cdee9=>{const _0x5e1157=_0x13040b,_0x5209d6=document[_0x5e1157(0x16d)](_0x5e1157(0x25b));if(_0x4cdee9['exists']()){const _0x4d266b=_0x4cdee9[_0x5e1157(0x238)](),_0x12f493=_0x4788aa[_0x5e1157(0xec)](typeof _0x4d266b,_0x4788aa[_0x5e1157(0x2f3)])&&_0x4d266b[_0x5e1157(0x232)]?_0x4d266b['muteUntil']:_0x4d266b;_0x5209d6[_0x5e1157(0xc6)]=_0x12f493>Date[_0x5e1157(0x250)](),_0x5209d6['placeholder']=_0x12f493>Date[_0x5e1157(0x250)]()?_0x4788aa[_0x5e1157(0xab)]:_0x4788aa[_0x5e1157(0x14b)];}else _0x5209d6[_0x5e1157(0xc6)]=![],_0x5209d6[_0x5e1157(0x12f)]=_0x5e1157(0x1b9);});}function isProtected(_0xe8da93){const _0x1f197f=_0x594cef;return globalDevs[_0x1f197f(0x301)](_0xe8da93);}function addSystemMessage(_0x5979fc){const _0x474ee2=_0x594cef,_0x159f11={'Fwxbx':'div','fzVVJ':_0x474ee2(0x320),'fjrdS':'messages'},_0x543f8a=document['createElement'](_0x159f11[_0x474ee2(0x280)]);_0x543f8a[_0x474ee2(0xa9)][_0x474ee2(0x30e)]=_0x474ee2(0x20e),_0x543f8a[_0x474ee2(0xa9)]['fontSize']=_0x474ee2(0x243),_0x543f8a[_0x474ee2(0xa9)]['color']=_0x159f11[_0x474ee2(0x1a4)],_0x543f8a[_0x474ee2(0xa9)][_0x474ee2(0xf8)]=_0x474ee2(0x162),_0x543f8a[_0x474ee2(0x2d8)]=_0x5979fc,document[_0x474ee2(0x16d)](_0x159f11[_0x474ee2(0x2df)])[_0x474ee2(0x20c)](_0x543f8a),document['getElementById'](_0x474ee2(0x1d1))[_0x474ee2(0x290)]=document[_0x474ee2(0x16d)](_0x159f11[_0x474ee2(0x2df)])[_0x474ee2(0x1e8)];}