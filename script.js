const _0x16448f=_0x9d4c;(function(_0x226f12,_0x13ad2d){const _0x4a50dc=_0x9d4c,_0x26a492=_0x226f12();while(!![]){try{const _0x23c1a9=-parseInt(_0x4a50dc(0x34e))/0x1*(parseInt(_0x4a50dc(0x472))/0x2)+parseInt(_0x4a50dc(0x2d9))/0x3*(-parseInt(_0x4a50dc(0x2fa))/0x4)+-parseInt(_0x4a50dc(0x436))/0x5+-parseInt(_0x4a50dc(0x29e))/0x6+parseInt(_0x4a50dc(0x365))/0x7+parseInt(_0x4a50dc(0x1a9))/0x8+parseInt(_0x4a50dc(0x18b))/0x9;if(_0x23c1a9===_0x13ad2d)break;else _0x26a492['push'](_0x26a492['shift']());}catch(_0x3d8a1c){_0x26a492['push'](_0x26a492['shift']());}}}(_0x3943,0xeb8be));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x16448f(0x47f),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x16448f(0x470),'storageBucket':_0x16448f(0x213),'messagingSenderId':_0x16448f(0x20d),'appId':_0x16448f(0x286),'measurementId':_0x16448f(0x42e)};firebase[_0x16448f(0x211)](firebaseConfig);const messaging=firebase[_0x16448f(0x210)](),db=firebase['database']();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x16448f(0x3a7),_0x16448f(0x1b0),_0x16448f(0x356),_0x16448f(0x3c8),'bastard','dick','cunt',_0x16448f(0x295),_0x16448f(0x281),_0x16448f(0x41c),'co√±o',_0x16448f(0x282),'gilipollas',_0x16448f(0x1b4),_0x16448f(0x2a5),_0x16448f(0x3c1),_0x16448f(0x295),'fdp','otario',_0x16448f(0x29d),'gago',_0x16448f(0x2de),'ulol',_0x16448f(0x416),'bwisit',_0x16448f(0x403)],style=document[_0x16448f(0x189)](_0x16448f(0x2a2));style['innerHTML']=_0x16448f(0x414),document[_0x16448f(0x251)][_0x16448f(0x3fc)](style);function _0x9d4c(_0x225af7,_0xadd26){const _0x3943f7=_0x3943();return _0x9d4c=function(_0x9d4c99,_0x309dd1){_0x9d4c99=_0x9d4c99-0x179;let _0x40ea23=_0x3943f7[_0x9d4c99];return _0x40ea23;},_0x9d4c(_0x225af7,_0xadd26);}const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x16448f(0x196)]()[_0x16448f(0x354)](0x24)[_0x16448f(0x46c)](0x2,0x9),lastActivity=Date[_0x16448f(0x2b9)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x16448f(0x1b1),MAX_MESSAGES=0xfa,sound=new Audio(_0x16448f(0x2b7));sound[_0x16448f(0x3e7)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x38929b=_0x16448f,_0x408200={'kroIa':function(_0x1dfb99,_0x3f1206){return _0x1dfb99+_0x3f1206;},'PpLWp':function(_0x22dc0f,_0x460ad0){return _0x22dc0f(_0x460ad0);}},_0x1a139e=_0x408200['kroIa'](_0x408200[_0x38929b(0x24a)](navigator[_0x38929b(0x42d)],screen[_0x38929b(0x35f)]),screen[_0x38929b(0x329)]),_0x4c44a1=await _0x408200[_0x38929b(0x3a3)](sha256,_0x1a139e);return'_'+_0x4c44a1[_0x38929b(0x46c)](0x0,0x14);}function sha256(_0x4b2b0a){const _0x257020=_0x16448f,_0x59bb3e={'jmAxs':'SHA-256'},_0x57f4c4=new TextEncoder()[_0x257020(0x435)](_0x4b2b0a);return crypto['subtle'][_0x257020(0x446)](_0x59bb3e[_0x257020(0x3f1)],_0x57f4c4)['then'](_0x2b4de3=>{const _0x330a12=_0x257020;return Array[_0x330a12(0x383)](new Uint8Array(_0x2b4de3))[_0x330a12(0x2ec)](_0x15f0e4=>_0x15f0e4[_0x330a12(0x354)](0x10)['padStart'](0x2,'0'))[_0x330a12(0x25d)]('');});}function toggleNotifications(){const _0x433bd4=_0x16448f,_0x50645c={'TfwjC':function(_0x4ad233,_0x4ec7bd){return _0x4ad233===_0x4ec7bd;},'bnhuI':_0x433bd4(0x261),'qazps':'üîï\x20Disable\x20Notifications','uOPyk':'granted','DZCtf':_0x433bd4(0x47a),'QIjLY':_0x433bd4(0x3dd),'PETsY':_0x433bd4(0x458)};Notification[_0x433bd4(0x1a2)]!==_0x50645c[_0x433bd4(0x285)]?Notification[_0x433bd4(0x23b)]()[_0x433bd4(0x1b7)](_0x15ebd4=>{const _0x534c5e=_0x433bd4;_0x50645c[_0x534c5e(0x30f)](_0x15ebd4,_0x534c5e(0x26b))&&(notificationsEnabled=!![],localStorage[_0x534c5e(0x341)](_0x534c5e(0x47a),_0x50645c[_0x534c5e(0x1f7)]),document['getElementById'](_0x534c5e(0x458))[_0x534c5e(0x17f)]=_0x50645c[_0x534c5e(0x406)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x433bd4(0x341)](_0x50645c['DZCtf'],notificationsEnabled?_0x50645c[_0x433bd4(0x1f7)]:_0x50645c[_0x433bd4(0x39d)]),document[_0x433bd4(0x3d2)](_0x50645c[_0x433bd4(0x3af)])[_0x433bd4(0x17f)]=notificationsEnabled?_0x50645c[_0x433bd4(0x406)]:'üîî\x20Enable\x20Notifications');}function toggleAuthMode(){const _0x1e2c01=_0x16448f,_0x35f2a2={'MCCtP':_0x1e2c01(0x3cc),'XzddE':_0x1e2c01(0x29c),'RDRFl':_0x1e2c01(0x478),'VCqQm':_0x1e2c01(0x3ad),'XfUBl':'authPasswordConfirm','mVsUb':_0x1e2c01(0x44f),'byFvE':_0x1e2c01(0x361),'DLLUw':'authError','xuXdG':'authDescription','aKpRI':_0x1e2c01(0x428)},_0x3e2d7e=_0x35f2a2['MCCtP'][_0x1e2c01(0x32f)]('|');let _0x36a6e8=0x0;while(!![]){switch(_0x3e2d7e[_0x36a6e8++]){case'0':isRegisterMode=!isRegisterMode;continue;case'1':document[_0x1e2c01(0x3d2)](_0x1e2c01(0x1a6))[_0x1e2c01(0x17f)]=isRegisterMode?_0x35f2a2[_0x1e2c01(0x402)]:_0x35f2a2[_0x1e2c01(0x223)];continue;case'2':document[_0x1e2c01(0x3d2)]('authAvatar')[_0x1e2c01(0x2a2)][_0x1e2c01(0x3b2)]=isRegisterMode?_0x35f2a2['VCqQm']:'none';continue;case'3':document[_0x1e2c01(0x3d2)](_0x35f2a2[_0x1e2c01(0x3aa)])['style'][_0x1e2c01(0x3b2)]=isRegisterMode?_0x35f2a2['VCqQm']:_0x35f2a2[_0x1e2c01(0x2b3)];continue;case'4':document['getElementById'](_0x35f2a2['byFvE'])[_0x1e2c01(0x2a2)]['display']=_0x35f2a2['mVsUb'];continue;case'5':document['getElementById'](_0x35f2a2[_0x1e2c01(0x2f2)])[_0x1e2c01(0x2a2)]['display']=_0x35f2a2[_0x1e2c01(0x2b3)];continue;case'6':document[_0x1e2c01(0x3d2)](_0x35f2a2[_0x1e2c01(0x427)])[_0x1e2c01(0x2a2)][_0x1e2c01(0x3b2)]=isRegisterMode?_0x35f2a2[_0x1e2c01(0x1dc)]:_0x35f2a2[_0x1e2c01(0x2b3)];continue;case'7':document[_0x1e2c01(0x3d2)](_0x35f2a2['aKpRI'])[_0x1e2c01(0x17f)]=isRegisterMode?_0x1e2c01(0x29c):_0x35f2a2[_0x1e2c01(0x223)];continue;}break;}}function previewAvatar(){const _0x35e037=_0x16448f,_0x114962={'VJuPe':_0x35e037(0x361),'FWNGE':_0x35e037(0x3ad),'UzoKn':_0x35e037(0x40a)},_0x3b6eeb=document[_0x35e037(0x3d2)](_0x114962[_0x35e037(0x38c)]);if(!_0x3b6eeb[_0x35e037(0x28a)][_0x35e037(0x43d)])return;const _0x35f9c6=new FileReader();_0x35f9c6[_0x35e037(0x17d)]=()=>{const _0x4df16e=_0x35e037;document[_0x4df16e(0x3d2)](_0x114962[_0x4df16e(0x3f0)])['src']=_0x35f9c6[_0x4df16e(0x247)],document[_0x4df16e(0x3d2)](_0x114962[_0x4df16e(0x3f0)])[_0x4df16e(0x2a2)][_0x4df16e(0x3b2)]=_0x114962[_0x4df16e(0x43a)];},_0x35f9c6[_0x35e037(0x3c4)](_0x3b6eeb[_0x35e037(0x28a)][0x0]);}async function submitAuth(){const _0x5d883a=_0x16448f,_0x15cd73={'UdAfb':function(_0xcf20b4,_0x350e56){return _0xcf20b4||_0x350e56;},'eVCyU':_0x5d883a(0x229),'hbkAQ':_0x5d883a(0x320),'ZXJDM':function(_0x10955e){return _0x10955e();},'WXpmK':_0x5d883a(0x188),'LKDyw':_0x5d883a(0x241),'xGOax':_0x5d883a(0x3ca),'RiTtI':'authDescription','PbXMY':'authAvatar','fsVMQ':_0x5d883a(0x2e2),'QlxcN':_0x5d883a(0x44f),'VkokN':'block','buXZk':function(_0x34b160,_0x45a77e){return _0x34b160(_0x45a77e);},'jrxSa':'Username\x20already\x20exists.','FUlio':function(_0x1714a2,_0x4ab1f5){return _0x1714a2(_0x4ab1f5);},'ElGSs':function(_0x2a8474){return _0x2a8474();},'ZzCHI':function(_0x3dea82,_0xc3d1ea){return _0x3dea82||_0xc3d1ea;},'VDYCM':_0x5d883a(0x45c),'bpGNx':_0x5d883a(0x299)},_0x3aeb87=document[_0x5d883a(0x3d2)](_0x15cd73[_0x5d883a(0x239)])[_0x5d883a(0x205)]['trim'](),_0x449381=document[_0x5d883a(0x3d2)](_0x15cd73['LKDyw'])[_0x5d883a(0x205)]['trim'](),_0x240e57=document[_0x5d883a(0x3d2)](_0x15cd73[_0x5d883a(0x292)])[_0x5d883a(0x205)][_0x5d883a(0x1dd)](),_0x222365=document[_0x5d883a(0x3d2)](_0x15cd73[_0x5d883a(0x275)])['value'][_0x5d883a(0x1dd)](),_0x1ea899=document[_0x5d883a(0x3d2)](_0x15cd73['PbXMY']),_0x3a7244=document['getElementById'](_0x15cd73[_0x5d883a(0x206)]);_0x3a7244[_0x5d883a(0x2a2)]['display']=_0x15cd73[_0x5d883a(0x31a)];if(!_0x3aeb87||!_0x449381){_0x3a7244['innerText']=_0x5d883a(0x1ef),_0x3a7244[_0x5d883a(0x2a2)][_0x5d883a(0x3b2)]=_0x15cd73[_0x5d883a(0x257)];return;}const _0x5c1bd6=_0x15cd73[_0x5d883a(0x460)](sanitizeUsername,_0x3aeb87),_0x5d249e=db[_0x5d883a(0x236)](_0x5d883a(0x3e5)+_0x5c1bd6),_0x577821=await _0x5d249e[_0x5d883a(0x3a4)]();if(isRegisterMode){if(_0x577821[_0x5d883a(0x28c)]()){_0x3a7244['innerText']=_0x15cd73[_0x5d883a(0x222)],_0x3a7244['style'][_0x5d883a(0x3b2)]=_0x5d883a(0x3ad);return;}if(_0x449381!==_0x240e57){_0x3a7244[_0x5d883a(0x17f)]=_0x5d883a(0x26f),_0x3a7244[_0x5d883a(0x2a2)][_0x5d883a(0x3b2)]=_0x15cd73[_0x5d883a(0x257)];return;}const _0x5ebb05=await _0x15cd73['FUlio'](sha256,_0x449381);window[_0x5d883a(0x2d0)]=_0x5ebb05,localStorage[_0x5d883a(0x341)](_0x15cd73[_0x5d883a(0x33f)],_0x5ebb05);const _0x1c8efd=await _0x15cd73[_0x5d883a(0x186)](generateDeviceId);if(_0x1ea899[_0x5d883a(0x28a)][_0x5d883a(0x43d)]){const _0x339751=_0x1ea899[_0x5d883a(0x28a)][0x0],_0x37475d=new FileReader();_0x37475d['onloadend']=async()=>{const _0x360f9b=_0x5d883a,_0x322b24=_0x37475d[_0x360f9b(0x247)][_0x360f9b(0x32f)](',')[0x1];await _0x5d249e[_0x360f9b(0x298)]({'username':_0x3aeb87,'passwordHash':_0x982bc5,'description':_0x15cd73[_0x360f9b(0x3bb)](_0x222365,''),'avatarBase64':_0x322b24,'role':_0x15cd73[_0x360f9b(0x20f)],'deviceId':_0x1c8efd,'usernameHistory':[_0x3aeb87],'lastChanged':Date[_0x360f9b(0x2b9)]()}),username=_0x3aeb87,userDescription=_0x222365,avatarBase64=_0x322b24,role=_0x15cd73[_0x360f9b(0x20f)];const _0x982bc5=await sha256(_0x449381);localStorage[_0x360f9b(0x341)](_0x15cd73[_0x360f9b(0x33f)],_0x982bc5),localStorage[_0x360f9b(0x341)]('2048_user',_0x3aeb87),_0x15cd73[_0x360f9b(0x291)](startAfterAuth);},_0x37475d[_0x5d883a(0x3c4)](_0x339751);}else{await _0x5d249e[_0x5d883a(0x298)]({'username':_0x3aeb87,'passwordHash':_0x433e38,'description':_0x15cd73[_0x5d883a(0x3c2)](_0x222365,''),'avatarBase64':'','role':_0x15cd73['eVCyU'],'deviceId':_0x1c8efd,'usernameHistory':[_0x3aeb87],'lastChanged':Date[_0x5d883a(0x2b9)]()}),username=_0x3aeb87,userDescription=_0x222365,avatarBase64='',role=_0x15cd73[_0x5d883a(0x20f)];const _0x433e38=await sha256(_0x449381);localStorage[_0x5d883a(0x341)](_0x15cd73[_0x5d883a(0x33f)],_0x433e38),localStorage[_0x5d883a(0x341)](_0x15cd73['VDYCM'],_0x3aeb87),startAfterAuth();}}else{if(!_0x577821['exists']()){_0x3a7244[_0x5d883a(0x17f)]=_0x15cd73[_0x5d883a(0x238)],_0x3a7244[_0x5d883a(0x2a2)][_0x5d883a(0x3b2)]=_0x15cd73['VkokN'];return;}const _0x56e99c=_0x577821[_0x5d883a(0x486)](),_0x532dae=await _0x15cd73['buXZk'](sha256,_0x449381);if(_0x532dae!==_0x56e99c[_0x5d883a(0x2d0)]){_0x3a7244['innerText']=_0x5d883a(0x418),_0x3a7244[_0x5d883a(0x2a2)][_0x5d883a(0x3b2)]=_0x15cd73[_0x5d883a(0x257)];return;}username=_0x3aeb87;if(_0x56e99c[_0x5d883a(0x38f)])userDescription=_0x56e99c[_0x5d883a(0x38f)];if(_0x56e99c['avatarBase64'])avatarBase64=_0x56e99c[_0x5d883a(0x369)];if(_0x56e99c['role'])role=_0x56e99c[_0x5d883a(0x249)];else role=_0x5d883a(0x229);const _0x2afda7=await sha256(_0x449381);localStorage['setItem']('2048_token',_0x2afda7),localStorage[_0x5d883a(0x341)](_0x5d883a(0x45c),_0x3aeb87),startAfterAuth();}}async function saveNewUser(_0x2c0abd,_0x443280,_0x2428f2,_0x5845ed,_0x2ddbbb){const _0x44b510=_0x16448f,_0x262bd7={'lDeuH':function(_0x3fd72c,_0x3cf27c){return _0x3fd72c(_0x3cf27c);},'JUvRw':_0x44b510(0x229),'unqlw':function(_0x32591b,_0x3f0650){return _0x32591b||_0x3f0650;},'uTgut':function(_0xc665c7){return _0xc665c7();}},_0x205003=db[_0x44b510(0x236)](_0x44b510(0x3e5)+_0x262bd7[_0x44b510(0x2a7)](sanitizeUsername,_0x2c0abd)),_0x1fef79={'username':_0x2c0abd,'passwordHash':_0x443280,'role':_0x262bd7[_0x44b510(0x278)],'deviceId':_0x2428f2,'description':_0x262bd7[_0x44b510(0x3ef)](_0x2ddbbb,''),'avatarBase64':_0x5845ed||'','usernameHistory':[_0x2c0abd],'lastChanged':Date[_0x44b510(0x2b9)]()};await _0x205003['set'](_0x1fef79),username=_0x2c0abd,_0x5845ed=_0x1fef79['avatarBase64'],userDescription=_0x1fef79[_0x44b510(0x38f)],_0x262bd7[_0x44b510(0x332)](startAfterAuth);}async function startAfterAuth(){const _0x48145c=_0x16448f,_0x2089e2={'DIAFk':'user','NTOQc':_0x48145c(0x1ce),'ztLIa':function(_0x134a24,_0x1a7866){return _0x134a24+_0x1a7866;},'Fzneh':'User\x20profile\x20not\x20found\x20in\x20auth\x20database.','Oszje':function(_0x43637f,_0x345e84){return _0x43637f(_0x345e84);},'bosZs':_0x48145c(0x426)},_0x2aff05=sanitizeUsername(username),_0x5dac7e=db['ref'](_0x48145c(0x3e5)+_0x2aff05),_0x59914a=await _0x5dac7e[_0x48145c(0x3a4)]();if(_0x59914a['exists']()){const _0x2e3c71=_0x59914a[_0x48145c(0x486)]();username=_0x2e3c71['username'],userDescription=_0x2e3c71['description']||'',avatarBase64=_0x2e3c71[_0x48145c(0x369)]||'',role=_0x2e3c71[_0x48145c(0x249)]||_0x2089e2[_0x48145c(0x465)];if(avatarBase64){const _0x5248a4=document[_0x48145c(0x3d2)](_0x2089e2[_0x48145c(0x2df)]);_0x5248a4[_0x48145c(0x457)]=_0x2089e2[_0x48145c(0x1c4)](_0x48145c(0x30e),avatarBase64),_0x5248a4['style']['display']=_0x48145c(0x3ad);}}else console[_0x48145c(0x3df)](_0x2089e2[_0x48145c(0x248)]);await loadRoomRoles(),_0x2089e2[_0x48145c(0x3fd)](showScreen,_0x2089e2[_0x48145c(0x17e)]),history['replaceState']({'screen':_0x2089e2[_0x48145c(0x17e)]},'');}function toggleRecording(){const _0x524039=_0x16448f,_0x49fa74={'Ctojw':function(_0x118907,_0x63024f){return _0x118907(_0x63024f);},'mMRVo':function(_0x27cb79){return _0x27cb79();},'dZITW':'recordBtn','YKZpx':function(_0x4d51ed,_0xd667f1,_0x1723fa){return _0x4d51ed(_0xd667f1,_0x1723fa);},'MtoXi':_0x524039(0x44c)};isRecording?stopRecording():navigator[_0x524039(0x2dc)][_0x524039(0x375)]({'audio':!![]})[_0x524039(0x1b7)](_0xfbefe2=>{const _0x52d1d2=_0x524039;mediaRecorder=new MediaRecorder(_0xfbefe2),mediaRecorder['start'](),isRecording=!![],document[_0x52d1d2(0x3d2)](_0x49fa74[_0x52d1d2(0x321)])[_0x52d1d2(0x17f)]='‚èπÔ∏è',audioChunks=[],mediaRecorder['ondataavailable']=_0x53ddac=>audioChunks[_0x52d1d2(0x367)](_0x53ddac[_0x52d1d2(0x290)]),mediaRecorder[_0x52d1d2(0x24c)]=()=>{const _0x51b3d7=_0x52d1d2;_0x49fa74[_0x51b3d7(0x21f)](clearTimeout,recordingTimer);const _0x36b472=new Blob(audioChunks,{'type':_0x51b3d7(0x19d)}),_0x38a91e=new FileReader();_0x38a91e['onloadend']=()=>{const _0x39a038=_0x51b3d7,_0x229b38=_0x38a91e[_0x39a038(0x247)][_0x39a038(0x32f)](',')[0x1],_0x212c3e=db['ref']()[_0x39a038(0x367)]()[_0x39a038(0x331)];db['ref']('rooms/'+roomCode+_0x39a038(0x47c)+_0x212c3e)[_0x39a038(0x298)]({'msg':_0x39a038(0x2e4),'audioBase64':_0x229b38,'sender':username,'senderId':clientId,'timestamp':Date[_0x39a038(0x2b9)]()});},_0x38a91e[_0x51b3d7(0x3c4)](_0x36b472);},recordingTimer=_0x49fa74[_0x52d1d2(0x2f7)](setTimeout,()=>{const _0x1bee7a=_0x52d1d2;mediaRecorder&&isRecording&&_0x49fa74[_0x1bee7a(0x349)](stopRecording);},0x4e20);})[_0x524039(0x2e6)](_0x333c8b=>{const _0x5c4e16=_0x524039;_0x49fa74[_0x5c4e16(0x21f)](alert,_0x49fa74[_0x5c4e16(0x47e)]);});}function stopRecording(){const _0x471f95=_0x16448f,_0x341b0b={'HYuwW':function(_0x139c0f,_0x55fab3){return _0x139c0f&&_0x55fab3;},'KCUfQ':_0x471f95(0x263)};_0x341b0b[_0x471f95(0x267)](mediaRecorder,isRecording)&&(mediaRecorder[_0x471f95(0x355)](),isRecording=![],document[_0x471f95(0x3d2)](_0x341b0b[_0x471f95(0x224)])[_0x471f95(0x17f)]=_0x471f95(0x342));}window[_0x16448f(0x37a)]=async()=>{const _0x21b4ba=_0x16448f,_0x5e6b87={'qIlrE':function(_0x2fac9f){return _0x2fac9f();},'nxCED':function(_0x5b2ca5){return _0x5b2ca5();},'CWKjH':function(_0x37671a){return _0x37671a();},'dcdCj':'notifications_enabled','WeTfG':_0x21b4ba(0x261),'TeKav':function(_0x1ad7ef,_0x396e65){return _0x1ad7ef(_0x396e65);}};_0x5e6b87[_0x21b4ba(0x479)](cleanupOldRooms),_0x5e6b87['qIlrE'](setupSidebarBackHandler),_0x5e6b87[_0x21b4ba(0x3a8)](setupVisibilityAttention),_0x5e6b87['CWKjH'](resetWebsiteData);const _0x484683=localStorage[_0x21b4ba(0x409)](_0x5e6b87['dcdCj']);notificationsEnabled=_0x484683===_0x5e6b87[_0x21b4ba(0x443)],_0x5e6b87[_0x21b4ba(0x2e8)](showScreen,'authScreen');},window[_0x16448f(0x32d)](_0x16448f(0x3b0),_0x2d02e5=>{const _0x522088=_0x16448f,_0x2ea0f1={'ywkAc':function(_0x5f1122,_0xfc56bf){return _0x5f1122===_0xfc56bf;},'KHhTJ':_0x522088(0x32a),'WLqxb':function(_0x35c550,_0x46a1ab){return _0x35c550(_0x46a1ab);},'krcmN':_0x522088(0x42c),'pBvkt':function(_0x52087c,_0xb79fe3){return _0x52087c(_0xb79fe3);}},_0x169529=_0x2d02e5['state']?.[_0x522088(0x194)];if(!_0x169529||_0x2ea0f1[_0x522088(0x1d6)](_0x169529,_0x2ea0f1[_0x522088(0x400)])){_0x2ea0f1['WLqxb'](alert,_0x2ea0f1['krcmN']),history[_0x522088(0x38e)]({'screen':currentScreen},'');return;}_0x2ea0f1[_0x522088(0x200)](showScreen,_0x169529);});function sanitizeUsername(_0x5583ca){const _0x31c268=_0x16448f;return _0x5583ca[_0x31c268(0x271)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5016d0=_0x16448f,_0x58545f={'xSNPJ':_0x5016d0(0x2a1),'wynYl':_0x5016d0(0x36b),'cDRxn':_0x5016d0(0x35b),'rdpAI':function(_0x39c395,_0x4be328){return _0x39c395(_0x4be328);},'thGEF':_0x5016d0(0x426),'GTohA':_0x5016d0(0x351),'WDnME':_0x5016d0(0x1c3),'uOoyw':'‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','BCZUv':_0x5016d0(0x29b),'wfbtt':_0x5016d0(0x431),'ZIYhV':function(_0x3145a1,_0x256f9f){return _0x3145a1||_0x256f9f;}},_0x3112ba=document[_0x5016d0(0x3d2)](_0x5016d0(0x3ba))['value'][_0x5016d0(0x1dd)](),_0x5e6917=document[_0x5016d0(0x3d2)](_0x58545f['BCZUv'])[_0x5016d0(0x205)][_0x5016d0(0x1dd)](),_0x3ef40b=document[_0x5016d0(0x3d2)](_0x58545f['wfbtt']);if(_0x58545f[_0x5016d0(0x410)](!_0x3112ba,!_0x5e6917)){_0x3ef40b[_0x5016d0(0x17f)]=_0x5016d0(0x256),_0x3ef40b[_0x5016d0(0x2a2)][_0x5016d0(0x3b2)]=_0x5016d0(0x3ad);return;}const _0x5ef5a2=_0x58545f[_0x5016d0(0x30d)](sanitizeUsername,_0x3112ba),_0x5df235=db[_0x5016d0(0x236)](_0x5016d0(0x187)+_0x5ef5a2);_0x5df235['once']('value')[_0x5016d0(0x1b7)](_0x3e8125=>{const _0x452750=_0x5016d0,_0x335b1a={'FaGpB':_0x58545f['xSNPJ'],'BZIFi':_0x452750(0x3ad),'QhMBU':_0x58545f[_0x452750(0x385)],'DoXgp':_0x58545f['cDRxn'],'bcUwu':function(_0xa3889d,_0x4bbc98){const _0x441fb2=_0x452750;return _0x58545f[_0x441fb2(0x30d)](_0xa3889d,_0x4bbc98);},'AcWvZ':_0x58545f['thGEF']};if(_0x3e8125['exists']())_0x3ef40b[_0x452750(0x17f)]=_0x58545f['GTohA'],_0x3ef40b[_0x452750(0x2a2)][_0x452750(0x3b2)]=_0x452750(0x3ad);else{const _0x1d3877={'username':_0x3112ba,'description':_0x5e6917,'lastChanged':Date['now'](),'usernameHistory':[_0x3112ba]};_0x5df235[_0x452750(0x298)](_0x1d3877,_0x4db713=>{const _0xd85ddb=_0x452750;_0x4db713?(console[_0xd85ddb(0x43f)](_0xd85ddb(0x451),_0x4db713),_0x3ef40b[_0xd85ddb(0x17f)]=_0x335b1a[_0xd85ddb(0x337)],_0x3ef40b['style'][_0xd85ddb(0x3b2)]=_0x335b1a[_0xd85ddb(0x2c7)]):(localStorage['setItem'](_0x335b1a['QhMBU'],_0x3112ba),localStorage[_0xd85ddb(0x341)](_0x335b1a[_0xd85ddb(0x33e)],_0x5e6917),username=_0x3112ba,_0x335b1a['bcUwu'](showScreen,_0x335b1a['AcWvZ']),history[_0xd85ddb(0x27a)]({'screen':_0x335b1a[_0xd85ddb(0x1d9)]},''));});}})[_0x5016d0(0x2e6)](_0x367e87=>{const _0x57379c=_0x5016d0;console['error'](_0x58545f[_0x57379c(0x273)],_0x367e87),_0x3ef40b['innerText']=_0x58545f[_0x57379c(0x3be)],_0x3ef40b[_0x57379c(0x2a2)][_0x57379c(0x3b2)]='block';});}function saveProfile(_0xb3ba97,_0x2b77f5,_0x331eb3){const _0x5bcd97=_0x16448f,_0x442ee3={'qoHRS':_0x5bcd97(0x426)},_0x58a345=Date['now'](),_0x7a8eb8=[_0xb3ba97];db[_0x5bcd97(0x236)](_0x5bcd97(0x187)+_0x331eb3)['set']({'username':_0xb3ba97,'description':_0x2b77f5,'lastChanged':_0x58a345,'usernameHistory':_0x7a8eb8}),showScreen(_0x442ee3['qoHRS']),_0x7a8eb8['replaceState']({'screen':_0x442ee3[_0x5bcd97(0x476)]},'');}function _0x3943(){const _0x2bceee=['qazps','TIMESTAMP','left','getItem','authAvatar','GOJVS','antispam/','cXWON','aWJeI','dUFzV','ZIYhV','UKnyN','\x20promoted\x20to\x20Moderator!','boxShadow','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','\x0aLast\x20Changed:\x20','bobo','Please\x20enter\x20your\x20current\x20password.','Incorrect\x20password.','innerHTML','FwxOK','eIbyv','pendejo','some','\x20was\x20muted\x20for\x20','VYZHf','You\x20got\x20a\x20message\x20from\x20','sort','toLocaleTimeString','Remove\x20Announcement?','XcZEv','IZaAP','mainApp','xuXdG','authSubmitBtn','No\x20bio\x20set','hSwOX','slice','üö´\x20Can\x27t\x20return\x20to\x20login\x20screen.','userAgent','G-QDESJ2WR42','match','RoUaz','profileError','üí¨\x20','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','AQUyA','encode','450630IirvsQ','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','profileViewer','<button\x20onclick=\x22promoteToAdmin(\x27','FWNGE','cTfdt','\x27)\x22>Delete\x20Messages</button>','length','ZGynz','error','</div>','/paused','/messages','WeTfG','\x20promoted\x20to\x20Admin!','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','digest','active','RxxBX','yQWTM','\x27)\x22>+Mod</button>','GVJIy','Microphone\x20permission\x20denied.','lzFLy','DALSJ','none','top','Failed\x20to\x20save\x20profile:','DdzRm','click','usernameScreen','FiLAi','onlineStatus','src','notifToggleBtn','flex','rFwcy','gbzBN','2048_user','Profile\x20not\x20found.','chatScreen','FSbkp','buXZk','messages','18px','dev','wOodx','DIAFk','0px','Missing\x20room\x20or\x20user\x20information.','JtXio','userSidebar','\x20demoted\x20to\x20user.','ZPrrd','substr','contains','tzABQ','UTSlA','easy-chatroom','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','862kgtCdQ','Incorrect\x20current\x20password.','FSMMH','border','qoHRS','DshNE','Login','qIlrE','notifications_enabled','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','/messages/','nCgOj','MtoXi','easy-chatroom.firebaseapp.com','floor','uUnjF','ieIcP','sNmtd','EHJwT','aFRrH','val','repeat(auto-fill,\x20minmax(32px,\x201fr))','PXqUb','play','toLowerCase','onloadend','bosZs','innerText','DhYyA','lastChanged','cGrCw','‚ùå\x20Image\x20must\x20be\x20under\x202MB','NEPKC','CHVtP','ElGSs','profiles/','authUsername','createElement','show','31336398yxTpnn','YFZNS','\x20minutes.','WbVgd','aoFxQ','position','sLmOX','SdlEF','UodIC','screen','object','random','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','mcfwY','zxiCI','ZbDFx','add','audio/webm','usernameHistory','sidebarOpen','No\x20changes\x20yet','onclick','permission','bjgVS','oaWgY','ZdXbM','authTitle','back','SIyCz','3302336ESECKx','4px','clear','UgHDl','<button\x20onclick=\x22muteUser(\x27','nywYC','wNUCv','shit','050BBB66HH','disabled','ncEBU','porra','scrollTop','padding','then','RcoFF','EVxGv','KlPyI','ouzYc','ZQXem','BvSsO','mZTkm','FVXUz','sHMkm','moderators/','muteUntil','Error\x20checking\x20username:','ztLIa','TjnwA','‚ùå\x20You\x20must\x20be\x20logged\x20in.','database','ypmkY','WJSgv','ojvPj','KaxZE','FisHm','XUOkj','sidebarAvatarPreview','minWidth','vogAJ','sivtZ','oAsuO','KLNdD','placeholder','10px','ywkAc','\x20was\x20promoted\x20to\x20Admin','ygALc','AcWvZ','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','filter','VCqQm','trim','dNjmB','XOauu','xkooo','\x27)\x22>','‚óè\x20Online','mRNuH','kvNGo','Drwyv','Room\x20password\x20not\x20set.\x20Cannot\x20join.','VDBLa','orhNh','mouseleave','color','Incorrect\x20password','ZCMmu','jPKKv','muted/','Please\x20fill\x20in\x20all\x20fields.','nXhfE','title','6px\x20auto','pointer','<button\x20onclick=\x22deleteUserMessages(\x27','mUqUe','\x27)\x22>Promote\x20to\x20Moderator</button>','bnhuI','0|2|1|3|4|5','concat','Room\x20is\x20currently\x20paused.','BYpPa','UygNt','NaBbQ','equalTo','cursor','pBvkt','nEQEE','\x20is\x20typing...','\x20üîß\x20','Evuiy','value','fsVMQ','XZdpm','adTRu','oypPz','GeRFl','uUghY','zeBcZ','985049198428','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','eVCyU','messaging','initializeApp','MQlUf','easy-chatroom.firebasestorage.app','stopPropagation','GLARA','UHZYd','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','EtVmT','roomStates/','rZIYc','MTTnz','EFNFp','DOMContentLoaded','</button>','Ctojw','jjgAz','gr8stg/','jrxSa','RDRFl','KCUfQ','TqGzy','RTnAo','rooms/','WyqqQ','user','querySelector','WJtVd','MhVTJ','margin','fontSize','tFAEF','timestamp','addAnnouncementBtn','MXyAZ','EUzjn','tLSbY','wWNsG','ref','msgInput','bpGNx','WXpmK','deleteMessage','requestPermission','UQJys','system','\x27)\x22>Promote\x20to\x20Admin</button>','textAlign','announcementArea','authPassword','msg','eDtZK','cFbbZ','<button\x20onclick=\x22promoteToModerator(\x27','antispamBlocked','result','Fzneh','role','kroIa','No\x20room\x20code\x20available\x20for\x20private\x20rooms','onstop','once','Messages\x20by\x20','xJXzx','ryuaR','head','aqjSa','vtHiF','HAHrN','mYqpi','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','VkokN','profileScreen','\x20in\x20room\x20','<audio\x20controls\x20src=\x22','CmTUl','GmWZE','join','VBKga','href','passwordError','true','SGfWa','recordBtn','RnHyX','<small>','<img\x20src=\x22data:image/png;base64,','HYuwW','size','FhIez','mHMyu','granted','\x20is\x20online','namePreview','tFmiU','Passwords\x20do\x20not\x20match.','mENPP','replace','userOptions-','WDnME','remove','RiTtI','userDisplay','online','JUvRw','‚ö†Ô∏è\x20No\x20spamming\x20allowed.','replaceState','removeItem','gAlSY','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','iOyio','bGvMm','qDzXn','mierda','cabron','<div>','moQmD','uOPyk','1:985049198428:web:d0eb7e2de39887710c9b99','marginTop','SJiwN','grid','files','admins/','exists','oSXSD','bnhUm','GvxhO','data','ZXJDM','xGOax','Jamhy','aKHLb','puta','UEooy','relative','set','Account\x20not\x20found.','NLVXM','profileDescriptionInput','Register','putangina','11338914SAAUct','mLGNU','pxnse','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','style','\x27)\x22>Demote</button>','Xheul','caralho','sender','lDeuH','bDxUz','fBVQH','pGbGY','state','child_removed','inline-block','Wejxy','pausedOverlay','borderRadius','moderator','2-digit','mVsUb','ODpqI','<button>','VLkoS','sounds/beep.mp3','cPMHa','now','imamW','axgud','admin','6px','BRwaR','kvjXG','UqxTX','hWUsL','DDTNr','0123456789','rQxLc','PHNCu','kDBzI','BZIFi','\x20deleted.','GNFtb','isArray','IbdLV','ZiBQT','HUJta','pcqNE','XzfZS','passwordHash','‚õî\x20You\x20are\x20muted.','typing/','#222','PLFXl','gEQlp','Type\x20a\x20message...','fzMOb','Delete\x20this\x20message?','348rketTm','32px','\x27,\x2010)\x22>Mute\x2010m</button>','mediaDevices','hYPce','tangina','NTOQc','XyeND','detail','authError','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','[Voice\x20message]','RecEH','catch','reaction-box','TeKav','child_changed','MCblb','DXYMv','map','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','cpGHp','dBaWL','uFijh','iWFcw','DLLUw','newPasswordInput','lgcdI','utiye','https://2048.webuserent.org?token=','YKZpx','classList','hjKKf','26628AiVYFr','normal','EsNvu','160px','\x0aDescription:\x20','TtBBM','TRjiV','qAgrr','\x20muted\x20for\x20','ddngE','DBGkn','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','#00ff88','ZMLFd','Enter\x20your\x20new\x20username:','‚úÖ\x20Profile\x20picture\x20updated!','ZyKka','<a\x20href=\x22','gtlcu','rdpAI','data:image/png;base64,','TfwjC','KkKvP','RwBJO','</li>','VBKWK','VTFVo','1|0|4|5|2|3','UkqkA','audioBase64','textContent','sent','QlxcN','FBCxg','reaction-tray','all','üïí\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','</span>','2048_token','dZITW','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','aCFBd','rJXik','PaJyc','zUoNC','IgSLP','SHhye','height','authScreen','120px','gap','addEventListener','zkGbz','split','UtAbx','key','uTgut','location','yrkae','ETkTh','aazVW','FaGpB','WjBem','BuvLA','child_added','rOZuF','AqvpU','cypfe','DoXgp','hbkAQ','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','setItem','üéôÔ∏è','HqNZQ','entries','0\x202px\x206px\x20rgba(0,0,0,0.5)','OUfnQ','[data-msg-id=\x22','pKKps','mMRVo','Remove\x20this\x20announcement?','forEach','auth','LrCWl','2103fzusWO','dataset','\x27)\x22>+Admin</button>','‚ùå\x20Username\x20already\x20taken.','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','pnlYU','toString','stop','bitch','AboxD','imageBase64','nVwUW','roomChoiceScreen','profile_description','editProfileScreen','ojYfQ','whIws','width','ASdKY','authAvatarPreview','mod','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','Unknown','5101138PZPYST','UNFcl','push','2px\x20solid\x20red','avatarBase64','EoGbA','chat_username','codeEntryScreen','\x20was\x20promoted\x20to\x20Moderator','gJEcE','<span\x20style=\x22margin-right:6px;\x22>','txcQY','ytuPJ','20px','users/','msgId','getUserMedia','DZiWu','LvSZD','background','THnCf','onload','cuDOW','text','WWCJf','MjFuB','lUNwY','\x27,\x205)\x22>Mute\x205m</button>','wkKqF','ycQcx','from','üö´\x20Cannot\x20promote\x20Developers.','wynYl','Session\x20expired.','roomDisplay','qVaYP','QSAyt','values','yiUOl','UzoKn','className','pushState','description','RwxRj','adminControlsSection','ABCDEFGHIJKLMNOPQRSTUVWXYZ','roomCodeInput','VeqxS','bbkCx','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','toLocaleString','touchend','fhKza','[Image]','justifyContent','</span>\x20','QIjLY','You\x20got\x20messages\x20from\x20','children','NvIox','LXpoF','ezxKF','PpLWp','get','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','eVrlc','fuck','nxCED','dveNF','XfUBl','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','nBTFv','block','includes','PETsY','popstate','vUQAJ','display','touchstart','[Unknown]','PupsM','/reactions','\x20was\x20demoted','nMjtb','pop','profileUsernameInput','UdAfb','oCZLE','yiUZl','uOoyw','Mgoqc','BdgTY','merda','ZzCHI','aXcaU','readAsDataURL','ZCHXT','EoJnt','QFwlG','asshole','0.8rem','authPasswordConfirm','TWMLQ','0|1|3|6|2|4|7|5','MyiXv','bEwhf','gGIrB','AvfSj','unknown','getElementById','ServerValue','jbaEG','\x0aUsername\x20History:\x20','XsdxA','keys','YqbEv','VUNda','KUafk','created','gewTn','false','RHuKp','warn','XSoGg','SCcJx','FbsoP','hQUEi','absolute','auth/','update','volume','JByDA','RVIDZ','username','lfDQa','orderByChild','-45px','<img\x20src=\x22','unqlw','VJuPe','jmAxs','KWruF','ioyPX','flagPageAttention','aadZh','tmAEu','staticPasswordInput','<br>','/announcement','VYFQV','center','appendChild','Oszje','grAfs','#aaa','KHhTJ','sRUHB','XzddE','putang\x20ina','typing','hDrLw'];_0x3943=function(){return _0x2bceee;};return _0x3943();}function generateRoom(){const _0x11c2c7=_0x16448f,_0x4e889c={'aWJeI':function(_0x5c5208){return _0x5c5208();},'IgSLP':'rooms/'};roomCode=_0x4e889c[_0x11c2c7(0x40e)](genRoomCode),db['ref'](_0x4e889c[_0x11c2c7(0x327)]+roomCode)[_0x11c2c7(0x298)]({'active':!![],'created':Date[_0x11c2c7(0x2b9)]()}),_0x4e889c[_0x11c2c7(0x40e)](startChat);}function joinRoom(){const _0x38fe96=_0x16448f,_0x1f1e37={'pGbGY':function(_0x2ff175,_0x557353){return _0x2ff175!==_0x557353;},'jjgAz':function(_0x109089,_0x597554){return _0x109089(_0x597554);},'pcqNE':_0x38fe96(0x340),'anEYb':function(_0x529221,_0x4defbb){return _0x529221(_0x4defbb);},'EVxGv':'Enter\x20a\x20valid\x20room\x20code','clQts':function(_0x5cd4b2,_0x388ff3){return _0x5cd4b2===_0x388ff3;},'TjnwA':function(_0x4b1a5e,_0x5b6eb3){return _0x4b1a5e+_0x5b6eb3;},'bGvMm':_0x38fe96(0x227)},_0x37563a=roomCode||document[_0x38fe96(0x3d2)](_0x38fe96(0x393))[_0x38fe96(0x205)][_0x38fe96(0x1dd)]()['toUpperCase']();if(!_0x37563a)return _0x1f1e37['anEYb'](alert,_0x1f1e37[_0x38fe96(0x1b9)]);roomCode=_0x37563a;if(_0x1f1e37['clQts'](roomCode,STATIC_ROOM)){_0x1f1e37[_0x38fe96(0x220)](showScreen,'passwordScreen');return;}db[_0x38fe96(0x236)](_0x1f1e37[_0x38fe96(0x1c5)](_0x1f1e37[_0x38fe96(0x27f)],roomCode))[_0x38fe96(0x3a4)]()[_0x38fe96(0x1b7)](_0x44b110=>{const _0x4a690a=_0x38fe96;_0x44b110['exists']()&&_0x1f1e37[_0x4a690a(0x2aa)](_0x44b110[_0x4a690a(0x486)]()[_0x4a690a(0x447)],![])?startChat():_0x1f1e37[_0x4a690a(0x220)](alert,_0x1f1e37[_0x4a690a(0x2ce)]);});}async function startChat(){const _0x29ff02=_0x16448f,_0x5bc65c={'RxxBX':_0x29ff02(0x240),'xkooo':_0x29ff02(0x2bc),'vUQAJ':function(_0x1396cd,_0x1fbfd0){return _0x1396cd===_0x1fbfd0;},'qAgrr':_0x29ff02(0x463),'RwBJO':function(_0x445d43,_0x90e2b2){return _0x445d43(_0x90e2b2);},'ouzYc':function(_0x48b3fc){return _0x48b3fc();},'GNFtb':_0x29ff02(0x426),'XsdxA':function(_0x5cbb1c,_0x14cf8f){return _0x5cbb1c+_0x14cf8f;},'QbJtF':_0x29ff02(0x30e),'TtBBM':_0x29ff02(0x3ad),'kvjXG':_0x29ff02(0x387),'ZdXbM':_0x29ff02(0x24b),'WyqqQ':'system','JBiId':'chatScreen','WOScp':function(_0x1035da){return _0x1035da();},'zxiCI':function(_0x22bc5d){return _0x22bc5d();},'CHVtP':function(_0x1c0e82){return _0x1c0e82();},'WWCJf':_0x29ff02(0x34c),'NaBbQ':_0x29ff02(0x2e9),'WjBem':_0x29ff02(0x33a),'NvIox':function(_0x23f4f3,_0x4a6d25){return _0x23f4f3||_0x4a6d25;},'MyiXv':function(_0xe07934,_0x35a39a){return _0xe07934(_0x35a39a);},'dCWuA':_0x29ff02(0x467),'nEQEE':function(_0x3570aa){return _0x3570aa();},'LXpoF':function(_0x11539c){return _0x11539c();},'UknAZ':function(_0x2f3fc9,_0x1dbd01){return _0x2f3fc9(_0x1dbd01);}};if(_0x5bc65c[_0x29ff02(0x3a0)](!roomCode,!username))return _0x5bc65c[_0x29ff02(0x3cd)](alert,_0x5bc65c['dCWuA']),_0x5bc65c[_0x29ff02(0x3cd)](showScreen,'mainApp')&&history[_0x29ff02(0x27a)]({'screen':_0x29ff02(0x426)},'');_0x5bc65c[_0x29ff02(0x201)](listenForPauseState),listenForUserList(),await _0x5bc65c[_0x29ff02(0x3a1)](loadRoomRoles),_0x5bc65c[_0x29ff02(0x19a)](listenForAnnouncement);const _0x5c4a39=_0x5bc65c['UknAZ'](sanitizeUsername,username),_0x1bc638=db[_0x29ff02(0x236)](_0x29ff02(0x373)+roomCode+'/'+_0x5c4a39),_0x4ce980={'username':username,'online':!![],'lastOnline':firebase[_0x29ff02(0x1c7)][_0x29ff02(0x3d3)][_0x29ff02(0x407)]};_0x1bc638[_0x29ff02(0x298)](_0x4ce980,_0x1c239c=>{const _0x1e695e=_0x29ff02,_0x5a00f6={'KWruF':_0x5bc65c['RxxBX'],'RHuKp':function(_0x47eaf2,_0x24d475){return _0x47eaf2===_0x24d475;},'RVIDZ':_0x5bc65c[_0x1e695e(0x1e0)],'PUSyI':function(_0x3e82bc,_0x1daee9){const _0x4a4666=_0x1e695e;return _0x5bc65c[_0x4a4666(0x3b1)](_0x3e82bc,_0x1daee9);},'Jluid':_0x5bc65c[_0x1e695e(0x301)],'eDtZK':function(_0x1b7184,_0x5a9786){const _0x3162f7=_0x1e695e;return _0x5bc65c[_0x3162f7(0x311)](_0x1b7184,_0x5a9786);},'tmAEu':_0x1e695e(0x34a),'wkKqF':function(_0x219bbc,_0x2a7338){return _0x219bbc(_0x2a7338);},'grAfs':function(_0x3b3257){const _0x41cfb1=_0x1e695e;return _0x5bc65c[_0x41cfb1(0x1bb)](_0x3b3257);}};if(_0x1c239c)return _0x5bc65c[_0x1e695e(0x311)](alert,'Failed\x20to\x20register\x20user\x20into\x20room.'),showScreen(_0x5bc65c[_0x1e695e(0x2c9)])&&history[_0x1e695e(0x27a)]({'screen':_0x5bc65c[_0x1e695e(0x2c9)]},'');const _0x3e547a=document[_0x1e695e(0x3d2)](_0x1e695e(0x1ce));avatarBase64&&(_0x3e547a[_0x1e695e(0x457)]=_0x5bc65c[_0x1e695e(0x3d6)](_0x5bc65c['QbJtF'],avatarBase64),_0x3e547a[_0x1e695e(0x2a2)]['display']=_0x5bc65c[_0x1e695e(0x2ff)]);document[_0x1e695e(0x3d2)](_0x1e695e(0x276))[_0x1e695e(0x419)]=username+'\x20'+_0x5bc65c[_0x1e695e(0x311)](getRoleTag,_0x5c4a39),document[_0x1e695e(0x3d2)](_0x5bc65c[_0x1e695e(0x2bf)])['innerText']=roomCode===STATIC_ROOM?_0x5bc65c[_0x1e695e(0x1a5)]:roomCode,updateAnnouncementVisibility();const _0x5c4de9=db[_0x1e695e(0x236)]()[_0x1e695e(0x367)]()['key'];db[_0x1e695e(0x236)]('rooms/'+roomCode+_0x1e695e(0x47c)+_0x5c4de9)[_0x1e695e(0x298)]({'msg':username+_0x1e695e(0x26c),'sender':_0x5bc65c[_0x1e695e(0x228)],'senderId':_0x5bc65c[_0x1e695e(0x228)],'timestamp':Date[_0x1e695e(0x2b9)]()}),_0x5bc65c[_0x1e695e(0x311)](showScreen,_0x5bc65c['JBiId']),document[_0x1e695e(0x3d2)](_0x5bc65c[_0x1e695e(0x448)])[_0x1e695e(0x32d)](_0x1e695e(0x453),_0x1beca8=>{const _0x26710d=_0x1e695e,_0x1ec9be={'pvJMF':_0x5a00f6[_0x26710d(0x3f2)]};_0x5a00f6[_0x26710d(0x3de)](_0x1beca8[_0x26710d(0x2e1)],0x3)&&(_0x5a00f6[_0x26710d(0x3de)](role,_0x5a00f6[_0x26710d(0x3e9)])||_0x5a00f6['PUSyI'](role,_0x5a00f6['Jluid']))&&(_0x5a00f6[_0x26710d(0x243)](confirm,_0x5a00f6[_0x26710d(0x3f6)])&&db[_0x26710d(0x236)]('rooms/'+roomCode+_0x26710d(0x3f9))[_0x26710d(0x274)]()[_0x26710d(0x1b7)](()=>{const _0xe73dc5=_0x26710d;document[_0xe73dc5(0x3d2)](_0x1ec9be['pvJMF'])[_0xe73dc5(0x17f)]='';}));}),_0x5bc65c[_0x1e695e(0x1bb)](listenForMessages),listenForTyping(),_0x5bc65c['WOScp'](startInactivityTimer),trackPresence(),_0x5bc65c[_0x1e695e(0x19a)](watchProfileChanges),watchMuteStatus(),_0x5bc65c[_0x1e695e(0x185)](startSidebarSyncLoop);const _0x4b05a2=()=>{const _0x354cd0=_0x1e695e;loadRoomRoles()[_0x354cd0(0x1b7)](()=>{const _0x567e8f=_0x354cd0;_0x5a00f6[_0x567e8f(0x381)](renderUserLists,roomUsers),_0x5a00f6[_0x567e8f(0x3fe)](updateAnnouncementVisibility);});};db[_0x1e695e(0x236)](_0x5bc65c[_0x1e695e(0x37d)])['on'](_0x5bc65c[_0x1e695e(0x1fd)],_0x4b05a2),db[_0x1e695e(0x236)](_0x5bc65c['WWCJf'])['on'](_0x5bc65c[_0x1e695e(0x338)],_0x4b05a2);});}function updateAnnouncementVisibility(){const _0x487586=_0x16448f,_0x3a11a6={'XcZEv':_0x487586(0x231),'DshNE':function(_0x536075,_0x30a67c){return _0x536075===_0x30a67c;},'MjFuB':_0x487586(0x463),'VeqxS':_0x487586(0x3ad)},_0xd87c46=document[_0x487586(0x3d2)](_0x3a11a6[_0x487586(0x424)]);_0x3a11a6['DshNE'](role,_0x487586(0x2bc))||_0x3a11a6[_0x487586(0x477)](role,_0x3a11a6[_0x487586(0x37e)])?_0xd87c46[_0x487586(0x2a2)][_0x487586(0x3b2)]=_0x3a11a6[_0x487586(0x394)]:_0xd87c46[_0x487586(0x2a2)][_0x487586(0x3b2)]=_0x487586(0x44f);}function watchProfileChanges(){const _0x22eed7=_0x16448f,_0x3ab017={'QFwlG':'user','bnhUm':_0x22eed7(0x1ce),'LdtFX':function(_0x59198a,_0x11fef1){return _0x59198a+_0x11fef1;},'fhKza':_0x22eed7(0x30e),'moQmD':_0x22eed7(0x3ad),'acObL':'value'},_0x1ece03=sanitizeUsername(username);db[_0x22eed7(0x236)](_0x22eed7(0x3e5)+_0x1ece03)['on'](_0x3ab017['acObL'],_0x3efd25=>{const _0x50a732=_0x22eed7;if(!_0x3efd25[_0x50a732(0x28c)]())return;const _0x5e37c0=_0x3efd25['val']();userDescription=_0x5e37c0[_0x50a732(0x38f)]||'',avatarBase64=_0x5e37c0[_0x50a732(0x369)]||'',role=_0x5e37c0[_0x50a732(0x249)]||_0x3ab017[_0x50a732(0x3c7)];if(avatarBase64){const _0x24b413=document['getElementById'](_0x3ab017[_0x50a732(0x28e)]);!_0x24b413[_0x50a732(0x457)][_0x50a732(0x3ae)](avatarBase64)&&(_0x24b413[_0x50a732(0x457)]=_0x3ab017['LdtFX'](_0x3ab017[_0x50a732(0x399)],avatarBase64),_0x24b413[_0x50a732(0x2a2)]['display']=_0x3ab017[_0x50a732(0x284)]);}renderUserLists(roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x1d0467){const _0x428f0b=_0x16448f,_0x4cd769={'VBKga':function(_0x178ed1,_0x5e1c7e){return _0x178ed1-_0x5e1c7e;},'cGrCw':function(_0x53296d,_0x5a997b){return _0x53296d(_0x5a997b);},'CmTUl':_0x428f0b(0x31e),'ytuPJ':function(_0x7a23db,_0x3772db){return _0x7a23db>_0x3772db;},'PLFXl':function(_0xb04246,_0xc47d9c){return _0xb04246*_0xc47d9c;}},_0x481961=Date['now']();if(_0x4cd769[_0x428f0b(0x25e)](_0x481961,lastImageTime)<0x2710){_0x4cd769[_0x428f0b(0x182)](alert,_0x4cd769[_0x428f0b(0x25b)]);return;}lastImageTime=_0x481961;const _0x303b8a=_0x1d0467[_0x428f0b(0x28a)][0x0];if(!_0x303b8a||_0x4cd769[_0x428f0b(0x371)](_0x303b8a[_0x428f0b(0x268)],_0x4cd769[_0x428f0b(0x2d4)](_0x4cd769[_0x428f0b(0x2d4)](0x2,0x400),0x400))){_0x4cd769['cGrCw'](alert,_0x428f0b(0x183));return;}const _0xebac38=new FileReader();_0xebac38['onloadend']=()=>{const _0x4503d0=_0x428f0b,_0xaac3f0=_0xebac38[_0x4503d0(0x247)][_0x4503d0(0x32f)](',')[0x1],_0x1ef4c2=db[_0x4503d0(0x236)]()[_0x4503d0(0x367)]()[_0x4503d0(0x331)];db[_0x4503d0(0x236)](_0x4503d0(0x227)+roomCode+_0x4503d0(0x47c)+_0x1ef4c2)[_0x4503d0(0x298)]({'imageBase64':_0xaac3f0,'sender':username,'senderId':clientId,'timestamp':Date[_0x4503d0(0x2b9)]()});},_0xebac38[_0x428f0b(0x3c4)](_0x303b8a);}async function fetchProfile(_0x4fe2cd){const _0x3bbf40=_0x16448f,_0x5cefa9=await db[_0x3bbf40(0x236)](_0x3bbf40(0x3e5)+_0x4fe2cd)[_0x3bbf40(0x3a4)]();if(!_0x5cefa9[_0x3bbf40(0x28c)]())return null;return _0x5cefa9['val']();}function validateStaticRoomPassword(){const _0x4e274c=_0x16448f,_0x2303b8={'hSwOX':function(_0x17bb25,_0x4341f3){return _0x17bb25===_0x4341f3;},'ZyKka':function(_0x27d6bf){return _0x27d6bf();},'XZdpm':_0x4e274c(0x260),'MXyAZ':_0x4e274c(0x1eb),'ojvPj':_0x4e274c(0x3ad),'ezxKF':function(_0x1c078b,_0x3d7234){return _0x1c078b(_0x3d7234);},'cTfdt':_0x4e274c(0x471),'lgcdI':_0x4e274c(0x3f7),'sRUHB':function(_0x3c28cb,_0x3fbb4c){return _0x3c28cb(_0x3fbb4c);}},_0x4baf0e=document[_0x4e274c(0x3d2)](_0x2303b8[_0x4e274c(0x2f4)])[_0x4e274c(0x205)][_0x4e274c(0x1dd)]();if(!_0x4baf0e){_0x2303b8[_0x4e274c(0x401)](alert,'Please\x20enter\x20the\x20password.');return;}db[_0x4e274c(0x236)](_0x4e274c(0x221)+STATIC_ROOM)[_0x4e274c(0x3a4)]()['then'](_0x1441e3=>{const _0x17f314=_0x4e274c;if(!_0x1441e3[_0x17f314(0x28c)]()){alert(_0x17f314(0x1e6));return;}const _0xc71d78=_0x1441e3[_0x17f314(0x486)]();_0x2303b8[_0x17f314(0x42a)](_0x4baf0e,_0xc71d78)?(roomCode=STATIC_ROOM,_0x2303b8[_0x17f314(0x30a)](startChat)):(document[_0x17f314(0x3d2)](_0x2303b8[_0x17f314(0x207)])[_0x17f314(0x17f)]=_0x2303b8[_0x17f314(0x232)],document[_0x17f314(0x3d2)](_0x2303b8['XZdpm'])[_0x17f314(0x2a2)]['display']=_0x2303b8[_0x17f314(0x1ca)]);})[_0x4e274c(0x2e6)](_0x35ff43=>{const _0x543b2c=_0x4e274c;console[_0x543b2c(0x43f)](_0x35ff43),_0x2303b8[_0x543b2c(0x3a2)](alert,_0x2303b8[_0x543b2c(0x43b)]);});}function listenForPauseState(){const _0x479e25=_0x16448f,_0x39f044={'GgOEi':_0x479e25(0x2af),'LvSZD':_0x479e25(0x3ad),'oHJaj':_0x479e25(0x205)};db[_0x479e25(0x236)]('roomStates/'+roomCode+_0x479e25(0x441))['on'](_0x39f044['oHJaj'],_0x585761=>{const _0x2b80d7=_0x479e25,_0x27faaf=_0x585761[_0x2b80d7(0x28c)]()&&_0x585761[_0x2b80d7(0x486)]()===!![];document['getElementById'](_0x39f044['GgOEi'])[_0x2b80d7(0x2a2)]['display']=_0x27faaf?_0x39f044[_0x2b80d7(0x377)]:_0x2b80d7(0x44f);});}const spamTimestamps=[];async function sendMessage(){const _0x1da63c=_0x16448f,_0x3971c0={'EoJnt':_0x1da63c(0x2d6),'jbaEG':function(_0x2d2695,_0x11f44d){return _0x2d2695(_0x11f44d);},'Wejxy':_0x1da63c(0x195),'jPKKv':function(_0xeb81f6,_0xff6239){return _0xeb81f6>_0xff6239;},'EUzjn':_0x1da63c(0x2d1),'UgHDl':function(_0x5b1cd5,_0x262ffa){return _0x5b1cd5===_0x262ffa;},'nBTFv':function(_0x201a72,_0x2dff5f){return _0x201a72!==_0x2dff5f;},'ycQcx':_0x1da63c(0x463),'aqjSa':_0x1da63c(0x1fa),'ZCHXT':_0x1da63c(0x237),'dudoy':function(_0x363251,_0x5bb88d){return _0x363251||_0x5bb88d;},'HUJta':'‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','cPMHa':_0x1da63c(0x315),'gtlcu':function(_0x529a7a,_0x25b0a0,_0x4a77b6){return _0x529a7a(_0x25b0a0,_0x4a77b6);},'RnHyX':'‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','YFZNS':function(_0xf3af4b,_0x337c1f){return _0xf3af4b(_0x337c1f);},'SIyCz':'avatar_base64'},_0x221ef4=await db[_0x1da63c(0x236)](_0x1da63c(0x219)+roomCode+'/paused')[_0x1da63c(0x3a4)](),_0xa52dce=await db[_0x1da63c(0x236)](_0x1da63c(0x1ee)+roomCode+'/'+_0x3971c0[_0x1da63c(0x3d4)](sanitizeUsername,username))[_0x1da63c(0x3a4)]();if(_0xa52dce['exists']()){const _0x265893=_0xa52dce['val'](),_0x438504=typeof _0x265893===_0x3971c0[_0x1da63c(0x2ae)]&&_0x265893['muteUntil']?_0x265893[_0x1da63c(0x1c2)]:_0x265893;if(_0x3971c0[_0x1da63c(0x1ed)](_0x438504,Date[_0x1da63c(0x2b9)]())){alert(_0x3971c0[_0x1da63c(0x233)]);return;}}if(_0x221ef4[_0x1da63c(0x28c)]()&&_0x3971c0[_0x1da63c(0x1ac)](_0x221ef4['val'](),!![])&&_0x3971c0[_0x1da63c(0x3ac)](role,_0x3971c0[_0x1da63c(0x382)])){alert(_0x3971c0[_0x1da63c(0x252)]);return;}const _0x3b3e3a=document[_0x1da63c(0x3d2)](_0x3971c0[_0x1da63c(0x3c5)]),_0x5eccc5=_0x3b3e3a['value'][_0x1da63c(0x1dd)]();if(_0x3971c0['dudoy'](!_0x5eccc5,isBlocked))return;const _0x17e4f7=Date['now'](),_0x2cb4b7=_0x5eccc5[_0x1da63c(0x17c)](),_0x4a410b=swearWords[_0x1da63c(0x41d)](_0x4eefb0=>_0x2cb4b7[_0x1da63c(0x3ae)](_0x4eefb0));if(_0x4a410b){_0x3971c0[_0x1da63c(0x3d4)](alert,_0x3971c0[_0x1da63c(0x2cd)]);return;}spamTimestamps[_0x1da63c(0x367)](_0x17e4f7);const _0x55cae0=spamTimestamps[_0x1da63c(0x1db)](_0x7be8fd=>_0x17e4f7-_0x7be8fd<0x1b58);if(_0x3971c0[_0x1da63c(0x1ed)](_0x55cae0[_0x1da63c(0x43d)],0x5)){const _0x622d90=_0x3971c0[_0x1da63c(0x2b8)][_0x1da63c(0x32f)]('|');let _0x2b0a67=0x0;while(!![]){switch(_0x622d90[_0x2b0a67++]){case'0':_0x3b3e3a[_0x1da63c(0x1b2)]=!![];continue;case'1':isBlocked=!![];continue;case'2':_0x3971c0[_0x1da63c(0x30c)](setTimeout,()=>{const _0x4cc440=_0x1da63c;isBlocked=![],_0x3b3e3a[_0x4cc440(0x1b2)]=![],_0x3b3e3a[_0x4cc440(0x1d4)]=_0x3971c0[_0x4cc440(0x3c6)],spamTimestamps[_0x4cc440(0x43d)]=0x0;},0x7530);continue;case'3':return;case'4':_0x3b3e3a[_0x1da63c(0x1d4)]=_0x3971c0[_0x1da63c(0x264)];continue;case'5':_0x3971c0[_0x1da63c(0x3d4)](alert,'‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.');continue;}break;}}const _0x4c5b87=_0x5eccc5[_0x1da63c(0x42f)](/(.)\1{14,}/);if(_0x4c5b87){_0x3971c0[_0x1da63c(0x18c)](alert,_0x1da63c(0x279));return;}const _0x40e557=localStorage[_0x1da63c(0x409)](_0x3971c0[_0x1da63c(0x1a8)])||'',_0x3d4997=db['ref']()[_0x1da63c(0x367)]()[_0x1da63c(0x331)];db[_0x1da63c(0x236)]('rooms/'+roomCode+_0x1da63c(0x47c)+_0x3d4997)[_0x1da63c(0x298)]({'msg':_0x5eccc5,'sender':username,'senderId':clientId,'avatarBase64':_0x40e557,'timestamp':_0x17e4f7}),_0x3b3e3a[_0x1da63c(0x205)]='',_0x3971c0[_0x1da63c(0x3d4)](sendTyping,!![]),lastActivity=_0x17e4f7;}function listenForMessages(){const _0x23c031=_0x16448f,_0x176b68={'GmWZE':function(_0xd496c0,_0x340012,_0x54c3c0,_0x254ba1){return _0xd496c0(_0x340012,_0x54c3c0,_0x254ba1);},'cpGHp':function(_0x3e680d,_0x1ba211,_0x565cde,_0x173ed3){return _0x3e680d(_0x1ba211,_0x565cde,_0x173ed3);},'vogAJ':function(_0x85ae58,_0x1554cb){return _0x85ae58!==_0x1554cb;},'GVJIy':function(_0x232c59,_0x4bd780){return _0x232c59!==_0x4bd780;},'TRjiV':_0x23c031(0x23d),'KlPyI':function(_0x3ef6e9,_0x62be4f){return _0x3ef6e9===_0x62be4f;},'UEooy':'[Voice\x20Message]','cypfe':_0x23c031(0x39a),'FisHm':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','fzMOb':function(_0x42584d,_0x2a53fe){return _0x42584d||_0x2a53fe;},'PupsM':function(_0xb2ab90,_0x4afe3f){return _0xb2ab90-_0x4afe3f;},'JtXio':_0x23c031(0x33a),'VGYba':'value','hjKKf':_0x23c031(0x2ac)},_0x3c6a1a=db[_0x23c031(0x236)](_0x23c031(0x227)+roomCode+'/messages'),_0x51a3df=_0x3c6a1a['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x51a3df['on'](_0x176b68[_0x23c031(0x468)],_0x4ec1f3=>{const _0x492ca0=_0x23c031,_0x56ccb9=_0x4ec1f3['val'](),{senderId:_0x1b1bce}=_0x56ccb9,_0x9224d1=_0x1b1bce===clientId;if(!userListReady){pendingMessages[_0x492ca0(0x34b)](({data:_0x2eceb7,sent:_0x2a9a7e,key:_0x231804})=>{const _0x156ee1=_0x492ca0;_0x176b68[_0x156ee1(0x25c)](addMessage,_0x2eceb7,_0x2a9a7e,_0x231804);}),pendingMessages=[];return;}const _0x356e96=_0x56ccb9['audioUrl']||null,_0x5542fe=_0x56ccb9['audioBase64']||null;_0x176b68[_0x492ca0(0x2ee)](addMessage,_0x56ccb9,_0x9224d1,_0x4ec1f3['key']);if(_0x176b68[_0x492ca0(0x1d0)](roomCode,STATIC_ROOM)&&_0x176b68[_0x492ca0(0x44b)](_0x56ccb9[_0x492ca0(0x2a6)],_0x176b68[_0x492ca0(0x300)])){}!_0x9224d1&&(sound[_0x492ca0(0x17b)](),flagPageAttention());if(notificationsEnabled&&!_0x9224d1&&_0x176b68[_0x492ca0(0x1ba)](Notification[_0x492ca0(0x1a2)],_0x492ca0(0x26b))){const _0x21448f=_0x56ccb9[_0x492ca0(0x242)]||(_0x56ccb9[_0x492ca0(0x317)]?_0x176b68[_0x492ca0(0x296)]:_0x56ccb9[_0x492ca0(0x358)]?_0x176b68[_0x492ca0(0x33d)]:_0x492ca0(0x3b4));new Notification(_0x492ca0(0x432)+_0x56ccb9[_0x492ca0(0x2a6)],{'body':_0x21448f,'icon':_0x176b68[_0x492ca0(0x1cc)]});}}),_0x3c6a1a['once'](_0x176b68['VGYba'])['then'](_0x4d024e=>{const _0x576cdc=_0x23c031,_0x512ab3=_0x4d024e[_0x576cdc(0x486)](),_0x29cffe=Object[_0x576cdc(0x3d7)](_0x176b68[_0x576cdc(0x2d7)](_0x512ab3,{}));if(_0x29cffe[_0x576cdc(0x43d)]>MAX_MESSAGES){const _0x3ba174=_0x176b68[_0x576cdc(0x3b5)](_0x29cffe[_0x576cdc(0x43d)],MAX_MESSAGES),_0x230492=_0x29cffe[_0x576cdc(0x421)]((_0x4dcaeb,_0x5e9c1f)=>_0x512ab3[_0x4dcaeb][_0x576cdc(0x230)]-_0x512ab3[_0x5e9c1f][_0x576cdc(0x230)])[_0x576cdc(0x42b)](0x0,_0x3ba174);_0x230492[_0x576cdc(0x34b)](_0x9ce10c=>{const _0x1edaf9=_0x576cdc;db[_0x1edaf9(0x236)](_0x1edaf9(0x227)+roomCode+_0x1edaf9(0x47c)+_0x9ce10c)[_0x1edaf9(0x274)]();});}}),db[_0x23c031(0x236)](_0x23c031(0x227)+roomCode+_0x23c031(0x442))['on'](_0x176b68[_0x23c031(0x2f9)],_0x1f070b=>{const _0x1bb8b2=_0x23c031,_0x1b535a=_0x1f070b[_0x1bb8b2(0x331)],_0x39ccf1=document[_0x1bb8b2(0x22a)](_0x1bb8b2(0x347)+_0x1b535a+'\x22]');if(_0x39ccf1)_0x39ccf1[_0x1bb8b2(0x274)]();});}function stackNotification(_0x3d4e0b,_0x9f346b){const _0x238a78=_0x16448f,_0x33a65a={'HqNZQ':function(_0x8f3db5){return _0x8f3db5();},'UKnyN':function(_0x54ae21,_0x227ab4,_0x4a65ec){return _0x54ae21(_0x227ab4,_0x4a65ec);}};notificationStack[_0x238a78(0x367)]({'sender':_0x3d4e0b,'content':_0x9f346b}),clearTimeout(notificationTimer),notificationTimer=_0x33a65a[_0x238a78(0x411)](setTimeout,()=>{const _0x5e6a96=_0x238a78;_0x33a65a[_0x5e6a96(0x343)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x4f2723=_0x16448f,_0x340f38={'uUnjF':'New\x20Chat\x20Message','rOZuF':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','aoFxQ':function(_0x5d5c51,_0x2276de){return _0x5d5c51!==_0x2276de;},'QMgUQ':function(_0x289698,_0x2aedb4){return _0x289698||_0x2aedb4;},'lUNwY':_0x4f2723(0x3d1),'cXWON':function(_0x1cb25b,_0x56a239){return _0x1cb25b===_0x56a239;}};if(!notificationStack[_0x4f2723(0x43d)]||_0x340f38[_0x4f2723(0x18f)](Notification[_0x4f2723(0x1a2)],_0x4f2723(0x26b)))return;const _0x1fb127=[...new Set(notificationStack[_0x4f2723(0x2ec)](_0x15243a=>_0x15243a['sender']))],_0x5b63ad=_0x340f38['QMgUQ'](roomCode,_0x340f38[_0x4f2723(0x37f)]),_0x1de079=_0x340f38[_0x4f2723(0x40d)](_0x1fb127[_0x4f2723(0x43d)],0x1)?_0x4f2723(0x420)+_0x1fb127[0x0]+_0x4f2723(0x259)+_0x5b63ad+':\x20'+notificationStack[0x0]['content']:_0x4f2723(0x39e)+_0x1fb127['join'](',\x20')+'\x20in\x20room\x20'+_0x5b63ad;setTimeout(()=>{const _0x571b41=_0x4f2723;new Notification(_0x340f38[_0x571b41(0x481)],{'body':_0x1de079,'icon':_0x340f38[_0x571b41(0x33b)]});},0x64);}async function addMessage(_0x288637,_0x30d05d,_0x347bc3=null){const _0x1b7c7d=_0x16448f,_0x5b9c63={'EHJwT':function(_0x5a3ccf,_0x1c16df){return _0x5a3ccf-_0x1c16df;},'FhIez':_0x1b7c7d(0x1f8),'gGIrB':_0x1b7c7d(0x2da),'EsNvu':_0x1b7c7d(0x459),'KUafk':_0x1b7c7d(0x372),'uUghY':function(_0x489289,_0x11d960,_0x5376ac){return _0x489289(_0x11d960,_0x5376ac);},'tFAEF':function(_0x161da7,_0x405a76){return _0x161da7(_0x405a76);},'eVrlc':function(_0xdb9bf1,_0x295d95,_0x51bd19){return _0xdb9bf1(_0x295d95,_0x51bd19);},'ncEBU':function(_0x3958eb,_0x18c2a1){return _0x3958eb>_0x18c2a1;},'pnlYU':function(_0x14874c,_0x42c17d){return _0x14874c(_0x42c17d);},'tzABQ':_0x1b7c7d(0x2d8),'xJXzx':'div','gJEcE':function(_0x58319d,_0x24bb53){return _0x58319d===_0x24bb53;},'sNmtd':_0x1b7c7d(0x23d),'kvNGo':_0x1b7c7d(0x3fb),'mcbTH':_0x1b7c7d(0x3c9),'qVaYP':'#aaa','ddngE':_0x1b7c7d(0x461),'mLGNU':'msg','DUhxI':_0x1b7c7d(0x319),'VLkoS':'received','EFNFp':_0x1b7c7d(0x297),'UodIC':_0x1b7c7d(0x2b2),'RoUaz':function(_0x1fdfa0,_0x404a25){return _0x1fdfa0(_0x404a25);},'akanH':_0x1b7c7d(0x2e7),'SHhye':_0x1b7c7d(0x1aa),'SCcJx':'16px','DZiWu':_0x1b7c7d(0x31c),'PHNCu':'none','FSbkp':_0x1b7c7d(0x3e4),'ZOrbX':_0x1b7c7d(0x2d3),'kynxP':_0x1b7c7d(0x1d5),'qYBpL':_0x1b7c7d(0x3ed),'FbsoP':_0x1b7c7d(0x466),'aadZh':_0x1b7c7d(0x32b),'VUNda':_0x1b7c7d(0x2fb),'VBKWK':_0x1b7c7d(0x289),'IBzSg':_0x1b7c7d(0x179),'DdzRm':'mouseenter','GKVAv':_0x1b7c7d(0x1e9),'mHMyu':_0x1b7c7d(0x3b3),'SdlEF':_0x1b7c7d(0x398),'YjexX':_0x1b7c7d(0x205),'HAHrN':_0x1b7c7d(0x463),'RbFaG':'admin'},{msg:_0x22aae6,sender:_0x53db35,senderId:_0x3fdbc2,timestamp:_0xaa062b,audioUrl:_0x1e343f,audioBase64:_0x1f9e0b,imageBase64:_0x36f8c5}=_0x288637,_0x41e696=sanitizeUsername(_0x53db35),_0x556634=document['createElement'](_0x5b9c63[_0x1b7c7d(0x24f)]);if(_0x5b9c63[_0x1b7c7d(0x36e)](_0x288637[_0x1b7c7d(0x2a6)],_0x5b9c63[_0x1b7c7d(0x483)])){const _0x2b509a=document[_0x1b7c7d(0x189)](_0x5b9c63[_0x1b7c7d(0x24f)]);_0x2b509a[_0x1b7c7d(0x38d)]='system-msg',_0x2b509a['dataset'][_0x1b7c7d(0x374)]=_0x347bc3||_0x288637[_0x1b7c7d(0x230)],_0x2b509a[_0x1b7c7d(0x34f)][_0x1b7c7d(0x230)]=_0x288637[_0x1b7c7d(0x230)],_0x2b509a['style'][_0x1b7c7d(0x23f)]=_0x5b9c63[_0x1b7c7d(0x1e4)],_0x2b509a[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x22e)]=_0x5b9c63['mcbTH'],_0x2b509a['style']['color']=_0x5b9c63[_0x1b7c7d(0x388)],_0x2b509a[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x22d)]=_0x1b7c7d(0x1f2),_0x2b509a[_0x1b7c7d(0x17f)]=_0x288637[_0x1b7c7d(0x242)];const _0x27901b=document[_0x1b7c7d(0x3d2)](_0x5b9c63[_0x1b7c7d(0x303)]);_0x27901b['appendChild'](_0x2b509a);const _0x28b57b=Array['from'](_0x27901b[_0x1b7c7d(0x39f)]);_0x28b57b['sort']((_0x9c21f5,_0xbbc224)=>{const _0x5bcead=_0x1b7c7d;return _0x5b9c63[_0x5bcead(0x484)](+_0x9c21f5[_0x5bcead(0x34f)][_0x5bcead(0x230)]||0x0,+_0xbbc224['dataset']['timestamp']||0x0);}),_0x27901b[_0x1b7c7d(0x419)]='',_0x28b57b['forEach'](_0x3e6355=>_0x27901b['appendChild'](_0x3e6355)),_0x27901b['scrollTop']=_0x27901b['scrollHeight'];return;}_0x556634[_0x1b7c7d(0x2f8)][_0x1b7c7d(0x19c)](_0x5b9c63[_0x1b7c7d(0x29f)],_0x30d05d?_0x5b9c63['DUhxI']:_0x5b9c63[_0x1b7c7d(0x2b6)]),_0x556634[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x190)]=_0x5b9c63[_0x1b7c7d(0x21c)];_0x347bc3&&(_0x556634[_0x1b7c7d(0x34f)][_0x1b7c7d(0x374)]=_0x347bc3);const _0x3e00bd=new Date(_0xaa062b)[_0x1b7c7d(0x422)]([],{'hour':_0x5b9c63[_0x1b7c7d(0x193)],'minute':_0x5b9c63[_0x1b7c7d(0x193)]}),_0x175440=_0x5b9c63['tFAEF'](getRoleTag,_0x41e696),_0x2bb18b=await _0x5b9c63[_0x1b7c7d(0x430)](fetchAvatar,_0x41e696),_0x9fcc9a=_0x2bb18b?_0x1b7c7d(0x266)+_0x2bb18b+_0x1b7c7d(0x322):'',_0xa1ab42=_0x9fcc9a+'<span\x20class=\x22sender-name\x22>'+_0x53db35+'\x20'+_0x175440+_0x1b7c7d(0x31f),_0x3adc5f=_0x22aae6?.[_0x1b7c7d(0x271)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x723e6=_0xa1ab42+_0x1b7c7d(0x3f8);if(_0x1e343f)_0x723e6+=_0x1b7c7d(0x25a)+_0x1e343f+_0x1b7c7d(0x445);else{if(_0x1f9e0b){const _0x270386='data:audio/webm;base64,'+_0x1f9e0b;_0x723e6+='<audio\x20controls\x20src=\x22'+_0x270386+_0x1b7c7d(0x445);}else{if(_0x36f8c5){const _0x349f30=_0x1b7c7d(0x30e)+_0x36f8c5;_0x723e6+=_0x1b7c7d(0x3ee)+_0x349f30+_0x1b7c7d(0x27d);}else{const _0x5320fe=_0x3adc5f[_0x1b7c7d(0x271)](/(https?:\/\/[^\s]+)/g,_0xc1f2a1=>{const _0x51db31=_0x1b7c7d;return _0x51db31(0x30b)+_0xc1f2a1+_0x51db31(0x2ed)+_0xc1f2a1+'</a>';});_0x723e6+=_0x1b7c7d(0x283)+_0x5320fe+_0x1b7c7d(0x440);}}}_0x723e6+=_0x1b7c7d(0x265)+_0x3e00bd+'</small>',_0x556634[_0x1b7c7d(0x419)]=_0x723e6;const _0x3ce05f=document[_0x1b7c7d(0x189)](_0x5b9c63[_0x1b7c7d(0x24f)]);_0x3ce05f[_0x1b7c7d(0x38d)]=_0x5b9c63['akanH'],_0x3ce05f[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x287)]=_0x5b9c63[_0x1b7c7d(0x328)],_0x3ce05f[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x22e)]=_0x5b9c63[_0x1b7c7d(0x3e1)],_0x556634[_0x1b7c7d(0x3fc)](_0x3ce05f);const _0x180630=document[_0x1b7c7d(0x189)](_0x5b9c63[_0x1b7c7d(0x24f)]);_0x180630[_0x1b7c7d(0x38d)]=_0x5b9c63[_0x1b7c7d(0x376)];const _0x31201b=['‚ù§Ô∏è','üòÇ','üòÆ','üò¢','üëé','üíÄ','ü§Ø'];_0x180630[_0x1b7c7d(0x419)]=_0x31201b[_0x1b7c7d(0x2ec)](_0x3695dd=>_0x1b7c7d(0x2b5)+_0x3695dd+_0x1b7c7d(0x21e))[_0x1b7c7d(0x25d)](''),_0x180630[_0x1b7c7d(0x2a2)]['display']=_0x5b9c63[_0x1b7c7d(0x2c5)],_0x180630['style'][_0x1b7c7d(0x190)]=_0x5b9c63[_0x1b7c7d(0x45f)],_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x378)]=_0x5b9c63['ZOrbX'],_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x1b6)]=_0x1b7c7d(0x2bd),_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x2b0)]=_0x5b9c63['kynxP'],_0x180630[_0x1b7c7d(0x2a2)]['fontSize']=_0x1b7c7d(0x462),_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x450)]=_0x5b9c63['qYBpL'],_0x180630['style'][_0x1b7c7d(0x408)]=_0x5b9c63[_0x1b7c7d(0x3e2)],_0x180630[_0x1b7c7d(0x2a2)]['zIndex']='10',_0x180630[_0x1b7c7d(0x2a2)]['maxWidth']=_0x1b7c7d(0x2fd),_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x1cf)]=_0x5b9c63[_0x1b7c7d(0x3f5)],_0x180630[_0x1b7c7d(0x2a2)]['whiteSpace']=_0x5b9c63[_0x1b7c7d(0x3d9)],_0x180630[_0x1b7c7d(0x2a2)]['display']=_0x5b9c63[_0x1b7c7d(0x313)],_0x180630[_0x1b7c7d(0x2a2)]['gridTemplateColumns']=_0x5b9c63['IBzSg'],_0x180630['style'][_0x1b7c7d(0x32c)]=_0x5b9c63[_0x1b7c7d(0x328)],_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x413)]=_0x1b7c7d(0x345),Array[_0x1b7c7d(0x383)](_0x180630[_0x1b7c7d(0x39f)])[_0x1b7c7d(0x34b)](_0x37d82b=>{const _0x2bc96a=_0x1b7c7d;_0x37d82b[_0x2bc96a(0x2a2)][_0x2bc96a(0x1ff)]=_0x2bc96a(0x1f3),_0x37d82b[_0x2bc96a(0x1a1)]=_0xe5876e=>{const _0x4acfb7=_0x2bc96a;_0xe5876e[_0x4acfb7(0x214)]();const _0x374b33=_0x37d82b[_0x4acfb7(0x318)];reactToMessage(_0x347bc3,_0x374b33);};}),Array['from'](_0x180630[_0x1b7c7d(0x39f)])[_0x1b7c7d(0x34b)](_0x4a92f3=>{const _0x1c57c1=_0x1b7c7d,_0x6c6c29=_0x5b9c63[_0x1c57c1(0x269)][_0x1c57c1(0x32f)]('|');let _0x5b9c3c=0x0;while(!![]){switch(_0x6c6c29[_0x5b9c3c++]){case'0':_0x4a92f3[_0x1c57c1(0x2a2)][_0x1c57c1(0x35f)]=_0x5b9c63[_0x1c57c1(0x3cf)];continue;case'1':_0x4a92f3[_0x1c57c1(0x2a2)][_0x1c57c1(0x3b2)]=_0x5b9c63[_0x1c57c1(0x2fc)];continue;case'2':_0x4a92f3[_0x1c57c1(0x2a2)][_0x1c57c1(0x329)]=_0x5b9c63['gGIrB'];continue;case'3':_0x4a92f3[_0x1c57c1(0x2a2)]['alignItems']='center';continue;case'4':_0x4a92f3[_0x1c57c1(0x2a2)][_0x1c57c1(0x39b)]=_0x1c57c1(0x3fb);continue;case'5':_0x4a92f3[_0x1c57c1(0x2a2)][_0x1c57c1(0x22e)]=_0x5b9c63[_0x1c57c1(0x3da)];continue;}break;}}),_0x556634[_0x1b7c7d(0x3fc)](_0x180630),_0x180630[_0x1b7c7d(0x2a2)][_0x1b7c7d(0x3b2)]=_0x5b9c63[_0x1b7c7d(0x2c5)];let _0x42c39d;_0x556634[_0x1b7c7d(0x32d)](_0x5b9c63[_0x1b7c7d(0x452)],()=>{const _0x1c7896=_0x1b7c7d;_0x42c39d=_0x5b9c63[_0x1c7896(0x20b)](setTimeout,()=>{const _0x3297d8=_0x1c7896;_0x180630[_0x3297d8(0x2a2)]['display']=_0x3297d8(0x2ad);},0x5dc);}),_0x556634[_0x1b7c7d(0x32d)](_0x5b9c63['GKVAv'],()=>{const _0x520aaa=_0x1b7c7d;_0x5b9c63[_0x520aaa(0x22f)](clearTimeout,_0x42c39d),_0x180630[_0x520aaa(0x2a2)][_0x520aaa(0x3b2)]=_0x520aaa(0x44f);});let _0x56954f;_0x556634[_0x1b7c7d(0x32d)](_0x5b9c63[_0x1b7c7d(0x26a)],()=>{const _0x3d0436=_0x1b7c7d;_0x56954f=_0x5b9c63[_0x3d0436(0x3a6)](setTimeout,()=>{const _0x30d49d=_0x3d0436;_0x180630['style'][_0x30d49d(0x3b2)]=_0x30d49d(0x2ad);},0x5dc);}),_0x556634[_0x1b7c7d(0x32d)](_0x5b9c63[_0x1b7c7d(0x192)],()=>clearTimeout(_0x56954f));_0x347bc3&&db[_0x1b7c7d(0x236)]('rooms/'+roomCode+_0x1b7c7d(0x47c)+_0x347bc3+_0x1b7c7d(0x3b6))['on'](_0x5b9c63['YjexX'],_0x484875=>{const _0x5fa3cb=_0x1b7c7d;if(!_0x484875[_0x5fa3cb(0x28c)]()){_0x3ce05f[_0x5fa3cb(0x419)]='';return;}const _0x168a52=_0x484875['val']();let _0x396377='';Object['entries'](_0x168a52)[_0x5fa3cb(0x34b)](([_0x4ffe87,_0x18d3f3])=>{const _0x242b3c=_0x5fa3cb;Array[_0x242b3c(0x2ca)](_0x18d3f3)&&_0x5b9c63[_0x242b3c(0x1b3)](_0x18d3f3[_0x242b3c(0x43d)],0x0)&&(_0x396377+=_0x242b3c(0x36f)+_0x4ffe87+'\x20'+_0x18d3f3[_0x242b3c(0x43d)]+_0x242b3c(0x31f));}),_0x3ce05f['innerHTML']=_0x396377;});if([_0x5b9c63[_0x1b7c7d(0x254)],_0x5b9c63['RbFaG'],'moderator']['includes'](role)){let _0x3b74a2=0x0;_0x556634[_0x1b7c7d(0x32d)](_0x1b7c7d(0x453),()=>{const _0x596f29=_0x1b7c7d;_0x3b74a2++,_0x3b74a2===0x3&&(_0x5b9c63[_0x596f29(0x353)](confirm,_0x5b9c63[_0x596f29(0x46e)])&&(db[_0x596f29(0x236)](_0x596f29(0x227)+roomCode+_0x596f29(0x47c)+_0x347bc3)[_0x596f29(0x274)](),_0x556634['remove']())),setTimeout(()=>_0x3b74a2=0x0,0x5dc);});}const _0x4604eb=document['getElementById'](_0x5b9c63[_0x1b7c7d(0x303)]);_0x4604eb[_0x1b7c7d(0x3fc)](_0x556634),_0x4604eb[_0x1b7c7d(0x1b5)]=_0x4604eb['scrollHeight'];}function cleanupOldRooms(){const _0x13db56=_0x16448f,_0x8e1f8a={'txcQY':function(_0x4ab887,_0x163c39){return _0x4ab887!==_0x163c39;},'AvfSj':function(_0x5aa009,_0x26ce1d){return _0x5aa009!==_0x26ce1d;},'ZGynz':function(_0x33f2b8,_0x5d0fd7){return _0x33f2b8===_0x5d0fd7;},'gAlSY':function(_0x20926e,_0x18ebf8){return _0x20926e>_0x18ebf8;},'hWUsL':function(_0x513482,_0x3de0e0){return _0x513482*_0x3de0e0;},'UyWoH':function(_0x16c970,_0x2d5004){return _0x16c970+_0x2d5004;},'nXhfE':_0x13db56(0x227),'bEwhf':'value','ZMLFd':'rooms'};db[_0x13db56(0x236)](_0x8e1f8a[_0x13db56(0x307)])[_0x13db56(0x24d)](_0x8e1f8a[_0x13db56(0x3ce)])[_0x13db56(0x1b7)](_0xc22b87=>{const _0xa82bff=_0x13db56,_0x5b2ad2={'LrCWl':function(_0x29e83b,_0xc86e0b){const _0x954379=_0x9d4c;return _0x8e1f8a[_0x954379(0x3d0)](_0x29e83b,_0xc86e0b);}},_0x47f721=_0xc22b87['val']();if(!_0x47f721)return;const _0x297946=Date[_0xa82bff(0x2b9)]();for(const _0x1b45af in _0x47f721){if(_0x8e1f8a[_0xa82bff(0x43e)](_0x1b45af,STATIC_ROOM))continue;const _0x2d1042=_0x47f721[_0x1b45af];_0x8e1f8a[_0xa82bff(0x27c)](_0x297946-(_0x2d1042[_0xa82bff(0x3db)]||0x0),_0x8e1f8a[_0xa82bff(0x2c1)](0x2,0x3c)*0x3e8)&&db[_0xa82bff(0x236)](_0x8e1f8a['UyWoH'](_0x8e1f8a[_0xa82bff(0x1f0)],_0x1b45af))[_0xa82bff(0x274)]();}db[_0xa82bff(0x236)]('antispam')[_0xa82bff(0x24d)](_0x8e1f8a[_0xa82bff(0x3ce)])[_0xa82bff(0x1b7)](_0x4d02e9=>{const _0x5d627c=_0xa82bff,_0x5ddb76=_0x4d02e9[_0x5d627c(0x486)]();if(!_0x5ddb76)return;for(const _0x24be41 in _0x5ddb76){if(_0x5b2ad2[_0x5d627c(0x34d)](_0x24be41,STATIC_ROOM))db[_0x5d627c(0x236)](_0x5d627c(0x40c)+_0x24be41)[_0x5d627c(0x274)]();}}),db[_0xa82bff(0x236)](_0xa82bff(0x246))['once'](_0xa82bff(0x205))[_0xa82bff(0x1b7)](_0x5b1bfe=>{const _0x31cc09=_0xa82bff,_0xa33e11=_0x5b1bfe[_0x31cc09(0x486)]();if(!_0xa33e11)return;for(const _0x4b76c3 in _0xa33e11){if(_0x8e1f8a[_0x31cc09(0x370)](_0x4b76c3,STATIC_ROOM))db[_0x31cc09(0x236)]('antispamBlocked/'+_0x4b76c3)[_0x31cc09(0x274)]();}});});}document[_0x16448f(0x32d)](_0x16448f(0x21d),()=>{const _0xc492a6=_0x16448f,_0x4949aa={'XzfZS':function(_0x488203,_0x31aa4a){return _0x488203===_0x31aa4a;},'ipWce':'Enter','cFbbZ':_0xc492a6(0x237),'sLmOX':'keypress'},_0x3f530f=document[_0xc492a6(0x3d2)](_0x4949aa[_0xc492a6(0x244)]);_0x3f530f&&_0x3f530f[_0xc492a6(0x32d)](_0x4949aa[_0xc492a6(0x191)],function(_0x3b21bc){const _0x374872=_0xc492a6;_0x4949aa[_0x374872(0x2cf)](_0x3b21bc[_0x374872(0x331)],_0x4949aa['ipWce'])&&(_0x3b21bc['preventDefault'](),sendMessage());});});const screenHistory=[];let currentScreen=null;function showScreen(_0x4e1cfc){const _0x4338bb=_0x16448f,_0x133258={'iWFcw':'none','FSMMH':function(_0x5e34f3,_0x30ba3f){return _0x5e34f3!==_0x30ba3f;},'ZPrrd':_0x4338bb(0x32a),'YECEZ':_0x4338bb(0x454),'pqSBn':_0x4338bb(0x35a),'TWMLQ':_0x4338bb(0x36c),'bDxUz':_0x4338bb(0x258),'oypPz':_0x4338bb(0x438),'otCbi':'editProfileScreen','qDzXn':_0x4338bb(0x426),'yEhOR':'flex'};currentScreen&&_0x133258[_0x4338bb(0x474)](currentScreen,_0x133258[_0x4338bb(0x46b)])&&(screenHistory['push'](currentScreen),history[_0x4338bb(0x38e)]({'screen':_0x4e1cfc},'')),currentScreen=_0x4e1cfc,[_0x133258['YECEZ'],_0x133258['pqSBn'],_0x133258[_0x4338bb(0x3cb)],'chatScreen','passwordScreen',_0x133258[_0x4338bb(0x2a8)],_0x133258[_0x4338bb(0x209)],_0x133258['ZPrrd'],_0x133258['otCbi'],_0x133258[_0x4338bb(0x280)]]['forEach'](_0x5da728=>{const _0x81e554=_0x4338bb;document[_0x81e554(0x3d2)](_0x5da728)['style']['display']=_0x133258[_0x81e554(0x2f1)];}),document[_0x4338bb(0x3d2)](_0x4e1cfc)[_0x4338bb(0x2a2)][_0x4338bb(0x3b2)]=_0x133258['yEhOR'];}function genRoomCode(){const _0x960f61=_0x16448f,_0x2762a9={'iRJkv':_0x960f61(0x392),'zkGbz':function(_0x1b59db,_0x1a151a){return _0x1b59db+_0x1a151a;},'zeBcZ':function(_0x392ed2,_0x1c1876,_0x1b578c){return _0x392ed2(_0x1c1876,_0x1b578c);},'IZaAP':function(_0xee6961,_0xe085c8,_0x388c1f){return _0xee6961(_0xe085c8,_0x388c1f);},'yiUOl':function(_0x1501f6,_0x29626c,_0x37534b){return _0x1501f6(_0x29626c,_0x37534b);}},_0x41101d=_0x2762a9['iRJkv'],_0x3e9735=_0x960f61(0x2c3),_0x28032c=(_0x5a726f,_0xe95e6f)=>Array[_0x960f61(0x383)]({'length':_0xe95e6f},()=>_0x5a726f[Math[_0x960f61(0x480)](Math['random']()*_0x5a726f[_0x960f61(0x43d)])])[_0x960f61(0x25d)]('');return _0x2762a9[_0x960f61(0x32e)](_0x28032c(_0x3e9735,0x3),_0x2762a9[_0x960f61(0x20c)](_0x28032c,_0x41101d,0x3))+_0x2762a9[_0x960f61(0x425)](_0x28032c,_0x3e9735,0x2)+_0x2762a9[_0x960f61(0x38b)](_0x28032c,_0x41101d,0x2);}function startInactivityTimer(){const _0x342430=_0x16448f,_0x5d430f={'ZCMmu':function(_0x2163a8,_0x365977){return _0x2163a8>_0x365977;},'Mgoqc':function(_0x3d1308,_0x3190f0){return _0x3d1308-_0x3190f0;},'NEPKC':function(_0x283c2a,_0x2654c6){return _0x283c2a*_0x2654c6;},'orhNh':function(_0x5a3d4f,_0x1f2ee7){return _0x5a3d4f*_0x1f2ee7;},'VYZHf':function(_0x4d0ca6,_0x43d86f){return _0x4d0ca6!==_0x43d86f;},'dveNF':function(_0x322533,_0x4976f2){return _0x322533+_0x4976f2;},'gbzBN':function(_0x15cb2d,_0x3fc2af){return _0x15cb2d(_0x3fc2af);},'tLSbY':_0x342430(0x386)};setInterval(()=>{const _0x165af1=_0x342430;_0x5d430f[_0x165af1(0x1ec)](_0x5d430f[_0x165af1(0x3bf)](Date[_0x165af1(0x2b9)](),lastActivity),_0x5d430f[_0x165af1(0x184)](_0x5d430f[_0x165af1(0x1e8)](0x5,0x3c),0x3e8))&&_0x5d430f[_0x165af1(0x41f)](roomCode,STATIC_ROOM)&&(db[_0x165af1(0x236)](_0x5d430f[_0x165af1(0x3a9)]('rooms/',roomCode))['update']({'active':![]}),_0x5d430f[_0x165af1(0x45b)](alert,_0x5d430f[_0x165af1(0x234)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x56810a=_0x16448f,_0x899387={'VTFVo':_0x56810a(0x469),'lzFLy':_0x56810a(0x18a),'bbkCx':_0x56810a(0x3b0)};window[_0x56810a(0x32d)](_0x899387[_0x56810a(0x395)],()=>{const _0x174d52=_0x56810a,_0x45608e=document[_0x174d52(0x3d2)](_0x899387[_0x174d52(0x314)]);_0x45608e?.[_0x174d52(0x2f8)][_0x174d52(0x46d)](_0x899387[_0x174d52(0x44d)])&&_0x45608e[_0x174d52(0x2f8)][_0x174d52(0x274)](_0x899387['lzFLy']);});}function toggleSidebar(){const _0xa4d281=_0x16448f,_0x38a62d={'mcfwY':_0xa4d281(0x18a)},_0x3a0990=document['getElementById'](_0xa4d281(0x469));if(!_0x3a0990[_0xa4d281(0x2f8)]['contains'](_0xa4d281(0x18a)))_0x3a0990['classList'][_0xa4d281(0x19c)](_0x38a62d[_0xa4d281(0x199)]),history[_0xa4d281(0x38e)]({'sidebarOpen':!![]},'');else{_0x3a0990[_0xa4d281(0x2f8)][_0xa4d281(0x274)](_0x38a62d[_0xa4d281(0x199)]);if(history[_0xa4d281(0x2ab)]?.[_0xa4d281(0x19f)])history[_0xa4d281(0x1a7)]();}}function setupVisibilityAttention(){const _0x1ecdaf=_0x16448f,_0x5ad237={'rWdyY':'visibilitychange'};let _0x3c3ebd=0x0,_0x12e2fb=document[_0x1ecdaf(0x1f1)];document[_0x1ecdaf(0x32d)](_0x5ad237['rWdyY'],()=>{!document['hidden']&&(document['title']=_0x12e2fb,_0x3c3ebd=0x0);}),window[_0x1ecdaf(0x3f4)]=function(){const _0x5eb0f3=_0x1ecdaf;document['hidden']&&(_0x3c3ebd++,document[_0x5eb0f3(0x1f1)]='('+_0x3c3ebd+')\x20New\x20message\x20‚Ä¢\x20'+_0x12e2fb);};}function tryEditProfile(){const _0x3309c1=_0x16448f,_0x3160b7={'Hqcru':function(_0x54bd57,_0x484be7){return _0x54bd57(_0x484be7);},'MQlUf':'editProfileScreen'};_0x3160b7['Hqcru'](showScreen,_0x3160b7[_0x3309c1(0x212)]);}async function submitEditProfile(){const _0x3ae5bb=_0x16448f,_0x2a0a73={'cuDOW':'oldPasswordInput','EtVmT':_0x3ae5bb(0x2f3),'yiUZl':'editProfileError','GvxhO':_0x3ae5bb(0x417),'mENPP':_0x3ae5bb(0x3ad),'GeRFl':function(_0x325e7e,_0x34ff84){return _0x325e7e(_0x34ff84);},'vtHiF':_0x3ae5bb(0x45d),'UtAbx':function(_0x20ad7a,_0x5a6ad8){return _0x20ad7a!==_0x5a6ad8;},'iWqrT':_0x3ae5bb(0x473),'XOauu':function(_0x5691be,_0x57ff7f){return _0x5691be*_0x57ff7f;},'aEcgw':function(_0x233aef,_0xa47d2f){return _0x233aef>_0xa47d2f;},'BuvLA':function(_0x3d9697,_0x4db89f){return _0x3d9697(_0x4db89f);},'ZbDFx':_0x3ae5bb(0x437),'PHVKf':function(_0x58c5dc,_0x579d13){return _0x58c5dc(_0x579d13);},'UQJys':_0x3ae5bb(0x305)},_0x31ee87=document[_0x3ae5bb(0x3d2)](_0x2a0a73[_0x3ae5bb(0x37b)])['value'],_0x2110f2=document[_0x3ae5bb(0x3d2)](_0x2a0a73[_0x3ae5bb(0x218)])[_0x3ae5bb(0x205)],_0x237007=document[_0x3ae5bb(0x3d2)]('editBioInput')[_0x3ae5bb(0x205)][_0x3ae5bb(0x1dd)](),_0x4867b7=document[_0x3ae5bb(0x3d2)](_0x2a0a73[_0x3ae5bb(0x3bd)]);if(!_0x31ee87){_0x4867b7[_0x3ae5bb(0x17f)]=_0x2a0a73[_0x3ae5bb(0x28f)],_0x4867b7[_0x3ae5bb(0x2a2)]['display']=_0x2a0a73[_0x3ae5bb(0x270)];return;}const _0xd161d8=_0x2a0a73[_0x3ae5bb(0x20a)](sanitizeUsername,username),_0x3e0c0d=await db[_0x3ae5bb(0x236)](_0x3ae5bb(0x3e5)+_0xd161d8)[_0x3ae5bb(0x3a4)]();if(!_0x3e0c0d['exists']()){_0x4867b7[_0x3ae5bb(0x17f)]=_0x2a0a73[_0x3ae5bb(0x253)],_0x4867b7[_0x3ae5bb(0x2a2)][_0x3ae5bb(0x3b2)]=_0x2a0a73['mENPP'];return;}const _0x3499fe=_0x3e0c0d[_0x3ae5bb(0x486)](),_0x217ac7=await sha256(_0x31ee87);if(_0x2a0a73[_0x3ae5bb(0x330)](_0x217ac7,_0x3499fe[_0x3ae5bb(0x2d0)])){_0x4867b7['innerText']=_0x2a0a73['iWqrT'],_0x4867b7[_0x3ae5bb(0x2a2)][_0x3ae5bb(0x3b2)]=_0x3ae5bb(0x3ad);return;}const _0x48c868={};if(_0x2110f2){const _0x34288d=await sha256(_0x2110f2);_0x48c868[_0x3ae5bb(0x2d0)]=_0x34288d;}_0x2a0a73[_0x3ae5bb(0x330)](_0x237007,_0x3499fe[_0x3ae5bb(0x38f)])&&(_0x48c868[_0x3ae5bb(0x38f)]=_0x237007);const _0x3c7a3c=Date[_0x3ae5bb(0x2b9)](),_0x2cdd07=_0x2a0a73[_0x3ae5bb(0x1df)](_0x2a0a73[_0x3ae5bb(0x1df)](0x18,0x3c),0x3c)*0x3e8,_0x111e99=_0x2a0a73['aEcgw'](_0x3c7a3c-(_0x3499fe[_0x3ae5bb(0x181)]||0x0),_0x2cdd07);if(_0x111e99&&_0x2a0a73[_0x3ae5bb(0x339)](confirm,_0x2a0a73[_0x3ae5bb(0x19b)])){const _0x358aad=_0x2a0a73['PHVKf'](prompt,_0x3ae5bb(0x308));_0x358aad&&_0x358aad['trim']()&&(_0x48c868[_0x3ae5bb(0x3ea)]=_0x358aad[_0x3ae5bb(0x1dd)](),_0x48c868[_0x3ae5bb(0x19e)]=(_0x3499fe[_0x3ae5bb(0x19e)]||[])[_0x3ae5bb(0x1f9)](_0x358aad['trim']()),_0x48c868[_0x3ae5bb(0x181)]=_0x3c7a3c);}_0x48c868['username']&&_0x2a0a73[_0x3ae5bb(0x330)](_0x48c868[_0x3ae5bb(0x3ea)],_0x3499fe[_0x3ae5bb(0x3ea)])?(await db[_0x3ae5bb(0x236)](_0x3ae5bb(0x3e5)+_0x2a0a73[_0x3ae5bb(0x20a)](sanitizeUsername,_0x48c868[_0x3ae5bb(0x3ea)]))['set']({..._0x3499fe,..._0x48c868}),await db[_0x3ae5bb(0x236)]('auth/'+_0xd161d8)[_0x3ae5bb(0x274)](),username=_0x48c868['username']):await db['ref'](_0x3ae5bb(0x3e5)+_0xd161d8)[_0x3ae5bb(0x3e6)](_0x48c868),_0x2a0a73[_0x3ae5bb(0x339)](alert,_0x2a0a73[_0x3ae5bb(0x23c)]),location['reload']();}function cancelEditProfile(){const _0x253769=_0x16448f,_0x3e0ebe={'nCgOj':_0x253769(0x35c)};document[_0x253769(0x3d2)](_0x3e0ebe[_0x253769(0x47d)])['style'][_0x253769(0x3b2)]=_0x253769(0x44f),showScreen(_0x253769(0x45e));}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x134cd5=_0x16448f,_0x22057f={'dNjmB':function(_0x3756bc){return _0x3756bc();},'PaJyc':function(_0x416f9d,_0x14da45){return _0x416f9d(_0x14da45);}};db['ref'](_0x134cd5(0x373)+roomCode)['on'](_0x134cd5(0x205),async _0x149017=>{const _0x1875bd=_0x134cd5;if(!_0x149017['exists']())return;const _0x512ecb=_0x149017[_0x1875bd(0x486)]();for(const _0x28f334 in previousUsers){if(!_0x512ecb[_0x28f334])_0x512ecb[_0x28f334]=previousUsers[_0x28f334];}renderUserLists(_0x512ecb),previousUsers=_0x512ecb,await _0x22057f[_0x1875bd(0x1de)](loadRoomRoles),_0x22057f[_0x1875bd(0x325)](renderUserLists,_0x512ecb);});}function trackPresence(){const _0x57b381=_0x16448f,_0x5edcef={'aXcaU':function(_0x129cfc){return _0x129cfc();},'VYFQV':'system','KweSV':function(_0x580619,_0x168f7a){return _0x580619||_0x168f7a;},'biJCt':function(_0xdb31dd,_0x293f76){return _0xdb31dd(_0x293f76);},'utiye':function(_0x5b467e,_0x420bc5){return _0x5b467e||_0x420bc5;},'rFwcy':_0x57b381(0x205)};if(_0x5edcef['KweSV'](!username,!roomCode))return;const _0x400281=_0x5edcef['biJCt'](sanitizeUsername,username),_0x5ad375=db['ref'](_0x57b381(0x373)+roomCode+'/'+_0x400281),_0x3c9fa1={'username':username,'avatarBase64':_0x5edcef[_0x57b381(0x2f5)](avatarBase64,''),'description':_0x5edcef['KweSV'](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x57b381(0x3d3)][_0x57b381(0x407)]};_0x5ad375[_0x57b381(0x24d)](_0x5edcef[_0x57b381(0x45a)])['then'](_0x3280a2=>{const _0x87e865=_0x57b381,_0x190679=_0x3280a2[_0x87e865(0x486)]()?.[_0x87e865(0x277)];_0x5ad375[_0x87e865(0x298)](_0x3c9fa1)[_0x87e865(0x1b7)](()=>{const _0x23eeff=_0x87e865;_0x5edcef[_0x23eeff(0x3c3)](updateOnlineIndicator);if(!_0x190679){const _0x3dd3d9=db[_0x23eeff(0x236)]()[_0x23eeff(0x367)]()[_0x23eeff(0x331)];db[_0x23eeff(0x236)](_0x23eeff(0x227)+roomCode+'/messages/'+_0x3dd3d9)[_0x23eeff(0x298)]({'msg':username+_0x23eeff(0x26c),'sender':_0x23eeff(0x23d),'senderId':_0x5edcef[_0x23eeff(0x3fa)],'timestamp':Date[_0x23eeff(0x2b9)]()});}_0x5ad375['onDisconnect']()[_0x23eeff(0x3e6)]({'online':![],'lastOnline':Date[_0x23eeff(0x2b9)]()});});});}function uploadSidebarAvatar(_0x2872ac){const _0x10f12f=_0x16448f,_0xb40e29={'Drwyv':_0x10f12f(0x1ce),'wOodx':function(_0x321164,_0x36806e){return _0x321164(_0x36806e);},'AboxD':_0x10f12f(0x309)};if(!_0x2872ac[_0x10f12f(0x28a)][_0x10f12f(0x43d)])return;const _0x1645f2=_0x2872ac[_0x10f12f(0x28a)][0x0],_0x516082=new FileReader();_0x516082[_0x10f12f(0x17d)]=async()=>{const _0x10c2ec=_0x10f12f,_0x24a34d=_0x516082[_0x10c2ec(0x247)][_0x10c2ec(0x32f)](',')[0x1];document[_0x10c2ec(0x3d2)](_0x10c2ec(0x1ce))[_0x10c2ec(0x457)]=_0x516082[_0x10c2ec(0x247)],document[_0x10c2ec(0x3d2)](_0xb40e29[_0x10c2ec(0x1e5)])['style'][_0x10c2ec(0x3b2)]=_0x10c2ec(0x3ad);try{const _0x3e8196=sanitizeUsername(username);await db[_0x10c2ec(0x236)](_0x10c2ec(0x3e5)+_0x3e8196+'/avatarBase64')[_0x10c2ec(0x298)](_0x24a34d),_0xb40e29[_0x10c2ec(0x464)](alert,_0xb40e29[_0x10c2ec(0x357)]);}catch(_0x3117bd){console[_0x10c2ec(0x43f)](_0x3117bd),alert(_0x10c2ec(0x198));}},_0x516082[_0x10f12f(0x3c4)](_0x1645f2);}function muteUser(_0x512445,_0xb47599){const _0x1e4711=_0x16448f,_0x484c66={'zUoNC':function(_0x5194be,_0x43cda0){return _0x5194be(_0x43cda0);},'HRAjG':function(_0x419a31,_0x5c6b4a){return _0x419a31+_0x5c6b4a;},'DXYMv':function(_0x2e991,_0x3b42af){return _0x2e991*_0x3b42af;},'oOzQz':function(_0x3d554b,_0x20fcec){return _0x3d554b*_0x20fcec;}},_0x4e2182=_0x484c66['HRAjG'](Date[_0x1e4711(0x2b9)](),_0x484c66[_0x1e4711(0x2eb)](_0x484c66['oOzQz'](_0xb47599,0x3c),0x3e8));db[_0x1e4711(0x236)](_0x1e4711(0x1ee)+roomCode+'/'+_0x484c66[_0x1e4711(0x326)](sanitizeUsername,_0x512445))[_0x1e4711(0x298)]({'muteUntil':_0x4e2182})[_0x1e4711(0x1b7)](()=>{const _0x78d0cd=_0x1e4711;_0x484c66[_0x78d0cd(0x326)](alert,_0x512445+_0x78d0cd(0x302)+_0xb47599+_0x78d0cd(0x18d)),_0x484c66['zUoNC'](addSystemMessage,_0x512445+_0x78d0cd(0x41e)+_0xb47599+'\x20minutes');});}function unmuteUser(_0x1193c8){const _0x298b17=_0x16448f,_0x4fc6e8={'oaWgY':'Admins\x20only.','VDBLa':function(_0x22db9b,_0x6202cb){return _0x22db9b(_0x6202cb);}};if(!isRoomAdmin)return alert(_0x4fc6e8[_0x298b17(0x1a4)]);db['ref']('muted/'+roomCode+'/'+_0x4fc6e8[_0x298b17(0x1e7)](sanitizeUsername,_0x1193c8))[_0x298b17(0x274)]();}function updateOnlineIndicator(){const _0x265e5c=_0x16448f,_0x361f09={'oAsuO':_0x265e5c(0x456),'RTnAo':_0x265e5c(0x306)},_0x141aac=document[_0x265e5c(0x3d2)](_0x361f09[_0x265e5c(0x1d2)]);_0x141aac[_0x265e5c(0x17f)]=_0x265e5c(0x1e2),_0x141aac['style'][_0x265e5c(0x1ea)]=_0x361f09[_0x265e5c(0x226)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x6e5c59){const _0x58301e=_0x16448f,_0x489caa={'Evuiy':_0x58301e(0x45d),'DALSJ':_0x58301e(0x364),'VgIwe':'profileContent','Xheul':_0x58301e(0x3ad)};db[_0x58301e(0x236)](_0x58301e(0x3e5)+_0x6e5c59)[_0x58301e(0x3a4)]()['then'](_0x3b671c=>{const _0x13bace=_0x58301e;if(!_0x3b671c['exists']())return alert(_0x489caa[_0x13bace(0x204)]);const _0x2e9fe1=_0x3b671c['val'](),_0x56ee7d=('\x0aName:\x20'+_0x2e9fe1[_0x13bace(0x3ea)]+_0x13bace(0x2fe)+(_0x2e9fe1[_0x13bace(0x38f)]||_0x13bace(0x429))+_0x13bace(0x3d5)+((_0x2e9fe1[_0x13bace(0x19e)]||[])[_0x13bace(0x25d)](',\x20')||_0x13bace(0x1a0))+_0x13bace(0x415)+(_0x2e9fe1[_0x13bace(0x181)]?new Date(_0x2e9fe1[_0x13bace(0x181)])[_0x13bace(0x397)]():_0x489caa[_0x13bace(0x44e)])+'\x0a\x20\x20\x20\x20')[_0x13bace(0x1dd)]();document[_0x13bace(0x3d2)](_0x489caa['VgIwe'])[_0x13bace(0x17f)]=_0x56ee7d,document[_0x13bace(0x3d2)](_0x13bace(0x438))[_0x13bace(0x2a2)][_0x13bace(0x3b2)]=_0x489caa[_0x13bace(0x2a4)];});}function initUsernameFlow(){const _0x1ffeac=_0x16448f,_0xada3d2={'aKHLb':_0x1ffeac(0x36b),'BvSsO':function(_0x57b5c9,_0x255c0e){return _0x57b5c9(_0x255c0e);},'YqbEv':_0x1ffeac(0x258),'VUShp':_0x1ffeac(0x26d),'TqQXi':function(_0x447d7b,_0x1e155f){return _0x447d7b(_0x1e155f);},'FwxOK':_0x1ffeac(0x426)},_0x3741bd=localStorage[_0x1ffeac(0x409)](_0xada3d2[_0x1ffeac(0x294)]);!_0x3741bd?_0xada3d2[_0x1ffeac(0x1bd)](showScreen,_0xada3d2[_0x1ffeac(0x3d8)]):(username=_0x3741bd,document[_0x1ffeac(0x3d2)](_0xada3d2['VUShp'])[_0x1ffeac(0x17f)]=username,_0xada3d2['TqQXi'](showScreen,_0xada3d2[_0x1ffeac(0x41a)]),history[_0x1ffeac(0x27a)]({'screen':'mainApp'},''));}function closeProfile(){const _0x546224=_0x16448f,_0x80ed93={'lzXBu':_0x546224(0x44f)};document[_0x546224(0x3d2)](_0x546224(0x438))[_0x546224(0x2a2)][_0x546224(0x3b2)]=_0x80ed93['lzXBu'];}function resetWebsiteData(){const _0x27d018=_0x16448f,_0x18ba7f={'THnCf':_0x27d018(0x45c),'DhYyA':'2048_avatar','sHMkm':_0x27d018(0x47a),'ygALc':function(_0x419220,_0x249025){return _0x419220||_0x249025;},'mZTkm':'3|0|1|4|2','UNFcl':function(_0x5ea760,_0x3b0ccf){return _0x5ea760+_0x3b0ccf;}};try{const _0x42e89f=localStorage[_0x27d018(0x409)]('notifications_enabled');localStorage[_0x27d018(0x1ab)](),sessionStorage[_0x27d018(0x1ab)](),sessionStorage[_0x27d018(0x27b)](_0x18ba7f[_0x27d018(0x379)]),sessionStorage[_0x27d018(0x27b)](_0x18ba7f[_0x27d018(0x180)]),_0x42e89f&&localStorage[_0x27d018(0x341)](_0x18ba7f[_0x27d018(0x1c0)],_0x42e89f);}catch(_0x52ba6d){}if(_0x18ba7f[_0x27d018(0x1d8)](!username,!roomCode)){const _0x3f2d78=_0x18ba7f[_0x27d018(0x1be)][_0x27d018(0x32f)]('|');let _0x6820d5=0x0;while(!![]){switch(_0x3f2d78[_0x6820d5++]){case'0':roomCode=null;continue;case'1':isRoomAdmin=![];continue;case'2':clientId=_0x18ba7f[_0x27d018(0x366)]('_',Math[_0x27d018(0x196)]()['toString'](0x24)[_0x27d018(0x46c)](0x2,0x9));continue;case'3':username=null;continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x513637=_0x16448f,_0x29710b={'ODpqI':function(_0x58cc7a,_0x1a7b54){return _0x58cc7a(_0x1a7b54);},'rZIYc':'Enter\x20Announcement\x20Text:'},_0x37e040=_0x29710b[_0x513637(0x2b4)](prompt,_0x29710b[_0x513637(0x21a)]);if(!_0x37e040)return;db['ref'](_0x513637(0x227)+roomCode+_0x513637(0x3f9))[_0x513637(0x298)]({'text':_0x37e040,'by':username,'timestamp':Date[_0x513637(0x2b9)]()});}function listenForAnnouncement(){const _0x2ca780=_0x16448f,_0xf8f95a={'paYHY':'announcementArea','uFijh':_0x2ca780(0x205)},_0x47f45b=db[_0x2ca780(0x236)]('rooms/'+roomCode+'/announcement');_0x47f45b['on'](_0xf8f95a[_0x2ca780(0x2f0)],_0x4ff5e1=>{const _0x5600d1=_0x2ca780,_0x1a9b98=_0x4ff5e1[_0x5600d1(0x486)]();if(!_0x1a9b98){document[_0x5600d1(0x3d2)](_0xf8f95a['paYHY'])[_0x5600d1(0x17f)]='';return;}const _0x8cca44=document[_0x5600d1(0x3d2)](_0x5600d1(0x240));_0x8cca44[_0x5600d1(0x17f)]=''+_0x1a9b98[_0x5600d1(0x37c)];});}document[_0x16448f(0x3d2)](_0x16448f(0x240))[_0x16448f(0x32d)]('click',_0x297d56=>{const _0x540325=_0x16448f,_0x131355={'BYpPa':function(_0x35dda7,_0x298cce){return _0x35dda7(_0x298cce);},'nVwUW':_0x540325(0x423)};_0x297d56[_0x540325(0x2e1)]===0x3&&isRoomAdmin&&(_0x131355[_0x540325(0x1fb)](confirm,_0x131355[_0x540325(0x359)])&&db['ref'](_0x540325(0x227)+roomCode+'/announcement')['remove']());}),document[_0x16448f(0x3d2)](_0x16448f(0x237))['addEventListener']('input',()=>{const _0x166511=_0x16448f,_0x33213d={'tFmiU':_0x166511(0x368)},_0x4a7eaf=document[_0x166511(0x3d2)]('msgInput');_0xfa12fe?_0x4a7eaf[_0x166511(0x2a2)][_0x166511(0x475)]=_0x166511(0x368):_0x4a7eaf['style'][_0x166511(0x475)]='';const _0x423eba=_0x4a7eaf['value'][_0x166511(0x17c)](),_0xfa12fe=swearWords[_0x166511(0x41d)](_0x2b4706=>_0x423eba[_0x166511(0x3ae)](_0x2b4706));_0xfa12fe?(_0x4a7eaf['style'][_0x166511(0x475)]=_0x33213d[_0x166511(0x26e)],sendBtn[_0x166511(0x1b2)]=!![]):(_0x4a7eaf['style'][_0x166511(0x475)]='',_0xfa12fe?_0x4a7eaf[_0x166511(0x2a2)][_0x166511(0x475)]=_0x33213d[_0x166511(0x26e)]:_0x4a7eaf['style'][_0x166511(0x475)]='');});function muteUser(_0x5e74f3,_0x4a74b1){const _0x1c0046=_0x16448f,_0x30b576={'eIbyv':function(_0x318367,_0x496976){return _0x318367+_0x496976;},'DDTNr':function(_0x2cc13c,_0x149f81){return _0x2cc13c*_0x149f81;},'adTRu':function(_0x5a6416,_0x51b35c){return _0x5a6416*_0x51b35c;},'DBGkn':function(_0x561c27,_0x45b8bf){return _0x561c27(_0x45b8bf);}},_0x5788ea=_0x30b576[_0x1c0046(0x41b)](Date[_0x1c0046(0x2b9)](),_0x30b576[_0x1c0046(0x2c2)](_0x30b576[_0x1c0046(0x208)](_0x4a74b1,0x3c),0x3e8));db[_0x1c0046(0x236)]('muted/'+roomCode+'/'+_0x30b576[_0x1c0046(0x304)](sanitizeUsername,_0x5e74f3))[_0x1c0046(0x298)]({'muteUntil':_0x5788ea})[_0x1c0046(0x1b7)](()=>{const _0x286105=_0x1c0046;alert(_0x5e74f3+_0x286105(0x302)+_0x4a74b1+_0x286105(0x18d));});}function deleteUserMessages(_0x3504dd){const _0x12f8de=_0x16448f,_0x4b6b87={'pGhEx':function(_0x374f7c,_0xbba7d4){return _0x374f7c(_0xbba7d4);},'oSXSD':'sender'};db[_0x12f8de(0x236)](_0x12f8de(0x227)+roomCode+'/messages')[_0x12f8de(0x3ec)](_0x4b6b87[_0x12f8de(0x28d)])[_0x12f8de(0x1fe)](_0x3504dd)[_0x12f8de(0x3a4)]()['then'](_0x4a872d=>{const _0x5d7859=_0x12f8de;_0x4a872d[_0x5d7859(0x34b)](_0x3e016c=>{const _0x2cbaa4=_0x5d7859;db[_0x2cbaa4(0x236)](_0x2cbaa4(0x227)+roomCode+'/messages/'+_0x3e016c['key'])[_0x2cbaa4(0x274)]();}),_0x4b6b87['pGhEx'](alert,_0x5d7859(0x24e)+_0x3504dd+_0x5d7859(0x2c8));});}function pauseRoom(_0x4f400e){const _0x21f237=_0x16448f,_0x267577={'pxnse':_0x21f237(0x2af),'RcoFF':_0x21f237(0x3ad),'mRNuH':'none','oCZLE':'value'};db['ref'](_0x21f237(0x227)+roomCode+_0x21f237(0x441))['on'](_0x267577[_0x21f237(0x3bc)],_0x3c8de4=>{const _0x33f91a=_0x21f237,_0x3d1ebb=_0x3c8de4['val']();document['getElementById'](_0x267577[_0x33f91a(0x2a0)])[_0x33f91a(0x2a2)]['display']=_0x3d1ebb?_0x267577[_0x33f91a(0x1b8)]:_0x267577[_0x33f91a(0x1e3)];});}function canPerformAction(_0x2a4e46){const _0x586d27=_0x16448f,_0x2a81d4={'DPOMV':'2|1|4|0|3','ASdKY':function(_0x9d86,_0x5021d1){return _0x9d86===_0x5021d1;},'TqGzy':'promote','yiwWY':function(_0x10d7a2,_0x98f4fb){return _0x10d7a2===_0x98f4fb;},'dBaWL':'admin','lfDQa':function(_0x3ac9c7,_0x22220d){return _0x3ac9c7===_0x22220d;},'EoGbA':function(_0x5ddcd2,_0x50b945){return _0x5ddcd2===_0x50b945;},'KLNdD':_0x586d27(0x2b1),'mUqUe':_0x586d27(0x463),'FBCxg':function(_0x5d026a,_0x5282d6){return _0x5d026a===_0x5282d6;},'ieIcP':_0x586d27(0x23a),'rQxLc':function(_0x42238f,_0x374fef){return _0x42238f===_0x374fef;}},_0x4a752d=_0x2a81d4['DPOMV'][_0x586d27(0x32f)]('|');let _0x229522=0x0;while(!![]){switch(_0x4a752d[_0x229522++]){case'0':if(_0x2a81d4[_0x586d27(0x360)](_0x2a4e46,_0x2a81d4[_0x586d27(0x225)]))return _0x2a81d4['yiwWY'](role,_0x2a81d4[_0x586d27(0x2ef)]);continue;case'1':if(_0x2a81d4['ASdKY'](_0x2a4e46,'mute'))return _0x2a81d4[_0x586d27(0x3eb)](role,_0x2a81d4[_0x586d27(0x2ef)])||_0x2a81d4[_0x586d27(0x36a)](role,_0x2a81d4[_0x586d27(0x1d3)])||_0x2a81d4[_0x586d27(0x36a)](role,_0x586d27(0x362));continue;case'2':if(_0x2a81d4['yiwWY'](role,_0x2a81d4[_0x586d27(0x1f5)]))return!![];continue;case'3':return![];case'4':if(_0x2a81d4[_0x586d27(0x31b)](_0x2a4e46,_0x2a81d4[_0x586d27(0x482)])||_0x2a4e46===_0x2a81d4[_0x586d27(0x225)])return _0x2a81d4[_0x586d27(0x2c4)](role,_0x2a81d4[_0x586d27(0x2ef)]);continue;}break;}}const html=Object[_0x16448f(0x38a)](roomUsers)[_0x16448f(0x2ec)](_0x2834f5=>{const _0x3fa604=_0x16448f,_0x6e2b25={'FiLAi':function(_0x50bbc2,_0x26738a){return _0x50bbc2(_0x26738a);},'aFRrH':function(_0x548d37,_0xeabbf8){return _0x548d37(_0xeabbf8);},'pCnwt':'mute','ZmvCn':_0x3fa604(0x23a),'yrkae':function(_0x45ed73,_0x59a84d){return _0x45ed73===_0x59a84d;},'XSoGg':'dev','imamW':_0x3fa604(0x2bc),'irJGY':function(_0x35d406,_0x4a4ea4){return _0x35d406(_0x4a4ea4);}},_0x1defc7=_0x6e2b25[_0x3fa604(0x455)](sanitizeUsername,_0x2834f5[_0x3fa604(0x3ea)]),_0x38d850=[];if(_0x1defc7!==_0x6e2b25[_0x3fa604(0x485)](sanitizeUsername,username)){canPerformAction(_0x6e2b25['pCnwt'])&&(_0x38d850['push'](_0x3fa604(0x1ad)+_0x1defc7+_0x3fa604(0x380)),_0x38d850[_0x3fa604(0x367)](_0x3fa604(0x1ad)+_0x1defc7+_0x3fa604(0x2db)));canPerformAction(_0x6e2b25['ZmvCn'])&&_0x38d850[_0x3fa604(0x367)](_0x3fa604(0x1f4)+_0x1defc7+_0x3fa604(0x43c));if(_0x6e2b25[_0x3fa604(0x334)](role,_0x6e2b25[_0x3fa604(0x3e0)]))_0x38d850[_0x3fa604(0x367)](_0x3fa604(0x245)+_0x1defc7+_0x3fa604(0x1f6)),_0x38d850['push'](_0x3fa604(0x439)+_0x1defc7+_0x3fa604(0x23e));else role===_0x6e2b25[_0x3fa604(0x2ba)]&&_0x38d850[_0x3fa604(0x367)](_0x3fa604(0x245)+_0x1defc7+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x3fa604(0x363)+_0x2834f5[_0x3fa604(0x3ea)]+'\x20'+getRoleTag(_0x6e2b25['irJGY'](sanitizeUsername,_0x2834f5[_0x3fa604(0x3ea)]))+_0x3fa604(0x3a5)+_0x1defc7+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x38d850[_0x3fa604(0x25d)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x1defc7+_0x3fa604(0x1da);})['join']('');function promoteToModerator(_0x23ea39){const _0x17f382=_0x16448f,_0x514e98={'XyeND':function(_0x5c12cb,_0x242ccc){return _0x5c12cb(_0x242ccc);},'NLVXM':function(_0x46faa8,_0x5acc83){return _0x46faa8(_0x5acc83);},'RecEH':function(_0x12c795,_0x4848be){return _0x12c795(_0x4848be);},'aRfXE':function(_0x294c7a,_0x40062a){return _0x294c7a(_0x40062a);},'FVXUz':_0x17f382(0x384),'MhVTJ':function(_0x1f4f8d,_0x3b6a5a){return _0x1f4f8d!==_0x3b6a5a;},'axgud':'dev','JksuZ':_0x17f382(0x2bc)},_0x1afa90=_0x514e98[_0x17f382(0x29a)](sanitizeUsername,_0x23ea39);if(_0x514e98[_0x17f382(0x2e5)](isProtected,_0x1afa90))return _0x514e98['aRfXE'](alert,_0x514e98[_0x17f382(0x1bf)]);if(_0x514e98['MhVTJ'](role,_0x514e98[_0x17f382(0x2bb)])&&_0x514e98[_0x17f382(0x22c)](role,_0x514e98['JksuZ'])){alert('Only\x20Devs\x20or\x20Admins\x20can\x20promote.');return;}db[_0x17f382(0x236)]('moderators/'+roomCode+'/'+_0x1afa90)['set'](!![])[_0x17f382(0x1b7)](()=>{const _0x2d4636=_0x17f382;_0x514e98[_0x2d4636(0x2e0)](alert,_0x23ea39+_0x2d4636(0x412)),_0x514e98[_0x2d4636(0x2e0)](addSystemMessage,_0x23ea39+_0x2d4636(0x36d));});}function promoteToAdmin(_0x5f47f8){const _0x5e6bc5=_0x16448f,_0x447cf6={'pKKps':function(_0x518288,_0x514463){return _0x518288(_0x514463);},'bjgVS':function(_0xc8f583,_0x52f4a9){return _0xc8f583(_0x52f4a9);},'WJtVd':_0x5e6bc5(0x384),'hDrLw':function(_0x4390d2,_0x5d3a55){return _0x4390d2(_0x5d3a55);},'RwxRj':_0x5e6bc5(0x433)},_0x138e27=_0x447cf6['pKKps'](sanitizeUsername,_0x5f47f8);if(isProtected(_0x138e27))return _0x447cf6[_0x5e6bc5(0x1a3)](alert,_0x447cf6[_0x5e6bc5(0x22b)]);if(role!==_0x5e6bc5(0x463)){_0x447cf6[_0x5e6bc5(0x405)](alert,_0x447cf6[_0x5e6bc5(0x390)]);return;}db[_0x5e6bc5(0x236)](_0x5e6bc5(0x28b)+roomCode+'/'+_0x138e27)[_0x5e6bc5(0x298)](!![])[_0x5e6bc5(0x1b7)](()=>{const _0x344306=_0x5e6bc5;_0x447cf6[_0x344306(0x348)](alert,_0x5f47f8+_0x344306(0x444)),_0x447cf6[_0x344306(0x1a3)](addSystemMessage,_0x5f47f8+_0x344306(0x1d7));});}function toggleUserOptions(_0x2b4ee4){const _0x33d2bb=_0x16448f,_0x484167={'ojYfQ':'dev','OUfnQ':function(_0x377f6f,_0xaebf57){return _0x377f6f===_0xaebf57;},'UTSlA':_0x33d2bb(0x44f),'ETkTh':_0x33d2bb(0x3ad)};(role===_0x484167[_0x33d2bb(0x35d)]||_0x484167[_0x33d2bb(0x346)](role,_0x33d2bb(0x2bc)))&&controls[_0x33d2bb(0x367)]('<button\x20onclick=\x22demoteUser(\x27'+safeName+_0x33d2bb(0x2a3));const _0x5ce84c=document[_0x33d2bb(0x3d2)](_0x33d2bb(0x272)+_0x2b4ee4);_0x484167[_0x33d2bb(0x346)](_0x5ce84c[_0x33d2bb(0x2a2)][_0x33d2bb(0x3b2)],_0x484167[_0x33d2bb(0x46f)])?_0x5ce84c[_0x33d2bb(0x2a2)]['display']=_0x484167[_0x33d2bb(0x335)]:_0x5ce84c[_0x33d2bb(0x2a2)][_0x33d2bb(0x3b2)]=_0x33d2bb(0x44f);}function demoteUser(_0x12e5a5){const _0x46caf6=_0x16448f,_0x53cbe7={'iOyio':function(_0x109f9f,_0x1f9772){return _0x109f9f(_0x1f9772);},'XfHOz':'üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','wWNsG':function(_0x3324ae,_0x2867f9){return _0x3324ae===_0x2867f9;},'IbdLV':function(_0x2a5ca5,_0xdf4e15){return _0x2a5ca5(_0xdf4e15);},'mYqpi':function(_0x1dd568,_0x26dcb1){return _0x1dd568(_0x26dcb1);},'Jamhy':function(_0x2a8a31,_0x3887dd){return _0x2a8a31(_0x3887dd);}};if(_0x53cbe7[_0x46caf6(0x27e)](isProtected,_0x12e5a5))return _0x53cbe7[_0x46caf6(0x27e)](alert,_0x53cbe7['XfHOz']);if(_0x53cbe7[_0x46caf6(0x235)](role,'dev'))db[_0x46caf6(0x236)](_0x46caf6(0x28b)+roomCode+'/'+_0x12e5a5)[_0x46caf6(0x274)](),db[_0x46caf6(0x236)]('moderators/'+roomCode+'/'+_0x12e5a5)[_0x46caf6(0x274)](),_0x53cbe7[_0x46caf6(0x2cb)](alert,_0x12e5a5+_0x46caf6(0x46a)),_0x53cbe7['mYqpi'](addSystemMessage,_0x12e5a5+_0x46caf6(0x3b7));else _0x53cbe7[_0x46caf6(0x235)](role,'admin')?(db[_0x46caf6(0x236)](_0x46caf6(0x1c1)+roomCode+'/'+_0x12e5a5)[_0x46caf6(0x274)](),_0x53cbe7[_0x46caf6(0x255)](alert,_0x12e5a5+_0x46caf6(0x46a)),_0x53cbe7[_0x46caf6(0x293)](addSystemMessage,_0x12e5a5+_0x46caf6(0x3b7))):_0x53cbe7[_0x46caf6(0x27e)](alert,_0x46caf6(0x3ab));}function getRoleTag(_0x438de4){const _0x536728=_0x16448f,_0x5f2244={'WbVgd':function(_0x2111de,_0xd17e41){return _0x2111de(_0xd17e41);}},_0x39b667=_0x5f2244[_0x536728(0x18e)](sanitizeUsername,_0x438de4);if(globalDevs[_0x536728(0x3ae)](_0x39b667))return _0x536728(0x2e3);if(roomAdmins[_0x536728(0x3ae)](_0x39b667))return _0x536728(0x20e);if(roomModerators[_0x536728(0x3ae)](_0x39b667))return _0x536728(0x197);return'';}async function loadRoomRoles(){const _0x29e3ca=_0x16448f,_0xc3e5c0={'XUOkj':function(_0x5e0a7f,_0x361ebb){return _0x5e0a7f===_0x361ebb;},'ZiBQT':'dev','wNUCv':function(_0x246190,_0x538078){return _0x246190(_0x538078);},'eKpWj':'auth','nMjtb':_0x29e3ca(0x2bc),'yQWTM':_0x29e3ca(0x2b1),'sivtZ':_0x29e3ca(0x229)},_0x52b7d4=_0xc3e5c0[_0x29e3ca(0x1af)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x3d030f=await db[_0x29e3ca(0x236)](_0xc3e5c0['eKpWj'])[_0x29e3ca(0x3a4)]();_0x3d030f['forEach'](_0x4b4735=>{const _0x194162=_0x29e3ca;if(_0xc3e5c0[_0x194162(0x1cd)](_0x4b4735[_0x194162(0x486)]()[_0x194162(0x249)],_0xc3e5c0[_0x194162(0x2cc)]))globalDevs[_0x194162(0x367)](_0x4b4735[_0x194162(0x331)]);});const _0x40b189=await db['ref'](_0x29e3ca(0x28b)+roomCode)[_0x29e3ca(0x3a4)]();_0x40b189[_0x29e3ca(0x28c)]()&&_0x40b189[_0x29e3ca(0x34b)](_0x26f7d6=>roomAdmins['push'](_0x26f7d6[_0x29e3ca(0x331)]));const _0x596c65=await db[_0x29e3ca(0x236)](_0x29e3ca(0x1c1)+roomCode)[_0x29e3ca(0x3a4)]();_0x596c65[_0x29e3ca(0x28c)]()&&_0x596c65['forEach'](_0x523d11=>roomModerators['push'](_0x523d11[_0x29e3ca(0x331)]));if(globalDevs[_0x29e3ca(0x3ae)](_0x52b7d4))role=_0xc3e5c0[_0x29e3ca(0x2cc)];else{if(roomAdmins[_0x29e3ca(0x3ae)](_0x52b7d4))role=_0xc3e5c0[_0x29e3ca(0x3b8)];else roomModerators[_0x29e3ca(0x3ae)](_0x52b7d4)?role=_0xc3e5c0[_0x29e3ca(0x449)]:role=_0xc3e5c0[_0x29e3ca(0x1d1)];}}async function renderUserLists(_0x3940b6){const _0x19b4ce=_0x16448f,_0x271a1c={'kDBzI':function(_0x5627dd,_0x5e0d8d){return _0x5627dd(_0x5e0d8d);},'UHZYd':function(_0x2e40dd,_0x2148fe){return _0x2e40dd(_0x2148fe);},'MCblb':function(_0x51bd8a,_0x5c7389){return _0x51bd8a(_0x5c7389);},'gewTn':function(_0x3d481b,_0x1ed4d4){return _0x3d481b===_0x1ed4d4;},'AQUyA':_0x19b4ce(0x362),'hYPce':_0x19b4ce(0x2b1),'KkKvP':_0x19b4ce(0x2bc),'ioyPX':'dev','JByDA':function(_0x4215da,_0x348128){return _0x4215da===_0x348128;},'SGfWa':function(_0x3f63b8,_0x1a170f){return _0x3f63b8(_0x1a170f);},'CoSai':_0x19b4ce(0x391),'BdgTY':_0x19b4ce(0x3ad),'dUFzV':_0x19b4ce(0x44f),'UygNt':'userList','QSAyt':'adminUserList'};roomUsers=_0x3940b6;const _0x467aa1=_0x271a1c[_0x19b4ce(0x262)](sanitizeUsername,username),_0x37f04f=[_0x271a1c[_0x19b4ce(0x3f3)],_0x271a1c[_0x19b4ce(0x310)],_0x271a1c[_0x19b4ce(0x2dd)],_0x271a1c[_0x19b4ce(0x434)]]['includes'](role);document[_0x19b4ce(0x3d2)](_0x271a1c['CoSai'])[_0x19b4ce(0x2a2)][_0x19b4ce(0x3b2)]=_0x37f04f?_0x271a1c[_0x19b4ce(0x3c0)]:_0x271a1c[_0x19b4ce(0x40f)];const _0x23a6b7=Object[_0x19b4ce(0x344)](_0x3940b6)[_0x19b4ce(0x2ec)](async([_0x557178,_0x538dde])=>{const _0x348f4d=_0x19b4ce,_0xb9a51c=_0x271a1c[_0x348f4d(0x2c6)](sanitizeUsername,_0x538dde[_0x348f4d(0x3ea)]||_0x557178),_0x1d4503=await fetchAvatar(_0xb9a51c),_0x268b78=_0x1d4503?_0x348f4d(0x266)+_0x1d4503+_0x348f4d(0x217):'',_0x1c3233=_0x538dde[_0x348f4d(0x277)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':_0x348f4d(0x47b);return'<li>'+_0x268b78+'\x20'+_0x1c3233+_0x348f4d(0x396)+_0xb9a51c+_0x348f4d(0x1e1)+(_0x538dde['username']||_0x557178)+_0x348f4d(0x39c)+_0x271a1c[_0x348f4d(0x216)](getRoleTag,_0xb9a51c)+_0x348f4d(0x312);});document[_0x19b4ce(0x3d2)](_0x271a1c[_0x19b4ce(0x1fc)])['innerHTML']=(await Promise[_0x19b4ce(0x31d)](_0x23a6b7))[_0x19b4ce(0x25d)]('');if(!_0x37f04f)return;const _0x29b6b8=Object[_0x19b4ce(0x344)](_0x3940b6)['map'](async([_0x4ef605,_0x5218ec])=>{const _0x3cec1a=_0x19b4ce,_0xdc1a2a=_0x271a1c[_0x3cec1a(0x2ea)](sanitizeUsername,_0x5218ec['username']||_0x4ef605);if(_0x271a1c[_0x3cec1a(0x3dc)](_0xdc1a2a,_0x467aa1))return'';const _0x183fd8=globalDevs[_0x3cec1a(0x3ae)](_0xdc1a2a),_0x4a7672=await fetchAvatar(_0xdc1a2a),_0x54e602=_0x4a7672?'<img\x20src=\x22data:image/png;base64,'+_0x4a7672+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x5c749d=_0x5218ec[_0x3cec1a(0x277)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>',_0x41920a=[];if(!_0x183fd8){[_0x271a1c[_0x3cec1a(0x434)],_0x271a1c[_0x3cec1a(0x2dd)],_0x271a1c['KkKvP'],_0x3cec1a(0x463)][_0x3cec1a(0x3ae)](role)&&(_0x41920a['push']('<button\x20onclick=\x22muteUser(\x27'+_0xdc1a2a+'\x27,\x201)\x22>Mute\x201m</button>'),_0x41920a[_0x3cec1a(0x367)]('<button\x20onclick=\x22muteUser(\x27'+_0xdc1a2a+_0x3cec1a(0x380)),_0x41920a['push']('<button\x20onclick=\x22muteUser(\x27'+_0xdc1a2a+_0x3cec1a(0x2db)));if(role===_0x271a1c[_0x3cec1a(0x3f3)])_0x41920a[_0x3cec1a(0x367)](_0x3cec1a(0x245)+_0xdc1a2a+'\x27)\x22>+Mod</button>'),_0x41920a[_0x3cec1a(0x367)](_0x3cec1a(0x439)+_0xdc1a2a+_0x3cec1a(0x350)),_0x41920a[_0x3cec1a(0x367)]('<button\x20onclick=\x22demoteUser(\x27'+_0xdc1a2a+_0x3cec1a(0x2a3));else _0x271a1c[_0x3cec1a(0x3e8)](role,_0x271a1c[_0x3cec1a(0x310)])&&(_0x41920a[_0x3cec1a(0x367)](_0x3cec1a(0x245)+_0xdc1a2a+_0x3cec1a(0x44a)),_0x41920a[_0x3cec1a(0x367)]('<button\x20onclick=\x22demoteUser(\x27'+_0xdc1a2a+_0x3cec1a(0x2a3)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x54e602+'\x20'+_0x5c749d+_0x3cec1a(0x203)+(_0x5218ec[_0x3cec1a(0x3ea)]||_0x4ef605)+'\x20'+_0x271a1c[_0x3cec1a(0x2c6)](getRoleTag,_0xdc1a2a)+_0x3cec1a(0x352)+_0x41920a[_0x3cec1a(0x25d)]('\x20')+'</div>\x0a\x20\x20\x20\x20\x20\x20</li>';});document[_0x19b4ce(0x3d2)](_0x271a1c[_0x19b4ce(0x389)])['innerHTML']=(await Promise[_0x19b4ce(0x31d)](_0x29b6b8))[_0x19b4ce(0x25d)]('');}function updateAnnouncementVisibility(){const _0x237ba9=_0x16448f,_0xfb1829={'ALHXA':_0x237ba9(0x231),'aazVW':function(_0x2894d9,_0x5c380c){return _0x2894d9===_0x5c380c;},'KaxZE':function(_0x18fdc4,_0x91cc87){return _0x18fdc4===_0x91cc87;},'whIws':_0x237ba9(0x44f)},_0x121a6c=document[_0x237ba9(0x3d2)](_0xfb1829['ALHXA']);_0xfb1829[_0x237ba9(0x336)](role,'admin')||_0xfb1829[_0x237ba9(0x1cb)](role,_0x237ba9(0x463))?_0x121a6c['style'][_0x237ba9(0x3b2)]=_0x237ba9(0x3ad):_0x121a6c[_0x237ba9(0x2a2)][_0x237ba9(0x3b2)]=_0xfb1829[_0x237ba9(0x35e)];}async function fetchAvatar(_0x112f38){const _0x36724e=_0x16448f;if(userAvatars[_0x112f38])return userAvatars[_0x112f38];const _0x57859b=await db[_0x36724e(0x236)](_0x36724e(0x3e5)+_0x112f38)['get']();if(_0x57859b[_0x36724e(0x28c)]()&&_0x57859b[_0x36724e(0x486)]()[_0x36724e(0x369)])return userAvatars[_0x112f38]=_0x57859b[_0x36724e(0x486)]()[_0x36724e(0x369)],userAvatars[_0x112f38];return null;}function sendTyping(){const _0x43a3e8=_0x16448f,_0x63c782={'GOJVS':function(_0x2b56d0,_0x2e92cd){return _0x2b56d0(_0x2e92cd);},'uKJga':function(_0x3b8684,_0x134bd0,_0x13d0d3){return _0x3b8684(_0x134bd0,_0x13d0d3);}},_0x1dc86f=_0x63c782[_0x43a3e8(0x40b)](sanitizeUsername,username),_0x2dcb5e=Date[_0x43a3e8(0x2b9)]();db[_0x43a3e8(0x236)](_0x43a3e8(0x2d2)+roomCode+'/'+_0x1dc86f)[_0x43a3e8(0x298)](_0x2dcb5e);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=_0x63c782['uKJga'](setTimeout,()=>{const _0x53fe5c=_0x43a3e8;db[_0x53fe5c(0x236)]('typing/'+roomCode+'/'+_0x1dc86f)[_0x53fe5c(0x274)]();},0x1f4);}function listenForTyping(){const _0x1b4754=_0x16448f,_0x34ed58={'SJiwN':_0x1b4754(0x205)};db[_0x1b4754(0x236)](_0x1b4754(0x2d2)+roomCode)['on'](_0x34ed58[_0x1b4754(0x288)],_0x17df00=>{const _0x37e7a=_0x1b4754,_0x1b8501=document[_0x37e7a(0x3d2)](_0x37e7a(0x404));if(!_0x17df00[_0x37e7a(0x28c)]())return _0x1b8501[_0x37e7a(0x17f)]='';const _0x51a632=Date[_0x37e7a(0x2b9)](),_0x1351ab=Object[_0x37e7a(0x344)](_0x17df00[_0x37e7a(0x486)]())[_0x37e7a(0x1db)](([_0x1d101b,_0x57eebe])=>_0x1d101b!==sanitizeUsername(username)&&_0x51a632-_0x57eebe<0x1388)[_0x37e7a(0x2ec)](([_0x8f8738])=>_0x8f8738);_0x1b8501[_0x37e7a(0x17f)]=_0x1351ab[_0x37e7a(0x43d)]?_0x1351ab[_0x37e7a(0x25d)](',\x20')+_0x37e7a(0x202):'';});}function watchMuteStatus(){const _0x538f7e=_0x16448f,_0x26352d={'aCFBd':_0x538f7e(0x237),'BRwaR':_0x538f7e(0x2d6),'rwoEE':function(_0x3c3578,_0x53047f){return _0x3c3578===_0x53047f;},'gEQlp':function(_0x114db6,_0x5880db){return _0x114db6>_0x5880db;},'lqsdA':_0x538f7e(0x2d1),'YaUnC':function(_0x2acbb8,_0x5b8d7d,_0x24870d){return _0x2acbb8(_0x5b8d7d,_0x24870d);},'hnKFv':'value'},_0x283ab5=db[_0x538f7e(0x236)](_0x538f7e(0x1ee)+roomCode+'/'+sanitizeUsername(username));let _0x26196b;_0x283ab5['on'](_0x26352d['hnKFv'],_0xe2e875=>{const _0x424161=_0x538f7e;clearInterval(_0x26196b);const _0x360ea2=document[_0x424161(0x3d2)](_0x26352d[_0x424161(0x323)]);if(!_0xe2e875[_0x424161(0x28c)]()){_0x360ea2[_0x424161(0x1b2)]=![],_0x360ea2[_0x424161(0x1d4)]=_0x26352d[_0x424161(0x2be)];return;}const _0x276790=_0xe2e875[_0x424161(0x486)](),_0x48400e=_0x26352d['rwoEE'](typeof _0x276790,'object')&&_0x276790['muteUntil']?_0x276790[_0x424161(0x1c2)]:_0x276790;_0x26352d[_0x424161(0x2d5)](_0x48400e,Date[_0x424161(0x2b9)]())?(_0x360ea2[_0x424161(0x1b2)]=!![],_0x360ea2[_0x424161(0x1d4)]=_0x26352d['lqsdA'],_0x26196b=_0x26352d['YaUnC'](setInterval,()=>{const _0x38887f=_0x424161;Date[_0x38887f(0x2b9)]()>_0x48400e&&_0x283ab5[_0x38887f(0x274)]();},0xbb8)):(_0x360ea2[_0x424161(0x1b2)]=![],_0x360ea2[_0x424161(0x1d4)]=_0x26352d[_0x424161(0x2be)],_0x283ab5[_0x424161(0x274)]());});}function isProtected(_0x518538){const _0x260948=_0x16448f;return globalDevs[_0x260948(0x3ae)](_0x518538);}function addSystemMessage(_0x5a9dbd){const _0x56b733=_0x16448f,_0x2c22a7={'UqxTX':'div','AqvpU':_0x56b733(0x3fb),'ZQXem':_0x56b733(0x3c9),'nywYC':'messages'},_0x2a0c9e=document[_0x56b733(0x189)](_0x2c22a7[_0x56b733(0x2c0)]);_0x2a0c9e['style']['textAlign']=_0x2c22a7[_0x56b733(0x33c)],_0x2a0c9e[_0x56b733(0x2a2)][_0x56b733(0x22e)]=_0x2c22a7[_0x56b733(0x1bc)],_0x2a0c9e[_0x56b733(0x2a2)][_0x56b733(0x1ea)]=_0x56b733(0x3ff),_0x2a0c9e[_0x56b733(0x2a2)][_0x56b733(0x22d)]=_0x56b733(0x1f2),_0x2a0c9e[_0x56b733(0x17f)]=_0x5a9dbd,document[_0x56b733(0x3d2)](_0x2c22a7[_0x56b733(0x1ae)])['appendChild'](_0x2a0c9e),document[_0x56b733(0x3d2)](_0x2c22a7[_0x56b733(0x1ae)])[_0x56b733(0x1b5)]=document['getElementById'](_0x2c22a7[_0x56b733(0x1ae)])['scrollHeight'];}function reactToMessage(_0x5727cd,_0x38583e){const _0x2bc012=_0x16448f,_0x3e439c={'hQUEi':function(_0x33d82d,_0x501c3d){return _0x33d82d(_0x501c3d);},'IrAVC':_0x2bc012(0x205)},_0x36c754=_0x3e439c[_0x2bc012(0x3e3)](sanitizeUsername,username),_0x228452=db[_0x2bc012(0x236)]('rooms/'+roomCode+_0x2bc012(0x47c)+_0x5727cd+'/reactions');_0x228452[_0x2bc012(0x24d)](_0x3e439c['IrAVC'])[_0x2bc012(0x1b7)](_0x58a1fc=>{const _0xb954c2=_0x2bc012,_0x50031f=_0x58a1fc[_0xb954c2(0x486)]()||{},_0x43df8e={};for(const [_0x511a86,_0x57a044]of Object['entries'](_0x50031f)){_0x43df8e[_0x511a86]=(_0x57a044||[])[_0xb954c2(0x1db)](_0x566fdc=>_0x566fdc!==_0x36c754);}if(!_0x50031f[_0x38583e]||!_0x50031f[_0x38583e]['includes'](_0x36c754)){if(!_0x43df8e[_0x38583e])_0x43df8e[_0x38583e]=[];_0x43df8e[_0x38583e]['push'](_0x36c754);}_0x228452[_0xb954c2(0x298)](_0x43df8e);});}function startSidebarSyncLoop(){setInterval(async()=>{const _0x25456b=_0x9d4c;if(!roomCode)return;const _0x13c160=await db[_0x25456b(0x236)](_0x25456b(0x373)+roomCode)[_0x25456b(0x3a4)]();if(_0x13c160[_0x25456b(0x28c)]()){const _0x2ee05a=_0x13c160['val']();renderUserLists(_0x2ee05a);}},0x1388);}function gotoRoomMenu(){const _0x3aa62d=_0x16448f,_0x28b416={'GLARA':_0x3aa62d(0x26d),'bpjWV':'roomChoiceScreen'};document[_0x3aa62d(0x3d2)](_0x28b416[_0x3aa62d(0x215)])[_0x3aa62d(0x17f)]=username,showScreen(_0x28b416['bpjWV']);}function redirectTo2048(){const _0x2d9847=_0x16448f,_0x163ae6={'ryuaR':_0x2d9847(0x320),'WJSgv':function(_0x2972c9,_0x50c6ef){return _0x2972c9||_0x50c6ef;},'ypmkY':function(_0x167564,_0x4aab75){return _0x167564(_0x4aab75);}},_0x56dd23=localStorage[_0x2d9847(0x409)](_0x163ae6[_0x2d9847(0x250)]),_0x1ce81d=localStorage[_0x2d9847(0x409)](_0x2d9847(0x45c));if(_0x163ae6[_0x2d9847(0x1c9)](!_0x1ce81d,!_0x56dd23)){_0x163ae6[_0x2d9847(0x1c8)](alert,_0x2d9847(0x1c6));return;}window[_0x2d9847(0x333)][_0x2d9847(0x25f)]=_0x2d9847(0x2f6)+encodeURIComponent(_0x56dd23);}function redirectToBreakout(){const _0x5d23b1=_0x16448f,_0xa6f4b2={'UkqkA':'2048_token','dWULl':_0x5d23b1(0x45c),'PXqUb':function(_0x5df053,_0x5a477f){return _0x5df053(_0x5a477f);}},_0x595f9d=localStorage[_0x5d23b1(0x409)](_0xa6f4b2[_0x5d23b1(0x316)]),_0x140973=localStorage[_0x5d23b1(0x409)](_0xa6f4b2['dWULl']);if(!_0x140973||!_0x595f9d){_0xa6f4b2[_0x5d23b1(0x17a)](alert,_0x5d23b1(0x1c6));return;}window[_0x5d23b1(0x333)][_0x5d23b1(0x25f)]='https://breakout.webuserent.org?token='+_0xa6f4b2[_0x5d23b1(0x17a)](encodeURIComponent,_0x595f9d);}function goBackSafe(){const _0x100d22=_0x16448f,_0x57d1fd={'fBVQH':function(_0x363a14,_0xf76366){return _0x363a14!==_0xf76366;},'MTTnz':'authScreen','rJXik':function(_0x529b08,_0x4b6367){return _0x529b08(_0x4b6367);}};while(screenHistory['length']>0x0){const _0x10b750=screenHistory[_0x100d22(0x3b9)]();if(_0x57d1fd[_0x100d22(0x2a9)](_0x10b750,_0x57d1fd[_0x100d22(0x21b)])){_0x57d1fd[_0x100d22(0x324)](showScreen,_0x10b750);return;}}}