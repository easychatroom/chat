const _0xdecc3d=_0x3b9d;(function(_0xbc5582,_0x5f13c4){const _0x467fa4=_0x3b9d,_0x3b9969=_0xbc5582();while(!![]){try{const _0x2ada2b=-parseInt(_0x467fa4(0x31d))/0x1*(parseInt(_0x467fa4(0x1e8))/0x2)+parseInt(_0x467fa4(0x20e))/0x3*(parseInt(_0x467fa4(0x2de))/0x4)+-parseInt(_0x467fa4(0x34e))/0x5+-parseInt(_0x467fa4(0x215))/0x6+parseInt(_0x467fa4(0x1f4))/0x7*(parseInt(_0x467fa4(0x2ff))/0x8)+-parseInt(_0x467fa4(0x24e))/0x9+parseInt(_0x467fa4(0x30a))/0xa*(parseInt(_0x467fa4(0x1c2))/0xb);if(_0x2ada2b===_0x5f13c4)break;else _0x3b9969['push'](_0x3b9969['shift']());}catch(_0x22e1a0){_0x3b9969['push'](_0x3b9969['shift']());}}}(_0x4c6b,0x4d930));const firebaseConfig={'apiKey':_0xdecc3d(0x36c),'authDomain':_0xdecc3d(0x20f),'databaseURL':_0xdecc3d(0x33a),'projectId':'easy-chatroom','storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':_0xdecc3d(0x32b),'appId':_0xdecc3d(0x1dd),'measurementId':_0xdecc3d(0x232)};firebase[_0xdecc3d(0x28d)](firebaseConfig);const db=firebase[_0xdecc3d(0x200)]();let deviceId=null;((async()=>{const _0x4e5b14=_0xdecc3d,_0x1a34f6={'bOcFo':function(_0x267551){return _0x267551();}};deviceId=await _0x1a34f6[_0x4e5b14(0x1da)](generateDeviceId);})());const swearWords=[_0xdecc3d(0x35c),_0xdecc3d(0x23c),_0xdecc3d(0x261),'asshole',_0xdecc3d(0x1fb),_0xdecc3d(0x2bf),_0xdecc3d(0x2b5),'puta',_0xdecc3d(0x1b7),'pendejo','co√±o',_0xdecc3d(0x307),_0xdecc3d(0x1f9),_0xdecc3d(0x1cb),_0xdecc3d(0x1c4),_0xdecc3d(0x192),_0xdecc3d(0x2d9),'fdp','otario',_0xdecc3d(0x22d),'gago','tangina',_0xdecc3d(0x247),'bobo',_0xdecc3d(0x295),'putang\x20ina'];let notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0xdecc3d(0x22a)]()[_0xdecc3d(0x349)](0x24)[_0xdecc3d(0x198)](0x2,0x9),lastActivity=Date[_0xdecc3d(0x369)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound[_0xdecc3d(0x20b)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x496233=_0xdecc3d,_0x461f04={'NQNuJ':function(_0x713a3f,_0xce925b){return _0x713a3f+_0xce925b;},'idbCH':function(_0x1514ae,_0x46dff){return _0x1514ae+_0x46dff;},'DJFUx':function(_0x1440b5,_0x1e61e9){return _0x1440b5(_0x1e61e9);}},_0x35016f=_0x461f04['NQNuJ'](_0x461f04['idbCH'](navigator[_0x496233(0x2d8)],screen['width']),screen[_0x496233(0x1c0)]),_0x321374=await _0x461f04['DJFUx'](sha256,_0x35016f);return'_'+_0x321374[_0x496233(0x198)](0x0,0x14);}function sha256(_0x2982e9){const _0x1e7a18=_0xdecc3d,_0x1f6143={'newne':_0x1e7a18(0x266)},_0x6a8520=new TextEncoder()[_0x1e7a18(0x26f)](_0x2982e9);return crypto[_0x1e7a18(0x18a)][_0x1e7a18(0x202)](_0x1f6143[_0x1e7a18(0x365)],_0x6a8520)[_0x1e7a18(0x1e3)](_0x42c6=>{const _0x361a79=_0x1e7a18;return Array['from'](new Uint8Array(_0x42c6))[_0x361a79(0x2ee)](_0x5cace4=>_0x5cace4[_0x361a79(0x349)](0x10)['padStart'](0x2,'0'))['join']('');});}function toggleNotifications(){const _0xb6f420=_0xdecc3d,_0x56a288={'IFvtm':function(_0x47bf65,_0x1700d3){return _0x47bf65===_0x1700d3;},'ZubGP':_0xb6f420(0x189),'fSySY':_0xb6f420(0x340),'NxlFJ':'granted','NztLG':_0xb6f420(0x2c9)};Notification[_0xb6f420(0x251)]!==_0x56a288[_0xb6f420(0x2c7)]?Notification[_0xb6f420(0x2c0)]()[_0xb6f420(0x1e3)](_0x91370d=>{const _0x5ec5d1=_0xb6f420;_0x56a288[_0x5ec5d1(0x290)](_0x91370d,_0x5ec5d1(0x33e))&&(notificationsEnabled=!![],document[_0x5ec5d1(0x35f)](_0x56a288['ZubGP'])[_0x5ec5d1(0x2d3)]=_0x56a288[_0x5ec5d1(0x182)]);}):(notificationsEnabled=!notificationsEnabled,document[_0xb6f420(0x35f)](_0x56a288[_0xb6f420(0x18c)])[_0xb6f420(0x2d3)]=notificationsEnabled?_0x56a288['fSySY']:_0x56a288['NztLG']);}function _0x4c6b(){const _0x20899b=['VCdMU','\x0aUsername\x20History:\x20','disabled','audio/webm','gBUbt','substr','createElement','CDpap','authScreen','passwordScreen','msgInput','bktlA','nBJpN','uWeKV','Enter\x20Announcement\x20Text:','flex','yoVaZ','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','profileContent','MCqwO','gNPsv','</div>','/messages/','audioBase64','DOMContentLoaded','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/avatarBase64','rbUPa','POYQS','getItem','sidebarAvatarPreview','Unknown','hidden','3|2|4|6|5|7|9|0|8|10|1','authError','profileUsernameInput','mierda','lYfGf','vbkfI','authPassword','YhGyD','aPuuT','auth/','key','koxxL','height','limitToLast','187thhsNv','hbrUC','caralho','passwordError','start','appendChild','eRiuI','CiqZC','xfDFH','porra','zWuLz','profiles/','avatarBase64','<span\x20style=\x22margin-right:8px;\x22>üë§</span>','Failed\x20to\x20register\x20user\x20in\x20room.','TBJcW','RUljU','XEgKO','block','scrollTop',';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27','aZWjM','stop','userSidebar','bOcFo','DgNsz','jbyFm','1:985049198428:web:d0eb7e2de39887710c9b99','‚óè\x20Online','XKNAG','‚ùå\x20Username\x20already\x20taken.','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','lastOnline','then','admin','show','[Unknown\x20Message]','created','2374ZEBEAv','vZDHf','fULan','visibilitychange','Passwords\x20do\x20not\x20match.','announcementArea','FwkdE','phhpM','gLGFl','fvdUB','sender','join','7mpJdTD','PafvN','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','Sggtw','gilipollas','passwordHash','bastard','rSlbu','HUJiH','antispamBlocked/','DSqiK','database','onloadend','digest','KLSze','ZQsGy','/announcement','TDvWX','New\x20Chat\x20Message','getUserMedia','GOmGb','authSubmitBtn','volume','Hjojh','</span>','3pFZaEW','easy-chatroom.firebaseapp.com','setItem','replace','eaWig','gnIqb','wijbP','1821516AxEnqd','scrollHeight','editBioInput','BKPJX','JEBOf','sent','VgXZy','messages','#00ff88','TdaiV','pBAsP','cyRac','usernameScreen','onPjU','rooms/','innerHTML','2px\x20solid\x20red','GFiRN','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','mediaDevices','profile_description','random','toUpperCase','add','putangina','val','<img\x20src=\x22','YZKCO','0123456789','G-QDESJ2WR42','files','ISZxo','[Voice\x20Message]','ybPDC','aDcgc','chatScreen','ytvAI','border','title','shit','iSdmN','FGbLl','authAvatarPreview','<img\x20src=\x22data:image/png;base64,','ABCDEFGHIJKLMNOPQRSTUVWXYZ','hPOIf','CZAvu','push','RqcKC','XEiBF','ulol','update','qiuxC','Please\x20enter\x20your\x20current\x20password.','catch','editProfileScreen','quszF','1777860lakQid','state','bReIj','permission','once','ItZpI','preventDefault','sidebarOpen','3|0|1|4|2','qruOw','\x0a\x20\x20\x20\x20','XYGsZ','vSdqD','FAGTW','filter','#888','Remove\x20Announcement?','RdbdF','staticPasswordInput','bitch','TpJqY','tjhop','No\x20room\x20code\x20available\x20for\x20private\x20rooms','roomDisplay','SHA-256','from','xALME','EiicH','auth','qvLMx','yUaVA','qhlFr','addEventListener','encode','SFmpN','AROlB','GoTJV','EqIJd','tWvSB','Cxqyb','gTlpZ','\x0a\x20\x20\x20\x20\x20\x20</li>','cTpHZ','popstate','BEDss','Enter\x20a\x20valid\x20room\x20code','antispam/','BnaFu','CXVko','Register','codeEntryScreen','IdnRd','WTfOm','avatar_base64','RKGxD','bTqUy','FCElX','Incorrect\x20current\x20password.','Qciph','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','Type\x20a\x20message...','Error\x20checking\x20username:','zuOPK','initializeApp','Hdany','equalTo','IFvtm','description','trim','value','Enter','bwisit','some','keypress','profileViewer','Failed\x20to\x20save\x20profile:','ejGSh','TsbzD','XBsZJ','SOVhT','iMtVg','jSnMu','oldPasswordInput','ztjBt','ANHVs','IbeJO','Only\x20one\x20account\x20per\x20device\x20allowed.','UnfeZ','wFmMb','DSgzE','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','oJHmd','toLocaleTimeString','set','TzOLd','\x0aLast\x20Changed:\x20','/typing','oCivX','onload','AJptx','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','PsVVK','namePreview','cunt','VguES','YgXKP','\x0aName:\x20','<div>','XvNEK','yRiuu','ServerValue','eJcRC','dWFnf','dick','requestPermission','forEach','onDisconnect','Login','OvaSR','hUCZS','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','NxlFJ','pVNog','üîî\x20Enable\x20Notifications','<li\x20style=\x22color:','rublg','aicPs','RGVvM','pnMBP','BjexP','entries','\x20typing...','Enter\x20your\x20new\x20username:','innerText','YiMnL','TLBKC','DGWWu','You\x20got\x20a\x20message\x20from\x20','userAgent','puta','back','LfLRo','none','LaGLH','1160268qLrcFR','Incorrect\x20password.','nSnob','<audio\x20controls\x20src=\x22','Username\x20already\x20exists.','exists','username','brEba','exqIn','APzbF','DVlKR','Xubqd','lastChanged','length','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','RbHkH','map','clear','veAoF','detail','bTfoO','jzilH','display','remove','üéôÔ∏è','text','[Voice\x20message]','UAddD','nAdNg','content','orderByChild','<small>','gyoLO','2181112Khtfpk','TBlzo','BuWAt','/typing/','RljkX','AcaDD','newPasswordInput','ref','cabron','roomCodeInput','dSGmc','775640CKArjB','sendBtn','ngjkp','includes','data','TypZW','result','xucXw','style','onstop','CRRcf','profileScreen','3|4|0|1|5|2','TPbFe','roomChoiceScreen','No\x20changes\x20yet','ABovh','usernameHistory','toLocaleString','369PaydmQ','EDFbu','data:audio/webm;base64,','muted/','get','HhJOy','KWyxJ','authPasswordConfirm','reload','online','sOnTa','KDJQe','xKdRg','values','985049198428','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','OGpTj','src','nYqhX','aRBQv','active','Please\x20fill\x20all\x20fields.','foekC','contains','readAsDataURL','GyzYE','authTitle','JTibd','tHOPe','https://easy-chatroom-default-rtdb.firebaseio.com','error','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','split','granted','WScqS','üîï\x20Disable\x20Notifications','onlineStatus','authDescription','‚úÖ\x20Profile\x20picture\x20updated!','floor','iWosP','ZzEBk','typing','JRzDs','toString','TIMESTAMP','userDisplay','RbdbJ','bEmUR','3122105UGNEha','uWVjt','antispamBlocked','classList','WlRiU','KARCq','gr8stg','NjdOL','yGucL','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','EtvuI','tElbk','4|2|0|3|1','Profile\x20not\x20found.','fuck','pushState','audioUrl','getElementById','EXsyR','awYgV','rdTzh','profileError','VBDnB','newne','RfuJk','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','received','now','</small>','No\x20bio\x20set','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','jhmbE','unknown','rooms','Admins\x20only.','<span\x20style=\x22margin-right:5px;\x22>üë§</span>','xEgEc','fSySY','ondataavailable','admins/','users/','addAnnouncementBtn','msg','toLowerCase','notifToggleBtn','subtle','fzmVY','ZubGP','wQFlm','authAvatar','\x20in\x20room\x20','recordBtn','<span\x20class=\x22sender-name\x22>','merda'];_0x4c6b=function(){return _0x20899b;};return _0x4c6b();}function toggleAuthMode(){const _0xf80298=_0xdecc3d,_0x37a54e={'VgXZy':'5|7|6|1|0|3|4|2','cyRac':'authAvatar','rdTzh':'none','IbeJO':'authDescription','uTWXV':'authError','pBAsP':_0xf80298(0x23f),'Hdany':_0xf80298(0x20a),'EDFbu':_0xf80298(0x2c3),'TDvWX':_0xf80298(0x324),'oJHmd':_0xf80298(0x1d4),'cTpHZ':_0xf80298(0x337),'awYgV':_0xf80298(0x27f)},_0x24de38=_0x37a54e[_0xf80298(0x21b)][_0xf80298(0x33d)]('|');let _0xe6afa6=0x0;while(!![]){switch(_0x24de38[_0xe6afa6++]){case'0':document['getElementById'](_0x37a54e[_0xf80298(0x220)])[_0xf80298(0x312)][_0xf80298(0x2f4)]=isRegisterMode?_0xf80298(0x1d4):_0x37a54e['rdTzh'];continue;case'1':document[_0xf80298(0x35f)](_0x37a54e[_0xf80298(0x2a3)])[_0xf80298(0x312)]['display']=isRegisterMode?_0xf80298(0x1d4):_0x37a54e[_0xf80298(0x362)];continue;case'2':document[_0xf80298(0x35f)](_0x37a54e['uTWXV'])['style'][_0xf80298(0x2f4)]=_0x37a54e['rdTzh'];continue;case'3':document[_0xf80298(0x35f)](_0x37a54e[_0xf80298(0x21f)])[_0xf80298(0x312)][_0xf80298(0x2f4)]=_0x37a54e[_0xf80298(0x362)];continue;case'4':document[_0xf80298(0x35f)](_0x37a54e[_0xf80298(0x28e)])[_0xf80298(0x2d3)]=isRegisterMode?_0xf80298(0x27f):_0x37a54e[_0xf80298(0x31e)];continue;case'5':isRegisterMode=!isRegisterMode;continue;case'6':document[_0xf80298(0x35f)](_0x37a54e[_0xf80298(0x206)])[_0xf80298(0x312)]['display']=isRegisterMode?_0x37a54e[_0xf80298(0x2a9)]:'none';continue;case'7':document['getElementById'](_0x37a54e[_0xf80298(0x278)])[_0xf80298(0x2d3)]=isRegisterMode?_0x37a54e[_0xf80298(0x361)]:_0x37a54e[_0xf80298(0x31e)];continue;}break;}}function previewAvatar(){const _0x4c03de=_0xdecc3d,_0x39dac6={'tjhop':'authAvatarPreview','xKdRg':_0x4c03de(0x1d4)},_0x4bbca5=document[_0x4c03de(0x35f)](_0x4c03de(0x18e));if(!_0x4bbca5[_0x4c03de(0x233)][_0x4c03de(0x2eb)])return;const _0x2405d7=new FileReader();_0x2405d7[_0x4c03de(0x201)]=()=>{const _0xc19167=_0x4c03de;document['getElementById'](_0x39dac6[_0xc19167(0x263)])[_0xc19167(0x32e)]=_0x2405d7[_0xc19167(0x310)],document[_0xc19167(0x35f)](_0x39dac6[_0xc19167(0x263)])[_0xc19167(0x312)][_0xc19167(0x2f4)]=_0x39dac6[_0xc19167(0x329)];},_0x2405d7[_0x4c03de(0x335)](_0x4bbca5[_0x4c03de(0x233)][0x0]);}async function submitAuth(){const _0x4fe884=_0xdecc3d,_0x2b9413={'CXVko':function(_0x35dc4b,_0x1d99a1,_0xca05c7,_0x5a9275,_0x3d8e52,_0x5e47fa){return _0x35dc4b(_0x1d99a1,_0xca05c7,_0x5a9275,_0x3d8e52,_0x5e47fa);},'TsbzD':_0x4fe884(0x2a4),'HUJiH':_0x4fe884(0x342),'vFUkr':_0x4fe884(0x2e2),'sOnTa':_0x4fe884(0x1d4),'BEDss':function(_0x1a8434,_0x188e3f){return _0x1a8434!==_0x188e3f;},'SOVhT':_0x4fe884(0x1ec),'LaGLH':_0x4fe884(0x26a),'yUaVA':'deviceId','nSnob':'Username\x20not\x20found.','xEgEc':_0x4fe884(0x2df),'tboTQ':function(_0x4c58e7){return _0x4c58e7();},'xucXw':function(_0x4fffc6){return _0x4fffc6();},'ruLRh':'authUsername','qJIaK':_0x4fe884(0x1ba),'fGCiY':_0x4fe884(0x324),'iGgbC':_0x4fe884(0x1b5),'rSlbu':function(_0x15061a,_0x1d8769){return _0x15061a||_0x1d8769;},'mbyCw':function(_0x406deb,_0xdb7bdf){return _0x406deb&&_0xdb7bdf;},'GFiRN':function(_0x25f4c3,_0x279386){return _0x25f4c3(_0x279386);}};!deviceId&&(deviceId=await _0x2b9413[_0x4fe884(0x311)](generateDeviceId));const _0x38267d=document[_0x4fe884(0x35f)](_0x2b9413['ruLRh'])[_0x4fe884(0x293)][_0x4fe884(0x292)](),_0x58cd1b=document['getElementById'](_0x2b9413['qJIaK'])[_0x4fe884(0x293)],_0xb61dab=document[_0x4fe884(0x35f)](_0x2b9413['fGCiY'])[_0x4fe884(0x293)],_0x1b13f6=document['getElementById'](_0x2b9413['iGgbC']),_0x45e830=document['getElementById'](_0x2b9413[_0x4fe884(0x1fd)])[_0x4fe884(0x293)][_0x4fe884(0x292)](),_0x3004ab=document[_0x4fe884(0x35f)](_0x4fe884(0x18e));if(_0x2b9413[_0x4fe884(0x1fc)](!_0x38267d,!_0x58cd1b)||_0x2b9413['mbyCw'](isRegisterMode,!_0xb61dab)){_0x1b13f6[_0x4fe884(0x2d3)]=_0x4fe884(0x332),_0x1b13f6['style'][_0x4fe884(0x2f4)]=_0x2b9413[_0x4fe884(0x327)];return;}const _0x43eda0=await _0x2b9413[_0x4fe884(0x226)](sha256,_0x58cd1b),_0x434a25=db[_0x4fe884(0x306)]('auth/'+_0x2b9413['GFiRN'](sanitizeUsername,_0x38267d));_0x434a25['get']()[_0x4fe884(0x1e3)](_0x525b8e=>{const _0x5ab7ca=_0x4fe884,_0x49d85d={'TdaiV':function(_0x566250,_0x5c352d,_0x11a1f9,_0x367701,_0x58f6e5,_0x383df9){const _0x41f2fb=_0x3b9d;return _0x2b9413[_0x41f2fb(0x27e)](_0x566250,_0x5c352d,_0x11a1f9,_0x367701,_0x58f6e5,_0x383df9);},'feFDc':_0x2b9413[_0x5ab7ca(0x29b)],'sQeHF':_0x5ab7ca(0x1d4),'ngjkp':_0x2b9413[_0x5ab7ca(0x1fd)],'YWWZb':'authAvatar','vbkfI':function(_0x1ed7ae,_0x41925c,_0x3ea5fe,_0x34141d,_0x4df641,_0x13ecd3){const _0x341c36=_0x5ab7ca;return _0x2b9413[_0x341c36(0x27e)](_0x1ed7ae,_0x41925c,_0x3ea5fe,_0x34141d,_0x4df641,_0x13ecd3);}};if(isRegisterMode){if(_0x525b8e['exists']()){_0x1b13f6[_0x5ab7ca(0x2d3)]=_0x2b9413['vFUkr'],_0x1b13f6[_0x5ab7ca(0x312)][_0x5ab7ca(0x2f4)]=_0x2b9413[_0x5ab7ca(0x327)];return;}if(_0x2b9413[_0x5ab7ca(0x27a)](_0x58cd1b,_0xb61dab)){_0x1b13f6[_0x5ab7ca(0x2d3)]=_0x2b9413[_0x5ab7ca(0x29d)],_0x1b13f6[_0x5ab7ca(0x312)][_0x5ab7ca(0x2f4)]=_0x2b9413['sOnTa'];return;}db[_0x5ab7ca(0x306)](_0x2b9413[_0x5ab7ca(0x2dd)])[_0x5ab7ca(0x2fc)](_0x2b9413[_0x5ab7ca(0x26c)])[_0x5ab7ca(0x28f)](deviceId)[_0x5ab7ca(0x321)]()[_0x5ab7ca(0x1e3)](_0x8054a3=>{const _0x49eeaf=_0x5ab7ca;if(_0x8054a3[_0x49eeaf(0x2e3)]())_0x1b13f6[_0x49eeaf(0x2d3)]=_0x49d85d['feFDc'],_0x1b13f6[_0x49eeaf(0x312)][_0x49eeaf(0x2f4)]=_0x49d85d['sQeHF'];else{const _0x6c16ec=document[_0x49eeaf(0x35f)](_0x49d85d[_0x49eeaf(0x30c)])[_0x49eeaf(0x293)]['trim'](),_0x5716b1=document['getElementById'](_0x49d85d['YWWZb']);let _0x1fb044='';if(_0x5716b1[_0x49eeaf(0x233)][_0x49eeaf(0x2eb)]){const _0x25a3b8=new FileReader();_0x25a3b8[_0x49eeaf(0x201)]=async()=>{const _0x3e1a26=_0x49eeaf;_0x1fb044=_0x25a3b8[_0x3e1a26(0x310)][_0x3e1a26(0x33d)](',')[0x1],await _0x49d85d[_0x3e1a26(0x21e)](saveNewUser,_0x38267d,_0x43eda0,deviceId,_0x1fb044,_0x6c16ec);},_0x25a3b8[_0x49eeaf(0x335)](_0x5716b1['files'][0x0]);}else _0x49d85d[_0x49eeaf(0x1b9)](saveNewUser,_0x38267d,_0x43eda0,deviceId,_0x1fb044,_0x6c16ec);}});}else{if(!_0x525b8e['exists']()){_0x1b13f6[_0x5ab7ca(0x2d3)]=_0x2b9413[_0x5ab7ca(0x2e0)],_0x1b13f6['style']['display']=_0x2b9413[_0x5ab7ca(0x327)];return;}if(_0x2b9413[_0x5ab7ca(0x27a)](_0x525b8e[_0x5ab7ca(0x22e)]()[_0x5ab7ca(0x1fa)],_0x43eda0)){_0x1b13f6[_0x5ab7ca(0x2d3)]=_0x2b9413[_0x5ab7ca(0x181)],_0x1b13f6[_0x5ab7ca(0x312)]['display']=_0x2b9413['sOnTa'];return;}let _0x51ef91='';if(_0x3004ab[_0x5ab7ca(0x233)][_0x5ab7ca(0x2eb)]){const _0x59b3be=new FileReader();_0x59b3be[_0x5ab7ca(0x201)]=()=>{const _0x41f719=_0x5ab7ca;_0x51ef91=_0x59b3be[_0x41f719(0x310)][_0x41f719(0x33d)](',')[0x1],saveNewUser(_0x38267d,_0x43eda0,deviceId,_0x51ef91,_0x45e830);},_0x59b3be[_0x5ab7ca(0x335)](_0x3004ab[_0x5ab7ca(0x233)][0x0]);}else _0x2b9413[_0x5ab7ca(0x27e)](saveNewUser,_0x38267d,_0x43eda0,deviceId,_0x51ef91,_0x45e830);username=_0x38267d,_0x2b9413['tboTQ'](startAfterAuth);}});}async function saveNewUser(_0x2e0ef3,_0xcce106,_0x4893de,_0x1e9d61,_0x327084){const _0x5e0a2e=_0xdecc3d,_0xa5a9c4={'FukPA':function(_0x20689a,_0x3f960f){return _0x20689a||_0x3f960f;},'CzMNY':function(_0x3aa29c,_0x577449){return _0x3aa29c||_0x577449;},'bTfoO':function(_0x2e3c14){return _0x2e3c14();}},_0x2a040f=db[_0x5e0a2e(0x306)](_0x5e0a2e(0x1bd)+sanitizeUsername(_0x2e0ef3)),_0x4eb48d={'username':_0x2e0ef3,'passwordHash':_0xcce106,'deviceId':_0x4893de,'description':_0xa5a9c4['FukPA'](_0x327084,''),'avatarBase64':_0xa5a9c4['CzMNY'](_0x1e9d61,''),'usernameHistory':[_0x2e0ef3],'lastChanged':Date['now']()};await _0x2a040f[_0x5e0a2e(0x2ab)](_0x4eb48d),username=_0x2e0ef3,_0x1e9d61=_0x4eb48d['avatarBase64'],userDescription=_0x4eb48d[_0x5e0a2e(0x291)],_0xa5a9c4[_0x5e0a2e(0x2f2)](startAfterAuth);}function startAfterAuth(){const _0x4e5e76=_0xdecc3d,_0x3342f1={'eKcDl':function(_0x118115,_0x77d5ff){return _0x118115(_0x77d5ff);}},_0x583ad6=_0x3342f1['eKcDl'](sanitizeUsername,username);db[_0x4e5e76(0x306)](_0x4e5e76(0x1bd)+_0x583ad6)[_0x4e5e76(0x321)]()[_0x4e5e76(0x1e3)](_0x586a77=>{const _0x358899=_0x4e5e76;if(_0x586a77[_0x358899(0x2e3)]()){const _0x5a09c9=_0x586a77[_0x358899(0x22e)]();avatarBase64=_0x5a09c9['avatarBase64']||'',userDescription=_0x5a09c9[_0x358899(0x291)]||'';}document['getElementById'](_0x358899(0x2b4))[_0x358899(0x2d3)]=username,_0x3342f1['eKcDl'](showScreen,_0x358899(0x318));});}function checkIfAdmin(){const _0x253258=_0xdecc3d,_0x57e744={'ANYeO':function(_0xce231d,_0x1054d5){return _0xce231d(_0x1054d5);}},_0x27c456=db[_0x253258(0x306)](_0x253258(0x184)+roomCode+'/'+_0x57e744['ANYeO'](sanitizeUsername,username));return _0x27c456[_0x253258(0x252)](_0x253258(0x293))[_0x253258(0x1e3)](_0x75ae2d=>{const _0x35df23=_0x253258;isRoomAdmin=_0x75ae2d[_0x35df23(0x2e3)]();});}function toggleRecording(){const _0x13eabe=_0xdecc3d,_0xf6a1e4={'foekC':function(_0x441ccc,_0x54b1f8){return _0x441ccc&&_0x54b1f8;},'EqIJd':function(_0x46ed2f){return _0x46ed2f();},'AROlB':_0x13eabe(0x2f8),'GyzYE':function(_0x34ffe9,_0x7941c7){return _0x34ffe9(_0x7941c7);},'SSSke':_0x13eabe(0x190),'ybPDC':function(_0x46ee5e,_0x51678d,_0x3ec50b){return _0x46ee5e(_0x51678d,_0x3ec50b);}};isRecording?_0xf6a1e4[_0x13eabe(0x273)](stopRecording):navigator[_0x13eabe(0x228)][_0x13eabe(0x208)]({'audio':!![]})[_0x13eabe(0x1e3)](_0x35d17a=>{const _0x25260e=_0x13eabe,_0x55d2b7={'oBsKX':_0xf6a1e4[_0x25260e(0x271)],'ZQsGy':function(_0x5b449a,_0x4f6472){const _0x2ad761=_0x25260e;return _0xf6a1e4[_0x2ad761(0x336)](_0x5b449a,_0x4f6472);},'jbyFm':_0x25260e(0x196)};mediaRecorder=new MediaRecorder(_0x35d17a),mediaRecorder[_0x25260e(0x1c6)](),isRecording=!![],document[_0x25260e(0x35f)](_0xf6a1e4['SSSke'])[_0x25260e(0x2d3)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x25260e(0x183)]=_0x23bde1=>audioChunks[_0x25260e(0x244)](_0x23bde1[_0x25260e(0x30e)]),mediaRecorder[_0x25260e(0x313)]=()=>{const _0x30ec58=_0x25260e,_0x10dcd0={'zWuLz':_0x55d2b7['oBsKX']};_0x55d2b7[_0x30ec58(0x204)](clearTimeout,recordingTimer);const _0x3887e5=new Blob(audioChunks,{'type':_0x55d2b7[_0x30ec58(0x1dc)]}),_0x472cbe=new FileReader();_0x472cbe[_0x30ec58(0x201)]=()=>{const _0x51efd8=_0x30ec58,_0x296c59=_0x472cbe[_0x51efd8(0x310)]['split'](',')[0x1],_0xea961f=db[_0x51efd8(0x306)]()[_0x51efd8(0x244)]()[_0x51efd8(0x1be)];db[_0x51efd8(0x306)](_0x51efd8(0x223)+roomCode+_0x51efd8(0x1a9)+_0xea961f)[_0x51efd8(0x2ab)]({'msg':_0x10dcd0[_0x51efd8(0x1cc)],'audioBase64':_0x296c59,'sender':username,'senderId':clientId,'timestamp':Date[_0x51efd8(0x369)]()});},_0x472cbe[_0x30ec58(0x335)](_0x3887e5);},recordingTimer=_0xf6a1e4[_0x25260e(0x236)](setTimeout,()=>{const _0x1a97d2=_0x25260e;_0xf6a1e4[_0x1a97d2(0x333)](mediaRecorder,isRecording)&&_0xf6a1e4[_0x1a97d2(0x273)](stopRecording);},0x4e20);})[_0x13eabe(0x24b)](_0x16131e=>{alert('Microphone\x20permission\x20denied.');});}function stopRecording(){const _0x34f140=_0xdecc3d,_0x304011={'yGucL':function(_0x230cb9,_0x2927bd){return _0x230cb9&&_0x2927bd;},'DSqiK':_0x34f140(0x2f6)};_0x304011[_0x34f140(0x356)](mediaRecorder,isRecording)&&(mediaRecorder[_0x34f140(0x1d8)](),isRecording=![],document[_0x34f140(0x35f)](_0x34f140(0x190))['innerText']=_0x304011[_0x34f140(0x1ff)]);}window[_0xdecc3d(0x2b0)]=async()=>{const _0xdb7d64=_0xdecc3d,_0x29aa3f={'mdXoG':function(_0x2e3af6){return _0x2e3af6();},'WScqS':function(_0x5b2e4d){return _0x5b2e4d();},'GOmGb':function(_0x50aa26){return _0x50aa26();}};_0x29aa3f['mdXoG'](cleanupOldRooms),_0x29aa3f[_0xdb7d64(0x33f)](setupSidebarBackHandler),_0x29aa3f[_0xdb7d64(0x209)](setupVisibilityAttention),_0x29aa3f[_0xdb7d64(0x209)](resetWebsiteData),showScreen(_0xdb7d64(0x19b));};function sanitizeUsername(_0x351ef9){const _0x3c3f23=_0xdecc3d;return _0x351ef9[_0x3c3f23(0x211)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x31ece4=_0xdecc3d,_0x200236={'wHqBu':_0x31ece4(0x299),'ztjBt':_0x31ece4(0x2a8),'onPjU':_0x31ece4(0x1d4),'XKNAG':_0x31ece4(0x318),'XeCyG':_0x31ece4(0x229),'ISZxo':_0x31ece4(0x2b4),'RbHkH':'chat_username','YgXKP':_0x31ece4(0x28b),'bTqUy':_0x31ece4(0x2b2),'TLBKC':_0x31ece4(0x1b6),'APzbF':'profileDescriptionInput','veAoF':function(_0x5089e3,_0x50209c){return _0x5089e3||_0x50209c;},'vVsuI':function(_0x16dd3,_0x1c467c){return _0x16dd3(_0x1c467c);}},_0x168fa3=document[_0x31ece4(0x35f)](_0x200236[_0x31ece4(0x2d5)])[_0x31ece4(0x293)][_0x31ece4(0x292)](),_0xd03634=document['getElementById'](_0x200236[_0x31ece4(0x2e7)])['value'][_0x31ece4(0x292)](),_0xf66e08=document[_0x31ece4(0x35f)](_0x31ece4(0x363));if(_0x200236[_0x31ece4(0x2f0)](!_0x168fa3,!_0xd03634)){_0xf66e08[_0x31ece4(0x2d3)]=_0x31ece4(0x1f6),_0xf66e08[_0x31ece4(0x312)][_0x31ece4(0x2f4)]=_0x31ece4(0x1d4);return;}const _0x2665bc=_0x200236['vVsuI'](sanitizeUsername,_0x168fa3),_0x573952=db['ref'](_0x31ece4(0x1cd)+_0x2665bc);_0x573952['once']('value')[_0x31ece4(0x1e3)](_0x48a0b5=>{const _0x44b1ad=_0x31ece4;if(_0x48a0b5[_0x44b1ad(0x2e3)]())_0xf66e08[_0x44b1ad(0x2d3)]=_0x44b1ad(0x1e0),_0xf66e08['style'][_0x44b1ad(0x2f4)]=_0x200236[_0x44b1ad(0x222)];else{const _0x9d74ee={'username':_0x168fa3,'description':_0xd03634,'lastChanged':Date[_0x44b1ad(0x369)](),'usernameHistory':[_0x168fa3]};_0x573952[_0x44b1ad(0x2ab)](_0x9d74ee,_0x55eeb9=>{const _0x250b2c=_0x44b1ad;if(_0x55eeb9)console[_0x250b2c(0x33b)](_0x200236['wHqBu'],_0x55eeb9),_0xf66e08[_0x250b2c(0x2d3)]=_0x200236[_0x250b2c(0x2a1)],_0xf66e08[_0x250b2c(0x312)][_0x250b2c(0x2f4)]=_0x200236['onPjU'];else{const _0x4cfc92=_0x250b2c(0x35a)['split']('|');let _0x3133ad=0x0;while(!![]){switch(_0x4cfc92[_0x3133ad++]){case'0':username=_0x168fa3;continue;case'1':showScreen(_0x200236[_0x250b2c(0x1df)]);continue;case'2':localStorage[_0x250b2c(0x210)](_0x200236['XeCyG'],_0xd03634);continue;case'3':document[_0x250b2c(0x35f)](_0x200236[_0x250b2c(0x234)])[_0x250b2c(0x2d3)]=_0x168fa3;continue;case'4':localStorage[_0x250b2c(0x210)](_0x200236[_0x250b2c(0x2ed)],_0x168fa3);continue;}break;}}});}})[_0x31ece4(0x24b)](_0x2fe23b=>{const _0x30f834=_0x31ece4;console[_0x30f834(0x33b)](_0x200236[_0x30f834(0x2b7)],_0x2fe23b),_0xf66e08[_0x30f834(0x2d3)]=_0x200236[_0x30f834(0x285)],_0xf66e08[_0x30f834(0x312)][_0x30f834(0x2f4)]=_0x200236[_0x30f834(0x222)];});}function saveProfile(_0x27f9cf,_0x3cdc57,_0xfa2b8){const _0x304ca0=_0xdecc3d,_0x3cb197={'DgNsz':_0x304ca0(0x2b4),'hUCZS':function(_0x1c556c,_0x218748){return _0x1c556c(_0x218748);}},_0x3a2e61=Date[_0x304ca0(0x369)](),_0x49a87f=[_0x27f9cf];db['ref'](_0x304ca0(0x1cd)+_0xfa2b8)[_0x304ca0(0x2ab)]({'username':_0x27f9cf,'description':_0x3cdc57,'lastChanged':_0x3a2e61,'usernameHistory':_0x49a87f}),document[_0x304ca0(0x35f)](_0x3cb197[_0x304ca0(0x1db)])[_0x304ca0(0x2d3)]=_0x27f9cf,_0x3cb197[_0x304ca0(0x2c5)](showScreen,_0x304ca0(0x318));}function generateRoom(){const _0x2c415c=_0xdecc3d,_0x19998a={'EiicH':function(_0x4bfce9){return _0x4bfce9();},'likCx':_0x2c415c(0x223)};roomCode=_0x19998a[_0x2c415c(0x269)](genRoomCode),db[_0x2c415c(0x306)](_0x19998a['likCx']+roomCode)[_0x2c415c(0x2ab)]({'active':!![],'created':Date[_0x2c415c(0x369)]()}),_0x19998a[_0x2c415c(0x269)](startChat);}function joinRoom(){const _0x110801=_0xdecc3d,_0x130999={'RbdbJ':function(_0x14c38d,_0x226fad){return _0x14c38d!==_0x226fad;},'hbrUC':function(_0x3f7e17){return _0x3f7e17();},'XvNEK':function(_0x716eec,_0x20c23a){return _0x716eec(_0x20c23a);},'KDJQe':_0x110801(0x308),'xfDFH':function(_0x8f74f2,_0x228697){return _0x8f74f2===_0x228697;},'ytvAI':function(_0x4c3615,_0x2a5e0c){return _0x4c3615(_0x2a5e0c);},'nAdNg':'passwordScreen','jzilH':function(_0x3263fc,_0x44608c){return _0x3263fc+_0x44608c;},'ZQkJL':_0x110801(0x223)},_0x4cfbc8=roomCode||document[_0x110801(0x35f)](_0x130999[_0x110801(0x328)])[_0x110801(0x293)][_0x110801(0x292)]()[_0x110801(0x22b)]();if(!_0x4cfbc8)return _0x130999['XvNEK'](alert,_0x110801(0x27b));roomCode=_0x4cfbc8;if(_0x130999[_0x110801(0x1ca)](roomCode,STATIC_ROOM)){_0x130999[_0x110801(0x239)](showScreen,_0x130999[_0x110801(0x2fa)]);return;}db[_0x110801(0x306)](_0x130999[_0x110801(0x2f3)](_0x130999['ZQkJL'],roomCode))[_0x110801(0x321)]()['then'](_0x136976=>{const _0xc460af=_0x110801;_0x136976[_0xc460af(0x2e3)]()&&_0x130999[_0xc460af(0x34c)](_0x136976[_0xc460af(0x22e)]()[_0xc460af(0x331)],![])?_0x130999[_0xc460af(0x1c3)](startChat):_0x130999[_0xc460af(0x2ba)](alert,_0xc460af(0x1f7));});}function startChat(){const _0x55772c=_0xdecc3d,_0x1531bb={'XBsZJ':_0x55772c(0x1b4),'qvLMx':function(_0x1452b5,_0x533d96){return _0x1452b5(_0x533d96);},'izWll':_0x55772c(0x1d0),'LomTQ':_0x55772c(0x186),'TjdQi':_0x55772c(0x265),'TBJcW':_0x55772c(0x238),'SFmpN':function(_0x2c0d67,_0x387b74){return _0x2c0d67(_0x387b74);},'RqcKC':function(_0x110d2c,_0x4a088d){return _0x110d2c||_0x4a088d;},'eRiuI':'Missing\x20room\x20or\x20user\x20information.','koxxL':function(_0xef6fe8,_0x1aa806){return _0xef6fe8(_0x1aa806);},'ADBEd':_0x55772c(0x318),'JTibd':function(_0x3acfc8){return _0x3acfc8();}};if(_0x1531bb[_0x55772c(0x245)](!roomCode,!username))return alert(_0x1531bb[_0x55772c(0x1c8)]),_0x1531bb[_0x55772c(0x1bf)](showScreen,_0x1531bb['ADBEd']);_0x1531bb[_0x55772c(0x338)](listenForAnnouncement),_0x1531bb[_0x55772c(0x338)](checkIfAdmin)[_0x55772c(0x1e3)](()=>{const _0x2bc457=_0x55772c,_0x477795={'POYQS':_0x1531bb[_0x2bc457(0x29c)],'iilXX':function(_0x110bad,_0x501863){const _0x26a393=_0x2bc457;return _0x1531bb[_0x26a393(0x26b)](_0x110bad,_0x501863);},'IdnRd':_0x1531bb['izWll'],'wFmMb':_0x2bc457(0x34b),'EMJIe':_0x1531bb['LomTQ'],'CRRcf':_0x1531bb['TjdQi'],'fULan':_0x1531bb[_0x2bc457(0x1d1)]},_0x2dd0f7=_0x1531bb[_0x2bc457(0x270)](sanitizeUsername,username),_0x29765d=db[_0x2bc457(0x306)](_0x2bc457(0x185)+roomCode+'/'+_0x2dd0f7),_0x24758e={'username':username,'lastOnline':firebase['database'][_0x2bc457(0x2bc)]['TIMESTAMP'],'online':!![]};db[_0x2bc457(0x306)](_0x2bc457(0x184)+roomCode+'/'+_0x2dd0f7)['once'](_0x2bc457(0x293))[_0x2bc457(0x1e3)](_0x176513=>{const _0x30df0b=_0x2bc457,_0x33d599={'wzKuP':_0x477795[_0x30df0b(0x1af)],'UnfeZ':function(_0x30a136){return _0x30a136();},'nBJpN':function(_0x40b0e5,_0x1ef62d){return _0x477795['iilXX'](_0x40b0e5,_0x1ef62d);},'lCUJA':_0x477795[_0x30df0b(0x281)],'BnaFu':_0x477795[_0x30df0b(0x2a6)],'GuBYV':_0x477795['EMJIe'],'tWvSB':_0x477795[_0x30df0b(0x314)],'RGVvM':_0x477795[_0x30df0b(0x1ea)]};_0x176513[_0x30df0b(0x2e3)]()&&(_0x24758e[_0x30df0b(0x1e4)]=!![]),_0x29765d['set'](_0x24758e,_0x53a57e=>{const _0x44a857=_0x30df0b,_0x448db2=_0x33d599['wzKuP'][_0x44a857(0x33d)]('|');let _0x28c56d=0x0;while(!![]){switch(_0x448db2[_0x28c56d++]){case'0':listenForTyping();continue;case'1':_0x33d599[_0x44a857(0x2a5)](listenForUserList);continue;case'2':_0x29765d[_0x44a857(0x2c2)]()['update']({'online':![],'lastOnline':Date['now']()});continue;case'3':if(_0x53a57e)return _0x33d599[_0x44a857(0x19f)](alert,_0x33d599['lCUJA']),showScreen(_0x44a857(0x318));continue;case'4':document[_0x44a857(0x35f)](_0x33d599[_0x44a857(0x27d)])[_0x44a857(0x2d3)]=username;continue;case'5':isRoomAdmin&&(document['getElementById'](_0x33d599['GuBYV'])['style'][_0x44a857(0x2f4)]=_0x44a857(0x1d4));continue;case'6':roomCode===STATIC_ROOM?document['getElementById'](_0x33d599['tWvSB'])[_0x44a857(0x2d3)]=_0x44a857(0x264):document['getElementById'](_0x33d599[_0x44a857(0x274)])[_0x44a857(0x2d3)]=roomCode;continue;case'7':_0x33d599[_0x44a857(0x19f)](showScreen,_0x33d599[_0x44a857(0x2cd)]);continue;case'8':startInactivityTimer();continue;case'9':_0x33d599['UnfeZ'](listenForMessages);continue;case'10':_0x33d599[_0x44a857(0x2a5)](trackPresence);continue;}break;}});});});}function validateStaticRoomPassword(){const _0x23c136=_0xdecc3d,_0x124f3e={'TBlzo':_0x23c136(0x2dc),'jSnMu':'block','YZKCO':_0x23c136(0x1c5)},_0x3265a4=document[_0x23c136(0x35f)](_0x23c136(0x260))[_0x23c136(0x293)],_0x4856af=document[_0x23c136(0x35f)](_0x124f3e[_0x23c136(0x230)]);db['ref'](_0x23c136(0x354))['get']()[_0x23c136(0x1e3)](_0x489428=>{const _0x2d82dc=_0x23c136,_0x21c090=_0x489428[_0x2d82dc(0x22e)]();_0x3265a4===_0x21c090?(_0x4856af['style']['display']=_0x124f3e[_0x2d82dc(0x300)],startChat()):_0x4856af['style'][_0x2d82dc(0x2f4)]=_0x124f3e[_0x2d82dc(0x29f)];});}const spamTimestamps=[];function sendMessage(){const _0x1e7e2e=_0xdecc3d,_0x480374={'Hjojh':_0x1e7e2e(0x28a),'wYxDq':_0x1e7e2e(0x19d),'bNVhj':function(_0xa4e8a1,_0x55a3fc){return _0xa4e8a1||_0x55a3fc;},'DSgzE':function(_0x507228,_0x402f04){return _0x507228(_0x402f04);},'KLSze':'‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','YwQIL':function(_0x3768ae,_0x82c3cf){return _0x3768ae>_0x82c3cf;},'aZWjM':_0x1e7e2e(0x316),'aicPs':_0x1e7e2e(0x227),'gBUbt':function(_0x23f89c,_0x9dd788){return _0x23f89c(_0x9dd788);},'qGwpk':_0x1e7e2e(0x367),'iSdmN':function(_0x4ea2ff,_0x4ccf67,_0x17ec9f){return _0x4ea2ff(_0x4ccf67,_0x17ec9f);}},_0x4e78fe=document[_0x1e7e2e(0x35f)](_0x480374['wYxDq']),_0xa1e27b=_0x4e78fe[_0x1e7e2e(0x293)]['trim']();if(_0x480374['bNVhj'](!_0xa1e27b,isBlocked))return;const _0x437fe7=Date[_0x1e7e2e(0x369)](),_0x48fc33=_0xa1e27b[_0x1e7e2e(0x188)](),_0x30931a=swearWords['some'](_0x54755c=>_0x48fc33[_0x1e7e2e(0x30d)](_0x54755c));if(_0x30931a){_0x480374[_0x1e7e2e(0x2a7)](alert,_0x480374[_0x1e7e2e(0x203)]);return;}spamTimestamps[_0x1e7e2e(0x244)](_0x437fe7);const _0x80dd51=spamTimestamps[_0x1e7e2e(0x25c)](_0x19befd=>_0x437fe7-_0x19befd<0x1b58);if(_0x480374['YwQIL'](_0x80dd51[_0x1e7e2e(0x2eb)],0x5)){const _0x3c425d=_0x480374[_0x1e7e2e(0x1d7)][_0x1e7e2e(0x33d)]('|');let _0x2d3850=0x0;while(!![]){switch(_0x3c425d[_0x2d3850++]){case'0':_0x4e78fe['placeholder']=_0x480374[_0x1e7e2e(0x2cc)];continue;case'1':_0x480374[_0x1e7e2e(0x197)](alert,_0x480374['qGwpk']);continue;case'2':return;case'3':isBlocked=!![];continue;case'4':_0x4e78fe[_0x1e7e2e(0x195)]=!![];continue;case'5':_0x480374[_0x1e7e2e(0x23d)](setTimeout,()=>{const _0x257f4d=_0x1e7e2e;isBlocked=![],_0x4e78fe[_0x257f4d(0x195)]=![],_0x4e78fe['placeholder']=_0x480374[_0x257f4d(0x20c)],spamTimestamps[_0x257f4d(0x2eb)]=0x0;},0x7530);continue;}break;}}const _0x425560=localStorage[_0x1e7e2e(0x1b0)](_0x1e7e2e(0x283))||'',_0x55f536=db['ref']()['push']()[_0x1e7e2e(0x1be)];db[_0x1e7e2e(0x306)](_0x1e7e2e(0x223)+roomCode+_0x1e7e2e(0x1a9)+_0x55f536)['set']({'msg':_0xa1e27b,'sender':username,'senderId':clientId,'avatarBase64':_0x425560,'timestamp':_0x437fe7}),_0x4e78fe['value']='',_0x480374[_0x1e7e2e(0x2a7)](sendTyping,!![]),lastActivity=_0x437fe7;}function listenForMessages(){const _0x47a026=_0xdecc3d,_0x2ac281={'FGbLl':function(_0x4f36e9,_0x36712c,_0x1bf017,_0x34577e){return _0x4f36e9(_0x36712c,_0x1bf017,_0x34577e);},'etdIL':function(_0x3e5584,_0x52c8b9){return _0x3e5584!==_0x52c8b9;},'uWeKV':function(_0x1b1be2){return _0x1b1be2();},'tHOPe':function(_0x2580f1,_0x4955f2){return _0x2580f1&&_0x4955f2;},'DGWWu':_0x47a026(0x235),'phhpM':'child_added'},_0x2a9a5f=db['ref']('rooms/'+roomCode+'/messages'),_0x3a91d1=_0x2a9a5f[_0x47a026(0x1c1)](MAX_MESSAGES);userListReady=!![],_0x3a91d1['on'](_0x2ac281[_0x47a026(0x1ef)],_0x416573=>{const _0x53ac2d=_0x47a026,_0x5d01a8=_0x416573['val'](),{senderId:_0x29c57b}=_0x5d01a8,_0x8b0756=_0x29c57b===clientId;if(!userListReady){pendingMessages[_0x53ac2d(0x2c1)](({data:_0x55d5c9,sent:_0x1d6019,key:_0xdfa257})=>{addMessage(_0x55d5c9,_0x1d6019,_0xdfa257);}),pendingMessages=[];return;}const _0x124331=_0x5d01a8[_0x53ac2d(0x35e)]||null,_0x33d3d2=_0x5d01a8[_0x53ac2d(0x1aa)]||null;_0x2ac281[_0x53ac2d(0x23e)](addMessage,_0x5d01a8,_0x8b0756,_0x416573[_0x53ac2d(0x1be)]),_0x2ac281['etdIL'](roomCode,STATIC_ROOM)&&db['ref']('rooms/'+roomCode+_0x53ac2d(0x1a9)+_0x416573[_0x53ac2d(0x1be)])[_0x53ac2d(0x2f5)](),!_0x8b0756&&(sound['play'](),_0x2ac281[_0x53ac2d(0x1a0)](flagPageAttention)),_0x2ac281[_0x53ac2d(0x339)](notificationsEnabled,!_0x8b0756)&&stackNotification(_0x5d01a8['sender'],_0x5d01a8[_0x53ac2d(0x187)]||(_0x5d01a8[_0x53ac2d(0x1aa)]?_0x2ac281[_0x53ac2d(0x2d6)]:_0x53ac2d(0x1e6)));});}function stackNotification(_0x19d9e2,_0x537837){const _0x47118d=_0xdecc3d,_0xfcf696={'qhlFr':function(_0x3c96fc){return _0x3c96fc();},'aPuuT':function(_0x63190d,_0x5e2a67){return _0x63190d(_0x5e2a67);},'aDcgc':function(_0x5e3298,_0x3e4c58,_0x4328fd){return _0x5e3298(_0x3e4c58,_0x4328fd);}};notificationStack['push']({'sender':_0x19d9e2,'content':_0x537837}),_0xfcf696[_0x47118d(0x1bc)](clearTimeout,notificationTimer),notificationTimer=_0xfcf696[_0x47118d(0x237)](setTimeout,()=>{const _0x176394=_0x47118d;_0xfcf696[_0x176394(0x26d)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x216680=_0xdecc3d,_0xb1de0e={'vSdqD':_0x216680(0x207),'RUljU':_0x216680(0x32c),'sbCoP':_0x216680(0x33e),'TPbFe':function(_0x50bacf,_0x2795fb){return _0x50bacf||_0x2795fb;},'iWosP':function(_0x24843e,_0x406220){return _0x24843e===_0x406220;}};if(!notificationStack[_0x216680(0x2eb)]||Notification[_0x216680(0x251)]!==_0xb1de0e['sbCoP'])return;const _0x3bf39d=[...new Set(notificationStack['map'](_0x289e5b=>_0x289e5b[_0x216680(0x1f2)]))],_0x462f95=_0xb1de0e[_0x216680(0x317)](roomCode,_0x216680(0x17d)),_0x5e43bc=_0xb1de0e[_0x216680(0x345)](_0x3bf39d['length'],0x1)?_0x216680(0x2d7)+_0x3bf39d[0x0]+_0x216680(0x18f)+_0x462f95+':\x20'+notificationStack[0x0][_0x216680(0x2fb)]:'You\x20got\x20messages\x20from\x20'+_0x3bf39d[_0x216680(0x1f3)](',\x20')+'\x20in\x20room\x20'+_0x462f95;setTimeout(()=>{const _0x7b7fc9=_0x216680;new Notification(_0xb1de0e[_0x7b7fc9(0x25a)],{'body':_0x5e43bc,'icon':_0xb1de0e[_0x7b7fc9(0x1d2)]});},0x64);}function addMessage(_0x5f0e79,_0x13dfab,_0x158a32=null){const _0x268f04=_0xdecc3d,_0x404301={'AJptx':'msg','YhGyD':_0x268f04(0x21a),'uWVjt':'2-digit','WbdkG':function(_0x52334c,_0x4b3ce9){return _0x52334c(_0x4b3ce9);},'XYGsZ':_0x268f04(0x21c)},{msg:_0x1174e6,sender:_0x2ff8db,senderId:_0x5609de,timestamp:_0x5eac62,audioUrl:_0x4ced95,audioBase64:_0x176c43,imageBase64:_0x165972}=_0x5f0e79,_0x111193=document[_0x268f04(0x199)]('div');_0x111193[_0x268f04(0x351)][_0x268f04(0x22c)](_0x404301[_0x268f04(0x2b1)],_0x13dfab?_0x404301[_0x268f04(0x1bb)]:_0x268f04(0x368));const _0x5639a1=new Date(_0x5eac62)[_0x268f04(0x2aa)]([],{'hour':_0x404301[_0x268f04(0x34f)],'minute':'2-digit'}),_0x369bb4=_0x404301['WbdkG'](sanitizeUsername,_0x2ff8db),_0x4f658a=roomUsers[_0x369bb4]||{},_0x65c5ea=_0x4f658a[_0x268f04(0x1ce)]?'<img\x20src=\x22data:image/png;base64,'+_0x4f658a[_0x268f04(0x1ce)]+_0x268f04(0x2c6):_0x268f04(0x1cf);let _0x1c8ca8=_0x65c5ea+_0x268f04(0x191)+_0x2ff8db+_0x268f04(0x20d);_0x4f658a[_0x268f04(0x1e4)]&&(_0x1c8ca8+=_0x268f04(0x33c));_0x1c8ca8+='<br>';const _0x3e5b6d=_0x1174e6?.[_0x268f04(0x211)](new RegExp('@'+username+'\x5cb','gi'),_0x268f04(0x289));if(_0x4ced95)_0x1c8ca8+=_0x268f04(0x2e1)+_0x4ced95+_0x268f04(0x1a4);else{if(_0x176c43){const _0x1b664c=_0x268f04(0x31f)+_0x176c43;_0x1c8ca8+=_0x268f04(0x2e1)+_0x1b664c+_0x268f04(0x1a4);}else{if(_0x165972){const _0x1d5073='data:image/png;base64,'+_0x165972;_0x1c8ca8+=_0x268f04(0x22f)+_0x1d5073+_0x268f04(0x2ec);}else _0x1c8ca8+=_0x268f04(0x2b9)+_0x3e5b6d+_0x268f04(0x1a8);}}_0x1c8ca8+=_0x268f04(0x2fd)+_0x5639a1+_0x268f04(0x36a),_0x111193[_0x268f04(0x224)]=_0x1c8ca8;const _0x11a1e8=document[_0x268f04(0x35f)](_0x404301[_0x268f04(0x259)]);_0x11a1e8[_0x268f04(0x1c7)](_0x111193),_0x11a1e8[_0x268f04(0x1d5)]=_0x11a1e8[_0x268f04(0x216)];}function cleanupOldRooms(){const _0x43c50=_0xdecc3d,_0x2bbff5={'wQFlm':function(_0x230ef6,_0x461ea2){return _0x230ef6!==_0x461ea2;},'ANHVs':function(_0x319603,_0x49c5af){return _0x319603>_0x49c5af;},'TpJqY':function(_0x4716fc,_0x3091d5){return _0x4716fc-_0x3091d5;},'PafvN':function(_0x1226a7,_0x56ff6d){return _0x1226a7*_0x56ff6d;},'RKGxD':function(_0x2dae53,_0x1a6556){return _0x2dae53+_0x1a6556;},'sMnVQ':_0x43c50(0x223),'aRBQv':'antispam','WTfOm':_0x43c50(0x293),'gTlpZ':_0x43c50(0x350),'kszrs':_0x43c50(0x17e)};db[_0x43c50(0x306)](_0x2bbff5['kszrs'])[_0x43c50(0x252)](_0x2bbff5[_0x43c50(0x282)])[_0x43c50(0x1e3)](_0x37a164=>{const _0x44be51=_0x43c50,_0x486253=_0x37a164[_0x44be51(0x22e)]();if(!_0x486253)return;const _0x75e29e=Date[_0x44be51(0x369)]();for(const _0x3f338d in _0x486253){if(_0x3f338d===STATIC_ROOM)continue;const _0x39d884=_0x486253[_0x3f338d];_0x2bbff5[_0x44be51(0x2a2)](_0x2bbff5[_0x44be51(0x262)](_0x75e29e,_0x39d884[_0x44be51(0x1e7)]||0x0),_0x2bbff5[_0x44be51(0x1f5)](0x2,0x3c)*0x3e8)&&db['ref'](_0x2bbff5[_0x44be51(0x284)](_0x2bbff5['sMnVQ'],_0x3f338d))['remove']();}db[_0x44be51(0x306)](_0x2bbff5[_0x44be51(0x330)])['once'](_0x2bbff5[_0x44be51(0x282)])[_0x44be51(0x1e3)](_0x2a1254=>{const _0x291e92=_0x44be51,_0x11479e=_0x2a1254[_0x291e92(0x22e)]();if(!_0x11479e)return;for(const _0x3da3d5 in _0x11479e){if(_0x3da3d5!==STATIC_ROOM)db[_0x291e92(0x306)](_0x291e92(0x27c)+_0x3da3d5)['remove']();}}),db[_0x44be51(0x306)](_0x2bbff5[_0x44be51(0x276)])['once'](_0x2bbff5['WTfOm'])[_0x44be51(0x1e3)](_0x2d976b=>{const _0x107ba1=_0x44be51,_0x3411f0=_0x2d976b['val']();if(!_0x3411f0)return;for(const _0x5afd90 in _0x3411f0){if(_0x2bbff5[_0x107ba1(0x18d)](_0x5afd90,STATIC_ROOM))db['ref'](_0x107ba1(0x1fe)+_0x5afd90)['remove']();}});});}document[_0xdecc3d(0x26e)](_0xdecc3d(0x1ab),()=>{const _0x467ed0=_0xdecc3d,_0x481c7b={'nYqhX':function(_0xebbfad,_0x3028d1){return _0xebbfad===_0x3028d1;},'qiuxC':_0x467ed0(0x294),'TypZW':_0x467ed0(0x19d),'bReIj':_0x467ed0(0x297)},_0x98506b=document['getElementById'](_0x481c7b[_0x467ed0(0x30f)]);_0x98506b&&_0x98506b[_0x467ed0(0x26e)](_0x481c7b[_0x467ed0(0x250)],function(_0x5a2b87){const _0x3360a6=_0x467ed0;_0x481c7b[_0x3360a6(0x32f)](_0x5a2b87[_0x3360a6(0x1be)],_0x481c7b[_0x3360a6(0x249)])&&(_0x5a2b87[_0x3360a6(0x254)](),sendMessage());});});function showScreen(_0x3e7462){const _0x23c0f1=_0xdecc3d,_0x71f8f9={'MCqwO':'none','UAddD':_0x23c0f1(0x221),'exqIn':_0x23c0f1(0x280),'KARCq':'chatScreen','dSGmc':_0x23c0f1(0x19c),'FCElX':'profileViewer','JOyNq':'authScreen','xALME':'flex'};[_0x71f8f9[_0x23c0f1(0x2f9)],_0x23c0f1(0x318),_0x71f8f9[_0x23c0f1(0x2e6)],_0x71f8f9[_0x23c0f1(0x353)],_0x71f8f9[_0x23c0f1(0x309)],_0x23c0f1(0x315),_0x71f8f9[_0x23c0f1(0x286)],_0x71f8f9['JOyNq']]['forEach'](_0x2f97fd=>{const _0x1bab7e=_0x23c0f1;document['getElementById'](_0x2f97fd)[_0x1bab7e(0x312)][_0x1bab7e(0x2f4)]=_0x71f8f9[_0x1bab7e(0x1a6)];}),document[_0x23c0f1(0x35f)](_0x3e7462)[_0x23c0f1(0x312)][_0x23c0f1(0x2f4)]=_0x71f8f9[_0x23c0f1(0x268)];}function genRoomCode(){const _0x3b1fc7=_0xdecc3d,_0x52f292={'xchaz':_0x3b1fc7(0x241),'ivozj':function(_0x21b31a,_0x1a321e){return _0x21b31a+_0x1a321e;},'fFZqr':function(_0x37b219,_0x332fdc){return _0x37b219+_0x332fdc;},'WlRiU':function(_0x3946d8,_0x3af8ec){return _0x3946d8+_0x3af8ec;},'XEiBF':function(_0x4314aa,_0x56d118,_0x1ba9f8){return _0x4314aa(_0x56d118,_0x1ba9f8);},'CiojN':function(_0x5dbf22,_0x3c142e,_0x3404ce){return _0x5dbf22(_0x3c142e,_0x3404ce);}},_0x2cd56a=_0x52f292['xchaz'],_0x4ae0cc=_0x3b1fc7(0x231),_0x47c5ba=(_0x572745,_0x126615)=>Array[_0x3b1fc7(0x267)]({'length':_0x126615},()=>_0x572745[Math[_0x3b1fc7(0x344)](Math[_0x3b1fc7(0x22a)]()*_0x572745['length'])])['join']('');return _0x52f292['ivozj'](_0x52f292['fFZqr'](_0x52f292[_0x3b1fc7(0x352)](_0x52f292['XEiBF'](_0x47c5ba,_0x4ae0cc,0x3),_0x52f292[_0x3b1fc7(0x246)](_0x47c5ba,_0x2cd56a,0x3)),_0x52f292['CiojN'](_0x47c5ba,_0x4ae0cc,0x2)),_0x52f292[_0x3b1fc7(0x246)](_0x47c5ba,_0x2cd56a,0x2));}function startInactivityTimer(){const _0x349a8f={'TzOLd':function(_0x37e2a2,_0x50047b){return _0x37e2a2>_0x50047b;},'EjFEo':function(_0x3bea10,_0x2fc2fe){return _0x3bea10*_0x2fc2fe;},'DVlKR':function(_0x438aff,_0x10ecf5){return _0x438aff+_0x10ecf5;},'ahxtV':function(_0x455402,_0x340973){return _0x455402(_0x340973);},'fvdUB':'Session\x20expired.'};setInterval(()=>{const _0xf48980=_0x3b9d;_0x349a8f[_0xf48980(0x2ac)](Date[_0xf48980(0x369)]()-lastActivity,_0x349a8f['EjFEo'](0x5,0x3c)*0x3e8)&&roomCode!==STATIC_ROOM&&(db[_0xf48980(0x306)](_0x349a8f[_0xf48980(0x2e8)]('rooms/',roomCode))['update']({'active':![]}),_0x349a8f['ahxtV'](alert,_0x349a8f[_0xf48980(0x1f1)]),location[_0xf48980(0x325)]());},0x7530);}function setupSidebarBackHandler(){const _0x4b0be9=_0xdecc3d,_0x302ff4={'oCivX':_0x4b0be9(0x1d9),'EtvuI':_0x4b0be9(0x1e5)};window[_0x4b0be9(0x26e)](_0x4b0be9(0x279),()=>{const _0x20a852=_0x4b0be9,_0x48143a=document[_0x20a852(0x35f)](_0x302ff4[_0x20a852(0x2af)]);_0x48143a?.[_0x20a852(0x351)][_0x20a852(0x334)]('show')&&_0x48143a[_0x20a852(0x351)][_0x20a852(0x2f5)](_0x302ff4[_0x20a852(0x358)]);});}function toggleSidebar(){const _0x147428=_0xdecc3d,_0x143e68={'eJcRC':_0x147428(0x1d9),'ejGSh':_0x147428(0x1e5)},_0x5256a1=document[_0x147428(0x35f)](_0x143e68[_0x147428(0x2bd)]);if(!_0x5256a1[_0x147428(0x351)][_0x147428(0x334)](_0x143e68[_0x147428(0x29a)]))_0x5256a1[_0x147428(0x351)][_0x147428(0x22c)](_0x143e68[_0x147428(0x29a)]),history[_0x147428(0x35d)]({'sidebarOpen':!![]},'');else{_0x5256a1[_0x147428(0x351)][_0x147428(0x2f5)](_0x143e68[_0x147428(0x29a)]);if(history[_0x147428(0x24f)]?.[_0x147428(0x255)])history[_0x147428(0x2da)]();}}function setupVisibilityAttention(){const _0x1e562d=_0xdecc3d;let _0x145d59=0x0,_0x23fc9d=document[_0x1e562d(0x23b)];document['addEventListener'](_0x1e562d(0x1eb),()=>{const _0x498d6b=_0x1e562d;!document[_0x498d6b(0x1b3)]&&(document['title']=_0x23fc9d,_0x145d59=0x0);}),window['flagPageAttention']=function(){document['hidden']&&(_0x145d59++,document['title']='('+_0x145d59+')\x20New\x20message\x20‚Ä¢\x20'+_0x23fc9d);};}function tryEditProfile(){const _0x3a811a=_0xdecc3d,_0x8bd295={'quszF':_0x3a811a(0x24c)};document[_0x3a811a(0x35f)](_0x8bd295[_0x3a811a(0x24d)])['style'][_0x3a811a(0x2f4)]=_0x3a811a(0x1a2);}async function submitEditProfile(){const _0x5a4dd3=_0xdecc3d,_0x3fc3a8={'ItZpI':_0x5a4dd3(0x305),'dWFnf':_0x5a4dd3(0x217),'NjdOL':_0x5a4dd3(0x35b),'JEBOf':function(_0xd2aadc,_0x225934){return _0xd2aadc(_0x225934);},'CDpap':function(_0x2e68ed,_0x17a7dc){return _0x2e68ed!==_0x17a7dc;},'yRiuu':_0x5a4dd3(0x287),'FAGTW':_0x5a4dd3(0x1d4),'XTISH':function(_0x36d687,_0x52f7ce){return _0x36d687!==_0x52f7ce;},'PsVVK':function(_0x4a4e57,_0x6d1606){return _0x4a4e57*_0x6d1606;},'VBDnB':function(_0x1ada9a,_0x12566b){return _0x1ada9a>_0x12566b;},'RljkX':function(_0x9ae22e,_0x1d7055){return _0x9ae22e-_0x1d7055;},'ryitX':_0x5a4dd3(0x1e1),'iMtVg':_0x5a4dd3(0x2d2),'YiMnL':function(_0x434b93,_0x11039d){return _0x434b93!==_0x11039d;},'vZDHf':function(_0x3a8c47,_0x185274){return _0x3a8c47(_0x185274);},'qpeoR':_0x5a4dd3(0x357)},_0x5c1444=document[_0x5a4dd3(0x35f)](_0x5a4dd3(0x2a0))[_0x5a4dd3(0x293)],_0x1806fe=document[_0x5a4dd3(0x35f)](_0x3fc3a8[_0x5a4dd3(0x253)])[_0x5a4dd3(0x293)],_0x18a5b2=document['getElementById'](_0x3fc3a8[_0x5a4dd3(0x2be)])['value'][_0x5a4dd3(0x292)](),_0x1bb8ca=document[_0x5a4dd3(0x35f)]('editProfileError');if(!_0x5c1444){_0x1bb8ca['innerText']=_0x5a4dd3(0x24a),_0x1bb8ca[_0x5a4dd3(0x312)][_0x5a4dd3(0x2f4)]=_0x5a4dd3(0x1d4);return;}const _0x4db30e=sanitizeUsername(username),_0x4d489a=await db['ref'](_0x5a4dd3(0x1bd)+_0x4db30e)[_0x5a4dd3(0x321)]();if(!_0x4d489a[_0x5a4dd3(0x2e3)]()){_0x1bb8ca['innerText']=_0x3fc3a8[_0x5a4dd3(0x355)],_0x1bb8ca['style'][_0x5a4dd3(0x2f4)]=_0x5a4dd3(0x1d4);return;}const _0x554a14=_0x4d489a['val'](),_0x10405d=await _0x3fc3a8[_0x5a4dd3(0x219)](sha256,_0x5c1444);if(_0x3fc3a8[_0x5a4dd3(0x19a)](_0x10405d,_0x554a14['passwordHash'])){_0x1bb8ca[_0x5a4dd3(0x2d3)]=_0x3fc3a8[_0x5a4dd3(0x2bb)],_0x1bb8ca[_0x5a4dd3(0x312)]['display']=_0x3fc3a8[_0x5a4dd3(0x25b)];return;}const _0x3e017d={};if(_0x1806fe){const _0x3c826a=await _0x3fc3a8['JEBOf'](sha256,_0x1806fe);_0x3e017d[_0x5a4dd3(0x1fa)]=_0x3c826a;}_0x3fc3a8['XTISH'](_0x18a5b2,_0x554a14[_0x5a4dd3(0x291)])&&(_0x3e017d['description']=_0x18a5b2);const _0x4b61bb=Date['now'](),_0x43c1a1=_0x3fc3a8[_0x5a4dd3(0x2b3)](_0x3fc3a8[_0x5a4dd3(0x2b3)](_0x3fc3a8[_0x5a4dd3(0x2b3)](0x18,0x3c),0x3c),0x3e8),_0x5016b8=_0x3fc3a8[_0x5a4dd3(0x364)](_0x3fc3a8[_0x5a4dd3(0x303)](_0x4b61bb,_0x554a14[_0x5a4dd3(0x2ea)]||0x0),_0x43c1a1);if(_0x5016b8&&confirm(_0x3fc3a8['ryitX'])){const _0x3efb58=_0x3fc3a8[_0x5a4dd3(0x219)](prompt,_0x3fc3a8[_0x5a4dd3(0x29e)]);_0x3efb58&&_0x3efb58['trim']()&&(_0x3e017d[_0x5a4dd3(0x2e4)]=_0x3efb58[_0x5a4dd3(0x292)](),_0x3e017d[_0x5a4dd3(0x31b)]=(_0x554a14[_0x5a4dd3(0x31b)]||[])['concat'](_0x3efb58['trim']()),_0x3e017d[_0x5a4dd3(0x2ea)]=_0x4b61bb);}_0x3e017d[_0x5a4dd3(0x2e4)]&&_0x3fc3a8[_0x5a4dd3(0x2d4)](_0x3e017d[_0x5a4dd3(0x2e4)],_0x554a14[_0x5a4dd3(0x2e4)])?(await db[_0x5a4dd3(0x306)]('auth/'+_0x3fc3a8[_0x5a4dd3(0x1e9)](sanitizeUsername,_0x3e017d[_0x5a4dd3(0x2e4)]))[_0x5a4dd3(0x2ab)]({..._0x554a14,..._0x3e017d}),await db[_0x5a4dd3(0x306)](_0x5a4dd3(0x1bd)+_0x4db30e)[_0x5a4dd3(0x2f5)](),username=_0x3e017d[_0x5a4dd3(0x2e4)]):await db['ref'](_0x5a4dd3(0x1bd)+_0x4db30e)[_0x5a4dd3(0x248)](_0x3e017d),alert(_0x3fc3a8['qpeoR']),location[_0x5a4dd3(0x325)]();}function cancelEditProfile(){const _0x18aedf=_0xdecc3d,_0x466624={'ABovh':_0x18aedf(0x24c),'wijbP':_0x18aedf(0x2dc),'hPOIf':function(_0x238100,_0x1ffcb4){return _0x238100(_0x1ffcb4);},'ESJWd':_0x18aedf(0x238)};document[_0x18aedf(0x35f)](_0x466624[_0x18aedf(0x31a)])[_0x18aedf(0x312)]['display']=_0x466624[_0x18aedf(0x214)],_0x466624[_0x18aedf(0x242)](showScreen,_0x466624['ESJWd']);}function listenForUserList(){const _0x38cdd2=_0xdecc3d,_0x91d4e2={'HgKzy':function(_0x2d58c9,_0x29bf25){return _0x2d58c9(_0x29bf25);},'LfLRo':function(_0x58bd41,_0x3f851e,_0x5e0bcd,_0x2ee2e2){return _0x58bd41(_0x3f851e,_0x5e0bcd,_0x2ee2e2);},'Cxqyb':function(_0x97884,_0x2362ac){return _0x97884<=_0x2362ac;},'lYfGf':function(_0x5bc241,_0x17e560){return _0x5bc241*_0x17e560;},'OvaSR':_0x38cdd2(0x21d),'bEmUR':'userList'};db['ref']('users/'+roomCode)['on'](_0x38cdd2(0x293),_0x4317ea=>{const _0x131110=_0x38cdd2,_0x424efd={'CZAvu':function(_0xe93682,_0x225a2a){const _0x513f3f=_0x3b9d;return _0x91d4e2[_0x513f3f(0x275)](_0xe93682,_0x225a2a);},'RfuJk':function(_0x20ec6f,_0x3aeb33){return _0x91d4e2['lYfGf'](_0x20ec6f,_0x3aeb33);},'GoTJV':function(_0x462c0a,_0x587808){const _0x4eb8c8=_0x3b9d;return _0x91d4e2[_0x4eb8c8(0x1b8)](_0x462c0a,_0x587808);},'BjexP':function(_0xdaae0c,_0x457967){return _0xdaae0c&&_0x457967;},'KWyxJ':_0x91d4e2[_0x131110(0x2c4)]},_0x56d414=_0x4317ea[_0x131110(0x22e)]()||{},_0x2c697f=Date[_0x131110(0x369)]();roomUsers={},Object[_0x131110(0x2d0)](_0x56d414)['forEach'](([_0x24aeb1,_0x2c9b40])=>{const _0xc16db=_0x131110;roomUsers[_0x91d4e2['HgKzy'](sanitizeUsername,_0x2c9b40[_0xc16db(0x2e4)])]=_0x2c9b40;}),userListReady=!![],pendingMessages['forEach'](({data:_0x1ff86f,sent:_0x456b71,key:_0x58d6c2})=>{const _0x55a242=_0x131110;_0x91d4e2[_0x55a242(0x2db)](addMessage,_0x1ff86f,_0x456b71,_0x58d6c2);}),pendingMessages=[];const _0x17028e=Object[_0x131110(0x32a)](_0x56d414)[_0x131110(0x2ee)](_0x19306c=>{const _0x3043f9=_0x131110,_0x187632=_0x19306c[_0x3043f9(0x326)],_0x5a837e=_0x424efd[_0x3043f9(0x243)](_0x2c697f-_0x19306c[_0x3043f9(0x1e2)],_0x424efd[_0x3043f9(0x366)](_0x424efd[_0x3043f9(0x272)](0x1e,0x3c),0x3e8));if(_0x424efd[_0x3043f9(0x2cf)](!_0x187632,!_0x5a837e))return'';const _0xcf28b1=_0x187632?_0x424efd[_0x3043f9(0x323)]:_0x3043f9(0x25d),_0x7bc046=_0x187632?'üü¢':'üïí',_0x292e16=_0x19306c[_0x3043f9(0x1ce)]?_0x3043f9(0x240)+_0x19306c[_0x3043f9(0x1ce)]+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>':_0x3043f9(0x180),_0x3af942=_0x19306c[_0x3043f9(0x1e4)]?_0x3043f9(0x33c):'';return _0x3043f9(0x2ca)+_0xcf28b1+_0x3043f9(0x1d6)+sanitizeUsername(_0x19306c[_0x3043f9(0x2e4)])+_0x3043f9(0x1ac)+_0x292e16+_0x7bc046+'\x20'+_0x19306c['username']+_0x3af942+_0x3043f9(0x277);})['join']('');document[_0x131110(0x35f)](_0x91d4e2[_0x131110(0x34d)])[_0x131110(0x224)]=_0x17028e;});}function sendTyping(_0x716271=![]){const _0x78bb3a=_0xdecc3d,_0x484c1c={'FwkdE':function(_0xe6f70d,_0xf033db){return _0xe6f70d(_0xf033db);},'zuOPK':function(_0x5ba4e3,_0x3274fb,_0x3c956f){return _0x5ba4e3(_0x3274fb,_0x3c956f);}};if(isBlocked)return;const _0x455885=_0x78bb3a(0x223)+roomCode+_0x78bb3a(0x302)+clientId;_0x716271?db[_0x78bb3a(0x306)](_0x455885)[_0x78bb3a(0x2f5)]():(db[_0x78bb3a(0x306)](_0x455885)[_0x78bb3a(0x2ab)](username),_0x484c1c[_0x78bb3a(0x1ee)](clearTimeout,typingTimeout),typingTimeout=_0x484c1c[_0x78bb3a(0x28c)](setTimeout,()=>{const _0x411859=_0x78bb3a;db[_0x411859(0x306)](_0x455885)[_0x411859(0x2f5)]();},0xbb8));}function listenForTyping(){const _0x27f9c7=_0xdecc3d,_0x36062={'brEba':_0x27f9c7(0x347),'gLGFl':_0x27f9c7(0x293)},_0x4d7e19=document[_0x27f9c7(0x35f)](_0x36062[_0x27f9c7(0x2e5)]);db[_0x27f9c7(0x306)](_0x27f9c7(0x223)+roomCode+_0x27f9c7(0x2ae))['on'](_0x36062[_0x27f9c7(0x1f0)],_0x3c13e9=>{const _0x24e4df=_0x27f9c7,_0x3e512a=_0x3c13e9[_0x24e4df(0x22e)]();if(!_0x3e512a)return _0x4d7e19[_0x24e4df(0x2d3)]='';const _0x3d4a6d=Object[_0x24e4df(0x32a)](_0x3e512a)['filter'](_0x546af3=>_0x546af3!==username);_0x4d7e19[_0x24e4df(0x2d3)]=_0x3d4a6d[_0x24e4df(0x2eb)]?_0x3d4a6d[_0x24e4df(0x1f3)](',\x20')+_0x24e4df(0x2d1):'';});}function trackPresence(){const _0x4cb779=_0xdecc3d,_0x50b3b0={'biWvD':function(_0x1c0122){return _0x1c0122();},'XEgKO':function(_0x6aee90,_0x4fa9f0){return _0x6aee90||_0x4fa9f0;},'welgS':_0x4cb779(0x293)};if(_0x50b3b0[_0x4cb779(0x1d3)](!username,!roomCode))return;const _0x24db68=sanitizeUsername(username),_0x567e54=db[_0x4cb779(0x306)](_0x4cb779(0x185)+roomCode+'/'+_0x24db68),_0x50ec8d={'username':username,'avatarBase64':_0x50b3b0[_0x4cb779(0x1d3)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x4cb779(0x200)]['ServerValue'][_0x4cb779(0x34a)]};db[_0x4cb779(0x306)](_0x4cb779(0x184)+roomCode+'/'+_0x24db68)['once'](_0x50b3b0['welgS'])[_0x4cb779(0x1e3)](_0x3747c1=>{const _0x25237e=_0x4cb779;_0x3747c1[_0x25237e(0x2e3)]()&&(_0x50ec8d[_0x25237e(0x1e4)]=!![]),_0x567e54['set'](_0x50ec8d),_0x567e54['onDisconnect']()[_0x25237e(0x248)]({'online':![],'lastOnline':Date[_0x25237e(0x369)]()}),_0x50b3b0['biWvD'](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x4753f7){const _0x13ce92=_0xdecc3d,_0x135058={'ZzEBk':_0x13ce92(0x1b1),'Qciph':function(_0x5259c8,_0x3e1391){return _0x5259c8(_0x3e1391);}};if(!_0x4753f7[_0x13ce92(0x233)][_0x13ce92(0x2eb)])return;const _0x33f5dd=_0x4753f7[_0x13ce92(0x233)][0x0],_0x56be98=new FileReader();_0x56be98[_0x13ce92(0x201)]=async()=>{const _0x4726de=_0x13ce92,_0x4734cd=_0x56be98['result'][_0x4726de(0x33d)](',')[0x1];document[_0x4726de(0x35f)](_0x135058[_0x4726de(0x346)])[_0x4726de(0x32e)]=_0x56be98[_0x4726de(0x310)],document['getElementById'](_0x135058[_0x4726de(0x346)])[_0x4726de(0x312)][_0x4726de(0x2f4)]=_0x4726de(0x1d4);try{const _0x237779=sanitizeUsername(username);await db['ref']('auth/'+_0x237779+_0x4726de(0x1ad))['set'](_0x4734cd),_0x135058[_0x4726de(0x288)](alert,_0x4726de(0x343));}catch(_0x2ff5e3){console[_0x4726de(0x33b)](_0x2ff5e3),alert('‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.');}},_0x56be98['readAsDataURL'](_0x33f5dd);}function muteUser(_0x34f0ff,_0x3cb2e6){const _0x4d7a4a=_0xdecc3d,_0x556a40={'gNPsv':function(_0x4017d9,_0xf2846e){return _0x4017d9(_0xf2846e);},'rublg':_0x4d7a4a(0x17f),'EXsyR':function(_0x507b7d,_0x3b2937){return _0x507b7d*_0x3b2937;},'CiqZC':function(_0x118914,_0x2b107e){return _0x118914*_0x2b107e;}};if(!isRoomAdmin)return _0x556a40[_0x4d7a4a(0x1a7)](alert,_0x556a40[_0x4d7a4a(0x2cb)]);const _0x4baf47=Date[_0x4d7a4a(0x369)]()+_0x556a40[_0x4d7a4a(0x360)](_0x556a40[_0x4d7a4a(0x1c9)](_0x3cb2e6,0x3c),0x3e8);db[_0x4d7a4a(0x306)](_0x4d7a4a(0x320)+roomCode+'/'+sanitizeUsername(_0x34f0ff))['set'](_0x4baf47);}function unmuteUser(_0x17d432){const _0x4ca6e6=_0xdecc3d,_0x29106f={'gyoLO':_0x4ca6e6(0x17f),'pVNog':function(_0x3fc596,_0xe8f451){return _0x3fc596(_0xe8f451);}};if(!isRoomAdmin)return alert(_0x29106f[_0x4ca6e6(0x2fe)]);db[_0x4ca6e6(0x306)](_0x4ca6e6(0x320)+roomCode+'/'+_0x29106f[_0x4ca6e6(0x2c8)](sanitizeUsername,_0x17d432))[_0x4ca6e6(0x2f5)]();}function updateOnlineIndicator(){const _0x2bf474=_0xdecc3d,_0x27747b={'Xubqd':_0x2bf474(0x341),'tElbk':_0x2bf474(0x21d)},_0x1e2f10=document[_0x2bf474(0x35f)](_0x27747b[_0x2bf474(0x2e9)]);_0x1e2f10[_0x2bf474(0x2d3)]=_0x2bf474(0x1de),_0x1e2f10[_0x2bf474(0x312)]['color']=_0x27747b[_0x2bf474(0x359)];}setInterval(updateOnlineIndicator,0xbb8);function _0x3b9d(_0x3b9bd8,_0x1f7530){const _0x4c6bc1=_0x4c6b();return _0x3b9d=function(_0x3b9d48,_0x159ed5){_0x3b9d48=_0x3b9d48-0x17d;let _0x131d85=_0x4c6bc1[_0x3b9d48];return _0x131d85;},_0x3b9d(_0x3b9bd8,_0x1f7530);}function viewProfile(_0x241ca2){const _0x16cca0=_0xdecc3d,_0x33758b={'pnMBP':function(_0x3b00ee,_0x3efde9){return _0x3b00ee(_0x3efde9);},'OGpTj':_0x16cca0(0x35b),'AcaDD':_0x16cca0(0x36b),'BKPJX':_0x16cca0(0x319),'gYhQJ':_0x16cca0(0x1b2),'PUXOs':_0x16cca0(0x1a5),'OKVZB':_0x16cca0(0x298),'VCdMU':_0x16cca0(0x1d4)};db[_0x16cca0(0x306)]('auth/'+_0x241ca2)[_0x16cca0(0x321)]()['then'](_0x52fdeb=>{const _0x3ad285=_0x16cca0;if(!_0x52fdeb['exists']())return _0x33758b[_0x3ad285(0x2ce)](alert,_0x33758b[_0x3ad285(0x32d)]);const _0x4a750b=_0x52fdeb[_0x3ad285(0x22e)](),_0x5a234d=(_0x3ad285(0x2b8)+_0x4a750b[_0x3ad285(0x2e4)]+'\x0aDescription:\x20'+(_0x4a750b[_0x3ad285(0x291)]||_0x33758b[_0x3ad285(0x304)])+_0x3ad285(0x194)+((_0x4a750b[_0x3ad285(0x31b)]||[])[_0x3ad285(0x1f3)](',\x20')||_0x33758b[_0x3ad285(0x218)])+_0x3ad285(0x2ad)+(_0x4a750b[_0x3ad285(0x2ea)]?new Date(_0x4a750b[_0x3ad285(0x2ea)])[_0x3ad285(0x31c)]():_0x33758b['gYhQJ'])+_0x3ad285(0x258))[_0x3ad285(0x292)]();document[_0x3ad285(0x35f)](_0x33758b['PUXOs'])[_0x3ad285(0x2d3)]=_0x5a234d,document[_0x3ad285(0x35f)](_0x33758b['OKVZB'])[_0x3ad285(0x312)][_0x3ad285(0x2f4)]=_0x33758b[_0x3ad285(0x193)];});}function initUsernameFlow(){const _0x5137c9=_0xdecc3d,_0x455c1c={'Sggtw':'chat_username','yoVaZ':function(_0x4d1595,_0x4802ee){return _0x4d1595(_0x4802ee);},'HhJOy':_0x5137c9(0x315),'BuWAt':_0x5137c9(0x2b4),'qruOw':function(_0x5caa24,_0x3d601f){return _0x5caa24(_0x3d601f);},'fzmVY':_0x5137c9(0x318)},_0x3afd2b=localStorage[_0x5137c9(0x1b0)](_0x455c1c[_0x5137c9(0x1f8)]);!_0x3afd2b?_0x455c1c[_0x5137c9(0x1a3)](showScreen,_0x455c1c[_0x5137c9(0x322)]):(username=_0x3afd2b,document[_0x5137c9(0x35f)](_0x455c1c[_0x5137c9(0x301)])['innerText']=username,_0x455c1c[_0x5137c9(0x257)](showScreen,_0x455c1c[_0x5137c9(0x18b)]));}function closeProfile(){const _0x5a24c6=_0xdecc3d,_0x4f4dd9={'vqGxe':_0x5a24c6(0x298),'KUhWK':_0x5a24c6(0x2dc)};document[_0x5a24c6(0x35f)](_0x4f4dd9['vqGxe'])[_0x5a24c6(0x312)][_0x5a24c6(0x2f4)]=_0x4f4dd9['KUhWK'];}function resetWebsiteData(){const _0x26b209=_0xdecc3d,_0x4f7fa8={'JRzDs':function(_0x50e171,_0x2e4b0f){return _0x50e171||_0x2e4b0f;},'jhmbE':function(_0x5501cc,_0x586334){return _0x5501cc+_0x586334;}};try{localStorage[_0x26b209(0x2ef)](),sessionStorage[_0x26b209(0x2ef)]();}catch(_0x19e192){}if(_0x4f7fa8[_0x26b209(0x348)](!username,!roomCode)){const _0x51e372=_0x26b209(0x256)[_0x26b209(0x33d)]('|');let _0x26babb=0x0;while(!![]){switch(_0x51e372[_0x26babb++]){case'0':roomCode=null;continue;case'1':isRoomAdmin=![];continue;case'2':clientId=_0x4f7fa8[_0x26b209(0x36d)]('_',Math['random']()[_0x26b209(0x349)](0x24)['substr'](0x2,0x9));continue;case'3':username=null;continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x3efd7e=_0xdecc3d,_0x4f92b4={'jqOPk':_0x3efd7e(0x1a1)},_0xfc2738=prompt(_0x4f92b4['jqOPk']);if(!_0xfc2738)return;db[_0x3efd7e(0x306)](_0x3efd7e(0x223)+roomCode+_0x3efd7e(0x205))['set']({'text':_0xfc2738,'by':username,'timestamp':Date[_0x3efd7e(0x369)]()});}function listenForAnnouncement(){const _0x5380ae=_0xdecc3d,_0x1fb49b={'rbUPa':_0x5380ae(0x1ed),'eaWig':_0x5380ae(0x293)},_0x202974=db['ref'](_0x5380ae(0x223)+roomCode+_0x5380ae(0x205));_0x202974['on'](_0x1fb49b[_0x5380ae(0x212)],_0x37360b=>{const _0x25224b=_0x5380ae,_0x5e8304=_0x37360b['val']();if(!_0x5e8304){document['getElementById'](_0x1fb49b[_0x25224b(0x1ae)])[_0x25224b(0x2d3)]='';return;}const _0x45bc7d=document['getElementById'](_0x1fb49b[_0x25224b(0x1ae)]);_0x45bc7d[_0x25224b(0x2d3)]=''+_0x5e8304[_0x25224b(0x2f7)];});}document[_0xdecc3d(0x35f)](_0xdecc3d(0x1ed))[_0xdecc3d(0x26e)]('click',_0x32da3b=>{const _0x2780c9=_0xdecc3d,_0xdb338={'RdbdF':function(_0x1e7b28,_0x291214){return _0x1e7b28===_0x291214;},'gnIqb':function(_0x36f263,_0x4e4aeb){return _0x36f263(_0x4e4aeb);},'ShQAk':_0x2780c9(0x25e)};_0xdb338[_0x2780c9(0x25f)](_0x32da3b[_0x2780c9(0x2f1)],0x3)&&isRoomAdmin&&(_0xdb338[_0x2780c9(0x213)](confirm,_0xdb338['ShQAk'])&&db['ref']('rooms/'+roomCode+_0x2780c9(0x205))[_0x2780c9(0x2f5)]());}),document[_0xdecc3d(0x35f)](_0xdecc3d(0x19d))[_0xdecc3d(0x26e)]('input',()=>{const _0x401745=_0xdecc3d,_0x1ce784={'MujGX':_0x401745(0x19d),'VguES':_0x401745(0x30b),'bktlA':_0x401745(0x225)},_0x3e0f4b=document['getElementById'](_0x1ce784['MujGX']),_0x43fc3e=document['getElementById'](_0x1ce784[_0x401745(0x2b6)]),_0x342ae2=_0x3e0f4b['value'][_0x401745(0x188)](),_0x46ab77=swearWords[_0x401745(0x296)](_0x108799=>_0x342ae2[_0x401745(0x30d)](_0x108799));_0x46ab77?(_0x3e0f4b[_0x401745(0x312)]['border']=_0x1ce784[_0x401745(0x19e)],_0x43fc3e[_0x401745(0x195)]=!![]):(_0x3e0f4b[_0x401745(0x312)][_0x401745(0x23a)]='',_0x43fc3e['disabled']=![]);});