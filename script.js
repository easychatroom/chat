const _0x8331ae=_0x4995;(function(_0x2394d1,_0x3e2dcd){const _0x20cc50=_0x4995,_0x395582=_0x2394d1();while(!![]){try{const _0x2c792c=parseInt(_0x20cc50(0x2bf))/0x1+parseInt(_0x20cc50(0xe3))/0x2+-parseInt(_0x20cc50(0x2e4))/0x3+parseInt(_0x20cc50(0x2f0))/0x4*(-parseInt(_0x20cc50(0x399))/0x5)+-parseInt(_0x20cc50(0x2af))/0x6+parseInt(_0x20cc50(0x222))/0x7*(parseInt(_0x20cc50(0x22f))/0x8)+parseInt(_0x20cc50(0x15a))/0x9;if(_0x2c792c===_0x3e2dcd)break;else _0x395582['push'](_0x395582['shift']());}catch(_0xae39ad){_0x395582['push'](_0x395582['shift']());}}}(_0x50a5,0x4721b));const firebaseConfig={'apiKey':_0x8331ae(0x107),'authDomain':_0x8331ae(0x21d),'databaseURL':_0x8331ae(0xb0),'projectId':_0x8331ae(0x171),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':_0x8331ae(0x320),'appId':_0x8331ae(0x2b0),'measurementId':_0x8331ae(0x262)};firebase[_0x8331ae(0x1b0)](firebaseConfig);const messaging=firebase['messaging'](),db=firebase[_0x8331ae(0x36d)]();let deviceId=null;((async()=>{const _0x154d3d={'aAsjQ':function(_0x240ae8){return _0x240ae8();}};deviceId=await _0x154d3d['aAsjQ'](generateDeviceId);})());const swearWords=[_0x8331ae(0x2c4),_0x8331ae(0x290),_0x8331ae(0x3b3),'asshole','bastard',_0x8331ae(0x14d),_0x8331ae(0x2b4),'puta',_0x8331ae(0x2ef),_0x8331ae(0x16b),_0x8331ae(0xf2),_0x8331ae(0x182),_0x8331ae(0x252),_0x8331ae(0x184),_0x8331ae(0x12f),_0x8331ae(0x338),'puta',_0x8331ae(0x3a2),'otario',_0x8331ae(0x28e),'gago',_0x8331ae(0x2a3),'ulol',_0x8331ae(0x30d),_0x8331ae(0xba),_0x8331ae(0x101)],style=document['createElement']('style');style[_0x8331ae(0x128)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document[_0x8331ae(0x18c)][_0x8331ae(0x255)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x8331ae(0x183)]()[_0x8331ae(0x137)](0x24)[_0x8331ae(0x13f)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x8331ae(0x212),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound[_0x8331ae(0x19b)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2c7658=_0x8331ae,_0x2e893f={'yqJGo':function(_0x1e2df3,_0x1548b0){return _0x1e2df3(_0x1548b0);},'nxssf':function(_0x1b170d,_0xe9505a){return _0x1b170d+_0xe9505a;}},_0x238687=navigator['userAgent']+screen[_0x2c7658(0x205)]+screen[_0x2c7658(0x157)],_0x236af1=await _0x2e893f[_0x2c7658(0x19d)](sha256,_0x238687);return _0x2e893f['nxssf']('_',_0x236af1['substr'](0x0,0x14));}function sha256(_0x1a87f6){const _0x1a3b1d=_0x8331ae,_0x33d65a=new TextEncoder()[_0x1a3b1d(0x23f)](_0x1a87f6);return crypto[_0x1a3b1d(0x1a4)][_0x1a3b1d(0x373)](_0x1a3b1d(0x2ba),_0x33d65a)[_0x1a3b1d(0x24e)](_0x105115=>{const _0x551e28=_0x1a3b1d;return Array[_0x551e28(0x123)](new Uint8Array(_0x105115))[_0x551e28(0x237)](_0x32fd3f=>_0x32fd3f[_0x551e28(0x137)](0x10)['padStart'](0x2,'0'))[_0x551e28(0x34e)]('');});}function toggleNotifications(){const _0x17a1ee=_0x8331ae,_0x2155ee={'VHWMT':function(_0x427afb,_0x138a1c){return _0x427afb===_0x138a1c;},'OaGqP':_0x17a1ee(0xda),'ToXfP':_0x17a1ee(0x1a2),'RuagA':_0x17a1ee(0x3a4),'WuKWD':function(_0xc8bd18,_0x171c15){return _0xc8bd18!==_0x171c15;},'jmHvZ':_0x17a1ee(0xcc),'CwrMb':_0x17a1ee(0xf5),'yUOcA':_0x17a1ee(0x3be),'DaXqc':_0x17a1ee(0x2d8)};_0x2155ee[_0x17a1ee(0x163)](Notification['permission'],_0x2155ee[_0x17a1ee(0xeb)])?Notification['requestPermission']()[_0x17a1ee(0x24e)](_0x614b17=>{const _0x49862c=_0x17a1ee;_0x2155ee[_0x49862c(0x3c0)](_0x614b17,_0x49862c(0xcc))&&(notificationsEnabled=!![],localStorage[_0x49862c(0xdf)](_0x2155ee[_0x49862c(0xd5)],_0x2155ee[_0x49862c(0x390)]),document[_0x49862c(0x33f)](_0x2155ee[_0x49862c(0x203)])[_0x49862c(0x26e)]=_0x49862c(0x3be));}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x17a1ee(0xdf)](_0x2155ee['OaGqP'],notificationsEnabled?_0x2155ee[_0x17a1ee(0x390)]:_0x2155ee['CwrMb']),document[_0x17a1ee(0x33f)](_0x17a1ee(0x3a4))[_0x17a1ee(0x26e)]=notificationsEnabled?_0x2155ee[_0x17a1ee(0x395)]:_0x2155ee[_0x17a1ee(0x127)]);}function toggleAuthMode(){const _0xbb43cd=_0x8331ae,_0x3e0a89={'wbnXs':_0xbb43cd(0x13b),'PSCmD':_0xbb43cd(0x190),'VTiLh':_0xbb43cd(0x1a8),'NHWbr':'block','LIEkX':_0xbb43cd(0x2a5),'aylUE':_0xbb43cd(0x2e8),'Agzuh':_0xbb43cd(0x309),'sTmOr':_0xbb43cd(0xff),'gcbxH':'authError'};isRegisterMode=!isRegisterMode,document[_0xbb43cd(0x33f)](_0x3e0a89['wbnXs'])[_0xbb43cd(0x26e)]=isRegisterMode?_0x3e0a89['PSCmD']:_0x3e0a89['VTiLh'],document['getElementById']('authPasswordConfirm')[_0xbb43cd(0x13d)]['display']=isRegisterMode?_0x3e0a89['NHWbr']:_0x3e0a89['LIEkX'],document['getElementById']('authDescription')[_0xbb43cd(0x13d)][_0xbb43cd(0x1bd)]=isRegisterMode?_0x3e0a89[_0xbb43cd(0x317)]:_0x3e0a89['LIEkX'],document[_0xbb43cd(0x33f)](_0x3e0a89[_0xbb43cd(0x156)])[_0xbb43cd(0x13d)][_0xbb43cd(0x1bd)]=isRegisterMode?_0xbb43cd(0x11a):_0x3e0a89[_0xbb43cd(0x12a)],document[_0xbb43cd(0x33f)](_0x3e0a89[_0xbb43cd(0x1c4)])[_0xbb43cd(0x13d)][_0xbb43cd(0x1bd)]=_0x3e0a89[_0xbb43cd(0x12a)],document[_0xbb43cd(0x33f)](_0x3e0a89[_0xbb43cd(0x2f4)])[_0xbb43cd(0x26e)]=isRegisterMode?_0x3e0a89[_0xbb43cd(0x2d0)]:_0x3e0a89[_0xbb43cd(0x10e)],document[_0xbb43cd(0x33f)](_0x3e0a89['gcbxH'])[_0xbb43cd(0x13d)][_0xbb43cd(0x1bd)]=_0x3e0a89[_0xbb43cd(0x12a)];}function previewAvatar(){const _0x59bfad=_0x8331ae,_0x404680={'UELQY':_0x59bfad(0x309),'kdfSn':_0x59bfad(0x2e8)},_0x934f61=document[_0x59bfad(0x33f)](_0x404680[_0x59bfad(0x28d)]);if(!_0x934f61['files'][_0x59bfad(0x232)])return;const _0x11a11f=new FileReader();_0x11a11f[_0x59bfad(0x349)]=()=>{const _0x1514ae=_0x59bfad;document[_0x1514ae(0x33f)](_0x1514ae(0x309))[_0x1514ae(0x253)]=_0x11a11f[_0x1514ae(0x36f)],document[_0x1514ae(0x33f)](_0x404680['UELQY'])[_0x1514ae(0x13d)][_0x1514ae(0x1bd)]=_0x1514ae(0x11a);},_0x11a11f[_0x59bfad(0x316)](_0x934f61[_0x59bfad(0x270)][0x0]);}async function submitAuth(){const _0x5d2bb3=_0x8331ae,_0x658bf3={'XUaWo':function(_0x37e92b,_0x4d3ad4){return _0x37e92b||_0x4d3ad4;},'uUzhe':_0x5d2bb3(0x1f1),'kfmVO':function(_0x430fb){return _0x430fb();},'tAqKn':_0x5d2bb3(0x108),'rbwix':_0x5d2bb3(0x3a1),'Kwjxk':_0x5d2bb3(0x2e8),'TfWNj':'authError','LWzTD':'none','tmBfn':_0x5d2bb3(0x143),'yncIj':_0x5d2bb3(0x11a),'ZGVNM':_0x5d2bb3(0x1d4),'LbCtA':function(_0x43d637,_0x1124ec){return _0x43d637!==_0x1124ec;},'pKgyt':_0x5d2bb3(0x342),'KpTgT':function(_0x430419){return _0x430419();},'zUhBx':function(_0x1ba0c2,_0x2c66e8){return _0x1ba0c2||_0x2c66e8;},'Ajagn':_0x5d2bb3(0x39a),'DwNyR':function(_0x2ceeb2,_0x9507fe){return _0x2ceeb2(_0x9507fe);},'RLYqo':_0x5d2bb3(0x1bf),'HRoSN':function(_0x492828){return _0x492828();}},_0x118eb5=document[_0x5d2bb3(0x33f)](_0x658bf3[_0x5d2bb3(0x1e1)])[_0x5d2bb3(0x28c)]['trim'](),_0x4d2212=document[_0x5d2bb3(0x33f)](_0x5d2bb3(0x126))[_0x5d2bb3(0x28c)]['trim'](),_0x5cbf54=document[_0x5d2bb3(0x33f)]('authPasswordConfirm')[_0x5d2bb3(0x28c)]['trim'](),_0x1a4e58=document['getElementById'](_0x5d2bb3(0x266))[_0x5d2bb3(0x28c)][_0x5d2bb3(0x282)](),_0x103323=document[_0x5d2bb3(0x33f)](_0x658bf3[_0x5d2bb3(0x162)]),_0x52542d=document[_0x5d2bb3(0x33f)](_0x658bf3[_0x5d2bb3(0x3bb)]);_0x52542d[_0x5d2bb3(0x13d)][_0x5d2bb3(0x1bd)]=_0x658bf3[_0x5d2bb3(0x3af)];if(!_0x118eb5||!_0x4d2212){_0x52542d[_0x5d2bb3(0x26e)]=_0x658bf3[_0x5d2bb3(0x3ac)],_0x52542d[_0x5d2bb3(0x13d)]['display']=_0x658bf3[_0x5d2bb3(0x2c2)];return;}const _0x5a019e=sanitizeUsername(_0x118eb5),_0x1df2d9=db['ref']('auth/'+_0x5a019e),_0x1f344a=await _0x1df2d9['get']();if(isRegisterMode){if(_0x1f344a[_0x5d2bb3(0xf0)]()){_0x52542d['innerText']=_0x658bf3[_0x5d2bb3(0x275)],_0x52542d['style']['display']=_0x658bf3['yncIj'];return;}if(_0x658bf3[_0x5d2bb3(0x167)](_0x4d2212,_0x5cbf54)){_0x52542d[_0x5d2bb3(0x26e)]='Passwords\x20do\x20not\x20match.',_0x52542d['style'][_0x5d2bb3(0x1bd)]=_0x658bf3[_0x5d2bb3(0x2c2)];return;}const _0x52dce8=await sha256(_0x4d2212);window[_0x5d2bb3(0xea)]=_0x52dce8,localStorage[_0x5d2bb3(0xdf)](_0x658bf3[_0x5d2bb3(0x236)],_0x52dce8);const _0xede2dc=await _0x658bf3[_0x5d2bb3(0x377)](generateDeviceId);if(_0x103323['files']['length']){const _0x4667bd=_0x103323[_0x5d2bb3(0x270)][0x0],_0x2cda4c=new FileReader();_0x2cda4c['onloadend']=async()=>{const _0x546ca0=_0x5d2bb3,_0x4e2bb2=_0x2cda4c['result'][_0x546ca0(0x25d)](',')[0x1];await _0x1df2d9['set']({'username':_0x118eb5,'passwordHash':_0x52dce8,'description':_0x658bf3[_0x546ca0(0x1a5)](_0x1a4e58,''),'avatarBase64':_0x4e2bb2,'role':_0x658bf3[_0x546ca0(0x3aa)],'deviceId':_0xede2dc,'usernameHistory':[_0x118eb5],'lastChanged':Date[_0x546ca0(0xfa)]()}),username=_0x118eb5,userDescription=_0x1a4e58,avatarBase64=_0x4e2bb2,role=_0x658bf3[_0x546ca0(0x3aa)],_0x658bf3[_0x546ca0(0x10f)](startAfterAuth),localStorage[_0x546ca0(0xdf)](_0x658bf3[_0x546ca0(0x31e)],_0x118eb5);},_0x2cda4c[_0x5d2bb3(0x316)](_0x4667bd);}else{const _0x308201=_0x5d2bb3(0xc3)['split']('|');let _0x4e201a=0x0;while(!![]){switch(_0x308201[_0x4e201a++]){case'0':username=_0x118eb5;continue;case'1':role=_0x658bf3[_0x5d2bb3(0x3aa)];continue;case'2':avatarBase64='';continue;case'3':localStorage['setItem'](_0x658bf3[_0x5d2bb3(0x31e)],_0x118eb5);continue;case'4':_0x658bf3[_0x5d2bb3(0x377)](startAfterAuth);continue;case'5':await _0x1df2d9[_0x5d2bb3(0x1d1)]({'username':_0x118eb5,'passwordHash':_0x52dce8,'description':_0x658bf3[_0x5d2bb3(0x381)](_0x1a4e58,''),'avatarBase64':'','role':_0x658bf3['uUzhe'],'deviceId':_0xede2dc,'usernameHistory':[_0x118eb5],'lastChanged':Date[_0x5d2bb3(0xfa)]()});continue;case'6':userDescription=_0x1a4e58;continue;}break;}}}else{if(!_0x1f344a[_0x5d2bb3(0xf0)]()){_0x52542d[_0x5d2bb3(0x26e)]=_0x658bf3[_0x5d2bb3(0x37e)],_0x52542d[_0x5d2bb3(0x13d)][_0x5d2bb3(0x1bd)]=_0x658bf3[_0x5d2bb3(0x2c2)];return;}const _0x42bb60=_0x1f344a[_0x5d2bb3(0x3b9)](),_0x1123f2=await _0x658bf3[_0x5d2bb3(0x27a)](sha256,_0x4d2212);if(_0x658bf3['LbCtA'](_0x1123f2,_0x42bb60[_0x5d2bb3(0xea)])){_0x52542d['innerText']=_0x658bf3['RLYqo'],_0x52542d['style'][_0x5d2bb3(0x1bd)]=_0x5d2bb3(0x11a);return;}username=_0x118eb5;if(_0x42bb60[_0x5d2bb3(0x161)])userDescription=_0x42bb60['description'];if(_0x42bb60[_0x5d2bb3(0x2cd)])avatarBase64=_0x42bb60[_0x5d2bb3(0x2cd)];if(_0x42bb60[_0x5d2bb3(0x233)])role=_0x42bb60[_0x5d2bb3(0x233)];else role=_0x658bf3[_0x5d2bb3(0x3aa)];_0x658bf3[_0x5d2bb3(0xb4)](startAfterAuth),localStorage[_0x5d2bb3(0xdf)](_0x5d2bb3(0x108),_0x118eb5);}}async function saveNewUser(_0x1b30ca,_0x5163f2,_0x450042,_0xdd160b,_0x57f3c9){const _0x4091b1=_0x8331ae,_0x1d6c70={'ZrIOP':function(_0x2c2efd,_0x397465){return _0x2c2efd(_0x397465);},'iZAYL':_0x4091b1(0x1f1),'kBGhE':function(_0x4b93fd,_0x14e2a0){return _0x4b93fd||_0x14e2a0;},'gLGvY':function(_0x33faa8){return _0x33faa8();}},_0x1ac4dd=db[_0x4091b1(0x345)](_0x4091b1(0x305)+_0x1d6c70['ZrIOP'](sanitizeUsername,_0x1b30ca)),_0x56525d={'username':_0x1b30ca,'passwordHash':_0x5163f2,'role':_0x1d6c70[_0x4091b1(0x18b)],'deviceId':_0x450042,'description':_0x1d6c70[_0x4091b1(0x221)](_0x57f3c9,''),'avatarBase64':_0x1d6c70[_0x4091b1(0x221)](_0xdd160b,''),'usernameHistory':[_0x1b30ca],'lastChanged':Date['now']()};await _0x1ac4dd['set'](_0x56525d),username=_0x1b30ca,_0xdd160b=_0x56525d[_0x4091b1(0x2cd)],userDescription=_0x56525d[_0x4091b1(0x161)],_0x1d6c70[_0x4091b1(0x388)](startAfterAuth);}async function startAfterAuth(){const _0x494c0d=_0x8331ae,_0x242b4d={'hubag':function(_0x5e66aa,_0x2fbf66){return _0x5e66aa(_0x2fbf66);},'SwBlb':_0x494c0d(0x1f1),'NPcnm':_0x494c0d(0x23a),'eopCb':function(_0x45fe18,_0x317df1){return _0x45fe18+_0x317df1;},'pTXWQ':_0x494c0d(0x2cf),'YAmjW':_0x494c0d(0x11a),'WyYOJ':_0x494c0d(0x2d3),'tmqOQ':function(_0x1c1266){return _0x1c1266();},'Rdytl':function(_0x504af9,_0x401495){return _0x504af9(_0x401495);}},_0x29c813=_0x242b4d[_0x494c0d(0x31b)](sanitizeUsername,username),_0x256272=db[_0x494c0d(0x345)](_0x494c0d(0x305)+_0x29c813),_0x6976bb=await _0x256272[_0x494c0d(0x13e)]();if(_0x6976bb[_0x494c0d(0xf0)]()){const _0x26bc68=_0x6976bb[_0x494c0d(0x3b9)]();username=_0x26bc68[_0x494c0d(0x33d)],userDescription=_0x26bc68[_0x494c0d(0x161)]||'',avatarBase64=_0x26bc68[_0x494c0d(0x2cd)]||'',role=_0x26bc68['role']||_0x242b4d['SwBlb'];if(avatarBase64){const _0x200a10=document[_0x494c0d(0x33f)](_0x242b4d['NPcnm']);_0x200a10[_0x494c0d(0x253)]=_0x242b4d[_0x494c0d(0x180)](_0x242b4d[_0x494c0d(0x348)],avatarBase64),_0x200a10[_0x494c0d(0x13d)]['display']=_0x242b4d['YAmjW'];}}else console[_0x494c0d(0x336)](_0x242b4d['WyYOJ']);await _0x242b4d['tmqOQ'](loadRoomRoles),_0x242b4d[_0x494c0d(0x18d)](showScreen,'mainApp');}function toggleRecording(){const _0x22b9a2=_0x8331ae,_0x5cafd2={'UNTEE':_0x22b9a2(0x29a),'BdAUW':function(_0xd0be67,_0x398821,_0xdfdd4a){return _0xd0be67(_0x398821,_0xdfdd4a);},'Dcbin':function(_0x2e9773,_0x47726c){return _0x2e9773(_0x47726c);},'fEHEy':_0x22b9a2(0x32e)};isRecording?stopRecording():navigator[_0x22b9a2(0x225)][_0x22b9a2(0x1ab)]({'audio':!![]})[_0x22b9a2(0x24e)](_0x20b360=>{const _0x3bb0c7=_0x22b9a2,_0x1512f4={'Ravml':_0x5cafd2['UNTEE'],'eeTOZ':function(_0x3fb979,_0x5c6552){return _0x3fb979(_0x5c6552);},'eXYxg':function(_0x5722ec,_0x15eeb6){return _0x5722ec&&_0x15eeb6;},'tLzZe':function(_0x148543){return _0x148543();}};mediaRecorder=new MediaRecorder(_0x20b360),mediaRecorder[_0x3bb0c7(0x136)](),isRecording=!![],document['getElementById'](_0x3bb0c7(0x1c0))['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x3bb0c7(0x240)]=_0x3dd4e1=>audioChunks[_0x3bb0c7(0x35f)](_0x3dd4e1[_0x3bb0c7(0x197)]),mediaRecorder[_0x3bb0c7(0x372)]=()=>{const _0x5d7b50=_0x3bb0c7;_0x1512f4[_0x5d7b50(0x392)](clearTimeout,recordingTimer);const _0x4f48e0=new Blob(audioChunks,{'type':_0x5d7b50(0x1fe)}),_0x1154f5=new FileReader();_0x1154f5[_0x5d7b50(0x349)]=()=>{const _0x409a19=_0x5d7b50,_0x220235=_0x1154f5[_0x409a19(0x36f)][_0x409a19(0x25d)](',')[0x1],_0x4c3da5=db[_0x409a19(0x345)]()[_0x409a19(0x35f)]()[_0x409a19(0x14a)];db[_0x409a19(0x345)](_0x409a19(0x1a0)+roomCode+_0x409a19(0x24f)+_0x4c3da5)['set']({'msg':_0x1512f4[_0x409a19(0x142)],'audioBase64':_0x220235,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x1154f5[_0x5d7b50(0x316)](_0x4f48e0);},recordingTimer=_0x5cafd2['BdAUW'](setTimeout,()=>{const _0x21a19d=_0x3bb0c7;_0x1512f4[_0x21a19d(0xf6)](mediaRecorder,isRecording)&&_0x1512f4['tLzZe'](stopRecording);},0x4e20);})[_0x22b9a2(0xc2)](_0x5e486e=>{const _0x262bb5=_0x22b9a2;_0x5cafd2[_0x262bb5(0x27b)](alert,_0x5cafd2[_0x262bb5(0x38f)]);});}function stopRecording(){const _0x23a5d9=_0x8331ae,_0x4ae478={'QmxKN':function(_0x7288ef,_0xdcbe4f){return _0x7288ef&&_0xdcbe4f;},'JaeHG':_0x23a5d9(0x1c0),'fEQLQ':_0x23a5d9(0x211)};_0x4ae478['QmxKN'](mediaRecorder,isRecording)&&(mediaRecorder[_0x23a5d9(0x11f)](),isRecording=![],document[_0x23a5d9(0x33f)](_0x4ae478['JaeHG'])[_0x23a5d9(0x26e)]=_0x4ae478[_0x23a5d9(0x147)]);}window['onload']=async()=>{const _0x1fcca6=_0x8331ae,_0x331e4d={'nrNAX':function(_0x4d900d){return _0x4d900d();},'KDSXG':function(_0x3dcb39){return _0x3dcb39();},'SzYwP':'notifications_enabled'};_0x331e4d[_0x1fcca6(0xd6)](cleanupOldRooms),setupSidebarBackHandler(),_0x331e4d[_0x1fcca6(0x1ee)](setupVisibilityAttention),_0x331e4d[_0x1fcca6(0x1ee)](resetWebsiteData);const _0x56d475=localStorage[_0x1fcca6(0x344)](_0x331e4d[_0x1fcca6(0x120)]);notificationsEnabled=_0x56d475===_0x1fcca6(0x1a2),showScreen('authScreen');};function sanitizeUsername(_0x5884b6){const _0x441e37=_0x8331ae;return _0x5884b6[_0x441e37(0x35d)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5e69e9=_0x8331ae,_0x3ed906={'bNqgA':_0x5e69e9(0x243),'feHAF':_0x5e69e9(0x30f),'iOyeV':'profile_description','cIaPH':function(_0x10d5c7,_0x3f5d98){return _0x10d5c7(_0x3f5d98);},'aylCp':'mainApp','UVFhX':_0x5e69e9(0x11a),'tqWKN':'Error\x20checking\x20username:','CkEli':_0x5e69e9(0x1fd),'yahhF':_0x5e69e9(0x1dc),'FxEhn':_0x5e69e9(0x21f),'zLrPD':function(_0x37ad29,_0x243994){return _0x37ad29||_0x243994;},'gvLGc':_0x5e69e9(0x3ba)},_0x34016e=document[_0x5e69e9(0x33f)](_0x3ed906[_0x5e69e9(0x2f8)])[_0x5e69e9(0x28c)][_0x5e69e9(0x282)](),_0x1741d0=document['getElementById'](_0x5e69e9(0x27f))[_0x5e69e9(0x28c)][_0x5e69e9(0x282)](),_0x959c89=document[_0x5e69e9(0x33f)](_0x3ed906['FxEhn']);if(_0x3ed906[_0x5e69e9(0x198)](!_0x34016e,!_0x1741d0)){_0x959c89[_0x5e69e9(0x26e)]=_0x3ed906[_0x5e69e9(0x330)],_0x959c89[_0x5e69e9(0x13d)][_0x5e69e9(0x1bd)]=_0x3ed906[_0x5e69e9(0x2f7)];return;}const _0x1bd99e=_0x3ed906[_0x5e69e9(0x2f5)](sanitizeUsername,_0x34016e),_0x5b43d4=db[_0x5e69e9(0x345)]('profiles/'+_0x1bd99e);_0x5b43d4['once'](_0x5e69e9(0x28c))[_0x5e69e9(0x24e)](_0x5154a3=>{const _0x2d8aef=_0x5e69e9;if(_0x5154a3[_0x2d8aef(0xf0)]())_0x959c89[_0x2d8aef(0x26e)]=_0x2d8aef(0x1c5),_0x959c89['style'][_0x2d8aef(0x1bd)]=_0x3ed906['UVFhX'];else{const _0x1073c4={'username':_0x34016e,'description':_0x1741d0,'lastChanged':Date['now'](),'usernameHistory':[_0x34016e]};_0x5b43d4[_0x2d8aef(0x1d1)](_0x1073c4,_0x4d6ea0=>{const _0xac1e3e=_0x2d8aef;_0x4d6ea0?(console[_0xac1e3e(0x261)](_0x3ed906['bNqgA'],_0x4d6ea0),_0x959c89['innerText']=_0xac1e3e(0x2a0),_0x959c89[_0xac1e3e(0x13d)]['display']='block'):(localStorage['setItem'](_0x3ed906[_0xac1e3e(0x11e)],_0x34016e),localStorage[_0xac1e3e(0xdf)](_0x3ed906['iOyeV'],_0x1741d0),username=_0x34016e,_0x3ed906[_0xac1e3e(0x2f5)](showScreen,_0x3ed906[_0xac1e3e(0x2e2)]));});}})[_0x5e69e9(0xc2)](_0x555230=>{const _0x22acf6=_0x5e69e9;console[_0x22acf6(0x261)](_0x3ed906['tqWKN'],_0x555230),_0x959c89[_0x22acf6(0x26e)]=_0x3ed906['CkEli'],_0x959c89['style'][_0x22acf6(0x1bd)]=_0x3ed906[_0x22acf6(0x2f7)];});}function saveProfile(_0x4c4fa1,_0x2dd1d3,_0x21907b){const _0x269507=_0x8331ae,_0x16a8a7={'HNXlE':function(_0x5f3489,_0x2a5116){return _0x5f3489(_0x2a5116);},'PcMPf':_0x269507(0x2a8)},_0x2c8748=Date['now'](),_0xd56ca2=[_0x4c4fa1];db[_0x269507(0x345)](_0x269507(0x1f2)+_0x21907b)[_0x269507(0x1d1)]({'username':_0x4c4fa1,'description':_0x2dd1d3,'lastChanged':_0x2c8748,'usernameHistory':_0xd56ca2}),_0x16a8a7[_0x269507(0xdc)](showScreen,_0x16a8a7[_0x269507(0x364)]);}function generateRoom(){const _0x299d8b=_0x8331ae,_0x2f3cf7={'vPHSc':function(_0x3a9b2d,_0x10327f){return _0x3a9b2d+_0x10327f;},'MMYDv':'rooms/','Xfwup':function(_0x5826ba){return _0x5826ba();}};roomCode=genRoomCode(),db[_0x299d8b(0x345)](_0x2f3cf7[_0x299d8b(0xe6)](_0x2f3cf7[_0x299d8b(0x2b6)],roomCode))['set']({'active':!![],'created':Date[_0x299d8b(0xfa)]()}),_0x2f3cf7[_0x299d8b(0x351)](startChat);}function joinRoom(){const _0x3c4af6=_0x8331ae,_0x5db239={'KXwlN':function(_0x137fc0){return _0x137fc0();},'oBdDX':function(_0x13842e,_0x1e1f54){return _0x13842e(_0x1e1f54);},'BXjRE':_0x3c4af6(0x230),'XUqer':'Enter\x20a\x20valid\x20room\x20code','gsjgm':_0x3c4af6(0x20c)},_0x361047=roomCode||document[_0x3c4af6(0x33f)](_0x5db239[_0x3c4af6(0xb6)])[_0x3c4af6(0x28c)]['trim']()['toUpperCase']();if(!_0x361047)return _0x5db239['oBdDX'](alert,_0x5db239['XUqer']);roomCode=_0x361047;if(roomCode===STATIC_ROOM){_0x5db239[_0x3c4af6(0x15b)](showScreen,_0x5db239[_0x3c4af6(0x352)]);return;}db[_0x3c4af6(0x345)](_0x3c4af6(0x1a0)+roomCode)['get']()[_0x3c4af6(0x24e)](_0x22b288=>{const _0x2216ea=_0x3c4af6;_0x22b288['exists']()&&_0x22b288['val']()[_0x2216ea(0x2d1)]!==![]?_0x5db239[_0x2216ea(0x264)](startChat):_0x5db239[_0x2216ea(0x15b)](alert,'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}async function startChat(){const _0x4f628d=_0x8331ae,_0x5f01b2={'zBKzy':_0x4f628d(0x1e2),'OrkuC':function(_0xc8c9da,_0x1eedfb){return _0xc8c9da===_0x1eedfb;},'pdsXr':function(_0x17bdea,_0x3290b1){return _0x17bdea(_0x3290b1);},'Whcir':_0x4f628d(0xed),'wccSH':function(_0x57eed1,_0x3b5b31){return _0x57eed1(_0x3b5b31);},'xvJpm':_0x4f628d(0x24b),'muEOF':function(_0x58fdb5,_0x3f3924){return _0x58fdb5(_0x3f3924);},'jtmxF':_0x4f628d(0x2a8),'Ckjhw':'sidebarAvatarPreview','cYZnX':_0x4f628d(0x11a),'UpoGs':function(_0x24b076,_0x10c337){return _0x24b076(_0x10c337);},'EVBiv':function(_0x210be3,_0x434c2f){return _0x210be3===_0x434c2f;},'FoGtj':_0x4f628d(0x16c),'eMdHG':_0x4f628d(0x110),'RRPFx':_0x4f628d(0x20b),'nSbmp':function(_0x4b723d){return _0x4b723d();},'boQfb':function(_0x20c7f5){return _0x20c7f5();},'rlviP':function(_0x185c85){return _0x185c85();},'lQowh':function(_0x34c41b){return _0x34c41b();},'FZwVw':function(_0x5b1d66){return _0x5b1d66();},'pLDxT':_0x4f628d(0x1be),'TCJGf':_0x4f628d(0x2f9),'vJCtg':_0x4f628d(0x21a),'tGoZL':function(_0x1eee30,_0x34f9e4){return _0x1eee30||_0x34f9e4;},'QPKBV':function(_0x4d439b,_0x432340){return _0x4d439b(_0x432340);},'RWtbS':function(_0x4f56d9){return _0x4f56d9();},'ZhKwZ':function(_0x205246){return _0x205246();}};if(_0x5f01b2[_0x4f628d(0x1f3)](!roomCode,!username))return _0x5f01b2[_0x4f628d(0x2b9)](alert,_0x4f628d(0x38b)),_0x5f01b2['QPKBV'](showScreen,_0x5f01b2[_0x4f628d(0x367)]);_0x5f01b2[_0x4f628d(0x3b0)](listenForPauseState),_0x5f01b2[_0x4f628d(0x131)](listenForUserList),await loadRoomRoles(),listenForAnnouncement();const _0x8261ac=sanitizeUsername(username),_0x222c9a=db[_0x4f628d(0x345)](_0x4f628d(0x37c)+roomCode+'/'+_0x8261ac),_0x2124db={'username':username,'online':!![],'lastOnline':firebase[_0x4f628d(0x36d)]['ServerValue'][_0x4f628d(0x3a0)]};_0x222c9a[_0x4f628d(0x1d1)](_0x2124db,_0x40cf39=>{const _0x4d50df=_0x4f628d,_0x550791={'zzXQK':_0x5f01b2['zBKzy'],'tfwIq':function(_0x57f461,_0x4fc941){return _0x57f461===_0x4fc941;},'zWKjr':function(_0x1d77c5,_0x1f06a0){const _0x1e7377=_0x4995;return _0x5f01b2[_0x1e7377(0xb3)](_0x1d77c5,_0x1f06a0);},'Aktdc':'dev','JEEHO':function(_0x15f689,_0x3e5429){const _0x1d1011=_0x4995;return _0x5f01b2[_0x1d1011(0x2b9)](_0x15f689,_0x3e5429);},'decki':_0x5f01b2[_0x4d50df(0x106)]};if(_0x40cf39)return _0x5f01b2[_0x4d50df(0xec)](alert,_0x5f01b2[_0x4d50df(0x1f6)]),_0x5f01b2[_0x4d50df(0x2c6)](showScreen,_0x5f01b2[_0x4d50df(0x367)]);const _0x2e799c=document['getElementById'](_0x5f01b2[_0x4d50df(0x33c)]);avatarBase64&&(_0x2e799c[_0x4d50df(0x253)]='data:image/png;base64,'+avatarBase64,_0x2e799c[_0x4d50df(0x13d)][_0x4d50df(0x1bd)]=_0x5f01b2['cYZnX']);document[_0x4d50df(0x33f)](_0x4d50df(0x297))[_0x4d50df(0x128)]=username+'\x20'+_0x5f01b2[_0x4d50df(0x17e)](getRoleTag,_0x8261ac),document[_0x4d50df(0x33f)](_0x4d50df(0xaf))[_0x4d50df(0x26e)]=_0x5f01b2[_0x4d50df(0x36c)](roomCode,STATIC_ROOM)?_0x5f01b2[_0x4d50df(0x2ec)]:roomCode,updateAnnouncementVisibility();const _0x397f8a=db['ref']()[_0x4d50df(0x35f)]()[_0x4d50df(0x14a)];db['ref'](_0x4d50df(0x1a0)+roomCode+_0x4d50df(0x24f)+_0x397f8a)[_0x4d50df(0x1d1)]({'msg':username+'\x20is\x20online','sender':_0x5f01b2[_0x4d50df(0x289)],'senderId':_0x5f01b2[_0x4d50df(0x289)],'timestamp':Date[_0x4d50df(0xfa)]()}),_0x5f01b2[_0x4d50df(0x2c6)](showScreen,_0x5f01b2['RRPFx']),document['getElementById'](_0x5f01b2[_0x4d50df(0x175)])[_0x4d50df(0x27e)](_0x4d50df(0x3a7),_0x5effd3=>{const _0x58df7e=_0x4d50df;_0x5effd3[_0x58df7e(0x1c7)]===0x3&&(_0x550791['tfwIq'](role,_0x58df7e(0x1d0))||_0x550791[_0x58df7e(0x1ef)](role,_0x550791[_0x58df7e(0x25a)]))&&(_0x550791[_0x58df7e(0x186)](confirm,_0x550791[_0x58df7e(0x28f)])&&db['ref']('rooms/'+roomCode+_0x58df7e(0x39f))['remove']()[_0x58df7e(0x24e)](()=>{const _0x470413=_0x58df7e;document[_0x470413(0x33f)](_0x550791[_0x470413(0x188)])[_0x470413(0x26e)]='';}));}),_0x5f01b2[_0x4d50df(0x26a)](listenForMessages),listenForTyping(),_0x5f01b2[_0x4d50df(0xd1)](startInactivityTimer),trackPresence(),_0x5f01b2[_0x4d50df(0x3b7)](watchProfileChanges),_0x5f01b2[_0x4d50df(0x299)](watchMuteStatus),_0x5f01b2[_0x4d50df(0x2d6)](startSidebarSyncLoop);const _0x48534a=()=>{const _0x1fa850={'zeTdR':function(_0x3c5e7c,_0x8434ee){return _0x3c5e7c(_0x8434ee);},'MwOxA':function(_0x41fbf7){return _0x41fbf7();}};loadRoomRoles()['then'](()=>{const _0x30b78b=_0x4995;_0x1fa850[_0x30b78b(0x36e)](renderUserLists,roomUsers),_0x1fa850[_0x30b78b(0x389)](updateAnnouncementVisibility);});};db[_0x4d50df(0x345)](_0x5f01b2[_0x4d50df(0x292)])['on'](_0x5f01b2[_0x4d50df(0x365)],_0x48534a),db[_0x4d50df(0x345)](_0x5f01b2[_0x4d50df(0x292)])['on'](_0x5f01b2[_0x4d50df(0x332)],_0x48534a);});}function updateAnnouncementVisibility(){const _0x6b19c0=_0x8331ae,_0x25bf0b={'WWejC':_0x6b19c0(0x251),'rrIbS':function(_0x19afbb,_0x3602a9){return _0x19afbb===_0x3602a9;},'vvBfC':'admin','yKyTI':_0x6b19c0(0xbb),'IXEVT':_0x6b19c0(0x11a),'Udxed':'none'},_0x5db3cd=document[_0x6b19c0(0x33f)](_0x25bf0b[_0x6b19c0(0x319)]);_0x25bf0b[_0x6b19c0(0x181)](role,_0x25bf0b[_0x6b19c0(0x2da)])||role===_0x25bf0b[_0x6b19c0(0x2a1)]?_0x5db3cd[_0x6b19c0(0x13d)]['display']=_0x25bf0b[_0x6b19c0(0xe1)]:_0x5db3cd[_0x6b19c0(0x13d)][_0x6b19c0(0x1bd)]=_0x25bf0b[_0x6b19c0(0x1d9)];}function watchProfileChanges(){const _0x52ab58=_0x8331ae,_0x4741f2={'Sgsce':_0x52ab58(0x1f1),'evqGv':_0x52ab58(0x23a),'XykFL':function(_0x3b5b68,_0x5a215d){return _0x3b5b68+_0x5a215d;},'qUTYl':'block','kDkJc':function(_0x3a46d0,_0x4c22b4){return _0x3a46d0(_0x4c22b4);}},_0x5b6c1f=sanitizeUsername(username);db['ref'](_0x52ab58(0x305)+_0x5b6c1f)['on']('value',_0x15a86f=>{const _0x1aec47=_0x52ab58;if(!_0x15a86f[_0x1aec47(0xf0)]())return;const _0x539c23=_0x15a86f['val']();userDescription=_0x539c23[_0x1aec47(0x161)]||'',avatarBase64=_0x539c23['avatarBase64']||'',role=_0x539c23['role']||_0x4741f2[_0x1aec47(0x200)];if(avatarBase64){const _0x5bee6d=document[_0x1aec47(0x33f)](_0x4741f2[_0x1aec47(0x158)]);!_0x5bee6d['src'][_0x1aec47(0x22c)](avatarBase64)&&(_0x5bee6d[_0x1aec47(0x253)]=_0x4741f2[_0x1aec47(0x331)](_0x1aec47(0x2cf),avatarBase64),_0x5bee6d['style'][_0x1aec47(0x1bd)]=_0x4741f2[_0x1aec47(0xbc)]);}_0x4741f2[_0x1aec47(0x26d)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x3bb53a){const _0x2a64a9=_0x8331ae,_0x293dca={'fIHap':function(_0x9f0df9,_0x5d2d19){return _0x9f0df9(_0x5d2d19);},'nROCX':_0x2a64a9(0x353),'PThqq':function(_0x526aad,_0x37e9f4){return _0x526aad>_0x37e9f4;},'TclgX':function(_0x37e923,_0xd97f0b){return _0x37e923*_0xd97f0b;},'LljQc':function(_0x328531,_0x104234){return _0x328531(_0x104234);},'RVNWE':_0x2a64a9(0x2f3)},_0x12a8c8=Date['now']();if(_0x12a8c8-lastImageTime<0x2710){_0x293dca[_0x2a64a9(0x22b)](alert,_0x293dca[_0x2a64a9(0xfc)]);return;}lastImageTime=_0x12a8c8;const _0x1e3a18=_0x3bb53a[_0x2a64a9(0x270)][0x0];if(!_0x1e3a18||_0x293dca[_0x2a64a9(0x256)](_0x1e3a18['size'],_0x293dca[_0x2a64a9(0x129)](_0x293dca[_0x2a64a9(0x129)](0x2,0x400),0x400))){_0x293dca[_0x2a64a9(0x3b8)](alert,_0x293dca[_0x2a64a9(0x1a3)]);return;}const _0x46e174=new FileReader();_0x46e174[_0x2a64a9(0x349)]=()=>{const _0x4749ed=_0x2a64a9,_0x12c682=_0x46e174[_0x4749ed(0x36f)]['split'](',')[0x1],_0x32476b=db[_0x4749ed(0x345)]()[_0x4749ed(0x35f)]()[_0x4749ed(0x14a)];db[_0x4749ed(0x345)]('rooms/'+roomCode+_0x4749ed(0x24f)+_0x32476b)[_0x4749ed(0x1d1)]({'imageBase64':_0x12c682,'sender':username,'senderId':clientId,'timestamp':Date[_0x4749ed(0xfa)]()});},_0x46e174[_0x2a64a9(0x316)](_0x1e3a18);}async function fetchProfile(_0x297441){const _0x574fcd=_0x8331ae,_0xbb3310=await db[_0x574fcd(0x345)](_0x574fcd(0x305)+_0x297441)[_0x574fcd(0x13e)]();if(!_0xbb3310[_0x574fcd(0xf0)]())return null;return _0xbb3310['val']();}function validateStaticRoomPassword(){const _0x37f9f6=_0x8331ae,_0x19e728={'trvyG':'Room\x20password\x20not\x20set.\x20Cannot\x20join.','RYVty':function(_0x1e5ac5,_0xa297c0){return _0x1e5ac5===_0xa297c0;},'VoWSS':function(_0x26c198){return _0x26c198();},'ubRDl':_0x37f9f6(0x144),'IWcwF':'passwordError','kITWo':_0x37f9f6(0x347),'hMxfs':_0x37f9f6(0x2c0),'epEHK':function(_0x4684b3,_0x2c8f7d){return _0x4684b3(_0x2c8f7d);},'icJOX':_0x37f9f6(0x1cd)},_0x3f5300=document[_0x37f9f6(0x33f)](_0x19e728[_0x37f9f6(0x361)])[_0x37f9f6(0x28c)][_0x37f9f6(0x282)]();if(!_0x3f5300){_0x19e728['epEHK'](alert,_0x19e728[_0x37f9f6(0xca)]);return;}db[_0x37f9f6(0x345)]('gr8stg/'+STATIC_ROOM)['get']()[_0x37f9f6(0x24e)](_0x54aa61=>{const _0x3cf001=_0x37f9f6;if(!_0x54aa61[_0x3cf001(0xf0)]()){alert(_0x19e728['trvyG']);return;}const _0x334ef5=_0x54aa61[_0x3cf001(0x3b9)]();_0x19e728[_0x3cf001(0x370)](_0x3f5300,_0x334ef5)?(roomCode=STATIC_ROOM,_0x19e728[_0x3cf001(0x360)](startChat)):(document[_0x3cf001(0x33f)](_0x3cf001(0x14b))[_0x3cf001(0x26e)]=_0x19e728[_0x3cf001(0x378)],document['getElementById'](_0x19e728[_0x3cf001(0x2dc)])[_0x3cf001(0x13d)][_0x3cf001(0x1bd)]=_0x3cf001(0x11a));})[_0x37f9f6(0xc2)](_0x56948c=>{const _0x36fc25=_0x37f9f6;console['error'](_0x56948c),alert(_0x19e728[_0x36fc25(0x339)]);});}function listenForPauseState(){const _0x4f8de7=_0x8331ae,_0x5785db={'YrVtL':function(_0x1283d8,_0x297af3){return _0x1283d8===_0x297af3;},'qffqV':_0x4f8de7(0x1dd),'SUkaw':_0x4f8de7(0x11a),'OEwut':_0x4f8de7(0x2a5),'XZNkp':_0x4f8de7(0x28c)};db['ref'](_0x4f8de7(0xaa)+roomCode+_0x4f8de7(0x2d9))['on'](_0x5785db[_0x4f8de7(0xee)],_0x4b96bf=>{const _0x3bb09e=_0x4f8de7,_0x29f9d7=_0x4b96bf['exists']()&&_0x5785db[_0x3bb09e(0x15e)](_0x4b96bf['val'](),!![]);document[_0x3bb09e(0x33f)](_0x5785db[_0x3bb09e(0x164)])[_0x3bb09e(0x13d)][_0x3bb09e(0x1bd)]=_0x29f9d7?_0x5785db[_0x3bb09e(0x1d5)]:_0x5785db[_0x3bb09e(0x31a)];});}const spamTimestamps=[];async function sendMessage(){const _0x15842e=_0x8331ae,_0x69b30f={'fMkRB':_0x15842e(0x247),'XcWxB':function(_0x5c2729,_0xfc47c4){return _0x5c2729(_0xfc47c4);},'nZIBB':function(_0x3b6a8d,_0x56f1d8){return _0x3b6a8d===_0x56f1d8;},'zZhxy':_0x15842e(0x35a),'iYZfL':function(_0x29259b,_0x443fe1){return _0x29259b>_0x443fe1;},'bHpcQ':function(_0x4921a0,_0xcdbf78){return _0x4921a0(_0xcdbf78);},'BrPoA':_0x15842e(0x35c),'kmkDh':_0x15842e(0xbb),'bQpHy':'Room\x20is\x20currently\x20paused.','VxCpA':_0x15842e(0x12e),'ZnhUZ':function(_0x316c7a,_0x38e08e){return _0x316c7a||_0x38e08e;},'IdLKu':_0x15842e(0x16e),'zOdXt':_0x15842e(0x220),'OzlTW':function(_0x107a1f,_0x321c06){return _0x107a1f(_0x321c06);},'oxCSa':_0x15842e(0x17b)},_0x191306=await db[_0x15842e(0x345)](_0x15842e(0xaa)+roomCode+_0x15842e(0x2d9))[_0x15842e(0x13e)](),_0x2f284f=await db[_0x15842e(0x345)]('muted/'+roomCode+'/'+_0x69b30f['XcWxB'](sanitizeUsername,username))[_0x15842e(0x13e)]();if(_0x2f284f[_0x15842e(0xf0)]()){const _0x1d6359=_0x2f284f['val'](),_0x4d8a0c=_0x69b30f[_0x15842e(0x1e4)](typeof _0x1d6359,_0x69b30f['zZhxy'])&&_0x1d6359['muteUntil']?_0x1d6359[_0x15842e(0x1aa)]:_0x1d6359;if(_0x69b30f[_0x15842e(0x17f)](_0x4d8a0c,Date[_0x15842e(0xfa)]())){_0x69b30f['bHpcQ'](alert,_0x69b30f['BrPoA']);return;}}if(_0x191306[_0x15842e(0xf0)]()&&_0x69b30f[_0x15842e(0x1e4)](_0x191306['val'](),!![])&&role!==_0x69b30f['kmkDh']){_0x69b30f[_0x15842e(0x1b2)](alert,_0x69b30f[_0x15842e(0x39d)]);return;}const _0x41692d=document[_0x15842e(0x33f)](_0x69b30f[_0x15842e(0x328)]),_0x2617ac=_0x41692d[_0x15842e(0x28c)]['trim']();if(_0x69b30f['ZnhUZ'](!_0x2617ac,isBlocked))return;const _0x314516=Date['now'](),_0x53a48d=_0x2617ac[_0x15842e(0x25f)](),_0x3c6325=swearWords[_0x15842e(0x3bd)](_0x4f302d=>_0x53a48d[_0x15842e(0x22c)](_0x4f302d));if(_0x3c6325){alert(_0x69b30f['IdLKu']);return;}spamTimestamps[_0x15842e(0x35f)](_0x314516);const _0x1d6072=spamTimestamps[_0x15842e(0x323)](_0x123363=>_0x314516-_0x123363<0x1b58);if(_0x69b30f[_0x15842e(0x17f)](_0x1d6072[_0x15842e(0x232)],0x5)){const _0x5934af=_0x69b30f[_0x15842e(0x177)][_0x15842e(0x25d)]('|');let _0x1c9a5c=0x0;while(!![]){switch(_0x5934af[_0x1c9a5c++]){case'0':_0x41692d[_0x15842e(0xf9)]=!![];continue;case'1':_0x41692d[_0x15842e(0x326)]=_0x15842e(0x3ad);continue;case'2':setTimeout(()=>{const _0x4efda3=_0x15842e;isBlocked=![],_0x41692d[_0x4efda3(0xf9)]=![],_0x41692d['placeholder']=_0x69b30f['fMkRB'],spamTimestamps[_0x4efda3(0x232)]=0x0;},0x7530);continue;case'3':_0x69b30f[_0x15842e(0x1e8)](alert,_0x15842e(0x1b5));continue;case'4':return;case'5':isBlocked=!![];continue;}break;}}const _0x1a6026=_0x2617ac[_0x15842e(0x2de)](/(.)\1{14,}/);if(_0x1a6026){alert(_0x15842e(0x231));return;}const _0x56a08e=localStorage[_0x15842e(0x344)](_0x69b30f[_0x15842e(0x209)])||'',_0x562334=db[_0x15842e(0x345)]()[_0x15842e(0x35f)]()['key'];db[_0x15842e(0x345)](_0x15842e(0x1a0)+roomCode+_0x15842e(0x24f)+_0x562334)[_0x15842e(0x1d1)]({'msg':_0x2617ac,'sender':username,'senderId':clientId,'avatarBase64':_0x56a08e,'timestamp':_0x314516}),_0x41692d[_0x15842e(0x28c)]='',_0x69b30f[_0x15842e(0x1e8)](sendTyping,!![]),lastActivity=_0x314516;}function listenForMessages(){const _0x29188f=_0x8331ae,_0x192928={'FPHkl':function(_0x58bea1,_0x23cfc7){return _0x58bea1===_0x23cfc7;},'QfkhV':function(_0xc098,_0x1b96a1,_0x57dd49,_0x338d44){return _0xc098(_0x1b96a1,_0x57dd49,_0x338d44);},'stUKR':function(_0x1920dc,_0x7e36b7){return _0x1920dc!==_0x7e36b7;},'zBxfG':_0x29188f(0x110),'HDLKR':function(_0x2f5afb){return _0x2f5afb();},'fjfsq':function(_0x135d99,_0x1d59d2){return _0x135d99&&_0x1d59d2;},'eBrZl':_0x29188f(0xcc),'Itkqa':_0x29188f(0x2c1),'mwVxK':_0x29188f(0x2cb),'DGMDL':_0x29188f(0x10c),'NurqY':_0x29188f(0x324),'qqDFm':function(_0x1d95c4,_0x279453){return _0x1d95c4||_0x279453;},'WpZhL':function(_0x1da16d,_0x53668b){return _0x1da16d>_0x53668b;},'ilHvF':function(_0x5a4796,_0x58134a){return _0x5a4796-_0x58134a;},'awXnx':'child_added','Zoday':'value'},_0x281cf1=db[_0x29188f(0x345)]('rooms/'+roomCode+_0x29188f(0x178)),_0x206eeb=_0x281cf1[_0x29188f(0x30a)](MAX_MESSAGES);userListReady=!![],_0x206eeb['on'](_0x192928[_0x29188f(0x22d)],_0x14daf7=>{const _0x2e69c4=_0x29188f,_0x5e7b82=_0x14daf7['val'](),{senderId:_0x53f130}=_0x5e7b82,_0xda7732=_0x192928[_0x2e69c4(0x315)](_0x53f130,clientId);if(!userListReady){pendingMessages[_0x2e69c4(0xe9)](({data:_0x3879d2,sent:_0xcb4af6,key:_0x4a369e})=>{addMessage(_0x3879d2,_0xcb4af6,_0x4a369e);}),pendingMessages=[];return;}const _0x8f322=_0x5e7b82[_0x2e69c4(0x1d7)]||null,_0x36aee3=_0x5e7b82[_0x2e69c4(0xcd)]||null;_0x192928['QfkhV'](addMessage,_0x5e7b82,_0xda7732,_0x14daf7[_0x2e69c4(0x14a)]);if(roomCode!==STATIC_ROOM&&_0x192928[_0x2e69c4(0x2bc)](_0x5e7b82[_0x2e69c4(0x30c)],_0x192928[_0x2e69c4(0x170)])){}!_0xda7732&&(sound[_0x2e69c4(0xb1)](),_0x192928[_0x2e69c4(0x245)](flagPageAttention));if(_0x192928[_0x2e69c4(0x26b)](notificationsEnabled,!_0xda7732)&&Notification[_0x2e69c4(0x2d7)]===_0x192928[_0x2e69c4(0xc0)]){const _0x49d84e=_0x5e7b82['msg']||(_0x5e7b82[_0x2e69c4(0xcd)]?_0x192928[_0x2e69c4(0x2c9)]:_0x5e7b82['imageBase64']?_0x192928[_0x2e69c4(0x37d)]:_0x192928[_0x2e69c4(0x278)]);new Notification(_0x2e69c4(0x279)+_0x5e7b82[_0x2e69c4(0x30c)],{'body':_0x49d84e,'icon':_0x192928[_0x2e69c4(0x2ab)]});}}),_0x281cf1[_0x29188f(0x2ca)](_0x192928[_0x29188f(0x391)])[_0x29188f(0x24e)](_0x1fe72c=>{const _0x36bdde=_0x29188f,_0x10d131=_0x1fe72c[_0x36bdde(0x3b9)](),_0x5b2858=Object['keys'](_0x192928[_0x36bdde(0x102)](_0x10d131,{}));if(_0x192928[_0x36bdde(0x16f)](_0x5b2858[_0x36bdde(0x232)],MAX_MESSAGES)){const _0x17daf9=_0x192928[_0x36bdde(0x187)](_0x5b2858[_0x36bdde(0x232)],MAX_MESSAGES),_0x3c1d0f=_0x5b2858[_0x36bdde(0x2b1)]((_0x34f412,_0x425c69)=>_0x10d131[_0x34f412][_0x36bdde(0x368)]-_0x10d131[_0x425c69][_0x36bdde(0x368)])['slice'](0x0,_0x17daf9);_0x3c1d0f['forEach'](_0x3ca05a=>{const _0x160662=_0x36bdde;db['ref'](_0x160662(0x1a0)+roomCode+_0x160662(0x24f)+_0x3ca05a)[_0x160662(0x1ed)]();});}}),db['ref'](_0x29188f(0x1a0)+roomCode+_0x29188f(0x178))['on'](_0x29188f(0x2a6),_0x41325d=>{const _0x408075=_0x29188f,_0x467800=_0x41325d['key'],_0x6fae8b=document[_0x408075(0x1ba)](_0x408075(0x28b)+_0x467800+'\x22]');if(_0x6fae8b)_0x6fae8b[_0x408075(0x1ed)]();});}function stackNotification(_0x2fd4f4,_0x2956e1){const _0x227dfe=_0x8331ae,_0x3ec65d={'FFWrn':function(_0x5b8e42){return _0x5b8e42();},'wwTzD':function(_0x4819aa,_0x20e0c5){return _0x4819aa(_0x20e0c5);},'yRaMX':function(_0x137e8c,_0x4561aa,_0x23bf50){return _0x137e8c(_0x4561aa,_0x23bf50);}};notificationStack[_0x227dfe(0x35f)]({'sender':_0x2fd4f4,'content':_0x2956e1}),_0x3ec65d[_0x227dfe(0x274)](clearTimeout,notificationTimer),notificationTimer=_0x3ec65d[_0x227dfe(0x2b8)](setTimeout,()=>{const _0x402cad=_0x227dfe;_0x3ec65d[_0x402cad(0xb8)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x572e40=_0x8331ae,_0x33902c={'WsIKw':function(_0x3d2de5,_0x543154){return _0x3d2de5!==_0x543154;},'dPltB':_0x572e40(0xcc),'vEGtF':function(_0x4cde60,_0xee2a6){return _0x4cde60||_0xee2a6;},'EdRmO':_0x572e40(0x17c),'ytBSx':function(_0x5c50aa,_0x5644da){return _0x5c50aa===_0x5644da;}};if(!notificationStack['length']||_0x33902c[_0x572e40(0x263)](Notification['permission'],_0x33902c['dPltB']))return;const _0x307b53=[...new Set(notificationStack[_0x572e40(0x237)](_0x439adc=>_0x439adc[_0x572e40(0x30c)]))],_0x348c20=_0x33902c[_0x572e40(0xcb)](roomCode,_0x33902c[_0x572e40(0x2c3)]),_0x49de1a=_0x33902c[_0x572e40(0x1b4)](_0x307b53[_0x572e40(0x232)],0x1)?_0x572e40(0x151)+_0x307b53[0x0]+_0x572e40(0x1b6)+_0x348c20+':\x20'+notificationStack[0x0]['content']:'You\x20got\x20messages\x20from\x20'+_0x307b53[_0x572e40(0x34e)](',\x20')+_0x572e40(0x1b6)+_0x348c20;setTimeout(()=>{const _0x48f3c9=_0x572e40;new Notification(_0x48f3c9(0x39b),{'body':_0x49de1a,'icon':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg'});},0x64);}async function addMessage(_0x42df86,_0x4ee6b1,_0x54aa32=null){const _0x3669a6=_0x8331ae,_0x510df6={'JdedX':function(_0x56e4ea,_0x4e1cb4,_0x4c40ba){return _0x56e4ea(_0x4e1cb4,_0x4c40ba);},'NEbrb':'pointer','NoiUq':_0x3669a6(0x1c9),'QxtPh':'20px','zXbro':'flex','EdLGL':_0x3669a6(0x179),'SpYJx':_0x3669a6(0x248),'julAW':function(_0x16e230,_0x236c65){return _0x16e230(_0x236c65);},'tupRh':function(_0x33346d,_0x3f4aa9){return _0x33346d>_0x3f4aa9;},'zgEHV':_0x3669a6(0x234),'wLxKG':function(_0x19db01,_0x5f58cd){return _0x19db01===_0x5f58cd;},'iXWcx':_0x3669a6(0x110),'Qmbjo':_0x3669a6(0x362),'oysPE':'0.8rem','LPZrU':_0x3669a6(0xc4),'CvsNo':_0x3669a6(0x2fd),'XSZCa':'messages','FtCXe':_0x3669a6(0x112),'BJgMa':_0x3669a6(0x1ad),'hLxzd':_0x3669a6(0x210),'ztLAa':_0x3669a6(0x1f0),'tfZuU':_0x3669a6(0x1de),'RNurz':_0x3669a6(0x15f),'uPXGO':'none','kXSqQ':'absolute','EmTIy':'#222','AHmYR':'6px','rErur':_0x3669a6(0x28a),'ZtmHa':_0x3669a6(0x1b1),'pnONq':_0x3669a6(0x398),'yqsna':_0x3669a6(0x2c7),'wMaNC':_0x3669a6(0x199),'PpCsh':_0x3669a6(0x195),'dUpnl':_0x3669a6(0x36a),'xSSQM':_0x3669a6(0x371),'rqHmh':_0x3669a6(0x1c8),'VyREZ':_0x3669a6(0x152),'AnjUw':_0x3669a6(0x327),'gWxKJ':'value','qYkPi':_0x3669a6(0x1d0),'lSGaj':_0x3669a6(0x109),'xyUsU':_0x3669a6(0x3a7)},{msg:_0x4ccf6e,sender:_0x4900cd,senderId:_0x12f120,timestamp:_0x9c3ce7,audioUrl:_0x32cc41,audioBase64:_0x521916,imageBase64:_0x1cb810}=_0x42df86,_0x4201dc=_0x510df6[_0x3669a6(0x12c)](sanitizeUsername,_0x4900cd),_0x6106f3=document[_0x3669a6(0x174)](_0x510df6['zgEHV']);if(_0x510df6[_0x3669a6(0x26f)](_0x42df86[_0x3669a6(0x30c)],_0x510df6['iXWcx'])){const _0xefd1be=document[_0x3669a6(0x174)](_0x510df6[_0x3669a6(0x19f)]);_0xefd1be[_0x3669a6(0x385)]=_0x510df6[_0x3669a6(0x1c3)],_0xefd1be[_0x3669a6(0x313)]['msgId']=_0x54aa32||_0x42df86['timestamp'],_0xefd1be['dataset']['timestamp']=_0x42df86[_0x3669a6(0x368)],_0xefd1be[_0x3669a6(0x13d)][_0x3669a6(0x3bf)]=_0x510df6['SpYJx'],_0xefd1be['style']['fontSize']=_0x510df6[_0x3669a6(0x322)],_0xefd1be['style'][_0x3669a6(0x38e)]=_0x510df6[_0x3669a6(0x10a)],_0xefd1be[_0x3669a6(0x13d)][_0x3669a6(0x159)]=_0x510df6[_0x3669a6(0x244)],_0xefd1be[_0x3669a6(0x26e)]=_0x42df86[_0x3669a6(0x112)];const _0x29f6c9=document[_0x3669a6(0x33f)](_0x510df6[_0x3669a6(0x201)]);_0x29f6c9[_0x3669a6(0x255)](_0xefd1be);const _0x3a5765=Array[_0x3669a6(0x123)](_0x29f6c9[_0x3669a6(0xe8)]);_0x3a5765[_0x3669a6(0x2b1)]((_0x5ad880,_0x19922a)=>{const _0x577e7f=_0x3669a6;return(+_0x5ad880[_0x577e7f(0x313)]['timestamp']||0x0)-(+_0x19922a['dataset']['timestamp']||0x0);}),_0x29f6c9['innerHTML']='',_0x3a5765['forEach'](_0x51283a=>_0x29f6c9[_0x3669a6(0x255)](_0x51283a)),_0x29f6c9[_0x3669a6(0x154)]=_0x29f6c9['scrollHeight'];return;}_0x6106f3['classList'][_0x3669a6(0x160)](_0x510df6[_0x3669a6(0x1b7)],_0x4ee6b1?_0x3669a6(0x121):_0x3669a6(0x2e7)),_0x6106f3[_0x3669a6(0x13d)]['position']=_0x510df6[_0x3669a6(0xc9)];_0x54aa32&&(_0x6106f3[_0x3669a6(0x313)][_0x3669a6(0x311)]=_0x54aa32);const _0x19446f=new Date(_0x9c3ce7)[_0x3669a6(0xbf)]([],{'hour':_0x510df6[_0x3669a6(0xef)],'minute':_0x510df6['hLxzd']}),_0x5b9dd9=_0x510df6[_0x3669a6(0x12c)](getRoleTag,_0x4201dc),_0x1c9cef=await _0x510df6[_0x3669a6(0x12c)](fetchAvatar,_0x4201dc),_0x4c2b4e=_0x1c9cef?_0x3669a6(0x1f8)+_0x1c9cef+_0x3669a6(0x2a2):'',_0x13e17c=_0x4c2b4e+_0x3669a6(0x1fc)+_0x4900cd+'\x20'+_0x5b9dd9+_0x3669a6(0x3a6),_0xbe8cef=_0x4ccf6e?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x285aeb=_0x13e17c+_0x3669a6(0x2f2);if(_0x32cc41)_0x285aeb+=_0x3669a6(0x1f7)+_0x32cc41+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x521916){const _0x3eaea6=_0x3669a6(0x287)+_0x521916;_0x285aeb+='<audio\x20controls\x20src=\x22'+_0x3eaea6+_0x3669a6(0x3a9);}else{if(_0x1cb810){const _0x11b321=_0x3669a6(0x2cf)+_0x1cb810;_0x285aeb+=_0x3669a6(0x314)+_0x11b321+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else{const _0x48f391=_0xbe8cef['replace'](/(https?:\/\/[^\s]+)/g,_0x33d105=>{const _0x7acb44=_0x3669a6;return _0x7acb44(0xf3)+_0x33d105+_0x7acb44(0x172)+_0x33d105+_0x7acb44(0x20a);});_0x285aeb+=_0x3669a6(0x1ea)+_0x48f391+_0x3669a6(0x355);}}}_0x285aeb+='<small>'+_0x19446f+_0x3669a6(0x294),_0x6106f3['innerHTML']=_0x285aeb;const _0x2c309b=document[_0x3669a6(0x174)](_0x510df6['zgEHV']);_0x2c309b['className']=_0x510df6[_0x3669a6(0x11d)],_0x2c309b[_0x3669a6(0x13d)][_0x3669a6(0x1d8)]=_0x510df6[_0x3669a6(0x1f4)],_0x2c309b[_0x3669a6(0x13d)][_0x3669a6(0x359)]=_0x3669a6(0x17a),_0x6106f3[_0x3669a6(0x255)](_0x2c309b);const _0x29c08a=document['createElement'](_0x510df6[_0x3669a6(0x19f)]);_0x29c08a[_0x3669a6(0x385)]=_0x510df6['RNurz'];const _0x363ab4=['❤️','😂','😮','😢','👎','💀','🤯'];_0x29c08a[_0x3669a6(0x128)]=_0x363ab4[_0x3669a6(0x237)](_0x1709a3=>_0x3669a6(0x2bd)+_0x1709a3+_0x3669a6(0x293))['join'](''),_0x29c08a['style'][_0x3669a6(0x1bd)]=_0x510df6['uPXGO'],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x273)]=_0x510df6[_0x3669a6(0x271)],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x32d)]=_0x510df6[_0x3669a6(0x3a8)],_0x29c08a['style'][_0x3669a6(0x216)]=_0x510df6[_0x3669a6(0x194)],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x384)]=_0x510df6['rErur'],_0x29c08a[_0x3669a6(0x13d)]['fontSize']=_0x510df6[_0x3669a6(0x133)],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x363)]=_0x3669a6(0x1cc),_0x29c08a['style'][_0x3669a6(0x1c6)]=_0x3669a6(0x21b),_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x37b)]='10',_0x29c08a[_0x3669a6(0x13d)]['maxWidth']=_0x510df6[_0x3669a6(0x341)],_0x29c08a['style'][_0x3669a6(0x1a1)]=_0x510df6[_0x3669a6(0xe2)],_0x29c08a['style'][_0x3669a6(0x34a)]=_0x510df6[_0x3669a6(0x1e9)],_0x29c08a[_0x3669a6(0x13d)]['display']=_0x510df6['PpCsh'],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x2a9)]=_0x510df6['dUpnl'],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x23b)]=_0x510df6['tfZuU'],_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x386)]=_0x510df6[_0x3669a6(0x27d)],Array[_0x3669a6(0x123)](_0x29c08a[_0x3669a6(0xe8)])[_0x3669a6(0xe9)](_0xa38b5c=>{const _0x215575=_0x3669a6,_0x28a7c9={'HZMOQ':function(_0x42dfc0,_0x44dca4,_0x2ba983){const _0x1c5022=_0x4995;return _0x510df6[_0x1c5022(0x259)](_0x42dfc0,_0x44dca4,_0x2ba983);}};_0xa38b5c['style'][_0x215575(0x31d)]=_0x510df6['NEbrb'],_0xa38b5c['onclick']=_0xf01df0=>{const _0x243153=_0x215575;_0xf01df0[_0x243153(0x310)]();const _0xcc8519=_0xa38b5c[_0x243153(0x2ed)];_0x28a7c9[_0x243153(0x169)](reactToMessage,_0x54aa32,_0xcc8519);};}),Array['from'](_0x29c08a['children'])[_0x3669a6(0xe9)](_0x5db051=>{const _0x5dd77a=_0x3669a6,_0x4335d0=_0x510df6['NoiUq'][_0x5dd77a(0x25d)]('|');let _0x52947b=0x0;while(!![]){switch(_0x4335d0[_0x52947b++]){case'0':_0x5db051[_0x5dd77a(0x13d)][_0x5dd77a(0x359)]=_0x510df6['QxtPh'];continue;case'1':_0x5db051[_0x5dd77a(0x13d)][_0x5dd77a(0x24a)]=_0x5dd77a(0x248);continue;case'2':_0x5db051[_0x5dd77a(0x13d)]['display']=_0x510df6[_0x5dd77a(0x366)];continue;case'3':_0x5db051[_0x5dd77a(0x13d)][_0x5dd77a(0x157)]=_0x510df6['EdLGL'];continue;case'4':_0x5db051[_0x5dd77a(0x13d)][_0x5dd77a(0x1bb)]=_0x510df6['SpYJx'];continue;case'5':_0x5db051[_0x5dd77a(0x13d)][_0x5dd77a(0x205)]=_0x510df6[_0x5dd77a(0x173)];continue;}break;}}),_0x6106f3[_0x3669a6(0x255)](_0x29c08a),_0x29c08a[_0x3669a6(0x13d)][_0x3669a6(0x1bd)]=_0x510df6[_0x3669a6(0x12d)];let _0x3a5ae1;_0x6106f3[_0x3669a6(0x27e)](_0x510df6[_0x3669a6(0x257)],()=>{_0x3a5ae1=setTimeout(()=>{const _0x1595dc=_0x4995;_0x29c08a[_0x1595dc(0x13d)][_0x1595dc(0x1bd)]=_0x1595dc(0x3ae);},0x5dc);}),_0x6106f3[_0x3669a6(0x27e)](_0x3669a6(0x1ac),()=>{const _0x31d1fb=_0x3669a6;_0x510df6[_0x31d1fb(0x12c)](clearTimeout,_0x3a5ae1),_0x29c08a[_0x31d1fb(0x13d)][_0x31d1fb(0x1bd)]=_0x31d1fb(0x2a5);});let _0x285e7b;_0x6106f3[_0x3669a6(0x27e)](_0x510df6[_0x3669a6(0x1a6)],()=>{_0x285e7b=_0x510df6['JdedX'](setTimeout,()=>{const _0xcbe852=_0x4995;_0x29c08a[_0xcbe852(0x13d)][_0xcbe852(0x1bd)]=_0xcbe852(0x3ae);},0x5dc);}),_0x6106f3[_0x3669a6(0x27e)](_0x510df6[_0x3669a6(0x340)],()=>clearTimeout(_0x285e7b));_0x54aa32&&db[_0x3669a6(0x345)](_0x3669a6(0x1a0)+roomCode+_0x3669a6(0x24f)+_0x54aa32+_0x3669a6(0x2cc))['on'](_0x510df6[_0x3669a6(0x2aa)],_0x2b8d8f=>{const _0x462091=_0x3669a6;if(!_0x2b8d8f[_0x462091(0xf0)]()){_0x2c309b[_0x462091(0x128)]='';return;}const _0x4e3a03=_0x2b8d8f[_0x462091(0x3b9)]();let _0x43a08e='';Object['entries'](_0x4e3a03)[_0x462091(0xe9)](([_0x5e652c,_0x34abf0])=>{const _0x4a4374=_0x462091;Array[_0x4a4374(0x30b)](_0x34abf0)&&_0x510df6['tupRh'](_0x34abf0[_0x4a4374(0x232)],0x0)&&(_0x43a08e+=_0x4a4374(0x343)+_0x5e652c+'\x20'+_0x34abf0['length']+_0x4a4374(0x3a6));}),_0x2c309b[_0x462091(0x128)]=_0x43a08e;});if([_0x3669a6(0xbb),_0x510df6[_0x3669a6(0x394)],_0x510df6[_0x3669a6(0x2ff)]][_0x3669a6(0x22c)](role)){let _0x380cb5=0x0;_0x6106f3[_0x3669a6(0x27e)](_0x510df6['xyUsU'],()=>{const _0x11c6e9=_0x3669a6;_0x380cb5++,_0x380cb5===0x3&&(_0x510df6[_0x11c6e9(0x12c)](confirm,_0x11c6e9(0x1fb))&&(db[_0x11c6e9(0x345)](_0x11c6e9(0x1a0)+roomCode+_0x11c6e9(0x24f)+_0x54aa32)['remove'](),_0x6106f3['remove']())),setTimeout(()=>_0x380cb5=0x0,0x5dc);});}const _0x1f24d9=document[_0x3669a6(0x33f)](_0x510df6['XSZCa']);_0x1f24d9[_0x3669a6(0x255)](_0x6106f3),_0x1f24d9['scrollTop']=_0x1f24d9[_0x3669a6(0x117)];}function cleanupOldRooms(){const _0x2bcf7e=_0x8331ae,_0x265849={'GCWUh':function(_0x4eef33,_0x331e28){return _0x4eef33===_0x331e28;},'Dgwoi':function(_0x49549d,_0x45ebe0){return _0x49549d>_0x45ebe0;},'TtIsz':function(_0x2f01ec,_0x288656){return _0x2f01ec-_0x288656;},'uJoPH':function(_0x4d924c,_0xd5338){return _0x4d924c*_0xd5338;},'aBtEN':function(_0x94d8d7,_0x1b40e8){return _0x94d8d7+_0x1b40e8;},'nTmXw':'rooms/','wGPQP':_0x2bcf7e(0x149),'KSMUi':_0x2bcf7e(0x28c),'WLKVm':_0x2bcf7e(0x304),'ubeTS':_0x2bcf7e(0x1b3)};db['ref'](_0x265849[_0x2bcf7e(0x2b2)])[_0x2bcf7e(0x2ca)](_0x265849[_0x2bcf7e(0xd2)])['then'](_0xc7354f=>{const _0x5aa8c6=_0x2bcf7e,_0x27fe85=_0xc7354f[_0x5aa8c6(0x3b9)]();if(!_0x27fe85)return;const _0x529b3b=Date[_0x5aa8c6(0xfa)]();for(const _0x319843 in _0x27fe85){if(_0x265849['GCWUh'](_0x319843,STATIC_ROOM))continue;const _0x747f42=_0x27fe85[_0x319843];_0x265849[_0x5aa8c6(0x14c)](_0x265849[_0x5aa8c6(0x1af)](_0x529b3b,_0x747f42['created']||0x0),_0x265849[_0x5aa8c6(0x2e6)](0x2*0x3c,0x3e8))&&db['ref'](_0x265849[_0x5aa8c6(0x2c5)](_0x265849[_0x5aa8c6(0x1ae)],_0x319843))[_0x5aa8c6(0x1ed)]();}db[_0x5aa8c6(0x345)](_0x265849[_0x5aa8c6(0xe5)])[_0x5aa8c6(0x2ca)](_0x265849[_0x5aa8c6(0xd2)])[_0x5aa8c6(0x24e)](_0x19baf3=>{const _0x4ef12c=_0x5aa8c6,_0x40bf7a=_0x19baf3[_0x4ef12c(0x3b9)]();if(!_0x40bf7a)return;for(const _0x6da7a5 in _0x40bf7a){if(_0x6da7a5!==STATIC_ROOM)db[_0x4ef12c(0x345)](_0x4ef12c(0x13a)+_0x6da7a5)[_0x4ef12c(0x1ed)]();}}),db[_0x5aa8c6(0x345)](_0x265849[_0x5aa8c6(0x215)])[_0x5aa8c6(0x2ca)](_0x5aa8c6(0x28c))[_0x5aa8c6(0x24e)](_0xe3dbf2=>{const _0x3254aa=_0x5aa8c6,_0x2f2c38=_0xe3dbf2[_0x3254aa(0x3b9)]();if(!_0x2f2c38)return;for(const _0x19d800 in _0x2f2c38){if(_0x19d800!==STATIC_ROOM)db[_0x3254aa(0x345)](_0x3254aa(0x354)+_0x19d800)[_0x3254aa(0x1ed)]();}});});}document[_0x8331ae(0x27e)]('DOMContentLoaded',()=>{const _0x573fb4=_0x8331ae,_0x44286e={'FyzYk':function(_0xce57f3,_0x89e96d){return _0xce57f3===_0x89e96d;},'CloOI':_0x573fb4(0x31f),'KRJEF':function(_0x4d27e0){return _0x4d27e0();},'EkuUP':_0x573fb4(0x12e),'RxEIx':_0x573fb4(0x25e)},_0x86c13f=document[_0x573fb4(0x33f)](_0x44286e[_0x573fb4(0x284)]);_0x86c13f&&_0x86c13f[_0x573fb4(0x27e)](_0x44286e['RxEIx'],function(_0x88f38b){const _0x553131=_0x573fb4;_0x44286e[_0x553131(0x346)](_0x88f38b[_0x553131(0x14a)],_0x44286e['CloOI'])&&(_0x88f38b[_0x553131(0x2fe)](),_0x44286e[_0x553131(0x329)](sendMessage));});});function showScreen(_0x1bea6c){const _0x18157a=_0x8331ae,_0x330461={'VBOHQ':_0x18157a(0x1f9),'Djchf':_0x18157a(0x115),'GkBhd':_0x18157a(0x20c),'ifxIh':_0x18157a(0xab),'yYbPz':_0x18157a(0x358),'fHtoJ':_0x18157a(0x374),'hhZTZ':_0x18157a(0x2a8)};[_0x330461['VBOHQ'],_0x18157a(0x14e),_0x330461[_0x18157a(0x189)],'chatScreen',_0x330461[_0x18157a(0x376)],_0x330461['ifxIh'],_0x330461[_0x18157a(0x3bc)],'authScreen',_0x330461[_0x18157a(0x335)],_0x330461['hhZTZ']][_0x18157a(0xe9)](_0x204666=>{const _0x572f39=_0x18157a;document[_0x572f39(0x33f)](_0x204666)['style']['display']=_0x572f39(0x2a5);}),document['getElementById'](_0x1bea6c)[_0x18157a(0x13d)][_0x18157a(0x1bd)]=_0x18157a(0x2d4);}function genRoomCode(){const _0x18f02f=_0x8331ae,_0x1dc634={'ZfwpK':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','HObZz':function(_0x3f7a3f,_0x4bbb34){return _0x3f7a3f+_0x4bbb34;},'dsfWm':function(_0x2396d0,_0x1d282e,_0x3ca847){return _0x2396d0(_0x1d282e,_0x3ca847);},'ZuXAh':function(_0x1e1bda,_0x2d9f07,_0xe7677d){return _0x1e1bda(_0x2d9f07,_0xe7677d);}},_0x1ee013=_0x1dc634[_0x18f02f(0x39c)],_0x3a2844=_0x18f02f(0x334),_0x449da9=(_0x110c57,_0x30560d)=>Array[_0x18f02f(0x123)]({'length':_0x30560d},()=>_0x110c57[Math['floor'](Math[_0x18f02f(0x183)]()*_0x110c57[_0x18f02f(0x232)])])[_0x18f02f(0x34e)]('');return _0x1dc634[_0x18f02f(0xfb)](_0x1dc634[_0x18f02f(0xfb)](_0x1dc634[_0x18f02f(0x166)](_0x449da9,_0x3a2844,0x3),_0x1dc634['ZuXAh'](_0x449da9,_0x1ee013,0x3)),_0x1dc634[_0x18f02f(0x249)](_0x449da9,_0x3a2844,0x2))+_0x1dc634['ZuXAh'](_0x449da9,_0x1ee013,0x2);}function startInactivityTimer(){const _0x4d4509=_0x8331ae,_0x1361a1={'ZkCmB':function(_0x2c46bf,_0x52c778){return _0x2c46bf>_0x52c778;},'Rrena':function(_0x736e03,_0xa1d7cc){return _0x736e03-_0xa1d7cc;},'AGnFS':function(_0x24034f,_0x27db89){return _0x24034f*_0x27db89;},'otgtA':function(_0x22fa01,_0x2af6e4){return _0x22fa01*_0x2af6e4;},'KpDak':function(_0x5f377b,_0x1728e4){return _0x5f377b+_0x1728e4;},'BUoAd':_0x4d4509(0x1a0),'fbkdE':function(_0x34ce34,_0xb05fc9){return _0x34ce34(_0xb05fc9);},'IFPoX':'Session\x20expired.','RxMvg':function(_0x2921be,_0x6d9636,_0x343111){return _0x2921be(_0x6d9636,_0x343111);}};_0x1361a1[_0x4d4509(0xb9)](setInterval,()=>{const _0x3ddff9=_0x4d4509;_0x1361a1[_0x3ddff9(0x246)](_0x1361a1[_0x3ddff9(0x1da)](Date['now'](),lastActivity),_0x1361a1[_0x3ddff9(0x254)](_0x1361a1[_0x3ddff9(0x217)](0x5,0x3c),0x3e8))&&roomCode!==STATIC_ROOM&&(db[_0x3ddff9(0x345)](_0x1361a1[_0x3ddff9(0x37f)](_0x1361a1[_0x3ddff9(0x281)],roomCode))[_0x3ddff9(0x2f1)]({'active':![]}),_0x1361a1[_0x3ddff9(0x32c)](alert,_0x1361a1[_0x3ddff9(0x277)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x40a170=_0x8331ae,_0x3287ac={'WAokJ':_0x40a170(0x30e),'cgJeS':_0x40a170(0xdd)};window['addEventListener'](_0x40a170(0xc8),()=>{const _0x35f5bb=_0x40a170,_0x17869d=document['getElementById'](_0x3287ac[_0x35f5bb(0x283)]);_0x17869d?.[_0x35f5bb(0x202)][_0x35f5bb(0x18a)](_0x3287ac[_0x35f5bb(0x382)])&&_0x17869d[_0x35f5bb(0x202)]['remove'](_0x3287ac[_0x35f5bb(0x382)]);});}function toggleSidebar(){const _0x3ae2b3=_0x8331ae,_0x5db52c={'qTYHv':_0x3ae2b3(0x30e),'Wpsqw':'show'},_0x27068c=document[_0x3ae2b3(0x33f)](_0x5db52c['qTYHv']);if(!_0x27068c[_0x3ae2b3(0x202)][_0x3ae2b3(0x18a)](_0x3ae2b3(0xdd)))_0x27068c['classList'][_0x3ae2b3(0x160)](_0x5db52c['Wpsqw']),history[_0x3ae2b3(0x145)]({'sidebarOpen':!![]},'');else{_0x27068c['classList'][_0x3ae2b3(0x1ed)](_0x5db52c[_0x3ae2b3(0x2ee)]);if(history[_0x3ae2b3(0x1e5)]?.[_0x3ae2b3(0x2e1)])history[_0x3ae2b3(0x34f)]();}}function setupVisibilityAttention(){const _0x546da4=_0x8331ae,_0x13ffb2={'EnUUb':_0x546da4(0x16a)};let _0x4a4d8b=0x0,_0x23ea6b=document[_0x546da4(0x2e0)];document[_0x546da4(0x27e)](_0x13ffb2[_0x546da4(0x357)],()=>{const _0x15ac63=_0x546da4;!document[_0x15ac63(0x21c)]&&(document[_0x15ac63(0x2e0)]=_0x23ea6b,_0x4a4d8b=0x0);}),window[_0x546da4(0xad)]=function(){const _0x5e523a=_0x546da4;document[_0x5e523a(0x21c)]&&(_0x4a4d8b++,document['title']='('+_0x4a4d8b+_0x5e523a(0xd0)+_0x23ea6b);};}function tryEditProfile(){const _0x2b53e9=_0x8331ae,_0x1a5303={'VXQWt':_0x2b53e9(0x374)};showScreen(_0x1a5303['VXQWt']);}async function submitEditProfile(){const _0x20d548=_0x8331ae,_0x1adf8d={'Uqjru':_0x20d548(0xbe),'VhFHE':_0x20d548(0x132),'cdRhm':'editProfileError','pFMmL':'block','jgMvL':function(_0x35caf6,_0x34a59d){return _0x35caf6(_0x34a59d);},'GOnEx':_0x20d548(0x380),'ILpFW':function(_0x4a5014,_0x12c745){return _0x4a5014!==_0x12c745;},'OlSQe':_0x20d548(0x206),'pKSmm':function(_0x4f2e30,_0x104486){return _0x4f2e30*_0x104486;},'rbwGX':function(_0x182adf,_0x5dcd71){return _0x182adf*_0x5dcd71;},'vDURK':function(_0x519950,_0xc8e860){return _0x519950-_0xc8e860;},'AMguR':function(_0x3d716c,_0x3164c4){return _0x3d716c(_0x3164c4);},'hfciE':_0x20d548(0xd9)},_0x5504ff=document[_0x20d548(0x33f)](_0x20d548(0x14f))[_0x20d548(0x28c)],_0x2d113e=document[_0x20d548(0x33f)](_0x1adf8d['Uqjru'])[_0x20d548(0x28c)],_0x9a5a85=document[_0x20d548(0x33f)](_0x1adf8d[_0x20d548(0x1ce)])[_0x20d548(0x28c)]['trim'](),_0x258a4b=document['getElementById'](_0x1adf8d[_0x20d548(0x301)]);if(!_0x5504ff){_0x258a4b[_0x20d548(0x26e)]=_0x20d548(0x303),_0x258a4b['style'][_0x20d548(0x1bd)]=_0x1adf8d[_0x20d548(0x1eb)];return;}const _0x21e65c=_0x1adf8d[_0x20d548(0x2df)](sanitizeUsername,username),_0x2c8994=await db[_0x20d548(0x345)]('auth/'+_0x21e65c)[_0x20d548(0x13e)]();if(!_0x2c8994[_0x20d548(0xf0)]()){_0x258a4b['innerText']=_0x1adf8d[_0x20d548(0x19e)],_0x258a4b['style'][_0x20d548(0x1bd)]=_0x1adf8d[_0x20d548(0x1eb)];return;}const _0x3213f1=_0x2c8994[_0x20d548(0x3b9)](),_0x1999c3=await _0x1adf8d[_0x20d548(0x2df)](sha256,_0x5504ff);if(_0x1adf8d[_0x20d548(0xd8)](_0x1999c3,_0x3213f1[_0x20d548(0xea)])){_0x258a4b[_0x20d548(0x26e)]=_0x1adf8d[_0x20d548(0xc7)],_0x258a4b[_0x20d548(0x13d)][_0x20d548(0x1bd)]=_0x1adf8d[_0x20d548(0x1eb)];return;}const _0x3850ec={};if(_0x2d113e){const _0x25899c=await sha256(_0x2d113e);_0x3850ec['passwordHash']=_0x25899c;}_0x1adf8d[_0x20d548(0xd8)](_0x9a5a85,_0x3213f1[_0x20d548(0x161)])&&(_0x3850ec[_0x20d548(0x161)]=_0x9a5a85);const _0x486d18=Date[_0x20d548(0xfa)](),_0x42bc49=_0x1adf8d[_0x20d548(0x29d)](_0x1adf8d[_0x20d548(0xd4)](0x18,0x3c)*0x3c,0x3e8),_0x3d386c=_0x1adf8d['vDURK'](_0x486d18,_0x3213f1[_0x20d548(0x111)]||0x0)>_0x42bc49;if(_0x3d386c&&confirm('Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)')){const _0x339968=_0x1adf8d['AMguR'](prompt,_0x20d548(0xe0));_0x339968&&_0x339968[_0x20d548(0x282)]()&&(_0x3850ec[_0x20d548(0x33d)]=_0x339968[_0x20d548(0x282)](),_0x3850ec[_0x20d548(0x176)]=(_0x3213f1['usernameHistory']||[])[_0x20d548(0xae)](_0x339968[_0x20d548(0x282)]()),_0x3850ec[_0x20d548(0x111)]=_0x486d18);}_0x3850ec[_0x20d548(0x33d)]&&_0x1adf8d[_0x20d548(0xd8)](_0x3850ec[_0x20d548(0x33d)],_0x3213f1[_0x20d548(0x33d)])?(await db[_0x20d548(0x345)](_0x20d548(0x305)+sanitizeUsername(_0x3850ec[_0x20d548(0x33d)]))[_0x20d548(0x1d1)]({..._0x3213f1,..._0x3850ec}),await db[_0x20d548(0x345)]('auth/'+_0x21e65c)[_0x20d548(0x1ed)](),username=_0x3850ec[_0x20d548(0x33d)]):await db[_0x20d548(0x345)](_0x20d548(0x305)+_0x21e65c)[_0x20d548(0x2f1)](_0x3850ec),_0x1adf8d[_0x20d548(0x2df)](alert,_0x1adf8d[_0x20d548(0x146)]),location[_0x20d548(0xc5)]();}function cancelEditProfile(){const _0x42382a=_0x8331ae,_0x393d2c={'rExDn':_0x42382a(0x374),'HUtUl':_0x42382a(0x2a5),'CYaaU':function(_0x1184d1,_0x5df08c){return _0x1184d1(_0x5df08c);},'QqNFi':_0x42382a(0x20b)};document[_0x42382a(0x33f)](_0x393d2c[_0x42382a(0x229)])['style']['display']=_0x393d2c[_0x42382a(0x241)],_0x393d2c[_0x42382a(0x1b9)](showScreen,_0x393d2c[_0x42382a(0x2fc)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x740a0b=_0x8331ae,_0x1b9bed={'BOPHn':function(_0x9a23af){return _0x9a23af();},'iCnGx':_0x740a0b(0x28c)};db[_0x740a0b(0x345)](_0x740a0b(0x37c)+roomCode)['on'](_0x1b9bed['iCnGx'],async _0x3910c5=>{const _0x360b24=_0x740a0b;if(!_0x3910c5[_0x360b24(0xf0)]())return;const _0x227b2c=_0x3910c5['val']();for(const _0x56f6b9 in previousUsers){if(!_0x227b2c[_0x56f6b9])_0x227b2c[_0x56f6b9]=previousUsers[_0x56f6b9];}renderUserLists(_0x227b2c),previousUsers=_0x227b2c,await _0x1b9bed[_0x360b24(0x1fa)](loadRoomRoles),renderUserLists(_0x227b2c);});}function trackPresence(){const _0x3e0491=_0x8331ae,_0x510ba0={'JVgvq':'system','utyQo':function(_0x4bdc4d,_0x359a2f){return _0x4bdc4d||_0x359a2f;},'LnFfJ':function(_0x3528fd,_0x5a7bc3){return _0x3528fd||_0x5a7bc3;},'PXrnw':function(_0x24d4f4,_0x3def2d){return _0x24d4f4||_0x3def2d;}};if(_0x510ba0[_0x3e0491(0x118)](!username,!roomCode))return;const _0x31caa7=sanitizeUsername(username),_0x5c06e7=db['ref']('users/'+roomCode+'/'+_0x31caa7),_0x1934b3={'username':username,'avatarBase64':_0x510ba0[_0x3e0491(0x3b6)](avatarBase64,''),'description':_0x510ba0['PXrnw'](userDescription,''),'online':!![],'lastOnline':firebase[_0x3e0491(0x36d)]['ServerValue'][_0x3e0491(0x3a0)]};_0x5c06e7['once'](_0x3e0491(0x28c))[_0x3e0491(0x24e)](_0x90851d=>{const _0x159607=_0x3e0491,_0xc785cb=_0x90851d[_0x159607(0x3b9)]()?.['online'];_0x5c06e7[_0x159607(0x1d1)](_0x1934b3)[_0x159607(0x24e)](()=>{const _0x361b08=_0x159607;updateOnlineIndicator();if(!_0xc785cb){const _0x4a6ead=db[_0x361b08(0x345)]()[_0x361b08(0x35f)]()[_0x361b08(0x14a)];db[_0x361b08(0x345)](_0x361b08(0x1a0)+roomCode+_0x361b08(0x24f)+_0x4a6ead)[_0x361b08(0x1d1)]({'msg':username+_0x361b08(0x3b5),'sender':_0x361b08(0x110),'senderId':_0x510ba0[_0x361b08(0x130)],'timestamp':Date[_0x361b08(0xfa)]()});}_0x5c06e7[_0x361b08(0x192)]()['update']({'online':![],'lastOnline':Date[_0x361b08(0xfa)]()});});});}function uploadSidebarAvatar(_0x2ed558){const _0x155b56=_0x8331ae,_0x19dc9e={'IvHJj':'sidebarAvatarPreview','EBnHP':_0x155b56(0x11a),'kXrjm':function(_0x4f50f4,_0x13fc81){return _0x4f50f4(_0x13fc81);},'WpVCY':_0x155b56(0x387),'SZuak':_0x155b56(0x29e)};if(!_0x2ed558['files']['length'])return;const _0x2eaa69=_0x2ed558['files'][0x0],_0x566b3c=new FileReader();_0x566b3c[_0x155b56(0x349)]=async()=>{const _0x574194=_0x155b56,_0x5b9cfb=_0x566b3c[_0x574194(0x36f)][_0x574194(0x25d)](',')[0x1];document[_0x574194(0x33f)](_0x19dc9e[_0x574194(0xcf)])['src']=_0x566b3c['result'],document[_0x574194(0x33f)](_0x19dc9e['IvHJj'])[_0x574194(0x13d)][_0x574194(0x1bd)]=_0x19dc9e[_0x574194(0x25b)];try{const _0x4f1c7f=_0x19dc9e[_0x574194(0x265)](sanitizeUsername,username);await db[_0x574194(0x345)](_0x574194(0x305)+_0x4f1c7f+_0x574194(0x185))[_0x574194(0x1d1)](_0x5b9cfb),_0x19dc9e[_0x574194(0x265)](alert,_0x19dc9e[_0x574194(0x2a7)]);}catch(_0x211a3e){console[_0x574194(0x261)](_0x211a3e),_0x19dc9e[_0x574194(0x265)](alert,_0x19dc9e[_0x574194(0x153)]);}},_0x566b3c['readAsDataURL'](_0x2eaa69);}function muteUser(_0x22c1b2,_0x34e341){const _0x158b2e=_0x8331ae,_0x4ab9f5={'fXxfz':function(_0x59b95e,_0x473168){return _0x59b95e(_0x473168);},'qMJpt':function(_0x273109,_0x4535ca){return _0x273109+_0x4535ca;},'NbyLr':function(_0x4adb57,_0xf5f7c9){return _0x4adb57*_0xf5f7c9;}},_0x40ff30=_0x4ab9f5[_0x158b2e(0x2c8)](Date['now'](),_0x4ab9f5[_0x158b2e(0x397)](_0x4ab9f5[_0x158b2e(0x397)](_0x34e341,0x3c),0x3e8));db['ref'](_0x158b2e(0x29c)+roomCode+'/'+_0x4ab9f5[_0x158b2e(0x379)](sanitizeUsername,_0x22c1b2))[_0x158b2e(0x1d1)]({'muteUntil':_0x40ff30})[_0x158b2e(0x24e)](()=>{const _0x3db5fd=_0x158b2e;alert(_0x22c1b2+_0x3db5fd(0x302)+_0x34e341+_0x3db5fd(0x223)),_0x4ab9f5['fXxfz'](addSystemMessage,_0x22c1b2+'\x20was\x20muted\x20for\x20'+_0x34e341+_0x3db5fd(0x150));});}function unmuteUser(_0x552ea2){const _0x200b69=_0x8331ae,_0x5e58db={'xDWti':_0x200b69(0x27c),'RLuHb':function(_0x1d1d4a,_0x22b38a){return _0x1d1d4a(_0x22b38a);}};if(!isRoomAdmin)return alert(_0x5e58db['xDWti']);db['ref'](_0x200b69(0x29c)+roomCode+'/'+_0x5e58db['RLuHb'](sanitizeUsername,_0x552ea2))[_0x200b69(0x1ed)]();}function updateOnlineIndicator(){const _0x27876f=_0x8331ae,_0x64162c={'deHuE':'onlineStatus','ZCMLX':'●\x20Online','PuUaU':'#00ff88'},_0x42b3ca=document[_0x27876f(0x33f)](_0x64162c[_0x27876f(0x306)]);_0x42b3ca[_0x27876f(0x26e)]=_0x64162c['ZCMLX'],_0x42b3ca['style'][_0x27876f(0x38e)]=_0x64162c['PuUaU'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x143e72){const _0x5ec1d9=_0x8331ae,_0x20af9a={'GbQjg':function(_0x84d859,_0x1edc8b){return _0x84d859(_0x1edc8b);},'mKZtn':_0x5ec1d9(0x380),'MoNhm':_0x5ec1d9(0x213),'YmAUD':_0x5ec1d9(0x1ca),'vzxRZ':'Unknown','BdYMx':_0x5ec1d9(0x358),'XAwkF':_0x5ec1d9(0x11a)};db[_0x5ec1d9(0x345)](_0x5ec1d9(0x305)+_0x143e72)[_0x5ec1d9(0x13e)]()['then'](_0x1eced2=>{const _0x21c6af=_0x5ec1d9;if(!_0x1eced2[_0x21c6af(0xf0)]())return _0x20af9a[_0x21c6af(0x3b2)](alert,_0x20af9a[_0x21c6af(0x3c3)]);const _0x219251=_0x1eced2[_0x21c6af(0x3b9)](),_0x1b4ec4=('\x0aName:\x20'+_0x219251[_0x21c6af(0x33d)]+_0x21c6af(0x34d)+(_0x219251[_0x21c6af(0x161)]||_0x20af9a['MoNhm'])+_0x21c6af(0x125)+((_0x219251['usernameHistory']||[])[_0x21c6af(0x34e)](',\x20')||_0x20af9a[_0x21c6af(0x37a)])+_0x21c6af(0x383)+(_0x219251[_0x21c6af(0x111)]?new Date(_0x219251[_0x21c6af(0x111)])[_0x21c6af(0x1e0)]():_0x20af9a['vzxRZ'])+_0x21c6af(0x24d))['trim']();document['getElementById']('profileContent')[_0x21c6af(0x26e)]=_0x1b4ec4,document[_0x21c6af(0x33f)](_0x20af9a['BdYMx'])['style'][_0x21c6af(0x1bd)]=_0x20af9a[_0x21c6af(0x2bb)];});}function initUsernameFlow(){const _0x1cdf6d=_0x8331ae,_0x306f95={'uFHhQ':_0x1cdf6d(0x30f),'MgjcX':function(_0x192521,_0x40a3d1){return _0x192521(_0x40a3d1);},'EUVMi':'profileScreen','GdOHR':_0x1cdf6d(0xe4),'obGXo':_0x1cdf6d(0x2a8)},_0x5405c2=localStorage[_0x1cdf6d(0x344)](_0x306f95[_0x1cdf6d(0x3b1)]);!_0x5405c2?_0x306f95[_0x1cdf6d(0x1cf)](showScreen,_0x306f95[_0x1cdf6d(0x2b5)]):(username=_0x5405c2,document[_0x1cdf6d(0x33f)](_0x306f95[_0x1cdf6d(0x119)])[_0x1cdf6d(0x26e)]=username,_0x306f95[_0x1cdf6d(0x1cf)](showScreen,_0x306f95[_0x1cdf6d(0x20f)]));}function _0x4995(_0x2be667,_0x5e6b9e){const _0x50a524=_0x50a5();return _0x4995=function(_0x4995ca,_0x53cebd){_0x4995ca=_0x4995ca-0xaa;let _0x2b58a0=_0x50a524[_0x4995ca];return _0x2b58a0;},_0x4995(_0x2be667,_0x5e6b9e);}function closeProfile(){const _0x51dfa5=_0x8331ae,_0x98f918={'aHlky':_0x51dfa5(0x358),'weQxT':_0x51dfa5(0x2a5)};document['getElementById'](_0x98f918[_0x51dfa5(0x38c)])[_0x51dfa5(0x13d)][_0x51dfa5(0x1bd)]=_0x98f918['weQxT'];}function resetWebsiteData(){const _0x1d208d=_0x8331ae,_0x33bc67={'KpHhu':_0x1d208d(0xda),'deUiV':_0x1d208d(0x108),'MLBaO':_0x1d208d(0xf4),'JggrV':function(_0x52da27,_0x8fa209){return _0x52da27+_0x8fa209;}};try{const _0x46815d=localStorage[_0x1d208d(0x344)](_0x33bc67[_0x1d208d(0x2ae)]);localStorage[_0x1d208d(0x2e9)](),sessionStorage['clear'](),sessionStorage[_0x1d208d(0x295)](_0x33bc67[_0x1d208d(0x1df)]),sessionStorage['removeItem'](_0x1d208d(0x124)),_0x46815d&&localStorage[_0x1d208d(0xdf)](_0x33bc67[_0x1d208d(0x2ae)],_0x46815d);}catch(_0x57d517){}if(!username||!roomCode){const _0x510e53=_0x33bc67[_0x1d208d(0xc1)][_0x1d208d(0x25d)]('|');let _0x42c69d=0x0;while(!![]){switch(_0x510e53[_0x42c69d++]){case'0':clientId=_0x33bc67[_0x1d208d(0x298)]('_',Math[_0x1d208d(0x183)]()[_0x1d208d(0x137)](0x24)[_0x1d208d(0x13f)](0x2,0x9));continue;case'1':roomCode=null;continue;case'2':isRoomAdmin=![];continue;case'3':username=null;continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x19164a=_0x8331ae,_0x390f0d={'skPFQ':function(_0x48a2db,_0x22e0ed){return _0x48a2db(_0x22e0ed);},'FFxmp':_0x19164a(0x214)},_0x2af973=_0x390f0d[_0x19164a(0xdb)](prompt,_0x390f0d['FFxmp']);if(!_0x2af973)return;db[_0x19164a(0x345)](_0x19164a(0x1a0)+roomCode+_0x19164a(0x39f))[_0x19164a(0x1d1)]({'text':_0x2af973,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x3800d2=_0x8331ae,_0x28b692={'qyhJz':_0x3800d2(0x1e2),'vswHL':_0x3800d2(0x28c)},_0x37c0ae=db[_0x3800d2(0x345)](_0x3800d2(0x1a0)+roomCode+_0x3800d2(0x39f));_0x37c0ae['on'](_0x28b692[_0x3800d2(0x393)],_0x24bbb6=>{const _0x1ee03b=_0x3800d2,_0x362f87=_0x24bbb6[_0x1ee03b(0x3b9)]();if(!_0x362f87){document[_0x1ee03b(0x33f)](_0x28b692[_0x1ee03b(0x350)])[_0x1ee03b(0x26e)]='';return;}const _0x38fd4b=document[_0x1ee03b(0x33f)](_0x1ee03b(0x1e2));_0x38fd4b['innerText']=''+_0x362f87[_0x1ee03b(0x267)];});}document[_0x8331ae(0x33f)]('announcementArea')[_0x8331ae(0x27e)]('click',_0x3cd3b5=>{const _0x273094=_0x8331ae,_0x52dfb6={'KkDMt':function(_0x4aa61b,_0x508d64){return _0x4aa61b===_0x508d64;},'BlyDe':function(_0x3652ee,_0x3eeb3a){return _0x3652ee(_0x3eeb3a);}};_0x52dfb6[_0x273094(0xfd)](_0x3cd3b5[_0x273094(0x1c7)],0x3)&&isRoomAdmin&&(_0x52dfb6[_0x273094(0x139)](confirm,'Remove\x20Announcement?')&&db['ref'](_0x273094(0x1a0)+roomCode+_0x273094(0x39f))[_0x273094(0x1ed)]());}),document['getElementById'](_0x8331ae(0x12e))[_0x8331ae(0x27e)](_0x8331ae(0x134),()=>{const _0x5b544b=_0x8331ae,_0x5ba381={'GpCpJ':_0x5b544b(0x12e),'AUpsf':_0x5b544b(0x258)},_0x323db7=document[_0x5b544b(0x33f)](_0x5ba381[_0x5b544b(0x24c)]);_0x2b9ee2?_0x323db7['style'][_0x5b544b(0x19c)]=_0x5ba381[_0x5b544b(0x226)]:_0x323db7[_0x5b544b(0x13d)][_0x5b544b(0x19c)]='';const _0x3cc2b5=_0x323db7['value'][_0x5b544b(0x25f)](),_0x2b9ee2=swearWords[_0x5b544b(0x3bd)](_0x1e7278=>_0x3cc2b5['includes'](_0x1e7278));_0x2b9ee2?(_0x323db7[_0x5b544b(0x13d)][_0x5b544b(0x19c)]=_0x5ba381['AUpsf'],sendBtn[_0x5b544b(0xf9)]=!![]):(_0x323db7[_0x5b544b(0x13d)]['border']='',_0x2b9ee2?_0x323db7[_0x5b544b(0x13d)][_0x5b544b(0x19c)]=_0x5ba381[_0x5b544b(0x226)]:_0x323db7[_0x5b544b(0x13d)][_0x5b544b(0x19c)]='');});function muteUser(_0x83e7ba,_0x28f81b){const _0x5d9b95=_0x8331ae,_0x1d9255={'GfcAP':function(_0x5d6453,_0x32d0bf){return _0x5d6453(_0x32d0bf);},'jeIXw':function(_0x5abe2a,_0x346690){return _0x5abe2a+_0x346690;}},_0x2bec93=_0x1d9255[_0x5d9b95(0x1e3)](Date['now'](),_0x28f81b*0x3c*0x3e8);db['ref'](_0x5d9b95(0x29c)+roomCode+'/'+sanitizeUsername(_0x83e7ba))[_0x5d9b95(0x1d1)]({'muteUntil':_0x2bec93})['then'](()=>{const _0x1c03c1=_0x5d9b95;_0x1d9255[_0x1c03c1(0x239)](alert,_0x83e7ba+_0x1c03c1(0x302)+_0x28f81b+_0x1c03c1(0x223));});}function _0x50a5(){const _0x2c2886=['mvmPo','gvLGc','XykFL','vJCtg','equalTo','0123456789','fHtoJ','warn','online','merda','kITWo','KcXvZ','PKQBM','Ckjhw','username','OZlDT','getElementById','AnjUw','pnONq','2048_token','<span\x20style=\x22margin-right:6px;\x22>','getItem','ref','FyzYk','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','pTXWQ','onloadend','whiteSpace','QIIif','<button\x20onclick=\x22muteUser(\x27','\x0aDescription:\x20','join','back','qyhJz','Xfwup','gsjgm','🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','antispamBlocked/','</div>','DtKnQ','EnUUb','profileViewer','fontSize','object','location','⛔\x20You\x20are\x20muted.','replace','hQijf','push','VoWSS','hMxfs','system-msg','top','PcMPf','TCJGf','zXbro','jtmxF','timestamp','JIvua','repeat(auto-fill,\x20minmax(32px,\x201fr))','OlUAX','EVBiv','database','zeTdR','result','RYVty','0\x202px\x206px\x20rgba(0,0,0,0.5)','onstop','digest','editProfileScreen','XwJhP','GkBhd','KpTgT','ubRDl','fXxfz','YmAUD','zIndex','users/','mwVxK','Ajagn','KpDak','Profile\x20not\x20found.','zUhBx','cgJeS','\x0aLast\x20Changed:\x20','borderRadius','className','boxShadow','✅\x20Profile\x20picture\x20updated!','gLGvY','MwOxA','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','Missing\x20room\x20or\x20user\x20information.','aHlky','cOChK','color','fEHEy','ToXfP','Zoday','eeTOZ','vswHL','qYkPi','yUOcA','<button\x20onclick=\x22demoteUser(\x27','NbyLr','160px','35wkJOvO','Account\x20not\x20found.','New\x20Chat\x20Message','ZfwpK','bQpHy','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','/announcement','TIMESTAMP','authUsername','fdp','JOXpk','notifToggleBtn','userList','</span>','click','EmTIy','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','uUzhe','\x27,\x2010)\x22>Mute\x2010m</button>','tmBfn','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','inline-block','LWzTD','RWtbS','uFHhQ','GbQjg','bitch','admins/','\x20is\x20online','LnFfJ','rlviP','LljQc','val','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','TfWNj','yYbPz','some','🔕\x20Disable\x20Notifications','textAlign','VHWMT','<button\x20onclick=\x22deleteUserMessages(\x27','vrpdP','mKZtn','roomStates/','profileScreen','WHeks','flagPageAttention','concat','roomDisplay','https://easy-chatroom-default-rtdb.firebaseio.com','play','VIzOL','OrkuC','HRoSN','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','BXjRE','\x27)\x22>+Admin</button>','FFWrn','RxMvg','bwisit','dev','qUTYl','ylXeZ','newPasswordInput','toLocaleTimeString','eBrZl','MLBaO','catch','5|0|6|2|1|4|3','#aaa','reload','\x20was\x20promoted\x20to\x20Moderator','OlSQe','popstate','BJgMa','icJOX','vEGtF','granted','audioBase64','YXKGt','IvHJj',')\x20New\x20message\x20•\x20','boQfb','KSMUi','QnYMX','rbwGX','OaGqP','nrNAX','wSgJg','ILpFW','✅\x20Profile\x20updated!\x20Please\x20reload.','notifications_enabled','skPFQ','HNXlE','show','YWgTA','setItem','Enter\x20your\x20new\x20username:','IXEVT','yqsna','981296akNIAK','namePreview','wGPQP','vPHSc','FSNIZ','children','forEach','passwordHash','jmHvZ','wccSH','Remove\x20this\x20announcement?','XZNkp','hLxzd','exists','YBdtE','coño','<a\x20href=\x22','3|1|2|4|0','false','eXYxg','\x27)\x22>+Mod</button>','\x27)\x22>Promote\x20to\x20Moderator</button>','disabled','now','HObZz','nROCX','KkDMt','cjWwY','authSubmitBtn','UTggv','putang\x20ina','qqDFm','jnkFi','tDPEF','mod','Whcir','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','2048_user','moderator','LPZrU','CafcU','[Unknown]','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','VTiLh','kfmVO','system','lastChanged','msg','zVdHE','deleteMessage','codeEntryScreen','EwZEn','scrollHeight','utyQo','GdOHR','block','fOhDA','\x20promoted\x20to\x20Moderator!','ztLAa','feHAF','stop','SzYwP','sent','\x20🔧\x20','from','2048_avatar','\x0aUsername\x20History:\x20','authPassword','DaXqc','innerHTML','TclgX','LIEkX','zEoNm','julAW','uPXGO','msgInput','caralho','JVgvq','ZhKwZ','editBioInput','ZtmHa','input','DAbnm','start','toString','dMjQD','BlyDe','antispam/','authTitle','QRgPG','style','get','substr','ehVcq','CJqUT','Ravml','Please\x20fill\x20in\x20all\x20fields.','Incorrect\x20password','pushState','hfciE','fEQLQ','hkaGA','antispam','key','passwordError','Dgwoi','dick','roomChoiceScreen','oldPasswordInput','\x20minutes','You\x20got\x20a\x20message\x20from\x20','touchstart','SZuak','scrollTop','iZcWa','aylUE','height','evqGv','margin','2321838HwSzdg','oBdDX','YwJZU','</li>','YrVtL','reaction-tray','add','description','Kwjxk','WuKWD','qffqV','lAdFn','dsfWm','LbCtA','JtQWo','HZMOQ','visibilitychange','pendejo','No\x20room\x20code\x20available\x20for\x20private\x20rooms','xoVnC','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','WpZhL','zBxfG','easy-chatroom','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','EdLGL','createElement','zBKzy','usernameHistory','zOdXt','/messages','32px','16px','avatar_base64','unknown','uVkTC','UpoGs','iYZfL','eopCb','rrIbS','cabron','random','porra','/avatarBase64','JEEHO','ilHvF','zzXQK','Djchf','contains','iZAYL','head','Rdytl','QwwMJ','<li>','Register','lcDTe','onDisconnect','atAwi','AHmYR','grid','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','data','zLrPD','normal','NKSoL','volume','border','yqJGo','GOnEx','zgEHV','rooms/','minWidth','true','RVNWE','subtle','XUaWo','VyREZ','XUzvT','Login','MAwPH','muteUntil','getUserMedia','mouseleave','relative','nTmXw','TtIsz','initializeApp','18px','bHpcQ','rooms','ytBSx','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','\x20in\x20room\x20','FtCXe','\x27)\x22>','CYaaU','querySelector','justifyContent','\x20promoted\x20to\x20Admin!','display','auth','Incorrect\x20password.','recordBtn','\x27,\x205)\x22>Mute\x205m</button>','<button\x20onclick=\x22promoteToAdmin(\x27','Qmbjo','Agzuh','❌\x20Username\x20already\x20taken.','left','detail','mouseenter','5|3|2|1|4|0','No\x20changes\x20yet','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','-45px','Please\x20enter\x20the\x20password.','VhFHE','MgjcX','admin','set','\x20deleted.','oJVDn','Username\x20already\x20exists.','SUkaw','❌\x20You\x20must\x20be\x20logged\x20in.','audioUrl','marginTop','Udxed','Rrena','orderByChild','profileUsernameInput','pausedOverlay','4px','deUiV','toLocaleString','rbwix','announcementArea','jeIXw','nZIBB','state','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','ouUcb','OzlTW','wMaNC','<div>','pFMmL','moderators/','remove','KDSXG','zWKjr','reaction-box','user','profiles/','tGoZL','tfZuU','OmBBF','xvJpm','<audio\x20controls\x20src=\x22','<img\x20src=\x22data:image/png;base64,','usernameScreen','BOPHn','Delete\x20this\x20message?','<span\x20class=\x22sender-name\x22>','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','audio/webm','typing','Sgsce','XSZCa','classList','RuagA','🚫\x20Cannot\x20promote\x20Developers.','width','Incorrect\x20current\x20password.','\x27)\x22>Delete\x20Messages</button>','adminUserList','oxCSa','</a>','chatScreen','passwordScreen','YxLcQ','trQDk','obGXo','2-digit','🎙️','050BBB66HH','No\x20bio\x20set','Enter\x20Announcement\x20Text:','WLKVm','padding','otgtA','GGleo','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','child_added','0px','hidden','easy-chatroom.firebaseapp.com','href','profileError','5|0|1|3|2|4','kBGhE','2386636QaNkHO','\x20minutes.','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','mediaDevices','AUpsf','mute','RXbhm','rExDn','QVSmQ','fIHap','includes','awXnx','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','8VVpGiJ','roomCodeInput','⚠️\x20No\x20spamming\x20allowed.','length','role','div','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','pKgyt','map','all','GfcAP','sidebarAvatarPreview','gap','ZkJAp','EDOqq','entries','encode','ondataavailable','HUtUl','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Failed\x20to\x20save\x20profile:','CvsNo','HDLKR','ZkCmB','Type\x20a\x20message...','center','ZuXAh','alignItems','Failed\x20to\x20register\x20user\x20into\x20room.','GpCpJ','\x0a\x20\x20\x20\x20','then','/messages/','OfHtY','addAnnouncementBtn','gilipollas','src','AGnFS','appendChild','PThqq','rqHmh','2px\x20solid\x20red','JdedX','Aktdc','EBnHP','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','split','keypress','toLowerCase','</span>\x20','error','G-QDESJ2WR42','WsIKw','KXwlN','kXrjm','authDescription','text','Messages\x20by\x20','qtIiH','nSbmp','fjfsq','typing/','kDkJc','innerText','wLxKG','files','kXSqQ','<button\x20onclick=\x22promoteToModerator(\x27','position','wwTzD','ZGVNM','nLSDW','IFPoX','DGMDL','💬\x20','DwNyR','Dcbin','Admins\x20only.','xSSQM','addEventListener','profileDescriptionInput','\x27)\x22>Demote</button>','BUoAd','trim','WAokJ','EkuUP','\x20is\x20typing...','JiUxr','data:audio/webm;base64,','\x27)\x22>Promote\x20to\x20Admin</button>','eMdHG','10px','[data-msg-id=\x22','value','kdfSn','putangina','decki','shit','\x20was\x20promoted\x20to\x20Admin','pLDxT','</button>','</small>','removeItem','NxgVK','userDisplay','JggrV','lQowh','[Voice\x20message]','messages','muted/','pKSmm','⚠️\x20Failed\x20to\x20update\x20avatar.','stDXZ','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','yKyTI','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','tangina','promote','none','child_removed','WpVCY','mainApp','gridTemplateColumns','gWxKJ','NurqY','CuhNj','fAGhb','KpHhu','2023494cqVwTI','1:985049198428:web:d0eb7e2de39887710c9b99','sort','ubeTS','yafot','cunt','EUVMi','MMYDv','hsUJN','yRaMX','pdsXr','SHA-256','XAwkF','stUKR','<button>','FPJXD','54349ExpKTg','staticPasswordInput','[Voice\x20Message]','yncIj','EdRmO','fuck','aBtEN','muEOF','120px','qMJpt','Itkqa','once','[Image]','/reactions','avatarBase64','jNxNc','data:image/png;base64,','PSCmD','active','YtsAL','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','flex','\x20was\x20demoted','FZwVw','permission','🔔\x20Enable\x20Notifications','/paused','vvBfC','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','IWcwF','JVYku','match','jgMvL','title','sidebarOpen','aylCp','YqNwS','1042788JJAKUg','lLOhu','uJoPH','received','authAvatar','clear','\x20demoted\x20to\x20user.','lxhvU','FoGtj','textContent','Wpsqw','mierda','95844zJWmBV','update','<br>','❌\x20Image\x20must\x20be\x20under\x202MB','sTmOr','cIaPH','WrIoA','UVFhX','yahhF','child_changed','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','WGMWK','QqNFi','6px\x20auto','preventDefault','lSGaj','udVyC','cdRhm','\x20muted\x20for\x20','Please\x20enter\x20your\x20current\x20password.','antispamBlocked','auth/','deHuE','poVUv','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','authAvatarPreview','limitToLast','isArray','sender','bobo','userSidebar','chat_username','stopPropagation','msgId','dgpUr','dataset','<img\x20src=\x22','FPHkl','readAsDataURL','NHWbr','kvsYq','WWejC','OEwut','hubag','lcFux','cursor','tAqKn','Enter','985049198428','XowqY','oysPE','filter','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','fqGhP','placeholder','touchend','VxCpA','KRJEF','values','MnmUh','fbkdE','background','Microphone\x20permission\x20denied.'];_0x50a5=function(){return _0x2c2886;};return _0x50a5();}function deleteUserMessages(_0x128bc8){const _0x2db419=_0x8331ae,_0x1cdd72={'JIvua':_0x2db419(0x30c)};db[_0x2db419(0x345)](_0x2db419(0x1a0)+roomCode+_0x2db419(0x178))[_0x2db419(0x1db)](_0x1cdd72[_0x2db419(0x369)])[_0x2db419(0x333)](_0x128bc8)[_0x2db419(0x13e)]()[_0x2db419(0x24e)](_0x1adaa7=>{const _0x8c07ae=_0x2db419;_0x1adaa7[_0x8c07ae(0xe9)](_0x57e29f=>{const _0x5ec348=_0x8c07ae;db[_0x5ec348(0x345)](_0x5ec348(0x1a0)+roomCode+_0x5ec348(0x24f)+_0x57e29f[_0x5ec348(0x14a)])[_0x5ec348(0x1ed)]();}),alert(_0x8c07ae(0x268)+_0x128bc8+_0x8c07ae(0x1d2));});}function pauseRoom(_0xd81ac){const _0x59ecdb=_0x8331ae,_0x25171b={'OmBBF':'block','yzLVP':_0x59ecdb(0x2a5),'XowqY':_0x59ecdb(0x28c)};db[_0x59ecdb(0x345)](_0x59ecdb(0x1a0)+roomCode+_0x59ecdb(0x2d9))['on'](_0x25171b[_0x59ecdb(0x321)],_0x4c66d2=>{const _0x216ea9=_0x59ecdb,_0x1ce318=_0x4c66d2[_0x216ea9(0x3b9)]();document[_0x216ea9(0x33f)](_0x216ea9(0x1dd))[_0x216ea9(0x13d)]['display']=_0x1ce318?_0x25171b[_0x216ea9(0x1f5)]:_0x25171b['yzLVP'];});}function canPerformAction(_0x373923){const _0xbb8710=_0x8331ae,_0x37e538={'dgpUr':function(_0x1150a6,_0x261630){return _0x1150a6===_0x261630;},'NxgVK':_0xbb8710(0xbb),'CafcU':function(_0x31f825,_0x8a7f5){return _0x31f825===_0x8a7f5;},'hsUJN':_0xbb8710(0x227),'qtIiH':_0xbb8710(0x1d0),'atAwi':_0xbb8710(0x109),'udVyC':function(_0x58eff9,_0x310d3e){return _0x58eff9===_0x310d3e;},'WMAvW':_0xbb8710(0x114),'lcFux':_0xbb8710(0x2a4)};if(_0x37e538[_0xbb8710(0x312)](role,_0x37e538[_0xbb8710(0x296)]))return!![];if(_0x37e538[_0xbb8710(0x10b)](_0x373923,_0x37e538[_0xbb8710(0x2b7)]))return role===_0x37e538[_0xbb8710(0x269)]||role===_0x37e538[_0xbb8710(0x193)]||_0x37e538[_0xbb8710(0x312)](role,_0xbb8710(0x105));if(_0x37e538[_0xbb8710(0x300)](_0x373923,_0x37e538['WMAvW'])||_0x373923===_0x37e538[_0xbb8710(0x31c)])return role===_0x37e538[_0xbb8710(0x269)];if(_0x373923===_0x37e538['lcFux'])return role===_0x37e538['qtIiH'];return![];}const html=Object[_0x8331ae(0x32a)](roomUsers)['map'](_0x72892e=>{const _0x490f5f=_0x8331ae,_0x5a2dcb={'FPJXD':function(_0x33f041,_0x1ba99c){return _0x33f041(_0x1ba99c);},'dMjQD':'mute','hkaGA':_0x490f5f(0x114),'QwwMJ':function(_0x5ebd7b,_0x5d87be){return _0x5ebd7b===_0x5d87be;},'ylXeZ':_0x490f5f(0xbb),'kvsYq':function(_0x1f0ee1,_0x3a85f1){return _0x1f0ee1===_0x3a85f1;},'jNxNc':_0x490f5f(0x1d0),'xoVnC':function(_0x3f0d83,_0x8d2e2d){return _0x3f0d83(_0x8d2e2d);}},_0x2cac62=sanitizeUsername(_0x72892e[_0x490f5f(0x33d)]),_0x3e8ba0=[];if(_0x2cac62!==_0x5a2dcb[_0x490f5f(0x2be)](sanitizeUsername,username)){canPerformAction(_0x5a2dcb[_0x490f5f(0x138)])&&(_0x3e8ba0['push'](_0x490f5f(0x34c)+_0x2cac62+_0x490f5f(0x1c1)),_0x3e8ba0[_0x490f5f(0x35f)](_0x490f5f(0x34c)+_0x2cac62+'\x27,\x2010)\x22>Mute\x2010m</button>'));_0x5a2dcb[_0x490f5f(0x2be)](canPerformAction,_0x5a2dcb[_0x490f5f(0x148)])&&_0x3e8ba0[_0x490f5f(0x35f)](_0x490f5f(0x3c1)+_0x2cac62+_0x490f5f(0x207));if(_0x5a2dcb[_0x490f5f(0x18e)](role,_0x5a2dcb[_0x490f5f(0xbd)]))_0x3e8ba0[_0x490f5f(0x35f)](_0x490f5f(0x272)+_0x2cac62+_0x490f5f(0xf8)),_0x3e8ba0['push'](_0x490f5f(0x1c2)+_0x2cac62+_0x490f5f(0x288));else _0x5a2dcb[_0x490f5f(0x318)](role,_0x5a2dcb[_0x490f5f(0x2ce)])&&_0x3e8ba0[_0x490f5f(0x35f)](_0x490f5f(0x272)+_0x2cac62+_0x490f5f(0xf8));}return _0x490f5f(0x224)+_0x72892e['username']+'\x20'+getRoleTag(_0x5a2dcb[_0x490f5f(0x16d)](sanitizeUsername,_0x72892e[_0x490f5f(0x33d)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x2cac62+_0x490f5f(0x242)+_0x3e8ba0[_0x490f5f(0x34e)]('')+_0x490f5f(0x2fa)+_0x2cac62+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>';})[_0x8331ae(0x34e)]('');function promoteToModerator(_0x3e18ac){const _0x334662=_0x8331ae,_0x26aa22={'JiUxr':function(_0x2fd40a,_0x469f6e){return _0x2fd40a(_0x469f6e);},'zVdHE':function(_0x3b8319,_0x50f400){return _0x3b8319(_0x50f400);},'lAdFn':function(_0x2fa9b6,_0x25a795){return _0x2fa9b6(_0x25a795);},'RXbhm':_0x334662(0x204),'poVUv':function(_0x32101c,_0x3c27d6){return _0x32101c!==_0x3c27d6;},'ZkJAp':function(_0x4be605,_0x3de545){return _0x4be605!==_0x3de545;},'fqGhP':_0x334662(0x38a)},_0x36b7e5=_0x26aa22[_0x334662(0x113)](sanitizeUsername,_0x3e18ac);if(_0x26aa22[_0x334662(0x113)](isProtected,_0x36b7e5))return _0x26aa22[_0x334662(0x165)](alert,_0x26aa22[_0x334662(0x228)]);if(_0x26aa22[_0x334662(0x307)](role,_0x334662(0xbb))&&_0x26aa22[_0x334662(0x23c)](role,_0x334662(0x1d0))){_0x26aa22[_0x334662(0x113)](alert,_0x26aa22[_0x334662(0x325)]);return;}db['ref'](_0x334662(0x1ec)+roomCode+'/'+_0x36b7e5)[_0x334662(0x1d1)](!![])[_0x334662(0x24e)](()=>{const _0x2b300f=_0x334662;_0x26aa22[_0x2b300f(0x286)](alert,_0x3e18ac+_0x2b300f(0x11c)),_0x26aa22['JiUxr'](addSystemMessage,_0x3e18ac+_0x2b300f(0xc6));});}function promoteToAdmin(_0x1d10ad){const _0x176956=_0x8331ae,_0x19ec95={'MAwPH':function(_0x130eff,_0x1eaede){return _0x130eff(_0x1eaede);},'WkAAk':function(_0x1efa48,_0x1c3899){return _0x1efa48(_0x1c3899);},'fAGhb':function(_0x1db32a,_0x5316ec){return _0x1db32a(_0x5316ec);},'stDXZ':_0x176956(0x204),'DAbnm':function(_0x304310,_0x1f08cc){return _0x304310!==_0x1f08cc;},'EwZEn':_0x176956(0xbb),'ehVcq':function(_0x24d115,_0x1e216c){return _0x24d115(_0x1e216c);},'lcDTe':_0x176956(0x1e6)},_0x178af2=_0x19ec95['WkAAk'](sanitizeUsername,_0x1d10ad);if(_0x19ec95[_0x176956(0x2ad)](isProtected,_0x178af2))return alert(_0x19ec95[_0x176956(0x29f)]);if(_0x19ec95[_0x176956(0x135)](role,_0x19ec95[_0x176956(0x116)])){_0x19ec95[_0x176956(0x140)](alert,_0x19ec95[_0x176956(0x191)]);return;}db[_0x176956(0x345)](_0x176956(0x3b4)+roomCode+'/'+_0x178af2)[_0x176956(0x1d1)](!![])[_0x176956(0x24e)](()=>{const _0x5ce164=_0x176956;_0x19ec95[_0x5ce164(0x1a9)](alert,_0x1d10ad+_0x5ce164(0x1bc)),addSystemMessage(_0x1d10ad+_0x5ce164(0x291));});}function toggleUserOptions(_0x4235b3){const _0x499380=_0x8331ae,_0x572fa4={'PmKnK':_0x499380(0xbb),'QIIif':function(_0x17aca7,_0x3709d5){return _0x17aca7===_0x3709d5;},'mvmPo':_0x499380(0x1d0),'JOXpk':_0x499380(0x11a),'OlUAX':_0x499380(0x2a5)};(role===_0x572fa4['PmKnK']||_0x572fa4[_0x499380(0x34b)](role,_0x572fa4[_0x499380(0x32f)]))&&controls[_0x499380(0x35f)](_0x499380(0x396)+safeName+_0x499380(0x280));const _0xa450d1=document[_0x499380(0x33f)]('userOptions-'+_0x4235b3);_0xa450d1['style']['display']==='none'?_0xa450d1['style'][_0x499380(0x1bd)]=_0x572fa4[_0x499380(0x3a3)]:_0xa450d1[_0x499380(0x13d)][_0x499380(0x1bd)]=_0x572fa4[_0x499380(0x36b)];}function demoteUser(_0x28dc36){const _0x1605bf=_0x8331ae,_0x4f1a2a={'wSgJg':function(_0x35ca2a,_0x797e4a){return _0x35ca2a(_0x797e4a);},'cOChK':function(_0x2c41f1,_0x2434b9){return _0x2c41f1(_0x2434b9);},'XUzvT':function(_0xd882aa,_0x4ca23b){return _0xd882aa===_0x4ca23b;},'vDggO':'dev','zEoNm':_0x1605bf(0x1d0),'jejlU':function(_0x4a653e,_0x5887ce){return _0x4a653e(_0x5887ce);},'xzpkE':_0x1605bf(0x308)};if(_0x4f1a2a[_0x1605bf(0xd7)](isProtected,_0x28dc36))return _0x4f1a2a[_0x1605bf(0x38d)](alert,_0x1605bf(0x39e));if(_0x4f1a2a[_0x1605bf(0x1a7)](role,_0x4f1a2a['vDggO']))db[_0x1605bf(0x345)]('admins/'+roomCode+'/'+_0x28dc36)['remove'](),db['ref'](_0x1605bf(0x1ec)+roomCode+'/'+_0x28dc36)[_0x1605bf(0x1ed)](),_0x4f1a2a[_0x1605bf(0xd7)](alert,_0x28dc36+_0x1605bf(0x2ea)),addSystemMessage(_0x28dc36+_0x1605bf(0x2d5));else _0x4f1a2a['XUzvT'](role,_0x4f1a2a[_0x1605bf(0x12b)])?(db[_0x1605bf(0x345)](_0x1605bf(0x1ec)+roomCode+'/'+_0x28dc36)['remove'](),_0x4f1a2a[_0x1605bf(0xd7)](alert,_0x28dc36+_0x1605bf(0x2ea)),addSystemMessage(_0x28dc36+_0x1605bf(0x2d5))):_0x4f1a2a['jejlU'](alert,_0x4f1a2a['xzpkE']);}function getRoleTag(_0x1e81cd){const _0x5c91de=_0x8331ae,_0x1de260={'jnkFi':function(_0x37930c,_0x561902){return _0x37930c(_0x561902);}},_0x75df5e=_0x1de260[_0x5c91de(0x103)](sanitizeUsername,_0x1e81cd);if(globalDevs['includes'](_0x75df5e))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins[_0x5c91de(0x22c)](_0x75df5e))return _0x5c91de(0x2db);if(roomModerators[_0x5c91de(0x22c)](_0x75df5e))return _0x5c91de(0x25c);return'';}async function loadRoomRoles(){const _0x5596cb=_0x8331ae,_0x5388d9={'GhrDs':function(_0x3a56fd,_0x213ada){return _0x3a56fd===_0x213ada;},'YBdtE':'dev','JtQWo':function(_0x21ca36,_0x4b0736){return _0x21ca36(_0x4b0736);},'uVkTC':_0x5596cb(0x1be),'dXSER':_0x5596cb(0x109),'OfHtY':'user'},_0x4f649b=_0x5388d9[_0x5596cb(0x168)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x402338=await db[_0x5596cb(0x345)](_0x5388d9[_0x5596cb(0x17d)])[_0x5596cb(0x13e)]();_0x402338[_0x5596cb(0xe9)](_0x56aa59=>{const _0x26bd26=_0x5596cb;if(_0x5388d9['GhrDs'](_0x56aa59[_0x26bd26(0x3b9)]()[_0x26bd26(0x233)],_0x5388d9['YBdtE']))globalDevs[_0x26bd26(0x35f)](_0x56aa59[_0x26bd26(0x14a)]);});const _0x907de4=await db[_0x5596cb(0x345)]('admins/'+roomCode)['get']();_0x907de4[_0x5596cb(0xf0)]()&&_0x907de4[_0x5596cb(0xe9)](_0x18cce2=>roomAdmins['push'](_0x18cce2[_0x5596cb(0x14a)]));const _0x4dfbed=await db[_0x5596cb(0x345)](_0x5596cb(0x1ec)+roomCode)[_0x5596cb(0x13e)]();_0x4dfbed['exists']()&&_0x4dfbed[_0x5596cb(0xe9)](_0x8c51e6=>roomModerators[_0x5596cb(0x35f)](_0x8c51e6[_0x5596cb(0x14a)]));if(globalDevs['includes'](_0x4f649b))role=_0x5388d9[_0x5596cb(0xf1)];else{if(roomAdmins[_0x5596cb(0x22c)](_0x4f649b))role=_0x5596cb(0x1d0);else roomModerators[_0x5596cb(0x22c)](_0x4f649b)?role=_0x5388d9['dXSER']:role=_0x5388d9[_0x5596cb(0x250)];}}async function renderUserLists(_0x145c2e){const _0x53391d=_0x8331ae,_0xb6a38e={'tDPEF':function(_0x2b9651,_0x17565b){return _0x2b9651(_0x17565b);},'zAAzv':function(_0x2210f1,_0x3598f9){return _0x2210f1(_0x3598f9);},'fOhDA':function(_0x5df2fa,_0x3e1f46){return _0x5df2fa(_0x3e1f46);},'QnYMX':function(_0x3e396f,_0x545386){return _0x3e396f===_0x545386;},'WrIoA':function(_0x15aa9c,_0x3dd1ae){return _0x15aa9c(_0x3dd1ae);},'MnmUh':_0x53391d(0x105),'XwJhP':_0x53391d(0x1d0),'EDOqq':_0x53391d(0xbb),'YwJZU':'moderator','NKSoL':'adminControlsSection','CJqUT':_0x53391d(0x11a),'YtsAL':'none','GGleo':_0x53391d(0x3a5)};roomUsers=_0x145c2e;const _0xe5f626=sanitizeUsername(username),_0x540bc2=[_0xb6a38e[_0x53391d(0x23d)],_0xb6a38e[_0x53391d(0x375)],_0xb6a38e[_0x53391d(0x15c)],_0xb6a38e[_0x53391d(0x32b)]][_0x53391d(0x22c)](role);document['getElementById'](_0xb6a38e[_0x53391d(0x19a)])[_0x53391d(0x13d)]['display']=_0x540bc2?_0xb6a38e[_0x53391d(0x141)]:_0xb6a38e[_0x53391d(0x2d2)];const _0x537ecf=Object[_0x53391d(0x23e)](_0x145c2e)['map'](async([_0x5e12f6,_0x303c7e])=>{const _0x1b9de1=_0x53391d,_0x58a873=_0xb6a38e[_0x1b9de1(0x104)](sanitizeUsername,_0x303c7e[_0x1b9de1(0x33d)]||_0x5e12f6),_0x55783f=await _0xb6a38e['zAAzv'](fetchAvatar,_0x58a873),_0x4aaf30=_0x55783f?_0x1b9de1(0x1f8)+_0x55783f+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x2470c0=_0x303c7e['online']?_0x1b9de1(0x196):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return _0x1b9de1(0x18f)+_0x4aaf30+'\x20'+_0x2470c0+_0x1b9de1(0x1cb)+_0x58a873+_0x1b9de1(0x1b8)+(_0x303c7e[_0x1b9de1(0x33d)]||_0x5e12f6)+_0x1b9de1(0x260)+_0xb6a38e[_0x1b9de1(0x11b)](getRoleTag,_0x58a873)+_0x1b9de1(0x15d);});document['getElementById'](_0xb6a38e[_0x53391d(0x218)])[_0x53391d(0x128)]=(await Promise['all'](_0x537ecf))[_0x53391d(0x34e)]('');if(!_0x540bc2)return;const _0xf94d31=Object[_0x53391d(0x23e)](_0x145c2e)[_0x53391d(0x237)](async([_0x1f7e5a,_0x27bfb6])=>{const _0x191f0e=_0x53391d,_0x270092=sanitizeUsername(_0x27bfb6[_0x191f0e(0x33d)]||_0x1f7e5a);if(_0xb6a38e[_0x191f0e(0xd3)](_0x270092,_0xe5f626))return'';const _0x275a4b=globalDevs[_0x191f0e(0x22c)](_0x270092),_0x6aef23=await _0xb6a38e[_0x191f0e(0x2f6)](fetchAvatar,_0x270092),_0x4157ef=_0x6aef23?_0x191f0e(0x1f8)+_0x6aef23+_0x191f0e(0x235):'',_0x47b61d=_0x27bfb6[_0x191f0e(0x337)]?_0x191f0e(0x196):_0x191f0e(0x22e),_0xd40380=[];if(!_0x275a4b){[_0xb6a38e[_0x191f0e(0x32b)],_0x191f0e(0x109),_0xb6a38e[_0x191f0e(0x375)],_0xb6a38e[_0x191f0e(0x23d)]]['includes'](role)&&(_0xd40380['push'](_0x191f0e(0x34c)+_0x270092+'\x27,\x201)\x22>Mute\x201m</button>'),_0xd40380[_0x191f0e(0x35f)](_0x191f0e(0x34c)+_0x270092+_0x191f0e(0x1c1)),_0xd40380[_0x191f0e(0x35f)]('<button\x20onclick=\x22muteUser(\x27'+_0x270092+_0x191f0e(0x3ab)));if(role===_0xb6a38e[_0x191f0e(0x23d)])_0xd40380['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x270092+_0x191f0e(0xf7)),_0xd40380['push'](_0x191f0e(0x1c2)+_0x270092+_0x191f0e(0xb7)),_0xd40380[_0x191f0e(0x35f)](_0x191f0e(0x396)+_0x270092+'\x27)\x22>Demote</button>');else _0xb6a38e[_0x191f0e(0xd3)](role,_0xb6a38e[_0x191f0e(0x375)])&&(_0xd40380[_0x191f0e(0x35f)](_0x191f0e(0x272)+_0x270092+_0x191f0e(0xf7)),_0xd40380[_0x191f0e(0x35f)](_0x191f0e(0x396)+_0x270092+'\x27)\x22>Demote</button>'));}return _0x191f0e(0x219)+_0x4157ef+'\x20'+_0x47b61d+_0x191f0e(0x122)+(_0x27bfb6[_0x191f0e(0x33d)]||_0x1f7e5a)+'\x20'+getRoleTag(_0x270092)+_0x191f0e(0x10d)+_0xd40380['join']('\x20')+_0x191f0e(0xb5);});document[_0x53391d(0x33f)](_0x53391d(0x208))[_0x53391d(0x128)]=(await Promise[_0x53391d(0x238)](_0xf94d31))['join']('');}function updateAnnouncementVisibility(){const _0x12c436=_0x8331ae,_0x4994f2={'JVYku':_0x12c436(0x251),'DtKnQ':function(_0x44dd79,_0x1c3abb){return _0x44dd79===_0x1c3abb;},'VIzOL':'block','YWgTA':_0x12c436(0x2a5)},_0x4ecc07=document[_0x12c436(0x33f)](_0x4994f2[_0x12c436(0x2dd)]);_0x4994f2[_0x12c436(0x356)](role,'admin')||role===_0x12c436(0xbb)?_0x4ecc07[_0x12c436(0x13d)][_0x12c436(0x1bd)]=_0x4994f2[_0x12c436(0xb2)]:_0x4ecc07['style'][_0x12c436(0x1bd)]=_0x4994f2[_0x12c436(0xde)];}async function fetchAvatar(_0x57d744){const _0x2f8063=_0x8331ae;if(userAvatars[_0x57d744])return userAvatars[_0x57d744];const _0x1edd4b=await db[_0x2f8063(0x345)](_0x2f8063(0x305)+_0x57d744)[_0x2f8063(0x13e)]();if(_0x1edd4b[_0x2f8063(0xf0)]()&&_0x1edd4b[_0x2f8063(0x3b9)]()[_0x2f8063(0x2cd)])return userAvatars[_0x57d744]=_0x1edd4b['val']()[_0x2f8063(0x2cd)],userAvatars[_0x57d744];return null;}function sendTyping(){const _0x1380b4=_0x8331ae,_0x503903={'ouUcb':function(_0x2d9048,_0x365ca4){return _0x2d9048(_0x365ca4);},'YqNwS':function(_0x3a6803,_0x55bf2f,_0x195024){return _0x3a6803(_0x55bf2f,_0x195024);}},_0x565622=_0x503903['ouUcb'](sanitizeUsername,username),_0x142401=Date[_0x1380b4(0xfa)]();db['ref']('typing/'+roomCode+'/'+_0x565622)['set'](_0x142401);if(typingTimeout)_0x503903[_0x1380b4(0x1e7)](clearTimeout,typingTimeout);typingTimeout=_0x503903[_0x1380b4(0x2e3)](setTimeout,()=>{const _0x1b4de6=_0x1380b4;db[_0x1b4de6(0x345)]('typing/'+roomCode+'/'+_0x565622)['remove']();},0x1f4);}function listenForTyping(){const _0x54f21e=_0x8331ae,_0x628951={'YXKGt':_0x54f21e(0x1ff),'SEOlf':'value'};db[_0x54f21e(0x345)](_0x54f21e(0x26c)+roomCode)['on'](_0x628951['SEOlf'],_0x52d192=>{const _0x53e271=_0x54f21e,_0x58a674=document[_0x53e271(0x33f)](_0x628951[_0x53e271(0xce)]);if(!_0x52d192[_0x53e271(0xf0)]())return _0x58a674[_0x53e271(0x26e)]='';const _0x56acc9=Date['now'](),_0x4e569e=Object[_0x53e271(0x23e)](_0x52d192['val']())[_0x53e271(0x323)](([_0x3e532a,_0x34dec4])=>_0x3e532a!==sanitizeUsername(username)&&_0x56acc9-_0x34dec4<0x1388)[_0x53e271(0x237)](([_0x5753c8])=>_0x5753c8);_0x58a674[_0x53e271(0x26e)]=_0x4e569e[_0x53e271(0x232)]?_0x4e569e[_0x53e271(0x34e)](',\x20')+_0x53e271(0x285):'';});}function watchMuteStatus(){const _0xf7c98d=_0x8331ae,_0xe73f7a={'lLOhu':function(_0x232cdf,_0x5bf3ab){return _0x232cdf>_0x5bf3ab;},'WGMWK':function(_0x132e0e,_0x559354){return _0x132e0e(_0x559354);},'trQDk':_0xf7c98d(0x12e),'hQijf':_0xf7c98d(0x247),'cjWwY':function(_0x3a3135,_0x42381a){return _0x3a3135===_0x42381a;},'mOdzA':'object','iZcWa':function(_0x37ba98,_0x532dd1){return _0x37ba98>_0x532dd1;},'oJVDn':_0xf7c98d(0x35c),'QRgPG':function(_0x2e60c5,_0x45f828,_0x150f83){return _0x2e60c5(_0x45f828,_0x150f83);},'yafot':_0xf7c98d(0x28c)},_0x4a50a9=db[_0xf7c98d(0x345)]('muted/'+roomCode+'/'+sanitizeUsername(username));let _0x3f2550;_0x4a50a9['on'](_0xe73f7a[_0xf7c98d(0x2b3)],_0x46fed2=>{const _0x2ebba0=_0xf7c98d,_0x1feda8={'lxhvU':function(_0x51a976,_0x4a68a6){const _0x3f36fa=_0x4995;return _0xe73f7a[_0x3f36fa(0x2e5)](_0x51a976,_0x4a68a6);}};_0xe73f7a[_0x2ebba0(0x2fb)](clearInterval,_0x3f2550);const _0x2b086d=document[_0x2ebba0(0x33f)](_0xe73f7a[_0x2ebba0(0x20e)]);if(!_0x46fed2[_0x2ebba0(0xf0)]()){_0x2b086d[_0x2ebba0(0xf9)]=![],_0x2b086d[_0x2ebba0(0x326)]=_0xe73f7a[_0x2ebba0(0x35e)];return;}const _0x3f2498=_0x46fed2['val'](),_0x2a5bb0=_0xe73f7a[_0x2ebba0(0xfe)](typeof _0x3f2498,_0xe73f7a['mOdzA'])&&_0x3f2498[_0x2ebba0(0x1aa)]?_0x3f2498[_0x2ebba0(0x1aa)]:_0x3f2498;_0xe73f7a[_0x2ebba0(0x155)](_0x2a5bb0,Date['now']())?(_0x2b086d[_0x2ebba0(0xf9)]=!![],_0x2b086d[_0x2ebba0(0x326)]=_0xe73f7a[_0x2ebba0(0x1d3)],_0x3f2550=_0xe73f7a[_0x2ebba0(0x13c)](setInterval,()=>{const _0x279759=_0x2ebba0;_0x1feda8[_0x279759(0x2eb)](Date[_0x279759(0xfa)](),_0x2a5bb0)&&_0x4a50a9[_0x279759(0x1ed)]();},0xbb8)):(_0x2b086d[_0x2ebba0(0xf9)]=![],_0x2b086d['placeholder']=_0x2ebba0(0x247),_0x4a50a9[_0x2ebba0(0x1ed)]());});}function isProtected(_0x1c01b7){const _0x862c3b=_0x8331ae;return globalDevs[_0x862c3b(0x22c)](_0x1c01b7);}function addSystemMessage(_0x10b752){const _0x3bc8b7=_0x8331ae,_0x4ee2e3={'gVwcq':_0x3bc8b7(0x234),'KcXvZ':_0x3bc8b7(0xc4),'YxLcQ':_0x3bc8b7(0x29b)},_0x9b8b27=document[_0x3bc8b7(0x174)](_0x4ee2e3['gVwcq']);_0x9b8b27[_0x3bc8b7(0x13d)][_0x3bc8b7(0x3bf)]='center',_0x9b8b27[_0x3bc8b7(0x13d)]['fontSize']='0.8rem',_0x9b8b27[_0x3bc8b7(0x13d)][_0x3bc8b7(0x38e)]=_0x4ee2e3[_0x3bc8b7(0x33a)],_0x9b8b27[_0x3bc8b7(0x13d)]['margin']=_0x3bc8b7(0x2fd),_0x9b8b27['innerText']=_0x10b752,document['getElementById'](_0x4ee2e3[_0x3bc8b7(0x20d)])['appendChild'](_0x9b8b27),document[_0x3bc8b7(0x33f)](_0x4ee2e3[_0x3bc8b7(0x20d)])[_0x3bc8b7(0x154)]=document[_0x3bc8b7(0x33f)](_0x4ee2e3[_0x3bc8b7(0x20d)])[_0x3bc8b7(0x117)];}function reactToMessage(_0x1489b5,_0x1c76ca){const _0x4a0f8e=_0x8331ae,_0x1baeed={'FSNIZ':function(_0x24773b,_0x4d3336){return _0x24773b(_0x4d3336);},'yViTj':_0x4a0f8e(0x28c)},_0x2e4ce2=_0x1baeed[_0x4a0f8e(0xe7)](sanitizeUsername,username),_0x8f9b27=db['ref'](_0x4a0f8e(0x1a0)+roomCode+_0x4a0f8e(0x24f)+_0x1489b5+'/reactions');_0x8f9b27[_0x4a0f8e(0x2ca)](_0x1baeed['yViTj'])[_0x4a0f8e(0x24e)](_0x81208=>{const _0x4d81b5=_0x4a0f8e,_0x3ed65f=_0x81208['val']()||{},_0x32ab0a={};for(const [_0x9bc211,_0x2053d]of Object[_0x4d81b5(0x23e)](_0x3ed65f)){_0x32ab0a[_0x9bc211]=(_0x2053d||[])[_0x4d81b5(0x323)](_0x1c6371=>_0x1c6371!==_0x2e4ce2);}if(!_0x3ed65f[_0x1c76ca]||!_0x3ed65f[_0x1c76ca][_0x4d81b5(0x22c)](_0x2e4ce2)){if(!_0x32ab0a[_0x1c76ca])_0x32ab0a[_0x1c76ca]=[];_0x32ab0a[_0x1c76ca]['push'](_0x2e4ce2);}_0x8f9b27[_0x4d81b5(0x1d1)](_0x32ab0a);});}function startSidebarSyncLoop(){const _0x352294=_0x8331ae,_0x324ef1={'WHeks':function(_0x20936a,_0x644f59,_0x464a24){return _0x20936a(_0x644f59,_0x464a24);}};_0x324ef1[_0x352294(0xac)](setInterval,async()=>{const _0x26fb65=_0x352294;if(!roomCode)return;const _0x41eeff=await db[_0x26fb65(0x345)](_0x26fb65(0x37c)+roomCode)[_0x26fb65(0x13e)]();if(_0x41eeff[_0x26fb65(0xf0)]()){const _0x35322e=_0x41eeff[_0x26fb65(0x3b9)]();renderUserLists(_0x35322e);}},0x1388);}function gotoRoomMenu(){const _0x276a23=_0x8331ae,_0x2b9427={'nLSDW':_0x276a23(0xe4),'vrpdP':function(_0x56ac35,_0x4d89c1){return _0x56ac35(_0x4d89c1);},'PKQBM':_0x276a23(0x14e)};document[_0x276a23(0x33f)](_0x2b9427[_0x276a23(0x276)])[_0x276a23(0x26e)]=username,_0x2b9427[_0x276a23(0x3c2)](showScreen,_0x2b9427[_0x276a23(0x33b)]);}function redirectTo2048(){const _0x5a4df2=_0x8331ae,_0x4992cc={'OZlDT':_0x5a4df2(0x108),'QVSmQ':function(_0x53707c,_0x41e2f4){return _0x53707c||_0x41e2f4;},'CuhNj':function(_0x3b84ef,_0x544308){return _0x3b84ef(_0x544308);},'oFsDx':_0x5a4df2(0x1d6),'UTggv':function(_0x191757,_0x3efa70){return _0x191757(_0x3efa70);}},_0x20f881=localStorage['getItem'](_0x5a4df2(0x342)),_0xfb1f79=localStorage['getItem'](_0x4992cc[_0x5a4df2(0x33e)]);if(_0x4992cc[_0x5a4df2(0x22a)](!_0xfb1f79,!_0x20f881)){_0x4992cc[_0x5a4df2(0x2ac)](alert,_0x4992cc['oFsDx']);return;}window[_0x5a4df2(0x35b)][_0x5a4df2(0x21e)]='https://2048.webuserent.org?token='+_0x4992cc[_0x5a4df2(0x100)](encodeURIComponent,_0x20f881);}