const _0x5366a4=_0x31be;(function(_0x425880,_0x3cb58e){const _0x28585e=_0x31be,_0x3c3513=_0x425880();while(!![]){try{const _0x480a02=-parseInt(_0x28585e(0x379))/0x1+-parseInt(_0x28585e(0x287))/0x2+-parseInt(_0x28585e(0x3ed))/0x3+parseInt(_0x28585e(0x269))/0x4+parseInt(_0x28585e(0x47f))/0x5*(-parseInt(_0x28585e(0x38a))/0x6)+-parseInt(_0x28585e(0x3b1))/0x7+parseInt(_0x28585e(0x3e5))/0x8*(parseInt(_0x28585e(0x2a9))/0x9);if(_0x480a02===_0x3cb58e)break;else _0x3c3513['push'](_0x3c3513['shift']());}catch(_0x27a8c8){_0x3c3513['push'](_0x3c3513['shift']());}}}(_0x4d1c,0x6e8d8));const firebaseConfig={'apiKey':_0x5366a4(0x291),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x5366a4(0x392),'messagingSenderId':_0x5366a4(0x331),'appId':_0x5366a4(0x29a),'measurementId':_0x5366a4(0x2f8)};firebase[_0x5366a4(0x432)](firebaseConfig);const db=firebase[_0x5366a4(0x27d)]();let deviceId=null;((async()=>{const _0x2d106c=_0x5366a4,_0x2af84f={'RIOpv':function(_0x563260){return _0x563260();}};deviceId=await _0x2af84f[_0x2d106c(0x306)](generateDeviceId);})());const swearWords=[_0x5366a4(0x1fa),_0x5366a4(0x48e),_0x5366a4(0x2bc),_0x5366a4(0x2d1),_0x5366a4(0x465),_0x5366a4(0x233),_0x5366a4(0x26b),_0x5366a4(0x27c),_0x5366a4(0x409),'pendejo','co√±o','cabron',_0x5366a4(0x314),_0x5366a4(0x484),_0x5366a4(0x301),_0x5366a4(0x201),_0x5366a4(0x27c),_0x5366a4(0x221),_0x5366a4(0x367),'putangina',_0x5366a4(0x292),_0x5366a4(0x458),_0x5366a4(0x373),'bobo',_0x5366a4(0x36a),_0x5366a4(0x3d4)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x5366a4(0x2f7)]()[_0x5366a4(0x203)](0x24)[_0x5366a4(0x49d)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x5366a4(0x2a7),MAX_MESSAGES=0xfa,sound=new Audio(_0x5366a4(0x356));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0xd7042e=_0x5366a4,_0x29946d={'Jiwxi':function(_0x96c11e,_0x59100f){return _0x96c11e+_0x59100f;},'trhUJ':function(_0x4a3eb8,_0xc5d761){return _0x4a3eb8(_0xc5d761);},'erYWi':function(_0x50357f,_0x55f11b){return _0x50357f+_0x55f11b;}},_0x17f339=_0x29946d[_0xd7042e(0x450)](navigator[_0xd7042e(0x434)],screen['width'])+screen['height'],_0x3b36c8=await _0x29946d['trhUJ'](sha256,_0x17f339);return _0x29946d[_0xd7042e(0x2fb)]('_',_0x3b36c8['substr'](0x0,0x14));}function sha256(_0x505623){const _0x32b4f0=_0x5366a4,_0x5a3271={'eRPgi':_0x32b4f0(0x490)},_0x38322d=new TextEncoder()['encode'](_0x505623);return crypto['subtle']['digest'](_0x5a3271['eRPgi'],_0x38322d)[_0x32b4f0(0x36c)](_0x5edcf0=>{const _0x294505=_0x32b4f0;return Array[_0x294505(0x493)](new Uint8Array(_0x5edcf0))[_0x294505(0x216)](_0x5d4cfa=>_0x5d4cfa[_0x294505(0x203)](0x10)['padStart'](0x2,'0'))[_0x294505(0x369)]('');});}function toggleNotifications(){const _0x39bc90=_0x5366a4,_0x256dee={'mBQsD':function(_0x11adaf,_0xd7935){return _0x11adaf===_0xd7935;},'cYEAv':_0x39bc90(0x3c6),'cMzUH':'notifToggleBtn','JRDFs':'üîï\x20Disable\x20Notifications','abjBC':function(_0x564241,_0x27ae0f){return _0x564241!==_0x27ae0f;},'Bszka':_0x39bc90(0x309),'iDfIG':_0x39bc90(0x290),'xQMNh':_0x39bc90(0x31a)};_0x256dee[_0x39bc90(0x482)](Notification['permission'],_0x256dee['cYEAv'])?Notification[_0x39bc90(0x29e)]()[_0x39bc90(0x36c)](_0x6d2f7d=>{const _0x13adb9=_0x39bc90;_0x256dee[_0x13adb9(0x470)](_0x6d2f7d,_0x256dee[_0x13adb9(0x2ec)])&&(notificationsEnabled=!![],localStorage[_0x13adb9(0x3aa)](_0x13adb9(0x309),_0x13adb9(0x290)),document[_0x13adb9(0x473)](_0x256dee[_0x13adb9(0x42a)])[_0x13adb9(0x251)]=_0x256dee[_0x13adb9(0x35d)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x39bc90(0x3aa)](_0x256dee[_0x39bc90(0x308)],notificationsEnabled?_0x256dee[_0x39bc90(0x1f8)]:'false'),document[_0x39bc90(0x473)](_0x256dee[_0x39bc90(0x42a)])['innerText']=notificationsEnabled?_0x256dee[_0x39bc90(0x35d)]:_0x256dee['xQMNh']);}function toggleAuthMode(){const _0x5d2ccd=_0x5366a4,_0xb8206f={'kaPsT':_0x5d2ccd(0x421),'DcQPL':_0x5d2ccd(0x43c),'Wkbki':'Register','bLlds':_0x5d2ccd(0x3e7),'WrSEc':_0x5d2ccd(0x310),'cyMzT':_0x5d2ccd(0x389),'FADyk':_0x5d2ccd(0x353),'nlTmq':_0x5d2ccd(0x408),'IIyJu':'authSubmitBtn','qqOno':_0x5d2ccd(0x39e)},_0x16ba1f=_0xb8206f[_0x5d2ccd(0x2ad)][_0x5d2ccd(0x1f6)]('|');let _0x2e0220=0x0;while(!![]){switch(_0x16ba1f[_0x2e0220++]){case'0':document[_0x5d2ccd(0x473)](_0xb8206f[_0x5d2ccd(0x227)])[_0x5d2ccd(0x251)]=isRegisterMode?_0xb8206f[_0x5d2ccd(0x1f3)]:_0x5d2ccd(0x39e);continue;case'1':document['getElementById'](_0xb8206f[_0x5d2ccd(0x2a5)])[_0x5d2ccd(0x37a)]['display']=isRegisterMode?_0xb8206f[_0x5d2ccd(0x22e)]:_0xb8206f[_0x5d2ccd(0x410)];continue;case'2':document[_0x5d2ccd(0x473)](_0x5d2ccd(0x48f))['style'][_0x5d2ccd(0x32a)]=isRegisterMode?_0xb8206f['WrSEc']:_0xb8206f[_0x5d2ccd(0x410)];continue;case'3':document[_0x5d2ccd(0x473)](_0x5d2ccd(0x425))[_0x5d2ccd(0x37a)][_0x5d2ccd(0x32a)]=_0xb8206f['cyMzT'];continue;case'4':isRegisterMode=!isRegisterMode;continue;case'5':document[_0x5d2ccd(0x473)](_0xb8206f[_0x5d2ccd(0x2fd)])[_0x5d2ccd(0x37a)]['display']=_0xb8206f[_0x5d2ccd(0x410)];continue;case'6':document[_0x5d2ccd(0x473)](_0xb8206f['nlTmq'])[_0x5d2ccd(0x37a)]['display']=isRegisterMode?_0xb8206f[_0x5d2ccd(0x22e)]:_0xb8206f[_0x5d2ccd(0x410)];continue;case'7':document[_0x5d2ccd(0x473)](_0xb8206f[_0x5d2ccd(0x229)])['innerText']=isRegisterMode?_0xb8206f[_0x5d2ccd(0x1f3)]:_0xb8206f[_0x5d2ccd(0x385)];continue;}break;}}function previewAvatar(){const _0x1fccc6=_0x5366a4,_0x40a8fb={'TutAW':_0x1fccc6(0x425),'vJcbO':_0x1fccc6(0x310),'RJqVf':_0x1fccc6(0x48f)},_0x55b67a=document[_0x1fccc6(0x473)](_0x40a8fb[_0x1fccc6(0x270)]);if(!_0x55b67a[_0x1fccc6(0x2bd)]['length'])return;const _0x396911=new FileReader();_0x396911['onloadend']=()=>{const _0x44a832=_0x1fccc6;document[_0x44a832(0x473)](_0x40a8fb[_0x44a832(0x3a9)])['src']=_0x396911['result'],document[_0x44a832(0x473)](_0x40a8fb[_0x44a832(0x3a9)])[_0x44a832(0x37a)]['display']=_0x40a8fb[_0x44a832(0x397)];},_0x396911[_0x1fccc6(0x3db)](_0x55b67a[_0x1fccc6(0x2bd)][0x0]);}async function submitAuth(){const _0x54ab9a=_0x5366a4,_0x81f2ab={'abNQG':function(_0x203673,_0x881c15){return _0x203673||_0x881c15;},'empUG':_0x54ab9a(0x2e7),'UwsJC':function(_0x52a066){return _0x52a066();},'xladR':_0x54ab9a(0x34c),'BuOQo':'authPassword','cOAVg':_0x54ab9a(0x408),'IbXIL':_0x54ab9a(0x353),'IUonn':_0x54ab9a(0x389),'Rkdje':function(_0x40da41,_0x4cf3ae){return _0x40da41||_0x4cf3ae;},'LrgdZ':'Please\x20fill\x20in\x20all\x20fields.','WofmL':_0x54ab9a(0x310),'eOVDy':function(_0x2cf7e7,_0xdefe77){return _0x2cf7e7(_0xdefe77);},'AqucR':_0x54ab9a(0x3fa),'MOZrI':function(_0x35cd23,_0x2163f2){return _0x35cd23!==_0x2163f2;},'aSxwP':'Passwords\x20do\x20not\x20match.','ZCLPe':'1|4|0|2|5|3','AGXVm':function(_0x53785a,_0x3b08a5){return _0x53785a||_0x3b08a5;},'GAfGo':function(_0x2b43cb){return _0x2b43cb();},'UBbcS':'Account\x20not\x20found.'},_0x51870a=document[_0x54ab9a(0x473)](_0x81f2ab['xladR'])[_0x54ab9a(0x3b3)][_0x54ab9a(0x3ba)](),_0x2a845b=document[_0x54ab9a(0x473)](_0x81f2ab[_0x54ab9a(0x240)])[_0x54ab9a(0x3b3)][_0x54ab9a(0x3ba)](),_0x592671=document['getElementById'](_0x54ab9a(0x3e7))[_0x54ab9a(0x3b3)][_0x54ab9a(0x3ba)](),_0x1587d0=document['getElementById'](_0x81f2ab['cOAVg'])[_0x54ab9a(0x3b3)][_0x54ab9a(0x3ba)](),_0xbfb655=document[_0x54ab9a(0x473)](_0x54ab9a(0x48f)),_0x50a673=document[_0x54ab9a(0x473)](_0x81f2ab[_0x54ab9a(0x424)]);_0x50a673[_0x54ab9a(0x37a)][_0x54ab9a(0x32a)]=_0x81f2ab[_0x54ab9a(0x2ab)];if(_0x81f2ab[_0x54ab9a(0x250)](!_0x51870a,!_0x2a845b)){_0x50a673[_0x54ab9a(0x251)]=_0x81f2ab[_0x54ab9a(0x3ab)],_0x50a673[_0x54ab9a(0x37a)][_0x54ab9a(0x32a)]=_0x81f2ab[_0x54ab9a(0x483)];return;}const _0x376385=_0x81f2ab['eOVDy'](sanitizeUsername,_0x51870a),_0x541dfe=db['ref'](_0x54ab9a(0x2cc)+_0x376385),_0x1b6dd9=await _0x541dfe[_0x54ab9a(0x3dc)]();if(isRegisterMode){if(_0x1b6dd9[_0x54ab9a(0x26a)]()){_0x50a673[_0x54ab9a(0x251)]=_0x81f2ab[_0x54ab9a(0x461)],_0x50a673[_0x54ab9a(0x37a)]['display']=_0x81f2ab['WofmL'];return;}if(_0x81f2ab['MOZrI'](_0x2a845b,_0x592671)){_0x50a673[_0x54ab9a(0x251)]=_0x81f2ab[_0x54ab9a(0x30f)],_0x50a673[_0x54ab9a(0x37a)][_0x54ab9a(0x32a)]=_0x81f2ab[_0x54ab9a(0x483)];return;}const _0x2284f0=await _0x81f2ab['eOVDy'](sha256,_0x2a845b),_0x5b01b0=await generateDeviceId();if(_0xbfb655[_0x54ab9a(0x2bd)][_0x54ab9a(0x2a0)]){const _0x3c13e0=_0xbfb655[_0x54ab9a(0x2bd)][0x0],_0x2975e7=new FileReader();_0x2975e7['onloadend']=async()=>{const _0x3d38dd=_0x54ab9a,_0x399f97=_0x2975e7[_0x3d38dd(0x315)][_0x3d38dd(0x1f6)](',')[0x1];await _0x541dfe['set']({'username':_0x51870a,'passwordHash':_0x2284f0,'description':_0x81f2ab['abNQG'](_0x1587d0,''),'avatarBase64':_0x399f97,'role':_0x81f2ab[_0x3d38dd(0x228)],'deviceId':_0x5b01b0,'usernameHistory':[_0x51870a],'lastChanged':Date['now']()}),username=_0x51870a,userDescription=_0x1587d0,avatarBase64=_0x399f97,role=_0x81f2ab[_0x3d38dd(0x228)],_0x81f2ab['UwsJC'](startAfterAuth);},_0x2975e7['readAsDataURL'](_0x3c13e0);}else{const _0x3973d5=_0x81f2ab['ZCLPe'][_0x54ab9a(0x1f6)]('|');let _0x1aab53=0x0;while(!![]){switch(_0x3973d5[_0x1aab53++]){case'0':userDescription=_0x1587d0;continue;case'1':await _0x541dfe[_0x54ab9a(0x22a)]({'username':_0x51870a,'passwordHash':_0x2284f0,'description':_0x81f2ab[_0x54ab9a(0x442)](_0x1587d0,''),'avatarBase64':'','role':_0x81f2ab[_0x54ab9a(0x228)],'deviceId':_0x5b01b0,'usernameHistory':[_0x51870a],'lastChanged':Date['now']()});continue;case'2':avatarBase64='';continue;case'3':_0x81f2ab[_0x54ab9a(0x3dd)](startAfterAuth);continue;case'4':username=_0x51870a;continue;case'5':role=_0x81f2ab[_0x54ab9a(0x228)];continue;}break;}}}else{if(!_0x1b6dd9['exists']()){_0x50a673[_0x54ab9a(0x251)]=_0x81f2ab[_0x54ab9a(0x2e3)],_0x50a673[_0x54ab9a(0x37a)][_0x54ab9a(0x32a)]=_0x81f2ab['WofmL'];return;}const _0x2542f9=_0x1b6dd9[_0x54ab9a(0x3b9)](),_0x4a09cd=await _0x81f2ab[_0x54ab9a(0x481)](sha256,_0x2a845b);if(_0x81f2ab[_0x54ab9a(0x25f)](_0x4a09cd,_0x2542f9[_0x54ab9a(0x41e)])){_0x50a673[_0x54ab9a(0x251)]=_0x54ab9a(0x30c),_0x50a673['style'][_0x54ab9a(0x32a)]=_0x81f2ab['WofmL'];return;}username=_0x51870a;if(_0x2542f9[_0x54ab9a(0x22d)])userDescription=_0x2542f9[_0x54ab9a(0x22d)];if(_0x2542f9[_0x54ab9a(0x2f4)])avatarBase64=_0x2542f9[_0x54ab9a(0x2f4)];if(_0x2542f9['role'])role=_0x2542f9[_0x54ab9a(0x20e)];else role=_0x81f2ab[_0x54ab9a(0x228)];_0x81f2ab[_0x54ab9a(0x3d0)](startAfterAuth);}}async function saveNewUser(_0x240369,_0x364361,_0x1eb821,_0x39a060,_0x14e793){const _0x4dd869=_0x5366a4,_0x24bc8b={'nuGVj':function(_0x1d3e67,_0x15bfa4){return _0x1d3e67(_0x15bfa4);},'XnpkM':_0x4dd869(0x2e7),'PeVbl':function(_0x278a9b,_0x160ce0){return _0x278a9b||_0x160ce0;},'QMYUJ':function(_0x5a1eef){return _0x5a1eef();}},_0x21afbb=db[_0x4dd869(0x252)](_0x4dd869(0x2cc)+_0x24bc8b[_0x4dd869(0x21a)](sanitizeUsername,_0x240369)),_0x4d0900={'username':_0x240369,'passwordHash':_0x364361,'role':_0x24bc8b['XnpkM'],'deviceId':_0x1eb821,'description':_0x24bc8b[_0x4dd869(0x378)](_0x14e793,''),'avatarBase64':_0x24bc8b[_0x4dd869(0x378)](_0x39a060,''),'usernameHistory':[_0x240369],'lastChanged':Date[_0x4dd869(0x453)]()};await _0x21afbb[_0x4dd869(0x22a)](_0x4d0900),username=_0x240369,_0x39a060=_0x4d0900['avatarBase64'],userDescription=_0x4d0900[_0x4dd869(0x22d)],_0x24bc8b[_0x4dd869(0x435)](startAfterAuth);}async function startAfterAuth(){const _0x10ee1a=_0x5366a4,_0x552d9c={'dBsHt':_0x10ee1a(0x2e7),'zLfQS':function(_0x36cd7e,_0x10fa5d){return _0x36cd7e+_0x10fa5d;},'syRNW':_0x10ee1a(0x30a),'LGRXN':'block','enfDL':'User\x20profile\x20not\x20found\x20in\x20auth\x20database.','ZjuDz':function(_0xfd777a){return _0xfd777a();},'fbqFk':function(_0x37bc3e,_0x1a1720){return _0x37bc3e(_0x1a1720);},'SGcXn':'roomChoiceScreen'},_0x3364a2=sanitizeUsername(username),_0x49ebb4=db['ref']('auth/'+_0x3364a2),_0x4b69be=await _0x49ebb4['get']();if(_0x4b69be['exists']()){const _0x302814=_0x4b69be[_0x10ee1a(0x3b9)]();username=_0x302814[_0x10ee1a(0x3e8)],userDescription=_0x302814[_0x10ee1a(0x22d)]||'',avatarBase64=_0x302814[_0x10ee1a(0x2f4)]||'',role=_0x302814[_0x10ee1a(0x20e)]||_0x552d9c[_0x10ee1a(0x3df)];if(avatarBase64){const _0x570057=document[_0x10ee1a(0x473)](_0x10ee1a(0x35a));_0x570057[_0x10ee1a(0x3d9)]=_0x552d9c[_0x10ee1a(0x288)](_0x552d9c[_0x10ee1a(0x2da)],avatarBase64),_0x570057['style'][_0x10ee1a(0x32a)]=_0x552d9c[_0x10ee1a(0x2d2)];}}else console['warn'](_0x552d9c[_0x10ee1a(0x321)]);await _0x552d9c[_0x10ee1a(0x2f1)](loadRoomRoles),document[_0x10ee1a(0x473)](_0x10ee1a(0x257))[_0x10ee1a(0x251)]=username,_0x552d9c[_0x10ee1a(0x3a8)](showScreen,_0x552d9c[_0x10ee1a(0x452)]);}function toggleRecording(){const _0x17a698=_0x5366a4,_0x35938d={'lsthS':function(_0x14b032,_0x5ba372){return _0x14b032&&_0x5ba372;},'LDCHK':function(_0x572fc6){return _0x572fc6();},'yGcIB':function(_0x2cab67,_0x454014){return _0x2cab67(_0x454014);},'xJgWJ':_0x17a698(0x2f5),'xhcMK':function(_0x1c1024,_0x4176fc,_0x5cb5a9){return _0x1c1024(_0x4176fc,_0x5cb5a9);},'aAKMn':_0x17a698(0x47b)};isRecording?_0x35938d[_0x17a698(0x430)](stopRecording):navigator[_0x17a698(0x305)][_0x17a698(0x380)]({'audio':!![]})[_0x17a698(0x36c)](_0x1707d5=>{const _0x473157=_0x17a698,_0x3d4f4e={'VUdHU':function(_0x435d8e,_0x55c052){const _0x124768=_0x31be;return _0x35938d[_0x124768(0x3a6)](_0x435d8e,_0x55c052);}};mediaRecorder=new MediaRecorder(_0x1707d5),mediaRecorder[_0x473157(0x297)](),isRecording=!![],document['getElementById'](_0x35938d['xJgWJ'])[_0x473157(0x251)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x473157(0x431)]=_0x499ebf=>audioChunks[_0x473157(0x374)](_0x499ebf['data']),mediaRecorder[_0x473157(0x375)]=()=>{const _0x339a71=_0x473157;_0x3d4f4e[_0x339a71(0x3bc)](clearTimeout,recordingTimer);const _0x5da92a=new Blob(audioChunks,{'type':_0x339a71(0x41c)}),_0x139537=new FileReader();_0x139537[_0x339a71(0x2b6)]=()=>{const _0x3d799e=_0x339a71,_0x33c955=_0x139537[_0x3d799e(0x315)][_0x3d799e(0x1f6)](',')[0x1],_0x157d45=db[_0x3d799e(0x252)]()[_0x3d799e(0x374)]()['key'];db['ref'](_0x3d799e(0x217)+roomCode+_0x3d799e(0x427)+_0x157d45)['set']({'msg':_0x3d799e(0x498),'audioBase64':_0x33c955,'sender':username,'senderId':clientId,'timestamp':Date[_0x3d799e(0x453)]()});},_0x139537[_0x339a71(0x3db)](_0x5da92a);},recordingTimer=_0x35938d[_0x473157(0x441)](setTimeout,()=>{const _0x24cb38=_0x473157;_0x35938d[_0x24cb38(0x261)](mediaRecorder,isRecording)&&_0x35938d[_0x24cb38(0x430)](stopRecording);},0x4e20);})[_0x17a698(0x39d)](_0x32d0be=>{const _0xfb9e93=_0x17a698;alert(_0x35938d[_0xfb9e93(0x447)]);});}function stopRecording(){const _0x49f6d5=_0x5366a4,_0x4f7471={'rFjmZ':function(_0x21d899,_0x54bb75){return _0x21d899&&_0x54bb75;},'gmCvd':'recordBtn'};_0x4f7471[_0x49f6d5(0x22f)](mediaRecorder,isRecording)&&(mediaRecorder[_0x49f6d5(0x42c)](),isRecording=![],document[_0x49f6d5(0x473)](_0x4f7471['gmCvd'])[_0x49f6d5(0x251)]=_0x49f6d5(0x3fc));}window[_0x5366a4(0x2ed)]=async()=>{const _0x11fd51=_0x5366a4,_0x2c1ec9={'JOFqf':function(_0x1a53cb){return _0x1a53cb();},'evFRK':function(_0x3cb7e6){return _0x3cb7e6();},'gPVlG':function(_0x1577be){return _0x1577be();},'TdvuU':_0x11fd51(0x309),'zOdLq':function(_0x34710a,_0x405ae1){return _0x34710a===_0x405ae1;},'kCwGT':_0x11fd51(0x290),'qYuPj':function(_0x2f7e39,_0x212a9f){return _0x2f7e39(_0x212a9f);},'VKQFX':'authScreen'};_0x2c1ec9[_0x11fd51(0x248)](cleanupOldRooms),setupSidebarBackHandler(),_0x2c1ec9[_0x11fd51(0x3da)](setupVisibilityAttention),_0x2c1ec9[_0x11fd51(0x33a)](resetWebsiteData);const _0x5838f0=localStorage['getItem'](_0x2c1ec9[_0x11fd51(0x223)]);notificationsEnabled=_0x2c1ec9[_0x11fd51(0x28e)](_0x5838f0,_0x2c1ec9[_0x11fd51(0x20d)]),_0x2c1ec9[_0x11fd51(0x263)](showScreen,_0x2c1ec9[_0x11fd51(0x328)]);};function sanitizeUsername(_0x474d04){return _0x474d04['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x32ec7f=_0x5366a4,_0x3f4b41={'jvdbN':_0x32ec7f(0x42d),'lCGSD':_0x32ec7f(0x2e1),'VRsyt':_0x32ec7f(0x310),'QGvbW':'Error\x20checking\x20username:','jCbnL':'‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','ZmlDd':_0x32ec7f(0x40a),'TkFul':_0x32ec7f(0x344),'DnXNQ':function(_0x1393ee,_0x5e5fd5){return _0x1393ee||_0x5e5fd5;},'FLwRY':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','ZfuIR':function(_0x295d66,_0x2d307c){return _0x295d66(_0x2d307c);},'OHuor':'value'},_0x2ba1f5=document['getElementById'](_0x3f4b41[_0x32ec7f(0x40c)])[_0x32ec7f(0x3b3)][_0x32ec7f(0x3ba)](),_0x5a9ca6=document['getElementById'](_0x3f4b41[_0x32ec7f(0x1fe)])[_0x32ec7f(0x3b3)][_0x32ec7f(0x3ba)](),_0x10bbb1=document[_0x32ec7f(0x473)](_0x32ec7f(0x281));if(_0x3f4b41[_0x32ec7f(0x21d)](!_0x2ba1f5,!_0x5a9ca6)){_0x10bbb1['innerText']=_0x3f4b41[_0x32ec7f(0x45b)],_0x10bbb1[_0x32ec7f(0x37a)][_0x32ec7f(0x32a)]=_0x32ec7f(0x310);return;}const _0x2c57bd=_0x3f4b41[_0x32ec7f(0x2e5)](sanitizeUsername,_0x2ba1f5),_0x325612=db[_0x32ec7f(0x252)](_0x32ec7f(0x49e)+_0x2c57bd);_0x325612['once'](_0x3f4b41['OHuor'])['then'](_0x3e06ba=>{const _0x52aa8b=_0x32ec7f,_0x2a4de7={'COehA':_0x3f4b41['jvdbN'],'ADnWJ':_0x52aa8b(0x310),'iBUOu':_0x52aa8b(0x357)};if(_0x3e06ba['exists']())_0x10bbb1[_0x52aa8b(0x251)]=_0x3f4b41[_0x52aa8b(0x25a)],_0x10bbb1['style'][_0x52aa8b(0x32a)]=_0x3f4b41[_0x52aa8b(0x475)];else{const _0x4db52c={'username':_0x2ba1f5,'description':_0x5a9ca6,'lastChanged':Date['now'](),'usernameHistory':[_0x2ba1f5]};_0x325612['set'](_0x4db52c,_0xd3a742=>{const _0x1f7dda=_0x52aa8b;_0xd3a742?(console[_0x1f7dda(0x206)](_0x2a4de7[_0x1f7dda(0x47d)],_0xd3a742),_0x10bbb1[_0x1f7dda(0x251)]=_0x1f7dda(0x31d),_0x10bbb1[_0x1f7dda(0x37a)][_0x1f7dda(0x32a)]=_0x2a4de7[_0x1f7dda(0x326)]):(localStorage[_0x1f7dda(0x3aa)]('chat_username',_0x2ba1f5),localStorage[_0x1f7dda(0x3aa)](_0x2a4de7[_0x1f7dda(0x32f)],_0x5a9ca6),username=_0x2ba1f5,document[_0x1f7dda(0x473)](_0x1f7dda(0x257))['innerText']=_0x2ba1f5,showScreen('roomChoiceScreen'));});}})[_0x32ec7f(0x39d)](_0x2e3269=>{const _0x3c94a6=_0x32ec7f;console[_0x3c94a6(0x206)](_0x3f4b41[_0x3c94a6(0x32c)],_0x2e3269),_0x10bbb1['innerText']=_0x3f4b41[_0x3c94a6(0x2c7)],_0x10bbb1[_0x3c94a6(0x37a)][_0x3c94a6(0x32a)]=_0x3f4b41[_0x3c94a6(0x475)];});}function saveProfile(_0x539703,_0x3a1870,_0x3af31e){const _0x1d988e=_0x5366a4,_0x3793f4={'DntNt':_0x1d988e(0x2c9)},_0x44bc7f=Date[_0x1d988e(0x453)](),_0x556c06=[_0x539703];db[_0x1d988e(0x252)](_0x1d988e(0x49e)+_0x3af31e)['set']({'username':_0x539703,'description':_0x3a1870,'lastChanged':_0x44bc7f,'usernameHistory':_0x556c06}),document['getElementById'](_0x1d988e(0x257))[_0x1d988e(0x251)]=_0x539703,showScreen(_0x3793f4[_0x1d988e(0x3d5)]);}function generateRoom(){const _0x3048ee=_0x5366a4,_0x918e8e={'zcETB':function(_0x77d943){return _0x77d943();},'HIMof':function(_0x3ecd40,_0x35f887){return _0x3ecd40+_0x35f887;}};roomCode=_0x918e8e['zcETB'](genRoomCode),db['ref'](_0x918e8e[_0x3048ee(0x444)](_0x3048ee(0x217),roomCode))[_0x3048ee(0x22a)]({'active':!![],'created':Date[_0x3048ee(0x453)]()}),_0x918e8e[_0x3048ee(0x25b)](startChat);}function joinRoom(){const _0x4c9d2a=_0x5366a4,_0x44600b={'TBBYC':_0x4c9d2a(0x2c3),'FUkeP':function(_0x263e5a,_0x3688c8){return _0x263e5a(_0x3688c8);},'gDxfz':_0x4c9d2a(0x383),'RfyzE':function(_0x3b92a6,_0x3c684c){return _0x3b92a6(_0x3c684c);},'SEmak':'passwordScreen','wrcxL':function(_0x395582,_0x5d0514){return _0x395582+_0x5d0514;},'AFLkk':_0x4c9d2a(0x217)},_0x1ff667=roomCode||document[_0x4c9d2a(0x473)](_0x4c9d2a(0x230))[_0x4c9d2a(0x3b3)][_0x4c9d2a(0x3ba)]()[_0x4c9d2a(0x235)]();if(!_0x1ff667)return _0x44600b[_0x4c9d2a(0x259)](alert,_0x44600b[_0x4c9d2a(0x3fd)]);roomCode=_0x1ff667;if(roomCode===STATIC_ROOM){_0x44600b['RfyzE'](showScreen,_0x44600b[_0x4c9d2a(0x382)]);return;}db['ref'](_0x44600b[_0x4c9d2a(0x28f)](_0x44600b[_0x4c9d2a(0x459)],roomCode))[_0x4c9d2a(0x3dc)]()['then'](_0x22fa46=>{const _0x52f8a4=_0x4c9d2a;_0x22fa46[_0x52f8a4(0x26a)]()&&_0x22fa46[_0x52f8a4(0x3b9)]()['active']!==![]?startChat():alert(_0x44600b[_0x52f8a4(0x214)]);});}async function startChat(){const _0x179e37=_0x5366a4,_0x509a25={'zAwAw':function(_0x2c35ad,_0x2accec){return _0x2c35ad===_0x2accec;},'DqWod':function(_0x5b8c71,_0x43afb3){return _0x5b8c71===_0x43afb3;},'WvKdJ':function(_0x39a6b9,_0x4ec883){return _0x39a6b9(_0x4ec883);},'SmAQF':'Failed\x20to\x20register\x20user\x20into\x20room.','zAFSj':_0x179e37(0x2c9),'dQGGH':_0x179e37(0x35a),'OQZZC':function(_0x273d34,_0x356b0d){return _0x273d34+_0x356b0d;},'fntNM':'data:image/png;base64,','sFQjd':_0x179e37(0x310),'HdPzb':_0x179e37(0x43b),'fkDuC':_0x179e37(0x319),'VOjft':'admin','MmfRO':_0x179e37(0x316),'hYoaE':_0x179e37(0x389),'zZgMB':_0x179e37(0x3ff),'uZXuF':function(_0x237259,_0x22cf4c){return _0x237259(_0x22cf4c);},'wIGTH':'chatScreen','sbwNv':_0x179e37(0x446),'eoxEI':function(_0x43de33){return _0x43de33();},'OXZfh':'Missing\x20room\x20or\x20user\x20information.','ZYQbo':function(_0xbbd409,_0x54952d){return _0xbbd409(_0x54952d);},'wIdkY':function(_0x5bc960){return _0x5bc960();},'kwmRK':function(_0x3a07af,_0x45faa8){return _0x3a07af(_0x45faa8);}};if(!roomCode||!username)return alert(_0x509a25[_0x179e37(0x2d0)]),_0x509a25[_0x179e37(0x284)](showScreen,_0x509a25[_0x179e37(0x20b)]);_0x509a25['eoxEI'](listenForPauseState),_0x509a25[_0x179e37(0x3c3)](listenForUserList),await loadRoomRoles(),_0x509a25['wIdkY'](listenForAnnouncement);const _0x3b8e8a=_0x509a25[_0x179e37(0x3e6)](sanitizeUsername,username),_0x33ea57=db[_0x179e37(0x252)](_0x179e37(0x312)+roomCode+'/'+_0x3b8e8a),_0x858536={'username':username,'online':!![],'lastOnline':firebase[_0x179e37(0x27d)][_0x179e37(0x33c)]['TIMESTAMP']};_0x33ea57[_0x179e37(0x22a)](_0x858536,_0x213cf3=>{const _0x10515e=_0x179e37,_0x28f398={'QJClK':function(_0xb0dab1,_0x167ec0){return _0x509a25['zAwAw'](_0xb0dab1,_0x167ec0);},'GkCtl':function(_0x122194,_0x209673){return _0x509a25['zAwAw'](_0x122194,_0x209673);},'risoM':function(_0x28e507,_0x27c938){return _0x509a25['DqWod'](_0x28e507,_0x27c938);},'SeuOp':function(_0x419204,_0x3fd579){return _0x419204(_0x3fd579);}};if(_0x213cf3)return _0x509a25['WvKdJ'](alert,_0x509a25['SmAQF']),_0x509a25[_0x10515e(0x33d)](showScreen,_0x509a25['zAFSj']);const _0x1f2c1c=document[_0x10515e(0x473)](_0x509a25[_0x10515e(0x2c0)]);avatarBase64&&(_0x1f2c1c['src']=_0x509a25['OQZZC'](_0x509a25['fntNM'],avatarBase64),_0x1f2c1c[_0x10515e(0x37a)]['display']=_0x509a25[_0x10515e(0x3f6)]);document[_0x10515e(0x473)](_0x10515e(0x3a3))[_0x10515e(0x205)]=username+'\x20'+_0x509a25[_0x10515e(0x33d)](getRoleTag,_0x3b8e8a),document[_0x10515e(0x473)](_0x509a25['HdPzb'])['innerText']=roomCode===STATIC_ROOM?_0x509a25[_0x10515e(0x38d)]:roomCode;[_0x509a25['VOjft'],_0x10515e(0x455),'moderator']['includes'](role)?document['getElementById'](_0x509a25['MmfRO'])['style'][_0x10515e(0x32a)]=_0x509a25[_0x10515e(0x3f6)]:document[_0x10515e(0x473)]('addAnnouncementBtn')[_0x10515e(0x37a)]['display']=_0x509a25[_0x10515e(0x41b)];const _0x35aced=db[_0x10515e(0x252)]()[_0x10515e(0x374)]()[_0x10515e(0x471)];db[_0x10515e(0x252)](_0x10515e(0x217)+roomCode+'/messages/'+_0x35aced)[_0x10515e(0x22a)]({'msg':username+_0x10515e(0x249),'sender':_0x509a25[_0x10515e(0x2ee)],'senderId':_0x509a25[_0x10515e(0x2ee)],'timestamp':Date[_0x10515e(0x453)]()}),_0x509a25[_0x10515e(0x339)](showScreen,_0x509a25['wIGTH']);const _0x413a6e=document[_0x10515e(0x473)](_0x10515e(0x236));_0x413a6e[_0x10515e(0x35f)](_0x509a25[_0x10515e(0x313)],_0x2addbc=>{const _0x2ece40=_0x10515e;_0x28f398[_0x2ece40(0x33b)](_0x2addbc[_0x2ece40(0x286)],0x3)&&(_0x28f398[_0x2ece40(0x340)](role,_0x2ece40(0x27f))||_0x28f398['risoM'](role,_0x2ece40(0x455)))&&(_0x28f398[_0x2ece40(0x272)](confirm,_0x2ece40(0x388))&&db[_0x2ece40(0x252)](_0x2ece40(0x217)+roomCode+_0x2ece40(0x3f3))[_0x2ece40(0x260)]()[_0x2ece40(0x36c)](()=>{const _0x224b7e=_0x2ece40;_0x413a6e[_0x224b7e(0x251)]='';}));}),_0x509a25[_0x10515e(0x3c3)](listenForMessages),_0x509a25[_0x10515e(0x3c3)](listenForTyping),_0x509a25[_0x10515e(0x3c3)](startInactivityTimer),_0x509a25[_0x10515e(0x3c3)](trackPresence),_0x509a25['eoxEI'](watchProfileChanges),_0x509a25[_0x10515e(0x3c3)](watchMuteStatus);});}function watchProfileChanges(){const _0x5ed148=_0x5366a4,_0x432a25={'MfIif':_0x5ed148(0x35a),'bUskI':'block','xzOHx':function(_0x57ff56,_0x2e5121){return _0x57ff56(_0x2e5121);},'nagJg':function(_0x54244e,_0x399d0f){return _0x54244e(_0x399d0f);}},_0x27ecfc=_0x432a25[_0x5ed148(0x3ce)](sanitizeUsername,username);db['ref'](_0x5ed148(0x2cc)+_0x27ecfc)['on'](_0x5ed148(0x3b3),_0x30cbde=>{const _0x3c9f1e=_0x5ed148;if(!_0x30cbde[_0x3c9f1e(0x26a)]())return;const _0x4108aa=_0x30cbde[_0x3c9f1e(0x3b9)]();userDescription=_0x4108aa[_0x3c9f1e(0x22d)]||'',avatarBase64=_0x4108aa[_0x3c9f1e(0x2f4)]||'',role=_0x4108aa[_0x3c9f1e(0x20e)]||_0x3c9f1e(0x2e7);if(avatarBase64){const _0x3021a1=document[_0x3c9f1e(0x473)](_0x432a25[_0x3c9f1e(0x467)]);!_0x3021a1[_0x3c9f1e(0x3d9)][_0x3c9f1e(0x40b)](avatarBase64)&&(_0x3021a1[_0x3c9f1e(0x3d9)]=_0x3c9f1e(0x30a)+avatarBase64,_0x3021a1['style']['display']=_0x432a25[_0x3c9f1e(0x404)]);}_0x432a25[_0x3c9f1e(0x2d5)](renderUserLists,roomUsers);});}function uploadImage(_0x5dd7fa){const _0x3e2a55=_0x5366a4,_0x475b83={'nyUbB':function(_0x2b34b8,_0x769773){return _0x2b34b8>_0x769773;},'jnUCf':function(_0x56be25,_0x587732){return _0x56be25*_0x587732;},'kFxQW':function(_0x539d5e,_0x530b18){return _0x539d5e(_0x530b18);},'blnNS':_0x3e2a55(0x2c4)},_0xccf45b=_0x5dd7fa[_0x3e2a55(0x2bd)][0x0];if(!_0xccf45b||_0x475b83[_0x3e2a55(0x376)](_0xccf45b[_0x3e2a55(0x41f)],_0x475b83['jnUCf'](_0x475b83[_0x3e2a55(0x324)](0x2,0x400),0x400))){_0x475b83['kFxQW'](alert,_0x475b83[_0x3e2a55(0x327)]);return;}const _0x9f4cb1=new FileReader();_0x9f4cb1[_0x3e2a55(0x2b6)]=()=>{const _0x32090d=_0x3e2a55,_0x771663=_0x9f4cb1[_0x32090d(0x315)]['split'](',')[0x1],_0x1e68b6=db[_0x32090d(0x252)]()[_0x32090d(0x374)]()[_0x32090d(0x471)];db[_0x32090d(0x252)](_0x32090d(0x217)+roomCode+_0x32090d(0x427)+_0x1e68b6)[_0x32090d(0x22a)]({'imageBase64':_0x771663,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x9f4cb1[_0x3e2a55(0x3db)](_0xccf45b);}async function fetchProfile(_0x3ea47f){const _0x4687a9=_0x5366a4,_0xd34222=await db[_0x4687a9(0x252)]('auth/'+_0x3ea47f)[_0x4687a9(0x3dc)]();if(!_0xd34222[_0x4687a9(0x26a)]())return null;return _0xd34222[_0x4687a9(0x3b9)]();}function validateStaticRoomPassword(){const _0x398150=_0x5366a4,_0x392d7b={'RGJqm':function(_0x3a3e02,_0x4e154d){return _0x3a3e02(_0x4e154d);},'HByMD':_0x398150(0x3c5),'LapGZ':function(_0x576c10,_0x1c23b4){return _0x576c10===_0x1c23b4;},'wfxRM':function(_0x5c5a4b){return _0x5c5a4b();},'PJlKb':_0x398150(0x1fb),'Ctonz':function(_0x248e94,_0x16eabb){return _0x248e94(_0x16eabb);},'gIQJm':_0x398150(0x40f),'BflVY':'staticPasswordInput'},_0x7969fd=document[_0x398150(0x473)](_0x392d7b[_0x398150(0x208)])[_0x398150(0x3b3)]['trim']();if(!_0x7969fd){alert(_0x398150(0x42b));return;}db[_0x398150(0x252)]('gr8stg/'+STATIC_ROOM)['get']()[_0x398150(0x36c)](_0x47b260=>{const _0x418b6b=_0x398150;if(!_0x47b260[_0x418b6b(0x26a)]()){_0x392d7b[_0x418b6b(0x2a4)](alert,_0x392d7b[_0x418b6b(0x3f5)]);return;}const _0x2bb996=_0x47b260[_0x418b6b(0x3b9)]();_0x392d7b[_0x418b6b(0x241)](_0x7969fd,_0x2bb996)?(roomCode=STATIC_ROOM,_0x392d7b['wfxRM'](startChat)):(document['getElementById'](_0x392d7b['PJlKb'])['innerText']=_0x418b6b(0x405),document['getElementById'](_0x392d7b[_0x418b6b(0x487)])[_0x418b6b(0x37a)][_0x418b6b(0x32a)]=_0x418b6b(0x310));})[_0x398150(0x39d)](_0x2a143b=>{const _0x5abc53=_0x398150;console['error'](_0x2a143b),_0x392d7b[_0x5abc53(0x3b7)](alert,_0x392d7b[_0x5abc53(0x39c)]);});}function listenForPauseState(){const _0x171072=_0x5366a4,_0x22c35b={'OygNd':function(_0x969c87,_0x368702){return _0x969c87===_0x368702;},'HHiUH':_0x171072(0x345),'ZaOQH':_0x171072(0x310),'jmoYt':_0x171072(0x389)};db[_0x171072(0x252)](_0x171072(0x2a1)+roomCode+_0x171072(0x2fe))['on'](_0x171072(0x3b3),_0x3bb18b=>{const _0x13f248=_0x171072,_0x4162af=_0x3bb18b[_0x13f248(0x26a)]()&&_0x22c35b[_0x13f248(0x3bd)](_0x3bb18b[_0x13f248(0x3b9)](),!![]);document[_0x13f248(0x473)](_0x22c35b[_0x13f248(0x2b1)])['style'][_0x13f248(0x32a)]=_0x4162af?_0x22c35b[_0x13f248(0x20a)]:_0x22c35b[_0x13f248(0x359)];});}const spamTimestamps=[];async function sendMessage(){const _0x250b01=_0x5366a4,_0x386812={'OofXd':_0x250b01(0x3e1),'ADDfL':function(_0x268786,_0x10a29f){return _0x268786(_0x10a29f);},'BNBtj':function(_0x1faad2,_0x2a1984){return _0x1faad2===_0x2a1984;},'geAes':_0x250b01(0x3e2),'RMcCG':function(_0x5c669a,_0x5bc77f){return _0x5c669a>_0x5bc77f;},'BbyrA':'‚õî\x20You\x20are\x20muted.','qXEzX':function(_0x20540d,_0xe98fc4){return _0x20540d!==_0xe98fc4;},'USNYu':_0x250b01(0x455),'EHoCO':function(_0xbd123e,_0x57eb8d){return _0xbd123e(_0x57eb8d);},'PZuxx':_0x250b01(0x437),'IPLre':_0x250b01(0x3cf),'PckEc':function(_0x2c9bf7,_0x544512){return _0x2c9bf7||_0x544512;},'rbIaP':function(_0x312924,_0x52c710){return _0x312924(_0x52c710);},'YwGKH':_0x250b01(0x36d),'kvTPQ':function(_0x3e9c7c,_0x27b850){return _0x3e9c7c>_0x27b850;},'JjIjH':_0x250b01(0x3f8),'UgDeR':function(_0x539015,_0x105d6d,_0xb6a7ab){return _0x539015(_0x105d6d,_0xb6a7ab);},'ZaceC':_0x250b01(0x2ef),'JiGUC':function(_0x12dd2e,_0x5e64e2){return _0x12dd2e(_0x5e64e2);}},_0x3123a3=await db['ref'](_0x250b01(0x2a1)+roomCode+_0x250b01(0x2fe))[_0x250b01(0x3dc)](),_0x2dde6c=await db[_0x250b01(0x252)](_0x250b01(0x44c)+roomCode+'/'+_0x386812['ADDfL'](sanitizeUsername,username))[_0x250b01(0x3dc)]();if(_0x2dde6c[_0x250b01(0x26a)]()){const _0x4cd711=_0x2dde6c[_0x250b01(0x3b9)](),_0x447e0c=_0x386812[_0x250b01(0x398)](typeof _0x4cd711,_0x386812['geAes'])&&_0x4cd711[_0x250b01(0x428)]?_0x4cd711[_0x250b01(0x428)]:_0x4cd711;if(_0x386812[_0x250b01(0x420)](_0x447e0c,Date[_0x250b01(0x453)]())){_0x386812[_0x250b01(0x219)](alert,_0x386812[_0x250b01(0x451)]);return;}}if(_0x3123a3[_0x250b01(0x26a)]()&&_0x386812[_0x250b01(0x398)](_0x3123a3['val'](),!![])&&_0x386812[_0x250b01(0x337)](role,_0x386812[_0x250b01(0x488)])){_0x386812[_0x250b01(0x3f0)](alert,_0x386812[_0x250b01(0x23a)]);return;}const _0x254257=document['getElementById'](_0x386812['IPLre']),_0x24b4e2=_0x254257[_0x250b01(0x3b3)][_0x250b01(0x3ba)]();if(_0x386812[_0x250b01(0x2c5)](!_0x24b4e2,isBlocked))return;const _0x315376=Date['now'](),_0x2691c8=_0x24b4e2[_0x250b01(0x213)](),_0x138601=swearWords[_0x250b01(0x42e)](_0xf828bf=>_0x2691c8['includes'](_0xf828bf));if(_0x138601){_0x386812[_0x250b01(0x499)](alert,_0x386812['YwGKH']);return;}spamTimestamps[_0x250b01(0x374)](_0x315376);const _0x26237d=spamTimestamps[_0x250b01(0x36e)](_0x5ed2c8=>_0x315376-_0x5ed2c8<0x1b58);if(_0x386812['kvTPQ'](_0x26237d[_0x250b01(0x2a0)],0x5)){isBlocked=!![],_0x254257[_0x250b01(0x2e6)]=!![],_0x254257['placeholder']=_0x386812[_0x250b01(0x3f4)],alert(_0x250b01(0x464)),_0x386812[_0x250b01(0x29c)](setTimeout,()=>{const _0x179c9d=_0x250b01;isBlocked=![],_0x254257[_0x179c9d(0x2e6)]=![],_0x254257['placeholder']=_0x386812['OofXd'],spamTimestamps['length']=0x0;},0x7530);return;}const _0x2bf163=localStorage[_0x250b01(0x365)](_0x386812[_0x250b01(0x45d)])||'',_0x775050=db['ref']()[_0x250b01(0x374)]()[_0x250b01(0x471)];db['ref']('rooms/'+roomCode+_0x250b01(0x427)+_0x775050)[_0x250b01(0x22a)]({'msg':_0x24b4e2,'sender':username,'senderId':clientId,'avatarBase64':_0x2bf163,'timestamp':_0x315376}),_0x254257[_0x250b01(0x3b3)]='',_0x386812[_0x250b01(0x271)](sendTyping,!![]),lastActivity=_0x315376;}function listenForMessages(){const _0x3dd04a=_0x5366a4,_0x1aab5d={'BlHjq':function(_0x3c173e,_0x37621a){return _0x3c173e===_0x37621a;},'yjoKb':function(_0x1d48da,_0xd606de,_0x1b5edd,_0x1999fa){return _0x1d48da(_0xd606de,_0x1b5edd,_0x1999fa);},'aCDmI':function(_0x2cbd45,_0x22c81f){return _0x2cbd45!==_0x22c81f;},'fTmBt':_0x3dd04a(0x3ff),'WVQxq':function(_0x2ae70e){return _0x2ae70e();},'bDiLc':_0x3dd04a(0x3c6),'FsNPj':_0x3dd04a(0x278),'RSKeY':_0x3dd04a(0x393),'cZnPI':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','AOmDp':_0x3dd04a(0x283)},_0xc28f44=db[_0x3dd04a(0x252)]('rooms/'+roomCode+_0x3dd04a(0x418)),_0x37b448=_0xc28f44[_0x3dd04a(0x361)](MAX_MESSAGES);userListReady=!![],_0x37b448['on'](_0x1aab5d[_0x3dd04a(0x422)],_0x58e741=>{const _0x52fa26=_0x3dd04a,_0x565204=_0x58e741[_0x52fa26(0x3b9)](),{senderId:_0x1f2a9b}=_0x565204,_0x64bd17=_0x1aab5d[_0x52fa26(0x469)](_0x1f2a9b,clientId);if(!userListReady){pendingMessages[_0x52fa26(0x354)](({data:_0x4fe9e0,sent:_0x204048,key:_0x5a3c84})=>{addMessage(_0x4fe9e0,_0x204048,_0x5a3c84);}),pendingMessages=[];return;}const _0x363997=_0x565204[_0x52fa26(0x43f)]||null,_0x5bf444=_0x565204[_0x52fa26(0x3a0)]||null;_0x1aab5d[_0x52fa26(0x402)](addMessage,_0x565204,_0x64bd17,_0x58e741[_0x52fa26(0x471)]);roomCode!==STATIC_ROOM&&_0x1aab5d[_0x52fa26(0x296)](_0x565204[_0x52fa26(0x368)],_0x1aab5d[_0x52fa26(0x37e)])&&db[_0x52fa26(0x252)](_0x52fa26(0x217)+roomCode+_0x52fa26(0x427)+_0x58e741[_0x52fa26(0x471)])[_0x52fa26(0x260)]();!_0x64bd17&&(sound[_0x52fa26(0x294)](),_0x1aab5d[_0x52fa26(0x47c)](flagPageAttention));if(notificationsEnabled&&!_0x64bd17){if(document[_0x52fa26(0x44d)]&&_0x1aab5d[_0x52fa26(0x469)](Notification[_0x52fa26(0x37b)],_0x1aab5d[_0x52fa26(0x247)])){const _0x536914=_0x565204[_0x52fa26(0x258)]||(_0x565204[_0x52fa26(0x3a0)]?_0x1aab5d['FsNPj']:_0x565204[_0x52fa26(0x35b)]?_0x1aab5d['RSKeY']:_0x52fa26(0x485));new Notification(_0x52fa26(0x342)+_0x565204[_0x52fa26(0x368)],{'body':_0x536914,'icon':_0x1aab5d[_0x52fa26(0x360)]});}}});}function stackNotification(_0xc7c561,_0x1dfc7e){const _0x15a58a=_0x5366a4,_0x2e164a={'byrtU':function(_0x513efe){return _0x513efe();},'RVMiq':function(_0xde427c,_0x36b1e7){return _0xde427c(_0x36b1e7);},'rRSLU':function(_0x23a476,_0xd1e628,_0x5944fd){return _0x23a476(_0xd1e628,_0x5944fd);}};notificationStack['push']({'sender':_0xc7c561,'content':_0x1dfc7e}),_0x2e164a['RVMiq'](clearTimeout,notificationTimer),notificationTimer=_0x2e164a[_0x15a58a(0x358)](setTimeout,()=>{const _0x4c56c9=_0x15a58a;_0x2e164a[_0x4c56c9(0x48b)](showStackedNotification),notificationStack=[];},0x3e8);}function _0x4d1c(){const _0x1a6a53=['authTitle','editProfileScreen','qiorQ','audioUrl','codeEntryScreen','xhcMK','AGXVm','RUvGu','HIMof','\x0aLast\x20Changed:\x20','click','aAKMn','admins/','liZsz','lWrYY','IMwrX','muted/','hidden','foDZI','ABCDEFGHIJKLMNOPQRSTUVWXYZ','Jiwxi','BbyrA','SGcXn','now','tIuvh','dev','JdhJY','TZMbN','tangina','AFLkk','color','FLwRY',')\x20New\x20message\x20‚Ä¢\x20','ZaceC','\x20was\x20promoted\x20to\x20Admin','HDkyI','You\x20got\x20messages\x20from\x20','AqucR','Delete\x20this\x20message?','concat','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','bastard','uavtJ','MfIif','MDUOX','BlHjq','UWWho','SaFid','yYXNQ','values','input','vSxTG','mBQsD','key','KWKGu','getElementById','\x0aUsername\x20History:\x20','VRsyt','yhOSC','YgjJC','eyKLw','\x27)\x22>Demote</button>','kdSzF','Microphone\x20permission\x20denied.','WVQxq','COehA','kxVwf','36880iRwuzy','EaQtV','eOVDy','abjBC','WofmL','porra','[Unknown]','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','PJlKb','USNYu','show','promote','byrtU','kYeGp','iSDIJ','shit','authAvatar','SHA-256','UMrlG','yYhMG','from','GElNb','XpbPm','fHKNA','\x20minutes.','[Voice\x20message]','rbIaP','ZpAiE','VFtfz','kXOhR','substr','profiles/','ZCWdW','</span>\x20','Session\x20expired.','reaction-box','Wkbki','PlASO','pointer','split','UHVBf','iDfIG','exUoh','fuck','passwordError','pEdrk','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','TkFul','mmEXS','Remove\x20Announcement?','merda','antispam','toString','</li>','innerHTML','error','zSaqQ','BflVY','uIXUt','ZaOQH','zAFSj','ujWgr','kCwGT','role','Dlqpl','LUykA','antispamBlocked/','classList','toLowerCase','TBBYC','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','map','rooms/','<span\x20class=\x22sender-name\x22>','ADDfL','nuGVj','scrollHeight','\x27)\x22>Promote\x20to\x20Admin</button>','DnXNQ','fontSize','bMANl','equalTo','fdp','KAJqd','TdvuU','qIKbK','authScreen','antispam/','DcQPL','empUG','IIyJu','set','\x20was\x20muted\x20for\x20','cSRTf','description','WrSEc','rFjmZ','roomCodeInput','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','UIzCG','dick','gSJxP','toUpperCase','announcementArea','dpaXk','lastChanged','\x20was\x20promoted\x20to\x20Moderator','PZuxx','/avatarBase64','‚ù§Ô∏è\x20üòÇ\x20üòÆ\x20üò¢\x20üëé\x20üíÄ\x20üò≠\x20ü§Ø','\x0a\x20\x20\x20\x20','<span\x20style=\x22margin-right:6px;\x22>','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','BuOQo','LapGZ','TIMESTAMP','NKLla','PTXJe','absolute','Admins\x20only.','bDiLc','JOFqf','\x20is\x20online','nCJBB','replace','\x20minutes','scrollTop','keypress','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','Rkdje','innerText','ref','<button\x20onclick=\x22promoteToModerator(\x27','marginTop','phnFv','\x27)\x22>','namePreview','msg','FUkeP','lCGSD','zcETB','jszeH','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','‚úÖ\x20Profile\x20picture\x20updated!','MOZrI','remove','lsthS','update','qYuPj','ylfyc','bMIyQ','IKUSj','children','toLocaleTimeString','2935736iBNKHA','exists','cunt','title','KCdOy','visibilitychange','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','RJqVf','JiGUC','SeuOp','rnFvo','entries','hVPCj','once','QczvA','[Voice\x20Message]','0.8rem','mouseleave','NMRsR','puta','database','usernameHistory','admin','userOptions-','profileError','onDisconnect','child_added','ZYQbo','QiRry','detail','1509860LaYUAb','zLfQS','isArray','WIclz','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','6px\x20auto','0123456789','zOdLq','wrcxL','true','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','gago','XAeYk','play','DxhOb','aCDmI','start','online','ePvac','1:985049198428:web:d0eb7e2de39887710c9b99','BysAY','UgDeR','VzRDE','requestPermission','QbJfW','length','roomStates/','CMIcZ','WuxfA','RGJqm','bLlds','yyzqv','050BBB66HH','moderator','63QJVAVy','VQAzh','IUonn','UeaxQ','kaPsT','textAlign','Quvha','AUORQ','HHiUH','2-digit','HuzVF','fwRKJ','\x27)\x22>Promote\x20to\x20Moderator</button>','onloadend','szOsw','YshPM','clear','NXCax','eqpBn','bitch','files','‚õî\x20You\x20are\x20muted.','gTBds','dQGGH','KcSUl','editBioInput','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','‚ùå\x20Image\x20must\x20be\x20under\x202MB','PckEc','left','jCbnL','#222','roomChoiceScreen','Profile\x20not\x20found.','GCmjG','auth/','10px','sMsqd','messages','OXZfh','asshole','LGRXN','\x27,\x201)\x22>Mute\x201m</button>','zkatr','xzOHx','mMyTc','yeqOl','gPiNM','Qzheb','syRNW','preventDefault','NBUvd','yabbe','POaOu','usernameScreen','reaction-tray','‚ùå\x20Username\x20already\x20taken.','\x20demoted\x20to\x20user.','UBbcS','typing/','ZfuIR','disabled','user','createElement','YkXPR','antispamBlocked','TUVJv','cYEAv','onload','zZgMB','avatar_base64','\x27)\x22>Delete\x20Messages</button>','ZjuDz','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','jyHND','avatarBase64','recordBtn','moderators/','random','G-QDESJ2WR42','gOucD','<br>','erYWi','border','FADyk','/paused','\x20deleted.','zGNhd','caralho','EBbLG','deleteMessage','kSVml','mediaDevices','RIOpv','stopPropagation','Bszka','notifications_enabled','data:image/png;base64,','text','Incorrect\x20password.','cZUDa','position','aSxwP','block','</span>','users/','sbwNv','gilipollas','result','addAnnouncementBtn','<button\x20onclick=\x22muteUser(\x27','DOMContentLoaded','No\x20room\x20code\x20available\x20for\x20private\x20rooms','üîî\x20Enable\x20Notifications','Unknown','adminControlsSection','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','touchend','ADryO','className','enfDL','wYUzH','ROMyE','jnUCf','qbpYW','ADnWJ','blnNS','VKQFX','orderByChild','display','New\x20Chat\x20Message','QGvbW','nCiKr','OkRuM','iBUOu','üö´\x20Cannot\x20promote\x20Developers.','985049198428','ovjsp','4px\x206px','ohojp','lXLai','</div>','qXEzX','#aaa','uZXuF','gPVlG','QJClK','ServerValue','WvKdJ','div','uvMuv','GkCtl','kxInM','üí¨\x20','Safrq','profileDescriptionInput','pausedOverlay','ZkNeZ','lgJsJ','pdkwh','<button\x20onclick=\x22demoteUser(\x27','\x27,\x2010)\x22>Mute\x2010m</button>','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','authUsername','18px','JkrRx','\x20in\x20room\x20','ZXRnn','VSGHo','add','authError','forEach','dmArN','sounds/beep.mp3','profile_description','rRSLU','jmoYt','sidebarAvatarPreview','imageBase64','fxZOV','JRDFs','BCjpf','addEventListener','cZnPI','limitToLast','ptzdc','RPBWk','flagPageAttention','getItem','center','otario','sender','join','bwisit','HcDJY','then','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','filter','lLvfc','NryWy','reload','Dtxxl','ulol','push','onstop','nyUbB','HZYvX','PeVbl','341740kKzTQE','style','permission','Xitol','touchstart','fTmBt','\x0aName:\x20','getUserMedia','-35px','SEmak','Enter\x20a\x20valid\x20room\x20code','borderRadius','qqOno','newPasswordInput','floor','Remove\x20this\x20announcement?','none','474VwDnYL','zcyLt','profileViewer','fkDuC','MACpz','/reactions/','VeXEy','\x0aDescription:\x20','easy-chatroom.firebasestorage.app','[Image]','unknown','onlineStatus','appendChild','vJcbO','BNBtj','typing','RsHpv','<img\x20src=\x22','gIQJm','catch','Login','qdYRi','audioBase64','WOUYS','tiJee','userDisplay','KCjea','lXDmJ','yGcIB','szRju','fbqFk','TutAW','setItem','LrgdZ','KtJtV','state','lpmow','background','\x20üîß\x20','5754511PuzLsH','IwuNf','value','ssfDU','jEaln','UcPsI','Ctonz','<li>','val','trim','kJNDZ','VUdHU','OygNd','rooms','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','jcgkq','cUHcc','ZNgen','eoxEI','kyvJe','Room\x20password\x20not\x20set.\x20Cannot\x20join.','granted','sent','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','Please\x20enter\x20your\x20current\x20password.','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','lfnOL','all','nagJg','msgInput','UwsJC','XRklF','chatScreen','Enter\x20your\x20new\x20username:','putang\x20ina','DntNt','yRPNU','relative','fdpRz','src','evFRK','readAsDataURL','get','GAfGo','cursor','dBsHt','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','Type\x20a\x20message...','object','uhtsk','cncmH','3482320BMVzHc','kwmRK','authPasswordConfirm','username','2px\x20solid\x20red','umrSz','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','mLqwo','2480079dQDXBL','<img\x20src=\x22data:image/png;base64,','Incorrect\x20current\x20password.','EHoCO','SOLSN','zTSrk','/announcement','JjIjH','HByMD','sFQjd','aGWdU','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','oldPasswordInput','Username\x20already\x20exists.','DbTnp','üéôÔ∏è','gDxfz','chat_username','system','popstate','profileScreen','yjoKb','\x27)\x22>+Mod</button>','bUskI','Incorrect\x20password','/reactions','gOuBq','authDescription','mierda','profileUsernameInput','includes','ZmlDd','tFTix','hzaSy','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','cyMzT','created','\x20muted\x20for\x20','pplGK','mwKvn','<button\x20onclick=\x22promoteToAdmin(\x27','contains','mouseenter','/messages','<audio\x20controls\x20src=\x22','XsRHL','hYoaE','audio/webm','qMnVY','passwordHash','size','RMcCG','4|0|1|6|2|3|7|5','AOmDp','TZMDn','IbXIL','authAvatarPreview','16px','/messages/','muteUntil','Messages\x20by\x20','cMzUH','Please\x20enter\x20the\x20password.','stop','Failed\x20to\x20save\x20profile:','some','flex','LDCHK','ondataavailable','initializeApp','qxvRG','userAgent','QMYUJ','You\x20got\x20a\x20message\x20from\x20','Room\x20is\x20currently\x20paused.','BHdbx','<button\x20onclick=\x22deleteUserMessages(\x27','\x20promoted\x20to\x20Admin!','roomDisplay'];_0x4d1c=function(){return _0x1a6a53;};return _0x4d1c();}function showStackedNotification(){const _0x14c443=_0x5366a4,_0x225cc0={'BysAY':_0x14c443(0x32b),'UxMJG':_0x14c443(0x26f),'gSJxP':function(_0x471dba,_0x3aebf5){return _0x471dba!==_0x3aebf5;},'qbpYW':_0x14c443(0x3c6),'MDUOX':function(_0x1fb59b,_0x266cc9){return _0x1fb59b||_0x266cc9;},'VSGHo':_0x14c443(0x394),'EaQtV':function(_0x23e210,_0x12074f){return _0x23e210===_0x12074f;},'mwKvn':function(_0x415063,_0x416364,_0x29dce2){return _0x415063(_0x416364,_0x29dce2);}};if(!notificationStack[_0x14c443(0x2a0)]||_0x225cc0[_0x14c443(0x234)](Notification[_0x14c443(0x37b)],_0x225cc0[_0x14c443(0x325)]))return;const _0x35ba30=[...new Set(notificationStack[_0x14c443(0x216)](_0x3469c6=>_0x3469c6[_0x14c443(0x368)]))],_0x534da8=_0x225cc0[_0x14c443(0x468)](roomCode,_0x225cc0[_0x14c443(0x351)]),_0x10279c=_0x225cc0[_0x14c443(0x480)](_0x35ba30['length'],0x1)?_0x14c443(0x436)+_0x35ba30[0x0]+_0x14c443(0x34f)+_0x534da8+':\x20'+notificationStack[0x0]['content']:_0x14c443(0x460)+_0x35ba30[_0x14c443(0x369)](',\x20')+_0x14c443(0x34f)+_0x534da8;_0x225cc0[_0x14c443(0x414)](setTimeout,()=>{const _0x2d9793=_0x14c443;new Notification(_0x225cc0[_0x2d9793(0x29b)],{'body':_0x10279c,'icon':_0x225cc0['UxMJG']});},0x64);}async function addMessage(_0x855208,_0x263cf5,_0x3d8b77=null){const _0x5ad529=_0x5366a4,_0x2bab00={'wPGjE':_0x5ad529(0x1f5),'qiorQ':_0x5ad529(0x310),'RUvGu':_0x5ad529(0x389),'SztXb':function(_0x2bc1e1,_0x1fe266,_0x506e67){return _0x2bc1e1(_0x1fe266,_0x506e67);},'nCiKr':function(_0x2e5b23,_0x2c066d){return _0x2e5b23===_0x2c066d;},'jEaln':function(_0x20d109,_0x23cb97){return _0x20d109(_0x23cb97);},'UIzCG':_0x5ad529(0x462),'zMiZo':function(_0x59366c,_0x496ed3,_0x858bd5){return _0x59366c(_0x496ed3,_0x858bd5);},'CMIcZ':function(_0x338434,_0x2400f7){return _0x338434(_0x2400f7);},'kxInM':_0x5ad529(0x33e),'umrSz':_0x5ad529(0x3ff),'sPrhc':'0.8rem','gOuBq':_0x5ad529(0x338),'RPBWk':_0x5ad529(0x28c),'dpaXk':_0x5ad529(0x258),'ssfDU':_0x5ad529(0x3c7),'fwRKJ':'received','PlASO':_0x5ad529(0x3d7),'Qzheb':function(_0x142c3e,_0xdf6ef5){return _0x142c3e(_0xdf6ef5);},'lXDmJ':_0x5ad529(0x1f2),'IwuNf':_0x5ad529(0x23c),'yeqOl':_0x5ad529(0x245),'SOKAu':_0x5ad529(0x2c8),'cUHcc':_0x5ad529(0x2cd),'MACpz':_0x5ad529(0x417),'yyzqv':_0x5ad529(0x27a),'cncmH':_0x5ad529(0x37d),'pEdrk':_0x5ad529(0x31e),'cjMNH':_0x5ad529(0x3b3),'vSxTG':_0x5ad529(0x455),'uiWwY':_0x5ad529(0x27f),'KWKGu':'messages'},{msg:_0x5be1e5,sender:_0x406f81,senderId:_0x68d9b2,timestamp:_0x2c5da2,audioUrl:_0x19bb5e,audioBase64:_0x5d59f4,imageBase64:_0x42f9a6}=_0x855208,_0x59274d=_0x2bab00[_0x5ad529(0x2a2)](sanitizeUsername,_0x406f81),_0x1b0bfc=document[_0x5ad529(0x2e8)](_0x2bab00[_0x5ad529(0x341)]);if(_0x855208[_0x5ad529(0x368)]===_0x2bab00[_0x5ad529(0x3ea)]){const _0x4211f6=document[_0x5ad529(0x2e8)](_0x2bab00[_0x5ad529(0x341)]);_0x4211f6['style'][_0x5ad529(0x2ae)]=_0x5ad529(0x366),_0x4211f6[_0x5ad529(0x37a)][_0x5ad529(0x21e)]=_0x2bab00['sPrhc'],_0x4211f6[_0x5ad529(0x37a)][_0x5ad529(0x45a)]=_0x2bab00[_0x5ad529(0x407)],_0x4211f6[_0x5ad529(0x37a)]['margin']=_0x2bab00[_0x5ad529(0x363)],_0x4211f6[_0x5ad529(0x251)]=_0x855208[_0x5ad529(0x258)];const _0x4a7150=document[_0x5ad529(0x473)](_0x5ad529(0x2cf));_0x4a7150[_0x5ad529(0x396)](_0x4211f6),_0x4a7150[_0x5ad529(0x24d)]=_0x4a7150[_0x5ad529(0x21b)];return;}_0x1b0bfc[_0x5ad529(0x212)][_0x5ad529(0x352)](_0x2bab00[_0x5ad529(0x237)],_0x263cf5?_0x2bab00[_0x5ad529(0x3b4)]:_0x2bab00[_0x5ad529(0x2b4)]),_0x1b0bfc[_0x5ad529(0x37a)][_0x5ad529(0x30e)]=_0x2bab00[_0x5ad529(0x1f4)];const _0x2dab08=new Date(_0x2c5da2)[_0x5ad529(0x268)]([],{'hour':'2-digit','minute':_0x5ad529(0x2b2)}),_0x1da015=_0x2bab00[_0x5ad529(0x3b5)](getRoleTag,_0x59274d),_0x5094be=await _0x2bab00[_0x5ad529(0x2d9)](fetchAvatar,_0x59274d),_0x26773d=_0x5094be?_0x5ad529(0x3ee)+_0x5094be+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x79f47d=_0x26773d+_0x5ad529(0x218)+_0x406f81+'\x20'+_0x1da015+_0x5ad529(0x311),_0x50a1dd=_0x5be1e5?.[_0x5ad529(0x24b)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x483d9a=_0x79f47d+_0x5ad529(0x2fa);if(_0x19bb5e)_0x483d9a+=_0x5ad529(0x419)+_0x19bb5e+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x5d59f4){const _0x29be3a='data:audio/webm;base64,'+_0x5d59f4;_0x483d9a+=_0x5ad529(0x419)+_0x29be3a+_0x5ad529(0x215);}else{if(_0x42f9a6){const _0x226ff5=_0x5ad529(0x30a)+_0x42f9a6;_0x483d9a+=_0x5ad529(0x39b)+_0x226ff5+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x483d9a+='<div>'+_0x50a1dd+_0x5ad529(0x336);}}_0x483d9a+='<small>'+_0x2dab08+'</small>',_0x1b0bfc[_0x5ad529(0x205)]=_0x483d9a;const _0x5cb548=document[_0x5ad529(0x2e8)](_0x2bab00[_0x5ad529(0x341)]);_0x5cb548[_0x5ad529(0x320)]=_0x2bab00[_0x5ad529(0x3a5)],_0x5cb548[_0x5ad529(0x37a)][_0x5ad529(0x254)]='4px',_0x5cb548[_0x5ad529(0x37a)][_0x5ad529(0x21e)]=_0x5ad529(0x426),_0x1b0bfc['appendChild'](_0x5cb548);const _0x5e85fc=document['createElement'](_0x5ad529(0x33e));_0x5e85fc[_0x5ad529(0x320)]=_0x5ad529(0x2e0),_0x5e85fc[_0x5ad529(0x205)]=_0x2bab00[_0x5ad529(0x3b2)],_0x5e85fc['style'][_0x5ad529(0x32a)]=_0x5ad529(0x389),_0x5e85fc[_0x5ad529(0x37a)]['position']=_0x2bab00[_0x5ad529(0x2d7)],_0x5e85fc['style'][_0x5ad529(0x3af)]=_0x2bab00['SOKAu'],_0x5e85fc[_0x5ad529(0x37a)]['padding']=_0x5ad529(0x333),_0x5e85fc['style'][_0x5ad529(0x384)]=_0x2bab00['cUHcc'],_0x5e85fc[_0x5ad529(0x37a)][_0x5ad529(0x21e)]=_0x5ad529(0x34d),_0x5e85fc[_0x5ad529(0x37a)]['top']=_0x5ad529(0x381),_0x5e85fc['style'][_0x5ad529(0x2c6)]=_0x2bab00[_0x5ad529(0x3c1)],_0x5e85fc[_0x5ad529(0x37a)]['zIndex']='10',Array[_0x5ad529(0x493)](_0x5e85fc[_0x5ad529(0x267)])['forEach'](_0x29b0c3=>{const _0x496385=_0x5ad529;_0x29b0c3[_0x496385(0x37a)][_0x496385(0x3de)]=_0x2bab00['wPGjE'],_0x29b0c3['onclick']=_0x39a0b8=>{const _0x119351=_0x496385;_0x39a0b8[_0x119351(0x307)]();const _0x2ba7f3=_0x29b0c3['textContent'];reactToMessage(_0x3d8b77,_0x2ba7f3);};}),_0x1b0bfc[_0x5ad529(0x396)](_0x5e85fc),_0x1b0bfc[_0x5ad529(0x35f)](_0x2bab00[_0x5ad529(0x38e)],()=>{const _0x2cebbf=_0x5ad529;_0x5e85fc[_0x2cebbf(0x37a)]['display']=_0x2bab00[_0x2cebbf(0x43e)];}),_0x1b0bfc[_0x5ad529(0x35f)](_0x2bab00[_0x5ad529(0x2a6)],()=>{const _0x5aa342=_0x5ad529;_0x5e85fc['style'][_0x5aa342(0x32a)]=_0x2bab00[_0x5aa342(0x443)];});let _0x2e2712;_0x1b0bfc['addEventListener'](_0x2bab00[_0x5ad529(0x3e4)],()=>{_0x2e2712=_0x2bab00['SztXb'](setTimeout,()=>{const _0x4dce11=_0x31be;_0x5e85fc['style'][_0x4dce11(0x32a)]=_0x2bab00[_0x4dce11(0x43e)];},0x1f4);}),_0x1b0bfc[_0x5ad529(0x35f)](_0x2bab00[_0x5ad529(0x1fc)],()=>clearTimeout(_0x2e2712));_0x3d8b77&&db[_0x5ad529(0x252)](_0x5ad529(0x217)+roomCode+'/messages/'+_0x3d8b77+_0x5ad529(0x406))['on'](_0x2bab00['cjMNH'],_0x414764=>{const _0x110668=_0x5ad529;if(!_0x414764[_0x110668(0x26a)]()){_0x5cb548[_0x110668(0x205)]='';return;}const _0x1d6847=_0x414764[_0x110668(0x3b9)]();let _0x5d2121='';Object[_0x110668(0x274)](_0x1d6847)['forEach'](([_0x2ad366,_0x51baf8])=>{const _0x43f147=_0x110668;Array[_0x43f147(0x289)](_0x51baf8)&&_0x51baf8[_0x43f147(0x2a0)]>0x0&&(_0x5d2121+=_0x43f147(0x23e)+_0x2ad366+'\x20'+_0x51baf8['length']+'</span>');}),_0x5cb548['innerHTML']=_0x5d2121;});if([_0x2bab00[_0x5ad529(0x46f)],_0x2bab00['uiWwY'],_0x5ad529(0x2a8)]['includes'](role)){let _0x2568f3=0x0;_0x1b0bfc[_0x5ad529(0x35f)]('click',()=>{const _0x6ffa37=_0x5ad529;_0x2568f3++,_0x2bab00[_0x6ffa37(0x32d)](_0x2568f3,0x3)&&(_0x2bab00['jEaln'](confirm,_0x2bab00[_0x6ffa37(0x232)])&&(db[_0x6ffa37(0x252)](_0x6ffa37(0x217)+roomCode+_0x6ffa37(0x427)+_0x3d8b77)[_0x6ffa37(0x260)](),_0x1b0bfc[_0x6ffa37(0x260)]())),_0x2bab00['zMiZo'](setTimeout,()=>_0x2568f3=0x0,0x1f4);});}const _0x5ac062=document[_0x5ad529(0x473)](_0x2bab00[_0x5ad529(0x472)]);_0x5ac062['appendChild'](_0x1b0bfc),_0x5ac062[_0x5ad529(0x24d)]=_0x5ac062[_0x5ad529(0x21b)];}function cleanupOldRooms(){const _0x69c2df=_0x5366a4,_0x15a56e={'qdYRi':function(_0x8836c9,_0x346816){return _0x8836c9!==_0x346816;},'gOucD':function(_0x20e351,_0x56858b){return _0x20e351===_0x56858b;},'clKlT':function(_0x846bd8,_0x51541b){return _0x846bd8>_0x51541b;},'lfnOL':function(_0x2643e7,_0x26719c){return _0x2643e7-_0x26719c;},'NMRsR':function(_0xa0fe8a,_0x272248){return _0xa0fe8a*_0x272248;},'kwNXP':function(_0xb53af9,_0x50b557){return _0xb53af9+_0x50b557;},'mMyTc':_0x69c2df(0x202),'lpmow':'value','XsRHL':_0x69c2df(0x2ea),'jmops':_0x69c2df(0x3be)};db[_0x69c2df(0x252)](_0x15a56e['jmops'])[_0x69c2df(0x276)](_0x15a56e[_0x69c2df(0x3ae)])[_0x69c2df(0x36c)](_0x261a0f=>{const _0x2ae6a2=_0x69c2df,_0x235b90={'hVPCj':function(_0x153e62,_0x107797){const _0x43a615=_0x31be;return _0x15a56e[_0x43a615(0x39f)](_0x153e62,_0x107797);}},_0x2e4d0c=_0x261a0f['val']();if(!_0x2e4d0c)return;const _0x19c7af=Date['now']();for(const _0x8a3fa3 in _0x2e4d0c){if(_0x15a56e[_0x2ae6a2(0x2f9)](_0x8a3fa3,STATIC_ROOM))continue;const _0x3a2bea=_0x2e4d0c[_0x8a3fa3];_0x15a56e['clKlT'](_0x15a56e[_0x2ae6a2(0x3cc)](_0x19c7af,_0x3a2bea[_0x2ae6a2(0x411)]||0x0),_0x15a56e[_0x2ae6a2(0x27b)](0x2,0x3c)*0x3e8)&&db[_0x2ae6a2(0x252)](_0x15a56e['kwNXP'](_0x2ae6a2(0x217),_0x8a3fa3))['remove']();}db[_0x2ae6a2(0x252)](_0x15a56e[_0x2ae6a2(0x2d6)])[_0x2ae6a2(0x276)](_0x15a56e['lpmow'])[_0x2ae6a2(0x36c)](_0xb58304=>{const _0xac7746=_0x2ae6a2,_0x535520=_0xb58304[_0xac7746(0x3b9)]();if(!_0x535520)return;for(const _0x10b3bd in _0x535520){if(_0x10b3bd!==STATIC_ROOM)db['ref'](_0xac7746(0x226)+_0x10b3bd)[_0xac7746(0x260)]();}}),db[_0x2ae6a2(0x252)](_0x15a56e[_0x2ae6a2(0x41a)])[_0x2ae6a2(0x276)](_0x15a56e[_0x2ae6a2(0x3ae)])[_0x2ae6a2(0x36c)](_0x4e0da1=>{const _0x28d629=_0x2ae6a2,_0x2fa452=_0x4e0da1['val']();if(!_0x2fa452)return;for(const _0x5ccc1d in _0x2fa452){if(_0x235b90[_0x28d629(0x275)](_0x5ccc1d,STATIC_ROOM))db['ref'](_0x28d629(0x211)+_0x5ccc1d)['remove']();}});});}document['addEventListener'](_0x5366a4(0x318),()=>{const _0x3fb262=_0x5366a4,_0x3a17b0={'cSRTf':function(_0x439d57,_0xc56832){return _0x439d57===_0xc56832;},'zZoYD':'Enter','mmEXS':_0x3fb262(0x3cf)},_0x5d40b4=document[_0x3fb262(0x473)](_0x3a17b0[_0x3fb262(0x1ff)]);_0x5d40b4&&_0x5d40b4['addEventListener'](_0x3fb262(0x24e),function(_0x5ca9c5){const _0x48175c=_0x3fb262;_0x3a17b0[_0x48175c(0x22c)](_0x5ca9c5[_0x48175c(0x471)],_0x3a17b0['zZoYD'])&&(_0x5ca9c5[_0x48175c(0x2db)](),sendMessage());});});function showScreen(_0x10daae){const _0x297171=_0x5366a4,_0x69c1={'phnFv':_0x297171(0x389),'POaOu':_0x297171(0x2c9),'wYUzH':_0x297171(0x440),'jszeH':_0x297171(0x3d2),'HuzVF':'passwordScreen','yZvZk':_0x297171(0x38c),'iSDIJ':_0x297171(0x225)};[_0x297171(0x2df),_0x69c1[_0x297171(0x2de)],_0x69c1[_0x297171(0x322)],_0x69c1[_0x297171(0x25c)],_0x69c1[_0x297171(0x2b3)],_0x297171(0x401),_0x69c1['yZvZk'],_0x69c1[_0x297171(0x48d)],'editProfileScreen'][_0x297171(0x354)](_0x4b0caf=>{const _0x4f1ea8=_0x297171;document[_0x4f1ea8(0x473)](_0x4b0caf)[_0x4f1ea8(0x37a)][_0x4f1ea8(0x32a)]=_0x69c1[_0x4f1ea8(0x255)];}),document['getElementById'](_0x10daae)[_0x297171(0x37a)][_0x297171(0x32a)]=_0x297171(0x42f);}function genRoomCode(){const _0x1eb2ec=_0x5366a4,_0x43fd5b={'NBUvd':_0x1eb2ec(0x28d),'SXKcc':function(_0x7731a7,_0x44fba1){return _0x7731a7+_0x44fba1;},'bMANl':function(_0x31eefc,_0x331d0e){return _0x31eefc+_0x331d0e;},'VakXQ':function(_0x2798c6,_0xeeb852){return _0x2798c6+_0xeeb852;},'yRPNU':function(_0x3269c2,_0x1d67d9,_0xfeaf7c){return _0x3269c2(_0x1d67d9,_0xfeaf7c);},'MZHGp':function(_0x4c92d3,_0x26bccc,_0x1d4784){return _0x4c92d3(_0x26bccc,_0x1d4784);}},_0x56956b=_0x1eb2ec(0x44f),_0x66bd3e=_0x43fd5b[_0x1eb2ec(0x2dc)],_0x891ce=(_0x249fee,_0x4c10f5)=>Array[_0x1eb2ec(0x493)]({'length':_0x4c10f5},()=>_0x249fee[Math[_0x1eb2ec(0x387)](Math[_0x1eb2ec(0x2f7)]()*_0x249fee[_0x1eb2ec(0x2a0)])])['join']('');return _0x43fd5b['SXKcc'](_0x43fd5b[_0x1eb2ec(0x21f)](_0x43fd5b['VakXQ'](_0x43fd5b[_0x1eb2ec(0x3d6)](_0x891ce,_0x66bd3e,0x3),_0x43fd5b[_0x1eb2ec(0x3d6)](_0x891ce,_0x56956b,0x3)),_0x43fd5b['MZHGp'](_0x891ce,_0x66bd3e,0x2)),_0x891ce(_0x56956b,0x2));}function startInactivityTimer(){const _0x2c28e9=_0x5366a4,_0x2b9e6c={'pudTB':function(_0x10cc27,_0x39c2a5){return _0x10cc27>_0x39c2a5;},'ekoYW':function(_0x4f325d,_0x123e84){return _0x4f325d*_0x123e84;},'YkXPR':function(_0x77314b,_0x3ecf3f){return _0x77314b!==_0x3ecf3f;},'VQAzh':function(_0x1d7691,_0x54a84c){return _0x1d7691+_0x54a84c;},'hdkYZ':_0x2c28e9(0x217),'vejGb':function(_0x4fb7b9,_0x30cba7){return _0x4fb7b9(_0x30cba7);},'XlHHW':_0x2c28e9(0x4a1),'IKUSj':function(_0x2fa4c6,_0x3ee96b,_0x2ba16d){return _0x2fa4c6(_0x3ee96b,_0x2ba16d);}};_0x2b9e6c[_0x2c28e9(0x266)](setInterval,()=>{const _0x39565f=_0x2c28e9;_0x2b9e6c['pudTB'](Date[_0x39565f(0x453)]()-lastActivity,_0x2b9e6c['ekoYW'](0x5,0x3c)*0x3e8)&&_0x2b9e6c[_0x39565f(0x2e9)](roomCode,STATIC_ROOM)&&(db[_0x39565f(0x252)](_0x2b9e6c[_0x39565f(0x2aa)](_0x2b9e6c['hdkYZ'],roomCode))[_0x39565f(0x262)]({'active':![]}),_0x2b9e6c['vejGb'](alert,_0x2b9e6c['XlHHW']),location[_0x39565f(0x371)]());},0x7530);}function setupSidebarBackHandler(){const _0x35af03=_0x5366a4,_0x1a6ad9={'SOLSN':'show','wRBBR':_0x35af03(0x400)};window[_0x35af03(0x35f)](_0x1a6ad9['wRBBR'],()=>{const _0x45535d=_0x35af03,_0x1a376e=document[_0x45535d(0x473)]('userSidebar');_0x1a376e?.[_0x45535d(0x212)][_0x45535d(0x416)](_0x1a6ad9['SOLSN'])&&_0x1a376e['classList'][_0x45535d(0x260)](_0x1a6ad9[_0x45535d(0x3f1)]);});}function toggleSidebar(){const _0x43709d=_0x5366a4,_0xc3dead={'KCdOy':'userSidebar','lLvfc':_0x43709d(0x489)},_0x2418af=document[_0x43709d(0x473)](_0xc3dead[_0x43709d(0x26d)]);if(!_0x2418af[_0x43709d(0x212)][_0x43709d(0x416)](_0xc3dead[_0x43709d(0x36f)]))_0x2418af['classList'][_0x43709d(0x352)](_0xc3dead[_0x43709d(0x36f)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x2418af[_0x43709d(0x212)][_0x43709d(0x260)](_0xc3dead['lLvfc']);if(history[_0x43709d(0x3ad)]?.['sidebarOpen'])history['back']();}}function setupVisibilityAttention(){const _0x2444d0=_0x5366a4,_0x3c1dd6={'zSaqQ':_0x2444d0(0x26e)};let _0x4a00a8=0x0,_0x2fc041=document[_0x2444d0(0x26c)];document[_0x2444d0(0x35f)](_0x3c1dd6[_0x2444d0(0x207)],()=>{const _0x5531fe=_0x2444d0;!document[_0x5531fe(0x44d)]&&(document[_0x5531fe(0x26c)]=_0x2fc041,_0x4a00a8=0x0);}),window[_0x2444d0(0x364)]=function(){const _0x1fad76=_0x2444d0;document[_0x1fad76(0x44d)]&&(_0x4a00a8++,document['title']='('+_0x4a00a8+_0x1fad76(0x45c)+_0x2fc041);};}function tryEditProfile(){const _0x361f66=_0x5366a4,_0x3a9466={'ZXRnn':_0x361f66(0x43d)};document['getElementById'](_0x3a9466[_0x361f66(0x350)])[_0x361f66(0x37a)][_0x361f66(0x32a)]='flex';}async function submitEditProfile(){const _0x3f855a=_0x5366a4,_0x273d3={'ujWgr':'editProfileError','upRdn':_0x3f855a(0x3ca),'zTSrk':_0x3f855a(0x310),'zcyLt':function(_0x474208,_0x434102){return _0x474208(_0x434102);},'PHjbF':function(_0x2bf258,_0x3d43c3){return _0x2bf258!==_0x3d43c3;},'JdhJY':_0x3f855a(0x3ef),'fxZOV':function(_0x3718fa,_0x4524ce){return _0x3718fa(_0x4524ce);},'QczvA':function(_0x4ed7ca,_0x34e1ea){return _0x4ed7ca*_0x34e1ea;},'ZkNeZ':function(_0x1821f1,_0x47fca6){return _0x1821f1*_0x47fca6;},'ZCWdW':function(_0xba7cc7,_0x239e25){return _0xba7cc7*_0x239e25;},'ATtaS':function(_0x2747cc,_0x2d54bd){return _0x2747cc>_0x2d54bd;},'OkRuM':function(_0x380a3a,_0x17222b){return _0x380a3a-_0x17222b;},'PKoKO':function(_0x5296a1,_0x1bff52){return _0x5296a1(_0x1bff52);},'mLqwo':_0x3f855a(0x3d3),'JkrRx':function(_0x4bc3a2,_0x58794a){return _0x4bc3a2(_0x58794a);},'IMwrX':_0x3f855a(0x23f)},_0x14f8f6=document[_0x3f855a(0x473)](_0x3f855a(0x3f9))[_0x3f855a(0x3b3)],_0x469c8e=document[_0x3f855a(0x473)](_0x3f855a(0x386))['value'],_0x514e1f=document[_0x3f855a(0x473)](_0x3f855a(0x2c2))[_0x3f855a(0x3b3)][_0x3f855a(0x3ba)](),_0x56405b=document['getElementById'](_0x273d3[_0x3f855a(0x20c)]);if(!_0x14f8f6){_0x56405b[_0x3f855a(0x251)]=_0x273d3['upRdn'],_0x56405b[_0x3f855a(0x37a)][_0x3f855a(0x32a)]=_0x273d3[_0x3f855a(0x3f2)];return;}const _0x320ae0=_0x273d3[_0x3f855a(0x38b)](sanitizeUsername,username),_0x3685a9=await db[_0x3f855a(0x252)](_0x3f855a(0x2cc)+_0x320ae0)[_0x3f855a(0x3dc)]();if(!_0x3685a9[_0x3f855a(0x26a)]()){_0x56405b[_0x3f855a(0x251)]='Profile\x20not\x20found.',_0x56405b[_0x3f855a(0x37a)][_0x3f855a(0x32a)]=_0x273d3['zTSrk'];return;}const _0x4e5efe=_0x3685a9['val'](),_0x2876ef=await _0x273d3[_0x3f855a(0x38b)](sha256,_0x14f8f6);if(_0x273d3['PHjbF'](_0x2876ef,_0x4e5efe[_0x3f855a(0x41e)])){_0x56405b[_0x3f855a(0x251)]=_0x273d3[_0x3f855a(0x456)],_0x56405b[_0x3f855a(0x37a)]['display']=_0x273d3['zTSrk'];return;}const _0x41fdf3={};if(_0x469c8e){const _0x3f776e=await _0x273d3[_0x3f855a(0x35c)](sha256,_0x469c8e);_0x41fdf3[_0x3f855a(0x41e)]=_0x3f776e;}_0x273d3['PHjbF'](_0x514e1f,_0x4e5efe[_0x3f855a(0x22d)])&&(_0x41fdf3[_0x3f855a(0x22d)]=_0x514e1f);const _0x32cd11=Date['now'](),_0x2f8dab=_0x273d3[_0x3f855a(0x277)](_0x273d3[_0x3f855a(0x346)](_0x273d3[_0x3f855a(0x49f)](0x18,0x3c),0x3c),0x3e8),_0x30a722=_0x273d3['ATtaS'](_0x273d3[_0x3f855a(0x32e)](_0x32cd11,_0x4e5efe[_0x3f855a(0x238)]||0x0),_0x2f8dab);if(_0x30a722&&_0x273d3['PKoKO'](confirm,'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)')){const _0x7bd5e8=prompt(_0x273d3[_0x3f855a(0x3ec)]);_0x7bd5e8&&_0x7bd5e8[_0x3f855a(0x3ba)]()&&(_0x41fdf3[_0x3f855a(0x3e8)]=_0x7bd5e8['trim'](),_0x41fdf3[_0x3f855a(0x27e)]=(_0x4e5efe['usernameHistory']||[])[_0x3f855a(0x463)](_0x7bd5e8['trim']()),_0x41fdf3[_0x3f855a(0x238)]=_0x32cd11);}_0x41fdf3[_0x3f855a(0x3e8)]&&_0x41fdf3[_0x3f855a(0x3e8)]!==_0x4e5efe[_0x3f855a(0x3e8)]?(await db[_0x3f855a(0x252)](_0x3f855a(0x2cc)+sanitizeUsername(_0x41fdf3[_0x3f855a(0x3e8)]))[_0x3f855a(0x22a)]({..._0x4e5efe,..._0x41fdf3}),await db[_0x3f855a(0x252)](_0x3f855a(0x2cc)+_0x320ae0)[_0x3f855a(0x260)](),username=_0x41fdf3[_0x3f855a(0x3e8)]):await db[_0x3f855a(0x252)](_0x3f855a(0x2cc)+_0x320ae0)[_0x3f855a(0x262)](_0x41fdf3),_0x273d3[_0x3f855a(0x34e)](alert,_0x273d3[_0x3f855a(0x44b)]),location[_0x3f855a(0x371)]();}function cancelEditProfile(){const _0x888c98=_0x5366a4,_0x305947={'tFTix':'chatScreen'};document[_0x888c98(0x473)](_0x888c98(0x43d))['style'][_0x888c98(0x32a)]=_0x888c98(0x389),showScreen(_0x305947[_0x888c98(0x40d)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x2ff9a5=_0x5366a4,_0x22c442={'dmArN':function(_0xe003df,_0x8e654f){return _0xe003df(_0x8e654f);},'ZNgen':function(_0x300d65){return _0x300d65();},'YDoxZ':_0x2ff9a5(0x3b3)};db[_0x2ff9a5(0x252)](_0x2ff9a5(0x312)+roomCode)['on'](_0x22c442['YDoxZ'],async _0x21d95d=>{const _0x5330f1=_0x2ff9a5;if(!_0x21d95d[_0x5330f1(0x26a)]()){_0x22c442[_0x5330f1(0x355)](renderUserLists,{});return;}const _0x34b988=_0x21d95d['val']();await _0x22c442[_0x5330f1(0x3c2)](loadRoomRoles),_0x22c442['dmArN'](renderUserLists,_0x34b988);});}function trackPresence(){const _0x17a8f2=_0x5366a4,_0x3e9ebc={'VzRDE':'2|4|0|3|1','BSOlV':function(_0x135cba){return _0x135cba();},'GElNb':function(_0x472236,_0x316547){return _0x472236||_0x316547;},'liZsz':function(_0x3d4601,_0x39b504){return _0x3d4601||_0x39b504;},'QiRry':function(_0x22153f,_0x59acc6){return _0x22153f(_0x59acc6);},'WuxfA':function(_0x502832,_0x3fa75d){return _0x502832||_0x3fa75d;}};if(!username||!roomCode)return;const _0x749e4e=_0x3e9ebc[_0x17a8f2(0x285)](sanitizeUsername,username),_0x24ece2=db[_0x17a8f2(0x252)]('users/'+roomCode+'/'+_0x749e4e),_0x17940a={'username':username,'avatarBase64':_0x3e9ebc[_0x17a8f2(0x494)](avatarBase64,''),'description':_0x3e9ebc[_0x17a8f2(0x2a3)](userDescription,''),'online':!![],'lastOnline':firebase[_0x17a8f2(0x27d)][_0x17a8f2(0x33c)][_0x17a8f2(0x242)]};db['ref']('admins/'+roomCode+'/'+_0x749e4e)[_0x17a8f2(0x276)](_0x17a8f2(0x3b3))[_0x17a8f2(0x36c)](_0x5c79f0=>{const _0x5842f1=_0x17a8f2,_0x192e51=_0x3e9ebc[_0x5842f1(0x29d)][_0x5842f1(0x1f6)]('|');let _0x5ed2b1=0x0;while(!![]){switch(_0x192e51[_0x5ed2b1++]){case'0':_0x24ece2[_0x5842f1(0x22a)](_0x17940a);continue;case'1':_0x3e9ebc['BSOlV'](updateOnlineIndicator);continue;case'2':_0x5c79f0[_0x5842f1(0x26a)]()&&(_0x17940a[_0x5842f1(0x27f)]=!![]);continue;case'3':_0x24ece2[_0x5842f1(0x282)]()['set']({'username':username,'avatarBase64':_0x3e9ebc[_0x5842f1(0x494)](avatarBase64,''),'description':_0x3e9ebc[_0x5842f1(0x449)](userDescription,''),'online':![],'lastOnline':Date[_0x5842f1(0x453)]()});continue;case'4':_0x24ece2[_0x5842f1(0x282)]()[_0x5842f1(0x262)]({'online':![],'lastOnline':Date[_0x5842f1(0x453)]()});continue;}break;}});}function uploadSidebarAvatar(_0x2ca62a){const _0x55cc22=_0x5366a4,_0x6944f1={'NryWy':_0x55cc22(0x35a),'jcgkq':_0x55cc22(0x310),'lQNcy':_0x55cc22(0x25e),'NPsnH':function(_0x2cf814,_0x5c2cad){return _0x2cf814(_0x5c2cad);},'WIclz':_0x55cc22(0x3bf)};if(!_0x2ca62a[_0x55cc22(0x2bd)][_0x55cc22(0x2a0)])return;const _0x338486=_0x2ca62a[_0x55cc22(0x2bd)][0x0],_0x24f096=new FileReader();_0x24f096['onloadend']=async()=>{const _0x1d93ed=_0x55cc22,_0x1cace1=_0x24f096['result'][_0x1d93ed(0x1f6)](',')[0x1];document[_0x1d93ed(0x473)](_0x6944f1[_0x1d93ed(0x370)])[_0x1d93ed(0x3d9)]=_0x24f096['result'],document[_0x1d93ed(0x473)](_0x6944f1[_0x1d93ed(0x370)])[_0x1d93ed(0x37a)][_0x1d93ed(0x32a)]=_0x6944f1[_0x1d93ed(0x3c0)];try{const _0x858ee0=sanitizeUsername(username);await db[_0x1d93ed(0x252)]('auth/'+_0x858ee0+_0x1d93ed(0x23b))[_0x1d93ed(0x22a)](_0x1cace1),alert(_0x6944f1['lQNcy']);}catch(_0x3b880f){console[_0x1d93ed(0x206)](_0x3b880f),_0x6944f1['NPsnH'](alert,_0x6944f1[_0x1d93ed(0x28a)]);}},_0x24f096['readAsDataURL'](_0x338486);}function muteUser(_0x5d969a,_0x116667){const _0x51e2c6=_0x5366a4,_0x5444ef={'Xitol':function(_0x13b6c2,_0x56d263){return _0x13b6c2(_0x56d263);},'Safrq':function(_0x1c3dc9,_0xfc4bae){return _0x1c3dc9(_0xfc4bae);},'TUVJv':function(_0x192be8,_0x6215b9){return _0x192be8*_0x6215b9;},'gTBds':function(_0x22bf85,_0x270bb2){return _0x22bf85*_0x270bb2;}},_0x49802d=Date[_0x51e2c6(0x453)]()+_0x5444ef[_0x51e2c6(0x2eb)](_0x5444ef[_0x51e2c6(0x2bf)](_0x116667,0x3c),0x3e8);db[_0x51e2c6(0x252)](_0x51e2c6(0x44c)+roomCode+'/'+sanitizeUsername(_0x5d969a))[_0x51e2c6(0x22a)]({'muteUntil':_0x49802d})[_0x51e2c6(0x36c)](()=>{const _0x3a0023=_0x51e2c6;_0x5444ef[_0x3a0023(0x37c)](alert,_0x5d969a+_0x3a0023(0x412)+_0x116667+'\x20minutes.'),_0x5444ef[_0x3a0023(0x343)](addSystemMessage,_0x5d969a+_0x3a0023(0x22b)+_0x116667+_0x3a0023(0x24c));});}function _0x31be(_0x480fc4,_0x5cf22b){const _0x4d1cfd=_0x4d1c();return _0x31be=function(_0x31be7d,_0x4173ce){_0x31be7d=_0x31be7d-0x1f2;let _0x247527=_0x4d1cfd[_0x31be7d];return _0x247527;},_0x31be(_0x480fc4,_0x5cf22b);}function unmuteUser(_0x567f5d){const _0x3d31cc=_0x5366a4,_0x175771={'yabbe':_0x3d31cc(0x246),'TZMDn':function(_0x19a4e5,_0x564229){return _0x19a4e5(_0x564229);}};if(!isRoomAdmin)return alert(_0x175771[_0x3d31cc(0x2dd)]);db['ref'](_0x3d31cc(0x44c)+roomCode+'/'+_0x175771[_0x3d31cc(0x423)](sanitizeUsername,_0x567f5d))[_0x3d31cc(0x260)]();}function updateOnlineIndicator(){const _0x383dbc=_0x5366a4,_0x1c3ec4={'YgjJC':_0x383dbc(0x395),'abJzG':'‚óè\x20Online'},_0x34dc6c=document[_0x383dbc(0x473)](_0x1c3ec4[_0x383dbc(0x477)]);_0x34dc6c[_0x383dbc(0x251)]=_0x1c3ec4['abJzG'],_0x34dc6c[_0x383dbc(0x37a)][_0x383dbc(0x45a)]='#00ff88';}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x5dc381){const _0x1ffb64=_0x5366a4,_0x2ca3ac={'KcSUl':function(_0x6af850,_0x5e5319){return _0x6af850(_0x5e5319);},'aPckk':'No\x20bio\x20set','VeXEy':'No\x20changes\x20yet','fHKNA':_0x1ffb64(0x31b),'mBxcY':'profileViewer'};db[_0x1ffb64(0x252)]('auth/'+_0x5dc381)[_0x1ffb64(0x3dc)]()[_0x1ffb64(0x36c)](_0x49fb75=>{const _0xb781e4=_0x1ffb64;if(!_0x49fb75[_0xb781e4(0x26a)]())return _0x2ca3ac[_0xb781e4(0x2c1)](alert,_0xb781e4(0x2ca));const _0x433bed=_0x49fb75['val'](),_0x2b402d=(_0xb781e4(0x37f)+_0x433bed['username']+_0xb781e4(0x391)+(_0x433bed[_0xb781e4(0x22d)]||_0x2ca3ac['aPckk'])+_0xb781e4(0x474)+((_0x433bed['usernameHistory']||[])[_0xb781e4(0x369)](',\x20')||_0x2ca3ac[_0xb781e4(0x390)])+_0xb781e4(0x445)+(_0x433bed['lastChanged']?new Date(_0x433bed['lastChanged'])['toLocaleString']():_0x2ca3ac[_0xb781e4(0x496)])+_0xb781e4(0x23d))[_0xb781e4(0x3ba)]();document['getElementById']('profileContent')[_0xb781e4(0x251)]=_0x2b402d,document[_0xb781e4(0x473)](_0x2ca3ac['mBxcY'])[_0xb781e4(0x37a)]['display']=_0xb781e4(0x310);});}function initUsernameFlow(){const _0x40c702=_0x5366a4,_0x29ae4b={'yYXNQ':'profileScreen','Iielx':'namePreview','HDkyI':function(_0x576241,_0x3e1f42){return _0x576241(_0x3e1f42);},'tiJee':_0x40c702(0x2c9)},_0x52c6d4=localStorage[_0x40c702(0x365)](_0x40c702(0x3fe));!_0x52c6d4?showScreen(_0x29ae4b[_0x40c702(0x46c)]):(username=_0x52c6d4,document['getElementById'](_0x29ae4b['Iielx'])['innerText']=username,_0x29ae4b[_0x40c702(0x45f)](showScreen,_0x29ae4b[_0x40c702(0x3a2)]));}function closeProfile(){const _0x1d9efa=_0x5366a4,_0x3f4e85={'kxVwf':_0x1d9efa(0x38c),'BCjpf':_0x1d9efa(0x389)};document[_0x1d9efa(0x473)](_0x3f4e85[_0x1d9efa(0x47e)])['style'][_0x1d9efa(0x32a)]=_0x3f4e85[_0x1d9efa(0x35e)];}function resetWebsiteData(){const _0xc30c3e=_0x5366a4,_0x5c6f6a={'Dlqpl':'notifications_enabled','kJNDZ':'1|3|0|2|4','lWrYY':function(_0xdd61d7,_0x5f03f7){return _0xdd61d7+_0x5f03f7;}};try{const _0x2c6f6f=localStorage[_0xc30c3e(0x365)](_0x5c6f6a[_0xc30c3e(0x20f)]);localStorage['clear'](),sessionStorage[_0xc30c3e(0x2b9)](),_0x2c6f6f&&localStorage[_0xc30c3e(0x3aa)](_0xc30c3e(0x309),_0x2c6f6f);}catch(_0x37ee1c){}if(!username||!roomCode){const _0x4c1764=_0x5c6f6a[_0xc30c3e(0x3bb)][_0xc30c3e(0x1f6)]('|');let _0x34d62f=0x0;while(!![]){switch(_0x4c1764[_0x34d62f++]){case'0':isRoomAdmin=![];continue;case'1':username=null;continue;case'2':pendingMessages=[];continue;case'3':roomCode=null;continue;case'4':clientId=_0x5c6f6a[_0xc30c3e(0x44a)]('_',Math[_0xc30c3e(0x2f7)]()[_0xc30c3e(0x203)](0x24)['substr'](0x2,0x9));continue;}break;}}}function addAnnouncement(){const _0x2a2edc=_0x5366a4,_0x43553c=prompt('Enter\x20Announcement\x20Text:');if(!_0x43553c)return;db[_0x2a2edc(0x252)]('rooms/'+roomCode+_0x2a2edc(0x3f3))[_0x2a2edc(0x22a)]({'text':_0x43553c,'by':username,'timestamp':Date[_0x2a2edc(0x453)]()});}function listenForAnnouncement(){const _0x502fbd=_0x5366a4,_0x3c59b7={'HcDJY':_0x502fbd(0x236),'XAeYk':_0x502fbd(0x3b3)},_0x18ee8f=db[_0x502fbd(0x252)](_0x502fbd(0x217)+roomCode+_0x502fbd(0x3f3));_0x18ee8f['on'](_0x3c59b7[_0x502fbd(0x293)],_0x55a2b7=>{const _0x3b98a0=_0x502fbd,_0x16d95=_0x55a2b7[_0x3b98a0(0x3b9)]();if(!_0x16d95){document['getElementById'](_0x3c59b7['HcDJY'])[_0x3b98a0(0x251)]='';return;}const _0x492d0e=document['getElementById'](_0x3c59b7[_0x3b98a0(0x36b)]);_0x492d0e[_0x3b98a0(0x251)]=''+_0x16d95[_0x3b98a0(0x30b)];});}document[_0x5366a4(0x473)](_0x5366a4(0x236))[_0x5366a4(0x35f)](_0x5366a4(0x446),_0x2f385e=>{const _0x1590f8=_0x5366a4,_0x507db1={'SXkaC':function(_0x1c3c66,_0x58c28f){return _0x1c3c66===_0x58c28f;},'qIKbK':function(_0x3ac3a3,_0x3216e7){return _0x3ac3a3(_0x3216e7);}};_0x507db1['SXkaC'](_0x2f385e[_0x1590f8(0x286)],0x3)&&isRoomAdmin&&(_0x507db1[_0x1590f8(0x224)](confirm,_0x1590f8(0x200))&&db[_0x1590f8(0x252)]('rooms/'+roomCode+_0x1590f8(0x3f3))[_0x1590f8(0x260)]());}),document['getElementById'](_0x5366a4(0x3cf))[_0x5366a4(0x35f)](_0x5366a4(0x46e),()=>{const _0x2173ae=_0x5366a4,_0x480e85={'NKLla':_0x2173ae(0x3cf),'zGNhd':_0x2173ae(0x3e9)},_0x1fc47=document[_0x2173ae(0x473)](_0x480e85[_0x2173ae(0x243)]);_0x549ec0?_0x1fc47[_0x2173ae(0x37a)][_0x2173ae(0x2fc)]='2px\x20solid\x20red':_0x1fc47[_0x2173ae(0x37a)][_0x2173ae(0x2fc)]='';const _0x48aaf0=_0x1fc47[_0x2173ae(0x3b3)][_0x2173ae(0x213)](),_0x549ec0=swearWords[_0x2173ae(0x42e)](_0xe6df76=>_0x48aaf0['includes'](_0xe6df76));_0x549ec0?(_0x1fc47[_0x2173ae(0x37a)]['border']=_0x480e85['zGNhd'],sendBtn[_0x2173ae(0x2e6)]=!![]):(_0x1fc47['style']['border']='',_0x549ec0?_0x1fc47[_0x2173ae(0x37a)][_0x2173ae(0x2fc)]=_0x480e85[_0x2173ae(0x300)]:_0x1fc47[_0x2173ae(0x37a)][_0x2173ae(0x2fc)]='');});function muteUser(_0x4d71d5,_0x4816c9){const _0x390126=_0x5366a4,_0x31c409={'szRju':function(_0x39bcd4,_0x422bd9){return _0x39bcd4+_0x422bd9;},'qxvRG':function(_0x4ec6f3,_0x31a226){return _0x4ec6f3*_0x31a226;},'UeaxQ':function(_0x27f611,_0x5f334c){return _0x27f611*_0x5f334c;},'foDZI':function(_0x2f4202,_0x4e11bf){return _0x2f4202(_0x4e11bf);}},_0x16f1d2=_0x31c409[_0x390126(0x3a7)](Date[_0x390126(0x453)](),_0x31c409[_0x390126(0x433)](_0x31c409[_0x390126(0x2ac)](_0x4816c9,0x3c),0x3e8));db['ref']('muted/'+roomCode+'/'+_0x31c409[_0x390126(0x44e)](sanitizeUsername,_0x4d71d5))['set']({'muteUntil':_0x16f1d2})[_0x390126(0x36c)](()=>{const _0x354179=_0x390126;alert(_0x4d71d5+_0x354179(0x412)+_0x4816c9+_0x354179(0x497));});}function deleteUserMessages(_0x5537d6){const _0x1396d2=_0x5366a4,_0x6c4e46={'eyKLw':_0x1396d2(0x368)};db[_0x1396d2(0x252)](_0x1396d2(0x217)+roomCode+_0x1396d2(0x418))[_0x1396d2(0x329)](_0x6c4e46[_0x1396d2(0x478)])[_0x1396d2(0x220)](_0x5537d6)[_0x1396d2(0x3dc)]()[_0x1396d2(0x36c)](_0x5e715b=>{const _0x57504c=_0x1396d2;_0x5e715b[_0x57504c(0x354)](_0x737c01=>{const _0x4198e2=_0x57504c;db[_0x4198e2(0x252)]('rooms/'+roomCode+_0x4198e2(0x427)+_0x737c01['key'])[_0x4198e2(0x260)]();}),alert(_0x57504c(0x429)+_0x5537d6+_0x57504c(0x2ff));});}function pauseRoom(_0x1432cb){const _0x459093=_0x5366a4,_0xea3d78={'lLKaH':_0x459093(0x345),'EBbLG':'block','YNvfh':'none','ePvac':_0x459093(0x3b3)};db['ref'](_0x459093(0x217)+roomCode+_0x459093(0x2fe))['on'](_0xea3d78[_0x459093(0x299)],_0x25ead7=>{const _0x8b1da9=_0x459093,_0x54153e=_0x25ead7[_0x8b1da9(0x3b9)]();document['getElementById'](_0xea3d78['lLKaH'])[_0x8b1da9(0x37a)][_0x8b1da9(0x32a)]=_0x54153e?_0xea3d78[_0x8b1da9(0x302)]:_0xea3d78['YNvfh'];});}function canPerformAction(_0x29acfa){const _0x10ae7c=_0x5366a4,_0x34bf3e={'DxhOb':function(_0x5ad620,_0x552bca){return _0x5ad620===_0x552bca;},'rnFvo':_0x10ae7c(0x455),'Quvha':function(_0x594b50,_0xa3c9b){return _0x594b50===_0xa3c9b;},'hMbrU':'mute','QbJfW':_0x10ae7c(0x27f),'OAjYP':_0x10ae7c(0x48a)};if(_0x34bf3e[_0x10ae7c(0x295)](role,_0x34bf3e[_0x10ae7c(0x273)]))return!![];if(_0x34bf3e[_0x10ae7c(0x2af)](_0x29acfa,_0x34bf3e['hMbrU'])||_0x29acfa===_0x10ae7c(0x303))return _0x34bf3e[_0x10ae7c(0x2af)](role,_0x34bf3e[_0x10ae7c(0x29f)])||_0x34bf3e[_0x10ae7c(0x295)](role,_0x10ae7c(0x2a8));if(_0x29acfa===_0x34bf3e['OAjYP'])return role==='admin';return![];}const html=Object[_0x5366a4(0x46d)](roomUsers)[_0x5366a4(0x216)](_0x50a9ca=>{const _0x4d95a5=_0x5366a4,_0x13effc={'ZpAiE':function(_0x3a0d37,_0x7b7da6){return _0x3a0d37(_0x7b7da6);},'jyHND':function(_0x522b96,_0x4ed5cc){return _0x522b96!==_0x4ed5cc;},'XpbPm':_0x4d95a5(0x303),'zkatr':'dev','sMsqd':'admin','BHdbx':function(_0x3ecf52,_0x18e29e){return _0x3ecf52(_0x18e29e);}},_0x414934=_0x13effc['ZpAiE'](sanitizeUsername,_0x50a9ca[_0x4d95a5(0x3e8)]),_0x2b9f5d=[];if(_0x13effc[_0x4d95a5(0x2f3)](_0x414934,_0x13effc[_0x4d95a5(0x49a)](sanitizeUsername,username))){canPerformAction('mute')&&(_0x2b9f5d[_0x4d95a5(0x374)]('<button\x20onclick=\x22muteUser(\x27'+_0x414934+'\x27,\x205)\x22>Mute\x205m</button>'),_0x2b9f5d[_0x4d95a5(0x374)](_0x4d95a5(0x317)+_0x414934+'\x27,\x2010)\x22>Mute\x2010m</button>'));canPerformAction(_0x13effc[_0x4d95a5(0x495)])&&_0x2b9f5d['push'](_0x4d95a5(0x439)+_0x414934+_0x4d95a5(0x2f0));if(role===_0x13effc[_0x4d95a5(0x2d4)])_0x2b9f5d[_0x4d95a5(0x374)](_0x4d95a5(0x253)+_0x414934+_0x4d95a5(0x2b5)),_0x2b9f5d[_0x4d95a5(0x374)](_0x4d95a5(0x415)+_0x414934+_0x4d95a5(0x21c));else role===_0x13effc[_0x4d95a5(0x2ce)]&&_0x2b9f5d[_0x4d95a5(0x374)](_0x4d95a5(0x253)+_0x414934+_0x4d95a5(0x2b5));}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x50a9ca['username']+'\x20'+getRoleTag(_0x13effc[_0x4d95a5(0x438)](sanitizeUsername,_0x50a9ca['username']))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x414934+_0x4d95a5(0x3c8)+_0x2b9f5d[_0x4d95a5(0x369)]('')+_0x4d95a5(0x1fd)+_0x414934+_0x4d95a5(0x34b);})['join']('');function promoteToModerator(_0x50d801){const _0x4153d7=_0x5366a4,_0x2cc698={'yYhMG':function(_0xed9b07,_0x35fcf6){return _0xed9b07(_0x35fcf6);},'KAJqd':function(_0xd16835,_0xaf2c1f){return _0xd16835(_0xaf2c1f);},'exUoh':_0x4153d7(0x330),'ohojp':function(_0x566115,_0x52737b){return _0x566115!==_0x52737b;},'hzaSy':_0x4153d7(0x455),'AUORQ':function(_0x1136a8,_0x3a5bd9){return _0x1136a8!==_0x3a5bd9;},'LUykA':_0x4153d7(0x27f),'qMnVY':_0x4153d7(0x486)},_0x5ab3b0=sanitizeUsername(_0x50d801);if(_0x2cc698[_0x4153d7(0x492)](isProtected,_0x5ab3b0))return _0x2cc698[_0x4153d7(0x222)](alert,_0x2cc698[_0x4153d7(0x1f9)]);if(_0x2cc698[_0x4153d7(0x334)](role,_0x2cc698[_0x4153d7(0x40e)])&&_0x2cc698[_0x4153d7(0x2b0)](role,_0x2cc698[_0x4153d7(0x210)])){_0x2cc698[_0x4153d7(0x492)](alert,_0x2cc698[_0x4153d7(0x41d)]);return;}db[_0x4153d7(0x252)](_0x4153d7(0x2f6)+roomCode+'/'+_0x5ab3b0)[_0x4153d7(0x22a)](!![])[_0x4153d7(0x36c)](()=>{const _0x199abb=_0x4153d7;alert(_0x50d801+'\x20promoted\x20to\x20Moderator!'),addSystemMessage(_0x50d801+_0x199abb(0x239));});}function promoteToAdmin(_0x40a089){const _0x1b8097=_0x5366a4,_0xedf8c7={'GCmjG':function(_0x2ffc32,_0x3aaec7){return _0x2ffc32(_0x3aaec7);},'pdkwh':function(_0x5642f8,_0x30a3af){return _0x5642f8(_0x30a3af);},'ylfyc':function(_0x14c9d9,_0x814603){return _0x14c9d9(_0x814603);},'YshPM':'üö´\x20Cannot\x20promote\x20Developers.','VFtfz':function(_0x20aac8,_0x47796d){return _0x20aac8!==_0x47796d;},'szOsw':_0x1b8097(0x455),'HZYvX':_0x1b8097(0x231)},_0x6896a0=_0xedf8c7[_0x1b8097(0x348)](sanitizeUsername,_0x40a089);if(_0xedf8c7[_0x1b8097(0x264)](isProtected,_0x6896a0))return _0xedf8c7[_0x1b8097(0x264)](alert,_0xedf8c7[_0x1b8097(0x2b8)]);if(_0xedf8c7[_0x1b8097(0x49b)](role,_0xedf8c7[_0x1b8097(0x2b7)])){alert(_0xedf8c7[_0x1b8097(0x377)]);return;}db[_0x1b8097(0x252)](_0x1b8097(0x448)+roomCode+'/'+_0x6896a0)[_0x1b8097(0x22a)](!![])['then'](()=>{const _0xc45470=_0x1b8097;_0xedf8c7[_0xc45470(0x2cb)](alert,_0x40a089+_0xc45470(0x43a)),addSystemMessage(_0x40a089+_0xc45470(0x45e));});}function toggleUserOptions(_0x44a2c1){const _0x1614fd=_0x5366a4,_0x2d54ce={'cZUDa':function(_0x36ec2a,_0x4ddf19){return _0x36ec2a===_0x4ddf19;},'PTXJe':_0x1614fd(0x455),'oxHks':'admin','ADryO':_0x1614fd(0x389),'Dtxxl':_0x1614fd(0x310)};(_0x2d54ce[_0x1614fd(0x30d)](role,_0x2d54ce[_0x1614fd(0x244)])||_0x2d54ce[_0x1614fd(0x30d)](role,_0x2d54ce['oxHks']))&&controls['push'](_0x1614fd(0x349)+safeName+_0x1614fd(0x479));const _0x3bc648=document[_0x1614fd(0x473)](_0x1614fd(0x280)+_0x44a2c1);_0x2d54ce['cZUDa'](_0x3bc648[_0x1614fd(0x37a)][_0x1614fd(0x32a)],_0x2d54ce['ADryO'])?_0x3bc648[_0x1614fd(0x37a)][_0x1614fd(0x32a)]=_0x2d54ce[_0x1614fd(0x372)]:_0x3bc648['style'][_0x1614fd(0x32a)]=_0x2d54ce[_0x1614fd(0x31f)];}function demoteUser(_0x27c2f5){const _0x4cbbe5=_0x5366a4,_0x3156d0={'uhtsk':function(_0x48431b,_0x537169){return _0x48431b(_0x537169);},'NXCax':'üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','uavtJ':'dev','bMIyQ':_0x4cbbe5(0x27f),'yhOSC':function(_0x208eef,_0x251d6f){return _0x208eef(_0x251d6f);},'DbTnp':function(_0x395cb3,_0x4e0559){return _0x395cb3(_0x4e0559);},'tIuvh':'üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(isProtected(_0x27c2f5))return _0x3156d0[_0x4cbbe5(0x3e3)](alert,_0x3156d0[_0x4cbbe5(0x2ba)]);if(role===_0x3156d0[_0x4cbbe5(0x466)])db['ref'](_0x4cbbe5(0x448)+roomCode+'/'+_0x27c2f5)['remove'](),db['ref']('moderators/'+roomCode+'/'+_0x27c2f5)['remove'](),_0x3156d0[_0x4cbbe5(0x3e3)](alert,_0x27c2f5+_0x4cbbe5(0x2e2));else role===_0x3156d0[_0x4cbbe5(0x265)]?(db[_0x4cbbe5(0x252)]('moderators/'+roomCode+'/'+_0x27c2f5)['remove'](),_0x3156d0[_0x4cbbe5(0x476)](alert,_0x27c2f5+'\x20demoted\x20to\x20user.')):_0x3156d0[_0x4cbbe5(0x3fb)](alert,_0x3156d0[_0x4cbbe5(0x454)]);}function getRoleTag(_0x44b4fa){const _0x27e984=_0x5366a4,_0x11867e={'uIXUt':function(_0x311f2e,_0x23fc5d){return _0x311f2e(_0x23fc5d);}},_0x46925b=_0x11867e[_0x27e984(0x209)](sanitizeUsername,_0x44b4fa);if(globalDevs[_0x27e984(0x40b)](_0x46925b))return _0x27e984(0x3c9);if(roomAdmins['includes'](_0x46925b))return _0x27e984(0x24f);if(roomModerators[_0x27e984(0x40b)](_0x46925b))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x47d22f=_0x5366a4,_0xd04d32={'UMrlG':function(_0x56369a,_0x786aa9){return _0x56369a===_0x786aa9;},'ROMyE':_0x47d22f(0x455),'lWOWl':function(_0x2a02b6,_0x10bf47){return _0x2a02b6(_0x10bf47);},'kSVml':'auth','wEJzw':_0x47d22f(0x27f),'HjRzv':_0x47d22f(0x2a8),'XRklF':_0x47d22f(0x2e7)},_0x425373=_0xd04d32['lWOWl'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x3d3edb=await db[_0x47d22f(0x252)](_0xd04d32[_0x47d22f(0x304)])['get']();_0x3d3edb[_0x47d22f(0x354)](_0x1156bb=>{const _0x138865=_0x47d22f;if(_0xd04d32[_0x138865(0x491)](_0x1156bb['val']()['role'],_0xd04d32[_0x138865(0x323)]))globalDevs[_0x138865(0x374)](_0x1156bb[_0x138865(0x471)]);});const _0x20920b=await db[_0x47d22f(0x252)](_0x47d22f(0x448)+roomCode)['get']();_0x20920b[_0x47d22f(0x26a)]()&&_0x20920b[_0x47d22f(0x354)](_0x474167=>roomAdmins[_0x47d22f(0x374)](_0x474167['key']));const _0x2e862a=await db[_0x47d22f(0x252)](_0x47d22f(0x2f6)+roomCode)[_0x47d22f(0x3dc)]();_0x2e862a[_0x47d22f(0x26a)]()&&_0x2e862a['forEach'](_0x4b0f20=>roomModerators[_0x47d22f(0x374)](_0x4b0f20[_0x47d22f(0x471)]));if(globalDevs[_0x47d22f(0x40b)](_0x425373))role=_0xd04d32[_0x47d22f(0x323)];else{if(roomAdmins[_0x47d22f(0x40b)](_0x425373))role=_0xd04d32['wEJzw'];else roomModerators[_0x47d22f(0x40b)](_0x425373)?role=_0xd04d32['HjRzv']:role=_0xd04d32[_0x47d22f(0x3d1)];}}async function renderUserLists(_0x1e71bd){const _0x35bbbf=_0x5366a4,_0x2b4932={'WOUYS':function(_0x4e7531,_0x11ca68){return _0x4e7531(_0x11ca68);},'eqpBn':function(_0x2c02e4,_0x3962d6){return _0x2c02e4(_0x3962d6);},'fdpRz':function(_0x595bd0,_0x1c3ebb){return _0x595bd0(_0x1c3ebb);},'ptzdc':function(_0xb4af68,_0x17d8ae){return _0xb4af68(_0x17d8ae);},'SaFid':_0x35bbbf(0x455),'UcPsI':function(_0x5be4af,_0x501123){return _0x5be4af===_0x501123;},'RsHpv':_0x35bbbf(0x27f),'uvMuv':function(_0x5d5a18,_0xf6d0ca){return _0x5d5a18===_0xf6d0ca;},'MzAeh':function(_0x3d5ec0,_0x40ecd5){return _0x3d5ec0===_0x40ecd5;},'kYeGp':function(_0x453f65,_0x4abce3){return _0x453f65===_0x4abce3;},'nCJBB':function(_0x5df077,_0x27e3e0){return _0x5df077(_0x27e3e0);},'pplGK':function(_0xa29f3d,_0x2002b0){return _0xa29f3d===_0x2002b0;},'ovjsp':'adminUserList'};roomUsers=_0x1e71bd;const _0x545f01=_0x2b4932[_0x35bbbf(0x24a)](sanitizeUsername,username),_0x4b2d7a=_0x2b4932[_0x35bbbf(0x48c)](role,_0x2b4932['SaFid'])||_0x2b4932[_0x35bbbf(0x413)](role,_0x2b4932[_0x35bbbf(0x39a)])||role===_0x35bbbf(0x2a8);document[_0x35bbbf(0x473)](_0x35bbbf(0x31c))[_0x35bbbf(0x37a)]['display']=_0x4b2d7a?'block':_0x35bbbf(0x389);const _0x4b806a=Object[_0x35bbbf(0x274)](_0x1e71bd)['map'](async([_0x1c8359,_0xc740ff])=>{const _0x106891=_0x35bbbf,_0x3bd0ec=_0x2b4932[_0x106891(0x3a1)](sanitizeUsername,_0xc740ff[_0x106891(0x3e8)]||_0x1c8359),_0x11228b=await _0x2b4932[_0x106891(0x2bb)](fetchAvatar,_0x3bd0ec),_0x37a7a4=_0x11228b?_0x106891(0x3ee)+_0x11228b+_0x106891(0x28b):'',_0x208a23=_0xc740ff[_0x106891(0x298)]?_0x106891(0x3cb):_0x106891(0x3e0);return _0x106891(0x3b8)+_0x37a7a4+'\x20'+_0x208a23+_0x106891(0x2f2)+_0x3bd0ec+_0x106891(0x256)+(_0xc740ff[_0x106891(0x3e8)]||_0x1c8359)+_0x106891(0x4a0)+_0x2b4932[_0x106891(0x3d8)](getRoleTag,_0x3bd0ec)+_0x106891(0x204);}),_0x5151b6=await Promise['all'](_0x4b806a);document[_0x35bbbf(0x473)]('userList')['innerHTML']=_0x5151b6[_0x35bbbf(0x369)]('');if(!_0x4b2d7a)return;const _0x361612=Object[_0x35bbbf(0x274)](_0x1e71bd)['map'](async([_0x497eb9,_0x41017e])=>{const _0x344161=_0x35bbbf,_0x46d9af=_0x2b4932[_0x344161(0x362)](sanitizeUsername,_0x41017e[_0x344161(0x3e8)]||_0x497eb9);if(_0x46d9af===_0x545f01)return'';const _0x3cd26a=globalDevs[_0x344161(0x40b)](_0x46d9af),_0x3258f3=await fetchAvatar(_0x46d9af),_0x181275=_0x3258f3?_0x344161(0x3ee)+_0x3258f3+_0x344161(0x28b):'',_0x43880a=_0x41017e['online']?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>',_0x57f4fb=[];if(!_0x3cd26a){(role===_0x2b4932[_0x344161(0x46b)]||_0x2b4932[_0x344161(0x3b6)](role,_0x2b4932['RsHpv'])||_0x2b4932[_0x344161(0x33f)](role,_0x344161(0x2a8)))&&(_0x57f4fb[_0x344161(0x374)](_0x344161(0x317)+_0x46d9af+_0x344161(0x2d3)),_0x57f4fb['push']('<button\x20onclick=\x22muteUser(\x27'+_0x46d9af+'\x27,\x205)\x22>Mute\x205m</button>'),_0x57f4fb['push'](_0x344161(0x317)+_0x46d9af+_0x344161(0x34a)));if(_0x2b4932['MzAeh'](role,_0x2b4932[_0x344161(0x46b)]))_0x57f4fb[_0x344161(0x374)](_0x344161(0x253)+_0x46d9af+_0x344161(0x403)),_0x57f4fb[_0x344161(0x374)](_0x344161(0x415)+_0x46d9af+'\x27)\x22>+Admin</button>'),_0x57f4fb[_0x344161(0x374)](_0x344161(0x349)+_0x46d9af+_0x344161(0x479));else _0x2b4932[_0x344161(0x48c)](role,_0x2b4932[_0x344161(0x39a)])&&(_0x57f4fb[_0x344161(0x374)](_0x344161(0x253)+_0x46d9af+_0x344161(0x403)),_0x57f4fb['push'](_0x344161(0x349)+_0x46d9af+'\x27)\x22>Demote</button>'));}return _0x344161(0x25d)+_0x181275+'\x20'+_0x43880a+_0x344161(0x3b0)+(_0x41017e[_0x344161(0x3e8)]||_0x497eb9)+'\x20'+getRoleTag(_0x46d9af)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x57f4fb[_0x344161(0x369)]('\x20')+_0x344161(0x3eb);}),_0x204621=await Promise[_0x35bbbf(0x3cd)](_0x361612);document[_0x35bbbf(0x473)](_0x2b4932[_0x35bbbf(0x332)])[_0x35bbbf(0x205)]=_0x204621[_0x35bbbf(0x369)]('');}async function fetchAvatar(_0x4f7a90){const _0x17993d=_0x5366a4;if(userAvatars[_0x4f7a90])return userAvatars[_0x4f7a90];const _0x503d68=await db[_0x17993d(0x252)](_0x17993d(0x2cc)+_0x4f7a90)['get']();if(_0x503d68['exists']()&&_0x503d68[_0x17993d(0x3b9)]()['avatarBase64'])return userAvatars[_0x4f7a90]=_0x503d68[_0x17993d(0x3b9)]()['avatarBase64'],userAvatars[_0x4f7a90];return null;}function sendTyping(){const _0x1bbc85=_0x5366a4,_0x13378b={'TZMbN':function(_0x39405d,_0x560416){return _0x39405d(_0x560416);}},_0x166557=_0x13378b[_0x1bbc85(0x457)](sanitizeUsername,username),_0x259b50=Date[_0x1bbc85(0x453)]();db[_0x1bbc85(0x252)]('typing/'+roomCode+'/'+_0x166557)[_0x1bbc85(0x22a)](_0x259b50);if(typingTimeout)_0x13378b[_0x1bbc85(0x457)](clearTimeout,typingTimeout);typingTimeout=setTimeout(()=>{const _0x258874=_0x1bbc85;db[_0x258874(0x252)]('typing/'+roomCode+'/'+_0x166557)[_0x258874(0x260)]();},0xbb8);}function listenForTyping(){const _0x22e67e=_0x5366a4,_0x5bf64e={'lXLai':_0x22e67e(0x399)};db[_0x22e67e(0x252)](_0x22e67e(0x2e4)+roomCode)['on']('value',_0x3b9904=>{const _0x558038=_0x22e67e,_0x49798e=document['getElementById'](_0x5bf64e[_0x558038(0x335)]);if(!_0x3b9904[_0x558038(0x26a)]())return _0x49798e[_0x558038(0x251)]='';const _0x411619=Date[_0x558038(0x453)](),_0x3a6fca=Object['entries'](_0x3b9904[_0x558038(0x3b9)]())[_0x558038(0x36e)](([_0x133a1e,_0x520aea])=>_0x133a1e!==sanitizeUsername(username)&&_0x411619-_0x520aea<0x1388)['map'](([_0x2b2bcb])=>_0x2b2bcb);_0x49798e[_0x558038(0x251)]=_0x3a6fca[_0x558038(0x2a0)]?_0x3a6fca['join'](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x2e2100=_0x5366a4,_0x40d725={'wEdWc':function(_0x2c304a,_0x37ad10){return _0x2c304a===_0x37ad10;},'KCjea':'object','gPiNM':function(_0x29d149,_0xb0beb9){return _0x29d149>_0xb0beb9;},'kdSzF':function(_0x2606e1,_0x38d2f0){return _0x2606e1>_0x38d2f0;},'aGWdU':_0x2e2100(0x2be),'UWWho':_0x2e2100(0x3e1),'xWkQE':function(_0x436ef5,_0x373e0b){return _0x436ef5(_0x373e0b);},'GDHxB':_0x2e2100(0x3b3)},_0x270d80=db['ref']('muted/'+roomCode+'/'+_0x40d725['xWkQE'](sanitizeUsername,username));_0x270d80['on'](_0x40d725['GDHxB'],_0x44b24a=>{const _0x1b1105=_0x2e2100,_0x43726c=document[_0x1b1105(0x473)](_0x1b1105(0x3cf));if(_0x44b24a[_0x1b1105(0x26a)]()){const _0x33629a=_0x44b24a[_0x1b1105(0x3b9)](),_0x298cc2=_0x40d725['wEdWc'](typeof _0x33629a,_0x40d725[_0x1b1105(0x3a4)])&&_0x33629a[_0x1b1105(0x428)]?_0x33629a[_0x1b1105(0x428)]:_0x33629a;_0x43726c[_0x1b1105(0x2e6)]=_0x40d725[_0x1b1105(0x2d8)](_0x298cc2,Date[_0x1b1105(0x453)]()),_0x43726c['placeholder']=_0x40d725[_0x1b1105(0x47a)](_0x298cc2,Date[_0x1b1105(0x453)]())?_0x40d725[_0x1b1105(0x3f7)]:_0x40d725[_0x1b1105(0x46a)];}else _0x43726c[_0x1b1105(0x2e6)]=![],_0x43726c['placeholder']=_0x40d725[_0x1b1105(0x46a)];});}function isProtected(_0xae5233){return globalDevs['includes'](_0xae5233);}function addSystemMessage(_0x410d43){const _0x15d799=_0x5366a4,_0x548128={'KtJtV':_0x15d799(0x33e),'UHVBf':'center','lgJsJ':'#aaa','kyvJe':_0x15d799(0x28c),'kXOhR':'messages'},_0x597064=document[_0x15d799(0x2e8)](_0x548128[_0x15d799(0x3ac)]);_0x597064[_0x15d799(0x37a)][_0x15d799(0x2ae)]=_0x548128[_0x15d799(0x1f7)],_0x597064[_0x15d799(0x37a)][_0x15d799(0x21e)]=_0x15d799(0x279),_0x597064[_0x15d799(0x37a)][_0x15d799(0x45a)]=_0x548128[_0x15d799(0x347)],_0x597064['style']['margin']=_0x548128[_0x15d799(0x3c4)],_0x597064['innerText']=_0x410d43,document[_0x15d799(0x473)](_0x548128['kXOhR'])[_0x15d799(0x396)](_0x597064),document[_0x15d799(0x473)](_0x548128[_0x15d799(0x49c)])[_0x15d799(0x24d)]=document[_0x15d799(0x473)](_0x548128['kXOhR'])[_0x15d799(0x21b)];}function reactToMessage(_0x40dc9c,_0x5fb559){const _0x3c7334=_0x5366a4,_0x1700e1={'yMMik':function(_0x34856f,_0x850b14){return _0x34856f(_0x850b14);},'WApTl':_0x3c7334(0x3b3)},_0x3ddc21=_0x1700e1['yMMik'](sanitizeUsername,username),_0x128319=db[_0x3c7334(0x252)](_0x3c7334(0x217)+roomCode+_0x3c7334(0x427)+_0x40dc9c+_0x3c7334(0x38f)+_0x5fb559);_0x128319[_0x3c7334(0x276)](_0x1700e1['WApTl'])[_0x3c7334(0x36c)](_0x16a352=>{const _0x75127=_0x3c7334;let _0x586b4b=_0x16a352[_0x75127(0x26a)]()?_0x16a352[_0x75127(0x3b9)]():[];!_0x586b4b[_0x75127(0x40b)](_0x3ddc21)?_0x586b4b['push'](_0x3ddc21):_0x586b4b=_0x586b4b[_0x75127(0x36e)](_0x414d1d=>_0x414d1d!==_0x3ddc21),_0x586b4b[_0x75127(0x2a0)]?_0x128319['set'](_0x586b4b):_0x128319['remove']();});}