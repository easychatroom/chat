const _0x1f6eab=_0x251c;(function(_0x310878,_0x20c51d){const _0x3d74e9=_0x251c,_0x24d6da=_0x310878();while(!![]){try{const _0x3e6698=parseInt(_0x3d74e9(0x1a8))/0x1*(parseInt(_0x3d74e9(0x2c5))/0x2)+parseInt(_0x3d74e9(0x211))/0x3*(parseInt(_0x3d74e9(0x1b8))/0x4)+-parseInt(_0x3d74e9(0x3a0))/0x5+parseInt(_0x3d74e9(0x291))/0x6+-parseInt(_0x3d74e9(0x30e))/0x7+parseInt(_0x3d74e9(0x2d9))/0x8*(-parseInt(_0x3d74e9(0x2fe))/0x9)+parseInt(_0x3d74e9(0x3b6))/0xa*(parseInt(_0x3d74e9(0x27d))/0xb);if(_0x3e6698===_0x20c51d)break;else _0x24d6da['push'](_0x24d6da['shift']());}catch(_0x1277d0){_0x24d6da['push'](_0x24d6da['shift']());}}}(_0x41e6,0x80e31));const firebaseConfig={'apiKey':_0x1f6eab(0x28b),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x1f6eab(0x275),'projectId':_0x1f6eab(0x34a),'storageBucket':_0x1f6eab(0x37d),'messagingSenderId':_0x1f6eab(0x239),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x1f6eab(0x2ea)};firebase[_0x1f6eab(0x1fe)](firebaseConfig);const db=firebase[_0x1f6eab(0x206)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x1f6eab(0x177),'shit','bitch',_0x1f6eab(0x303),_0x1f6eab(0x312),_0x1f6eab(0x1d6),_0x1f6eab(0x19c),'puta',_0x1f6eab(0x1b3),_0x1f6eab(0x294),_0x1f6eab(0x1c3),_0x1f6eab(0x163),_0x1f6eab(0x373),_0x1f6eab(0x2da),'caralho',_0x1f6eab(0x3a8),_0x1f6eab(0x2de),_0x1f6eab(0x21a),_0x1f6eab(0x1bd),_0x1f6eab(0x346),_0x1f6eab(0x2c1),_0x1f6eab(0x33f),_0x1f6eab(0x305),_0x1f6eab(0x20f),_0x1f6eab(0x31b),_0x1f6eab(0x247)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x1f6eab(0x38d)]()[_0x1f6eab(0x208)](0x24)[_0x1f6eab(0x231)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x1f6eab(0x30b),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound[_0x1f6eab(0x1a9)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x1c8897=_0x1f6eab,_0x53028f={'Mvwcr':function(_0x3d9ec3,_0x2ced6f){return _0x3d9ec3+_0x2ced6f;},'njrsn':function(_0x27e136,_0x18a882){return _0x27e136+_0x18a882;}},_0x5d6f8e=_0x53028f[_0x1c8897(0x1b4)](navigator[_0x1c8897(0x368)],screen[_0x1c8897(0x315)])+screen['height'],_0x2eb6d1=await sha256(_0x5d6f8e);return _0x53028f[_0x1c8897(0x33b)]('_',_0x2eb6d1[_0x1c8897(0x231)](0x0,0x14));}function sha256(_0x25718b){const _0x22763f=_0x1f6eab,_0x3debae={'zpanp':_0x22763f(0x2f4)},_0x528dd1=new TextEncoder()[_0x22763f(0x300)](_0x25718b);return crypto[_0x22763f(0x3a1)][_0x22763f(0x348)](_0x3debae['zpanp'],_0x528dd1)[_0x22763f(0x1d4)](_0x1b89ee=>{const _0x160f51=_0x22763f;return Array[_0x160f51(0x18a)](new Uint8Array(_0x1b89ee))[_0x160f51(0x23d)](_0x3913fc=>_0x3913fc['toString'](0x10)[_0x160f51(0x1e4)](0x2,'0'))['join']('');});}function toggleNotifications(){const _0x485209=_0x1f6eab,_0x2f84af={'zawrD':function(_0x3f22ff,_0x572f44){return _0x3f22ff===_0x572f44;},'elWYL':_0x485209(0x342),'qGDNK':'notifications_enabled','ZiXrV':'true','ADmvQ':_0x485209(0x363),'wgCZG':'üîï\x20Disable\x20Notifications','TUbtt':function(_0x18c899,_0x5a5375){return _0x18c899!==_0x5a5375;},'vdqvR':'false','MkcBm':_0x485209(0x1e0)};_0x2f84af[_0x485209(0x15f)](Notification[_0x485209(0x2df)],_0x485209(0x342))?Notification[_0x485209(0x23f)]()[_0x485209(0x1d4)](_0x7d89e7=>{const _0x40497a=_0x485209;_0x2f84af['zawrD'](_0x7d89e7,_0x2f84af[_0x40497a(0x280)])&&(notificationsEnabled=!![],localStorage[_0x40497a(0x2b1)](_0x2f84af[_0x40497a(0x1dc)],_0x2f84af[_0x40497a(0x194)]),document[_0x40497a(0x21f)](_0x2f84af['ADmvQ'])[_0x40497a(0x384)]=_0x2f84af[_0x40497a(0x383)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x2f84af[_0x485209(0x1dc)],notificationsEnabled?'true':_0x2f84af[_0x485209(0x2d4)]),document['getElementById'](_0x2f84af['ADmvQ'])[_0x485209(0x384)]=notificationsEnabled?_0x2f84af[_0x485209(0x383)]:_0x2f84af['MkcBm']);}function toggleAuthMode(){const _0x57f378=_0x1f6eab,_0x56ecb8={'FTqHd':_0x57f378(0x1c8),'IyhGb':_0x57f378(0x2c2),'DbEFP':'Register','waDKj':_0x57f378(0x2bb),'gDHBp':_0x57f378(0x26f),'Nsayw':'block','AUybQ':'none','RxlZG':_0x57f378(0x297),'UdbJe':_0x57f378(0x283),'IlNBn':'authSubmitBtn'},_0x5376f0=_0x56ecb8['FTqHd'][_0x57f378(0x24c)]('|');let _0x4a6adf=0x0;while(!![]){switch(_0x5376f0[_0x4a6adf++]){case'0':document[_0x57f378(0x21f)](_0x56ecb8[_0x57f378(0x307)])[_0x57f378(0x384)]=isRegisterMode?_0x56ecb8[_0x57f378(0x2ce)]:_0x56ecb8[_0x57f378(0x15a)];continue;case'1':document[_0x57f378(0x21f)](_0x56ecb8['gDHBp'])['style']['display']=isRegisterMode?_0x56ecb8['Nsayw']:_0x56ecb8['AUybQ'];continue;case'2':document[_0x57f378(0x21f)](_0x56ecb8[_0x57f378(0x38b)])['style'][_0x57f378(0x1c0)]=isRegisterMode?_0x57f378(0x248):_0x56ecb8['AUybQ'];continue;case'3':document[_0x57f378(0x21f)]('authDescription')[_0x57f378(0x289)][_0x57f378(0x1c0)]=isRegisterMode?_0x56ecb8[_0x57f378(0x2cf)]:'none';continue;case'4':document['getElementById'](_0x56ecb8[_0x57f378(0x25f)])[_0x57f378(0x289)][_0x57f378(0x1c0)]=_0x56ecb8[_0x57f378(0x1fc)];continue;case'5':document['getElementById'](_0x56ecb8['IlNBn'])[_0x57f378(0x384)]=isRegisterMode?_0x56ecb8['DbEFP']:_0x56ecb8['waDKj'];continue;case'6':document['getElementById']('authAvatarPreview')['style'][_0x57f378(0x1c0)]=_0x57f378(0x35e);continue;case'7':isRegisterMode=!isRegisterMode;continue;}break;}}function previewAvatar(){const _0x4842d5=_0x1f6eab,_0x16c375={'pkcYc':_0x4842d5(0x1cc),'ZGbkk':_0x4842d5(0x248),'AprSf':_0x4842d5(0x26f)},_0x26117d=document[_0x4842d5(0x21f)](_0x16c375[_0x4842d5(0x35d)]);if(!_0x26117d[_0x4842d5(0x25a)]['length'])return;const _0x461135=new FileReader();_0x461135[_0x4842d5(0x299)]=()=>{const _0x487fbb=_0x4842d5;document['getElementById'](_0x16c375[_0x487fbb(0x2d8)])['src']=_0x461135[_0x487fbb(0x1c4)],document[_0x487fbb(0x21f)](_0x16c375['pkcYc'])[_0x487fbb(0x289)][_0x487fbb(0x1c0)]=_0x16c375[_0x487fbb(0x37c)];},_0x461135[_0x4842d5(0x2c8)](_0x26117d['files'][0x0]);}function _0x41e6(){const _0x5e88d1=['classList','GjCAj','padStart','cvqVc','zYOER','pAdqf','ref','lSHKh','JjCQT','XZIYl','HNFxE','VDJPX','addAnnouncementBtn','antispam/','XPPAr','PkTql','<button\x20onclick=\x22muteUser(\x27','lBajA','rsjld','abcTM','yYzBZ','userSidebar','<img\x20src=\x22','meoWA','vtcSW','pMEWd','AUybQ','SNNKn','initializeApp','active','FPGJm','<br>','appendChild','\x20muted\x20for\x20','iuAFJ','ZvAlO','database','YrGJV','toString','WNfnF','staticPasswordInput','KpmsW','equalTo','roomChoiceScreen','\x27)\x22>Promote\x20to\x20Admin</button>','bobo','play','89949ZlOKWP','sidebarAvatarPreview','BwDaM','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','EeDpc','iaclP','\x27,\x2010)\x22>Mute\x2010m</button>','rUGFQ','jADwZ','fdp','hslwZ','AYGJg','Microphone\x20permission\x20denied.','</span>','getElementById','lZWeo','WELKe','kskBk','replace','true','PvcJW','gHnYT','now','values','Passwords\x20do\x20not\x20match.','avatarBase64','\x27)\x22>+Admin</button>','\x27)\x22>+Mod</button>','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','getUserMedia','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','DFTMg','substr','onlineStatus','keypress','pYqEh','UebKg','PDsLh','remove','authDescription','985049198428','osgmm','FEYlO','hidden','map','value','requestPermission','\x20is\x20typing...','DHigm','Enter\x20Announcement\x20Text:','chatScreen','ORyYK','Room\x20is\x20currently\x20paused.','RucZU','putang\x20ina','block','bxPze','gudlk','QxFZA','split','dzSJE','atXzJ','addEventListener','MEvVx','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','gr8stg/','lastChanged','rooms','DLazc','DweBT','VKaUV','uuINX','show','files','<audio\x20controls\x20src=\x22','SFCLU','GrZmO','oKCWC','UdbJe','pNpHq','Tgacp','pdusS','ZIqhW','/avatarBase64','EHjNI','filter','onDisconnect','msXBN','warn','HTYFy','<button\x20onclick=\x22promoteToModerator(\x27','<span\x20class=\x22sender-name\x22>','chat_username','JJSGP','authAvatar','UBCYT','XojSb','onmvb','jZfcx','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','https://easy-chatroom-default-rtdb.firebaseio.com','namePreview','gvQfC','editBioInput','\x27)\x22>Delete\x20Messages</button>','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','notifications_enabled','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','11rffyil','ibKXM','Failed\x20to\x20register\x20user\x20into\x20room.','elWYL','maVfK','userOptions-','authError','hXNZB','eLLYA','start','wSeJy','pushState','style','forEach','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','You\x20are\x20muted.','cuauO','data:audio/webm;base64,','iUUvI','/announcement','2078562USnTWN','NchHN','lDHuK','pendejo','antispam','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','authPasswordConfirm','typing','onloadend','Profile\x20not\x20found.','PZvuX','click','contains','EXZFB','rPYHn','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','RhJCe','Vsexw','Admins\x20only.','uvGpV','GiqLy','role','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','authScreen','<li>','wuCdv','</small>','HGQLG','kaNUe','üîß\x20','title','BZFVm','setItem','sxTSG','popstate','roomStates/','cHGlE','ppFaL','moderator','SKxma','zQopD','hVnDl','Login','kLZfs','sender','QazRB','TtVHB','/paused','gago','authTitle','MYOXi','AqlMu','462Mraimu','VJCQG','includes','readAsDataURL','pTJAc','AjYdf','0123456789','qzpoG','ahnQK','DbEFP','Nsayw','concat','usoDk','qqEwp','src','vdqvR','length','cioXG','BoEfX','pkcYc','8UwnvNC','porra','CvdlV','clear','You\x20got\x20a\x20message\x20from\x20','puta','permission','mediaDevices','No\x20room\x20code\x20available\x20for\x20private\x20rooms','rOYFj','promote','muFPa','Enter\x20your\x20new\x20username:','\x0aLast\x20Changed:\x20','FWocF','Room\x20password\x20not\x20set.\x20Cannot\x20join.','qiguI','G-QDESJ2WR42','user','dev','aGxwy','UocVa','Zvgul','VWUKZ','No\x20bio\x20set','jKogA','Incorrect\x20password','SHA-256','CZLyD','bVMMl','vXnNn','flagPageAttention','msg','userList','/messages','AxoJK','Please\x20fill\x20in\x20all\x20fields.','3644226qHEqcX','DDIXj','encode','innerHTML','Enter','asshole','KZKVc','ulol','disabled','IyhGb','limitToLast','qxdMF','ASbAh','050BBB66HH','mute','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','3689392rRPjTC','gEfoQ','QKTcu','val','bastard','VMOwV','lplRZ','width','profiles/','muted/','color','roomCodeInput','VHPRP','bwisit','RrgGZ','AYciH','admin','placeholder','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','kgiFD','cJWbw','GVPhy','get','rooms/','TfmBV','<img\x20src=\x22data:image/png;base64,','jcoQT','XjQuh','Sgrit','[Unknown\x20Message]','tbXLY','VXIji','2-digit','WgInR','DUrgu','onstop','\x0aUsername\x20History:\x20','mMwAs','DVMcG','‚ùå\x20Username\x20already\x20taken.','QnNlq','5|4|1|2|0|3','anmsm','eIWYp','evoBu','njrsn','nuKLH','5|4|0|3|2|1','set','tangina','nbZfR','sFCPp','granted','border','vroLK','auth/','putangina','typing/','digest','oEpbf','easy-chatroom','push','Tkrah','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','DCKWJ','\x20in\x20room\x20','‚õî\x20You\x20are\x20muted.','vKfCA','MxNHY','tzOlh','add','iFRVW','profileContent','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','deleteMessage','rWawv','/messages/','KkFzl','orderByChild','AprSf','none','data:image/png;base64,','\x20minutes.','Please\x20enter\x20the\x20password.','GzeaS','notifToggleBtn','FqgDF','hLPNM','audio/webm','mEFGO','userAgent','input','qWnYH','EVtEg','update','VLkvu','HbfoJ','created','vfOyJ','Incorrect\x20password.','error','gilipollas','xYNuM','itvvs','flex','moderators/','ALoVN','‚úÖ\x20Profile\x20picture\x20updated!','recordBtn','lhSTY','ZGbkk','easy-chatroom.firebasestorage.app','DOMContentLoaded','DkRGr','users/','preventDefault','VHMeK','wgCZG','innerText','admins/','TCqyb','StRvF','toLocaleTimeString','euMOL','aUXes','RxlZG','Failed\x20to\x20save\x20profile:','random','GWYIM','passwordHash','getItem','Session\x20expired.','WhsKS','avatar_base64','profileScreen','jaScA','stop','entries','usernameHistory','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','all','ZFGGq','jSubL','wWdaR','azcEM','data','2083395yRANES','subtle','QrqKn','krZnn','userDisplay','\x0aDescription:\x20','4|0|1|3|2','NAYuG','merda','once','audioBase64','JeCNx','nSSch','KmuBs','username','WskzU','cNfPK','zRzUh','toLocaleString','some','UhHRZ','description','13189660sQhwTQ','waDKj','EjykN','aPelT','lsEzD','ynrbF','TUbtt','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','exists','JCuqJ','cabron','ALahZ','aodbD','pausedOverlay','xrqyy','PGIjK','audioUrl','POlCS','RGznX','[Voice\x20Message]','CuJPF','fHDAn','jgWav','TfKfG','yuQTS','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','unknown','luHUF','XxoIt','wKxzk','fuck','qoWvW','Incorrect\x20current\x20password.','jaTqG','<button\x20onclick=\x22deleteUserMessages(\x27','catch','LVybX','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','HygJD','passwordError','JIjfA','yDYiv','ABCDEFGHIJKLMNOPQRSTUVWXYZ','onload','bAtmm','Type\x20a\x20message...','\x27,\x205)\x22>Mute\x205m</button>','HPjnC','profileUsernameInput','from','üéôÔ∏è','usernameScreen','back','createElement','aihGs','roomDisplay','Wmrmn','New\x20Chat\x20Message','editProfileScreen','ZiXrV','OSJZa','mokzm','kAFbc','upiwr','profileViewer','ILoku','ExdKa','cunt','trim','FUDcc','key','join','kVnRz','gSLRH','IpWJZ','XzPKB','qgzMw','scrollHeight','ServerValue','395TtDZSG','volume','ARlZf','lyDrt','floor','rJiae','tdHlW','HqNYY','reload','CdDJA','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','mierda','Mvwcr','UnDyI','Enter\x20a\x20valid\x20room\x20code','\x20promoted\x20to\x20Moderator!','16xNsoiG','child_added','afnKw','bldQn','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','otario','fdQuN','<button\x20onclick=\x22promoteToAdmin(\x27','display','ZwUDR','#00ff88','co√±o','result','rPAqG','msgInput','tiltr','7|0|2|3|1|6|5|4','JFZRk','iOljs','SGqIe','authAvatarPreview','announcementArea','YAsjz',')\x20New\x20message\x20‚Ä¢\x20','dRXwt','MuoqP','MSNjh','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','then','toLowerCase','dick','[Voice\x20message]','xhQiV','ihEuE','profileDescriptionInput','EjPui','qGDNK','passwordScreen','rPBwk','wkjMS','üîî\x20Enable\x20Notifications','YGJvO'];_0x41e6=function(){return _0x5e88d1;};return _0x41e6();}async function submitAuth(){const _0x22bf22=_0x1f6eab,_0x2c2dc9={'RucZU':function(_0x8a572f,_0x110875){return _0x8a572f||_0x110875;},'AYciH':'user','hslwZ':'authUsername','DDIXj':'authPassword','BgXyb':'authPasswordConfirm','sxTSG':_0x22bf22(0x238),'gvQfC':_0x22bf22(0x2fd),'afnKw':'Username\x20already\x20exists.','CdDJA':_0x22bf22(0x248),'DHigm':_0x22bf22(0x229),'WELKe':function(_0x258949,_0x230c5f){return _0x258949(_0x230c5f);},'HNFxE':function(_0x47a418){return _0x47a418();},'VJCQG':_0x22bf22(0x33d),'OSJZa':function(_0x53f86b,_0x3680cb){return _0x53f86b||_0x3680cb;},'UebKg':'Account\x20not\x20found.','aodbD':function(_0x3fcec6,_0x1e755c){return _0x3fcec6!==_0x1e755c;},'iOljs':_0x22bf22(0x371)},_0x3bdf4a=document['getElementById'](_0x2c2dc9[_0x22bf22(0x21b)])[_0x22bf22(0x23e)][_0x22bf22(0x19d)](),_0x233bc5=document[_0x22bf22(0x21f)](_0x2c2dc9[_0x22bf22(0x2ff)])['value']['trim'](),_0x5c805d=document[_0x22bf22(0x21f)](_0x2c2dc9['BgXyb'])[_0x22bf22(0x23e)][_0x22bf22(0x19d)](),_0x2618f8=document[_0x22bf22(0x21f)](_0x2c2dc9[_0x22bf22(0x2b2)])[_0x22bf22(0x23e)][_0x22bf22(0x19d)](),_0x315342=document[_0x22bf22(0x21f)](_0x22bf22(0x26f)),_0x2f09e4=document['getElementById']('authError');_0x2f09e4[_0x22bf22(0x289)]['display']=_0x22bf22(0x35e);if(!_0x3bdf4a||!_0x233bc5){_0x2f09e4[_0x22bf22(0x384)]=_0x2c2dc9[_0x22bf22(0x277)],_0x2f09e4[_0x22bf22(0x289)][_0x22bf22(0x1c0)]=_0x22bf22(0x248);return;}const _0xffa9c8=sanitizeUsername(_0x3bdf4a),_0x8c820e=db[_0x22bf22(0x1e8)](_0x22bf22(0x345)+_0xffa9c8),_0x3ebe72=await _0x8c820e[_0x22bf22(0x324)]();if(isRegisterMode){if(_0x3ebe72[_0x22bf22(0x161)]()){_0x2f09e4[_0x22bf22(0x384)]=_0x2c2dc9[_0x22bf22(0x1ba)],_0x2f09e4['style']['display']=_0x2c2dc9[_0x22bf22(0x1b1)];return;}if(_0x233bc5!==_0x5c805d){_0x2f09e4[_0x22bf22(0x384)]=_0x2c2dc9[_0x22bf22(0x241)],_0x2f09e4[_0x22bf22(0x289)]['display']=_0x2c2dc9[_0x22bf22(0x1b1)];return;}const _0xfcde7f=await _0x2c2dc9[_0x22bf22(0x221)](sha256,_0x233bc5),_0x2df381=await _0x2c2dc9[_0x22bf22(0x1ec)](generateDeviceId);if(_0x315342[_0x22bf22(0x25a)]['length']){const _0x25c951=_0x315342[_0x22bf22(0x25a)][0x0],_0x5283bb=new FileReader();_0x5283bb[_0x22bf22(0x299)]=async()=>{const _0x35a3e9=_0x22bf22,_0x8457f6=_0x5283bb[_0x35a3e9(0x1c4)][_0x35a3e9(0x24c)](',')[0x1];await _0x8c820e[_0x35a3e9(0x33e)]({'username':_0x3bdf4a,'passwordHash':_0xfcde7f,'description':_0x2c2dc9[_0x35a3e9(0x246)](_0x2618f8,''),'avatarBase64':_0x8457f6,'role':_0x2c2dc9['AYciH'],'deviceId':_0x2df381,'usernameHistory':[_0x3bdf4a],'lastChanged':Date[_0x35a3e9(0x227)]()}),username=_0x3bdf4a,userDescription=_0x2618f8,avatarBase64=_0x8457f6,role=_0x2c2dc9['AYciH'],startAfterAuth();},_0x5283bb['readAsDataURL'](_0x25c951);}else{const _0x593952=_0x2c2dc9[_0x22bf22(0x2c6)][_0x22bf22(0x24c)]('|');let _0x3a1d8a=0x0;while(!![]){switch(_0x593952[_0x3a1d8a++]){case'0':userDescription=_0x2618f8;continue;case'1':startAfterAuth();continue;case'2':role=_0x2c2dc9[_0x22bf22(0x31d)];continue;case'3':avatarBase64='';continue;case'4':username=_0x3bdf4a;continue;case'5':await _0x8c820e[_0x22bf22(0x33e)]({'username':_0x3bdf4a,'passwordHash':_0xfcde7f,'description':_0x2c2dc9[_0x22bf22(0x195)](_0x2618f8,''),'avatarBase64':'','role':_0x2c2dc9['AYciH'],'deviceId':_0x2df381,'usernameHistory':[_0x3bdf4a],'lastChanged':Date['now']()});continue;}break;}}}else{if(!_0x3ebe72['exists']()){_0x2f09e4[_0x22bf22(0x384)]=_0x2c2dc9[_0x22bf22(0x235)],_0x2f09e4[_0x22bf22(0x289)]['display']=_0x2c2dc9['CdDJA'];return;}const _0x4c7703=_0x3ebe72[_0x22bf22(0x311)](),_0x20dbc3=await sha256(_0x233bc5);if(_0x2c2dc9[_0x22bf22(0x165)](_0x20dbc3,_0x4c7703[_0x22bf22(0x38f)])){_0x2f09e4[_0x22bf22(0x384)]=_0x2c2dc9[_0x22bf22(0x1ca)],_0x2f09e4[_0x22bf22(0x289)][_0x22bf22(0x1c0)]=_0x2c2dc9['CdDJA'];return;}username=_0x3bdf4a;if(_0x4c7703['description'])userDescription=_0x4c7703['description'];if(_0x4c7703[_0x22bf22(0x22a)])avatarBase64=_0x4c7703[_0x22bf22(0x22a)];if(_0x4c7703['role'])role=_0x4c7703['role'];else role=_0x22bf22(0x2eb);_0x2c2dc9[_0x22bf22(0x1ec)](startAfterAuth);}}async function saveNewUser(_0x22de19,_0x241c11,_0x536c94,_0x301a29,_0x2e735b){const _0x1ba781=_0x1f6eab,_0x4b894f={'vKfCA':function(_0x2ad78f,_0x2539e3){return _0x2ad78f(_0x2539e3);},'UocVa':_0x1ba781(0x2eb),'YAsjz':function(_0x47664b,_0x3b25a9){return _0x47664b||_0x3b25a9;},'xwoyH':function(_0x584631){return _0x584631();}},_0x96d32=db[_0x1ba781(0x1e8)](_0x1ba781(0x345)+_0x4b894f[_0x1ba781(0x351)](sanitizeUsername,_0x22de19)),_0x2157d5={'username':_0x22de19,'passwordHash':_0x241c11,'role':_0x4b894f[_0x1ba781(0x2ee)],'deviceId':_0x536c94,'description':_0x4b894f[_0x1ba781(0x1ce)](_0x2e735b,''),'avatarBase64':_0x4b894f[_0x1ba781(0x1ce)](_0x301a29,''),'usernameHistory':[_0x22de19],'lastChanged':Date['now']()};await _0x96d32[_0x1ba781(0x33e)](_0x2157d5),username=_0x22de19,_0x301a29=_0x2157d5[_0x1ba781(0x22a)],userDescription=_0x2157d5[_0x1ba781(0x3b5)],_0x4b894f['xwoyH'](startAfterAuth);}async function startAfterAuth(){const _0x3a32df=_0x1f6eab,_0x2f3710={'HfnAZ':_0x3a32df(0x2eb),'VxKFo':_0x3a32df(0x212),'pMEWd':'data:image/png;base64,','bHuIz':_0x3a32df(0x248),'StRvF':_0x3a32df(0x296),'yuQTS':function(_0x38f207){return _0x38f207();},'JFZRk':'namePreview','mokzm':function(_0x43cf05,_0x3acbdd){return _0x43cf05(_0x3acbdd);},'JJSGP':_0x3a32df(0x20d)},_0x32c14d=sanitizeUsername(username),_0x273498=db[_0x3a32df(0x1e8)](_0x3a32df(0x345)+_0x32c14d),_0x43dedc=await _0x273498['get']();if(_0x43dedc[_0x3a32df(0x161)]()){const _0xf9ebbf=_0x43dedc['val']();username=_0xf9ebbf[_0x3a32df(0x3ae)],userDescription=_0xf9ebbf[_0x3a32df(0x3b5)]||'',avatarBase64=_0xf9ebbf[_0x3a32df(0x22a)]||'',role=_0xf9ebbf[_0x3a32df(0x2a6)]||_0x2f3710['HfnAZ'];if(avatarBase64){const _0x1f9097=document[_0x3a32df(0x21f)](_0x2f3710['VxKFo']);_0x1f9097[_0x3a32df(0x2d3)]=_0x2f3710[_0x3a32df(0x1fb)]+avatarBase64,_0x1f9097[_0x3a32df(0x289)][_0x3a32df(0x1c0)]=_0x2f3710['bHuIz'];}}else console[_0x3a32df(0x269)](_0x2f3710[_0x3a32df(0x387)]);await _0x2f3710[_0x3a32df(0x171)](loadRoomRoles),document[_0x3a32df(0x21f)](_0x2f3710[_0x3a32df(0x1c9)])[_0x3a32df(0x384)]=username,_0x2f3710[_0x3a32df(0x196)](showScreen,_0x2f3710[_0x3a32df(0x26e)]);}function toggleRecording(){const _0x9958e6=_0x1f6eab,_0x49d6ed={'fdQuN':_0x9958e6(0x1d7),'pasZj':_0x9958e6(0x366),'dRXwt':function(_0x3468dd,_0x8b5f0){return _0x3468dd&&_0x8b5f0;},'aihGs':function(_0x3d6de9){return _0x3d6de9();},'zADfh':function(_0x9ab7e6,_0x546ce2){return _0x9ab7e6(_0x546ce2);},'vNRJF':_0x9958e6(0x21d)};isRecording?stopRecording():navigator[_0x9958e6(0x2e0)][_0x9958e6(0x22e)]({'audio':!![]})['then'](_0x5f5c41=>{const _0x5e0f71=_0x9958e6,_0x1f26e5={'ihEuE':_0x49d6ed[_0x5e0f71(0x1be)],'vaihF':_0x49d6ed['pasZj'],'ILoku':function(_0x601783,_0x3327b8){const _0x23a851=_0x5e0f71;return _0x49d6ed[_0x23a851(0x1d0)](_0x601783,_0x3327b8);},'pVrAZ':function(_0xaa7fef){const _0xa00450=_0x5e0f71;return _0x49d6ed[_0xa00450(0x18f)](_0xaa7fef);}};mediaRecorder=new MediaRecorder(_0x5f5c41),mediaRecorder[_0x5e0f71(0x286)](),isRecording=!![],document[_0x5e0f71(0x21f)]('recordBtn')[_0x5e0f71(0x384)]='‚èπÔ∏è',audioChunks=[],mediaRecorder['ondataavailable']=_0x4fdb67=>audioChunks[_0x5e0f71(0x34b)](_0x4fdb67[_0x5e0f71(0x39f)]),mediaRecorder[_0x5e0f71(0x331)]=()=>{const _0x547c1a=_0x5e0f71,_0x3ecd4b={'GrZmO':_0x1f26e5[_0x547c1a(0x1d9)]};clearTimeout(recordingTimer);const _0x28cabc=new Blob(audioChunks,{'type':_0x1f26e5['vaihF']}),_0x15b4f0=new FileReader();_0x15b4f0[_0x547c1a(0x299)]=()=>{const _0x48a21e=_0x547c1a,_0x1d20a4=_0x15b4f0[_0x48a21e(0x1c4)]['split'](',')[0x1],_0x5d9021=db[_0x48a21e(0x1e8)]()[_0x48a21e(0x34b)]()[_0x48a21e(0x19f)];db['ref'](_0x48a21e(0x325)+roomCode+'/messages/'+_0x5d9021)['set']({'msg':_0x3ecd4b[_0x48a21e(0x25d)],'audioBase64':_0x1d20a4,'sender':username,'senderId':clientId,'timestamp':Date[_0x48a21e(0x227)]()});},_0x15b4f0[_0x547c1a(0x2c8)](_0x28cabc);},recordingTimer=setTimeout(()=>{const _0x8f81a5=_0x5e0f71;_0x1f26e5[_0x8f81a5(0x19a)](mediaRecorder,isRecording)&&_0x1f26e5['pVrAZ'](stopRecording);},0x4e20);})[_0x9958e6(0x17c)](_0x27ae13=>{_0x49d6ed['zADfh'](alert,_0x49d6ed['vNRJF']);});}function stopRecording(){const _0x5c31e0=_0x1f6eab,_0x5bee39={'oEpbf':function(_0x776fdc,_0x46507f){return _0x776fdc&&_0x46507f;}};_0x5bee39[_0x5c31e0(0x349)](mediaRecorder,isRecording)&&(mediaRecorder[_0x5c31e0(0x396)](),isRecording=![],document[_0x5c31e0(0x21f)](_0x5c31e0(0x37a))['innerText']=_0x5c31e0(0x18b));}window[_0x1f6eab(0x184)]=async()=>{const _0x535f54=_0x1f6eab,_0x1cd939={'cHGlE':function(_0x45afe3){return _0x45afe3();},'fadIj':_0x535f54(0x224),'atXzJ':function(_0x28133b,_0x3cb313){return _0x28133b(_0x3cb313);},'mEFGO':_0x535f54(0x2a8)};_0x1cd939[_0x535f54(0x2b5)](cleanupOldRooms),_0x1cd939[_0x535f54(0x2b5)](setupSidebarBackHandler),_0x1cd939[_0x535f54(0x2b5)](setupVisibilityAttention),_0x1cd939[_0x535f54(0x2b5)](resetWebsiteData);const _0x2cd1ce=localStorage['getItem'](_0x535f54(0x27b));notificationsEnabled=_0x2cd1ce===_0x1cd939['fadIj'],_0x1cd939[_0x535f54(0x24e)](showScreen,_0x1cd939[_0x535f54(0x367)]);};function sanitizeUsername(_0x3fe6ac){const _0x27bad4=_0x1f6eab;return _0x3fe6ac[_0x27bad4(0x223)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x14328b=_0x1f6eab,_0x3fff96={'krZnn':_0x14328b(0x251),'XPPAr':'block','rPAqG':_0x14328b(0x26d),'OYjgW':'profile_description','xrqyy':'namePreview','XxoIt':function(_0xd84a7d,_0x96beb1){return _0xd84a7d(_0x96beb1);},'Wmrmn':_0x14328b(0x20d),'anmsm':'Error\x20checking\x20username:','ppFaL':_0x14328b(0x1b2),'jXPTM':_0x14328b(0x189),'MEvVx':_0x14328b(0x1da),'Sgrit':'profileError','rOYFj':_0x14328b(0x17e),'qoWvW':'value'},_0x5ead46=document[_0x14328b(0x21f)](_0x3fff96['jXPTM'])[_0x14328b(0x23e)][_0x14328b(0x19d)](),_0x22f28b=document['getElementById'](_0x3fff96[_0x14328b(0x250)])['value'][_0x14328b(0x19d)](),_0x1bdcf6=document['getElementById'](_0x3fff96[_0x14328b(0x32a)]);if(!_0x5ead46||!_0x22f28b){_0x1bdcf6['innerText']=_0x3fff96[_0x14328b(0x2e2)],_0x1bdcf6[_0x14328b(0x289)]['display']=_0x14328b(0x248);return;}const _0x495fa1=sanitizeUsername(_0x5ead46),_0xeb948b=db[_0x14328b(0x1e8)](_0x14328b(0x316)+_0x495fa1);_0xeb948b['once'](_0x3fff96[_0x14328b(0x178)])[_0x14328b(0x1d4)](_0x3a6d10=>{const _0x3ad21a=_0x14328b,_0x48053f={'VuJof':_0x3ad21a(0x38c),'meoWA':_0x3fff96[_0x3ad21a(0x3a3)],'DkRGr':_0x3fff96['XPPAr'],'XjQuh':_0x3fff96[_0x3ad21a(0x1c5)],'qxdMF':_0x3fff96['OYjgW'],'Jmodx':_0x3fff96[_0x3ad21a(0x167)],'XZIYl':function(_0x4f8198,_0x34561b){const _0x13bba5=_0x3ad21a;return _0x3fff96[_0x13bba5(0x175)](_0x4f8198,_0x34561b);},'OIDhE':_0x3fff96[_0x3ad21a(0x191)]};if(_0x3a6d10[_0x3ad21a(0x161)]())_0x1bdcf6[_0x3ad21a(0x384)]=_0x3ad21a(0x335),_0x1bdcf6[_0x3ad21a(0x289)][_0x3ad21a(0x1c0)]=_0x3fff96[_0x3ad21a(0x1f0)];else{const _0x1b46e7={'username':_0x5ead46,'description':_0x22f28b,'lastChanged':Date[_0x3ad21a(0x227)](),'usernameHistory':[_0x5ead46]};_0xeb948b['set'](_0x1b46e7,_0x3730de=>{const _0x2eae90=_0x3ad21a;_0x3730de?(console['error'](_0x48053f['VuJof'],_0x3730de),_0x1bdcf6['innerText']=_0x48053f[_0x2eae90(0x1f9)],_0x1bdcf6[_0x2eae90(0x289)]['display']=_0x48053f[_0x2eae90(0x37f)]):(localStorage[_0x2eae90(0x2b1)](_0x48053f[_0x2eae90(0x329)],_0x5ead46),localStorage[_0x2eae90(0x2b1)](_0x48053f[_0x2eae90(0x309)],_0x22f28b),username=_0x5ead46,document[_0x2eae90(0x21f)](_0x48053f['Jmodx'])[_0x2eae90(0x384)]=_0x5ead46,_0x48053f[_0x2eae90(0x1eb)](showScreen,_0x48053f['OIDhE']));});}})[_0x14328b(0x17c)](_0x2e8592=>{const _0x154ad6=_0x14328b;console[_0x154ad6(0x372)](_0x3fff96[_0x154ad6(0x338)],_0x2e8592),_0x1bdcf6[_0x154ad6(0x384)]=_0x3fff96[_0x154ad6(0x2b6)],_0x1bdcf6[_0x154ad6(0x289)][_0x154ad6(0x1c0)]=_0x3fff96[_0x154ad6(0x1f0)];});}function saveProfile(_0x48f431,_0x289430,_0x8c075a){const _0xd1c499=_0x1f6eab,_0x23f6f1={'POlCS':function(_0x203045,_0x1046e4){return _0x203045(_0x1046e4);}},_0x6a2132=Date[_0xd1c499(0x227)](),_0x324b1e=[_0x48f431];db[_0xd1c499(0x1e8)](_0xd1c499(0x316)+_0x8c075a)[_0xd1c499(0x33e)]({'username':_0x48f431,'description':_0x289430,'lastChanged':_0x6a2132,'usernameHistory':_0x324b1e}),document['getElementById'](_0xd1c499(0x276))[_0xd1c499(0x384)]=_0x48f431,_0x23f6f1[_0xd1c499(0x16a)](showScreen,_0xd1c499(0x20d));}function generateRoom(){const _0x267abf=_0x1f6eab,_0x10f233={'zreST':function(_0x7eb57b){return _0x7eb57b();},'KyAIq':function(_0x5f4253,_0x2e7817){return _0x5f4253+_0x2e7817;},'XojSb':_0x267abf(0x325)};roomCode=_0x10f233['zreST'](genRoomCode),db[_0x267abf(0x1e8)](_0x10f233['KyAIq'](_0x10f233[_0x267abf(0x271)],roomCode))['set']({'active':!![],'created':Date[_0x267abf(0x227)]()}),_0x10f233['zreST'](startChat);}function joinRoom(){const _0x1120c3=_0x1f6eab,_0x48b514={'VMOwV':function(_0x587981,_0x27139e){return _0x587981(_0x27139e);},'fHDAn':_0x1120c3(0x172),'jZfcx':_0x1120c3(0x1b6),'kxnVK':function(_0x4536bd,_0x3b2e46){return _0x4536bd===_0x3b2e46;},'kAFbc':function(_0x5907a6,_0x520d05){return _0x5907a6(_0x520d05);},'upiwr':_0x1120c3(0x1dd),'jKogA':function(_0xa08cb2,_0xa41ac5){return _0xa08cb2+_0xa41ac5;},'HPjnC':_0x1120c3(0x325)},_0x41c5bb=roomCode||document[_0x1120c3(0x21f)](_0x1120c3(0x319))[_0x1120c3(0x23e)][_0x1120c3(0x19d)]()['toUpperCase']();if(!_0x41c5bb)return _0x48b514[_0x1120c3(0x313)](alert,_0x48b514[_0x1120c3(0x273)]);roomCode=_0x41c5bb;if(_0x48b514['kxnVK'](roomCode,STATIC_ROOM)){_0x48b514[_0x1120c3(0x197)](showScreen,_0x48b514[_0x1120c3(0x198)]);return;}db['ref'](_0x48b514[_0x1120c3(0x2f2)](_0x48b514[_0x1120c3(0x188)],roomCode))[_0x1120c3(0x324)]()[_0x1120c3(0x1d4)](_0x2a9d8d=>{const _0x369e84=_0x1120c3;_0x2a9d8d[_0x369e84(0x161)]()&&_0x2a9d8d['val']()[_0x369e84(0x1ff)]!==![]?startChat():_0x48b514[_0x369e84(0x313)](alert,_0x48b514[_0x369e84(0x16e)]);});}async function startChat(){const _0x25c979=_0x1f6eab,_0x1db637={'ASbAh':function(_0xbfe844,_0x4aa027){return _0xbfe844(_0x4aa027);},'BCIrA':_0x25c979(0x27f),'DUrgu':_0x25c979(0x20d),'uuINX':_0x25c979(0x212),'NchHN':function(_0x5d4c68,_0x2a5f17){return _0x5d4c68+_0x2a5f17;},'Zvgul':_0x25c979(0x35f),'aPelT':'block','mnsNp':_0x25c979(0x3a4),'pTJAc':_0x25c979(0x190),'FyQjU':function(_0x524dc2,_0x749468){return _0x524dc2===_0x749468;},'nJsNA':_0x25c979(0x2e1),'PkTql':_0x25c979(0x31e),'TfKfG':_0x25c979(0x2b7),'ExdKa':_0x25c979(0x1ee),'cioXG':_0x25c979(0x35e),'AqlMu':function(_0x5f3362){return _0x5f3362();},'PZvuX':function(_0xe38f3e){return _0xe38f3e();},'cvqVc':function(_0x1bb0be){return _0x1bb0be();},'VKaUV':function(_0x498443,_0x384243){return _0x498443||_0x384243;},'SNNKn':'Missing\x20room\x20or\x20user\x20information.','wSeJy':function(_0xdc1daa){return _0xdc1daa();},'VHMeK':function(_0x57acd8,_0x1de0ac){return _0x57acd8(_0x1de0ac);}};if(_0x1db637[_0x25c979(0x257)](!roomCode,!username))return alert(_0x1db637[_0x25c979(0x1fd)]),_0x1db637[_0x25c979(0x30a)](showScreen,'roomChoiceScreen');_0x1db637[_0x25c979(0x29b)](listenForPauseState),_0x1db637[_0x25c979(0x29b)](listenForUserList),await _0x1db637[_0x25c979(0x287)](loadRoomRoles),_0x1db637[_0x25c979(0x29b)](listenForAnnouncement);const _0x356855=_0x1db637[_0x25c979(0x382)](sanitizeUsername,username),_0x3a88d6=db['ref'](_0x25c979(0x380)+roomCode+'/'+_0x356855),_0x392156={'username':username,'online':!![],'lastOnline':firebase[_0x25c979(0x206)][_0x25c979(0x1a7)]['TIMESTAMP']};_0x3a88d6[_0x25c979(0x33e)](_0x392156,_0x52b90a=>{const _0x1f98ef=_0x25c979;if(_0x52b90a)return _0x1db637[_0x1f98ef(0x30a)](alert,_0x1db637['BCIrA']),showScreen(_0x1db637[_0x1f98ef(0x330)]);_0x3a88d6[_0x1f98ef(0x267)]()['update']({'online':![],'lastOnline':Date[_0x1f98ef(0x227)]()});const _0x497d9c=document['getElementById'](_0x1db637[_0x1f98ef(0x258)]);avatarBase64&&(_0x497d9c['src']=_0x1db637[_0x1f98ef(0x292)](_0x1db637[_0x1f98ef(0x2ef)],avatarBase64),_0x497d9c[_0x1f98ef(0x289)]['display']=_0x1db637[_0x1f98ef(0x15c)]),document[_0x1f98ef(0x21f)](_0x1db637['mnsNp'])['innerHTML']=username+'\x20'+_0x1db637['ASbAh'](getRoleTag,_0x356855),document['getElementById'](_0x1db637[_0x1f98ef(0x2c9)])['innerText']=_0x1db637['FyQjU'](roomCode,STATIC_ROOM)?_0x1db637['nJsNA']:roomCode,[_0x1db637[_0x1f98ef(0x1f1)],'dev',_0x1db637[_0x1f98ef(0x170)]]['includes'](role)?document[_0x1f98ef(0x21f)](_0x1db637[_0x1f98ef(0x19b)])[_0x1f98ef(0x289)][_0x1f98ef(0x1c0)]=_0x1db637[_0x1f98ef(0x15c)]:document[_0x1f98ef(0x21f)]('addAnnouncementBtn')[_0x1f98ef(0x289)][_0x1f98ef(0x1c0)]=_0x1db637[_0x1f98ef(0x2d6)],_0x1db637[_0x1f98ef(0x30a)](showScreen,'chatScreen'),_0x1db637[_0x1f98ef(0x2c4)](listenForMessages),_0x1db637[_0x1f98ef(0x29b)](listenForTyping),_0x1db637[_0x1f98ef(0x29b)](startInactivityTimer),_0x1db637[_0x1f98ef(0x1e5)](trackPresence),_0x1db637[_0x1f98ef(0x2c4)](watchProfileChanges),_0x1db637[_0x1f98ef(0x2c4)](watchMuteStatus);});}function watchProfileChanges(){const _0x5f29af=_0x1f6eab,_0x5767fc={'abcTM':_0x5f29af(0x2eb),'xhQiV':_0x5f29af(0x212),'euMOL':function(_0x456157,_0x13f494){return _0x456157+_0x13f494;},'hVnDl':_0x5f29af(0x35f),'WhsKS':_0x5f29af(0x248),'pNpHq':function(_0x401415,_0x569568){return _0x401415(_0x569568);},'wWdaR':_0x5f29af(0x23e)},_0x2218f5=_0x5767fc[_0x5f29af(0x260)](sanitizeUsername,username);db[_0x5f29af(0x1e8)](_0x5f29af(0x345)+_0x2218f5)['on'](_0x5767fc[_0x5f29af(0x39d)],_0x3e4ad4=>{const _0x19ebdf=_0x5f29af;if(!_0x3e4ad4['exists']())return;const _0x1ffbfd=_0x3e4ad4[_0x19ebdf(0x311)]();userDescription=_0x1ffbfd[_0x19ebdf(0x3b5)]||'',avatarBase64=_0x1ffbfd[_0x19ebdf(0x22a)]||'',role=_0x1ffbfd[_0x19ebdf(0x2a6)]||_0x5767fc[_0x19ebdf(0x1f5)];if(avatarBase64){const _0x95144b=document['getElementById'](_0x5767fc[_0x19ebdf(0x1d8)]);!_0x95144b[_0x19ebdf(0x2d3)][_0x19ebdf(0x2c7)](avatarBase64)&&(_0x95144b['src']=_0x5767fc[_0x19ebdf(0x389)](_0x5767fc[_0x19ebdf(0x2ba)],avatarBase64),_0x95144b[_0x19ebdf(0x289)][_0x19ebdf(0x1c0)]=_0x5767fc[_0x19ebdf(0x392)]);}renderUserLists(roomUsers);});}function uploadImage(_0x1606d3){const _0xc6e870=_0x1f6eab,_0x1bc4f6={'vCARN':function(_0x39737b,_0x17c951){return _0x39737b>_0x17c951;},'eIWYp':function(_0x43f026,_0xa48caf){return _0x43f026*_0xa48caf;},'jcoQT':function(_0x253036,_0x50d24e){return _0x253036(_0x50d24e);},'vXnNn':'‚ùå\x20Image\x20must\x20be\x20under\x202MB'},_0x32b467=_0x1606d3[_0xc6e870(0x25a)][0x0];if(!_0x32b467||_0x1bc4f6['vCARN'](_0x32b467['size'],_0x1bc4f6['eIWYp'](_0x1bc4f6[_0xc6e870(0x339)](0x2,0x400),0x400))){_0x1bc4f6[_0xc6e870(0x328)](alert,_0x1bc4f6[_0xc6e870(0x2f7)]);return;}const _0x354d43=new FileReader();_0x354d43[_0xc6e870(0x299)]=()=>{const _0xb029de=_0xc6e870,_0x2aaf79=_0x354d43[_0xb029de(0x1c4)]['split'](',')[0x1],_0x480769=db[_0xb029de(0x1e8)]()['push']()['key'];db[_0xb029de(0x1e8)](_0xb029de(0x325)+roomCode+_0xb029de(0x35a)+_0x480769)[_0xb029de(0x33e)]({'imageBase64':_0x2aaf79,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x354d43['readAsDataURL'](_0x32b467);}async function fetchProfile(_0xca7375){const _0x30d88d=_0x1f6eab,_0x5d1d97=await db[_0x30d88d(0x1e8)](_0x30d88d(0x345)+_0xca7375)[_0x30d88d(0x324)]();if(!_0x5d1d97[_0x30d88d(0x161)]())return null;return _0x5d1d97[_0x30d88d(0x311)]();}function validateStaticRoomPassword(){const _0x537466=_0x1f6eab,_0x1624a8={'CuJPF':function(_0x4c6cfb,_0xf0ac9c){return _0x4c6cfb(_0xf0ac9c);},'rWawv':_0x537466(0x2e8),'JjCQT':function(_0x5db6ea,_0x370b26){return _0x5db6ea===_0x370b26;},'EHjNI':function(_0x1003ce){return _0x1003ce();},'ynrbF':_0x537466(0x180),'maVfK':_0x537466(0x2f3),'wkjMS':'block','CZLyD':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','CvdlV':_0x537466(0x20a)},_0x968c9b=document['getElementById'](_0x1624a8[_0x537466(0x2db)])[_0x537466(0x23e)][_0x537466(0x19d)]();if(!_0x968c9b){alert(_0x537466(0x361));return;}db['ref'](_0x537466(0x252)+STATIC_ROOM)[_0x537466(0x324)]()['then'](_0x4f23ab=>{const _0x831b24=_0x537466;if(!_0x4f23ab['exists']()){_0x1624a8[_0x831b24(0x16d)](alert,_0x1624a8[_0x831b24(0x359)]);return;}const _0x54fe80=_0x4f23ab[_0x831b24(0x311)]();_0x1624a8[_0x831b24(0x1ea)](_0x968c9b,_0x54fe80)?(roomCode=STATIC_ROOM,_0x1624a8[_0x831b24(0x265)](startChat)):(document[_0x831b24(0x21f)](_0x1624a8[_0x831b24(0x15e)])['innerText']=_0x1624a8[_0x831b24(0x281)],document[_0x831b24(0x21f)](_0x1624a8[_0x831b24(0x15e)])[_0x831b24(0x289)]['display']=_0x1624a8[_0x831b24(0x1df)]);})[_0x537466(0x17c)](_0xefe3d5=>{const _0x3813aa=_0x537466;console[_0x3813aa(0x372)](_0xefe3d5),alert(_0x1624a8[_0x3813aa(0x2f5)]);});}function listenForPauseState(){const _0x5f3c14=_0x1f6eab,_0x4fc85e={'yYzBZ':function(_0x132b28,_0x4f09f5){return _0x132b28===_0x4f09f5;},'uvGpV':_0x5f3c14(0x166),'pdusS':'none','jgWav':'value'};db['ref'](_0x5f3c14(0x2b4)+roomCode+_0x5f3c14(0x2c0))['on'](_0x4fc85e[_0x5f3c14(0x16f)],_0x31ffff=>{const _0x26a9b9=_0x5f3c14,_0x2a4001=_0x31ffff[_0x26a9b9(0x161)]()&&_0x4fc85e[_0x26a9b9(0x1f6)](_0x31ffff['val'](),!![]);document[_0x26a9b9(0x21f)](_0x4fc85e[_0x26a9b9(0x2a4)])['style'][_0x26a9b9(0x1c0)]=_0x2a4001?_0x26a9b9(0x248):_0x4fc85e[_0x26a9b9(0x262)];});}const spamTimestamps=[];async function sendMessage(){const _0x226d74=_0x1f6eab,_0x2e751b={'Nnfyl':'Type\x20a\x20message...','YoWyO':function(_0x1045df,_0x15b08a){return _0x1045df>_0x15b08a;},'ZwUDR':_0x226d74(0x28c),'rPYHn':function(_0x39872a,_0x31c6f4){return _0x39872a===_0x31c6f4;},'IpWJZ':function(_0x5b3da7,_0x5340c5){return _0x5b3da7!==_0x5340c5;},'GjCAj':_0x226d74(0x2ec),'YrGJV':function(_0x3cf672,_0x563479){return _0x3cf672(_0x563479);},'MxNHY':_0x226d74(0x245),'VDJPX':_0x226d74(0x1c6),'usoDk':function(_0x372e60,_0x23300d){return _0x372e60||_0x23300d;},'Htfch':'‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','PvcJW':function(_0x1c9a94,_0x345e32,_0x402368){return _0x1c9a94(_0x345e32,_0x402368);},'KDlgQ':_0x226d74(0x27a),'vfUOu':_0x226d74(0x1d3),'HqNYY':_0x226d74(0x393)},_0x2acb69=await db[_0x226d74(0x1e8)]('muted/'+roomCode+'/'+sanitizeUsername(username))[_0x226d74(0x324)](),_0x5565cf=await db[_0x226d74(0x1e8)](_0x226d74(0x2b4)+roomCode+_0x226d74(0x2c0))[_0x226d74(0x324)]();if(_0x2acb69[_0x226d74(0x161)]()&&_0x2e751b['YoWyO'](_0x2acb69[_0x226d74(0x311)](),Date[_0x226d74(0x227)]())){alert(_0x2e751b[_0x226d74(0x1c1)]);return;}if(_0x5565cf[_0x226d74(0x161)]()&&_0x2e751b[_0x226d74(0x29f)](_0x5565cf[_0x226d74(0x311)](),!![])&&_0x2e751b[_0x226d74(0x1a3)](role,_0x2e751b[_0x226d74(0x1e3)])){_0x2e751b[_0x226d74(0x207)](alert,_0x2e751b[_0x226d74(0x352)]);return;}const _0x22dfbc=document[_0x226d74(0x21f)](_0x2e751b[_0x226d74(0x1ed)]),_0x1f5bec=_0x22dfbc[_0x226d74(0x23e)][_0x226d74(0x19d)]();if(_0x2e751b[_0x226d74(0x2d1)](!_0x1f5bec,isBlocked))return;const _0x4a1176=Date[_0x226d74(0x227)](),_0x6668db=_0x1f5bec[_0x226d74(0x1d5)](),_0x32eedb=swearWords[_0x226d74(0x3b3)](_0xe42354=>_0x6668db[_0x226d74(0x2c7)](_0xe42354));if(_0x32eedb){_0x2e751b['YrGJV'](alert,_0x2e751b['Htfch']);return;}spamTimestamps[_0x226d74(0x34b)](_0x4a1176);const _0x20940e=spamTimestamps[_0x226d74(0x266)](_0x31d0c0=>_0x4a1176-_0x31d0c0<0x1b58);if(_0x20940e[_0x226d74(0x2d5)]>0x5){const _0x3e979d=_0x226d74(0x337)[_0x226d74(0x24c)]('|');let _0x116a22=0x0;while(!![]){switch(_0x3e979d[_0x116a22++]){case'0':_0x2e751b[_0x226d74(0x225)](setTimeout,()=>{const _0x292f00=_0x226d74;isBlocked=![],_0x22dfbc['disabled']=![],_0x22dfbc[_0x292f00(0x31f)]=_0x2e751b['Nnfyl'],spamTimestamps[_0x292f00(0x2d5)]=0x0;},0x7530);continue;case'1':_0x22dfbc[_0x226d74(0x31f)]=_0x2e751b['KDlgQ'];continue;case'2':alert(_0x2e751b['vfUOu']);continue;case'3':return;case'4':_0x22dfbc[_0x226d74(0x306)]=!![];continue;case'5':isBlocked=!![];continue;}break;}}const _0x5371b0=localStorage[_0x226d74(0x390)](_0x2e751b[_0x226d74(0x1af)])||'',_0x301a02=db[_0x226d74(0x1e8)]()['push']()[_0x226d74(0x19f)];db[_0x226d74(0x1e8)]('rooms/'+roomCode+_0x226d74(0x35a)+_0x301a02)[_0x226d74(0x33e)]({'msg':_0x1f5bec,'sender':username,'senderId':clientId,'avatarBase64':_0x5371b0,'timestamp':_0x4a1176}),_0x22dfbc[_0x226d74(0x23e)]='',_0x2e751b[_0x226d74(0x207)](sendTyping,!![]),lastActivity=_0x4a1176;}function listenForMessages(){const _0x30e3df=_0x1f6eab,_0x2a5a92={'Vsexw':function(_0x39d3a1,_0x4c8258,_0x16ec66,_0x5ea5ad){return _0x39d3a1(_0x4c8258,_0x16ec66,_0x5ea5ad);},'GOvAY':function(_0x446dc9,_0x19be91){return _0x446dc9===_0x19be91;},'UlNOc':function(_0x3224b4,_0x1849d9){return _0x3224b4!==_0x1849d9;},'kaNUe':function(_0x47d42c){return _0x47d42c();},'cJWbw':function(_0x2e50aa,_0x2460fe){return _0x2e50aa&&_0x2460fe;},'QazRB':function(_0x4e5a6b,_0x4e5003,_0x4d4ab0){return _0x4e5a6b(_0x4e5003,_0x4d4ab0);},'gudlk':_0x30e3df(0x16c),'gDjQJ':_0x30e3df(0x32b)},_0x2e865b=db[_0x30e3df(0x1e8)](_0x30e3df(0x325)+roomCode+'/messages'),_0xe5ae61=_0x2e865b[_0x30e3df(0x308)](MAX_MESSAGES);userListReady=!![],_0xe5ae61['on'](_0x30e3df(0x1b9),_0x1ed156=>{const _0x250710=_0x30e3df,_0x43b1cb=_0x1ed156['val'](),{senderId:_0x54354e}=_0x43b1cb,_0x552f26=_0x2a5a92['GOvAY'](_0x54354e,clientId);if(!userListReady){pendingMessages[_0x250710(0x28a)](({data:_0x36c0fe,sent:_0x5ee56d,key:_0x1af372})=>{const _0x11924c=_0x250710;_0x2a5a92[_0x11924c(0x2a2)](addMessage,_0x36c0fe,_0x5ee56d,_0x1af372);}),pendingMessages=[];return;}const _0x21b0f3=_0x43b1cb[_0x250710(0x169)]||null,_0x72570=_0x43b1cb[_0x250710(0x3aa)]||null;_0x2a5a92[_0x250710(0x2a2)](addMessage,_0x43b1cb,_0x552f26,_0x1ed156[_0x250710(0x19f)]),_0x2a5a92['UlNOc'](roomCode,STATIC_ROOM)&&db[_0x250710(0x1e8)](_0x250710(0x325)+roomCode+_0x250710(0x35a)+_0x1ed156[_0x250710(0x19f)])[_0x250710(0x237)](),!_0x552f26&&(sound[_0x250710(0x210)](),_0x2a5a92[_0x250710(0x2ad)](flagPageAttention)),_0x2a5a92[_0x250710(0x322)](notificationsEnabled,!_0x552f26)&&_0x2a5a92[_0x250710(0x2be)](stackNotification,_0x43b1cb[_0x250710(0x2bd)],_0x43b1cb[_0x250710(0x2f9)]||(_0x43b1cb[_0x250710(0x3aa)]?_0x2a5a92[_0x250710(0x24a)]:_0x2a5a92['gDjQJ']));});}function stackNotification(_0x29fc21,_0x30ae60){const _0x599a5b=_0x1f6eab,_0x49658a={'UBCYT':function(_0x2b0282){return _0x2b0282();},'PGIjK':function(_0x4fb4a6,_0x402fd2){return _0x4fb4a6(_0x402fd2);},'PAfel':function(_0x1af06e,_0x40713b,_0x37463f){return _0x1af06e(_0x40713b,_0x37463f);}};notificationStack[_0x599a5b(0x34b)]({'sender':_0x29fc21,'content':_0x30ae60}),_0x49658a[_0x599a5b(0x168)](clearTimeout,notificationTimer),notificationTimer=_0x49658a['PAfel'](setTimeout,()=>{const _0x54a165=_0x599a5b;_0x49658a[_0x54a165(0x270)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x1dbdcd=_0x1f6eab,_0x5619c2={'jaScA':_0x1dbdcd(0x192),'TCqyb':_0x1dbdcd(0x22f),'trlCB':function(_0x1185ed,_0x3eca5b){return _0x1185ed!==_0x3eca5b;},'VOKrC':function(_0x4ba616,_0xb8b656){return _0x4ba616||_0xb8b656;},'rJiae':_0x1dbdcd(0x173),'SFCLU':function(_0x2d593c,_0x5b4824){return _0x2d593c===_0x5b4824;},'BoEfX':function(_0x3272cc,_0x13c0a4,_0x59a9d3){return _0x3272cc(_0x13c0a4,_0x59a9d3);}};if(!notificationStack[_0x1dbdcd(0x2d5)]||_0x5619c2['trlCB'](Notification['permission'],_0x1dbdcd(0x342)))return;const _0x52af27=[...new Set(notificationStack['map'](_0x5a9887=>_0x5a9887[_0x1dbdcd(0x2bd)]))],_0x2b625a=_0x5619c2['VOKrC'](roomCode,_0x5619c2[_0x1dbdcd(0x1ad)]),_0x1b5882=_0x5619c2[_0x1dbdcd(0x25c)](_0x52af27[_0x1dbdcd(0x2d5)],0x1)?_0x1dbdcd(0x2dd)+_0x52af27[0x0]+_0x1dbdcd(0x34f)+_0x2b625a+':\x20'+notificationStack[0x0]['content']:'You\x20got\x20messages\x20from\x20'+_0x52af27[_0x1dbdcd(0x1a0)](',\x20')+'\x20in\x20room\x20'+_0x2b625a;_0x5619c2[_0x1dbdcd(0x2d7)](setTimeout,()=>{const _0xf9b6a1=_0x1dbdcd;new Notification(_0x5619c2[_0xf9b6a1(0x395)],{'body':_0x1b5882,'icon':_0x5619c2[_0xf9b6a1(0x386)]});},0x64);}async function addMessage(_0x48ae94,_0x494841,_0x5ba294=null){const _0x5e4001=_0x1f6eab,_0x94fdfc={'lhSTY':function(_0x238123,_0x231ada){return _0x238123(_0x231ada);},'TBdnF':'div','VXIji':_0x5e4001(0x2f9),'bVMMl':'received','TfmBV':_0x5e4001(0x32e),'HTYFy':'messages'},{msg:_0x53406e,sender:_0x4b6928,senderId:_0x266c97,timestamp:_0x4ef1ea,audioUrl:_0x3c8001,audioBase64:_0x2415e9,imageBase64:_0x3106d9}=_0x48ae94,_0x153609=_0x94fdfc[_0x5e4001(0x37b)](sanitizeUsername,_0x4b6928),_0x557991=document[_0x5e4001(0x18e)](_0x94fdfc['TBdnF']);_0x557991[_0x5e4001(0x1e2)][_0x5e4001(0x354)](_0x94fdfc[_0x5e4001(0x32d)],_0x494841?'sent':_0x94fdfc[_0x5e4001(0x2f6)]);const _0x356bdb=new Date(_0x4ef1ea)[_0x5e4001(0x388)]([],{'hour':_0x94fdfc[_0x5e4001(0x326)],'minute':_0x94fdfc[_0x5e4001(0x326)]}),_0x5d0629=getRoleTag(_0x153609),_0x247af1=await fetchAvatar(_0x153609),_0x59c1b7=_0x247af1?_0x5e4001(0x327)+_0x247af1+_0x5e4001(0x2a7):'',_0x5df763=_0x59c1b7+_0x5e4001(0x26c)+_0x4b6928+'\x20'+_0x5d0629+_0x5e4001(0x21e),_0x5b579e=_0x53406e?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x397ace=_0x5df763+_0x5e4001(0x201);if(_0x3c8001)_0x397ace+=_0x5e4001(0x25b)+_0x3c8001+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x2415e9){const _0x760bef=_0x5e4001(0x28e)+_0x2415e9;_0x397ace+=_0x5e4001(0x25b)+_0x760bef+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x3106d9){const _0x1e5f77=_0x5e4001(0x35f)+_0x3106d9;_0x397ace+=_0x5e4001(0x1f8)+_0x1e5f77+_0x5e4001(0x22d);}else _0x397ace+='<div>'+_0x5b579e+'</div>';}}_0x397ace+='<small>'+_0x356bdb+_0x5e4001(0x2ab),_0x557991['innerHTML']=_0x397ace;const _0x22cec5=document[_0x5e4001(0x21f)](_0x94fdfc[_0x5e4001(0x26a)]);_0x22cec5[_0x5e4001(0x202)](_0x557991),_0x22cec5['scrollTop']=_0x22cec5[_0x5e4001(0x1a6)];}function cleanupOldRooms(){const _0x2ff1e9=_0x1f6eab,_0x53a369={'ORyYK':function(_0x38ea82,_0xa8b486){return _0x38ea82!==_0xa8b486;},'EeDpc':function(_0x84afb9,_0x2a0d93){return _0x84afb9!==_0x2a0d93;},'MSNjh':function(_0x39bcc2,_0x30f715){return _0x39bcc2===_0x30f715;},'hBdPh':function(_0x585cca,_0x5b7cab){return _0x585cca>_0x5b7cab;},'gHnYT':function(_0xc91cff,_0x504bc9){return _0xc91cff-_0x504bc9;},'GVPhy':function(_0x159c00,_0x900766){return _0x159c00*_0x900766;},'FPGJm':function(_0x3beb5e,_0x32986a){return _0x3beb5e*_0x32986a;},'hIbaN':_0x2ff1e9(0x325),'DVMcG':_0x2ff1e9(0x295),'nbZfR':_0x2ff1e9(0x23e)};db[_0x2ff1e9(0x1e8)](_0x2ff1e9(0x254))[_0x2ff1e9(0x3a9)](_0x53a369[_0x2ff1e9(0x340)])['then'](_0xf527b8=>{const _0x4bed26=_0x2ff1e9,_0x4d83db={'Tgacp':function(_0x59e681,_0x2922d1){const _0x3da03a=_0x251c;return _0x53a369[_0x3da03a(0x215)](_0x59e681,_0x2922d1);}},_0x2d855d=_0xf527b8[_0x4bed26(0x311)]();if(!_0x2d855d)return;const _0x49db73=Date[_0x4bed26(0x227)]();for(const _0x1e3289 in _0x2d855d){if(_0x53a369[_0x4bed26(0x1d2)](_0x1e3289,STATIC_ROOM))continue;const _0xcf18f2=_0x2d855d[_0x1e3289];_0x53a369['hBdPh'](_0x53a369[_0x4bed26(0x226)](_0x49db73,_0xcf18f2[_0x4bed26(0x36f)]||0x0),_0x53a369[_0x4bed26(0x323)](_0x53a369[_0x4bed26(0x200)](0x2,0x3c),0x3e8))&&db[_0x4bed26(0x1e8)](_0x53a369['hIbaN']+_0x1e3289)['remove']();}db['ref'](_0x53a369[_0x4bed26(0x334)])[_0x4bed26(0x3a9)](_0x53a369[_0x4bed26(0x340)])[_0x4bed26(0x1d4)](_0x1651d7=>{const _0xc953e2=_0x4bed26,_0x196bf4=_0x1651d7['val']();if(!_0x196bf4)return;for(const _0x47c5e0 in _0x196bf4){if(_0x53a369[_0xc953e2(0x244)](_0x47c5e0,STATIC_ROOM))db[_0xc953e2(0x1e8)](_0xc953e2(0x1ef)+_0x47c5e0)[_0xc953e2(0x237)]();}}),db['ref']('antispamBlocked')[_0x4bed26(0x3a9)](_0x4bed26(0x23e))['then'](_0x474a4f=>{const _0x26f8b7=_0x4bed26,_0x17251b=_0x474a4f[_0x26f8b7(0x311)]();if(!_0x17251b)return;for(const _0xbb2412 in _0x17251b){if(_0x4d83db[_0x26f8b7(0x261)](_0xbb2412,STATIC_ROOM))db['ref']('antispamBlocked/'+_0xbb2412)[_0x26f8b7(0x237)]();}});});}function _0x251c(_0x181ad5,_0x41af7c){const _0x41e6b5=_0x41e6();return _0x251c=function(_0x251c3c,_0x2b5488){_0x251c3c=_0x251c3c-0x15a;let _0x4228e9=_0x41e6b5[_0x251c3c];return _0x4228e9;},_0x251c(_0x181ad5,_0x41af7c);}document[_0x1f6eab(0x24f)](_0x1f6eab(0x37e),()=>{const _0x4d3f35=_0x1f6eab,_0x28abb4={'rsjld':_0x4d3f35(0x302),'bxPze':function(_0x4aa0bd){return _0x4aa0bd();},'kLZfs':'msgInput'},_0x1d0f32=document[_0x4d3f35(0x21f)](_0x28abb4[_0x4d3f35(0x2bc)]);_0x1d0f32&&_0x1d0f32[_0x4d3f35(0x24f)](_0x4d3f35(0x233),function(_0x5ce2f6){const _0x52a343=_0x4d3f35;_0x5ce2f6[_0x52a343(0x19f)]===_0x28abb4[_0x52a343(0x1f4)]&&(_0x5ce2f6[_0x52a343(0x381)](),_0x28abb4[_0x52a343(0x249)](sendMessage));});});function showScreen(_0x202ad1){const _0x123174=_0x1f6eab,_0x575580={'ahnQK':_0x123174(0x18c),'HygJD':'codeEntryScreen','EXZFB':_0x123174(0x1dd),'tiltr':_0x123174(0x394),'WNfnF':_0x123174(0x199),'ctPbb':'authScreen','JeCNx':'editProfileScreen','ZvAlO':_0x123174(0x376)};[_0x575580[_0x123174(0x2cd)],'roomChoiceScreen',_0x575580[_0x123174(0x17f)],_0x123174(0x243),_0x575580[_0x123174(0x29e)],_0x575580[_0x123174(0x1c7)],_0x575580[_0x123174(0x209)],_0x575580['ctPbb'],_0x575580[_0x123174(0x3ab)]]['forEach'](_0x16debb=>{const _0x2e16b6=_0x123174;document[_0x2e16b6(0x21f)](_0x16debb)[_0x2e16b6(0x289)][_0x2e16b6(0x1c0)]=_0x2e16b6(0x35e);}),document[_0x123174(0x21f)](_0x202ad1)[_0x123174(0x289)]['display']=_0x575580[_0x123174(0x205)];}function genRoomCode(){const _0x48b4a8=_0x1f6eab,_0x363207={'KcbXw':_0x48b4a8(0x183),'EjXqM':_0x48b4a8(0x2cb),'SgsKZ':function(_0x4e6f44,_0xf44bd6){return _0x4e6f44+_0xf44bd6;},'KZKVc':function(_0x3909f3,_0x5f05ec){return _0x3909f3+_0x5f05ec;},'eHYLp':function(_0x2b4bd5,_0x4efeee,_0x3226de){return _0x2b4bd5(_0x4efeee,_0x3226de);}},_0x436afc=_0x363207['KcbXw'],_0x1c3f43=_0x363207['EjXqM'],_0x47fe80=(_0x16a207,_0xe6c1e)=>Array[_0x48b4a8(0x18a)]({'length':_0xe6c1e},()=>_0x16a207[Math[_0x48b4a8(0x1ac)](Math[_0x48b4a8(0x38d)]()*_0x16a207[_0x48b4a8(0x2d5)])])[_0x48b4a8(0x1a0)]('');return _0x363207['SgsKZ'](_0x363207[_0x48b4a8(0x304)](_0x363207['eHYLp'](_0x47fe80,_0x1c3f43,0x3),_0x47fe80(_0x436afc,0x3))+_0x47fe80(_0x1c3f43,0x2),_0x47fe80(_0x436afc,0x2));}function startInactivityTimer(){const _0x43288c=_0x1f6eab,_0x584590={'kVnRz':function(_0x128261,_0x39d768){return _0x128261>_0x39d768;},'mMwAs':function(_0x2c5f6a,_0x5e6afc){return _0x2c5f6a-_0x5e6afc;},'FUDcc':function(_0x41611a,_0x1bc916){return _0x41611a*_0x1bc916;},'KmuBs':function(_0x564a51,_0x317f72){return _0x564a51!==_0x317f72;},'QrqKn':'rooms/','EjykN':function(_0x28b7d0,_0x41f032){return _0x28b7d0(_0x41f032);},'IAxIr':_0x43288c(0x391),'KkFzl':function(_0x545ff3,_0x389f51,_0x47a609){return _0x545ff3(_0x389f51,_0x47a609);}};_0x584590[_0x43288c(0x35b)](setInterval,()=>{const _0x5187a7=_0x43288c;_0x584590[_0x5187a7(0x1a1)](_0x584590[_0x5187a7(0x333)](Date[_0x5187a7(0x227)](),lastActivity),_0x584590[_0x5187a7(0x19e)](0x5*0x3c,0x3e8))&&_0x584590[_0x5187a7(0x3ad)](roomCode,STATIC_ROOM)&&(db[_0x5187a7(0x1e8)](_0x584590[_0x5187a7(0x3a2)]+roomCode)[_0x5187a7(0x36c)]({'active':![]}),_0x584590[_0x5187a7(0x15b)](alert,_0x584590['IAxIr']),location[_0x5187a7(0x1b0)]());},0x7530);}function setupSidebarBackHandler(){const _0x3c8b39=_0x1f6eab,_0x4432ec={'jaTqG':_0x3c8b39(0x1f7),'tdHlW':_0x3c8b39(0x2b3)};window[_0x3c8b39(0x24f)](_0x4432ec[_0x3c8b39(0x1ae)],()=>{const _0x12527b=_0x3c8b39,_0x279d92=document[_0x12527b(0x21f)](_0x4432ec[_0x12527b(0x17a)]);_0x279d92?.[_0x12527b(0x1e2)]['contains'](_0x12527b(0x259))&&_0x279d92['classList']['remove'](_0x12527b(0x259));});}function toggleSidebar(){const _0x144e47=_0x1f6eab,_0x33136e={'Tkrah':'userSidebar','lZWeo':_0x144e47(0x259)},_0x2ec5cf=document[_0x144e47(0x21f)](_0x33136e[_0x144e47(0x34c)]);if(!_0x2ec5cf['classList'][_0x144e47(0x29d)](_0x33136e[_0x144e47(0x220)]))_0x2ec5cf[_0x144e47(0x1e2)][_0x144e47(0x354)](_0x33136e[_0x144e47(0x220)]),history[_0x144e47(0x288)]({'sidebarOpen':!![]},'');else{_0x2ec5cf[_0x144e47(0x1e2)]['remove'](_0x33136e['lZWeo']);if(history['state']?.['sidebarOpen'])history[_0x144e47(0x18d)]();}}function setupVisibilityAttention(){const _0x2d5a2c=_0x1f6eab,_0x3b9d8a={'BwDaM':'visibilitychange'};let _0x350e90=0x0,_0x36171c=document[_0x2d5a2c(0x2af)];document['addEventListener'](_0x3b9d8a[_0x2d5a2c(0x213)],()=>{const _0x1fdf41=_0x2d5a2c;!document[_0x1fdf41(0x23c)]&&(document['title']=_0x36171c,_0x350e90=0x0);}),window[_0x2d5a2c(0x2f8)]=function(){const _0x5e6fc9=_0x2d5a2c;document[_0x5e6fc9(0x23c)]&&(_0x350e90++,document[_0x5e6fc9(0x2af)]='('+_0x350e90+_0x5e6fc9(0x1cf)+_0x36171c);};}function tryEditProfile(){const _0x30a86e=_0x1f6eab,_0x342102={'nuKLH':_0x30a86e(0x193)};document[_0x30a86e(0x21f)](_0x342102[_0x30a86e(0x33c)])[_0x30a86e(0x289)][_0x30a86e(0x1c0)]='flex';}async function submitEditProfile(){const _0x56f29f=_0x1f6eab,_0x2ec974={'dzSJE':'newPasswordInput','gSLRH':_0x56f29f(0x278),'OJEXU':'editProfileError','wKxzk':'Please\x20enter\x20your\x20current\x20password.','GiqLy':_0x56f29f(0x248),'kskBk':function(_0x326d6e,_0x58257f){return _0x326d6e(_0x58257f);},'WskzU':_0x56f29f(0x29a),'wuCdv':function(_0x5f45fe,_0xbf98fe){return _0x5f45fe!==_0xbf98fe;},'QDsIx':_0x56f29f(0x179),'QxFZA':function(_0x32192b,_0x59060d){return _0x32192b*_0x59060d;},'AjYdf':function(_0x5a558d,_0x32dad7){return _0x5a558d*_0x32dad7;},'FFJby':function(_0x5cbb94,_0x189b4f){return _0x5cbb94-_0x189b4f;},'ZIqhW':function(_0x130af0,_0xa2f588){return _0x130af0(_0xa2f588);},'NhrfD':_0x56f29f(0x2e5),'bAtmm':function(_0x30252c,_0x40bc57){return _0x30252c(_0x40bc57);}},_0x2003c4=document[_0x56f29f(0x21f)]('oldPasswordInput')[_0x56f29f(0x23e)],_0x41a94f=document[_0x56f29f(0x21f)](_0x2ec974[_0x56f29f(0x24d)])[_0x56f29f(0x23e)],_0x2d9fac=document[_0x56f29f(0x21f)](_0x2ec974[_0x56f29f(0x1a2)])[_0x56f29f(0x23e)][_0x56f29f(0x19d)](),_0x4057f7=document[_0x56f29f(0x21f)](_0x2ec974['OJEXU']);if(!_0x2003c4){_0x4057f7[_0x56f29f(0x384)]=_0x2ec974[_0x56f29f(0x176)],_0x4057f7[_0x56f29f(0x289)][_0x56f29f(0x1c0)]=_0x2ec974[_0x56f29f(0x2a5)];return;}const _0x303833=_0x2ec974[_0x56f29f(0x222)](sanitizeUsername,username),_0x25a20d=await db[_0x56f29f(0x1e8)](_0x56f29f(0x345)+_0x303833)['get']();if(!_0x25a20d['exists']()){_0x4057f7[_0x56f29f(0x384)]=_0x2ec974[_0x56f29f(0x3af)],_0x4057f7['style'][_0x56f29f(0x1c0)]=_0x56f29f(0x248);return;}const _0xade966=_0x25a20d[_0x56f29f(0x311)](),_0x4c7f04=await sha256(_0x2003c4);if(_0x2ec974[_0x56f29f(0x2aa)](_0x4c7f04,_0xade966[_0x56f29f(0x38f)])){_0x4057f7[_0x56f29f(0x384)]=_0x2ec974['QDsIx'],_0x4057f7[_0x56f29f(0x289)][_0x56f29f(0x1c0)]=_0x2ec974[_0x56f29f(0x2a5)];return;}const _0x5de0dd={};if(_0x41a94f){const _0x24b158=await _0x2ec974[_0x56f29f(0x222)](sha256,_0x41a94f);_0x5de0dd['passwordHash']=_0x24b158;}_0x2d9fac!==_0xade966['description']&&(_0x5de0dd['description']=_0x2d9fac);const _0x59e9d3=Date[_0x56f29f(0x227)](),_0x3c4800=_0x2ec974[_0x56f29f(0x24b)](_0x2ec974[_0x56f29f(0x2ca)](0x18*0x3c,0x3c),0x3e8),_0x50a20d=_0x2ec974['FFJby'](_0x59e9d3,_0xade966[_0x56f29f(0x253)]||0x0)>_0x3c4800;if(_0x50a20d&&confirm(_0x56f29f(0x160))){const _0x3463f1=_0x2ec974[_0x56f29f(0x263)](prompt,_0x2ec974['NhrfD']);_0x3463f1&&_0x3463f1[_0x56f29f(0x19d)]()&&(_0x5de0dd['username']=_0x3463f1[_0x56f29f(0x19d)](),_0x5de0dd['usernameHistory']=(_0xade966[_0x56f29f(0x398)]||[])[_0x56f29f(0x2d0)](_0x3463f1[_0x56f29f(0x19d)]()),_0x5de0dd[_0x56f29f(0x253)]=_0x59e9d3);}_0x5de0dd[_0x56f29f(0x3ae)]&&_0x5de0dd['username']!==_0xade966[_0x56f29f(0x3ae)]?(await db[_0x56f29f(0x1e8)](_0x56f29f(0x345)+_0x2ec974[_0x56f29f(0x185)](sanitizeUsername,_0x5de0dd['username']))['set']({..._0xade966,..._0x5de0dd}),await db['ref']('auth/'+_0x303833)['remove'](),username=_0x5de0dd['username']):await db[_0x56f29f(0x1e8)](_0x56f29f(0x345)+_0x303833)[_0x56f29f(0x36c)](_0x5de0dd),_0x2ec974[_0x56f29f(0x263)](alert,_0x56f29f(0x274)),location[_0x56f29f(0x1b0)]();}function cancelEditProfile(){const _0x3df721=_0x1f6eab,_0x5f1fa8={'VLkvu':'editProfileScreen','ZFGGq':'none','BZFVm':function(_0x1976ce,_0x4d167f){return _0x1976ce(_0x4d167f);}};document[_0x3df721(0x21f)](_0x5f1fa8[_0x3df721(0x36d)])[_0x3df721(0x289)][_0x3df721(0x1c0)]=_0x5f1fa8[_0x3df721(0x39b)],_0x5f1fa8[_0x3df721(0x2b0)](showScreen,_0x3df721(0x243));}function listenForUserList(){const _0x557c41=_0x1f6eab,_0x25982c={'tzOlh':function(_0x4ace6a){return _0x4ace6a();},'lplRZ':_0x557c41(0x23e)};db['ref'](_0x557c41(0x380)+roomCode)['on'](_0x25982c[_0x557c41(0x314)],async _0x2a1399=>{const _0x18ea32=_0x557c41;if(!_0x2a1399[_0x18ea32(0x161)]())return;const _0x4a9a73=_0x2a1399[_0x18ea32(0x311)]();await _0x25982c[_0x18ea32(0x353)](loadRoomRoles),renderUserLists(_0x4a9a73);});}function trackPresence(){const _0x12cc59=_0x1f6eab,_0x4f685b={'ALahZ':function(_0x1354eb){return _0x1354eb();},'evoBu':function(_0xb3c86b,_0x3024ba){return _0xb3c86b(_0x3024ba);},'SGqIe':function(_0x235ab3,_0x369bd8){return _0x235ab3||_0x369bd8;},'emmet':_0x12cc59(0x23e)};if(!username||!roomCode)return;const _0x5e8922=_0x4f685b[_0x12cc59(0x33a)](sanitizeUsername,username),_0x3aa96a=db[_0x12cc59(0x1e8)](_0x12cc59(0x380)+roomCode+'/'+_0x5e8922),_0x44d88c={'username':username,'avatarBase64':avatarBase64||'','description':_0x4f685b[_0x12cc59(0x1cb)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x12cc59(0x1a7)]['TIMESTAMP']};db[_0x12cc59(0x1e8)]('admins/'+roomCode+'/'+_0x5e8922)[_0x12cc59(0x3a9)](_0x4f685b['emmet'])['then'](_0x348c99=>{const _0x296216=_0x12cc59;_0x348c99[_0x296216(0x161)]()&&(_0x44d88c[_0x296216(0x31e)]=!![]),_0x3aa96a['set'](_0x44d88c),_0x3aa96a[_0x296216(0x267)]()[_0x296216(0x36c)]({'online':![],'lastOnline':Date[_0x296216(0x227)]()}),_0x4f685b[_0x296216(0x164)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x220f66){const _0xe0d0ef=_0x1f6eab,_0x1b588a={'XzPKB':_0xe0d0ef(0x212),'zRzUh':'block','bldQn':function(_0x1f4a0e,_0x26a2f9){return _0x1f4a0e(_0x26a2f9);},'HGQLG':_0xe0d0ef(0x379),'XbNlA':function(_0x22bfac,_0x108b22){return _0x22bfac(_0x108b22);}};if(!_0x220f66[_0xe0d0ef(0x25a)][_0xe0d0ef(0x2d5)])return;const _0x207dba=_0x220f66[_0xe0d0ef(0x25a)][0x0],_0x2aec4e=new FileReader();_0x2aec4e[_0xe0d0ef(0x299)]=async()=>{const _0x75e7ca=_0xe0d0ef,_0x314eaf=_0x2aec4e[_0x75e7ca(0x1c4)][_0x75e7ca(0x24c)](',')[0x1];document[_0x75e7ca(0x21f)](_0x1b588a[_0x75e7ca(0x1a4)])[_0x75e7ca(0x2d3)]=_0x2aec4e[_0x75e7ca(0x1c4)],document[_0x75e7ca(0x21f)](_0x1b588a['XzPKB'])[_0x75e7ca(0x289)][_0x75e7ca(0x1c0)]=_0x1b588a[_0x75e7ca(0x3b1)];try{const _0xbd3ad2=_0x1b588a['bldQn'](sanitizeUsername,username);await db[_0x75e7ca(0x1e8)]('auth/'+_0xbd3ad2+_0x75e7ca(0x264))[_0x75e7ca(0x33e)](_0x314eaf),_0x1b588a[_0x75e7ca(0x1bb)](alert,_0x1b588a[_0x75e7ca(0x2ac)]);}catch(_0x5e0a52){console[_0x75e7ca(0x372)](_0x5e0a52),_0x1b588a['XbNlA'](alert,_0x75e7ca(0x1bc));}},_0x2aec4e[_0xe0d0ef(0x2c8)](_0x207dba);}function muteUser(_0x499e49,_0x3bc124){const _0x4e153a=_0x1f6eab,_0x2b8865={'HbfoJ':_0x4e153a(0x2a3),'xJGTM':function(_0xa60cf5,_0x4cd185){return _0xa60cf5+_0x4cd185;},'DLazc':function(_0x485a80,_0x12d25d){return _0x485a80*_0x12d25d;},'memIp':function(_0x278c45,_0x1d29fe){return _0x278c45*_0x1d29fe;},'yDYiv':function(_0xa75cb4,_0x180fec){return _0xa75cb4(_0x180fec);}};if(!isRoomAdmin)return alert(_0x2b8865[_0x4e153a(0x36e)]);const _0x14d0b1=_0x2b8865['xJGTM'](Date[_0x4e153a(0x227)](),_0x2b8865[_0x4e153a(0x255)](_0x2b8865['memIp'](_0x3bc124,0x3c),0x3e8));db['ref'](_0x4e153a(0x317)+roomCode+'/'+_0x2b8865[_0x4e153a(0x182)](sanitizeUsername,_0x499e49))[_0x4e153a(0x33e)](_0x14d0b1);}function unmuteUser(_0x1a2b14){const _0x1075a8=_0x1f6eab,_0x4c9b19={'IyeJL':function(_0x3dbb0e,_0x5bc918){return _0x3dbb0e(_0x5bc918);},'EVtEg':_0x1075a8(0x2a3),'eLLYA':function(_0x43477c,_0x297d51){return _0x43477c(_0x297d51);}};if(!isRoomAdmin)return _0x4c9b19['IyeJL'](alert,_0x4c9b19[_0x1075a8(0x36b)]);db['ref'](_0x1075a8(0x317)+roomCode+'/'+_0x4c9b19[_0x1075a8(0x285)](sanitizeUsername,_0x1a2b14))[_0x1075a8(0x237)]();}function updateOnlineIndicator(){const _0x573857=_0x1f6eab,_0x94acbb={'vroLK':_0x573857(0x232)},_0xcfbe55=document[_0x573857(0x21f)](_0x94acbb[_0x573857(0x344)]);_0xcfbe55[_0x573857(0x384)]='‚óè\x20Online',_0xcfbe55[_0x573857(0x289)][_0x573857(0x318)]=_0x573857(0x1c2);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x2259c1){const _0x48874e=_0x1f6eab,_0x4dc554={'qWnYH':function(_0x3e96f3,_0x4ecd7b){return _0x3e96f3(_0x4ecd7b);},'gEfoQ':_0x48874e(0x29a),'kgiFD':_0x48874e(0x2f1),'LVybX':'No\x20changes\x20yet','DCKWJ':_0x48874e(0x356),'aGxwy':_0x48874e(0x199),'luHUF':_0x48874e(0x248)};db[_0x48874e(0x1e8)](_0x48874e(0x345)+_0x2259c1)[_0x48874e(0x324)]()[_0x48874e(0x1d4)](_0x5ed0f5=>{const _0x4bf9c3=_0x48874e;if(!_0x5ed0f5['exists']())return _0x4dc554[_0x4bf9c3(0x36a)](alert,_0x4dc554[_0x4bf9c3(0x30f)]);const _0x4bd3fc=_0x5ed0f5[_0x4bf9c3(0x311)](),_0x4b7584=('\x0aName:\x20'+_0x4bd3fc[_0x4bf9c3(0x3ae)]+_0x4bf9c3(0x3a5)+(_0x4bd3fc[_0x4bf9c3(0x3b5)]||_0x4dc554[_0x4bf9c3(0x321)])+_0x4bf9c3(0x332)+((_0x4bd3fc[_0x4bf9c3(0x398)]||[])[_0x4bf9c3(0x1a0)](',\x20')||_0x4dc554[_0x4bf9c3(0x17d)])+_0x4bf9c3(0x2e6)+(_0x4bd3fc['lastChanged']?new Date(_0x4bd3fc[_0x4bf9c3(0x253)])[_0x4bf9c3(0x3b2)]():'Unknown')+'\x0a\x20\x20\x20\x20')['trim']();document[_0x4bf9c3(0x21f)](_0x4dc554[_0x4bf9c3(0x34e)])[_0x4bf9c3(0x384)]=_0x4b7584,document[_0x4bf9c3(0x21f)](_0x4dc554[_0x4bf9c3(0x2ed)])[_0x4bf9c3(0x289)]['display']=_0x4dc554[_0x4bf9c3(0x174)];});}function initUsernameFlow(){const _0x58e155=_0x1f6eab,_0x369e3e={'mYiMk':function(_0x45c486,_0x4516e9){return _0x45c486(_0x4516e9);},'xYNuM':'profileScreen','lycWg':_0x58e155(0x276),'GWYIM':function(_0x1442fc,_0x3fbe8a){return _0x1442fc(_0x3fbe8a);}},_0x1276f6=localStorage[_0x58e155(0x390)](_0x58e155(0x26d));!_0x1276f6?_0x369e3e['mYiMk'](showScreen,_0x369e3e[_0x58e155(0x374)]):(username=_0x1276f6,document[_0x58e155(0x21f)](_0x369e3e['lycWg'])[_0x58e155(0x384)]=username,_0x369e3e[_0x58e155(0x38e)](showScreen,_0x58e155(0x20d)));}function closeProfile(){const _0x3568c7=_0x1f6eab,_0x554a8e={'hXNZB':'profileViewer','lBajA':'none'};document[_0x3568c7(0x21f)](_0x554a8e[_0x3568c7(0x284)])[_0x3568c7(0x289)][_0x3568c7(0x1c0)]=_0x554a8e[_0x3568c7(0x1f3)];}function resetWebsiteData(){const _0xeb99b8=_0x1f6eab,_0x3099cd={'VWUKZ':_0xeb99b8(0x27b),'rFyNQ':_0xeb99b8(0x3a6),'apbPj':function(_0x5d7858,_0x237fd4){return _0x5d7858+_0x237fd4;}};try{const _0x327b68=localStorage['getItem'](_0x3099cd[_0xeb99b8(0x2f0)]);localStorage[_0xeb99b8(0x2dc)](),sessionStorage[_0xeb99b8(0x2dc)](),_0x327b68&&localStorage[_0xeb99b8(0x2b1)](_0xeb99b8(0x27b),_0x327b68);}catch(_0xf9666e){}if(!username||!roomCode){const _0x44d860=_0x3099cd['rFyNQ'][_0xeb99b8(0x24c)]('|');let _0x4e677d=0x0;while(!![]){switch(_0x44d860[_0x4e677d++]){case'0':roomCode=null;continue;case'1':isRoomAdmin=![];continue;case'2':clientId=_0x3099cd['apbPj']('_',Math[_0xeb99b8(0x38d)]()[_0xeb99b8(0x208)](0x24)[_0xeb99b8(0x231)](0x2,0x9));continue;case'3':pendingMessages=[];continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x216f7b=_0x1f6eab,_0xa527a2={'ARlZf':function(_0x466576,_0x17c8fb){return _0x466576(_0x17c8fb);},'JCuqJ':_0x216f7b(0x242)},_0x15cd02=_0xa527a2[_0x216f7b(0x1aa)](prompt,_0xa527a2[_0x216f7b(0x162)]);if(!_0x15cd02)return;db[_0x216f7b(0x1e8)](_0x216f7b(0x325)+roomCode+_0x216f7b(0x290))[_0x216f7b(0x33e)]({'text':_0x15cd02,'by':username,'timestamp':Date[_0x216f7b(0x227)]()});}function listenForAnnouncement(){const _0x3e9900=_0x1f6eab,_0xaadc9b={'qqEwp':_0x3e9900(0x1cd)},_0x18b67c=db['ref'](_0x3e9900(0x325)+roomCode+_0x3e9900(0x290));_0x18b67c['on'](_0x3e9900(0x23e),_0x538123=>{const _0x567b41=_0x3e9900,_0x53e097=_0x538123['val']();if(!_0x53e097){document[_0x567b41(0x21f)](_0xaadc9b[_0x567b41(0x2d2)])['innerText']='';return;}const _0x50609a=document['getElementById'](_0x567b41(0x1cd));_0x50609a[_0x567b41(0x384)]=''+_0x53e097['text'];});}document['getElementById'](_0x1f6eab(0x1cd))[_0x1f6eab(0x24f)](_0x1f6eab(0x29c),_0x331f8=>{const _0x3afe34=_0x1f6eab,_0x526b24={'onmvb':function(_0x170601,_0x22b161){return _0x170601===_0x22b161;},'SKxma':function(_0x350f09,_0x24b828){return _0x350f09(_0x24b828);},'FWocF':'Remove\x20Announcement?'};_0x526b24[_0x3afe34(0x272)](_0x331f8['detail'],0x3)&&isRoomAdmin&&(_0x526b24[_0x3afe34(0x2b8)](confirm,_0x526b24[_0x3afe34(0x2e7)])&&db['ref'](_0x3afe34(0x325)+roomCode+_0x3afe34(0x290))[_0x3afe34(0x237)]());}),document['getElementById']('msgInput')['addEventListener'](_0x1f6eab(0x369),()=>{const _0x165695=_0x1f6eab,_0x18db2c={'HVNJI':'msgInput','ibKXM':'2px\x20solid\x20red'},_0x5c8cd6=document[_0x165695(0x21f)](_0x18db2c['HVNJI']);_0x122526?_0x5c8cd6['style'][_0x165695(0x343)]=_0x18db2c[_0x165695(0x27e)]:_0x5c8cd6['style'][_0x165695(0x343)]='';const _0x77ef67=_0x5c8cd6[_0x165695(0x23e)][_0x165695(0x1d5)](),_0x122526=swearWords['some'](_0x29fbaf=>_0x77ef67[_0x165695(0x2c7)](_0x29fbaf));_0x122526?(_0x5c8cd6[_0x165695(0x289)]['border']='2px\x20solid\x20red',sendBtn[_0x165695(0x306)]=!![]):(_0x5c8cd6[_0x165695(0x289)][_0x165695(0x343)]='',_0x122526?_0x5c8cd6[_0x165695(0x289)][_0x165695(0x343)]=_0x18db2c[_0x165695(0x27e)]:_0x5c8cd6[_0x165695(0x289)][_0x165695(0x343)]='');});function muteUser(_0xcbeaa2,_0x5ebca6){const _0xa74717=_0x1f6eab,_0x3e0742={'aUXes':function(_0x4122bc,_0x446bc4){return _0x4122bc(_0x446bc4);},'RhJCe':function(_0x22f217,_0x1243a8){return _0x22f217+_0x1243a8;},'rPBwk':function(_0x1b7103,_0x1ab773){return _0x1b7103*_0x1ab773;}},_0x103f7c=_0x3e0742[_0xa74717(0x2a1)](Date['now'](),_0x3e0742['rPBwk'](_0x3e0742[_0xa74717(0x1de)](_0x5ebca6,0x3c),0x3e8));db[_0xa74717(0x1e8)]('muted/'+roomCode+'/'+sanitizeUsername(_0xcbeaa2))[_0xa74717(0x33e)]({'muteUntil':_0x103f7c})['then'](()=>{const _0x464efe=_0xa74717;_0x3e0742[_0x464efe(0x38a)](alert,_0xcbeaa2+_0x464efe(0x203)+_0x5ebca6+_0x464efe(0x360));});}function deleteUserMessages(_0x2c8786){const _0x36249f=_0x1f6eab,_0x13fc1b={'qzpoG':function(_0x53f2f0,_0x494c0b){return _0x53f2f0(_0x494c0b);}};db[_0x36249f(0x1e8)](_0x36249f(0x325)+roomCode+_0x36249f(0x2fb))[_0x36249f(0x35c)]('sender')[_0x36249f(0x20c)](_0x2c8786)[_0x36249f(0x324)]()[_0x36249f(0x1d4)](_0x402ac1=>{const _0x211435=_0x36249f;_0x402ac1[_0x211435(0x28a)](_0x26bb5c=>{const _0x5448db=_0x211435;db[_0x5448db(0x1e8)](_0x5448db(0x325)+roomCode+_0x5448db(0x35a)+_0x26bb5c[_0x5448db(0x19f)])[_0x5448db(0x237)]();}),_0x13fc1b[_0x211435(0x2cc)](alert,'Messages\x20by\x20'+_0x2c8786+'\x20deleted.');});}function pauseRoom(_0x589c0b){const _0x326cab=_0x1f6eab,_0x379af5={'sFCPp':_0x326cab(0x166),'qiguI':_0x326cab(0x248),'PDsLh':'none','iUUvI':_0x326cab(0x23e)};db[_0x326cab(0x1e8)](_0x326cab(0x325)+roomCode+'/paused')['on'](_0x379af5[_0x326cab(0x28f)],_0x4911a9=>{const _0x5563b6=_0x326cab,_0xd0084b=_0x4911a9[_0x5563b6(0x311)]();document[_0x5563b6(0x21f)](_0x379af5[_0x5563b6(0x341)])[_0x5563b6(0x289)][_0x5563b6(0x1c0)]=_0xd0084b?_0x379af5[_0x5563b6(0x2e9)]:_0x379af5[_0x5563b6(0x236)];});}function canPerformAction(_0x5d8f4c){const _0x4f7dcc=_0x1f6eab,_0x19c1f8={'jADwZ':_0x4f7dcc(0x2ec),'FEYlO':function(_0x5c3a54,_0xce66e9){return _0x5c3a54===_0xce66e9;},'cNfPK':_0x4f7dcc(0x30c),'WgInR':_0x4f7dcc(0x358),'zQopD':_0x4f7dcc(0x31e),'muFPa':function(_0x50fdde,_0xf08000){return _0x50fdde===_0xf08000;}};if(role===_0x19c1f8[_0x4f7dcc(0x219)])return!![];if(_0x19c1f8[_0x4f7dcc(0x23b)](_0x5d8f4c,_0x19c1f8[_0x4f7dcc(0x3b0)])||_0x19c1f8[_0x4f7dcc(0x23b)](_0x5d8f4c,_0x19c1f8[_0x4f7dcc(0x32f)]))return _0x19c1f8['FEYlO'](role,_0x19c1f8['zQopD'])||role==='moderator';if(_0x5d8f4c===_0x4f7dcc(0x2e3))return _0x19c1f8[_0x4f7dcc(0x2e4)](role,_0x19c1f8[_0x4f7dcc(0x2b9)]);return![];}const html=Object[_0x1f6eab(0x228)](roomUsers)[_0x1f6eab(0x23d)](_0x7b03de=>{const _0x5eb5b2=_0x1f6eab,_0x57311e={'DaIiP':function(_0x5dbfb6,_0x5c345d){return _0x5dbfb6(_0x5c345d);},'RrgGZ':function(_0xbbb7dc,_0xf06218){return _0xbbb7dc!==_0xf06218;},'NAYuG':function(_0x11cd6b,_0x17e69e){return _0x11cd6b(_0x17e69e);},'pAdqf':function(_0x104abd,_0x14d40a){return _0x104abd(_0x14d40a);},'lsEzD':'deleteMessage','lyDrt':function(_0x2e78da,_0x4f403d){return _0x2e78da===_0x4f403d;},'osgmm':_0x5eb5b2(0x31e),'MuoqP':function(_0x4eeb96,_0x5728ad){return _0x4eeb96(_0x5728ad);}},_0x336a20=_0x57311e['DaIiP'](sanitizeUsername,_0x7b03de[_0x5eb5b2(0x3ae)]),_0x5bbb03=[];if(_0x57311e[_0x5eb5b2(0x31c)](_0x336a20,_0x57311e['DaIiP'](sanitizeUsername,username))){_0x57311e[_0x5eb5b2(0x3a7)](canPerformAction,_0x5eb5b2(0x30c))&&(_0x5bbb03['push'](_0x5eb5b2(0x1f2)+_0x336a20+_0x5eb5b2(0x187)),_0x5bbb03[_0x5eb5b2(0x34b)](_0x5eb5b2(0x1f2)+_0x336a20+_0x5eb5b2(0x217)));_0x57311e[_0x5eb5b2(0x1e7)](canPerformAction,_0x57311e[_0x5eb5b2(0x15d)])&&_0x5bbb03['push']('<button\x20onclick=\x22deleteUserMessages(\x27'+_0x336a20+_0x5eb5b2(0x279));if(_0x57311e[_0x5eb5b2(0x1ab)](role,_0x5eb5b2(0x2ec)))_0x5bbb03[_0x5eb5b2(0x34b)](_0x5eb5b2(0x26b)+_0x336a20+'\x27)\x22>Promote\x20to\x20Moderator</button>'),_0x5bbb03[_0x5eb5b2(0x34b)](_0x5eb5b2(0x1bf)+_0x336a20+_0x5eb5b2(0x20e));else _0x57311e[_0x5eb5b2(0x1ab)](role,_0x57311e[_0x5eb5b2(0x23a)])&&_0x5bbb03['push'](_0x5eb5b2(0x26b)+_0x336a20+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x5eb5b2(0x27c)+_0x7b03de['username']+'\x20'+_0x57311e[_0x5eb5b2(0x1d1)](getRoleTag,sanitizeUsername(_0x7b03de['username']))+_0x5eb5b2(0x214)+_0x336a20+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5bbb03[_0x5eb5b2(0x1a0)]('')+_0x5eb5b2(0x34d)+_0x336a20+_0x5eb5b2(0x399);})[_0x1f6eab(0x1a0)]('');function promoteToModerator(_0x25fafc){const _0x2d37fa=_0x1f6eab,_0x446624={'pYqEh':function(_0x4fdb0d,_0x55d827){return _0x4fdb0d(_0x55d827);},'lSHKh':function(_0x577aa5,_0x512d3b){return _0x577aa5!==_0x512d3b;},'UhHRZ':'dev','URmIv':_0x2d37fa(0x31e),'TtVHB':'Only\x20Devs\x20or\x20Admins\x20can\x20promote.'};if(_0x446624[_0x2d37fa(0x1e9)](role,_0x446624[_0x2d37fa(0x3b4)])&&role!==_0x446624['URmIv']){_0x446624[_0x2d37fa(0x234)](alert,_0x446624[_0x2d37fa(0x2bf)]);return;}db[_0x2d37fa(0x1e8)](_0x2d37fa(0x377)+roomCode+'/'+sanitizeUsername(_0x25fafc))[_0x2d37fa(0x33e)](!![])[_0x2d37fa(0x1d4)](()=>{const _0x230fa5=_0x2d37fa;_0x446624['pYqEh'](alert,_0x25fafc+_0x230fa5(0x1b7));});}function promoteToAdmin(_0x29ce75){const _0x40217c=_0x1f6eab,_0x39ef6c={'DweBT':function(_0x1b727e,_0x183f5f){return _0x1b727e!==_0x183f5f;},'zYOER':_0x40217c(0x2ec),'lDHuK':function(_0x5962bc,_0x487239){return _0x5962bc(_0x487239);},'nSSch':_0x40217c(0x2a0)};if(_0x39ef6c[_0x40217c(0x256)](role,_0x39ef6c[_0x40217c(0x1e6)])){_0x39ef6c[_0x40217c(0x293)](alert,_0x39ef6c[_0x40217c(0x3ac)]);return;}db['ref'](_0x40217c(0x385)+roomCode+'/'+_0x39ef6c['lDHuK'](sanitizeUsername,_0x29ce75))[_0x40217c(0x33e)](!![])[_0x40217c(0x1d4)](()=>{alert(_0x29ce75+'\x20promoted\x20to\x20Admin!');});}function toggleUserOptions(_0x4a0061){const _0x27a70f=_0x1f6eab,_0x2c57b4={'vfOyJ':function(_0x13b90a,_0x57df92){return _0x13b90a===_0x57df92;}},_0x494185=document[_0x27a70f(0x21f)](_0x27a70f(0x282)+_0x4a0061);_0x2c57b4[_0x27a70f(0x370)](_0x494185[_0x27a70f(0x289)][_0x27a70f(0x1c0)],_0x27a70f(0x35e))?_0x494185[_0x27a70f(0x289)]['display']='block':_0x494185[_0x27a70f(0x289)][_0x27a70f(0x1c0)]='none';}function getRoleTag(_0x398c12){const _0x1735a0=_0x1f6eab,_0x442d40={'iaclP':function(_0x2b62ef,_0x172e72){return _0x2b62ef(_0x172e72);}},_0x155b7d=_0x442d40[_0x1735a0(0x216)](sanitizeUsername,_0x398c12);if(globalDevs['includes'](_0x155b7d))return _0x1735a0(0x357);if(roomAdmins[_0x1735a0(0x2c7)](_0x155b7d))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x1735a0(0x2c7)](_0x155b7d))return _0x1735a0(0x320);return'';}async function loadRoomRoles(){const _0x3ab4fd=_0x1f6eab,_0x1b8424={'MYOXi':function(_0x2495bf,_0x393c7f){return _0x2495bf===_0x393c7f;},'iuAFJ':'dev','opmET':function(_0x499d4f,_0x18f900){return _0x499d4f(_0x18f900);},'KpmsW':'auth','gJOXQ':_0x3ab4fd(0x31e),'VqWnH':'moderator','AYGJg':_0x3ab4fd(0x2eb)},_0x12555e=_0x1b8424['opmET'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x348c88=await db['ref'](_0x1b8424[_0x3ab4fd(0x20b)])[_0x3ab4fd(0x324)]();_0x348c88[_0x3ab4fd(0x28a)](_0x25db4b=>{const _0xca71d5=_0x3ab4fd;if(_0x1b8424[_0xca71d5(0x2c3)](_0x25db4b[_0xca71d5(0x311)]()[_0xca71d5(0x2a6)],_0x1b8424[_0xca71d5(0x204)]))globalDevs[_0xca71d5(0x34b)](_0x25db4b['key']);});const _0x183aa8=await db[_0x3ab4fd(0x1e8)]('admins/'+roomCode)['get']();_0x183aa8['exists']()&&_0x183aa8[_0x3ab4fd(0x28a)](_0x328fdf=>roomAdmins['push'](_0x328fdf[_0x3ab4fd(0x19f)]));const _0x3285ec=await db['ref']('moderators/'+roomCode)['get']();_0x3285ec[_0x3ab4fd(0x161)]()&&_0x3285ec[_0x3ab4fd(0x28a)](_0x111a0d=>roomModerators[_0x3ab4fd(0x34b)](_0x111a0d[_0x3ab4fd(0x19f)]));if(globalDevs[_0x3ab4fd(0x2c7)](_0x12555e))role=_0x3ab4fd(0x2ec);else{if(roomAdmins['includes'](_0x12555e))role=_0x1b8424['gJOXQ'];else roomModerators[_0x3ab4fd(0x2c7)](_0x12555e)?role=_0x1b8424['VqWnH']:role=_0x1b8424[_0x3ab4fd(0x21c)];}}async function renderUserLists(_0x1db707){const _0x481487=_0x1f6eab,_0x355565={'AxoJK':function(_0x2e3659,_0x3b6264){return _0x2e3659(_0x3b6264);},'iFRVW':function(_0x53e435,_0x3f2f25){return _0x53e435===_0x3f2f25;},'qgzMw':_0x481487(0x31e),'rUGFQ':function(_0x193413,_0x331139){return _0x193413===_0x331139;},'FqgDF':_0x481487(0x2b7),'EjPui':function(_0xdcc25b,_0x45cd08){return _0xdcc25b===_0x45cd08;},'oKCWC':function(_0x3c4e98,_0x48e02a){return _0x3c4e98===_0x48e02a;},'DFTMg':'dev','GzeaS':function(_0x2dd78a,_0x30ad1b){return _0x2dd78a(_0x30ad1b);},'UnDyI':function(_0x476a15,_0x44e13f){return _0x476a15===_0x44e13f;},'azcEM':function(_0x44f050,_0x5c7592){return _0x44f050===_0x5c7592;},'DXlsi':'adminControlsSection','dkOih':_0x481487(0x248),'YGJvO':_0x481487(0x35e),'QKTcu':_0x481487(0x2fa),'RGznX':'adminUserList'};roomUsers=_0x1db707;const _0x3a091b=_0x355565[_0x481487(0x362)](sanitizeUsername,username),_0x267399=_0x355565[_0x481487(0x1db)](role,_0x355565[_0x481487(0x230)])||_0x355565[_0x481487(0x1b5)](role,_0x481487(0x31e))||_0x355565[_0x481487(0x39e)](role,_0x355565[_0x481487(0x364)]);document[_0x481487(0x21f)](_0x355565['DXlsi'])[_0x481487(0x289)]['display']=_0x267399?_0x355565['dkOih']:_0x355565[_0x481487(0x1e1)];const _0x2f0413=Object[_0x481487(0x397)](_0x1db707)[_0x481487(0x23d)](async([_0x40e771,_0x546845])=>{const _0x2f476e=_0x481487,_0x20fbe0=sanitizeUsername(_0x546845[_0x2f476e(0x3ae)]||_0x40e771),_0x264045=await fetchAvatar(_0x20fbe0),_0x2bd005=_0x264045?_0x2f476e(0x327)+_0x264045+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'';return _0x2f476e(0x2a9)+_0x2bd005+'\x20'+(_0x546845[_0x2f476e(0x3ae)]||_0x40e771)+'\x20'+getRoleTag(_0x20fbe0)+'</li>';}),_0x3cb1ef=await Promise[_0x481487(0x39a)](_0x2f0413);document[_0x481487(0x21f)](_0x355565[_0x481487(0x310)])[_0x481487(0x301)]=_0x3cb1ef[_0x481487(0x1a0)]('');if(!_0x267399)return;const _0xfe5763=Object['entries'](_0x1db707)['map'](async([_0xe8134c,_0x144b19])=>{const _0x587d1b=_0x481487,_0x13e35a=_0x355565[_0x587d1b(0x2fc)](sanitizeUsername,_0x144b19[_0x587d1b(0x3ae)]||_0xe8134c);if(_0x355565['iFRVW'](_0x13e35a,_0x3a091b))return'';const _0x22a463=await _0x355565[_0x587d1b(0x2fc)](fetchAvatar,_0x13e35a),_0x200f42=_0x22a463?'<img\x20src=\x22data:image/png;base64,'+_0x22a463+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x6f0d8d=[];(_0x355565[_0x587d1b(0x355)](role,'dev')||_0x355565[_0x587d1b(0x355)](role,_0x355565[_0x587d1b(0x1a5)])||_0x355565[_0x587d1b(0x218)](role,_0x355565['FqgDF']))&&(_0x6f0d8d[_0x587d1b(0x34b)]('<button\x20onclick=\x22muteUser(\x27'+_0x13e35a+_0x587d1b(0x187)),_0x6f0d8d['push'](_0x587d1b(0x1f2)+_0x13e35a+_0x587d1b(0x217)));(_0x355565[_0x587d1b(0x1db)](role,_0x587d1b(0x2ec))||_0x355565[_0x587d1b(0x25e)](role,'admin'))&&_0x6f0d8d[_0x587d1b(0x34b)](_0x587d1b(0x17b)+_0x13e35a+'\x27)\x22>Delete\x20Msgs</button>');if(_0x355565[_0x587d1b(0x1db)](role,_0x355565['DFTMg']))_0x6f0d8d[_0x587d1b(0x34b)](_0x587d1b(0x26b)+_0x13e35a+_0x587d1b(0x22c)),_0x6f0d8d['push']('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x13e35a+_0x587d1b(0x22b));else _0x355565['iFRVW'](role,_0x355565['qgzMw'])&&_0x6f0d8d[_0x587d1b(0x34b)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x13e35a+_0x587d1b(0x22c));return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x200f42+_0x587d1b(0x2ae)+(_0x144b19[_0x587d1b(0x3ae)]||_0xe8134c)+'\x20'+getRoleTag(_0x13e35a)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x6f0d8d[_0x587d1b(0x1a0)]('\x20')+_0x587d1b(0x30d);}),_0x35e63d=await Promise[_0x481487(0x39a)](_0xfe5763);document[_0x481487(0x21f)](_0x355565[_0x481487(0x16b)])[_0x481487(0x301)]=_0x35e63d[_0x481487(0x1a0)]('');}async function fetchAvatar(_0x579dc8){const _0x3347ed=_0x1f6eab;if(userAvatars[_0x579dc8])return userAvatars[_0x579dc8];const _0x4c2a60=await db[_0x3347ed(0x1e8)](_0x3347ed(0x345)+_0x579dc8)[_0x3347ed(0x324)]();if(_0x4c2a60[_0x3347ed(0x161)]()&&_0x4c2a60[_0x3347ed(0x311)]()[_0x3347ed(0x22a)])return userAvatars[_0x579dc8]=_0x4c2a60[_0x3347ed(0x311)]()[_0x3347ed(0x22a)],userAvatars[_0x579dc8];return null;}function sendTyping(){const _0xf1db36=_0x1f6eab,_0x5d7c43={'cuauO':function(_0x18717f,_0x1d9420){return _0x18717f(_0x1d9420);}},_0x402573=_0x5d7c43[_0xf1db36(0x28d)](sanitizeUsername,username);db[_0xf1db36(0x1e8)](_0xf1db36(0x347)+roomCode+'/'+_0x402573)[_0xf1db36(0x33e)](Date['now']());}function listenForTyping(){const _0xb0d641=_0x1f6eab,_0x5ae8dc={'tbXLY':function(_0x455a34,_0x471aa7){return _0x455a34!==_0x471aa7;},'jSubL':function(_0x1fe9d6,_0x33323f){return _0x1fe9d6(_0x33323f);},'itvvs':function(_0xd14cd0,_0x4141d3){return _0xd14cd0<_0x4141d3;},'vtcSW':_0xb0d641(0x298)};db['ref'](_0xb0d641(0x347)+roomCode)['on'](_0xb0d641(0x23e),_0xf878c9=>{const _0x362783=_0xb0d641,_0xb8b702={'msXBN':function(_0x25c1e9,_0x23b1bd){const _0x42c5ce=_0x251c;return _0x5ae8dc[_0x42c5ce(0x32c)](_0x25c1e9,_0x23b1bd);},'JIjfA':function(_0x1a1014,_0x1e8a25){const _0x21c44d=_0x251c;return _0x5ae8dc[_0x21c44d(0x39c)](_0x1a1014,_0x1e8a25);},'sVpYc':function(_0x223fb3,_0x5b6afd){const _0x132f36=_0x251c;return _0x5ae8dc[_0x132f36(0x375)](_0x223fb3,_0x5b6afd);}},_0x297d68=document[_0x362783(0x21f)](_0x5ae8dc[_0x362783(0x1fa)]);if(!_0xf878c9[_0x362783(0x161)]()){_0x297d68['innerText']='';return;}const _0x178791=Date[_0x362783(0x227)](),_0x1c357c=Object[_0x362783(0x397)](_0xf878c9[_0x362783(0x311)]())['filter'](([_0x33c86e,_0x50bc73])=>{const _0x9ce674=_0x362783;return _0xb8b702[_0x9ce674(0x268)](_0xb8b702[_0x9ce674(0x181)](sanitizeUsername,_0x33c86e),_0xb8b702['JIjfA'](sanitizeUsername,username))&&_0xb8b702['sVpYc'](_0x178791-_0x50bc73,0x1388);});_0x1c357c[_0x362783(0x2d5)]?_0x297d68[_0x362783(0x384)]=_0x1c357c[_0x362783(0x23d)](([_0x5b0142])=>_0x5b0142)[_0x362783(0x1a0)](',\x20')+_0x362783(0x240):_0x297d68['innerText']='';});}function watchMuteStatus(){const _0x22e7ef=_0x1f6eab,_0x22e840={'ALoVN':_0x22e7ef(0x1c6),'VHPRP':_0x22e7ef(0x350),'QnNlq':_0x22e7ef(0x186),'hLPNM':function(_0x18472c,_0x490232){return _0x18472c(_0x490232);}},_0x4b9df7=db['ref'](_0x22e7ef(0x317)+roomCode+'/'+_0x22e840[_0x22e7ef(0x365)](sanitizeUsername,username));_0x4b9df7['on'](_0x22e7ef(0x23e),_0x2fdbc9=>{const _0x1b2818=_0x22e7ef,_0xd5e85a=document[_0x1b2818(0x21f)](_0x22e840[_0x1b2818(0x378)]);_0x2fdbc9['exists']()&&_0x2fdbc9['val']()>Date[_0x1b2818(0x227)]()?(_0xd5e85a[_0x1b2818(0x306)]=!![],_0xd5e85a[_0x1b2818(0x31f)]=_0x22e840[_0x1b2818(0x31a)]):(_0xd5e85a[_0x1b2818(0x306)]=![],_0xd5e85a[_0x1b2818(0x31f)]=_0x22e840[_0x1b2818(0x336)]);});}