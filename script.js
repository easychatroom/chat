const _0x5c2f74=_0x524e;(function(_0xf7dfca,_0x21ebf2){const _0x1a5d5d=_0x524e,_0x33bd33=_0xf7dfca();while(!![]){try{const _0x1e9330=-parseInt(_0x1a5d5d(0x386))/0x1*(-parseInt(_0x1a5d5d(0x1bd))/0x2)+parseInt(_0x1a5d5d(0x269))/0x3*(-parseInt(_0x1a5d5d(0xa5))/0x4)+parseInt(_0x1a5d5d(0x335))/0x5+parseInt(_0x1a5d5d(0x10b))/0x6+parseInt(_0x1a5d5d(0x107))/0x7+-parseInt(_0x1a5d5d(0x2f5))/0x8+-parseInt(_0x1a5d5d(0x32d))/0x9;if(_0x1e9330===_0x21ebf2)break;else _0x33bd33['push'](_0x33bd33['shift']());}catch(_0x4263bf){_0x33bd33['push'](_0x33bd33['shift']());}}}(_0x28d5,0x4e387));const firebaseConfig={'apiKey':_0x5c2f74(0x279),'authDomain':_0x5c2f74(0x1d2),'databaseURL':_0x5c2f74(0xdb),'projectId':_0x5c2f74(0xe3),'storageBucket':_0x5c2f74(0x112),'messagingSenderId':_0x5c2f74(0xdd),'appId':_0x5c2f74(0x195),'measurementId':_0x5c2f74(0x290)};let lastVerificationCode=null;firebase[_0x5c2f74(0x28d)](firebaseConfig);const messaging=firebase[_0x5c2f74(0x3a1)](),db=firebase['database']();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x5c2f74(0x19e),_0x5c2f74(0x1d3),'bitch',_0x5c2f74(0x321),'bastard',_0x5c2f74(0x317),_0x5c2f74(0x1fe),'puta',_0x5c2f74(0x1b8),_0x5c2f74(0x28c),_0x5c2f74(0x13f),_0x5c2f74(0x355),'gilipollas',_0x5c2f74(0x226),'caralho',_0x5c2f74(0x1af),_0x5c2f74(0x318),'fdp','otario',_0x5c2f74(0x238),_0x5c2f74(0x1c2),_0x5c2f74(0x2f0),_0x5c2f74(0x1b0),'bobo',_0x5c2f74(0x1ce),_0x5c2f74(0x1b6)],style=document['createElement'](_0x5c2f74(0x109));style['innerHTML']=_0x5c2f74(0xf4),document[_0x5c2f74(0xf3)][_0x5c2f74(0xf7)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x5c2f74(0x2f2)]()[_0x5c2f74(0x1cd)](0x24)[_0x5c2f74(0x376)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x5c2f74(0x12a),MAX_MESSAGES=0xfa,sound=new Audio(_0x5c2f74(0x38a));sound[_0x5c2f74(0xc5)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x5b164e=_0x5c2f74,_0x4e3dd0={'CdFOu':function(_0x1754ff,_0x58ceed){return _0x1754ff+_0x58ceed;},'ByEuF':function(_0x363011,_0x16debe){return _0x363011+_0x16debe;},'iBsGj':function(_0x40eb22,_0x5c78b8){return _0x40eb22(_0x5c78b8);},'NwFJA':function(_0xb8f94b,_0x406e84){return _0xb8f94b+_0x406e84;}},_0x3a3b02=_0x4e3dd0['CdFOu'](_0x4e3dd0[_0x5b164e(0x2d0)](navigator['userAgent'],screen['width']),screen[_0x5b164e(0x364)]),_0xe98443=await _0x4e3dd0[_0x5b164e(0xdf)](sha256,_0x3a3b02);return _0x4e3dd0[_0x5b164e(0xd1)]('_',_0xe98443[_0x5b164e(0x376)](0x0,0x14));}function sha256(_0x708aa7){const _0x38fcd5=_0x5c2f74,_0x337add={'DFTqJ':_0x38fcd5(0x284)},_0x8a3559=new TextEncoder()['encode'](_0x708aa7);return crypto[_0x38fcd5(0xab)][_0x38fcd5(0x1d0)](_0x337add[_0x38fcd5(0x2df)],_0x8a3559)[_0x38fcd5(0x167)](_0x2f11fe=>{const _0x4fd8ea=_0x38fcd5;return Array[_0x4fd8ea(0x2da)](new Uint8Array(_0x2f11fe))[_0x4fd8ea(0xee)](_0x146a79=>_0x146a79[_0x4fd8ea(0x1cd)](0x10)['padStart'](0x2,'0'))['join']('');});}function toggleNotifications(){const _0x18bdf6=_0x5c2f74,_0x3c80aa={'GlvAI':_0x18bdf6(0x302),'UxxMJ':_0x18bdf6(0x265),'fpQlH':'🔕\x20Disable\x20Notifications','POMPS':'notifications_enabled','uBDXO':'false','NDYNH':_0x18bdf6(0x1f7)};Notification['permission']!==_0x18bdf6(0x301)?Notification['requestPermission']()[_0x18bdf6(0x167)](_0x43f711=>{const _0x5c37e0=_0x18bdf6;_0x43f711==='granted'&&(notificationsEnabled=!![],localStorage['setItem'](_0x5c37e0(0x2fb),_0x3c80aa[_0x5c37e0(0x381)]),document[_0x5c37e0(0x148)](_0x3c80aa[_0x5c37e0(0x2f7)])[_0x5c37e0(0x2c3)]=_0x3c80aa[_0x5c37e0(0x25c)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x3c80aa[_0x18bdf6(0x291)],notificationsEnabled?'true':_0x3c80aa[_0x18bdf6(0x380)]),document[_0x18bdf6(0x148)](_0x3c80aa[_0x18bdf6(0x2f7)])[_0x18bdf6(0x2c3)]=notificationsEnabled?_0x3c80aa[_0x18bdf6(0x25c)]:_0x3c80aa['NDYNH']);}function toggleAuthMode(){const _0x3aea7c=_0x5c2f74,_0x2bbff1={'QnFde':_0x3aea7c(0x1f0),'UpvOu':_0x3aea7c(0x305),'hdCpz':_0x3aea7c(0x373),'wDfiw':_0x3aea7c(0x18e),'RSDhy':_0x3aea7c(0x134),'eratb':_0x3aea7c(0x36e),'evsga':_0x3aea7c(0x359),'BAsVI':'authAvatar','NVuVC':_0x3aea7c(0x2b0),'vuZop':_0x3aea7c(0x322)},_0x237ca7=_0x3aea7c(0x15b)[_0x3aea7c(0x308)]('|');let _0x2bbb27=0x0;while(!![]){switch(_0x237ca7[_0x2bbb27++]){case'0':document[_0x3aea7c(0x148)](_0x2bbff1['QnFde'])['style'][_0x3aea7c(0x2fc)]=_0x2bbff1['UpvOu'];continue;case'1':document[_0x3aea7c(0x148)](_0x3aea7c(0x2c2))['innerText']=isRegisterMode?_0x2bbff1[_0x3aea7c(0x36c)]:_0x2bbff1[_0x3aea7c(0x1f2)];continue;case'2':document['getElementById'](_0x3aea7c(0x235))[_0x3aea7c(0x2c3)]=isRegisterMode?'Register':'Login';continue;case'3':document[_0x3aea7c(0x148)](_0x3aea7c(0x2b8))[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=isRegisterMode?_0x2bbff1[_0x3aea7c(0xa9)]:_0x2bbff1[_0x3aea7c(0xe6)];continue;case'4':document[_0x3aea7c(0x148)](_0x3aea7c(0x2ff))[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=isRegisterMode?_0x2bbff1[_0x3aea7c(0xa9)]:_0x2bbff1[_0x3aea7c(0xe6)];continue;case'5':document[_0x3aea7c(0x148)](_0x3aea7c(0x2bb))[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=_0x2bbff1[_0x3aea7c(0xa9)];continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document['getElementById'](_0x3aea7c(0x10e))[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=isRegisterMode?_0x2bbff1['RSDhy']:_0x3aea7c(0x305);continue;case'8':document[_0x3aea7c(0x148)](_0x2bbff1[_0x3aea7c(0x36a)])[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=_0x2bbff1[_0x3aea7c(0xe6)];continue;case'9':document['getElementById'](_0x2bbff1['evsga'])[_0x3aea7c(0x109)]['display']=isRegisterMode?_0x2bbff1[_0x3aea7c(0xa9)]:_0x2bbff1['UpvOu'];continue;case'10':document[_0x3aea7c(0x148)](_0x2bbff1[_0x3aea7c(0x261)])['style'][_0x3aea7c(0x2fc)]=isRegisterMode?_0x2bbff1['RSDhy']:_0x2bbff1[_0x3aea7c(0xe6)];continue;case'11':document[_0x3aea7c(0x148)](_0x2bbff1[_0x3aea7c(0x144)])['innerText']=isRegisterMode?_0x2bbff1['vuZop']:_0x3aea7c(0x208);continue;case'12':document[_0x3aea7c(0x148)](_0x3aea7c(0x1ae))[_0x3aea7c(0x109)][_0x3aea7c(0x2fc)]=isRegisterMode?_0x2bbff1[_0x3aea7c(0xa9)]:_0x2bbff1[_0x3aea7c(0xe6)];continue;}break;}}function previewAvatar(){const _0x136f63=_0x5c2f74,_0x4b18c4={'MqbHa':_0x136f63(0x134),'yvEQn':_0x136f63(0x136)},_0x4677cd=document['getElementById'](_0x4b18c4[_0x136f63(0x13c)]);if(!_0x4677cd['files'][_0x136f63(0x27c)])return;const _0x2f594d=new FileReader();_0x2f594d[_0x136f63(0x35d)]=()=>{const _0x249fdb=_0x136f63;document[_0x249fdb(0x148)](_0x249fdb(0x1f0))['src']=_0x2f594d[_0x249fdb(0x26d)],document['getElementById']('authAvatarPreview')[_0x249fdb(0x109)]['display']=_0x4b18c4[_0x249fdb(0xea)];},_0x2f594d['readAsDataURL'](_0x4677cd[_0x136f63(0x110)][0x0]);}async function sendVerificationCode(){const _0x412467=_0x5c2f74,_0x524fa9={'niIUz':_0x412467(0x359),'UAQSb':_0x412467(0x2bb),'xslsq':'authError','Zuqil':'none','GrdoV':function(_0x292215,_0x5b5711){return _0x292215||_0x5b5711;},'eCMKL':_0x412467(0x249),'SBmWv':function(_0x5ca54d,_0x10b394){return _0x5ca54d+_0x10b394;},'CdkIb':_0x412467(0x1d7),'SaMWn':_0x412467(0x1ae),'maliB':_0x412467(0x134),'OAWWF':_0x412467(0x211)},_0xbf84bd=document['getElementById'](_0x524fa9[_0x412467(0x26b)])[_0x412467(0x314)][_0x412467(0x124)](),_0x4ecacc=document['getElementById'](_0x524fa9['UAQSb'])['value'][_0x412467(0x124)](),_0x52566a=document[_0x412467(0x148)](_0x524fa9[_0x412467(0x334)]);_0x52566a['style']['display']=_0x524fa9[_0x412467(0xe7)];if(_0x524fa9[_0x412467(0x2a7)](!_0xbf84bd,!_0x4ecacc)){_0x52566a['innerText']=_0x524fa9[_0x412467(0x323)],_0x52566a[_0x412467(0x109)][_0x412467(0x2fc)]=_0x412467(0x134);return;}const _0x199717=Math[_0x412467(0x22c)](_0x524fa9[_0x412467(0x184)](0x186a0,Math[_0x412467(0x2f2)]()*0xdbba0))[_0x412467(0x1cd)]();lastVerificationCode=_0x199717;try{await emailjs[_0x412467(0x19a)](_0x412467(0xd9),_0x412467(0x266),{'to_email':_0xbf84bd,'to_name':_0x4ecacc,'message':verificationCode},_0x524fa9[_0x412467(0x168)]),alert(_0x412467(0xd0)),document['getElementById'](_0x524fa9[_0x412467(0x254)])[_0x412467(0x109)][_0x412467(0x2fc)]=_0x524fa9[_0x412467(0xc6)];}catch(_0x49e709){_0x52566a[_0x412467(0x2c3)]=_0x524fa9[_0x412467(0x9b)],_0x52566a[_0x412467(0x109)]['display']=_0x412467(0x134),console[_0x412467(0x246)](_0x49e709);}}async function submitAuth(){const _0x6ca9cd=_0x5c2f74,_0x5615db={'LpJKZ':'authEmail','daYNL':_0x6ca9cd(0x2bb),'Cnmnr':_0x6ca9cd(0x232),'RtgNS':_0x6ca9cd(0x2ff),'noOhR':_0x6ca9cd(0x1ae),'lopUg':_0x6ca9cd(0x305),'xtjWF':function(_0x518474,_0xc12c38){return _0x518474||_0xc12c38;},'EoxgK':'Fill\x20all\x20fields.','EftdJ':_0x6ca9cd(0x134),'YtIWK':function(_0x2fecaa,_0x51a80c){return _0x2fecaa!==_0x51a80c;},'tderr':'Passwords\x20do\x20not\x20match.','ruMUd':function(_0xaa2998,_0x4f47c4){return _0xaa2998!==_0x4f47c4;},'uWoau':_0x6ca9cd(0x253),'godpd':function(_0xfc1fd6,_0x577933){return _0xfc1fd6(_0x577933);},'iokOX':function(_0x204c6c,_0xeb371a){return _0x204c6c+_0xeb371a;},'RKfbe':_0x6ca9cd(0x1ad),'CMidk':function(_0x4e3f0a,_0x175160){return _0x4e3f0a(_0x175160);},'vhSPh':_0x6ca9cd(0x1ab),'sluik':function(_0x33041b){return _0x33041b();},'hZNch':_0x6ca9cd(0x231),'SWhBp':_0x6ca9cd(0x357),'jFkiU':function(_0x41a1b0){return _0x41a1b0();}},_0x4b6c43=document[_0x6ca9cd(0x148)](_0x5615db[_0x6ca9cd(0x27f)])[_0x6ca9cd(0x314)][_0x6ca9cd(0x124)](),_0x724ea1=document['getElementById'](_0x5615db[_0x6ca9cd(0x1fb)])['value'][_0x6ca9cd(0x124)](),_0x1d1e3a=document[_0x6ca9cd(0x148)](_0x5615db[_0x6ca9cd(0x270)])[_0x6ca9cd(0x314)][_0x6ca9cd(0x124)](),_0x214f8b=document['getElementById'](_0x5615db[_0x6ca9cd(0x32e)])[_0x6ca9cd(0x314)]['trim'](),_0x45e543=document['getElementById'](_0x5615db[_0x6ca9cd(0x2c0)])['value'][_0x6ca9cd(0x124)](),_0x356a11=document['getElementById'](_0x6ca9cd(0x36e));_0x356a11[_0x6ca9cd(0x109)][_0x6ca9cd(0x2fc)]=_0x5615db[_0x6ca9cd(0x2e4)];if(isRegisterMode){if(_0x5615db[_0x6ca9cd(0xbb)](!_0x4b6c43,!_0x724ea1)||!_0x1d1e3a||!_0x214f8b||!_0x45e543){_0x356a11[_0x6ca9cd(0x2c3)]=_0x5615db[_0x6ca9cd(0x2e0)],_0x356a11['style'][_0x6ca9cd(0x2fc)]=_0x5615db[_0x6ca9cd(0xd7)];return;}if(_0x5615db[_0x6ca9cd(0x2ed)](_0x1d1e3a,_0x214f8b)){_0x356a11[_0x6ca9cd(0x2c3)]=_0x5615db[_0x6ca9cd(0x2d3)],_0x356a11['style'][_0x6ca9cd(0x2fc)]=_0x5615db[_0x6ca9cd(0xd7)];return;}if(_0x5615db['ruMUd'](_0x45e543,lastVerificationCode)){_0x356a11[_0x6ca9cd(0x2c3)]=_0x5615db[_0x6ca9cd(0x199)],_0x356a11[_0x6ca9cd(0x109)][_0x6ca9cd(0x2fc)]='block';return;}try{const _0x40f970=await firebase['auth']()[_0x6ca9cd(0x1c3)](_0x4b6c43,_0x1d1e3a),_0x15060a=_0x40f970[_0x6ca9cd(0x20c)],_0xf0aa8f=_0x5615db[_0x6ca9cd(0x126)](sanitizeUsername,_0x724ea1);await db[_0x6ca9cd(0xd2)](_0x5615db[_0x6ca9cd(0x2b5)](_0x5615db[_0x6ca9cd(0xcf)],_0xf0aa8f))['set']({'username':_0x724ea1,'email':_0x4b6c43,'createdAt':Date[_0x6ca9cd(0x149)]()}),await firebase[_0x6ca9cd(0x15c)]()[_0x6ca9cd(0x341)](),_0x5615db[_0x6ca9cd(0x28a)](alert,_0x5615db['vhSPh']),_0x5615db['sluik'](toggleAuthMode);}catch(_0x2fcf61){_0x356a11['innerText']=_0x2fcf61[_0x6ca9cd(0x2ac)],_0x356a11['style'][_0x6ca9cd(0x2fc)]=_0x5615db[_0x6ca9cd(0xd7)];}}else{const _0x56154c=document[_0x6ca9cd(0x148)](_0x6ca9cd(0x2bb))[_0x6ca9cd(0x314)][_0x6ca9cd(0x124)]();if(!_0x56154c||!_0x1d1e3a){_0x356a11[_0x6ca9cd(0x2c3)]=_0x6ca9cd(0x310),_0x356a11['style'][_0x6ca9cd(0x2fc)]=_0x5615db[_0x6ca9cd(0xd7)];return;}try{const _0x340f2c=await db[_0x6ca9cd(0xd2)](_0x5615db[_0x6ca9cd(0x2b5)](_0x5615db[_0x6ca9cd(0xcf)],_0x5615db[_0x6ca9cd(0x28a)](sanitizeUsername,_0x56154c)))[_0x6ca9cd(0x2dc)]();if(!_0x340f2c[_0x6ca9cd(0xc1)]())throw new Error(_0x5615db[_0x6ca9cd(0x159)]);const _0x89ab3c=_0x340f2c[_0x6ca9cd(0x197)]()['email'],_0x2c0816=await firebase[_0x6ca9cd(0x15c)]()[_0x6ca9cd(0xa0)](_0x89ab3c,_0x1d1e3a),_0x91b4e3=_0x2c0816[_0x6ca9cd(0x20c)];if(!_0x91b4e3[_0x6ca9cd(0x2cb)]){await firebase[_0x6ca9cd(0x15c)]()[_0x6ca9cd(0x341)]();throw new Error(_0x5615db['SWhBp']);}username=_0x56154c,_0x5615db[_0x6ca9cd(0x1de)](startAfterAuth);}catch(_0x38dc87){_0x356a11[_0x6ca9cd(0x2c3)]=_0x38dc87['message'],_0x356a11[_0x6ca9cd(0x109)][_0x6ca9cd(0x2fc)]=_0x6ca9cd(0x134);}}}function _0x28d5(){const _0x9d212e=['kcSGG','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','UcMRZ','⚠️\x20No\x20spamming\x20allowed.','CnfbI','nmqhZ','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','[data-msg-id=\x22','nKbmS','mnliv','BTiQK','kMwCT','nzonc','[Voice\x20Message]','gxjeu','userList','Juvqk','authAvatarPreview','<span\x20class=\x22sender-name\x22>','wDfiw','MfIHL','wXMdW','/paused','\x27)\x22>+Mod</button>','🔔\x20Enable\x20Notifications','QwZYB','position','CHNyT','daYNL','popstate','New\x20Chat\x20Message','cunt','Error\x20checking\x20username:','Akjmg','\x20was\x20promoted\x20to\x20Moderator','YHGTp','jipYv','div','msgId','child_changed','pausedOverlay','Don\x27t\x20have\x20an\x20account?\x20Register','<button\x20onclick=\x22deleteUserMessages(\x27','database','oOqRw','user','GHQLP','left','Microphone\x20permission\x20denied.','touchend','Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.','rsqdv','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','/announcement','VBrZa','onlineStatus','<img\x20src=\x22data:image/png;base64,','messages','<button\x20onclick=\x22promoteToAdmin(\x27','✅\x20Profile\x20updated!\x20Please\x20reload.','KVrUP','active','iaUFO','classList','whiteSpace','uBrHh','flex','readAsDataURL','MPvjC','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','JVEIQ','porra','</small>','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','jZSjq','text','mediaDevices','floor','wiVeh','VFZMQ','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','vGBzL','Username\x20not\x20found.','authPassword','entries','npJnY','authTitle','promote','RQjoK','putangina','\x27)\x22>+Admin</button>','fRJhx','cqwvx','onDisconnect','vjBmB','WDQyd','pZJFU','wAAOv','system-msg','TLZBA','UEzQF','ffYex','RJyuC','error','gap','AOVcM','Enter\x20email\x20and\x20username\x20first.','reaction-box','xawcn','RsxbR','yOvlE','eQHsb','qzhQT','\x20promoted\x20to\x20Admin!','remove','kPyUM','Invalid\x20verification\x20code.','SaMWn','zDXar','\x27,\x2010)\x22>Mute\x2010m</button>','EUGLh','oHYKi','OzGrC','\x20was\x20demoted','MeaRf','fpQlH','oiFxr','preventDefault','/reactions','oOVWV','BAsVI','fjeHG','PkMBX','tQFcS','notifToggleBtn','template_uadxvmp','ZHayy','margin','1409955IXcMKI','dPeCK','niIUz','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','result','WMZCq','tEXXh','Cnmnr','announcementArea','Qicqw','sidebarAvatarPreview','EVzTg','onload','userDisplay','border','permission','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','LHJIt','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','length','4|0|2|3|1','Incorrect\x20password','LpJKZ','editBioInput','psveQ','LmTDR','MERNr','SHA-256','mgHbC','system','dev','16px','<img\x20src=\x22','CMidk','admins/','pendejo','initializeApp','push','WSBUf','G-QDESJ2WR42','POMPS','includes','KGcfL','No\x20changes\x20yet','mBwVf','WXIws','profiles/','ZNNkc','-45px','2px\x20solid\x20red','ZwwRO','etlkB','MEfOL','authScreen','audio/webm','tzsIP','chat_username','filter','sdmgt','sKczm','oUpIv','PgKBW','GrdoV','<button\x20onclick=\x22muteUser(\x27','rLMuj','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','typing/','message','passwordHash','qcnvP','YYSOT','toggleAuthMode','update','yfdXe','placeholder','[Image]','iokOX','unknown','AQYze','authDescription','RSnYc','dataset','authUsername','dOjkW','DXyvm','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','SSxeU','noOhR','dgBtY','authSubmitBtn','innerText','rooms/','WXSSI','uNMuB','warn','chatScreen','CnheV','JGSdh','emailVerified','Type\x20a\x20message...','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','Profile\x20not\x20found.','yQYjc','ByEuF','18px','\x20in\x20room\x20','tderr','DDsZD','ujAkz','contains','all','ABCDEFGHIJKLMNOPQRSTUVWXYZ','rooms','from','querySelector','get','xvDSZ','vbThG','DFTqJ','EoxgK','ILVJx','sxeGE','MIYiT','lopUg','#222','aGbQZ','key','VNTOU','dUUiP','JCWGW','size','HqvHM','YtIWK','vmlFV','LEVwg','tangina','ucVUU','random','KxjpD','OJuCc','1428704oUYEsb','qwSPL','UxxMJ','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','sender','hzJQz','notifications_enabled','display','wBjgN','muted/','authPasswordConfirm','lastChanged','granted','true','created','\x20muted\x20for\x20','none','UjPUE','textAlign','split','riQoP','bwqKj','Incorrect\x20current\x20password.','nlkqk','●\x20Online','#aaa','minWidth','Enter\x20username\x20and\x20password.','LiRNc','inline-block','AzwUF','value','iiGhL','title','dick','puta','zVIYz','aegir','IBDzA','roomCodeInput','sCxLu','child_added','Failed\x20to\x20register\x20user\x20into\x20room.','className','asshole','Already\x20have\x20an\x20account?\x20Login','eCMKL','toUpperCase','deleteMessage','bTHNW','oAzkk','Room\x20is\x20currently\x20paused.',')\x20New\x20message\x20•\x20','120px','\x20is\x20online','⛔\x20You\x20are\x20muted.','4907007lyDSuG','RtgNS','namePreview','recordBtn','\x0aDescription:\x20','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','XLKwB','xslsq','2558080lFOnOI','LYNxh','rADHS','usernameScreen','fAIrs','0\x202px\x206px\x20rgba(0,0,0,0.5)','tOhoj','niQTI','wuNbb','xeMSU','DOMContentLoaded','top','signOut','center','/messages/','codeEntryScreen','iIgmh','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','6px\x20auto','\x20is\x20typing...','roomStates/','fRTTc','KSzDx','onstop','SMmXp','object','AMIks','4px','relative','Room\x20password\x20not\x20set.\x20Cannot\x20join.','/avatarBase64','ygPwt','cabron','CAxoi','Email\x20not\x20verified.','detail','authEmail','audioUrl','fontSize','hvPZH','onloadend','nActW','BpxoX','sDzCx','bOvTp','JGJqK','tCJcU','height','getUserMedia','qjDMd','Enter\x20a\x20valid\x20room\x20code','\x20demoted\x20to\x20user.','userSidebar','eratb','uHgDz','hdCpz','❌\x20Username\x20already\x20taken.','authError','jrjKp','TGQkk','touchstart','clear','Create\x20Account','WzTUX','pUiHn','substr','Enter\x20Announcement\x20Text:','uXEDr','toLocaleTimeString','dpWan','BVVlS','YVXrS','scrollHeight','IBfpf','start','uBDXO','GlvAI','tjjjK','HpnXo','roomChoiceScreen','profileScreen','2cWUiPJ','wpTIP','back','Remove\x20Announcement?','sounds/beep.mp3','wgvuh','SiNve','xggSz','maxWidth','XPVXu','tjALA','Missing\x20room\x20or\x20user\x20information.','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','AkDhL','ZGpTz','join','TAIPL','\x20was\x20promoted\x20to\x20Admin','OdOKF','uWcfg','yDBAh','NpBlH','OybKq','esacP','zIndex','OhJVI','msgInput','messaging','adminControlsSection','6px','IaemL','yUxpy','xmhuE','normal','OAWWF','catch','juemA','qGfxw','pointer','signInWithEmailAndPassword','description','antispam','gdhpL','Ppqja','4daHieU','<small>','32px','❌\x20Image\x20must\x20be\x20under\x202MB','RSDhy','HMKyt','subtle','SnUfJ','\x27)\x22>','\x20deleted.','setItem','pNXkl','EtEGb','fanmN','data:image/png;base64,','xHqQf','\x20🔧\x20','ltNXr','timestamp','LQEaL','FIMmW','yYGbp','xtjWF','addAnnouncementBtn','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','xnDdH','show','forEach','exists','fmWuk','sent','child_removed','volume','maliB','mute','addEventListener','Adnke','replace','DAXUn','CTInM','Unknown','KIVEg','RKfbe','Verification\x20code\x20sent!','NwFJA','ref','<button>','BPJJs','\x27)\x22>Demote</button>','profileError','EftdJ','Enter\x20your\x20new\x20username:','service_qfnrrrl','received','https://easy-chatroom-default-rtdb.firebaseio.com','tdUaN','985049198428','pushState','iBsGj','ZnRyg','justifyContent','auth/','easy-chatroom','stopPropagation','JmPBO','UpvOu','Zuqil','\x27,\x201)\x22>Mute\x201m</button>','NsGbe','MqbHa','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','ServerValue','map','MuEeU','fkMPo','passwordError','stop','head','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','antispamBlocked/','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','appendChild','equalTo','mod','IkZLy','click','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','Delete\x20this\x20message?','QqTtw','GITcH','<span\x20style=\x22margin-right:6px;\x22>','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','alignItems','gridTemplateColumns','reaction-tray','kMyVQ','dLNBL','1553244raXgJs','0123456789','style','rqgiA','2378430lZLXGD','typing','pABPn','sendCodeBtn','QCpBw','files','vfEoE','easy-chatroom.firebasestorage.app','once','soTSX','kBFyl','admin','zezdy','padding','PWdMp','antispam/','<div>','UtQxM','disabled','mUVyt','profile_description','src','set','SQeHa','roomDisplay','trim','PZeDF','godpd','uDfuy','MdpPs','4|2|0|1|5|3','050BBB66HH','cJqbQ','DJSwR','</span>','AdSDW','zIAjL','audioBase64','moderators/','4|0|1|2|3','\x20promoted\x20to\x20Moderator!','block','[Unknown]','authAvatar','iXoNa','/messages','scrollTop','repeat(auto-fill,\x20minmax(32px,\x201fr))','HxmzY','yvEQn','</button>','iqkgu','coño','oJVAe','<button\x20onclick=\x22promoteToModerator(\x27','GYzIV','bjhAt','NVuVC','YKVen','You\x20got\x20messages\x20from\x20','tgcDC','getElementById','now','Enter','TWxLY','lfpea','DakFQ','[Voice\x20message]','state','GscIn','</li>','username','getItem','⚠️\x20Failed\x20to\x20update\x20avatar.','fosjr','Erbfp','EOrHG','OaVpq','hZNch','profileViewer','6|2|9|7|12|4|3|10|0|5|1|8|11','auth','\x20was\x20muted\x20for\x20','sort','hKPPF','RAgWA','efSCl','AMAEP','hidden','HBLym','euqNz','reload','then','CdkIb','SlDAt','\x27)\x22>Promote\x20to\x20Admin</button>','RKCRL','UlRbH','TOvLK','CCqlZ','concat','VWZMP','wrPON','mNOZQ','XSJyo','Messages\x20by\x20','add','flagPageAttention','afUdx','innerHTML','xiFwA','FKfsM','mPFwa','profileDescriptionInput','KKRXR','Bnsqn','sqQTH','160px','LSJgz','cbnad','XHyph','SBmWv','Admins\x20only.','muteUntil','children','role','AIlaK','TIMESTAMP','QgbOe','onclick','lUHoK','Login','You\x20got\x20a\x20message\x20from\x20','<button\x20onclick=\x22demoteUser(\x27','nICAr','SaeEM','Wliun','UtPry','1:985049198428:web:d0eb7e2de39887710c9b99','Bskgn','val','\x0aLast\x20Changed:\x20','uWoau','send','ENrrm','🚫\x20Cannot\x20promote\x20Developers.','usernameHistory','fuck','sKVaa','CsUVv','keys','4|0|3|1|2','passwordScreen','SzcNI','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','avatar_base64','\x27,\x205)\x22>Mute\x205m</button>','orderByChild','cursor','kclFt','Account\x20created!\x20You\x20may\x20now\x20login.','iyzZz','users/','authVerificationCode','merda','ulol','avatarBase64','AvAjJ','TpQPe','toLowerCase','limitToLast','putang\x20ina','msg','mierda','2-digit','HumUN','VHZMc','mZqls','384274ymWjCB','Smtlk','online','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','huoXG','gago','createUserWithEmailAndPassword','color','dJqDi','slice','editProfileScreen','newPasswordInput','staticPasswordInput','ULrFp','\x27)\x22>Promote\x20to\x20Moderator</button>','userOptions-','toString','bwisit','toLocaleString','digest','visibilitychange','easy-chatroom.firebaseapp.com','shit','No\x20bio\x20set','YztqI','moderator','c1EG9jBJFQSM_dFHY','zYHRZ','createElement','ygvMx','<br>','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','borderRadius','jFkiU'];_0x28d5=function(){return _0x9d212e;};return _0x28d5();}async function saveNewUser(_0x5b8d67,_0x2e0bc0,_0x59fd42,_0x1bbf40,_0x5cef5e){const _0x4588bb=_0x5c2f74,_0x4a3768={'XPVXu':function(_0x5c958e,_0x4c66d7){return _0x5c958e(_0x4c66d7);},'UjPUE':_0x4588bb(0x20c),'KGcfL':function(_0x12f355,_0x3eef83){return _0x12f355||_0x3eef83;},'dCKaL':function(_0x17420e,_0x15ccfd){return _0x17420e||_0x15ccfd;},'EgtXf':function(_0x3be8a9){return _0x3be8a9();}},_0x35b1df=db[_0x4588bb(0xd2)]('auth/'+_0x4a3768[_0x4588bb(0x38f)](sanitizeUsername,_0x5b8d67)),_0x355f8f={'username':_0x5b8d67,'passwordHash':_0x2e0bc0,'role':_0x4a3768[_0x4588bb(0x306)],'deviceId':_0x59fd42,'description':_0x4a3768[_0x4588bb(0x293)](_0x5cef5e,''),'avatarBase64':_0x4a3768['dCKaL'](_0x1bbf40,''),'usernameHistory':[_0x5b8d67],'lastChanged':Date[_0x4588bb(0x149)]()};await _0x35b1df['set'](_0x355f8f),username=_0x5b8d67,_0x1bbf40=_0x355f8f[_0x4588bb(0x1b1)],userDescription=_0x355f8f[_0x4588bb(0xa1)],_0x4a3768['EgtXf'](startAfterAuth);}async function startAfterAuth(){const _0x412819=_0x5c2f74,_0x3df005={'UuawZ':function(_0x4278a3,_0x344e99){return _0x4278a3(_0x344e99);},'qjDMd':_0x412819(0x20c),'hKPPF':'sidebarAvatarPreview','QCpBw':_0x412819(0xb3),'CHNyT':'User\x20profile\x20not\x20found\x20in\x20auth\x20database.','BTiQK':function(_0x54d5cb){return _0x54d5cb();},'iaUFO':function(_0x481de5,_0x17b496){return _0x481de5(_0x17b496);},'WMZCq':_0x412819(0x384)},_0x4fb2af=_0x3df005['UuawZ'](sanitizeUsername,username),_0x1131b2=db[_0x412819(0xd2)](_0x412819(0xe2)+_0x4fb2af),_0x2334cb=await _0x1131b2[_0x412819(0x2dc)]();if(_0x2334cb[_0x412819(0xc1)]()){const _0x206409=_0x2334cb[_0x412819(0x197)]();username=_0x206409[_0x412819(0x152)],userDescription=_0x206409[_0x412819(0xa1)]||'',avatarBase64=_0x206409[_0x412819(0x1b1)]||'',role=_0x206409[_0x412819(0x188)]||_0x3df005[_0x412819(0x366)];if(avatarBase64){const _0x4441ca=document[_0x412819(0x148)](_0x3df005[_0x412819(0x15f)]);_0x4441ca['src']=_0x3df005[_0x412819(0x10f)]+avatarBase64,_0x4441ca[_0x412819(0x109)][_0x412819(0x2fc)]=_0x412819(0x134);}}else console[_0x412819(0x2c7)](_0x3df005[_0x412819(0x1fa)]);await _0x3df005[_0x412819(0x1e9)](loadRoomRoles),document[_0x412819(0x148)](_0x412819(0x32f))[_0x412819(0x2c3)]=username,_0x3df005[_0x412819(0x21d)](showScreen,_0x3df005[_0x412819(0x26e)]);}function toggleRecording(){const _0x482b7f=_0x5c2f74,_0x59e154={'wgvuh':function(_0x51e8f5,_0x56b40c){return _0x51e8f5(_0x56b40c);},'OUrBq':_0x482b7f(0x29f),'rLzOf':function(_0x1d1d18,_0x35aa86){return _0x1d1d18&&_0x35aa86;},'qzhQT':function(_0x4b7b7a,_0x496c32,_0x29c882){return _0x4b7b7a(_0x496c32,_0x29c882);},'SaeEM':_0x482b7f(0x20f),'wiVeh':function(_0x1c053d){return _0x1c053d();}};isRecording?_0x59e154[_0x482b7f(0x22d)](stopRecording):navigator[_0x482b7f(0x22b)][_0x482b7f(0x365)]({'audio':!![]})[_0x482b7f(0x167)](_0x4807fe=>{const _0x2b2b7c=_0x482b7f;mediaRecorder=new MediaRecorder(_0x4807fe),mediaRecorder[_0x2b2b7c(0x37f)](),isRecording=!![],document[_0x2b2b7c(0x148)](_0x2b2b7c(0x330))[_0x2b2b7c(0x2c3)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x2e1f6f=>audioChunks[_0x2b2b7c(0x28e)](_0x2e1f6f['data']),mediaRecorder[_0x2b2b7c(0x34c)]=()=>{const _0x3cabd1=_0x2b2b7c;_0x59e154[_0x3cabd1(0x38b)](clearTimeout,recordingTimer);const _0x4a4980=new Blob(audioChunks,{'type':_0x59e154['OUrBq']}),_0x28b5f5=new FileReader();_0x28b5f5['onloadend']=()=>{const _0xd60b50=_0x3cabd1,_0x592514=_0x28b5f5[_0xd60b50(0x26d)][_0xd60b50(0x308)](',')[0x1],_0x5ab4fc=db['ref']()[_0xd60b50(0x28e)]()[_0xd60b50(0x2e7)];db['ref'](_0xd60b50(0x2c4)+roomCode+'/messages/'+_0x5ab4fc)[_0xd60b50(0x121)]({'msg':_0xd60b50(0x14e),'audioBase64':_0x592514,'sender':username,'senderId':clientId,'timestamp':Date[_0xd60b50(0x149)]()});},_0x28b5f5[_0x3cabd1(0x222)](_0x4a4980);},recordingTimer=_0x59e154[_0x2b2b7c(0x24f)](setTimeout,()=>{_0x59e154['rLzOf'](mediaRecorder,isRecording)&&stopRecording();},0x4e20);})[_0x482b7f(0x9c)](_0x5be64d=>{const _0x4ad5d4=_0x482b7f;alert(_0x59e154[_0x4ad5d4(0x192)]);});}function stopRecording(){const _0x4cdf3d=_0x5c2f74,_0x9e637b={'bwqKj':'recordBtn','IBDzA':'🎙️'};mediaRecorder&&isRecording&&(mediaRecorder[_0x4cdf3d(0xf2)](),isRecording=![],document[_0x4cdf3d(0x148)](_0x9e637b[_0x4cdf3d(0x30a)])[_0x4cdf3d(0x2c3)]=_0x9e637b[_0x4cdf3d(0x31b)]);}window[_0x5c2f74(0x275)]=async()=>{const _0x2f67ab=_0x5c2f74,_0x29c92f={'fjeHG':function(_0x56cad8){return _0x56cad8();},'dPeCK':_0x2f67ab(0x2fb),'NwzEA':function(_0x2393ab,_0x2562f4){return _0x2393ab===_0x2562f4;},'DXyvm':_0x2f67ab(0x302),'mPfKC':function(_0x5cac7b,_0x1a466f){return _0x5cac7b(_0x1a466f);}};_0x29c92f[_0x2f67ab(0x262)](cleanupOldRooms),_0x29c92f[_0x2f67ab(0x262)](setupSidebarBackHandler),setupVisibilityAttention(),resetWebsiteData();const _0x27d470=localStorage['getItem'](_0x29c92f[_0x2f67ab(0x26a)]);notificationsEnabled=_0x29c92f['NwzEA'](_0x27d470,_0x29c92f[_0x2f67ab(0x2bd)]),isRegisterMode=![],toggleAuthMode(),_0x29c92f['mPfKC'](showScreen,'authScreen');};function sanitizeUsername(_0x160ba4){const _0x24e657=_0x5c2f74;return _0x160ba4[_0x24e657(0xca)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5c1b78=_0x5c2f74,_0x3a6595={'YYSOT':'Failed\x20to\x20save\x20profile:','JGSdh':_0x5c1b78(0x134),'fmWuk':_0x5c1b78(0x11f),'WXIws':function(_0x38a87c,_0x5a0b13){return _0x38a87c(_0x5a0b13);},'bcZVL':'chat_username','xmhuE':_0x5c1b78(0x36d),'mnliv':_0x5c1b78(0x1ff),'Bskgn':'⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','huoXG':_0x5c1b78(0xd6),'KKRXR':function(_0x102a91,_0x50c507){return _0x102a91||_0x50c507;},'UtQxM':_0x5c1b78(0x224),'EPuNQ':function(_0x5e2767,_0x40d5aa){return _0x5e2767(_0x40d5aa);},'bTHNW':_0x5c1b78(0x314)},_0x2f3289=document[_0x5c1b78(0x148)]('profileUsernameInput')['value'][_0x5c1b78(0x124)](),_0x1da76b=document[_0x5c1b78(0x148)](_0x5c1b78(0x17c))[_0x5c1b78(0x314)]['trim'](),_0x4aab70=document[_0x5c1b78(0x148)](_0x3a6595[_0x5c1b78(0x1c1)]);if(_0x3a6595[_0x5c1b78(0x17d)](!_0x2f3289,!_0x1da76b)){_0x4aab70[_0x5c1b78(0x2c3)]=_0x3a6595[_0x5c1b78(0x11c)],_0x4aab70[_0x5c1b78(0x109)][_0x5c1b78(0x2fc)]=_0x3a6595[_0x5c1b78(0x2ca)];return;}const _0x5bc136=_0x3a6595['EPuNQ'](sanitizeUsername,_0x2f3289),_0x5613b4=db['ref']('profiles/'+_0x5bc136);_0x5613b4['once'](_0x3a6595[_0x5c1b78(0x326)])[_0x5c1b78(0x167)](_0x4b86e8=>{const _0x8e6735=_0x5c1b78,_0x18ff3d={'vbThG':_0x3a6595[_0x8e6735(0x2af)],'Ahdvz':_0x3a6595[_0x8e6735(0x2ca)],'oUSnO':_0x8e6735(0x27d),'ffYex':_0x3a6595[_0x8e6735(0xc2)],'sDzCx':function(_0x48f7ee,_0x1f26b4){const _0x2d9652=_0x8e6735;return _0x3a6595[_0x2d9652(0x296)](_0x48f7ee,_0x1f26b4);},'cUMcU':_0x3a6595['bcZVL']};if(_0x4b86e8[_0x8e6735(0xc1)]())_0x4aab70[_0x8e6735(0x2c3)]=_0x3a6595[_0x8e6735(0x99)],_0x4aab70[_0x8e6735(0x109)][_0x8e6735(0x2fc)]=_0x8e6735(0x134);else{const _0x2d2ad3={'username':_0x2f3289,'description':_0x1da76b,'lastChanged':Date[_0x8e6735(0x149)](),'usernameHistory':[_0x2f3289]};_0x5613b4['set'](_0x2d2ad3,_0x769a65=>{const _0x426428=_0x8e6735;if(_0x769a65)console[_0x426428(0x246)](_0x18ff3d[_0x426428(0x2de)],_0x769a65),_0x4aab70[_0x426428(0x2c3)]=_0x426428(0x2f8),_0x4aab70['style'][_0x426428(0x2fc)]=_0x18ff3d['Ahdvz'];else{const _0x1669ac=_0x18ff3d['oUSnO']['split']('|');let _0x5d65e7=0x0;while(!![]){switch(_0x1669ac[_0x5d65e7++]){case'0':localStorage[_0x426428(0xaf)](_0x18ff3d[_0x426428(0x244)],_0x1da76b);continue;case'1':_0x18ff3d[_0x426428(0x360)](showScreen,_0x426428(0x384));continue;case'2':username=_0x2f3289;continue;case'3':document[_0x426428(0x148)](_0x426428(0x32f))[_0x426428(0x2c3)]=_0x2f3289;continue;case'4':localStorage[_0x426428(0xaf)](_0x18ff3d['cUMcU'],_0x2f3289);continue;}break;}}});}})['catch'](_0x37ad04=>{const _0x323bcd=_0x5c1b78;console[_0x323bcd(0x246)](_0x3a6595[_0x323bcd(0x1e8)],_0x37ad04),_0x4aab70[_0x323bcd(0x2c3)]=_0x3a6595[_0x323bcd(0x196)],_0x4aab70[_0x323bcd(0x109)][_0x323bcd(0x2fc)]=_0x3a6595[_0x323bcd(0x2ca)];});}function saveProfile(_0x3615bf,_0x2ef59a,_0x157ec2){const _0x3a3861=_0x5c2f74,_0x30ce16={'HqvHM':_0x3a3861(0x384)},_0x399aba=Date['now'](),_0x3a9f5f=[_0x3615bf];db[_0x3a3861(0xd2)](_0x3a3861(0x297)+_0x157ec2)[_0x3a3861(0x121)]({'username':_0x3615bf,'description':_0x2ef59a,'lastChanged':_0x399aba,'usernameHistory':_0x3a9f5f}),document['getElementById'](_0x3a3861(0x32f))[_0x3a3861(0x2c3)]=_0x3615bf,showScreen(_0x30ce16[_0x3a3861(0x2ec)]);}function generateRoom(){const _0x800869=_0x5c2f74,_0x5811c9={'Akjmg':function(_0x10b44a){return _0x10b44a();},'wsJMj':_0x800869(0x2c4),'cbnad':function(_0xa794e0){return _0xa794e0();}};roomCode=_0x5811c9[_0x800869(0x200)](genRoomCode),db[_0x800869(0xd2)](_0x5811c9['wsJMj']+roomCode)[_0x800869(0x121)]({'active':!![],'created':Date[_0x800869(0x149)]()}),_0x5811c9[_0x800869(0x182)](startChat);}function joinRoom(){const _0x2a9ca8=_0x5c2f74,_0x157ec1={'ZnRyg':function(_0x5e0db6,_0x12ae46){return _0x5e0db6!==_0x12ae46;},'rLMuj':function(_0x36d4e9){return _0x36d4e9();},'CnfbI':_0x2a9ca8(0x31c),'VWZMP':function(_0x412d21,_0x3e94c5){return _0x412d21(_0x3e94c5);},'TpQPe':_0x2a9ca8(0x367),'mNOZQ':function(_0x5b8692,_0xa0ae63){return _0x5b8692===_0xa0ae63;},'yUxpy':_0x2a9ca8(0x1a3),'nKbmS':function(_0x20cbe3,_0x59c50d){return _0x20cbe3+_0x59c50d;},'TGQkk':_0x2a9ca8(0x2c4)},_0x54e32f=roomCode||document['getElementById'](_0x157ec1[_0x2a9ca8(0x1e3)])['value']['trim']()[_0x2a9ca8(0x324)]();if(!_0x54e32f)return _0x157ec1[_0x2a9ca8(0x170)](alert,_0x157ec1[_0x2a9ca8(0x1b3)]);roomCode=_0x54e32f;if(_0x157ec1[_0x2a9ca8(0x172)](roomCode,STATIC_ROOM)){_0x157ec1[_0x2a9ca8(0x170)](showScreen,_0x157ec1[_0x2a9ca8(0x98)]);return;}db[_0x2a9ca8(0xd2)](_0x157ec1[_0x2a9ca8(0x1e7)](_0x157ec1[_0x2a9ca8(0x370)],roomCode))['get']()['then'](_0xb151a2=>{const _0x55cb12=_0x2a9ca8;_0xb151a2['exists']()&&_0x157ec1[_0x55cb12(0xe0)](_0xb151a2[_0x55cb12(0x197)]()[_0x55cb12(0x21c)],![])?_0x157ec1[_0x55cb12(0x2a9)](startChat):alert(_0x55cb12(0x346));});}async function startChat(){const _0x1956a4=_0x5c2f74,_0x16c740={'NpBlH':'announcementArea','KVrUP':function(_0x2e2642,_0x32e75d){return _0x2e2642===_0x32e75d;},'FEjid':_0x1956a4(0x116),'soTSX':function(_0x43949f,_0x2869e5){return _0x43949f(_0x2869e5);},'tOhoj':'Remove\x20this\x20announcement?','ygvMx':function(_0x58373e){return _0x58373e();},'AzwUF':_0x1956a4(0x31f),'BPJJs':_0x1956a4(0x384),'OhJVI':_0x1956a4(0x273),'RKCRL':'block','MEfOL':_0x1956a4(0x276),'HBLym':function(_0x53e794,_0x577510){return _0x53e794(_0x577510);},'hmxQW':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','tCJcU':'system','XHyph':function(_0x11e2c4,_0xbeba3e){return _0x11e2c4(_0xbeba3e);},'MuEeU':_0x1956a4(0x2c8),'oUpIv':function(_0x27f2a1){return _0x27f2a1();},'LSJgz':function(_0x558905){return _0x558905();},'qcnvP':function(_0x5e70ac){return _0x5e70ac();},'rqgiA':_0x1956a4(0x15c),'rsqdv':function(_0x12cfae,_0x14f133){return _0x12cfae(_0x14f133);},'ZGpTz':_0x1956a4(0x391),'MfIHL':function(_0x2edd9a){return _0x2edd9a();},'PWdMp':function(_0x57ec7b){return _0x57ec7b();},'LYNxh':function(_0x19ae68,_0x18eec5){return _0x19ae68(_0x18eec5);}};if(!roomCode||!username)return _0x16c740[_0x1956a4(0x212)](alert,_0x16c740[_0x1956a4(0x394)]),showScreen(_0x1956a4(0x384));listenForPauseState(),_0x16c740[_0x1956a4(0x1da)](listenForUserList),await _0x16c740[_0x1956a4(0x1f3)](loadRoomRoles),_0x16c740[_0x1956a4(0x119)](listenForAnnouncement);const _0x498a2d=_0x16c740[_0x1956a4(0x336)](sanitizeUsername,username),_0x128224=db[_0x1956a4(0xd2)]('users/'+roomCode+'/'+_0x498a2d),_0x1b9e64={'username':username,'online':!![],'lastOnline':firebase[_0x1956a4(0x20a)]['ServerValue'][_0x1956a4(0x18a)]};_0x128224[_0x1956a4(0x121)](_0x1b9e64,_0x4f7f0d=>{const _0xcdddf2=_0x1956a4,_0x23b5cf={'KEvqp':function(_0x25cfa6){const _0x35d1a0=_0x524e;return _0x16c740[_0x35d1a0(0x1da)](_0x25cfa6);},'sCxLu':function(_0x416af7){return _0x16c740['ygvMx'](_0x416af7);}};if(_0x4f7f0d)return _0x16c740[_0xcdddf2(0x114)](alert,_0x16c740[_0xcdddf2(0x313)]),_0x16c740[_0xcdddf2(0x114)](showScreen,_0x16c740[_0xcdddf2(0xd4)]);const _0x7822c3=document[_0xcdddf2(0x148)](_0x16c740[_0xcdddf2(0x39f)]);avatarBase64&&(_0x7822c3[_0xcdddf2(0x120)]=_0xcdddf2(0xb3)+avatarBase64,_0x7822c3[_0xcdddf2(0x109)][_0xcdddf2(0x2fc)]=_0x16c740[_0xcdddf2(0x16b)]);document[_0xcdddf2(0x148)](_0x16c740[_0xcdddf2(0x29d)])[_0xcdddf2(0x178)]=username+'\x20'+_0x16c740[_0xcdddf2(0x164)](getRoleTag,_0x498a2d),document[_0xcdddf2(0x148)](_0xcdddf2(0x123))['innerText']=_0x16c740[_0xcdddf2(0x21b)](roomCode,STATIC_ROOM)?_0x16c740['hmxQW']:roomCode,_0x16c740['ygvMx'](updateAnnouncementVisibility);const _0x146eac=db[_0xcdddf2(0xd2)]()[_0xcdddf2(0x28e)]()[_0xcdddf2(0x2e7)];db[_0xcdddf2(0xd2)](_0xcdddf2(0x2c4)+roomCode+_0xcdddf2(0x343)+_0x146eac)[_0xcdddf2(0x121)]({'msg':username+_0xcdddf2(0x32b),'sender':_0x16c740[_0xcdddf2(0x363)],'senderId':_0x16c740[_0xcdddf2(0x363)],'timestamp':Date['now']()}),_0x16c740[_0xcdddf2(0x183)](showScreen,_0x16c740[_0xcdddf2(0xef)]),document[_0xcdddf2(0x148)](_0x16c740[_0xcdddf2(0x39b)])[_0xcdddf2(0xc8)](_0xcdddf2(0xfb),_0x2dce01=>{const _0x3331fb=_0xcdddf2,_0x69cb71={'oHYKi':_0x16c740[_0x3331fb(0x39b)]};_0x16c740['KVrUP'](_0x2dce01[_0x3331fb(0x358)],0x3)&&(role===_0x16c740['FEjid']||_0x16c740[_0x3331fb(0x21b)](role,'dev'))&&(_0x16c740[_0x3331fb(0x114)](confirm,_0x16c740[_0x3331fb(0x33b)])&&db[_0x3331fb(0xd2)](_0x3331fb(0x2c4)+roomCode+_0x3331fb(0x214))[_0x3331fb(0x251)]()[_0x3331fb(0x167)](()=>{const _0x31fa5a=_0x3331fb;document[_0x31fa5a(0x148)](_0x69cb71[_0x31fa5a(0x258)])[_0x31fa5a(0x2c3)]='';}));}),_0x16c740[_0xcdddf2(0x2a5)](listenForMessages),listenForTyping(),_0x16c740[_0xcdddf2(0x181)](startInactivityTimer),_0x16c740[_0xcdddf2(0x181)](trackPresence),watchProfileChanges(),watchMuteStatus(),_0x16c740[_0xcdddf2(0x2ae)](startSidebarSyncLoop);const _0x3629ec=()=>{const _0x2feb4c=_0xcdddf2,_0x2bc3df={'mUVyt':function(_0x1ec7b9){return _0x23b5cf['KEvqp'](_0x1ec7b9);}};_0x23b5cf[_0x2feb4c(0x31d)](loadRoomRoles)['then'](()=>{const _0x70f355=_0x2feb4c;renderUserLists(roomUsers),_0x2bc3df[_0x70f355(0x11e)](updateAnnouncementVisibility);});};db['ref'](_0x16c740[_0xcdddf2(0x10a)])['on'](_0xcdddf2(0x206),_0x3629ec),db[_0xcdddf2(0xd2)](_0xcdddf2(0x15c))['on'](_0xcdddf2(0x31e),_0x3629ec);});}function updateAnnouncementVisibility(){const _0x17b839=_0x5c2f74,_0xb08dc9={'EOrHG':'admin','AGWvX':_0x17b839(0x287),'YKVen':'block','MeaRf':_0x17b839(0x305)},_0x190d6e=document[_0x17b839(0x148)](_0x17b839(0xbc));role===_0xb08dc9[_0x17b839(0x157)]||role===_0xb08dc9['AGWvX']?_0x190d6e[_0x17b839(0x109)][_0x17b839(0x2fc)]=_0xb08dc9[_0x17b839(0x145)]:_0x190d6e['style'][_0x17b839(0x2fc)]=_0xb08dc9[_0x17b839(0x25b)];}function watchProfileChanges(){const _0x36a6b1=_0x5c2f74,_0x12f91a={'WDQyd':_0x36a6b1(0x20c),'MERNr':_0x36a6b1(0x273),'VNTOU':_0x36a6b1(0xb3),'yDBAh':function(_0x2e4efb,_0x2c1819){return _0x2e4efb(_0x2c1819);},'MIYiT':function(_0x8b80d8,_0x7d826a){return _0x8b80d8(_0x7d826a);},'wbLeo':_0x36a6b1(0x314)},_0x5ba3d9=_0x12f91a[_0x36a6b1(0x2e3)](sanitizeUsername,username);db[_0x36a6b1(0xd2)]('auth/'+_0x5ba3d9)['on'](_0x12f91a['wbLeo'],_0x3681c4=>{const _0x7723e3=_0x36a6b1;if(!_0x3681c4['exists']())return;const _0x3620d5=_0x3681c4[_0x7723e3(0x197)]();userDescription=_0x3620d5[_0x7723e3(0xa1)]||'',avatarBase64=_0x3620d5[_0x7723e3(0x1b1)]||'',role=_0x3620d5[_0x7723e3(0x188)]||_0x12f91a[_0x7723e3(0x23e)];if(avatarBase64){const _0x1a776d=document[_0x7723e3(0x148)](_0x12f91a[_0x7723e3(0x283)]);!_0x1a776d['src'][_0x7723e3(0x292)](avatarBase64)&&(_0x1a776d['src']=_0x12f91a[_0x7723e3(0x2e8)]+avatarBase64,_0x1a776d[_0x7723e3(0x109)]['display']='block');}_0x12f91a[_0x7723e3(0x39a)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x388405){const _0x4fd936=_0x5c2f74,_0x44f3c7={'wRRcf':function(_0x26be58,_0x5cb32f){return _0x26be58>_0x5cb32f;},'aSbeA':function(_0x5c2ea4,_0x5a8bc5){return _0x5c2ea4*_0x5a8bc5;},'Wliun':function(_0x2769e8,_0x29e9de){return _0x2769e8*_0x29e9de;},'Adnke':function(_0x246b09,_0x5b80a5){return _0x246b09(_0x5b80a5);},'zYHRZ':_0x4fd936(0xa8)},_0x29de8a=Date[_0x4fd936(0x149)]();if(_0x29de8a-lastImageTime<0x2710){alert('🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.');return;}lastImageTime=_0x29de8a;const _0x57e2ce=_0x388405[_0x4fd936(0x110)][0x0];if(!_0x57e2ce||_0x44f3c7['wRRcf'](_0x57e2ce[_0x4fd936(0x2eb)],_0x44f3c7['aSbeA'](_0x44f3c7[_0x4fd936(0x193)](0x2,0x400),0x400))){_0x44f3c7[_0x4fd936(0xc9)](alert,_0x44f3c7[_0x4fd936(0x1d8)]);return;}const _0xcb9717=new FileReader();_0xcb9717[_0x4fd936(0x35d)]=()=>{const _0xbc0dcb=_0x4fd936,_0x4708f6=_0xcb9717[_0xbc0dcb(0x26d)][_0xbc0dcb(0x308)](',')[0x1],_0x14e245=db[_0xbc0dcb(0xd2)]()[_0xbc0dcb(0x28e)]()[_0xbc0dcb(0x2e7)];db[_0xbc0dcb(0xd2)](_0xbc0dcb(0x2c4)+roomCode+'/messages/'+_0x14e245)[_0xbc0dcb(0x121)]({'imageBase64':_0x4708f6,'sender':username,'senderId':clientId,'timestamp':Date[_0xbc0dcb(0x149)]()});},_0xcb9717[_0x4fd936(0x222)](_0x57e2ce);}async function fetchProfile(_0xe875f1){const _0x110118=_0x5c2f74,_0x37e348=await db[_0x110118(0xd2)]('auth/'+_0xe875f1)[_0x110118(0x2dc)]();if(!_0x37e348[_0x110118(0xc1)]())return null;return _0x37e348['val']();}function validateStaticRoomPassword(){const _0xdf0b9a=_0x5c2f74,_0x2f563f={'RQjoK':function(_0x105b35,_0x4ad464){return _0x105b35(_0x4ad464);},'qGfxw':function(_0x5b636e,_0x56a652){return _0x5b636e===_0x56a652;},'pZJFU':_0xdf0b9a(0xf1),'UDTHm':_0xdf0b9a(0x27e),'wBjgN':_0xdf0b9a(0x1c9),'ygPwt':function(_0x486b14,_0x163f87){return _0x486b14(_0x163f87);},'CAxoi':'Please\x20enter\x20the\x20password.'},_0x4d910d=document['getElementById'](_0x2f563f[_0xdf0b9a(0x2fd)])[_0xdf0b9a(0x314)][_0xdf0b9a(0x124)]();if(!_0x4d910d){_0x2f563f[_0xdf0b9a(0x354)](alert,_0x2f563f[_0xdf0b9a(0x356)]);return;}db['ref']('gr8stg/'+STATIC_ROOM)[_0xdf0b9a(0x2dc)]()[_0xdf0b9a(0x167)](_0x3b5436=>{const _0x36ae79=_0xdf0b9a;if(!_0x3b5436[_0x36ae79(0xc1)]()){_0x2f563f['RQjoK'](alert,_0x36ae79(0x352));return;}const _0x5b8073=_0x3b5436[_0x36ae79(0x197)]();_0x2f563f[_0x36ae79(0x9e)](_0x4d910d,_0x5b8073)?(roomCode=STATIC_ROOM,startChat()):(document[_0x36ae79(0x148)](_0x2f563f[_0x36ae79(0x23f)])[_0x36ae79(0x2c3)]=_0x2f563f['UDTHm'],document[_0x36ae79(0x148)](_0x2f563f[_0x36ae79(0x23f)])[_0x36ae79(0x109)][_0x36ae79(0x2fc)]=_0x36ae79(0x134));})[_0xdf0b9a(0x9c)](_0x169de0=>{const _0x487ea3=_0xdf0b9a;console['error'](_0x169de0),_0x2f563f[_0x487ea3(0x237)](alert,_0x487ea3(0xf6));});}function listenForPauseState(){const _0x3904ce=_0x5c2f74,_0x10bdc6={'ohirG':function(_0x954e0e,_0x391a58){return _0x954e0e===_0x391a58;},'ZHayy':'block','lfpea':_0x3904ce(0x305),'hbOxx':_0x3904ce(0x314)};db[_0x3904ce(0xd2)]('roomStates/'+roomCode+_0x3904ce(0x1f5))['on'](_0x10bdc6['hbOxx'],_0x4e6af6=>{const _0x2e381=_0x3904ce,_0x45ff65=_0x4e6af6[_0x2e381(0xc1)]()&&_0x10bdc6['ohirG'](_0x4e6af6[_0x2e381(0x197)](),!![]);document['getElementById'](_0x2e381(0x207))[_0x2e381(0x109)]['display']=_0x45ff65?_0x10bdc6[_0x2e381(0x267)]:_0x10bdc6[_0x2e381(0x14c)];});}const spamTimestamps=[];async function sendMessage(){const _0x3b4512=_0x5c2f74,_0x3e8a8c={'ZwwRO':_0x3b4512(0x2cc),'fRJhx':function(_0x53843d,_0x24f3e1){return _0x53843d(_0x24f3e1);},'LEVwg':function(_0x1b4e8a,_0x3d0235){return _0x1b4e8a===_0x3d0235;},'uDfuy':function(_0x41028b,_0x1c9b13){return _0x41028b>_0x1c9b13;},'VZeau':_0x3b4512(0x287),'sqQHw':_0x3b4512(0x328),'JDNZS':_0x3b4512(0x3a0),'mGpkZ':function(_0x485264,_0x193cfa){return _0x485264||_0x193cfa;},'ltNXr':'3|1|4|0|2|5','PkMBX':_0x3b4512(0x1e5),'nmqhZ':function(_0x52e0c5,_0x33b67a){return _0x52e0c5(_0x33b67a);},'xawcn':_0x3b4512(0x1a6),'DJSwR':function(_0x46ee4c,_0x2b251e){return _0x46ee4c(_0x2b251e);}},_0x38ec13=await db[_0x3b4512(0xd2)](_0x3b4512(0x349)+roomCode+'/paused')[_0x3b4512(0x2dc)](),_0x35289c=await db[_0x3b4512(0xd2)](_0x3b4512(0x2fe)+roomCode+'/'+_0x3e8a8c[_0x3b4512(0x23a)](sanitizeUsername,username))[_0x3b4512(0x2dc)]();if(_0x35289c['exists']()){const _0x1c02ee=_0x35289c[_0x3b4512(0x197)](),_0x1737b5=_0x3e8a8c[_0x3b4512(0x2ef)](typeof _0x1c02ee,_0x3b4512(0x34e))&&_0x1c02ee[_0x3b4512(0x186)]?_0x1c02ee[_0x3b4512(0x186)]:_0x1c02ee;if(_0x3e8a8c[_0x3b4512(0x127)](_0x1737b5,Date['now']())){alert(_0x3b4512(0x32c));return;}}if(_0x38ec13[_0x3b4512(0xc1)]()&&_0x3e8a8c[_0x3b4512(0x2ef)](_0x38ec13[_0x3b4512(0x197)](),!![])&&role!==_0x3e8a8c['VZeau']){_0x3e8a8c[_0x3b4512(0x23a)](alert,_0x3e8a8c['sqQHw']);return;}const _0x4b2e97=document['getElementById'](_0x3e8a8c['JDNZS']),_0x21059a=_0x4b2e97[_0x3b4512(0x314)]['trim']();if(_0x3e8a8c['mGpkZ'](!_0x21059a,isBlocked))return;const _0x2803d8=Date[_0x3b4512(0x149)](),_0x1cd3f6=_0x21059a[_0x3b4512(0x1b4)](),_0xf0cf95=swearWords['some'](_0x438409=>_0x1cd3f6[_0x3b4512(0x292)](_0x438409));if(_0xf0cf95){_0x3e8a8c[_0x3b4512(0x23a)](alert,'⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.');return;}spamTimestamps['push'](_0x2803d8);const _0x446da4=spamTimestamps[_0x3b4512(0x2a2)](_0x3d1dbf=>_0x2803d8-_0x3d1dbf<0x1b58);if(_0x3e8a8c[_0x3b4512(0x127)](_0x446da4[_0x3b4512(0x27c)],0x5)){const _0x49fb22=_0x3e8a8c[_0x3b4512(0xb6)][_0x3b4512(0x308)]('|');let _0x28541e=0x0;while(!![]){switch(_0x49fb22[_0x28541e++]){case'0':_0x3e8a8c[_0x3b4512(0x23a)](alert,_0x3b4512(0x2aa));continue;case'1':_0x4b2e97[_0x3b4512(0x11d)]=!![];continue;case'2':setTimeout(()=>{const _0x56e3bf=_0x3b4512;isBlocked=![],_0x4b2e97[_0x56e3bf(0x11d)]=![],_0x4b2e97[_0x56e3bf(0x2b3)]=_0x3e8a8c[_0x56e3bf(0x29b)],spamTimestamps[_0x56e3bf(0x27c)]=0x0;},0x7530);continue;case'3':isBlocked=!![];continue;case'4':_0x4b2e97[_0x3b4512(0x2b3)]=_0x3e8a8c[_0x3b4512(0x263)];continue;case'5':return;}break;}}const _0x39f0ff=_0x21059a['match'](/(.)\1{14,}/);if(_0x39f0ff){_0x3e8a8c[_0x3b4512(0x1e4)](alert,_0x3b4512(0x1e2));return;}const _0x8dbeed=localStorage[_0x3b4512(0x153)](_0x3e8a8c[_0x3b4512(0x24b)])||'',_0x52ba8d=db[_0x3b4512(0xd2)]()[_0x3b4512(0x28e)]()[_0x3b4512(0x2e7)];db[_0x3b4512(0xd2)](_0x3b4512(0x2c4)+roomCode+_0x3b4512(0x343)+_0x52ba8d)[_0x3b4512(0x121)]({'msg':_0x21059a,'sender':username,'senderId':clientId,'avatarBase64':_0x8dbeed,'timestamp':_0x2803d8}),_0x4b2e97[_0x3b4512(0x314)]='',_0x3e8a8c[_0x3b4512(0x12c)](sendTyping,!![]),lastActivity=_0x2803d8;}function listenForMessages(){const _0x49d862=_0x5c2f74,_0x1dfd5a={'YrfqD':function(_0xad4fee,_0x10453e,_0x20aae9,_0x166589){return _0xad4fee(_0x10453e,_0x20aae9,_0x166589);},'kcSGG':function(_0x199065,_0x4d8f06){return _0x199065!==_0x4d8f06;},'vZSSA':_0x49d862(0x286),'IBfpf':function(_0x537820){return _0x537820();},'YToMh':function(_0x5ec3cf,_0x50b19e){return _0x5ec3cf&&_0x50b19e;},'JVEIQ':function(_0x3c889e,_0x3a46f0){return _0x3c889e===_0x3a46f0;},'aGbQZ':_0x49d862(0x1ec),'XqDGR':_0x49d862(0x2b4),'MNlyh':_0x49d862(0x392),'mPFwa':function(_0x497666,_0x573323){return _0x497666||_0x573323;},'Smtlk':function(_0x4e5718,_0x4704bd){return _0x4e5718>_0x4704bd;},'Bnsqn':function(_0x180d63,_0x40e321){return _0x180d63-_0x40e321;},'mBwVf':'child_added','MdRQG':_0x49d862(0x314),'PZeDF':_0x49d862(0xc4)},_0x5f2df2=db[_0x49d862(0xd2)]('rooms/'+roomCode+'/messages'),_0x5d65a8=_0x5f2df2[_0x49d862(0x1b5)](MAX_MESSAGES);userListReady=!![],_0x5d65a8['on'](_0x1dfd5a[_0x49d862(0x295)],_0x18511e=>{const _0xacfa86=_0x49d862,_0x5079c9=_0x18511e['val'](),{senderId:_0x3f9263}=_0x5079c9,_0x5c712c=_0x3f9263===clientId;if(!userListReady){pendingMessages[_0xacfa86(0xc0)](({data:_0x2c47b5,sent:_0x441649,key:_0xa4a1e1})=>{_0x1dfd5a['YrfqD'](addMessage,_0x2c47b5,_0x441649,_0xa4a1e1);}),pendingMessages=[];return;}const _0x174d7d=_0x5079c9[_0xacfa86(0x35a)]||null,_0x22c28f=_0x5079c9[_0xacfa86(0x130)]||null;addMessage(_0x5079c9,_0x5c712c,_0x18511e[_0xacfa86(0x2e7)]);if(_0x1dfd5a[_0xacfa86(0x1df)](roomCode,STATIC_ROOM)&&_0x1dfd5a[_0xacfa86(0x1df)](_0x5079c9[_0xacfa86(0x2f9)],_0x1dfd5a['vZSSA'])){}!_0x5c712c&&(sound['play'](),_0x1dfd5a[_0xacfa86(0x37e)](flagPageAttention));if(_0x1dfd5a['YToMh'](notificationsEnabled,!_0x5c712c)&&_0x1dfd5a[_0xacfa86(0x225)](Notification[_0xacfa86(0x278)],'granted')){const _0x4d385c=_0x5079c9[_0xacfa86(0x1b7)]||(_0x5079c9[_0xacfa86(0x130)]?_0x1dfd5a[_0xacfa86(0x2e6)]:_0x5079c9['imageBase64']?_0x1dfd5a['XqDGR']:_0xacfa86(0x135));new Notification('💬\x20'+_0x5079c9[_0xacfa86(0x2f9)],{'body':_0x4d385c,'icon':_0x1dfd5a['MNlyh']});}}),_0x5f2df2[_0x49d862(0x113)](_0x1dfd5a['MdRQG'])[_0x49d862(0x167)](_0xff8ed8=>{const _0x169e00=_0x49d862,_0x15dc16=_0xff8ed8['val'](),_0x27ee46=Object[_0x169e00(0x1a1)](_0x1dfd5a[_0x169e00(0x17b)](_0x15dc16,{}));if(_0x1dfd5a[_0x169e00(0x1be)](_0x27ee46['length'],MAX_MESSAGES)){const _0x30e389=_0x1dfd5a[_0x169e00(0x17e)](_0x27ee46[_0x169e00(0x27c)],MAX_MESSAGES),_0x4ba23e=_0x27ee46[_0x169e00(0x15e)]((_0x1a0748,_0x52e616)=>_0x15dc16[_0x1a0748]['timestamp']-_0x15dc16[_0x52e616]['timestamp'])[_0x169e00(0x1c6)](0x0,_0x30e389);_0x4ba23e[_0x169e00(0xc0)](_0x2edba8=>{const _0x367249=_0x169e00;db[_0x367249(0xd2)](_0x367249(0x2c4)+roomCode+_0x367249(0x343)+_0x2edba8)[_0x367249(0x251)]();});}}),db[_0x49d862(0xd2)](_0x49d862(0x2c4)+roomCode+_0x49d862(0x138))['on'](_0x1dfd5a[_0x49d862(0x125)],_0x3e4971=>{const _0x2df733=_0x49d862,_0x8b058d=_0x3e4971[_0x2df733(0x2e7)],_0x517005=document[_0x2df733(0x2db)](_0x2df733(0x1e6)+_0x8b058d+'\x22]');if(_0x517005)_0x517005[_0x2df733(0x251)]();});}function stackNotification(_0x199b33,_0x3b6c0b){const _0x193545=_0x5c2f74,_0x389e0a={'uBrHh':function(_0x27f1d0){return _0x27f1d0();},'WSBUf':function(_0x58f56e,_0xe54398){return _0x58f56e(_0xe54398);}};notificationStack['push']({'sender':_0x199b33,'content':_0x3b6c0b}),_0x389e0a[_0x193545(0x28f)](clearTimeout,notificationTimer),notificationTimer=setTimeout(()=>{const _0x27a0d6=_0x193545;_0x389e0a[_0x27a0d6(0x220)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x14f1e1=_0x5c2f74,_0x23cf6b={'PejuR':_0x14f1e1(0x1fd),'afUdx':_0x14f1e1(0x301),'pgwXO':function(_0x11083b,_0x5c94c7){return _0x11083b||_0x5c94c7;},'oJVAe':_0x14f1e1(0x2b6),'iIgmh':function(_0x507cdc,_0xaceacc){return _0x507cdc===_0xaceacc;},'HpjRG':function(_0x304909,_0x4447e3,_0x142e96){return _0x304909(_0x4447e3,_0x142e96);}};if(!notificationStack[_0x14f1e1(0x27c)]||Notification['permission']!==_0x23cf6b[_0x14f1e1(0x177)])return;const _0x111b72=[...new Set(notificationStack['map'](_0x164430=>_0x164430['sender']))],_0x36e695=_0x23cf6b['pgwXO'](roomCode,_0x23cf6b[_0x14f1e1(0x140)]),_0x179dd5=_0x23cf6b[_0x14f1e1(0x345)](_0x111b72[_0x14f1e1(0x27c)],0x1)?_0x14f1e1(0x18f)+_0x111b72[0x0]+_0x14f1e1(0x2d2)+_0x36e695+':\x20'+notificationStack[0x0]['content']:_0x14f1e1(0x146)+_0x111b72['join'](',\x20')+_0x14f1e1(0x2d2)+_0x36e695;_0x23cf6b['HpjRG'](setTimeout,()=>{const _0x4e6596=_0x14f1e1;new Notification(_0x23cf6b['PejuR'],{'body':_0x179dd5,'icon':_0x4e6596(0x392)});},0x64);}async function addMessage(_0x50256d,_0x15ba6f,_0x38bde7=null){const _0x4c37e5=_0x5c2f74,_0x447b35={'dJqDi':function(_0x208246,_0x406d34,_0x2f6b10){return _0x208246(_0x406d34,_0x2f6b10);},'sKVaa':_0x4c37e5(0x9f),'GscIn':_0x4c37e5(0x221),'Ppqja':_0x4c37e5(0xa7),'xvDSZ':'20px','qwSPL':_0x4c37e5(0x342),'wrPON':'inline-block','DAXUn':function(_0x184db6,_0x5f1284){return _0x184db6(_0x5f1284);},'TLZBA':_0x4c37e5(0x305),'uHgDz':function(_0xe30e52,_0x10c3c0,_0x8b1d0){return _0xe30e52(_0x10c3c0,_0x8b1d0);},'OJuCc':function(_0x4bd44e,_0x3614fa){return _0x4bd44e>_0x3614fa;},'ULrFp':_0x4c37e5(0xfd),'xiFwA':_0x4c37e5(0x204),'npJnY':'0.8rem','iyzZz':_0x4c37e5(0x347),'vGBzL':_0x4c37e5(0x218),'tsQJh':_0x4c37e5(0x1b7),'jrjKp':_0x4c37e5(0xda),'WXSSI':_0x4c37e5(0x351),'ZNNkc':_0x4c37e5(0x1b9),'iqkgu':function(_0x23b62c,_0x604daa){return _0x23b62c(_0x604daa);},'cJqbQ':function(_0x2cf8e3,_0x467b48){return _0x2cf8e3(_0x467b48);},'GHQLP':_0x4c37e5(0x24a),'QGmTK':'absolute','buUYR':_0x4c37e5(0x2e5),'NsGbe':_0x4c37e5(0x96),'tzsIP':'10px','YVXrS':_0x4c37e5(0x2d1),'rADHS':_0x4c37e5(0x299),'SiNve':'0px','jZSjq':_0x4c37e5(0x180),'nzonc':_0x4c37e5(0x32a),'bEmqD':_0x4c37e5(0x350),'HumUN':_0x4c37e5(0x33a),'WzTUX':'mouseenter','uXEDr':'mouseleave','ofKcQ':_0x4c37e5(0x371),'klsrI':_0x4c37e5(0x314),'ywcKo':_0x4c37e5(0x287),'tdUaN':'admin','sdmgt':_0x4c37e5(0x1d6)},{msg:_0x123102,sender:_0xa067b2,senderId:_0x467ce7,timestamp:_0x1e4166,audioUrl:_0x5c5d7a,audioBase64:_0x3b9bef,imageBase64:_0x3beb38}=_0x50256d,_0x4354df=_0x447b35[_0x4c37e5(0xcb)](sanitizeUsername,_0xa067b2),_0x17fde2=document[_0x4c37e5(0x1d9)](_0x447b35['xiFwA']);if(_0x50256d[_0x4c37e5(0x2f9)]===_0x4c37e5(0x286)){const _0x53b9f8=document[_0x4c37e5(0x1d9)](_0x447b35['xiFwA']);_0x53b9f8[_0x4c37e5(0x320)]=_0x4c37e5(0x241),_0x53b9f8[_0x4c37e5(0x2ba)][_0x4c37e5(0x205)]=_0x38bde7||_0x50256d[_0x4c37e5(0xb7)],_0x53b9f8[_0x4c37e5(0x2ba)][_0x4c37e5(0xb7)]=_0x50256d[_0x4c37e5(0xb7)],_0x53b9f8[_0x4c37e5(0x109)][_0x4c37e5(0x307)]=_0x4c37e5(0x342),_0x53b9f8[_0x4c37e5(0x109)][_0x4c37e5(0x35b)]=_0x447b35[_0x4c37e5(0x234)],_0x53b9f8[_0x4c37e5(0x109)][_0x4c37e5(0x1c4)]=_0x4c37e5(0x30e),_0x53b9f8[_0x4c37e5(0x109)][_0x4c37e5(0x268)]=_0x447b35[_0x4c37e5(0x1ac)],_0x53b9f8[_0x4c37e5(0x2c3)]=_0x50256d[_0x4c37e5(0x1b7)];const _0x533959=document[_0x4c37e5(0x148)](_0x447b35[_0x4c37e5(0x230)]);_0x533959[_0x4c37e5(0xf7)](_0x53b9f8);const _0x46e67d=Array[_0x4c37e5(0x2da)](_0x533959[_0x4c37e5(0x187)]);_0x46e67d[_0x4c37e5(0x15e)]((_0x1b4b1e,_0x2bfb0a)=>{const _0x1e5624=_0x4c37e5;return(+_0x1b4b1e[_0x1e5624(0x2ba)][_0x1e5624(0xb7)]||0x0)-(+_0x2bfb0a['dataset'][_0x1e5624(0xb7)]||0x0);}),_0x533959[_0x4c37e5(0x178)]='',_0x46e67d['forEach'](_0x5d3721=>_0x533959['appendChild'](_0x5d3721)),_0x533959[_0x4c37e5(0x139)]=_0x533959[_0x4c37e5(0x37d)];return;}_0x17fde2[_0x4c37e5(0x21e)][_0x4c37e5(0x175)](_0x447b35['tsQJh'],_0x15ba6f?_0x4c37e5(0xc3):_0x447b35[_0x4c37e5(0x36f)]),_0x17fde2[_0x4c37e5(0x109)]['position']=_0x447b35[_0x4c37e5(0x2c5)];_0x38bde7&&(_0x17fde2['dataset'][_0x4c37e5(0x205)]=_0x38bde7);const _0x590e88=new Date(_0x1e4166)[_0x4c37e5(0x379)]([],{'hour':_0x447b35['ZNNkc'],'minute':_0x447b35[_0x4c37e5(0x298)]}),_0x32e058=_0x447b35[_0x4c37e5(0x13e)](getRoleTag,_0x4354df),_0x5cf45c=await _0x447b35[_0x4c37e5(0x12b)](fetchAvatar,_0x4354df),_0x112b3=_0x5cf45c?_0x4c37e5(0x217)+_0x5cf45c+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x5bc60e=_0x112b3+_0x4c37e5(0x1f1)+_0xa067b2+'\x20'+_0x32e058+'</span>',_0x291104=_0x123102?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x4d5b66=_0x5bc60e+_0x4c37e5(0x1db);if(_0x5c5d7a)_0x4d5b66+='<audio\x20controls\x20src=\x22'+_0x5c5d7a+_0x4c37e5(0x2be);else{if(_0x3b9bef){const _0x162ee9='data:audio/webm;base64,'+_0x3b9bef;_0x4d5b66+='<audio\x20controls\x20src=\x22'+_0x162ee9+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x3beb38){const _0x498d31=_0x4c37e5(0xb3)+_0x3beb38;_0x4d5b66+=_0x4c37e5(0x289)+_0x498d31+_0x4c37e5(0x213);}else{const _0x1456c2=_0x291104[_0x4c37e5(0xca)](/(https?:\/\/[^\s]+)/g,_0x39532d=>{const _0x3fb841=_0x4c37e5;return'<a\x20href=\x22'+_0x39532d+_0x3fb841(0x332)+_0x39532d+'</a>';});_0x4d5b66+=_0x4c37e5(0x11b)+_0x1456c2+'</div>';}}}_0x4d5b66+=_0x4c37e5(0xa6)+_0x590e88+_0x4c37e5(0x227),_0x17fde2[_0x4c37e5(0x178)]=_0x4d5b66;const _0x5ced7f=document[_0x4c37e5(0x1d9)](_0x447b35[_0x4c37e5(0x179)]);_0x5ced7f[_0x4c37e5(0x320)]=_0x447b35[_0x4c37e5(0x20d)],_0x5ced7f['style']['marginTop']='4px',_0x5ced7f['style']['fontSize']=_0x4c37e5(0x288),_0x17fde2[_0x4c37e5(0xf7)](_0x5ced7f);const _0x5b5b53=document[_0x4c37e5(0x1d9)](_0x447b35['xiFwA']);_0x5b5b53[_0x4c37e5(0x320)]=_0x4c37e5(0x104);const _0x1b1d32=['❤️','😂','😮','😢','👎','💀','🤯'];_0x5b5b53[_0x4c37e5(0x178)]=_0x1b1d32[_0x4c37e5(0xee)](_0x485cd5=>_0x4c37e5(0xd3)+_0x485cd5+_0x4c37e5(0x13d))[_0x4c37e5(0x395)](''),_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x2fc)]=_0x447b35[_0x4c37e5(0x242)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x1f9)]=_0x447b35['QGmTK'],_0x5b5b53[_0x4c37e5(0x109)]['background']=_0x447b35['buUYR'],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x118)]=_0x447b35[_0x4c37e5(0xe9)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x1dd)]=_0x447b35[_0x4c37e5(0x2a0)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x35b)]=_0x447b35[_0x4c37e5(0x37c)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x340)]=_0x447b35[_0x4c37e5(0x337)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x20e)]=_0x447b35[_0x4c37e5(0x38c)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x39e)]='10',_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x38e)]=_0x447b35[_0x4c37e5(0x229)],_0x5b5b53['style'][_0x4c37e5(0x30f)]=_0x447b35[_0x4c37e5(0x1eb)],_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x21f)]=_0x4c37e5(0x9a),_0x5b5b53[_0x4c37e5(0x109)]['display']='grid',_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x103)]=_0x4c37e5(0x13a),_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x247)]=_0x447b35['bEmqD'],_0x5b5b53[_0x4c37e5(0x109)]['boxShadow']=_0x447b35[_0x4c37e5(0x1ba)],Array[_0x4c37e5(0x2da)](_0x5b5b53[_0x4c37e5(0x187)])[_0x4c37e5(0xc0)](_0xa6f773=>{const _0x1a2a1d=_0x4c37e5,_0x4bda53={'QqTtw':function(_0x228cd3,_0x53d439,_0x5c750c){const _0x455c13=_0x524e;return _0x447b35[_0x455c13(0x1c5)](_0x228cd3,_0x53d439,_0x5c750c);}};_0xa6f773[_0x1a2a1d(0x109)][_0x1a2a1d(0x1a9)]=_0x447b35[_0x1a2a1d(0x19f)],_0xa6f773[_0x1a2a1d(0x18c)]=_0x54c5a8=>{const _0xc81379=_0x1a2a1d;_0x54c5a8[_0xc81379(0xe4)]();const _0x223066=_0xa6f773['textContent'];_0x4bda53[_0xc81379(0xfe)](reactToMessage,_0x38bde7,_0x223066);};}),Array[_0x4c37e5(0x2da)](_0x5b5b53[_0x4c37e5(0x187)])[_0x4c37e5(0xc0)](_0x5b1245=>{const _0xb30b47=_0x4c37e5,_0xe511ac=_0xb30b47(0x129)[_0xb30b47(0x308)]('|');let _0x24a245=0x0;while(!![]){switch(_0xe511ac[_0x24a245++]){case'0':_0x5b1245[_0xb30b47(0x109)][_0xb30b47(0x2fc)]=_0x447b35[_0xb30b47(0x150)];continue;case'1':_0x5b1245[_0xb30b47(0x109)][_0xb30b47(0x102)]=_0xb30b47(0x342);continue;case'2':_0x5b1245[_0xb30b47(0x109)]['height']=_0x447b35[_0xb30b47(0xa4)];continue;case'3':_0x5b1245[_0xb30b47(0x109)]['fontSize']=_0x447b35[_0xb30b47(0x2dd)];continue;case'4':_0x5b1245[_0xb30b47(0x109)]['width']=_0x447b35[_0xb30b47(0xa4)];continue;case'5':_0x5b1245[_0xb30b47(0x109)][_0xb30b47(0xe1)]=_0x447b35[_0xb30b47(0x2f6)];continue;}break;}}),_0x17fde2[_0x4c37e5(0xf7)](_0x5b5b53),_0x5b5b53[_0x4c37e5(0x109)][_0x4c37e5(0x2fc)]=_0x447b35[_0x4c37e5(0x242)];let _0x6b3066;_0x17fde2[_0x4c37e5(0xc8)](_0x447b35[_0x4c37e5(0x374)],()=>{const _0x17edf2=_0x4c37e5,_0x17017a={'KIVEg':_0x447b35[_0x17edf2(0x171)]};_0x6b3066=_0x447b35[_0x17edf2(0x1c5)](setTimeout,()=>{const _0x1ecbdc=_0x17edf2;_0x5b5b53['style'][_0x1ecbdc(0x2fc)]=_0x17017a[_0x1ecbdc(0xce)];},0x5dc);}),_0x17fde2[_0x4c37e5(0xc8)](_0x447b35[_0x4c37e5(0x378)],()=>{const _0x213ea5=_0x4c37e5;_0x447b35[_0x213ea5(0xcb)](clearTimeout,_0x6b3066),_0x5b5b53[_0x213ea5(0x109)][_0x213ea5(0x2fc)]=_0x447b35[_0x213ea5(0x242)];});let _0x276559;_0x17fde2[_0x4c37e5(0xc8)](_0x447b35['ofKcQ'],()=>{const _0x919651=_0x4c37e5;_0x276559=_0x447b35[_0x919651(0x36b)](setTimeout,()=>{const _0x3f1637=_0x919651;_0x5b5b53[_0x3f1637(0x109)][_0x3f1637(0x2fc)]=_0x3f1637(0x312);},0x5dc);}),_0x17fde2[_0x4c37e5(0xc8)](_0x4c37e5(0x210),()=>clearTimeout(_0x276559));_0x38bde7&&db[_0x4c37e5(0xd2)](_0x4c37e5(0x2c4)+roomCode+'/messages/'+_0x38bde7+_0x4c37e5(0x25f))['on'](_0x447b35['klsrI'],_0x4d8b84=>{const _0xdb5b7c=_0x4c37e5;if(!_0x4d8b84[_0xdb5b7c(0xc1)]()){_0x5ced7f[_0xdb5b7c(0x178)]='';return;}const _0xc2f55c=_0x4d8b84[_0xdb5b7c(0x197)]();let _0x810bfa='';Object['entries'](_0xc2f55c)['forEach'](([_0x2480ba,_0x472f58])=>{const _0x49b4e9=_0xdb5b7c;Array['isArray'](_0x472f58)&&_0x447b35[_0x49b4e9(0x2f4)](_0x472f58[_0x49b4e9(0x27c)],0x0)&&(_0x810bfa+=_0x49b4e9(0x100)+_0x2480ba+'\x20'+_0x472f58['length']+_0x49b4e9(0x12d));}),_0x5ced7f[_0xdb5b7c(0x178)]=_0x810bfa;});if([_0x447b35['ywcKo'],_0x447b35[_0x4c37e5(0xdc)],_0x447b35[_0x4c37e5(0x2a3)]][_0x4c37e5(0x292)](role)){let _0x5c61a3=0x0;_0x17fde2[_0x4c37e5(0xc8)](_0x4c37e5(0xfb),()=>{const _0x3fb5e7=_0x4c37e5;_0x5c61a3++,_0x5c61a3===0x3&&(_0x447b35[_0x3fb5e7(0xcb)](confirm,_0x447b35[_0x3fb5e7(0x1ca)])&&(db[_0x3fb5e7(0xd2)](_0x3fb5e7(0x2c4)+roomCode+'/messages/'+_0x38bde7)[_0x3fb5e7(0x251)](),_0x17fde2[_0x3fb5e7(0x251)]())),_0x447b35[_0x3fb5e7(0x1c5)](setTimeout,()=>_0x5c61a3=0x0,0x5dc);});}const _0x463287=document[_0x4c37e5(0x148)](_0x4c37e5(0x218));_0x463287['appendChild'](_0x17fde2),_0x463287[_0x4c37e5(0x139)]=_0x463287[_0x4c37e5(0x37d)];}function cleanupOldRooms(){const _0x2d7748=_0x5c2f74,_0x4da42c={'zDXar':function(_0x28d63e,_0x180fa4){return _0x28d63e-_0x180fa4;},'hmitN':function(_0x5e969e,_0xf4c724){return _0x5e969e*_0xf4c724;},'kMyVQ':function(_0x3f9c19,_0x21ee44){return _0x3f9c19*_0x21ee44;},'YUThG':function(_0x3ae444,_0x341108){return _0x3ae444+_0x341108;},'AVRFF':'rooms/','eQHsb':_0x2d7748(0xa2),'KxjpD':_0x2d7748(0x314),'xggSz':'antispamBlocked','zezdy':_0x2d7748(0x2d9)};db[_0x2d7748(0xd2)](_0x4da42c[_0x2d7748(0x117)])['once'](_0x4da42c[_0x2d7748(0x2f3)])[_0x2d7748(0x167)](_0x2beeb3=>{const _0x41620a=_0x2d7748,_0x5c74fc=_0x2beeb3['val']();if(!_0x5c74fc)return;const _0x1e39c6=Date[_0x41620a(0x149)]();for(const _0x49fb18 in _0x5c74fc){if(_0x49fb18===STATIC_ROOM)continue;const _0x3d2d4b=_0x5c74fc[_0x49fb18];_0x4da42c[_0x41620a(0x255)](_0x1e39c6,_0x3d2d4b[_0x41620a(0x303)]||0x0)>_0x4da42c['hmitN'](_0x4da42c[_0x41620a(0x105)](0x2,0x3c),0x3e8)&&db[_0x41620a(0xd2)](_0x4da42c['YUThG'](_0x4da42c['AVRFF'],_0x49fb18))[_0x41620a(0x251)]();}db[_0x41620a(0xd2)](_0x4da42c[_0x41620a(0x24e)])[_0x41620a(0x113)](_0x4da42c['KxjpD'])[_0x41620a(0x167)](_0x8b15ba=>{const _0x2f4f99=_0x41620a,_0x5bff66=_0x8b15ba[_0x2f4f99(0x197)]();if(!_0x5bff66)return;for(const _0x159bda in _0x5bff66){if(_0x159bda!==STATIC_ROOM)db[_0x2f4f99(0xd2)](_0x2f4f99(0x11a)+_0x159bda)[_0x2f4f99(0x251)]();}}),db[_0x41620a(0xd2)](_0x4da42c[_0x41620a(0x38d)])[_0x41620a(0x113)](_0x4da42c[_0x41620a(0x2f3)])[_0x41620a(0x167)](_0x165258=>{const _0x524983=_0x41620a,_0x283518=_0x165258[_0x524983(0x197)]();if(!_0x283518)return;for(const _0x39d59c in _0x283518){if(_0x39d59c!==STATIC_ROOM)db[_0x524983(0xd2)](_0x524983(0xf5)+_0x39d59c)['remove']();}});});}document[_0x5c2f74(0xc8)](_0x5c2f74(0x33f),()=>{const _0x1b4bb1=_0x5c2f74,_0x27b7e1={'yRxSx':function(_0x241142,_0x3667d3){return _0x241142===_0x3667d3;},'Rllsg':_0x1b4bb1(0x14a),'wuNbb':function(_0x1b589f){return _0x1b589f();},'hvPZH':'msgInput','kclFt':'keypress'},_0x483168=document[_0x1b4bb1(0x148)](_0x27b7e1[_0x1b4bb1(0x35c)]);_0x483168&&_0x483168[_0x1b4bb1(0xc8)](_0x27b7e1[_0x1b4bb1(0x1aa)],function(_0x52b5c9){const _0x3c02b8=_0x1b4bb1;_0x27b7e1['yRxSx'](_0x52b5c9['key'],_0x27b7e1['Rllsg'])&&(_0x52b5c9[_0x3c02b8(0x25e)](),_0x27b7e1[_0x3c02b8(0x33d)](sendMessage));});});function showScreen(_0x5d1ac5){const _0xf7f102=_0x5c2f74,_0xed8a64={'psveQ':_0xf7f102(0x338),'RSnYc':_0xf7f102(0x384),'hzJQz':_0xf7f102(0x344),'plEDt':_0xf7f102(0x2c8),'TWxLY':_0xf7f102(0x1a3),'RAwbG':_0xf7f102(0x385),'euqNz':_0xf7f102(0x15a),'sxeGE':_0xf7f102(0x29e),'uWcfg':'editProfileScreen','GYzIV':_0xf7f102(0x221)};[_0xed8a64[_0xf7f102(0x281)],_0xed8a64[_0xf7f102(0x2b9)],_0xed8a64[_0xf7f102(0x2fa)],_0xed8a64['plEDt'],_0xed8a64[_0xf7f102(0x14b)],_0xed8a64['RAwbG'],_0xed8a64[_0xf7f102(0x165)],_0xed8a64[_0xf7f102(0x2e2)],_0xed8a64[_0xf7f102(0x399)]]['forEach'](_0x5af107=>{const _0x221fd5=_0xf7f102;document[_0x221fd5(0x148)](_0x5af107)['style'][_0x221fd5(0x2fc)]='none';}),document['getElementById'](_0x5d1ac5)[_0xf7f102(0x109)][_0xf7f102(0x2fc)]=_0xed8a64[_0xf7f102(0x142)];}function genRoomCode(){const _0x7de1e3=_0x5c2f74,_0x5dc29f={'FqJbU':_0x7de1e3(0x2d8),'HMKyt':_0x7de1e3(0x108),'dpWan':function(_0x1fa64d,_0x4f24e2){return _0x1fa64d+_0x4f24e2;},'VFZMQ':function(_0x48204c,_0x2f666e){return _0x48204c+_0x2f666e;},'VHZMc':function(_0x52f60c,_0x3d6299){return _0x52f60c+_0x3d6299;},'BpxoX':function(_0xec087e,_0x5476da,_0x480cb1){return _0xec087e(_0x5476da,_0x480cb1);},'OybKq':function(_0x2dc386,_0x87d57e,_0x3007c6){return _0x2dc386(_0x87d57e,_0x3007c6);}},_0x54ba7a=_0x5dc29f['FqJbU'],_0x4dcc4a=_0x5dc29f[_0x7de1e3(0xaa)],_0x1a7979=(_0x4d178f,_0x5d6193)=>Array['from']({'length':_0x5d6193},()=>_0x4d178f[Math[_0x7de1e3(0x22c)](Math[_0x7de1e3(0x2f2)]()*_0x4d178f['length'])])[_0x7de1e3(0x395)]('');return _0x5dc29f[_0x7de1e3(0x37a)](_0x5dc29f[_0x7de1e3(0x22e)](_0x5dc29f[_0x7de1e3(0x1bb)](_0x1a7979(_0x4dcc4a,0x3),_0x5dc29f[_0x7de1e3(0x35f)](_0x1a7979,_0x54ba7a,0x3)),_0x5dc29f[_0x7de1e3(0x35f)](_0x1a7979,_0x4dcc4a,0x2)),_0x5dc29f[_0x7de1e3(0x39c)](_0x1a7979,_0x54ba7a,0x2));}function startInactivityTimer(){const _0x4a7b75=_0x5c2f74,_0x5537ba={'ILVJx':function(_0x42133e,_0x1982f4){return _0x42133e>_0x1982f4;},'mZqls':function(_0x39056b,_0x20493b){return _0x39056b-_0x20493b;},'uQrXw':function(_0x347bba,_0x7b0048){return _0x347bba*_0x7b0048;},'CnheV':function(_0x230c83,_0x51ae43){return _0x230c83!==_0x51ae43;},'riQoP':_0x4a7b75(0x2c4),'LiRNc':'Session\x20expired.','fkMPo':function(_0xa3b04f,_0x3a184f,_0x2cd8f8){return _0xa3b04f(_0x3a184f,_0x2cd8f8);}};_0x5537ba[_0x4a7b75(0xf0)](setInterval,()=>{const _0x38ac6a=_0x4a7b75;_0x5537ba[_0x38ac6a(0x2e1)](_0x5537ba[_0x38ac6a(0x1bc)](Date[_0x38ac6a(0x149)](),lastActivity),_0x5537ba['uQrXw'](_0x5537ba['uQrXw'](0x5,0x3c),0x3e8))&&_0x5537ba[_0x38ac6a(0x2c9)](roomCode,STATIC_ROOM)&&(db['ref'](_0x5537ba[_0x38ac6a(0x309)]+roomCode)[_0x38ac6a(0x2b1)]({'active':![]}),alert(_0x5537ba[_0x38ac6a(0x311)]),location[_0x38ac6a(0x166)]());},0x7530);}function setupSidebarBackHandler(){const _0x331991=_0x5c2f74,_0x619346={'XSJyo':_0x331991(0x369),'TOvLK':_0x331991(0xbf),'CTInM':_0x331991(0x1fc)};window['addEventListener'](_0x619346[_0x331991(0xcc)],()=>{const _0x548367=_0x331991,_0x3aa775=document[_0x548367(0x148)](_0x619346[_0x548367(0x173)]);_0x3aa775?.['classList']['contains'](_0x619346[_0x548367(0x16d)])&&_0x3aa775[_0x548367(0x21e)][_0x548367(0x251)](_0x619346[_0x548367(0x16d)]);});}function toggleSidebar(){const _0x169434=_0x5c2f74,_0x14374f={'MWFDY':'userSidebar','ozuLg':_0x169434(0xbf)},_0x4dc5be=document['getElementById'](_0x14374f['MWFDY']);if(!_0x4dc5be[_0x169434(0x21e)][_0x169434(0x2d6)](_0x14374f['ozuLg']))_0x4dc5be[_0x169434(0x21e)][_0x169434(0x175)](_0x14374f['ozuLg']),history[_0x169434(0xde)]({'sidebarOpen':!![]},'');else{_0x4dc5be['classList'][_0x169434(0x251)]('show');if(history[_0x169434(0x14f)]?.['sidebarOpen'])history[_0x169434(0x388)]();}}function setupVisibilityAttention(){const _0x4325d9=_0x5c2f74;let _0x4db88b=0x0,_0x51a099=document[_0x4325d9(0x316)];document['addEventListener'](_0x4325d9(0x1d1),()=>{const _0x598b3c=_0x4325d9;!document[_0x598b3c(0x163)]&&(document[_0x598b3c(0x316)]=_0x51a099,_0x4db88b=0x0);}),window[_0x4325d9(0x176)]=function(){const _0x17ce8d=_0x4325d9;document[_0x17ce8d(0x163)]&&(_0x4db88b++,document[_0x17ce8d(0x316)]='('+_0x4db88b+_0x17ce8d(0x329)+_0x51a099);};}function tryEditProfile(){const _0x45c94b=_0x5c2f74,_0x2cfc1e={'dLNBL':function(_0x486305,_0xffc3f6){return _0x486305(_0xffc3f6);}};_0x2cfc1e[_0x45c94b(0x106)](showScreen,_0x45c94b(0x1c7));}async function submitEditProfile(){const _0x149ceb=_0x5c2f74,_0x53d58b={'etlkB':_0x149ceb(0x1c8),'xeMSU':'editProfileError','tQFcS':'Please\x20enter\x20your\x20current\x20password.','juemA':_0x149ceb(0x134),'TAIPL':function(_0x125e56,_0x3aff2b){return _0x125e56(_0x3aff2b);},'EyXWp':_0x149ceb(0x2ce),'zVIYz':function(_0x4caeed,_0x523a00){return _0x4caeed!==_0x523a00;},'LHJIt':_0x149ceb(0x30b),'vmlFV':function(_0x285964,_0x2c5940){return _0x285964-_0x2c5940;},'PgKBW':_0x149ceb(0x1a5),'AvAjJ':function(_0x158466,_0x74b2c2){return _0x158466(_0x74b2c2);},'wpTIP':_0x149ceb(0xd8),'ZEZoK':function(_0x32242a,_0x2765b7){return _0x32242a(_0x2765b7);},'fAIrs':_0x149ceb(0x21a)},_0x5f5525=document['getElementById']('oldPasswordInput')['value'],_0x254f0e=document[_0x149ceb(0x148)](_0x53d58b[_0x149ceb(0x29c)])[_0x149ceb(0x314)],_0x52b7f8=document['getElementById'](_0x149ceb(0x280))[_0x149ceb(0x314)]['trim'](),_0x3a2f32=document[_0x149ceb(0x148)](_0x53d58b[_0x149ceb(0x33e)]);if(!_0x5f5525){_0x3a2f32['innerText']=_0x53d58b[_0x149ceb(0x264)],_0x3a2f32[_0x149ceb(0x109)]['display']=_0x53d58b[_0x149ceb(0x9d)];return;}const _0x59cf92=_0x53d58b['TAIPL'](sanitizeUsername,username),_0x23e172=await db['ref'](_0x149ceb(0xe2)+_0x59cf92)[_0x149ceb(0x2dc)]();if(!_0x23e172[_0x149ceb(0xc1)]()){_0x3a2f32[_0x149ceb(0x2c3)]=_0x53d58b['EyXWp'],_0x3a2f32[_0x149ceb(0x109)][_0x149ceb(0x2fc)]=_0x53d58b[_0x149ceb(0x9d)];return;}const _0x4c76cd=_0x23e172[_0x149ceb(0x197)](),_0x136306=await _0x53d58b[_0x149ceb(0x396)](sha256,_0x5f5525);if(_0x53d58b['zVIYz'](_0x136306,_0x4c76cd[_0x149ceb(0x2ad)])){_0x3a2f32[_0x149ceb(0x2c3)]=_0x53d58b[_0x149ceb(0x27a)],_0x3a2f32[_0x149ceb(0x109)][_0x149ceb(0x2fc)]=_0x53d58b[_0x149ceb(0x9d)];return;}const _0x2e4d71={};if(_0x254f0e){const _0x3d13a7=await _0x53d58b[_0x149ceb(0x396)](sha256,_0x254f0e);_0x2e4d71['passwordHash']=_0x3d13a7;}_0x53d58b[_0x149ceb(0x319)](_0x52b7f8,_0x4c76cd[_0x149ceb(0xa1)])&&(_0x2e4d71[_0x149ceb(0xa1)]=_0x52b7f8);const _0x35da8a=Date[_0x149ceb(0x149)](),_0x21b427=0x18*0x3c*0x3c*0x3e8,_0x840ffe=_0x53d58b[_0x149ceb(0x2ee)](_0x35da8a,_0x4c76cd[_0x149ceb(0x300)]||0x0)>_0x21b427;if(_0x840ffe&&_0x53d58b['TAIPL'](confirm,_0x53d58b[_0x149ceb(0x2a6)])){const _0x299f22=_0x53d58b[_0x149ceb(0x1b2)](prompt,_0x53d58b[_0x149ceb(0x387)]);_0x299f22&&_0x299f22['trim']()&&(_0x2e4d71[_0x149ceb(0x152)]=_0x299f22['trim'](),_0x2e4d71[_0x149ceb(0x19d)]=(_0x4c76cd[_0x149ceb(0x19d)]||[])[_0x149ceb(0x16f)](_0x299f22['trim']()),_0x2e4d71[_0x149ceb(0x300)]=_0x35da8a);}_0x2e4d71[_0x149ceb(0x152)]&&_0x53d58b[_0x149ceb(0x319)](_0x2e4d71[_0x149ceb(0x152)],_0x4c76cd[_0x149ceb(0x152)])?(await db[_0x149ceb(0xd2)](_0x149ceb(0xe2)+_0x53d58b[_0x149ceb(0x396)](sanitizeUsername,_0x2e4d71[_0x149ceb(0x152)]))[_0x149ceb(0x121)]({..._0x4c76cd,..._0x2e4d71}),await db[_0x149ceb(0xd2)](_0x149ceb(0xe2)+_0x59cf92)[_0x149ceb(0x251)](),username=_0x2e4d71[_0x149ceb(0x152)]):await db[_0x149ceb(0xd2)](_0x149ceb(0xe2)+_0x59cf92)[_0x149ceb(0x2b1)](_0x2e4d71),_0x53d58b['ZEZoK'](alert,_0x53d58b[_0x149ceb(0x339)]),location[_0x149ceb(0x166)]();}function cancelEditProfile(){const _0xc7ebbd=_0x5c2f74,_0x3656ed={'kBFyl':_0xc7ebbd(0x1c7),'xVZdN':_0xc7ebbd(0x2c8)};document['getElementById'](_0x3656ed[_0xc7ebbd(0x115)])[_0xc7ebbd(0x109)]['display']=_0xc7ebbd(0x305),showScreen(_0x3656ed['xVZdN']);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x28b1f8=_0x5c2f74,_0xee1999={'esacP':function(_0x5d79e4,_0x19b7b7){return _0x5d79e4(_0x19b7b7);},'iiGhL':function(_0x44b180){return _0x44b180();},'Erbfp':function(_0x2e4176,_0x25bfcc){return _0x2e4176(_0x25bfcc);},'UcMRZ':_0x28b1f8(0x314)};db['ref'](_0x28b1f8(0x1ad)+roomCode)['on'](_0xee1999[_0x28b1f8(0x1e1)],async _0x3e0f25=>{const _0x2f7bd6=_0x28b1f8;if(!_0x3e0f25['exists']())return;const _0x3b4f91=_0x3e0f25['val']();for(const _0x3d7ea8 in previousUsers){if(!_0x3b4f91[_0x3d7ea8])_0x3b4f91[_0x3d7ea8]=previousUsers[_0x3d7ea8];}_0xee1999[_0x2f7bd6(0x39d)](renderUserLists,_0x3b4f91),previousUsers=_0x3b4f91,await _0xee1999[_0x2f7bd6(0x315)](loadRoomRoles),_0xee1999[_0x2f7bd6(0x156)](renderUserLists,_0x3b4f91);});}function trackPresence(){const _0x24bc60=_0x5c2f74,_0x356ce7={'vjBmB':function(_0x2c0507){return _0x2c0507();},'pABPn':'system','ENrrm':function(_0x5d1be7,_0x470855){return _0x5d1be7||_0x470855;},'VkxWJ':function(_0x40054d,_0x82066e){return _0x40054d||_0x82066e;},'YVNTQ':function(_0x4bd31d,_0x410c1c){return _0x4bd31d||_0x410c1c;}};if(_0x356ce7[_0x24bc60(0x19b)](!username,!roomCode))return;const _0x3e9798=sanitizeUsername(username),_0x113b47=db[_0x24bc60(0xd2)]('users/'+roomCode+'/'+_0x3e9798),_0x587298={'username':username,'avatarBase64':_0x356ce7['VkxWJ'](avatarBase64,''),'description':_0x356ce7['YVNTQ'](userDescription,''),'online':!![],'lastOnline':firebase[_0x24bc60(0x20a)][_0x24bc60(0xed)][_0x24bc60(0x18a)]};_0x113b47[_0x24bc60(0x113)](_0x24bc60(0x314))[_0x24bc60(0x167)](_0x24f1c4=>{const _0x3dc8f2=_0x24bc60,_0x2b9eff={'nlkqk':function(_0xa4ea07){const _0x4a1945=_0x524e;return _0x356ce7[_0x4a1945(0x23d)](_0xa4ea07);},'gxjeu':_0x356ce7[_0x3dc8f2(0x10d)]},_0x5c1c20=_0x24f1c4[_0x3dc8f2(0x197)]()?.[_0x3dc8f2(0x1bf)];_0x113b47['set'](_0x587298)[_0x3dc8f2(0x167)](()=>{const _0xdd3656=_0x3dc8f2;_0x2b9eff[_0xdd3656(0x30c)](updateOnlineIndicator);if(!_0x5c1c20){const _0x268101=db[_0xdd3656(0xd2)]()['push']()[_0xdd3656(0x2e7)];db['ref'](_0xdd3656(0x2c4)+roomCode+_0xdd3656(0x343)+_0x268101)['set']({'msg':username+_0xdd3656(0x32b),'sender':_0x2b9eff[_0xdd3656(0x1ed)],'senderId':_0x2b9eff[_0xdd3656(0x1ed)],'timestamp':Date[_0xdd3656(0x149)]()});}_0x113b47[_0xdd3656(0x23c)]()[_0xdd3656(0x2b1)]({'online':![],'lastOnline':Date[_0xdd3656(0x149)]()});});});}function uploadSidebarAvatar(_0xeeded5){const _0x4a77e3=_0x5c2f74,_0x32c1fb={'MHSpK':'block','SMmXp':function(_0x13738e,_0x30c5dd){return _0x13738e(_0x30c5dd);},'yQYjc':function(_0x414b3f,_0x529d68){return _0x414b3f(_0x529d68);},'kMwCT':'✅\x20Profile\x20picture\x20updated!','AMAEP':_0x4a77e3(0x154)};if(!_0xeeded5[_0x4a77e3(0x110)][_0x4a77e3(0x27c)])return;const _0x32d440=_0xeeded5[_0x4a77e3(0x110)][0x0],_0x24dfbd=new FileReader();_0x24dfbd[_0x4a77e3(0x35d)]=async()=>{const _0x485440=_0x4a77e3,_0x2a5af8=_0x24dfbd[_0x485440(0x26d)]['split'](',')[0x1];document['getElementById'](_0x485440(0x273))[_0x485440(0x120)]=_0x24dfbd[_0x485440(0x26d)],document[_0x485440(0x148)](_0x485440(0x273))[_0x485440(0x109)][_0x485440(0x2fc)]=_0x32c1fb['MHSpK'];try{const _0x283af9=_0x32c1fb[_0x485440(0x34d)](sanitizeUsername,username);await db[_0x485440(0xd2)](_0x485440(0xe2)+_0x283af9+_0x485440(0x353))[_0x485440(0x121)](_0x2a5af8),_0x32c1fb[_0x485440(0x2cf)](alert,_0x32c1fb[_0x485440(0x1ea)]);}catch(_0x26585e){console['error'](_0x26585e),alert(_0x32c1fb[_0x485440(0x162)]);}},_0x24dfbd['readAsDataURL'](_0x32d440);}function muteUser(_0xb31b82,_0x3692b3){const _0x3f1d5d=_0x5c2f74,_0x28c2e5={'tEXXh':function(_0x366575,_0x251cc5){return _0x366575(_0x251cc5);},'BKJNO':function(_0x415ba0,_0x511b5b){return _0x415ba0+_0x511b5b;},'tjALA':function(_0x2e2ddd,_0x28bca1){return _0x2e2ddd*_0x28bca1;},'XmYOD':function(_0x3b5150,_0x42f102){return _0x3b5150*_0x42f102;},'HweOf':function(_0x458ddf,_0x585a9e){return _0x458ddf(_0x585a9e);}},_0x4c55f9=_0x28c2e5['BKJNO'](Date[_0x3f1d5d(0x149)](),_0x28c2e5[_0x3f1d5d(0x390)](_0x28c2e5['XmYOD'](_0x3692b3,0x3c),0x3e8));db[_0x3f1d5d(0xd2)](_0x3f1d5d(0x2fe)+roomCode+'/'+_0x28c2e5['HweOf'](sanitizeUsername,_0xb31b82))[_0x3f1d5d(0x121)]({'muteUntil':_0x4c55f9})[_0x3f1d5d(0x167)](()=>{const _0x2c5458=_0x3f1d5d;_0x28c2e5[_0x2c5458(0x26f)](alert,_0xb31b82+_0x2c5458(0x304)+_0x3692b3+'\x20minutes.'),_0x28c2e5['tEXXh'](addSystemMessage,_0xb31b82+_0x2c5458(0x15d)+_0x3692b3+'\x20minutes');});}function unmuteUser(_0x49f6c9){const _0x52219b=_0x5c2f74,_0x3f277d={'YHGTp':_0x52219b(0x185),'gdhpL':function(_0x36ed3d,_0x11558d){return _0x36ed3d(_0x11558d);}};if(!isRoomAdmin)return alert(_0x3f277d[_0x52219b(0x202)]);db[_0x52219b(0xd2)](_0x52219b(0x2fe)+roomCode+'/'+_0x3f277d[_0x52219b(0xa3)](sanitizeUsername,_0x49f6c9))[_0x52219b(0x251)]();}function updateOnlineIndicator(){const _0x312b02=_0x5c2f74,_0x408c56={'MeGFI':_0x312b02(0x216),'dgBtY':'#00ff88'},_0xd8f993=document[_0x312b02(0x148)](_0x408c56['MeGFI']);_0xd8f993[_0x312b02(0x2c3)]=_0x312b02(0x30d),_0xd8f993[_0x312b02(0x109)]['color']=_0x408c56[_0x312b02(0x2c1)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x457bf0){const _0x193c9e=_0x5c2f74,_0x1588be={'TuBIb':function(_0x27c47e,_0x5c555e){return _0x27c47e(_0x5c555e);},'AQYze':_0x193c9e(0x2ce),'SQeHa':_0x193c9e(0x1d4),'wAAOv':_0x193c9e(0x294),'fanmN':_0x193c9e(0xcd),'jyPsP':'profileContent','jipYv':'profileViewer','oAzkk':_0x193c9e(0x134)};db['ref']('auth/'+_0x457bf0)[_0x193c9e(0x2dc)]()[_0x193c9e(0x167)](_0x13530f=>{const _0x1cac6b=_0x193c9e;if(!_0x13530f[_0x1cac6b(0xc1)]())return _0x1588be['TuBIb'](alert,_0x1588be[_0x1cac6b(0x2b7)]);const _0x21c5f6=_0x13530f[_0x1cac6b(0x197)](),_0x2e4277=('\x0aName:\x20'+_0x21c5f6['username']+_0x1cac6b(0x331)+(_0x21c5f6[_0x1cac6b(0xa1)]||_0x1588be[_0x1cac6b(0x122)])+'\x0aUsername\x20History:\x20'+((_0x21c5f6['usernameHistory']||[])[_0x1cac6b(0x395)](',\x20')||_0x1588be[_0x1cac6b(0x240)])+_0x1cac6b(0x198)+(_0x21c5f6[_0x1cac6b(0x300)]?new Date(_0x21c5f6[_0x1cac6b(0x300)])[_0x1cac6b(0x1cf)]():_0x1588be[_0x1cac6b(0xb2)])+'\x0a\x20\x20\x20\x20')[_0x1cac6b(0x124)]();document['getElementById'](_0x1588be['jyPsP'])[_0x1cac6b(0x2c3)]=_0x2e4277,document[_0x1cac6b(0x148)](_0x1588be[_0x1cac6b(0x203)])[_0x1cac6b(0x109)][_0x1cac6b(0x2fc)]=_0x1588be[_0x1cac6b(0x327)];});}function initUsernameFlow(){const _0x453cd9=_0x5c2f74,_0x1ca2f4={'zIAjL':_0x453cd9(0x2a1),'RAgWA':function(_0x4bc260,_0x229b6d){return _0x4bc260(_0x229b6d);},'EtEGb':'roomChoiceScreen'},_0x5cb38e=localStorage[_0x453cd9(0x153)](_0x1ca2f4[_0x453cd9(0x12f)]);!_0x5cb38e?showScreen(_0x453cd9(0x385)):(username=_0x5cb38e,document[_0x453cd9(0x148)](_0x453cd9(0x32f))[_0x453cd9(0x2c3)]=username,_0x1ca2f4[_0x453cd9(0x160)](showScreen,_0x1ca2f4[_0x453cd9(0xb1)]));}function closeProfile(){const _0x4ecbb0=_0x5c2f74,_0x1ebeb8={'dOjkW':_0x4ecbb0(0x15a)};document[_0x4ecbb0(0x148)](_0x1ebeb8[_0x4ecbb0(0x2bc)])[_0x4ecbb0(0x109)][_0x4ecbb0(0x2fc)]='none';}function resetWebsiteData(){const _0x1fa8ae=_0x5c2f74,_0x55d9c5={'tSpdp':'notifications_enabled','QgbOe':_0x1fa8ae(0x1a2),'oOqRw':function(_0x3ea630,_0x144050){return _0x3ea630+_0x144050;}};try{const _0x36ead4=localStorage[_0x1fa8ae(0x153)](_0x55d9c5['tSpdp']);localStorage[_0x1fa8ae(0x372)](),sessionStorage[_0x1fa8ae(0x372)](),_0x36ead4&&localStorage[_0x1fa8ae(0xaf)](_0x55d9c5['tSpdp'],_0x36ead4);}catch(_0x163fff){}if(!username||!roomCode){const _0x3e9cbe=_0x55d9c5[_0x1fa8ae(0x18b)]['split']('|');let _0x4278cf=0x0;while(!![]){switch(_0x3e9cbe[_0x4278cf++]){case'0':roomCode=null;continue;case'1':pendingMessages=[];continue;case'2':clientId=_0x55d9c5[_0x1fa8ae(0x20b)]('_',Math[_0x1fa8ae(0x2f2)]()[_0x1fa8ae(0x1cd)](0x24)[_0x1fa8ae(0x376)](0x2,0x9));continue;case'3':isRoomAdmin=![];continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x1eca91=_0x5c2f74,_0x2d1e03={'SSxeU':function(_0xd0c06a,_0x59cc92){return _0xd0c06a(_0x59cc92);},'RJyuC':_0x1eca91(0x377)},_0x26e23a=_0x2d1e03[_0x1eca91(0x2bf)](prompt,_0x2d1e03[_0x1eca91(0x245)]);if(!_0x26e23a)return;db[_0x1eca91(0xd2)]('rooms/'+roomCode+'/announcement')['set']({'text':_0x26e23a,'by':username,'timestamp':Date[_0x1eca91(0x149)]()});}function listenForAnnouncement(){const _0x3b5607=_0x5c2f74,_0x149428={'sqQTH':_0x3b5607(0x271),'JGJqK':_0x3b5607(0x314)},_0x39ad5d=db[_0x3b5607(0xd2)](_0x3b5607(0x2c4)+roomCode+_0x3b5607(0x214));_0x39ad5d['on'](_0x149428[_0x3b5607(0x362)],_0x297ca6=>{const _0x44322b=_0x3b5607,_0x53d212=_0x297ca6[_0x44322b(0x197)]();if(!_0x53d212){document[_0x44322b(0x148)](_0x149428[_0x44322b(0x17f)])[_0x44322b(0x2c3)]='';return;}const _0x116b3d=document[_0x44322b(0x148)](_0x149428[_0x44322b(0x17f)]);_0x116b3d['innerText']=''+_0x53d212[_0x44322b(0x22a)];});}document['getElementById'](_0x5c2f74(0x271))[_0x5c2f74(0xc8)]('click',_0x7abe62=>{const _0x329fff=_0x5c2f74,_0x58e18b={'LmTDR':function(_0x42ca44,_0x1d8109){return _0x42ca44===_0x1d8109;},'XGstr':_0x329fff(0x389)};_0x58e18b[_0x329fff(0x282)](_0x7abe62[_0x329fff(0x358)],0x3)&&isRoomAdmin&&(confirm(_0x58e18b['XGstr'])&&db[_0x329fff(0xd2)](_0x329fff(0x2c4)+roomCode+_0x329fff(0x214))['remove']());}),document[_0x5c2f74(0x148)](_0x5c2f74(0x3a0))[_0x5c2f74(0xc8)]('input',()=>{const _0x4820c6=_0x5c2f74,_0x34fd88={'vXPId':_0x4820c6(0x3a0),'uNMuB':_0x4820c6(0x29a)},_0x443608=document[_0x4820c6(0x148)](_0x34fd88['vXPId']);_0x1bb08e?_0x443608[_0x4820c6(0x109)]['border']=_0x34fd88['uNMuB']:_0x443608[_0x4820c6(0x109)][_0x4820c6(0x277)]='';const _0x7c67b1=_0x443608[_0x4820c6(0x314)][_0x4820c6(0x1b4)](),_0x1bb08e=swearWords['some'](_0x3dd804=>_0x7c67b1[_0x4820c6(0x292)](_0x3dd804));_0x1bb08e?(_0x443608[_0x4820c6(0x109)][_0x4820c6(0x277)]=_0x34fd88[_0x4820c6(0x2c6)],sendBtn[_0x4820c6(0x11d)]=!![]):(_0x443608[_0x4820c6(0x109)]['border']='',_0x1bb08e?_0x443608[_0x4820c6(0x109)][_0x4820c6(0x277)]=_0x34fd88[_0x4820c6(0x2c6)]:_0x443608[_0x4820c6(0x109)][_0x4820c6(0x277)]='');});function muteUser(_0x4fe774,_0xa85454){const _0x4c8c79=_0x5c2f74,_0x5020fd={'LQEaL':function(_0x3463da,_0x3c7d1b){return _0x3463da+_0x3c7d1b;},'AOVcM':function(_0x2dc6c1,_0x126866){return _0x2dc6c1*_0x126866;}},_0x86aaaa=_0x5020fd[_0x4c8c79(0xb8)](Date[_0x4c8c79(0x149)](),_0x5020fd[_0x4c8c79(0x248)](_0xa85454*0x3c,0x3e8));db['ref'](_0x4c8c79(0x2fe)+roomCode+'/'+sanitizeUsername(_0x4fe774))[_0x4c8c79(0x121)]({'muteUntil':_0x86aaaa})[_0x4c8c79(0x167)](()=>{alert(_0x4fe774+'\x20muted\x20for\x20'+_0xa85454+'\x20minutes.');});}function deleteUserMessages(_0x3a1f9e){const _0x38ce76=_0x5c2f74,_0x391947={'OzGrC':_0x38ce76(0x2f9)};db['ref']('rooms/'+roomCode+_0x38ce76(0x138))[_0x38ce76(0x1a8)](_0x391947[_0x38ce76(0x259)])[_0x38ce76(0xf8)](_0x3a1f9e)['get']()[_0x38ce76(0x167)](_0x5788d4=>{const _0x4543a8=_0x38ce76;_0x5788d4[_0x4543a8(0xc0)](_0x54c71b=>{const _0x237727=_0x4543a8;db['ref']('rooms/'+roomCode+_0x237727(0x343)+_0x54c71b['key'])[_0x237727(0x251)]();}),alert(_0x4543a8(0x174)+_0x3a1f9e+_0x4543a8(0xae));});}function pauseRoom(_0x69479b){const _0x3dc1e3=_0x5c2f74,_0x52f710={'yYGbp':_0x3dc1e3(0x207),'QwZYB':_0x3dc1e3(0x134),'oiFxr':_0x3dc1e3(0x314)};db[_0x3dc1e3(0xd2)](_0x3dc1e3(0x2c4)+roomCode+_0x3dc1e3(0x1f5))['on'](_0x52f710[_0x3dc1e3(0x25d)],_0x477e7a=>{const _0xe2008d=_0x3dc1e3,_0x5368b3=_0x477e7a[_0xe2008d(0x197)]();document['getElementById'](_0x52f710[_0xe2008d(0xba)])[_0xe2008d(0x109)][_0xe2008d(0x2fc)]=_0x5368b3?_0x52f710[_0xe2008d(0x1f8)]:_0xe2008d(0x305);});}function canPerformAction(_0x24761f){const _0x15266c=_0x5c2f74,_0x3b3190={'FKfsM':function(_0x74f8f5,_0x4d19ff){return _0x74f8f5===_0x4d19ff;},'NeQvc':_0x15266c(0xc7),'AIlaK':'admin','HxmzY':function(_0x445283,_0x5e834b){return _0x445283===_0x5e834b;},'xnDdH':'moderator','nActW':_0x15266c(0x325),'yOvlE':_0x15266c(0x236),'MPvjC':function(_0x13a3eb,_0x55b46e){return _0x13a3eb===_0x55b46e;},'XLKwB':_0x15266c(0x287)},_0x17b8ba=_0x15266c(0x132)[_0x15266c(0x308)]('|');let _0xb10f9=0x0;while(!![]){switch(_0x17b8ba[_0xb10f9++]){case'0':if(_0x3b3190['FKfsM'](_0x24761f,_0x3b3190['NeQvc']))return _0x3b3190[_0x15266c(0x17a)](role,_0x3b3190[_0x15266c(0x189)])||_0x3b3190[_0x15266c(0x13b)](role,_0x3b3190[_0x15266c(0xbe)])||role==='mod';continue;case'1':if(_0x24761f===_0x3b3190[_0x15266c(0x35e)]||_0x3b3190[_0x15266c(0x17a)](_0x24761f,_0x15266c(0x236)))return _0x3b3190[_0x15266c(0x17a)](role,_0x3b3190['AIlaK']);continue;case'2':if(_0x3b3190[_0x15266c(0x13b)](_0x24761f,_0x3b3190[_0x15266c(0x24d)]))return role===_0x3b3190[_0x15266c(0x189)];continue;case'3':return![];case'4':if(_0x3b3190[_0x15266c(0x223)](role,_0x3b3190[_0x15266c(0x333)]))return!![];continue;}break;}}const html=Object['values'](roomUsers)[_0x5c2f74(0xee)](_0x17ace9=>{const _0x476aa7=_0x5c2f74,_0x200e26={'niQTI':function(_0x1834ad,_0x5bf483){return _0x1834ad!==_0x5bf483;},'UlRbH':function(_0xabd92c,_0x27aebf){return _0xabd92c(_0x27aebf);},'vfEoE':_0x476aa7(0xc7),'tjjjK':_0x476aa7(0x325),'XFBmz':function(_0xc88e8b,_0x30517a){return _0xc88e8b===_0x30517a;},'ucVUU':_0x476aa7(0x287),'smPWJ':function(_0x5b4432,_0x4b55ff){return _0x5b4432===_0x4b55ff;},'EUGLh':_0x476aa7(0x116)},_0x1940b1=sanitizeUsername(_0x17ace9[_0x476aa7(0x152)]),_0x13574c=[];if(_0x200e26[_0x476aa7(0x33c)](_0x1940b1,sanitizeUsername(username))){_0x200e26[_0x476aa7(0x16c)](canPerformAction,_0x200e26[_0x476aa7(0x111)])&&(_0x13574c[_0x476aa7(0x28e)](_0x476aa7(0x2a8)+_0x1940b1+_0x476aa7(0x1a7)),_0x13574c['push'](_0x476aa7(0x2a8)+_0x1940b1+_0x476aa7(0x256)));_0x200e26[_0x476aa7(0x16c)](canPerformAction,_0x200e26[_0x476aa7(0x382)])&&_0x13574c[_0x476aa7(0x28e)](_0x476aa7(0x209)+_0x1940b1+'\x27)\x22>Delete\x20Messages</button>');if(_0x200e26['XFBmz'](role,_0x200e26[_0x476aa7(0x2f1)]))_0x13574c[_0x476aa7(0x28e)](_0x476aa7(0x141)+_0x1940b1+_0x476aa7(0x1cb)),_0x13574c['push']('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x1940b1+_0x476aa7(0x16a));else _0x200e26['smPWJ'](role,_0x200e26[_0x476aa7(0x257)])&&_0x13574c[_0x476aa7(0x28e)](_0x476aa7(0x141)+_0x1940b1+_0x476aa7(0x1cb));}return _0x476aa7(0x27b)+_0x17ace9[_0x476aa7(0x152)]+'\x20'+_0x200e26[_0x476aa7(0x16c)](getRoleTag,_0x200e26['UlRbH'](sanitizeUsername,_0x17ace9[_0x476aa7(0x152)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x1940b1+_0x476aa7(0x101)+_0x13574c[_0x476aa7(0x395)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x1940b1+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>';})['join']('');function promoteToModerator(_0x20bf49){const _0x35402f=_0x5c2f74,_0x5075b4={'lUHoK':function(_0x4bafd3,_0x5eb157){return _0x4bafd3(_0x5eb157);},'DDsZD':function(_0x2cc0fc,_0x479045){return _0x2cc0fc(_0x479045);},'dRIqS':_0x35402f(0x19c),'EUaUb':function(_0x234fc8,_0x3c5946){return _0x234fc8!==_0x3c5946;},'UtPry':function(_0xbe2238,_0x41b8b9){return _0xbe2238!==_0x41b8b9;},'yXhKw':'Only\x20Devs\x20or\x20Admins\x20can\x20promote.'},_0x5da3ed=_0x5075b4[_0x35402f(0x2d4)](sanitizeUsername,_0x20bf49);if(isProtected(_0x5da3ed))return _0x5075b4[_0x35402f(0x2d4)](alert,_0x5075b4['dRIqS']);if(_0x5075b4['EUaUb'](role,_0x35402f(0x287))&&_0x5075b4[_0x35402f(0x194)](role,_0x35402f(0x116))){_0x5075b4[_0x35402f(0x18d)](alert,_0x5075b4['yXhKw']);return;}db[_0x35402f(0xd2)](_0x35402f(0x131)+roomCode+'/'+_0x5da3ed)[_0x35402f(0x121)](!![])[_0x35402f(0x167)](()=>{const _0x55296f=_0x35402f;_0x5075b4[_0x55296f(0x18d)](alert,_0x20bf49+_0x55296f(0x133)),_0x5075b4['lUHoK'](addSystemMessage,_0x20bf49+_0x55296f(0x201));});}function promoteToAdmin(_0x5d0b83){const _0x53360a=_0x5c2f74,_0x1eeb9b={'AkDhL':function(_0x3bd9ec,_0x30e211){return _0x3bd9ec(_0x30e211);},'bjhAt':function(_0x5764f2,_0x4671f1){return _0x5764f2(_0x4671f1);},'GsulL':function(_0x11cadf,_0x563fc6){return _0x11cadf(_0x563fc6);},'mgHbC':_0x53360a(0x19c),'pUiHn':_0x53360a(0x287),'OdOKF':function(_0xf840a9,_0x18780d){return _0xf840a9(_0x18780d);}},_0x5419ff=sanitizeUsername(_0x5d0b83);if(_0x1eeb9b[_0x53360a(0x143)](isProtected,_0x5419ff))return _0x1eeb9b['GsulL'](alert,_0x1eeb9b[_0x53360a(0x285)]);if(role!==_0x1eeb9b[_0x53360a(0x375)]){_0x1eeb9b[_0x53360a(0x398)](alert,_0x53360a(0xbd));return;}db[_0x53360a(0xd2)](_0x53360a(0x28b)+roomCode+'/'+_0x5419ff)[_0x53360a(0x121)](!![])[_0x53360a(0x167)](()=>{const _0x25f91c=_0x53360a;_0x1eeb9b[_0x25f91c(0x393)](alert,_0x5d0b83+_0x25f91c(0x250)),_0x1eeb9b[_0x25f91c(0x393)](addSystemMessage,_0x5d0b83+_0x25f91c(0x397));});}function toggleUserOptions(_0x1294c3){const _0x551efe=_0x5c2f74,_0x34ffc0={'ogZgx':function(_0x146c6f,_0x4c4e6f){return _0x146c6f===_0x4c4e6f;},'iXoNa':function(_0x5440ee,_0x3de517){return _0x5440ee===_0x3de517;},'cqwvx':_0x551efe(0x305),'FIMmW':_0x551efe(0x134)};(_0x34ffc0['ogZgx'](role,_0x551efe(0x287))||_0x34ffc0[_0x551efe(0x137)](role,'admin'))&&controls['push'](_0x551efe(0x190)+safeName+_0x551efe(0xd5));const _0x5747bb=document[_0x551efe(0x148)](_0x551efe(0x1cc)+_0x1294c3);_0x34ffc0[_0x551efe(0x137)](_0x5747bb['style']['display'],_0x34ffc0[_0x551efe(0x23b)])?_0x5747bb[_0x551efe(0x109)][_0x551efe(0x2fc)]=_0x34ffc0[_0x551efe(0xb9)]:_0x5747bb[_0x551efe(0x109)]['display']=_0x34ffc0[_0x551efe(0x23b)];}function demoteUser(_0x4140c2){const _0x1a8637=_0x5c2f74,_0x1212c5={'tgcDC':function(_0x40c3de,_0x5cc3aa){return _0x40c3de(_0x5cc3aa);},'xHqQf':function(_0x41ea84,_0x2165fd){return _0x41ea84===_0x2165fd;},'SzcNI':'dev','sKczm':function(_0xe9fe3e,_0x19f40e){return _0xe9fe3e(_0x19f40e);},'DakFQ':function(_0x43e6a0,_0x57222b){return _0x43e6a0(_0x57222b);},'nBzKz':'admin','XuCsa':function(_0x125060,_0x368acf){return _0x125060(_0x368acf);},'BVVlS':_0x1a8637(0x2cd)};if(_0x1212c5[_0x1a8637(0x147)](isProtected,_0x4140c2))return alert(_0x1a8637(0x1dc));if(_0x1212c5[_0x1a8637(0xb4)](role,_0x1212c5[_0x1a8637(0x1a4)]))db[_0x1a8637(0xd2)]('admins/'+roomCode+'/'+_0x4140c2)[_0x1a8637(0x251)](),db[_0x1a8637(0xd2)]('moderators/'+roomCode+'/'+_0x4140c2)[_0x1a8637(0x251)](),_0x1212c5[_0x1a8637(0x2a4)](alert,_0x4140c2+_0x1a8637(0x368)),_0x1212c5['DakFQ'](addSystemMessage,_0x4140c2+_0x1a8637(0x25a));else _0x1212c5[_0x1a8637(0xb4)](role,_0x1212c5['nBzKz'])?(db[_0x1a8637(0xd2)]('moderators/'+roomCode+'/'+_0x4140c2)[_0x1a8637(0x251)](),_0x1212c5[_0x1a8637(0x2a4)](alert,_0x4140c2+_0x1a8637(0x368)),_0x1212c5['XuCsa'](addSystemMessage,_0x4140c2+_0x1a8637(0x25a))):_0x1212c5[_0x1a8637(0x14d)](alert,_0x1212c5[_0x1a8637(0x37b)]);}function getRoleTag(_0x3c30b4){const _0x2fd2ce=_0x5c2f74,_0x20ed3b={'ujvgK':function(_0x1ab480,_0x777b80){return _0x1ab480(_0x777b80);}},_0x3b1c03=_0x20ed3b['ujvgK'](sanitizeUsername,_0x3c30b4);if(globalDevs['includes'](_0x3b1c03))return _0x2fd2ce(0xfc);if(roomAdmins[_0x2fd2ce(0x292)](_0x3b1c03))return _0x2fd2ce(0x228);if(roomModerators[_0x2fd2ce(0x292)](_0x3b1c03))return _0x2fd2ce(0x22f);return'';}async function loadRoomRoles(){const _0x2e5237=_0x5c2f74,_0x54f515={'GrWSS':_0x2e5237(0x15c),'yfdXe':'admin','sLqSF':_0x2e5237(0x1d6),'WOJsI':_0x2e5237(0x20c)},_0x51505e=sanitizeUsername(username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x43506c=await db[_0x2e5237(0xd2)](_0x54f515['GrWSS'])[_0x2e5237(0x2dc)]();_0x43506c[_0x2e5237(0xc0)](_0x3c070e=>{const _0x441cf3=_0x2e5237;if(_0x3c070e[_0x441cf3(0x197)]()[_0x441cf3(0x188)]==='dev')globalDevs[_0x441cf3(0x28e)](_0x3c070e[_0x441cf3(0x2e7)]);});const _0x498168=await db[_0x2e5237(0xd2)](_0x2e5237(0x28b)+roomCode)[_0x2e5237(0x2dc)]();_0x498168[_0x2e5237(0xc1)]()&&_0x498168['forEach'](_0xc78c5=>roomAdmins['push'](_0xc78c5[_0x2e5237(0x2e7)]));const _0x32c7f3=await db[_0x2e5237(0xd2)]('moderators/'+roomCode)['get']();_0x32c7f3[_0x2e5237(0xc1)]()&&_0x32c7f3[_0x2e5237(0xc0)](_0x43c632=>roomModerators['push'](_0x43c632[_0x2e5237(0x2e7)]));if(globalDevs[_0x2e5237(0x292)](_0x51505e))role=_0x2e5237(0x287);else{if(roomAdmins['includes'](_0x51505e))role=_0x54f515[_0x2e5237(0x2b2)];else roomModerators[_0x2e5237(0x292)](_0x51505e)?role=_0x54f515['sLqSF']:role=_0x54f515['WOJsI'];}}async function renderUserLists(_0x5bd035){const _0x39c4ab=_0x5c2f74,_0x58bd78={'nICAr':function(_0x3a4d75,_0x4549f4){return _0x3a4d75(_0x4549f4);},'efSCl':function(_0x5725de,_0x1d7985){return _0x5725de(_0x1d7985);},'aegir':function(_0x467c27,_0x311df9){return _0x467c27===_0x311df9;},'GITcH':_0x39c4ab(0xf9),'bOvTp':_0x39c4ab(0x116),'CsUVv':_0x39c4ab(0x287),'MdpPs':function(_0x8e944,_0x1b69fb){return _0x8e944(_0x1b69fb);},'JCWGW':_0x39c4ab(0x1d6),'OaVpq':_0x39c4ab(0x3a2),'EVzTg':_0x39c4ab(0x134),'wXMdW':_0x39c4ab(0x1ee),'oOVWV':'adminUserList'};roomUsers=_0x5bd035;const _0x3ec1d1=sanitizeUsername(username),_0x3cf266=[_0x58bd78[_0x39c4ab(0x1a0)],_0x58bd78[_0x39c4ab(0x361)],_0x58bd78[_0x39c4ab(0x2ea)],_0x58bd78[_0x39c4ab(0xff)]][_0x39c4ab(0x292)](role);document[_0x39c4ab(0x148)](_0x58bd78[_0x39c4ab(0x158)])['style'][_0x39c4ab(0x2fc)]=_0x3cf266?_0x58bd78[_0x39c4ab(0x274)]:_0x39c4ab(0x305);const _0x4cda41=Object[_0x39c4ab(0x233)](_0x5bd035)['map'](async([_0x17bd1c,_0x3d221d])=>{const _0x4a975f=_0x39c4ab,_0x522813=sanitizeUsername(_0x3d221d['username']||_0x17bd1c),_0x4b09cd=await _0x58bd78[_0x4a975f(0x191)](fetchAvatar,_0x522813),_0x3f0f77=_0x4b09cd?_0x4a975f(0x217)+_0x4b09cd+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x34cc0d=_0x3d221d[_0x4a975f(0x1bf)]?_0x4a975f(0xeb):_0x4a975f(0x1e0);return'<li>'+_0x3f0f77+'\x20'+_0x34cc0d+_0x4a975f(0x26c)+_0x522813+_0x4a975f(0xad)+(_0x3d221d['username']||_0x17bd1c)+'</span>\x20'+_0x58bd78[_0x4a975f(0x191)](getRoleTag,_0x522813)+_0x4a975f(0x151);});document[_0x39c4ab(0x148)](_0x58bd78[_0x39c4ab(0x1f4)])[_0x39c4ab(0x178)]=(await Promise[_0x39c4ab(0x2d7)](_0x4cda41))[_0x39c4ab(0x395)]('');if(!_0x3cf266)return;const _0x238eaa=Object[_0x39c4ab(0x233)](_0x5bd035)[_0x39c4ab(0xee)](async([_0x3f0630,_0x52dd6d])=>{const _0x3191a3=_0x39c4ab,_0x59c38e=_0x58bd78[_0x3191a3(0x161)](sanitizeUsername,_0x52dd6d[_0x3191a3(0x152)]||_0x3f0630);if(_0x58bd78['aegir'](_0x59c38e,_0x3ec1d1))return'';const _0x1f5bdd=globalDevs[_0x3191a3(0x292)](_0x59c38e),_0x17bb72=await fetchAvatar(_0x59c38e),_0x141ac2=_0x17bb72?_0x3191a3(0x217)+_0x17bb72+_0x3191a3(0xec):'',_0x1ac85b=_0x52dd6d[_0x3191a3(0x1bf)]?_0x3191a3(0xeb):_0x3191a3(0x1e0),_0x18eec4=[];if(!_0x1f5bdd){[_0x58bd78[_0x3191a3(0xff)],_0x3191a3(0x1d6),_0x58bd78[_0x3191a3(0x361)],_0x58bd78[_0x3191a3(0x1a0)]][_0x3191a3(0x292)](role)&&(_0x18eec4[_0x3191a3(0x28e)](_0x3191a3(0x2a8)+_0x59c38e+_0x3191a3(0xe8)),_0x18eec4[_0x3191a3(0x28e)](_0x3191a3(0x2a8)+_0x59c38e+_0x3191a3(0x1a7)),_0x18eec4[_0x3191a3(0x28e)]('<button\x20onclick=\x22muteUser(\x27'+_0x59c38e+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x58bd78[_0x3191a3(0x31a)](role,_0x58bd78[_0x3191a3(0x1a0)]))_0x18eec4['push'](_0x3191a3(0x141)+_0x59c38e+_0x3191a3(0x1f6)),_0x18eec4[_0x3191a3(0x28e)](_0x3191a3(0x219)+_0x59c38e+_0x3191a3(0x239)),_0x18eec4[_0x3191a3(0x28e)](_0x3191a3(0x190)+_0x59c38e+_0x3191a3(0xd5));else _0x58bd78[_0x3191a3(0x31a)](role,_0x58bd78[_0x3191a3(0x361)])&&(_0x18eec4['push'](_0x3191a3(0x141)+_0x59c38e+_0x3191a3(0x1f6)),_0x18eec4[_0x3191a3(0x28e)](_0x3191a3(0x190)+_0x59c38e+_0x3191a3(0xd5)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x141ac2+'\x20'+_0x1ac85b+_0x3191a3(0xb5)+(_0x52dd6d[_0x3191a3(0x152)]||_0x3f0630)+'\x20'+_0x58bd78[_0x3191a3(0x128)](getRoleTag,_0x59c38e)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x18eec4[_0x3191a3(0x395)]('\x20')+_0x3191a3(0x1c0);});document[_0x39c4ab(0x148)](_0x58bd78[_0x39c4ab(0x260)])[_0x39c4ab(0x178)]=(await Promise[_0x39c4ab(0x2d7)](_0x238eaa))[_0x39c4ab(0x395)]('');}function updateAnnouncementVisibility(){const _0x5e6bc1=_0x5c2f74,_0x5a77f4={'fRTTc':function(_0x32d471,_0x4c7a2f){return _0x32d471===_0x4c7a2f;},'CCqlZ':_0x5e6bc1(0x116),'vCxas':_0x5e6bc1(0x287),'AdSDW':_0x5e6bc1(0x134),'HpnXo':_0x5e6bc1(0x305)},_0x48e7b8=document[_0x5e6bc1(0x148)](_0x5e6bc1(0xbc));_0x5a77f4[_0x5e6bc1(0x34a)](role,_0x5a77f4[_0x5e6bc1(0x16e)])||_0x5a77f4[_0x5e6bc1(0x34a)](role,_0x5a77f4['vCxas'])?_0x48e7b8[_0x5e6bc1(0x109)][_0x5e6bc1(0x2fc)]=_0x5a77f4[_0x5e6bc1(0x12e)]:_0x48e7b8[_0x5e6bc1(0x109)][_0x5e6bc1(0x2fc)]=_0x5a77f4[_0x5e6bc1(0x383)];}async function fetchAvatar(_0x22f3a7){const _0x1ee44f=_0x5c2f74;if(userAvatars[_0x22f3a7])return userAvatars[_0x22f3a7];const _0xe8923b=await db[_0x1ee44f(0xd2)](_0x1ee44f(0xe2)+_0x22f3a7)[_0x1ee44f(0x2dc)]();if(_0xe8923b[_0x1ee44f(0xc1)]()&&_0xe8923b[_0x1ee44f(0x197)]()[_0x1ee44f(0x1b1)])return userAvatars[_0x22f3a7]=_0xe8923b[_0x1ee44f(0x197)]()['avatarBase64'],userAvatars[_0x22f3a7];return null;}function sendTyping(){const _0x5abaf2=_0x5c2f74,_0xcca740={'Qicqw':function(_0x514780,_0x35a7e4){return _0x514780(_0x35a7e4);},'pNXkl':function(_0x43428c,_0x538769,_0x5127de){return _0x43428c(_0x538769,_0x5127de);}},_0x238dc3=_0xcca740[_0x5abaf2(0x272)](sanitizeUsername,username),_0x47ce19=Date[_0x5abaf2(0x149)]();db[_0x5abaf2(0xd2)](_0x5abaf2(0x2ab)+roomCode+'/'+_0x238dc3)['set'](_0x47ce19);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=_0xcca740[_0x5abaf2(0xb0)](setTimeout,()=>{const _0x5cfab3=_0x5abaf2;db[_0x5cfab3(0xd2)]('typing/'+roomCode+'/'+_0x238dc3)['remove']();},0x1f4);}function listenForTyping(){const _0x2da4c4=_0x5c2f74,_0x4df8e2={'SnUfJ':_0x2da4c4(0x10c),'kPyUM':_0x2da4c4(0x314)};db[_0x2da4c4(0xd2)](_0x2da4c4(0x2ab)+roomCode)['on'](_0x4df8e2[_0x2da4c4(0x252)],_0x3d81bf=>{const _0x70f302=_0x2da4c4,_0x35df17=document['getElementById'](_0x4df8e2[_0x70f302(0xac)]);if(!_0x3d81bf[_0x70f302(0xc1)]())return _0x35df17[_0x70f302(0x2c3)]='';const _0x46f10c=Date[_0x70f302(0x149)](),_0x31dbc8=Object[_0x70f302(0x233)](_0x3d81bf[_0x70f302(0x197)]())['filter'](([_0x42d7f3,_0x445b9e])=>_0x42d7f3!==sanitizeUsername(username)&&_0x46f10c-_0x445b9e<0x1388)['map'](([_0x473b62])=>_0x473b62);_0x35df17[_0x70f302(0x2c3)]=_0x31dbc8[_0x70f302(0x27c)]?_0x31dbc8['join'](',\x20')+_0x70f302(0x348):'';});}function _0x524e(_0x57a55b,_0x12c120){const _0x28d5fb=_0x28d5();return _0x524e=function(_0x524ebd,_0x2a6395){_0x524ebd=_0x524ebd-0x96;let _0xf3b546=_0x28d5fb[_0x524ebd];return _0xf3b546;},_0x524e(_0x57a55b,_0x12c120);}function watchMuteStatus(){const _0x5ef4f8=_0x5c2f74,_0x2f9a21={'SlDAt':function(_0x5324ab,_0x33bac9){return _0x5324ab>_0x33bac9;},'IkZLy':function(_0x36dd0a,_0x3ec2b5){return _0x36dd0a(_0x3ec2b5);},'gErRq':_0x5ef4f8(0x3a0),'IaemL':_0x5ef4f8(0x2cc),'dUUiP':function(_0x9907f7,_0x495626){return _0x9907f7===_0x495626;},'VBrZa':_0x5ef4f8(0x34e),'YztqI':'⛔\x20You\x20are\x20muted.','JmPBO':function(_0x129050,_0x15ad04,_0x1d3bc2){return _0x129050(_0x15ad04,_0x1d3bc2);}},_0x2ad9e9=db[_0x5ef4f8(0xd2)](_0x5ef4f8(0x2fe)+roomCode+'/'+sanitizeUsername(username));let _0x4bac47;_0x2ad9e9['on'](_0x5ef4f8(0x314),_0x4da527=>{const _0x5df168=_0x5ef4f8;_0x2f9a21[_0x5df168(0xfa)](clearInterval,_0x4bac47);const _0x4cf983=document[_0x5df168(0x148)](_0x2f9a21['gErRq']);if(!_0x4da527['exists']()){_0x4cf983['disabled']=![],_0x4cf983[_0x5df168(0x2b3)]=_0x2f9a21['IaemL'];return;}const _0x4d96b5=_0x4da527[_0x5df168(0x197)](),_0x49fb45=_0x2f9a21[_0x5df168(0x2e9)](typeof _0x4d96b5,_0x2f9a21[_0x5df168(0x215)])&&_0x4d96b5['muteUntil']?_0x4d96b5[_0x5df168(0x186)]:_0x4d96b5;_0x2f9a21['SlDAt'](_0x49fb45,Date[_0x5df168(0x149)]())?(_0x4cf983[_0x5df168(0x11d)]=!![],_0x4cf983['placeholder']=_0x2f9a21[_0x5df168(0x1d5)],_0x4bac47=_0x2f9a21[_0x5df168(0xe5)](setInterval,()=>{const _0x5e1580=_0x5df168;_0x2f9a21[_0x5e1580(0x169)](Date['now'](),_0x49fb45)&&_0x2ad9e9[_0x5e1580(0x251)]();},0xbb8)):(_0x4cf983[_0x5df168(0x11d)]=![],_0x4cf983[_0x5df168(0x2b3)]=_0x2f9a21[_0x5df168(0x97)],_0x2ad9e9[_0x5df168(0x251)]());});}function isProtected(_0x5e1296){const _0x29baab=_0x5c2f74;return globalDevs[_0x29baab(0x292)](_0x5e1296);}function addSystemMessage(_0x464a84){const _0x3dee98=_0x5c2f74,_0x3ecd7b={'Juvqk':_0x3dee98(0x204),'EGGlK':_0x3dee98(0x342),'AMIks':'0.8rem','ujAkz':_0x3dee98(0x30e),'fosjr':_0x3dee98(0x347),'UEzQF':_0x3dee98(0x218)},_0x3deff0=document['createElement'](_0x3ecd7b[_0x3dee98(0x1ef)]);_0x3deff0[_0x3dee98(0x109)][_0x3dee98(0x307)]=_0x3ecd7b['EGGlK'],_0x3deff0[_0x3dee98(0x109)][_0x3dee98(0x35b)]=_0x3ecd7b[_0x3dee98(0x34f)],_0x3deff0['style'][_0x3dee98(0x1c4)]=_0x3ecd7b[_0x3dee98(0x2d5)],_0x3deff0[_0x3dee98(0x109)]['margin']=_0x3ecd7b[_0x3dee98(0x155)],_0x3deff0[_0x3dee98(0x2c3)]=_0x464a84,document['getElementById'](_0x3ecd7b[_0x3dee98(0x243)])[_0x3dee98(0xf7)](_0x3deff0),document[_0x3dee98(0x148)](_0x3ecd7b[_0x3dee98(0x243)])['scrollTop']=document[_0x3dee98(0x148)](_0x3ecd7b[_0x3dee98(0x243)])[_0x3dee98(0x37d)];}function reactToMessage(_0x9d7e8e,_0x17bcc9){const _0x4554f2=_0x5c2f74,_0x1df049={'RsxbR':function(_0x448847,_0x5114d6){return _0x448847(_0x5114d6);},'TdNrZ':_0x4554f2(0x314)},_0x4cd3d3=_0x1df049[_0x4554f2(0x24c)](sanitizeUsername,username),_0x5be0b1=db['ref'](_0x4554f2(0x2c4)+roomCode+_0x4554f2(0x343)+_0x9d7e8e+'/reactions');_0x5be0b1[_0x4554f2(0x113)](_0x1df049['TdNrZ'])['then'](_0x35dd54=>{const _0x1ceefc=_0x4554f2,_0x2f0201=_0x35dd54[_0x1ceefc(0x197)]()||{},_0x546ede={};for(const [_0x27d5e5,_0x429571]of Object['entries'](_0x2f0201)){_0x546ede[_0x27d5e5]=(_0x429571||[])[_0x1ceefc(0x2a2)](_0x59c60e=>_0x59c60e!==_0x4cd3d3);}if(!_0x2f0201[_0x17bcc9]||!_0x2f0201[_0x17bcc9][_0x1ceefc(0x292)](_0x4cd3d3)){if(!_0x546ede[_0x17bcc9])_0x546ede[_0x17bcc9]=[];_0x546ede[_0x17bcc9]['push'](_0x4cd3d3);}_0x5be0b1[_0x1ceefc(0x121)](_0x546ede);});}function startSidebarSyncLoop(){const _0x39f0c6={'KSzDx':function(_0x57f012,_0x351008){return _0x57f012(_0x351008);},'uEUEZ':function(_0x8a7da1,_0x5e6291,_0x29b75d){return _0x8a7da1(_0x5e6291,_0x29b75d);}};_0x39f0c6['uEUEZ'](setInterval,async()=>{const _0x32b1ac=_0x524e;if(!roomCode)return;const _0x4dc8ef=await db[_0x32b1ac(0xd2)](_0x32b1ac(0x1ad)+roomCode)['get']();if(_0x4dc8ef['exists']()){const _0x3d2a63=_0x4dc8ef['val']();_0x39f0c6[_0x32b1ac(0x34b)](renderUserLists,_0x3d2a63);}},0x1388);}