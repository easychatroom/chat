const _0x46b823=_0x33ee;(function(_0x3858a3,_0x281632){const _0x4e8c16=_0x33ee,_0x146a0b=_0x3858a3();while(!![]){try{const _0x2b8c58=parseInt(_0x4e8c16(0x28f))/0x1*(parseInt(_0x4e8c16(0x395))/0x2)+parseInt(_0x4e8c16(0x233))/0x3*(-parseInt(_0x4e8c16(0x2ce))/0x4)+-parseInt(_0x4e8c16(0x1d5))/0x5*(parseInt(_0x4e8c16(0x216))/0x6)+-parseInt(_0x4e8c16(0x223))/0x7+parseInt(_0x4e8c16(0x389))/0x8*(-parseInt(_0x4e8c16(0x3b1))/0x9)+-parseInt(_0x4e8c16(0x388))/0xa*(-parseInt(_0x4e8c16(0x236))/0xb)+parseInt(_0x4e8c16(0x270))/0xc;if(_0x2b8c58===_0x281632)break;else _0x146a0b['push'](_0x146a0b['shift']());}catch(_0x1290eb){_0x146a0b['push'](_0x146a0b['shift']());}}}(_0x2437,0x61dd2));const firebaseConfig={'apiKey':_0x46b823(0x222),'authDomain':_0x46b823(0x320),'databaseURL':_0x46b823(0x234),'projectId':'easy-chatroom','storageBucket':_0x46b823(0x3b2),'messagingSenderId':_0x46b823(0x26a),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x46b823(0x3c5)};firebase['initializeApp'](firebaseConfig);const db=firebase['database']();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x46b823(0x2db),'shit','bitch',_0x46b823(0x31a),'bastard',_0x46b823(0x255),_0x46b823(0x325),_0x46b823(0x235),'mierda','pendejo','coño',_0x46b823(0x3cb),_0x46b823(0x1fa),_0x46b823(0x2b3),_0x46b823(0x245),'merda','puta',_0x46b823(0x36b),_0x46b823(0x3cd),_0x46b823(0x20f),_0x46b823(0x314),_0x46b823(0x2a1),_0x46b823(0x1f7),_0x46b823(0x36a),_0x46b823(0x24e),_0x46b823(0x2d6)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x46b823(0x359)]()['toString'](0x24)[_0x46b823(0x2ec)](0x2,0x9),lastActivity=Date[_0x46b823(0x293)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x46b823(0x1db),MAX_MESSAGES=0xfa,sound=new Audio(_0x46b823(0x268));sound[_0x46b823(0x2fa)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];function _0x33ee(_0x285670,_0x227c9a){const _0x2437d2=_0x2437();return _0x33ee=function(_0x33ee3a,_0x2201fb){_0x33ee3a=_0x33ee3a-0x1b4;let _0x50e0df=_0x2437d2[_0x33ee3a];return _0x50e0df;},_0x33ee(_0x285670,_0x227c9a);}async function generateDeviceId(){const _0x25702a=_0x46b823,_0x1a944a={'OaizH':function(_0x1d7cc8,_0x7bff6){return _0x1d7cc8+_0x7bff6;},'cXdxU':function(_0x443a64,_0x1fb5fa){return _0x443a64(_0x1fb5fa);}},_0x3a18c6=_0x1a944a[_0x25702a(0x3e4)](navigator[_0x25702a(0x20b)],screen['width'])+screen[_0x25702a(0x279)],_0x56c121=await _0x1a944a[_0x25702a(0x35f)](sha256,_0x3a18c6);return _0x1a944a[_0x25702a(0x3e4)]('_',_0x56c121['substr'](0x0,0x14));}function sha256(_0x306643){const _0x1a1639=_0x46b823,_0x476fb8=new TextEncoder()['encode'](_0x306643);return crypto[_0x1a1639(0x26e)][_0x1a1639(0x331)](_0x1a1639(0x319),_0x476fb8)[_0x1a1639(0x25d)](_0x1e2f28=>{const _0x400aef=_0x1a1639;return Array[_0x400aef(0x3bc)](new Uint8Array(_0x1e2f28))[_0x400aef(0x218)](_0x7cef73=>_0x7cef73[_0x400aef(0x262)](0x10)[_0x400aef(0x29e)](0x2,'0'))['join']('');});}function toggleNotifications(){const _0x2bc409=_0x46b823,_0x2e9870={'eSvKE':_0x2bc409(0x1ef),'eMCQj':_0x2bc409(0x38e),'CEkvP':function(_0x116bea,_0x5273cb){return _0x116bea!==_0x5273cb;},'QRiDj':_0x2bc409(0x254),'ixAwF':'🔔\x20Enable\x20Notifications'};_0x2e9870[_0x2bc409(0x2b1)](Notification[_0x2bc409(0x29b)],_0x2e9870[_0x2bc409(0x240)])?Notification[_0x2bc409(0x27b)]()[_0x2bc409(0x25d)](_0x5c3f20=>{const _0x2dd5f2=_0x2bc409;_0x5c3f20===_0x2dd5f2(0x254)&&(notificationsEnabled=!![],document[_0x2dd5f2(0x3e0)](_0x2e9870[_0x2dd5f2(0x3dc)])[_0x2dd5f2(0x3cc)]=_0x2e9870[_0x2dd5f2(0x3b3)]);}):(notificationsEnabled=!notificationsEnabled,document[_0x2bc409(0x3e0)](_0x2e9870[_0x2bc409(0x3dc)])[_0x2bc409(0x3cc)]=notificationsEnabled?_0x2e9870[_0x2bc409(0x3b3)]:_0x2e9870[_0x2bc409(0x258)]);}function toggleAuthMode(){const _0x21c82d=_0x46b823,_0x4cdbec={'YKkAC':_0x21c82d(0x1e9),'UcLeq':_0x21c82d(0x286),'DFIig':_0x21c82d(0x35a),'ipaoi':_0x21c82d(0x1b8),'cXGkO':'authError','JgjQc':_0x21c82d(0x2dc),'WgGtj':_0x21c82d(0x208),'mQgFq':_0x21c82d(0x1ca),'qdmyW':_0x21c82d(0x241)},_0x5e7765=_0x4cdbec['YKkAC'][_0x21c82d(0x390)]('|');let _0x38d075=0x0;while(!![]){switch(_0x5e7765[_0x38d075++]){case'0':document[_0x21c82d(0x3e0)](_0x4cdbec[_0x21c82d(0x24c)])[_0x21c82d(0x355)][_0x21c82d(0x27a)]=isRegisterMode?_0x4cdbec['DFIig']:_0x4cdbec[_0x21c82d(0x35c)];continue;case'1':document[_0x21c82d(0x3e0)](_0x4cdbec['cXGkO'])[_0x21c82d(0x355)]['display']=_0x4cdbec[_0x21c82d(0x35c)];continue;case'2':document[_0x21c82d(0x3e0)](_0x21c82d(0x379))[_0x21c82d(0x355)][_0x21c82d(0x27a)]=isRegisterMode?_0x4cdbec[_0x21c82d(0x3b0)]:'none';continue;case'3':document[_0x21c82d(0x3e0)](_0x21c82d(0x360))[_0x21c82d(0x3cc)]=isRegisterMode?_0x21c82d(0x1e8):_0x4cdbec[_0x21c82d(0x220)];continue;case'4':document['getElementById'](_0x4cdbec[_0x21c82d(0x244)])[_0x21c82d(0x355)][_0x21c82d(0x27a)]=isRegisterMode?_0x21c82d(0x35a):_0x21c82d(0x1b8);continue;case'5':document[_0x21c82d(0x3e0)](_0x4cdbec['mQgFq'])['innerText']=isRegisterMode?'Register':_0x21c82d(0x2dc);continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x21c82d(0x3e0)](_0x4cdbec[_0x21c82d(0x2da)])['style'][_0x21c82d(0x27a)]=_0x4cdbec[_0x21c82d(0x35c)];continue;}break;}}function previewAvatar(){const _0x5c976f=_0x46b823,_0x4b60d6={'Jwoun':'authAvatarPreview','VOCfT':_0x5c976f(0x286)},_0x2c044f=document[_0x5c976f(0x3e0)](_0x4b60d6[_0x5c976f(0x361)]);if(!_0x2c044f[_0x5c976f(0x2ae)][_0x5c976f(0x2c2)])return;const _0x37cc69=new FileReader();_0x37cc69[_0x5c976f(0x1f3)]=()=>{const _0x1c56b5=_0x5c976f;document[_0x1c56b5(0x3e0)](_0x4b60d6[_0x1c56b5(0x203)])[_0x1c56b5(0x2b2)]=_0x37cc69[_0x1c56b5(0x3c6)],document['getElementById'](_0x4b60d6[_0x1c56b5(0x203)])['style'][_0x1c56b5(0x27a)]=_0x1c56b5(0x35a);},_0x37cc69[_0x5c976f(0x312)](_0x2c044f[_0x5c976f(0x2ae)][0x0]);}async function submitAuth(){const _0x30c1b1=_0x46b823,_0x42fc0f={'RSMkU':function(_0x4e852e,_0x504783){return _0x4e852e||_0x504783;},'IqtoG':_0x30c1b1(0x317),'GKwwC':'authUsername','tDyuf':_0x30c1b1(0x2fd),'lyJCp':'authPasswordConfirm','HcqgN':_0x30c1b1(0x208),'yViCo':_0x30c1b1(0x286),'fCsdE':_0x30c1b1(0x1ce),'YDdJe':'none','NFQRl':function(_0x15da36,_0xa438da){return _0x15da36||_0xa438da;},'yssPQ':_0x30c1b1(0x2c5),'TkHsZ':function(_0x1a446d,_0x1e7724){return _0x1a446d(_0x1e7724);},'cnDVF':_0x30c1b1(0x1f0),'CzuNr':'block','nJxTr':function(_0x49172c,_0x120da8){return _0x49172c!==_0x120da8;},'uIJsN':function(_0x220055,_0x5ea879){return _0x220055(_0x5ea879);},'jMobg':function(_0x1219c3){return _0x1219c3();},'MiPky':_0x30c1b1(0x2cb),'Ggdky':function(_0x5ecdfb){return _0x5ecdfb();},'hUszb':_0x30c1b1(0x3d7),'pnETJ':function(_0x2a8558,_0x2e4848){return _0x2a8558!==_0x2e4848;},'gwUBx':_0x30c1b1(0x324)},_0x38ee56=document[_0x30c1b1(0x3e0)](_0x42fc0f[_0x30c1b1(0x311)])[_0x30c1b1(0x3c2)]['trim'](),_0x15ad7f=document[_0x30c1b1(0x3e0)](_0x42fc0f[_0x30c1b1(0x2c3)])[_0x30c1b1(0x3c2)]['trim'](),_0x3e2a7b=document[_0x30c1b1(0x3e0)](_0x42fc0f[_0x30c1b1(0x298)])[_0x30c1b1(0x3c2)]['trim'](),_0x1755f2=document[_0x30c1b1(0x3e0)](_0x42fc0f[_0x30c1b1(0x28c)])[_0x30c1b1(0x3c2)]['trim'](),_0x428b01=document[_0x30c1b1(0x3e0)](_0x42fc0f['yViCo']),_0x50c940=document['getElementById'](_0x42fc0f['fCsdE']);_0x50c940[_0x30c1b1(0x355)][_0x30c1b1(0x27a)]=_0x42fc0f['YDdJe'];if(_0x42fc0f[_0x30c1b1(0x386)](!_0x38ee56,!_0x15ad7f)){_0x50c940[_0x30c1b1(0x3cc)]=_0x42fc0f['yssPQ'],_0x50c940['style']['display']=_0x30c1b1(0x35a);return;}const _0xd596e2=_0x42fc0f[_0x30c1b1(0x284)](sanitizeUsername,_0x38ee56),_0x35e0ef=db['ref'](_0x30c1b1(0x2d5)+_0xd596e2),_0x436954=await _0x35e0ef[_0x30c1b1(0x26f)]();if(isRegisterMode){if(_0x436954['exists']()){_0x50c940[_0x30c1b1(0x3cc)]=_0x42fc0f[_0x30c1b1(0x2d9)],_0x50c940[_0x30c1b1(0x355)][_0x30c1b1(0x27a)]=_0x42fc0f[_0x30c1b1(0x1c5)];return;}if(_0x42fc0f[_0x30c1b1(0x376)](_0x15ad7f,_0x3e2a7b)){_0x50c940[_0x30c1b1(0x3cc)]=_0x30c1b1(0x3a6),_0x50c940[_0x30c1b1(0x355)][_0x30c1b1(0x27a)]=_0x30c1b1(0x35a);return;}const _0x140211=await _0x42fc0f[_0x30c1b1(0x20c)](sha256,_0x15ad7f),_0x3521cc=await _0x42fc0f[_0x30c1b1(0x3ae)](generateDeviceId);if(_0x428b01[_0x30c1b1(0x2ae)]['length']){const _0xb2839e=_0x428b01[_0x30c1b1(0x2ae)][0x0],_0x3bee78=new FileReader();_0x3bee78['onloadend']=async()=>{const _0x3a9ad1=_0x30c1b1,_0x4189f4=_0x3bee78[_0x3a9ad1(0x3c6)]['split'](',')[0x1];await _0x35e0ef[_0x3a9ad1(0x1e4)]({'username':_0x38ee56,'passwordHash':_0x140211,'description':_0x42fc0f[_0x3a9ad1(0x3d1)](_0x1755f2,''),'avatarBase64':_0x4189f4,'role':_0x42fc0f[_0x3a9ad1(0x280)],'deviceId':_0x3521cc,'usernameHistory':[_0x38ee56],'lastChanged':Date[_0x3a9ad1(0x293)]()}),username=_0x38ee56,userDescription=_0x1755f2,avatarBase64=_0x4189f4,role=_0x42fc0f[_0x3a9ad1(0x280)],startAfterAuth();},_0x3bee78['readAsDataURL'](_0xb2839e);}else{const _0x5d5321=_0x42fc0f['MiPky'][_0x30c1b1(0x390)]('|');let _0x3051ae=0x0;while(!![]){switch(_0x5d5321[_0x3051ae++]){case'0':username=_0x38ee56;continue;case'1':avatarBase64='';continue;case'2':userDescription=_0x1755f2;continue;case'3':await _0x35e0ef[_0x30c1b1(0x1e4)]({'username':_0x38ee56,'passwordHash':_0x140211,'description':_0x42fc0f[_0x30c1b1(0x3d1)](_0x1755f2,''),'avatarBase64':'','role':_0x42fc0f[_0x30c1b1(0x280)],'deviceId':_0x3521cc,'usernameHistory':[_0x38ee56],'lastChanged':Date[_0x30c1b1(0x293)]()});continue;case'4':role=_0x42fc0f['IqtoG'];continue;case'5':_0x42fc0f[_0x30c1b1(0x3a0)](startAfterAuth);continue;}break;}}}else{if(!_0x436954[_0x30c1b1(0x219)]()){_0x50c940[_0x30c1b1(0x3cc)]=_0x42fc0f[_0x30c1b1(0x1ea)],_0x50c940['style'][_0x30c1b1(0x27a)]=_0x42fc0f['CzuNr'];return;}const _0x27c31b=_0x436954[_0x30c1b1(0x2f4)](),_0x232cef=await _0x42fc0f['uIJsN'](sha256,_0x15ad7f);if(_0x42fc0f[_0x30c1b1(0x3df)](_0x232cef,_0x27c31b[_0x30c1b1(0x307)])){_0x50c940['innerText']=_0x42fc0f[_0x30c1b1(0x2c8)],_0x50c940['style'][_0x30c1b1(0x27a)]=_0x42fc0f[_0x30c1b1(0x1c5)];return;}username=_0x38ee56;if(_0x27c31b['description'])userDescription=_0x27c31b['description'];if(_0x27c31b[_0x30c1b1(0x249)])avatarBase64=_0x27c31b['avatarBase64'];if(_0x27c31b[_0x30c1b1(0x24a)])role=_0x27c31b[_0x30c1b1(0x24a)];else role=_0x42fc0f[_0x30c1b1(0x280)];_0x42fc0f[_0x30c1b1(0x3ae)](startAfterAuth);}}async function saveNewUser(_0xf0cc8a,_0x3e4c5b,_0xbad83c,_0x40ed94,_0x15ba1a){const _0x47543b=_0x46b823,_0x29b997={'MICNx':function(_0x3353fd,_0x25d1ee){return _0x3353fd(_0x25d1ee);},'kuxnl':_0x47543b(0x317),'uhtaS':function(_0x1b3b33,_0x46a0fc){return _0x1b3b33||_0x46a0fc;}},_0xa50c74=db[_0x47543b(0x315)](_0x47543b(0x2d5)+_0x29b997[_0x47543b(0x37c)](sanitizeUsername,_0xf0cc8a)),_0x4f79e6={'username':_0xf0cc8a,'passwordHash':_0x3e4c5b,'role':_0x29b997[_0x47543b(0x3d4)],'deviceId':_0xbad83c,'description':_0x29b997[_0x47543b(0x370)](_0x15ba1a,''),'avatarBase64':_0x29b997[_0x47543b(0x370)](_0x40ed94,''),'usernameHistory':[_0xf0cc8a],'lastChanged':Date['now']()};await _0xa50c74[_0x47543b(0x1e4)](_0x4f79e6),username=_0xf0cc8a,_0x40ed94=_0x4f79e6[_0x47543b(0x249)],userDescription=_0x4f79e6[_0x47543b(0x2e3)],startAfterAuth();}async function startAfterAuth(){const _0x3a79c7=_0x46b823,_0x54831={'NxnRC':'user','fnDWT':_0x3a79c7(0x353),'fCGoi':function(_0x228d41,_0x1cfaa3){return _0x228d41+_0x1cfaa3;},'ODmfs':_0x3a79c7(0x246),'WdQdC':_0x3a79c7(0x35a),'eDhgQ':_0x3a79c7(0x274),'vimBu':function(_0x318549){return _0x318549();},'gFtnV':_0x3a79c7(0x23e)},_0x2c33d8=sanitizeUsername(username),_0x2d0b33=db[_0x3a79c7(0x315)](_0x3a79c7(0x2d5)+_0x2c33d8),_0x3c6370=await _0x2d0b33[_0x3a79c7(0x26f)]();if(_0x3c6370[_0x3a79c7(0x219)]()){const _0x2598c9=_0x3c6370['val']();username=_0x2598c9[_0x3a79c7(0x30a)],userDescription=_0x2598c9['description']||'',avatarBase64=_0x2598c9[_0x3a79c7(0x249)]||'',role=_0x2598c9['role']||_0x54831[_0x3a79c7(0x23c)];if(avatarBase64){const _0x42c3a2=document[_0x3a79c7(0x3e0)](_0x54831['fnDWT']);_0x42c3a2[_0x3a79c7(0x2b2)]=_0x54831[_0x3a79c7(0x2ba)](_0x54831['ODmfs'],avatarBase64),_0x42c3a2[_0x3a79c7(0x355)]['display']=_0x54831[_0x3a79c7(0x31e)];}}else console[_0x3a79c7(0x260)](_0x54831[_0x3a79c7(0x3a1)]);await _0x54831[_0x3a79c7(0x342)](loadRoomRoles),document['getElementById'](_0x54831[_0x3a79c7(0x345)])[_0x3a79c7(0x3cc)]=username,showScreen(_0x3a79c7(0x322));}function toggleRecording(){const _0x4485e8=_0x46b823,_0xf192f3={'bTvga':_0x4485e8(0x346),'wpPRp':function(_0x29f7fa,_0x3d73a1){return _0x29f7fa&&_0x3d73a1;},'sqsmx':function(_0x11434f){return _0x11434f();},'TAahq':_0x4485e8(0x3d6),'QfgtL':_0x4485e8(0x2c1)};isRecording?_0xf192f3['sqsmx'](stopRecording):navigator[_0x4485e8(0x1cf)][_0x4485e8(0x362)]({'audio':!![]})['then'](_0x11a516=>{const _0x394033=_0x4485e8;mediaRecorder=new MediaRecorder(_0x11a516),mediaRecorder[_0x394033(0x25a)](),isRecording=!![],document[_0x394033(0x3e0)](_0xf192f3[_0x394033(0x237)])[_0x394033(0x3cc)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x55dd79=>audioChunks[_0x394033(0x30d)](_0x55dd79[_0x394033(0x318)]),mediaRecorder[_0x394033(0x334)]=()=>{const _0x1c128e=_0x394033,_0x4a3066={'IHzyS':_0x1c128e(0x38c)};clearTimeout(recordingTimer);const _0xca93d3=new Blob(audioChunks,{'type':_0xf192f3[_0x1c128e(0x344)]}),_0x15878f=new FileReader();_0x15878f[_0x1c128e(0x1f3)]=()=>{const _0x2ff80b=_0x1c128e,_0x4fcea3=_0x15878f[_0x2ff80b(0x3c6)][_0x2ff80b(0x390)](',')[0x1],_0x1ee9f0=db[_0x2ff80b(0x315)]()[_0x2ff80b(0x30d)]()[_0x2ff80b(0x2f7)];db[_0x2ff80b(0x315)](_0x2ff80b(0x3ca)+roomCode+_0x2ff80b(0x383)+_0x1ee9f0)[_0x2ff80b(0x1e4)]({'msg':_0x4a3066[_0x2ff80b(0x3b8)],'audioBase64':_0x4fcea3,'sender':username,'senderId':clientId,'timestamp':Date[_0x2ff80b(0x293)]()});},_0x15878f[_0x1c128e(0x312)](_0xca93d3);},recordingTimer=setTimeout(()=>{const _0x45903e=_0x394033;_0xf192f3[_0x45903e(0x384)](mediaRecorder,isRecording)&&_0xf192f3['sqsmx'](stopRecording);},0x4e20);})[_0x4485e8(0x38f)](_0x8b9783=>{const _0x42a8f7=_0x4485e8;alert(_0xf192f3[_0x42a8f7(0x3b6)]);});}function stopRecording(){const _0x1f4483=_0x46b823,_0xa1430={'rJEEx':function(_0x1908cc,_0x4cd297){return _0x1908cc&&_0x4cd297;},'aGenC':_0x1f4483(0x32a)};_0xa1430['rJEEx'](mediaRecorder,isRecording)&&(mediaRecorder[_0x1f4483(0x39c)](),isRecording=![],document['getElementById'](_0x1f4483(0x3d6))[_0x1f4483(0x3cc)]=_0xa1430[_0x1f4483(0x2de)]);}window[_0x46b823(0x1cb)]=async()=>{const _0xa55c89=_0x46b823,_0x1b64e8={'ibYVu':_0xa55c89(0x35d),'KvFhE':function(_0x2e963e){return _0x2e963e();},'cyoFW':function(_0x4baf37){return _0x4baf37();},'aEHcV':function(_0x2fbdf9,_0x507aef){return _0x2fbdf9(_0x507aef);},'yaVZE':_0xa55c89(0x22b)},_0x169507=_0x1b64e8[_0xa55c89(0x29a)]['split']('|');let _0x447c08=0x0;while(!![]){switch(_0x169507[_0x447c08++]){case'0':_0x1b64e8[_0xa55c89(0x1d9)](cleanupOldRooms);continue;case'1':_0x1b64e8[_0xa55c89(0x1d9)](resetWebsiteData);continue;case'2':_0x1b64e8['cyoFW'](setupVisibilityAttention);continue;case'3':setupSidebarBackHandler();continue;case'4':_0x1b64e8[_0xa55c89(0x30e)](showScreen,_0x1b64e8['yaVZE']);continue;}break;}};function sanitizeUsername(_0x2eac05){return _0x2eac05['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x4d974b=_0x46b823,_0x2ddfb5={'biCUp':_0x4d974b(0x1cc),'TvINy':_0x4d974b(0x35a),'ihhKp':_0x4d974b(0x30b),'QHLIo':'profile_description','Wffeh':function(_0x384462,_0x34253c){return _0x384462(_0x34253c);},'ksVgK':_0x4d974b(0x322),'nyyqd':_0x4d974b(0x231),'PneuL':_0x4d974b(0x21b),'RJcQm':_0x4d974b(0x34c),'AAnHf':_0x4d974b(0x365),'pVufP':'profileError','BZFlL':function(_0x25ba72,_0x6dc48){return _0x25ba72||_0x6dc48;},'UHFEo':_0x4d974b(0x1cd),'dCsaN':_0x4d974b(0x3c2)},_0x1055a2=document[_0x4d974b(0x3e0)]('profileUsernameInput')[_0x4d974b(0x3c2)][_0x4d974b(0x32d)](),_0x4ca9a6=document[_0x4d974b(0x3e0)](_0x4d974b(0x1e2))[_0x4d974b(0x3c2)][_0x4d974b(0x32d)](),_0x3e8ecd=document[_0x4d974b(0x3e0)](_0x2ddfb5[_0x4d974b(0x1fe)]);if(_0x2ddfb5[_0x4d974b(0x25f)](!_0x1055a2,!_0x4ca9a6)){_0x3e8ecd[_0x4d974b(0x3cc)]=_0x2ddfb5[_0x4d974b(0x273)],_0x3e8ecd[_0x4d974b(0x355)]['display']=_0x2ddfb5[_0x4d974b(0x2b6)];return;}const _0x5bf94e=sanitizeUsername(_0x1055a2),_0x15932f=db['ref'](_0x4d974b(0x3a8)+_0x5bf94e);_0x15932f['once'](_0x2ddfb5[_0x4d974b(0x340)])[_0x4d974b(0x25d)](_0x1621cc=>{const _0x11485f=_0x4d974b;if(_0x1621cc['exists']())_0x3e8ecd[_0x11485f(0x3cc)]=_0x2ddfb5[_0x11485f(0x1e0)],_0x3e8ecd[_0x11485f(0x355)]['display']=_0x2ddfb5[_0x11485f(0x2b6)];else{const _0x20abbc={'username':_0x1055a2,'description':_0x4ca9a6,'lastChanged':Date[_0x11485f(0x293)](),'usernameHistory':[_0x1055a2]};_0x15932f[_0x11485f(0x1e4)](_0x20abbc,_0x3d18a5=>{const _0x4ace7c=_0x11485f;if(_0x3d18a5)console[_0x4ace7c(0x3ac)](_0x4ace7c(0x382),_0x3d18a5),_0x3e8ecd[_0x4ace7c(0x3cc)]=_0x2ddfb5['biCUp'],_0x3e8ecd[_0x4ace7c(0x355)]['display']=_0x2ddfb5[_0x4ace7c(0x2b6)];else{const _0x42272a=_0x2ddfb5[_0x4ace7c(0x277)][_0x4ace7c(0x390)]('|');let _0x3a86cf=0x0;while(!![]){switch(_0x42272a[_0x3a86cf++]){case'0':localStorage[_0x4ace7c(0x1de)](_0x2ddfb5[_0x4ace7c(0x2af)],_0x4ca9a6);continue;case'1':_0x2ddfb5[_0x4ace7c(0x32c)](showScreen,_0x2ddfb5[_0x4ace7c(0x34b)]);continue;case'2':document[_0x4ace7c(0x3e0)](_0x4ace7c(0x23e))[_0x4ace7c(0x3cc)]=_0x1055a2;continue;case'3':localStorage['setItem'](_0x2ddfb5[_0x4ace7c(0x24f)],_0x1055a2);continue;case'4':username=_0x1055a2;continue;}break;}}});}})[_0x4d974b(0x38f)](_0x351ffd=>{const _0x57dc42=_0x4d974b;console[_0x57dc42(0x3ac)](_0x2ddfb5[_0x57dc42(0x2b0)],_0x351ffd),_0x3e8ecd[_0x57dc42(0x3cc)]=_0x2ddfb5[_0x57dc42(0x3bd)],_0x3e8ecd[_0x57dc42(0x355)][_0x57dc42(0x27a)]=_0x2ddfb5[_0x57dc42(0x2b6)];});}function saveProfile(_0x44296d,_0x8c5f7f,_0xdf0fcd){const _0x1104c8=_0x46b823,_0x3f736e={'ctTjB':'namePreview','lXiMC':function(_0x26c535,_0x2242aa){return _0x26c535(_0x2242aa);},'hmTMe':_0x1104c8(0x322)},_0x3834e2=Date[_0x1104c8(0x293)](),_0xe6f049=[_0x44296d];db['ref'](_0x1104c8(0x3a8)+_0xdf0fcd)[_0x1104c8(0x1e4)]({'username':_0x44296d,'description':_0x8c5f7f,'lastChanged':_0x3834e2,'usernameHistory':_0xe6f049}),document['getElementById'](_0x3f736e['ctTjB'])['innerText']=_0x44296d,_0x3f736e[_0x1104c8(0x1ba)](showScreen,_0x3f736e[_0x1104c8(0x3bf)]);}function generateRoom(){const _0x252afe=_0x46b823,_0x59c510={'ZficP':function(_0x559aba){return _0x559aba();},'tCypa':function(_0x3e321c,_0x19e287){return _0x3e321c+_0x19e287;},'pzbkO':_0x252afe(0x3ca),'iJksy':function(_0x3ab53c){return _0x3ab53c();}};roomCode=_0x59c510[_0x252afe(0x251)](genRoomCode),db['ref'](_0x59c510[_0x252afe(0x20e)](_0x59c510[_0x252afe(0x2e7)],roomCode))[_0x252afe(0x1e4)]({'active':!![],'created':Date[_0x252afe(0x293)]()}),_0x59c510['iJksy'](startChat);}function joinRoom(){const _0x401982=_0x46b823,_0x33645b={'JfNXW':function(_0x807e6c,_0x17fe9c){return _0x807e6c!==_0x17fe9c;},'TcNyq':function(_0x51e6a2,_0x25f292){return _0x51e6a2(_0x25f292);},'HrRXk':_0x401982(0x313),'vzXjU':_0x401982(0x2f0),'avPof':'Enter\x20a\x20valid\x20room\x20code','LznOa':function(_0xa6bfd8,_0xf1883e){return _0xa6bfd8===_0xf1883e;},'PslJy':function(_0x1c6ae7,_0x330437){return _0x1c6ae7(_0x330437);},'KWcKU':_0x401982(0x2bb),'vxmvc':function(_0x1eb7fa,_0x450c4e){return _0x1eb7fa+_0x450c4e;},'uqBZA':_0x401982(0x3ca)},_0x61d5ad=roomCode||document['getElementById'](_0x33645b[_0x401982(0x1ed)])[_0x401982(0x3c2)][_0x401982(0x32d)]()[_0x401982(0x1f9)]();if(!_0x61d5ad)return _0x33645b[_0x401982(0x1c7)](alert,_0x33645b['avPof']);roomCode=_0x61d5ad;if(_0x33645b[_0x401982(0x328)](roomCode,STATIC_ROOM)){_0x33645b[_0x401982(0x333)](showScreen,_0x33645b[_0x401982(0x303)]);return;}db[_0x401982(0x315)](_0x33645b['vxmvc'](_0x33645b[_0x401982(0x372)],roomCode))[_0x401982(0x26f)]()[_0x401982(0x25d)](_0x5a4e46=>{const _0x457660=_0x401982;_0x5a4e46[_0x457660(0x219)]()&&_0x33645b[_0x457660(0x3bb)](_0x5a4e46[_0x457660(0x2f4)]()[_0x457660(0x2c6)],![])?startChat():_0x33645b['TcNyq'](alert,_0x33645b[_0x457660(0x391)]);});}async function startChat(){const _0x55ef52=_0x46b823,_0x3b31a6={'FTPcJ':function(_0x1f7eae,_0x58f7ed){return _0x1f7eae(_0x58f7ed);},'JRxQt':_0x55ef52(0x33f),'NOiAG':_0x55ef52(0x353),'JfYky':function(_0x36f0d1,_0x4bab21){return _0x36f0d1+_0x4bab21;},'prXPH':'userDisplay','XLKbC':function(_0xd91c6b,_0x3c2555){return _0xd91c6b(_0x3c2555);},'IfyRQ':_0x55ef52(0x3de),'KMFVc':_0x55ef52(0x1d3),'aHLIo':_0x55ef52(0x3ab),'QbHqt':'addAnnouncementBtn','hEpgT':'block','YTBzC':_0x55ef52(0x1b8),'ReXQF':function(_0x2b2832,_0x4a93fd){return _0x2b2832(_0x4a93fd);},'YgdqI':_0x55ef52(0x2ff),'MmDqd':function(_0x443bf9){return _0x443bf9();},'HLfgC':function(_0x39b658,_0x244ac1){return _0x39b658(_0x244ac1);},'TuIyS':_0x55ef52(0x272),'IcUHn':function(_0x1c7cee,_0xeb69c2){return _0x1c7cee(_0xeb69c2);},'khCvJ':_0x55ef52(0x322),'iVsKv':function(_0x2882f0){return _0x2882f0();},'unSLs':function(_0x1c62c1){return _0x1c62c1();}};if(!roomCode||!username)return _0x3b31a6['HLfgC'](alert,_0x3b31a6['TuIyS']),_0x3b31a6[_0x55ef52(0x292)](showScreen,_0x3b31a6[_0x55ef52(0x28e)]);_0x3b31a6['MmDqd'](listenForPauseState),_0x3b31a6[_0x55ef52(0x306)](listenForUserList),await _0x3b31a6[_0x55ef52(0x248)](loadRoomRoles),listenForAnnouncement();const _0xf973bd=_0x3b31a6[_0x55ef52(0x1fc)](sanitizeUsername,username),_0x471bc6=db['ref'](_0x55ef52(0x28b)+roomCode+'/'+_0xf973bd),_0x4ef344={'username':username,'online':!![],'lastOnline':firebase[_0x55ef52(0x3b9)][_0x55ef52(0x33b)][_0x55ef52(0x1e3)]};_0x471bc6[_0x55ef52(0x1e4)](_0x4ef344,_0x550ba4=>{const _0x422f4a=_0x55ef52;if(_0x550ba4)return _0x3b31a6[_0x422f4a(0x34d)](alert,_0x3b31a6[_0x422f4a(0x37e)]),showScreen(_0x422f4a(0x322));_0x471bc6[_0x422f4a(0x399)]()[_0x422f4a(0x295)]({'online':![],'lastOnline':Date[_0x422f4a(0x293)]()});const _0x3ef1e8=document[_0x422f4a(0x3e0)](_0x3b31a6['NOiAG']);avatarBase64&&(_0x3ef1e8[_0x422f4a(0x2b2)]=_0x3b31a6[_0x422f4a(0x381)](_0x422f4a(0x246),avatarBase64),_0x3ef1e8['style'][_0x422f4a(0x27a)]=_0x422f4a(0x35a)),document[_0x422f4a(0x3e0)](_0x3b31a6[_0x422f4a(0x211)])['innerHTML']=username+'\x20'+_0x3b31a6[_0x422f4a(0x1fc)](getRoleTag,_0xf973bd),document[_0x422f4a(0x3e0)](_0x3b31a6[_0x422f4a(0x1bc)])['innerText']=roomCode===STATIC_ROOM?_0x3b31a6[_0x422f4a(0x2e1)]:roomCode,role===_0x3b31a6[_0x422f4a(0x332)]||role===_0x422f4a(0x2a5)?document[_0x422f4a(0x3e0)](_0x3b31a6[_0x422f4a(0x2d4)])[_0x422f4a(0x355)][_0x422f4a(0x27a)]=_0x3b31a6['hEpgT']:document['getElementById'](_0x422f4a(0x1c0))[_0x422f4a(0x355)][_0x422f4a(0x27a)]=_0x3b31a6['YTBzC'],_0x3b31a6[_0x422f4a(0x2a3)](showScreen,_0x3b31a6[_0x422f4a(0x275)]),listenForMessages(),listenForTyping(),_0x3b31a6[_0x422f4a(0x25e)](startInactivityTimer),_0x3b31a6['MmDqd'](trackPresence);});}async function fetchProfile(_0x2e12a8){const _0x2515f3=_0x46b823,_0xb619a6=await db['ref'](_0x2515f3(0x2d5)+_0x2e12a8)[_0x2515f3(0x26f)]();if(!_0xb619a6[_0x2515f3(0x219)]())return null;return _0xb619a6['val']();}function validateStaticRoomPassword(){const _0x31056f=_0x46b823,_0x23dea3={'WaDIE':function(_0xf86196,_0xf5ab4f){return _0xf86196(_0xf5ab4f);},'qfvWR':_0x31056f(0x3b7),'MdOjV':function(_0x32b2e5){return _0x32b2e5();},'LrQca':'passwordError','PHePe':_0x31056f(0x213),'PLDdy':_0x31056f(0x3af),'HeErB':'staticPasswordInput','nMlrn':_0x31056f(0x259)},_0x5aed0c=document[_0x31056f(0x3e0)](_0x23dea3[_0x31056f(0x1c9)])['value'][_0x31056f(0x32d)]();if(!_0x5aed0c){_0x23dea3[_0x31056f(0x36e)](alert,_0x23dea3['nMlrn']);return;}db[_0x31056f(0x315)]('gr8stg/'+STATIC_ROOM)[_0x31056f(0x26f)]()[_0x31056f(0x25d)](_0xa4d3dd=>{const _0x4a4c63=_0x31056f;if(!_0xa4d3dd['exists']()){_0x23dea3[_0x4a4c63(0x36e)](alert,_0x23dea3['qfvWR']);return;}const _0x25e0e5=_0xa4d3dd[_0x4a4c63(0x2f4)]();_0x5aed0c===_0x25e0e5?(roomCode=STATIC_ROOM,_0x23dea3[_0x4a4c63(0x1c2)](startChat)):(document[_0x4a4c63(0x3e0)](_0x23dea3[_0x4a4c63(0x3e5)])[_0x4a4c63(0x3cc)]=_0x23dea3[_0x4a4c63(0x2ee)],document['getElementById'](_0x23dea3[_0x4a4c63(0x3e5)])[_0x4a4c63(0x355)][_0x4a4c63(0x27a)]=_0x4a4c63(0x35a));})[_0x31056f(0x38f)](_0x6357f6=>{const _0xfbb19e=_0x31056f;console[_0xfbb19e(0x3ac)](_0x6357f6),_0x23dea3['WaDIE'](alert,_0x23dea3[_0xfbb19e(0x207)]);});}function listenForPauseState(){const _0x181153=_0x46b823,_0xdf6f74={'NIZME':function(_0x269475,_0x1c9854){return _0x269475===_0x1c9854;},'AjqSO':'pausedOverlay','IhcJu':_0x181153(0x35a),'efBXy':'none'};db[_0x181153(0x315)](_0x181153(0x205)+roomCode+_0x181153(0x1c1))['on']('value',_0x2b21aa=>{const _0x261bc7=_0x181153,_0x53ed75=_0x2b21aa[_0x261bc7(0x219)]()&&_0xdf6f74[_0x261bc7(0x250)](_0x2b21aa[_0x261bc7(0x2f4)](),!![]);document[_0x261bc7(0x3e0)](_0xdf6f74[_0x261bc7(0x354)])[_0x261bc7(0x355)][_0x261bc7(0x27a)]=_0x53ed75?_0xdf6f74[_0x261bc7(0x371)]:_0xdf6f74['efBXy'];});}const spamTimestamps=[];async function sendMessage(){const _0x2b2ca8=_0x46b823,_0x23dc70={'YiYWB':'Type\x20a\x20message...','thruo':function(_0x4293d9,_0x3d5de2){return _0x4293d9>_0x3d5de2;},'XKDQF':function(_0xcbd57f,_0xabc376){return _0xcbd57f(_0xabc376);},'QCzVO':function(_0x86ff40,_0x446747){return _0x86ff40===_0x446747;},'ygRzU':function(_0x49b595,_0x4d38dd){return _0x49b595!==_0x4d38dd;},'eEIQg':_0x2b2ca8(0x21d),'kEwah':_0x2b2ca8(0x30c),'mUrvR':_0x2b2ca8(0x27d),'rBTMr':'⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','ErONS':_0x2b2ca8(0x1df),'pFuvc':_0x2b2ca8(0x3c0),'VSKLT':function(_0x4f78e1,_0x5c114a){return _0x4f78e1(_0x5c114a);}},_0x1d89d4=await db['ref'](_0x2b2ca8(0x34e)+roomCode+'/'+sanitizeUsername(username))[_0x2b2ca8(0x26f)](),_0x28612d=await db['ref'](_0x2b2ca8(0x205)+roomCode+'/paused')[_0x2b2ca8(0x26f)]();if(_0x1d89d4[_0x2b2ca8(0x219)]()&&_0x23dc70[_0x2b2ca8(0x297)](_0x1d89d4['val'](),Date[_0x2b2ca8(0x293)]())){_0x23dc70[_0x2b2ca8(0x378)](alert,_0x2b2ca8(0x1ee));return;}if(_0x28612d[_0x2b2ca8(0x219)]()&&_0x23dc70['QCzVO'](_0x28612d[_0x2b2ca8(0x2f4)](),!![])&&_0x23dc70['ygRzU'](role,_0x2b2ca8(0x2a5))){_0x23dc70[_0x2b2ca8(0x378)](alert,_0x2b2ca8(0x369));return;}const _0x5c0d8f=document[_0x2b2ca8(0x3e0)](_0x23dc70[_0x2b2ca8(0x2f2)]),_0x43c6c2=_0x5c0d8f[_0x2b2ca8(0x3c2)][_0x2b2ca8(0x32d)]();if(!_0x43c6c2||isBlocked)return;const _0x180c74=Date[_0x2b2ca8(0x293)](),_0x4f20d1=_0x43c6c2[_0x2b2ca8(0x2cd)](),_0x57ecb2=swearWords['some'](_0x4ccca4=>_0x4f20d1['includes'](_0x4ccca4));if(_0x57ecb2){_0x23dc70[_0x2b2ca8(0x378)](alert,_0x23dc70[_0x2b2ca8(0x352)]);return;}spamTimestamps[_0x2b2ca8(0x30d)](_0x180c74);const _0x31c50c=spamTimestamps[_0x2b2ca8(0x36f)](_0x55d536=>_0x180c74-_0x55d536<0x1b58);if(_0x31c50c[_0x2b2ca8(0x2c2)]>0x5){const _0x395629=_0x23dc70[_0x2b2ca8(0x2d2)][_0x2b2ca8(0x390)]('|');let _0x3fd964=0x0;while(!![]){switch(_0x395629[_0x3fd964++]){case'0':alert(_0x23dc70['rBTMr']);continue;case'1':return;case'2':isBlocked=!![];continue;case'3':_0x5c0d8f['disabled']=!![];continue;case'4':setTimeout(()=>{const _0x58e7c4=_0x2b2ca8;isBlocked=![],_0x5c0d8f['disabled']=![],_0x5c0d8f[_0x58e7c4(0x226)]=_0x23dc70[_0x58e7c4(0x2d0)],spamTimestamps[_0x58e7c4(0x2c2)]=0x0;},0x7530);continue;case'5':_0x5c0d8f[_0x2b2ca8(0x226)]=_0x23dc70[_0x2b2ca8(0x2be)];continue;}break;}}const _0x48591a=localStorage[_0x2b2ca8(0x290)](_0x23dc70['pFuvc'])||'',_0x7483d8=db[_0x2b2ca8(0x315)]()[_0x2b2ca8(0x30d)]()[_0x2b2ca8(0x2f7)];db[_0x2b2ca8(0x315)](_0x2b2ca8(0x3ca)+roomCode+_0x2b2ca8(0x383)+_0x7483d8)[_0x2b2ca8(0x1e4)]({'msg':_0x43c6c2,'sender':username,'senderId':clientId,'avatarBase64':_0x48591a,'timestamp':_0x180c74}),_0x5c0d8f[_0x2b2ca8(0x3c2)]='',_0x23dc70[_0x2b2ca8(0x31b)](sendTyping,!![]),lastActivity=_0x180c74;}function listenForMessages(){const _0x4d2651=_0x46b823,_0x109036={'xgQJO':function(_0x1715ba,_0x490799,_0x1d3073,_0x19c7f7){return _0x1715ba(_0x490799,_0x1d3073,_0x19c7f7);},'xSqcc':function(_0x587265,_0xe8c5f2,_0x95fb17,_0x79aab0){return _0x587265(_0xe8c5f2,_0x95fb17,_0x79aab0);},'TjXZT':function(_0x1c5de2,_0x39ee5f){return _0x1c5de2!==_0x39ee5f;},'jhOgW':function(_0x18675f){return _0x18675f();},'ufzDi':function(_0x1cf10a,_0x5f06e3,_0x19a72b){return _0x1cf10a(_0x5f06e3,_0x19a72b);},'ndNme':_0x4d2651(0x2aa),'Ljfeb':_0x4d2651(0x214)},_0x4c886a=db['ref'](_0x4d2651(0x3ca)+roomCode+_0x4d2651(0x34a)),_0x3020a0=_0x4c886a[_0x4d2651(0x285)](MAX_MESSAGES);userListReady=!![],_0x3020a0['on'](_0x109036[_0x4d2651(0x31c)],_0x2c5984=>{const _0x59cc49=_0x4d2651,_0x14ae9c=_0x2c5984[_0x59cc49(0x2f4)](),{senderId:_0xf213e7}=_0x14ae9c,_0x5c40a3=_0xf213e7===clientId;if(!userListReady){pendingMessages['forEach'](({data:_0x464110,sent:_0x4cf491,key:_0x392514})=>{_0x109036['xgQJO'](addMessage,_0x464110,_0x4cf491,_0x392514);}),pendingMessages=[];return;}const _0x54f263=_0x14ae9c[_0x59cc49(0x38a)]||null,_0x41c967=_0x14ae9c[_0x59cc49(0x36d)]||null;_0x109036[_0x59cc49(0x21a)](addMessage,_0x14ae9c,_0x5c40a3,_0x2c5984[_0x59cc49(0x2f7)]),_0x109036[_0x59cc49(0x1b5)](roomCode,STATIC_ROOM)&&db[_0x59cc49(0x315)](_0x59cc49(0x3ca)+roomCode+'/messages/'+_0x2c5984[_0x59cc49(0x2f7)])['remove'](),!_0x5c40a3&&(sound['play'](),_0x109036[_0x59cc49(0x300)](flagPageAttention)),notificationsEnabled&&!_0x5c40a3&&_0x109036['ufzDi'](stackNotification,_0x14ae9c['sender'],_0x14ae9c[_0x59cc49(0x26c)]||(_0x14ae9c['audioBase64']?_0x59cc49(0x296):_0x109036['ndNme']));});}function stackNotification(_0x26c426,_0x286482){const _0x25a970=_0x46b823,_0x128c81={'ZnRlo':function(_0x2ebc6a,_0x2d28d8){return _0x2ebc6a(_0x2d28d8);},'jtEoM':function(_0x48c464,_0x22610c,_0x5a030c){return _0x48c464(_0x22610c,_0x5a030c);}};notificationStack[_0x25a970(0x30d)]({'sender':_0x26c426,'content':_0x286482}),_0x128c81[_0x25a970(0x22a)](clearTimeout,notificationTimer),notificationTimer=_0x128c81[_0x25a970(0x25b)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x257731=_0x46b823,_0x116ba9={'boSCT':_0x257731(0x385),'kEHvu':_0x257731(0x2c0),'BivYl':function(_0x2f865a,_0x2a6ba6){return _0x2f865a!==_0x2a6ba6;},'ElIWW':function(_0x55b5e7,_0x50f89b){return _0x55b5e7||_0x50f89b;},'YxEdy':'unknown','CRAXv':function(_0x17769f,_0x298acf,_0x5d1ca2){return _0x17769f(_0x298acf,_0x5d1ca2);}};if(!notificationStack[_0x257731(0x2c2)]||_0x116ba9['BivYl'](Notification[_0x257731(0x29b)],_0x257731(0x254)))return;const _0x389224=[...new Set(notificationStack[_0x257731(0x218)](_0x28e79e=>_0x28e79e[_0x257731(0x283)]))],_0x607a5c=_0x116ba9[_0x257731(0x3a3)](roomCode,_0x116ba9[_0x257731(0x2f9)]),_0x2d10ad=_0x389224[_0x257731(0x2c2)]===0x1?'You\x20got\x20a\x20message\x20from\x20'+_0x389224[0x0]+'\x20in\x20room\x20'+_0x607a5c+':\x20'+notificationStack[0x0][_0x257731(0x2a6)]:'You\x20got\x20messages\x20from\x20'+_0x389224[_0x257731(0x351)](',\x20')+_0x257731(0x215)+_0x607a5c;_0x116ba9[_0x257731(0x3d2)](setTimeout,()=>{const _0x18df7f=_0x257731;new Notification(_0x116ba9['boSCT'],{'body':_0x2d10ad,'icon':_0x116ba9[_0x18df7f(0x225)]});},0x64);}async function addMessage(_0x81bafe,_0x3269ed,_0x32859b=null){const _0x58e2a8=_0x46b823,_0x22829a={'feEqd':'msg','wxjCy':'sent','IbeOc':'received','eVowm':_0x58e2a8(0x224),'kKtvU':function(_0x1e6ad1,_0x2aa6f3){return _0x1e6ad1(_0x2aa6f3);},'bldSs':function(_0x89de36,_0x2dc496){return _0x89de36(_0x2dc496);},'PRLes':_0x58e2a8(0x38d)},{msg:_0xc9ade8,sender:_0x18bf37,senderId:_0x3923a5,timestamp:_0x3de231,audioUrl:_0x16fe62,audioBase64:_0x2609be,imageBase64:_0x51142a}=_0x81bafe,_0x22ab5e=document[_0x58e2a8(0x316)]('div');_0x22ab5e[_0x58e2a8(0x2a4)][_0x58e2a8(0x2e4)](_0x22829a[_0x58e2a8(0x232)],_0x3269ed?_0x22829a['wxjCy']:_0x22829a['IbeOc']);const _0xf445dc=new Date(_0x3de231)[_0x58e2a8(0x1c8)]([],{'hour':_0x58e2a8(0x224),'minute':_0x22829a['eVowm']}),_0x502211=_0x22829a[_0x58e2a8(0x394)](sanitizeUsername,_0x18bf37),_0x59bbf2=roomUsers[_0x502211]||{},_0x5c2d5a=await fetchAvatar(_0x22829a[_0x58e2a8(0x2ea)](sanitizeUsername,_0x18bf37)),_0x49685a=_0x5c2d5a?'<img\x20src=\x22data:image/png;base64,'+_0x5c2d5a+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x38d070=_0x49685a+_0x58e2a8(0x265)+_0x18bf37+'\x20'+roleLabel+_0x58e2a8(0x22c);msgEl[_0x58e2a8(0x1ff)]=_0x38d070+_0x58e2a8(0x1b6)+text,content+=_0x58e2a8(0x1b6);const _0x3aca30=_0xc9ade8?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');if(_0x16fe62)content+='<audio\x20controls\x20src=\x22'+_0x16fe62+_0x58e2a8(0x22e);else{if(_0x2609be){const _0x31a6b6=_0x58e2a8(0x366)+_0x2609be;content+=_0x58e2a8(0x3cf)+_0x31a6b6+_0x58e2a8(0x22e);}else{if(_0x51142a){const _0x134a9c=_0x58e2a8(0x246)+_0x51142a;content+=_0x58e2a8(0x35b)+_0x134a9c+_0x58e2a8(0x267);}else content+=_0x58e2a8(0x339)+_0x3aca30+'</div>';}}content+=_0x58e2a8(0x37b)+_0xf445dc+'</small>',_0x22ab5e[_0x58e2a8(0x1ff)]=content;const _0xac516c=document[_0x58e2a8(0x3e0)](_0x22829a[_0x58e2a8(0x287)]);_0xac516c[_0x58e2a8(0x2ad)](_0x22ab5e),_0xac516c[_0x58e2a8(0x1d0)]=_0xac516c[_0x58e2a8(0x30f)];}function cleanupOldRooms(){const _0x3c57b8=_0x46b823,_0x16701d={'mFtpM':function(_0x7ea976,_0x1b277c){return _0x7ea976===_0x1b277c;},'ItVAG':function(_0xdcb094,_0x200b83){return _0xdcb094>_0x200b83;},'XbvnO':function(_0x5112c5,_0x5e4d24){return _0x5112c5*_0x5e4d24;},'kRYui':function(_0x3bc0b2,_0x4f21d1){return _0x3bc0b2+_0x4f21d1;},'JerWl':_0x3c57b8(0x3ca),'sbusO':'antispam','Rxyxp':_0x3c57b8(0x3c2),'RVsaM':_0x3c57b8(0x1e5),'xVndC':_0x3c57b8(0x321)};db[_0x3c57b8(0x315)](_0x16701d['xVndC'])[_0x3c57b8(0x2ab)](_0x3c57b8(0x3c2))[_0x3c57b8(0x25d)](_0x11ff22=>{const _0x108a8e=_0x3c57b8,_0x196a5d=_0x11ff22['val']();if(!_0x196a5d)return;const _0x3a6677=Date[_0x108a8e(0x293)]();for(const _0x1cb3eb in _0x196a5d){if(_0x16701d[_0x108a8e(0x32b)](_0x1cb3eb,STATIC_ROOM))continue;const _0x33be8a=_0x196a5d[_0x1cb3eb];_0x16701d[_0x108a8e(0x33a)](_0x3a6677-(_0x33be8a['created']||0x0),_0x16701d['XbvnO'](_0x16701d[_0x108a8e(0x28a)](0x2,0x3c),0x3e8))&&db[_0x108a8e(0x315)](_0x16701d[_0x108a8e(0x202)](_0x16701d[_0x108a8e(0x3c8)],_0x1cb3eb))['remove']();}db[_0x108a8e(0x315)](_0x16701d[_0x108a8e(0x3c1)])[_0x108a8e(0x2ab)](_0x16701d['Rxyxp'])['then'](_0x2e0fa9=>{const _0x5ea2c9=_0x108a8e,_0x259a25=_0x2e0fa9[_0x5ea2c9(0x2f4)]();if(!_0x259a25)return;for(const _0x190107 in _0x259a25){if(_0x190107!==STATIC_ROOM)db['ref']('antispam/'+_0x190107)[_0x5ea2c9(0x387)]();}}),db[_0x108a8e(0x315)](_0x16701d[_0x108a8e(0x228)])[_0x108a8e(0x2ab)](_0x16701d[_0x108a8e(0x36c)])[_0x108a8e(0x25d)](_0x682d16=>{const _0x21af1d=_0x108a8e,_0x300bfc=_0x682d16['val']();if(!_0x300bfc)return;for(const _0x27ceab in _0x300bfc){if(_0x27ceab!==STATIC_ROOM)db[_0x21af1d(0x315)](_0x21af1d(0x368)+_0x27ceab)[_0x21af1d(0x387)]();}});});}document[_0x46b823(0x2fc)](_0x46b823(0x1be),()=>{const _0x44b7cb=_0x46b823,_0x1c7573={'folBD':function(_0x38550a,_0x66518c){return _0x38550a===_0x66518c;},'lboOg':_0x44b7cb(0x304),'RxYnZ':function(_0x28c84f){return _0x28c84f();},'KOWwf':_0x44b7cb(0x21d),'XmVvc':'keypress'},_0x56cc04=document[_0x44b7cb(0x3e0)](_0x1c7573[_0x44b7cb(0x261)]);_0x56cc04&&_0x56cc04['addEventListener'](_0x1c7573[_0x44b7cb(0x2b5)],function(_0x3edcde){const _0x17eee1=_0x44b7cb;_0x1c7573[_0x17eee1(0x3a9)](_0x3edcde[_0x17eee1(0x2f7)],_0x1c7573[_0x17eee1(0x3db)])&&(_0x3edcde[_0x17eee1(0x3d3)](),_0x1c7573[_0x17eee1(0x21e)](sendMessage));});});function showScreen(_0x1d2051){const _0x425caf=_0x46b823,_0x462f7e={'djLBl':'none','DPBDE':_0x425caf(0x323),'JOaPi':'codeEntryScreen','oqNfv':_0x425caf(0x2bb),'uxQuf':_0x425caf(0x39b),'QdKUy':_0x425caf(0x25c),'HvGfA':'authScreen','lMatF':'flex'};[_0x462f7e[_0x425caf(0x37d)],'roomChoiceScreen',_0x462f7e['JOaPi'],_0x425caf(0x2ff),_0x462f7e[_0x425caf(0x2ed)],_0x462f7e[_0x425caf(0x1f4)],_0x462f7e[_0x425caf(0x281)],_0x462f7e['HvGfA']][_0x425caf(0x227)](_0x13f437=>{const _0x33341e=_0x425caf;document[_0x33341e(0x3e0)](_0x13f437)['style'][_0x33341e(0x27a)]=_0x462f7e['djLBl'];}),document[_0x425caf(0x3e0)](_0x1d2051)[_0x425caf(0x355)][_0x425caf(0x27a)]=_0x462f7e[_0x425caf(0x3a7)];}function genRoomCode(){const _0x78658b=_0x46b823,_0x5ef043={'qLDMT':_0x78658b(0x1f2),'AwAdK':_0x78658b(0x1d4),'Tdwhp':function(_0x40efc6,_0x54f840){return _0x40efc6+_0x54f840;},'AZCQx':function(_0x4cc6d9,_0x2bd4e3,_0x18eb6c){return _0x4cc6d9(_0x2bd4e3,_0x18eb6c);}},_0x334dc4=_0x5ef043['qLDMT'],_0x4a841b=_0x5ef043[_0x78658b(0x23f)],_0x28cb94=(_0x4616d6,_0x50eb50)=>Array[_0x78658b(0x3bc)]({'length':_0x50eb50},()=>_0x4616d6[Math[_0x78658b(0x2c4)](Math[_0x78658b(0x359)]()*_0x4616d6[_0x78658b(0x2c2)])])[_0x78658b(0x351)]('');return _0x5ef043[_0x78658b(0x327)](_0x5ef043['Tdwhp'](_0x5ef043[_0x78658b(0x327)](_0x28cb94(_0x4a841b,0x3),_0x5ef043[_0x78658b(0x1d6)](_0x28cb94,_0x334dc4,0x3)),_0x5ef043[_0x78658b(0x1d6)](_0x28cb94,_0x4a841b,0x2)),_0x5ef043[_0x78658b(0x1d6)](_0x28cb94,_0x334dc4,0x2));}function startInactivityTimer(){const _0x33654d=_0x46b823,_0x4476a3={'YLSkI':function(_0x1da8c9,_0x1671ce){return _0x1da8c9-_0x1671ce;},'uydLE':function(_0xd7e19f,_0x134026){return _0xd7e19f*_0x134026;},'LvGBY':function(_0x1b7578,_0xef870e){return _0x1b7578!==_0xef870e;},'nwbPk':'rooms/','ypkMk':function(_0x5360df,_0xecf2f8){return _0x5360df(_0xecf2f8);},'kHhiR':_0x33654d(0x1dc),'imfiQ':function(_0x1c202c,_0x369617,_0x326185){return _0x1c202c(_0x369617,_0x326185);}};_0x4476a3[_0x33654d(0x26d)](setInterval,()=>{const _0x4e31be=_0x33654d;_0x4476a3['YLSkI'](Date['now'](),lastActivity)>_0x4476a3[_0x4e31be(0x27c)](0x5,0x3c)*0x3e8&&_0x4476a3['LvGBY'](roomCode,STATIC_ROOM)&&(db[_0x4e31be(0x315)](_0x4476a3['nwbPk']+roomCode)[_0x4e31be(0x295)]({'active':![]}),_0x4476a3[_0x4e31be(0x2f3)](alert,_0x4476a3[_0x4e31be(0x377)]),location[_0x4e31be(0x2f8)]());},0x7530);}function setupSidebarBackHandler(){const _0x1f29d5=_0x46b823,_0x2d2072={'hvzlP':_0x1f29d5(0x253),'RhPzV':'show','TUHsI':_0x1f29d5(0x2bd)};window['addEventListener'](_0x2d2072[_0x1f29d5(0x2a0)],()=>{const _0x1483fc=_0x1f29d5,_0xd3243c=document[_0x1483fc(0x3e0)](_0x2d2072[_0x1483fc(0x212)]);_0xd3243c?.[_0x1483fc(0x2a4)]['contains'](_0x2d2072[_0x1483fc(0x1bb)])&&_0xd3243c[_0x1483fc(0x2a4)][_0x1483fc(0x387)](_0x1483fc(0x335));});}function _0x2437(){const _0xb6e17d=['popstate','ErONS','WNvRs','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','Microphone\x20permission\x20denied.','length','tDyuf','floor','Please\x20fill\x20in\x20all\x20fields.','active','VeAEn','gwUBx','xsCqj','deleteMessage','3|0|2|1|4|5','VjTwo','toLowerCase','4YPRPmz','editBioInput','YiYWB','\x0aLast\x20Changed:\x20','mUrvR','aDDUq','QbHqt','auth/','putang\x20ina','<button\x20onclick=\x22muteUser(\x27','FkLgb','cnDVF','qdmyW','fuck','Login','KNBlM','aGenC','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','Uqhuu','KMFVc','\x20minutes.','description','add','RWKxP','lqVQm','pzbkO','LNXPm','sendBtn','bldSs','disabled','substr','oqNfv','PHePe','pmgpp','roomCodeInput','HgoYb','eEIQg','ypkMk','val','profileContent','promote','key','reload','YxEdy','volume','zTKGE','addEventListener','authPassword','lastChanged','chatScreen','jhOgW','tgGYB','Enter\x20Announcement\x20Text:','KWcKU','Enter','ZimfM','iVsKv','passwordHash','Admins\x20only.','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','username','3|0|4|2|1','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','push','aEHcV','scrollHeight','auth','GKwwC','readAsDataURL','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','gago','ref','createElement','user','data','SHA-256','asshole','VSKLT','Ljfeb','moderators/','WdQdC','SYfpX','easy-chatroom.firebaseapp.com','rooms','roomChoiceScreen','usernameScreen','Incorrect\x20password.','cunt','epdZl','Tdwhp','LznOa','wmlrk','🎙️','mFtpM','Wffeh','trim','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','color','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','digest','aHLIo','PslJy','onstop','show','\x0aName:\x20','REUob','aGrcC','<div>','ItVAG','ServerValue','text','moderator','sJFSn','Failed\x20to\x20register\x20user\x20into\x20room.','dCsaN','Please\x20enter\x20your\x20current\x20password.','vimBu','WUGtm','bTvga','gFtnV','audio/webm','PSBvN','bHOrP','Incorrect\x20current\x20password.','/messages','ksVgK','Error\x20checking\x20username:','FTPcJ','muted/','rrULO','bUcgy','join','kEwah','sidebarAvatarPreview','AjqSO','style','/avatarBase64','envCf','<button\x20onclick=\x22promoteToModerator(\x27','random','block','<img\x20src=\x22','ipaoi','0|3|2|1|4','title','cXdxU','authTitle','VOCfT','getUserMedia','jLNgK','Ckapa','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','data:audio/webm;base64,','<img\x20src=\x22data:image/png;base64,','antispamBlocked/','Room\x20is\x20currently\x20paused.','bobo','fdp','Rxyxp','audioBase64','WaDIE','filter','uhtaS','IhcJu','uqBZA','2px\x20solid\x20red','\x27,\x205)\x22>Mute\x205m</button>','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','nJxTr','kHhiR','XKDQF','authPasswordConfirm','\x0aUsername\x20History:\x20','<small>','MICNx','DPBDE','JRxQt','adminControlsSection','\x27)\x22>Promote\x20to\x20Admin</button>','JfYky','Failed\x20to\x20save\x20profile:','/messages/','wpPRp','New\x20Chat\x20Message','NFQRl','remove','38930NzyNKr','11240WBsboZ','audioUrl','GnMhI','[Voice\x20message]','messages','🔕\x20Disable\x20Notifications','catch','split','HrRXk','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','trxuw','kKtvU','429050DhzAzJ','\x27,\x2010)\x22>Mute\x2010m</button>','RcUnL','</li>','onDisconnect','Vmcnl','profileScreen','stop','🔧\x20','Wrvai','ePQoW','Ggdky','eDhgQ','<button\x20onclick=\x22promoteToAdmin(\x27','ElIWW','IcMoy','onlineStatus','Passwords\x20do\x20not\x20match.','lMatF','profiles/','folBD','flagPageAttention','admin','error',')\x20New\x20message\x20•\x20','jMobg','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','DFIig','2493EaLKZc','easy-chatroom.firebasestorage.app','eMCQj','●\x20Online','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','QfgtL','Room\x20password\x20not\x20set.\x20Cannot\x20join.','IHzyS','database','<button\x20onclick=\x22deleteUserMessages(\x27','JfNXW','from','AAnHf','click','hmTMe','avatar_base64','sbusO','value','wtSJi','all','G-QDESJ2WR42','result','dipSI','JerWl','editProfileScreen','rooms/','cabron','innerText','otario','MVpRV','<audio\x20controls\x20src=\x22','jjGLn','RSMkU','CRAXv','preventDefault','kuxnl','UUcwa','recordBtn','Account\x20not\x20found.','ZqTji','nHstL','xAHAT','lboOg','eSvKE','pausedOverlay','roomDisplay','pnETJ','getElementById','NZghK','input','jUGOG','OaizH','LrQca','AloJX','\x27)\x22>Promote\x20to\x20Moderator</button>','TjXZT','<br>','Acnxn','none','NMXde','lXiMC','RhPzV','IfyRQ','VSerI','DOMContentLoaded','FndKb','addAnnouncementBtn','/paused','MdOjV','entries','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','CzuNr','/announcement','TcNyq','toLocaleTimeString','HeErB','authSubmitBtn','onload','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','authError','mediaDevices','scrollTop','admins/','OBMKW','No\x20room\x20code\x20available\x20for\x20private\x20rooms','0123456789','1185715hcTtxH','AZCQx','\x0a\x20\x20\x20\x20','\x27)\x22>+Mod</button>','KvFhE','jtEyR','050BBB66HH','Session\x20expired.','OtPXB','setItem','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','PneuL','IGFVr','profileDescriptionInput','TIMESTAMP','set','antispamBlocked','mute','Unknown','Register','6|3|2|4|0|7|5|1','hUszb','cNFcp','xEsml','vzXjU','You\x20are\x20muted.','notifToggleBtn','Username\x20already\x20exists.','border','ABCDEFGHIJKLMNOPQRSTUVWXYZ','onloadend','uxQuf','4|3|2|0|1','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','ulol','dilRa','toUpperCase','gilipollas','\x20deleted.','XLKbC','LRBPy','pVufP','innerHTML','zQPYC','AGxmO','kRYui','Jwoun','dafdN','roomStates/','hGgTl','PLDdy','authDescription','gIujW','QhNbT','userAgent','uIJsN','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tCypa','putangina','✅\x20Profile\x20picture\x20updated!','prXPH','hvzlP','Incorrect\x20password','child_added','\x20in\x20room\x20','12kOQEOC','JyVNK','map','exists','xSqcc','❌\x20Username\x20already\x20taken.','KdpLt','msgInput','RxYnZ','qHgwG','JgjQc','QUEKj','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','3606911BynNdS','2-digit','kEHvu','placeholder','forEach','RVsaM','\x20promoted\x20to\x20Moderator!','ZnRlo','authScreen','</span>','✅\x20Profile\x20updated!\x20Please\x20reload.','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','adYPm','pushState','chat_username','feEqd','816681HlDiNT','https://easy-chatroom-default-rtdb.firebaseio.com','puta','891UfLXRM','TAahq','ZkcLq','MuXMY','zuXbU','rfVbG','NxnRC','MdcbU','namePreview','AwAdK','QRiDj','authAvatarPreview','ZvosE','MCqln','WgGtj','caralho','data:image/png;base64,','toLocaleString','unSLs','avatarBase64','role','tyNgS','UcLeq','BErme','bwisit','nyyqd','NIZME','ZficP','Yvadd','userSidebar','granted','dick','Remove\x20Announcement?','Kqqvv','ixAwF','Please\x20enter\x20the\x20password.','start','jtEoM','profileViewer','then','MmDqd','BZFlL','warn','KOWwf','toString','\x0aDescription:\x20','No\x20bio\x20set','<span\x20class=\x22sender-name\x22>','nnhbG','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','sounds/beep.mp3','orderByChild','985049198428','includes','msg','imfiQ','subtle','get','18263556kRwnHo','UKuTy','Missing\x20room\x20or\x20user\x20information.','UHFEo','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','YgdqI','oHYdC','ihhKp','FLWTz','height','display','requestPermission','uydLE','2|3|5|0|4|1','hidden','\x27)\x22>Delete\x20Msgs</button>','IqtoG','QdKUy','invvI','sender','TkHsZ','limitToLast','authAvatar','PRLes','#00ff88','announcementArea','XbvnO','users/','HcqgN','userOptions-','khCvJ','1JvvSAi','getItem','ziYvY','IcUHn','now','uQdtM','update','[Voice\x20Message]','thruo','lyJCp','kPCNc','ibYVu','permission','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','\x27)\x22>+Admin</button>','padStart','adminUserList','TUHsI','tangina','Foyno','ReXQF','classList','dev','content','oyvPy','clear','detail','[Unknown\x20Message]','once','tvjtk','appendChild','files','QHLIo','RJcQm','CEkvP','src','porra','editProfileError','XmVvc','TvINy','WrSsg','values','usernameHistory','fCGoi','passwordScreen','HLVoB'];_0x2437=function(){return _0xb6e17d;};return _0x2437();}function toggleSidebar(){const _0x40c8f1=_0x46b823,_0x469974={'NaLsB':'userSidebar','WNvRs':_0x40c8f1(0x335)},_0x2f331f=document[_0x40c8f1(0x3e0)](_0x469974['NaLsB']);if(!_0x2f331f[_0x40c8f1(0x2a4)]['contains'](_0x40c8f1(0x335)))_0x2f331f[_0x40c8f1(0x2a4)]['add'](_0x40c8f1(0x335)),history[_0x40c8f1(0x230)]({'sidebarOpen':!![]},'');else{_0x2f331f['classList'][_0x40c8f1(0x387)](_0x469974[_0x40c8f1(0x2bf)]);if(history['state']?.['sidebarOpen'])history['back']();}}function setupVisibilityAttention(){const _0x5c8dd1=_0x46b823,_0x1b5947={'eXEpm':'visibilitychange'};let _0xcefd72=0x0,_0x4fb7b0=document[_0x5c8dd1(0x35e)];document[_0x5c8dd1(0x2fc)](_0x1b5947['eXEpm'],()=>{const _0x5601ee=_0x5c8dd1;!document[_0x5601ee(0x27e)]&&(document[_0x5601ee(0x35e)]=_0x4fb7b0,_0xcefd72=0x0);}),window[_0x5c8dd1(0x3aa)]=function(){const _0x5045f9=_0x5c8dd1;document[_0x5045f9(0x27e)]&&(_0xcefd72++,document['title']='('+_0xcefd72+_0x5045f9(0x3ad)+_0x4fb7b0);};}function tryEditProfile(){const _0x13a73b=_0x46b823,_0x2a0bc9={'gdhiX':'flex'};document[_0x13a73b(0x3e0)](_0x13a73b(0x3c9))[_0x13a73b(0x355)]['display']=_0x2a0bc9['gdhiX'];}async function submitEditProfile(){const _0x2794f1=_0x46b823,_0x3ec347={'yfxiQ':'oldPasswordInput','MdcbU':'newPasswordInput','jtEyR':_0x2794f1(0x2cf),'Exmau':_0x2794f1(0x2b4),'IcMoy':_0x2794f1(0x341),'Zjbtv':_0x2794f1(0x35a),'jcuIX':function(_0xa1d08f,_0x29428c){return _0xa1d08f(_0x29428c);},'IGFVr':'Profile\x20not\x20found.','RbSXW':function(_0x462444,_0x425d1c){return _0x462444!==_0x425d1c;},'AloJX':_0x2794f1(0x349),'UKuTy':function(_0x296016,_0x3718d0){return _0x296016(_0x3718d0);},'ylnpm':function(_0x1d9962,_0x2bcc14){return _0x1d9962*_0x2bcc14;},'EBWXa':function(_0x30c6c5,_0x3a3c05){return _0x30c6c5>_0x3a3c05;},'kqCBz':'Enter\x20your\x20new\x20username:','zQPYC':function(_0x220932,_0x159c91){return _0x220932!==_0x159c91;},'NMXde':function(_0x21a5fa,_0x464ff7){return _0x21a5fa(_0x464ff7);},'WrSsg':_0x2794f1(0x22d)},_0x43319b=document[_0x2794f1(0x3e0)](_0x3ec347['yfxiQ'])[_0x2794f1(0x3c2)],_0x568fd2=document[_0x2794f1(0x3e0)](_0x3ec347[_0x2794f1(0x23d)])[_0x2794f1(0x3c2)],_0x442e1d=document[_0x2794f1(0x3e0)](_0x3ec347[_0x2794f1(0x1da)])[_0x2794f1(0x3c2)][_0x2794f1(0x32d)](),_0xc0115a=document['getElementById'](_0x3ec347['Exmau']);if(!_0x43319b){_0xc0115a[_0x2794f1(0x3cc)]=_0x3ec347[_0x2794f1(0x3a4)],_0xc0115a[_0x2794f1(0x355)][_0x2794f1(0x27a)]=_0x3ec347['Zjbtv'];return;}const _0xfcf589=_0x3ec347['jcuIX'](sanitizeUsername,username),_0x4ab287=await db['ref']('auth/'+_0xfcf589)['get']();if(!_0x4ab287[_0x2794f1(0x219)]()){_0xc0115a[_0x2794f1(0x3cc)]=_0x3ec347[_0x2794f1(0x1e1)],_0xc0115a['style'][_0x2794f1(0x27a)]=_0x3ec347['Zjbtv'];return;}const _0x11a728=_0x4ab287[_0x2794f1(0x2f4)](),_0x308618=await sha256(_0x43319b);if(_0x3ec347['RbSXW'](_0x308618,_0x11a728[_0x2794f1(0x307)])){_0xc0115a['innerText']=_0x3ec347[_0x2794f1(0x3e6)],_0xc0115a[_0x2794f1(0x355)][_0x2794f1(0x27a)]=_0x3ec347['Zjbtv'];return;}const _0x534462={};if(_0x568fd2){const _0x257b1e=await _0x3ec347[_0x2794f1(0x271)](sha256,_0x568fd2);_0x534462[_0x2794f1(0x307)]=_0x257b1e;}_0x442e1d!==_0x11a728['description']&&(_0x534462[_0x2794f1(0x2e3)]=_0x442e1d);const _0x2328ac=Date[_0x2794f1(0x293)](),_0xec1e58=_0x3ec347['ylnpm'](_0x3ec347['ylnpm'](0x18*0x3c,0x3c),0x3e8),_0x24a955=_0x3ec347['EBWXa'](_0x2328ac-(_0x11a728['lastChanged']||0x0),_0xec1e58);if(_0x24a955&&confirm(_0x2794f1(0x32e))){const _0x327e5b=prompt(_0x3ec347['kqCBz']);_0x327e5b&&_0x327e5b[_0x2794f1(0x32d)]()&&(_0x534462[_0x2794f1(0x30a)]=_0x327e5b['trim'](),_0x534462[_0x2794f1(0x2b9)]=(_0x11a728[_0x2794f1(0x2b9)]||[])['concat'](_0x327e5b['trim']()),_0x534462[_0x2794f1(0x2fe)]=_0x2328ac);}_0x534462['username']&&_0x3ec347[_0x2794f1(0x200)](_0x534462[_0x2794f1(0x30a)],_0x11a728[_0x2794f1(0x30a)])?(await db[_0x2794f1(0x315)]('auth/'+_0x3ec347[_0x2794f1(0x271)](sanitizeUsername,_0x534462[_0x2794f1(0x30a)]))[_0x2794f1(0x1e4)]({..._0x11a728,..._0x534462}),await db['ref'](_0x2794f1(0x2d5)+_0xfcf589)[_0x2794f1(0x387)](),username=_0x534462[_0x2794f1(0x30a)]):await db[_0x2794f1(0x315)]('auth/'+_0xfcf589)[_0x2794f1(0x295)](_0x534462),_0x3ec347[_0x2794f1(0x1b9)](alert,_0x3ec347[_0x2794f1(0x2b7)]),location[_0x2794f1(0x2f8)]();}function cancelEditProfile(){const _0x54d1e6=_0x46b823,_0x35fadc={'araqZ':_0x54d1e6(0x3c9),'epdZl':'none','GJfZu':function(_0x3d9505,_0x23bf4e){return _0x3d9505(_0x23bf4e);},'WUGtm':'chatScreen'};document[_0x54d1e6(0x3e0)](_0x35fadc['araqZ'])[_0x54d1e6(0x355)][_0x54d1e6(0x27a)]=_0x35fadc[_0x54d1e6(0x326)],_0x35fadc['GJfZu'](showScreen,_0x35fadc[_0x54d1e6(0x343)]);}function listenForUserList(){const _0x33ce4a=_0x46b823,_0x1fde1d={'FkLgb':function(_0x478c35){return _0x478c35();},'LNXPm':function(_0x18cb88,_0x55780d){return _0x18cb88(_0x55780d);},'lqVQm':_0x33ce4a(0x3c2)};db[_0x33ce4a(0x315)](_0x33ce4a(0x28b)+roomCode)['on'](_0x1fde1d[_0x33ce4a(0x2e6)],async _0x2ffbad=>{const _0x25a395=_0x33ce4a;if(!_0x2ffbad['exists']())return;const _0x53a9f8=_0x2ffbad['val']();await _0x1fde1d[_0x25a395(0x2d8)](loadRoomRoles),_0x1fde1d[_0x25a395(0x2e8)](renderUserLists,_0x53a9f8);});}function trackPresence(){const _0x4034e6=_0x46b823,_0x149cd3={'Yvadd':function(_0x4e496b,_0x29e956){return _0x4e496b||_0x29e956;},'KNBlM':function(_0x4bbea4,_0x4e2cc3){return _0x4bbea4(_0x4e2cc3);},'REUob':_0x4034e6(0x3c2)};if(_0x149cd3[_0x4034e6(0x252)](!username,!roomCode))return;const _0x583db1=_0x149cd3[_0x4034e6(0x2dd)](sanitizeUsername,username),_0x5a4db0=db[_0x4034e6(0x315)](_0x4034e6(0x28b)+roomCode+'/'+_0x583db1),_0x100eb6={'username':username,'avatarBase64':_0x149cd3[_0x4034e6(0x252)](avatarBase64,''),'description':_0x149cd3['Yvadd'](userDescription,''),'online':!![],'lastOnline':firebase[_0x4034e6(0x3b9)]['ServerValue'][_0x4034e6(0x1e3)]};db[_0x4034e6(0x315)](_0x4034e6(0x1d1)+roomCode+'/'+_0x583db1)[_0x4034e6(0x2ab)](_0x149cd3[_0x4034e6(0x337)])[_0x4034e6(0x25d)](_0x128189=>{const _0x38aebf=_0x4034e6;_0x128189[_0x38aebf(0x219)]()&&(_0x100eb6[_0x38aebf(0x3ab)]=!![]),_0x5a4db0[_0x38aebf(0x1e4)](_0x100eb6),_0x5a4db0[_0x38aebf(0x399)]()[_0x38aebf(0x295)]({'online':![],'lastOnline':Date[_0x38aebf(0x293)]()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0x7ceb2b){const _0x57ac32=_0x46b823,_0x5c6480={'MuXMY':_0x57ac32(0x353),'pmgpp':function(_0x51eca8,_0x5684eb){return _0x51eca8(_0x5684eb);},'tgGYB':_0x57ac32(0x210),'NZghK':'⚠️\x20Failed\x20to\x20update\x20avatar.'};if(!_0x7ceb2b[_0x57ac32(0x2ae)][_0x57ac32(0x2c2)])return;const _0x84b549=_0x7ceb2b[_0x57ac32(0x2ae)][0x0],_0x5f5380=new FileReader();_0x5f5380[_0x57ac32(0x1f3)]=async()=>{const _0x5afca9=_0x57ac32,_0x3cfa8b=_0x5f5380[_0x5afca9(0x3c6)][_0x5afca9(0x390)](',')[0x1];document[_0x5afca9(0x3e0)](_0x5c6480[_0x5afca9(0x239)])[_0x5afca9(0x2b2)]=_0x5f5380[_0x5afca9(0x3c6)],document[_0x5afca9(0x3e0)](_0x5afca9(0x353))['style'][_0x5afca9(0x27a)]='block';try{const _0x245fbc=_0x5c6480[_0x5afca9(0x2ef)](sanitizeUsername,username);await db['ref']('auth/'+_0x245fbc+_0x5afca9(0x356))[_0x5afca9(0x1e4)](_0x3cfa8b),alert(_0x5c6480[_0x5afca9(0x301)]);}catch(_0x474d2b){console[_0x5afca9(0x3ac)](_0x474d2b),_0x5c6480[_0x5afca9(0x2ef)](alert,_0x5c6480[_0x5afca9(0x3e1)]);}},_0x5f5380[_0x57ac32(0x312)](_0x84b549);}function muteUser(_0x1f7daa,_0x2a7a65){const _0x59a773=_0x46b823,_0xa40b89={'nHstL':function(_0x31b521,_0x546660){return _0x31b521(_0x546660);},'hGgTl':_0x59a773(0x308),'BErme':function(_0x56e9ca,_0x1fe038){return _0x56e9ca*_0x1fe038;},'eXpuF':function(_0x14456f,_0x4c18b4){return _0x14456f(_0x4c18b4);}};if(!isRoomAdmin)return _0xa40b89[_0x59a773(0x3d9)](alert,_0xa40b89[_0x59a773(0x206)]);const _0x162673=Date[_0x59a773(0x293)]()+_0xa40b89[_0x59a773(0x24d)](_0xa40b89['BErme'](_0x2a7a65,0x3c),0x3e8);db[_0x59a773(0x315)](_0x59a773(0x34e)+roomCode+'/'+_0xa40b89['eXpuF'](sanitizeUsername,_0x1f7daa))[_0x59a773(0x1e4)](_0x162673);}function unmuteUser(_0x3253be){const _0x3c05b5=_0x46b823,_0x30efe0={'uECEE':function(_0x10e92d,_0x3a858d){return _0x10e92d(_0x3a858d);},'oHYdC':_0x3c05b5(0x308)};if(!isRoomAdmin)return _0x30efe0['uECEE'](alert,_0x30efe0[_0x3c05b5(0x276)]);db[_0x3c05b5(0x315)](_0x3c05b5(0x34e)+roomCode+'/'+sanitizeUsername(_0x3253be))['remove']();}function updateOnlineIndicator(){const _0x184fc8=_0x46b823,_0x368059={'Foyno':_0x184fc8(0x3a5),'hFBzD':_0x184fc8(0x3b4),'ZUElL':_0x184fc8(0x288)},_0x5612f7=document[_0x184fc8(0x3e0)](_0x368059[_0x184fc8(0x2a2)]);_0x5612f7[_0x184fc8(0x3cc)]=_0x368059['hFBzD'],_0x5612f7[_0x184fc8(0x355)][_0x184fc8(0x32f)]=_0x368059['ZUElL'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x4528da){const _0x5b178d=_0x46b823,_0x5c2fa0={'dafdN':function(_0x28e3ca,_0x496f63){return _0x28e3ca(_0x496f63);},'ZvosE':'Profile\x20not\x20found.','JyVNK':_0x5b178d(0x264),'OBMKW':'No\x20changes\x20yet','adYPm':_0x5b178d(0x1e7),'kPCNc':_0x5b178d(0x2f5),'cNFcp':_0x5b178d(0x25c),'xEsml':_0x5b178d(0x35a)};db['ref'](_0x5b178d(0x2d5)+_0x4528da)[_0x5b178d(0x26f)]()[_0x5b178d(0x25d)](_0x1ed60e=>{const _0x2e986b=_0x5b178d;if(!_0x1ed60e[_0x2e986b(0x219)]())return _0x5c2fa0[_0x2e986b(0x204)](alert,_0x5c2fa0[_0x2e986b(0x242)]);const _0x10324f=_0x1ed60e[_0x2e986b(0x2f4)](),_0x3e584d=(_0x2e986b(0x336)+_0x10324f['username']+_0x2e986b(0x263)+(_0x10324f['description']||_0x5c2fa0[_0x2e986b(0x217)])+_0x2e986b(0x37a)+((_0x10324f[_0x2e986b(0x2b9)]||[])['join'](',\x20')||_0x5c2fa0[_0x2e986b(0x1d2)])+_0x2e986b(0x2d1)+(_0x10324f[_0x2e986b(0x2fe)]?new Date(_0x10324f[_0x2e986b(0x2fe)])[_0x2e986b(0x247)]():_0x5c2fa0[_0x2e986b(0x22f)])+_0x2e986b(0x1d7))[_0x2e986b(0x32d)]();document[_0x2e986b(0x3e0)](_0x5c2fa0[_0x2e986b(0x299)])[_0x2e986b(0x3cc)]=_0x3e584d,document[_0x2e986b(0x3e0)](_0x5c2fa0[_0x2e986b(0x1eb)])['style']['display']=_0x5c2fa0[_0x2e986b(0x1ec)];});}function initUsernameFlow(){const _0x3992bd=_0x46b823,_0x270237={'VeAEn':_0x3992bd(0x231),'jjGLn':function(_0x1a7458,_0x1cd74d){return _0x1a7458(_0x1cd74d);},'Vmcnl':_0x3992bd(0x39b),'hiCLl':_0x3992bd(0x23e),'Acnxn':function(_0xf71951,_0x2e4fa8){return _0xf71951(_0x2e4fa8);},'gIujW':_0x3992bd(0x322)},_0x34f555=localStorage[_0x3992bd(0x290)](_0x270237[_0x3992bd(0x2c7)]);!_0x34f555?_0x270237[_0x3992bd(0x3d0)](showScreen,_0x270237[_0x3992bd(0x39a)]):(username=_0x34f555,document['getElementById'](_0x270237['hiCLl'])[_0x3992bd(0x3cc)]=username,_0x270237[_0x3992bd(0x1b7)](showScreen,_0x270237[_0x3992bd(0x209)]));}function closeProfile(){const _0x24e3fc=_0x46b823,_0x3ec370={'MVpRV':_0x24e3fc(0x25c),'HZgzO':_0x24e3fc(0x1b8)};document[_0x24e3fc(0x3e0)](_0x3ec370[_0x24e3fc(0x3ce)])['style'][_0x24e3fc(0x27a)]=_0x3ec370['HZgzO'];}function resetWebsiteData(){const _0x2f7475=_0x46b823,_0x1afd6e={'rfVbG':function(_0x25e7d3,_0x366355){return _0x25e7d3||_0x366355;},'aGrcC':_0x2f7475(0x1f5),'ZqTji':function(_0x1c7be0,_0xf9d9da){return _0x1c7be0+_0xf9d9da;}};try{localStorage['clear'](),sessionStorage[_0x2f7475(0x2a8)]();}catch(_0x4d2c84){}if(_0x1afd6e[_0x2f7475(0x23b)](!username,!roomCode)){const _0x5017d1=_0x1afd6e[_0x2f7475(0x338)][_0x2f7475(0x390)]('|');let _0x23a432=0x0;while(!![]){switch(_0x5017d1[_0x23a432++]){case'0':pendingMessages=[];continue;case'1':clientId=_0x1afd6e[_0x2f7475(0x3d8)]('_',Math[_0x2f7475(0x359)]()[_0x2f7475(0x262)](0x24)['substr'](0x2,0x9));continue;case'2':isRoomAdmin=![];continue;case'3':roomCode=null;continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0xee9ef6=_0x46b823,_0x181c99={'ykTMV':function(_0x1e7188,_0x14e503){return _0x1e7188(_0x14e503);},'COYeK':_0xee9ef6(0x302)},_0x320c88=_0x181c99['ykTMV'](prompt,_0x181c99['COYeK']);if(!_0x320c88)return;db[_0xee9ef6(0x315)](_0xee9ef6(0x3ca)+roomCode+_0xee9ef6(0x1c6))['set']({'text':_0x320c88,'by':username,'timestamp':Date[_0xee9ef6(0x293)]()});}function listenForAnnouncement(){const _0x2ffc4=_0x46b823,_0x2dea45={'fxHeo':_0x2ffc4(0x289),'QhNbT':_0x2ffc4(0x3c2)},_0x2411f8=db[_0x2ffc4(0x315)](_0x2ffc4(0x3ca)+roomCode+_0x2ffc4(0x1c6));_0x2411f8['on'](_0x2dea45[_0x2ffc4(0x20a)],_0x32500c=>{const _0xc9f9b4=_0x2ffc4,_0x4e0c3f=_0x32500c[_0xc9f9b4(0x2f4)]();if(!_0x4e0c3f){document['getElementById']('announcementArea')[_0xc9f9b4(0x3cc)]='';return;}const _0x207f40=document['getElementById'](_0x2dea45['fxHeo']);_0x207f40['innerText']=''+_0x4e0c3f[_0xc9f9b4(0x33c)];});}document[_0x46b823(0x3e0)](_0x46b823(0x289))[_0x46b823(0x2fc)](_0x46b823(0x3be),_0x148dd3=>{const _0x1aa3c5=_0x46b823,_0x1a4f02={'FHJpd':function(_0x3b8eb8,_0x413b09){return _0x3b8eb8===_0x413b09;},'ePQoW':function(_0x466afb,_0x152d3e){return _0x466afb(_0x152d3e);},'ziYvY':_0x1aa3c5(0x256)};_0x1a4f02['FHJpd'](_0x148dd3[_0x1aa3c5(0x2a9)],0x3)&&isRoomAdmin&&(_0x1a4f02[_0x1aa3c5(0x39f)](confirm,_0x1a4f02[_0x1aa3c5(0x291)])&&db['ref']('rooms/'+roomCode+_0x1aa3c5(0x1c6))[_0x1aa3c5(0x387)]());}),document[_0x46b823(0x3e0)](_0x46b823(0x21d))[_0x46b823(0x2fc)](_0x46b823(0x3e2),()=>{const _0x2b412c=_0x46b823,_0x204371={'Kqqvv':_0x2b412c(0x21d),'aDDUq':_0x2b412c(0x2e9),'Wrvai':_0x2b412c(0x373)},_0x1005c6=document['getElementById'](_0x204371[_0x2b412c(0x257)]),_0x55bdae=document[_0x2b412c(0x3e0)](_0x204371[_0x2b412c(0x2d3)]),_0x18ec57=_0x1005c6[_0x2b412c(0x3c2)]['toLowerCase'](),_0x98cf43=swearWords['some'](_0x4a1434=>_0x18ec57[_0x2b412c(0x26b)](_0x4a1434));_0x98cf43?(_0x1005c6[_0x2b412c(0x355)]['border']=_0x204371[_0x2b412c(0x39e)],_0x55bdae['disabled']=!![]):(_0x1005c6[_0x2b412c(0x355)][_0x2b412c(0x1f1)]='',_0x55bdae[_0x2b412c(0x2eb)]=![]);});function muteUser(_0x272f39,_0x567e39){const _0x31727a=_0x46b823,_0x2ae109={'HgoYb':function(_0x5213a8,_0x320c4d){return _0x5213a8+_0x320c4d;},'MCqln':function(_0x386517,_0x393f7e){return _0x386517*_0x393f7e;},'MDAsb':function(_0x4455d1,_0x5deb95){return _0x4455d1(_0x5deb95);}},_0x4694c6=_0x2ae109[_0x31727a(0x2f1)](Date[_0x31727a(0x293)](),_0x2ae109[_0x31727a(0x243)](_0x2ae109[_0x31727a(0x243)](_0x567e39,0x3c),0x3e8));db[_0x31727a(0x315)](_0x31727a(0x34e)+roomCode+'/'+_0x2ae109['MDAsb'](sanitizeUsername,_0x272f39))[_0x31727a(0x1e4)]({'muteUntil':_0x4694c6})['then'](()=>{const _0xa3bae9=_0x31727a;alert(_0x272f39+'\x20muted\x20for\x20'+_0x567e39+_0xa3bae9(0x2e2));});}function deleteUserMessages(_0x37ce07){const _0xf5b423=_0x46b823,_0x3cd66a={'SYfpX':function(_0x195957,_0x5281b2){return _0x195957(_0x5281b2);}};db[_0xf5b423(0x315)](_0xf5b423(0x3ca)+roomCode+_0xf5b423(0x34a))[_0xf5b423(0x269)](_0xf5b423(0x283))['equalTo'](_0x37ce07)[_0xf5b423(0x26f)]()['then'](_0x2d69ad=>{const _0x5b0360=_0xf5b423;_0x2d69ad['forEach'](_0x21a0b5=>{const _0x3deebd=_0x33ee;db[_0x3deebd(0x315)](_0x3deebd(0x3ca)+roomCode+_0x3deebd(0x383)+_0x21a0b5[_0x3deebd(0x2f7)])[_0x3deebd(0x387)]();}),_0x3cd66a[_0x5b0360(0x31f)](alert,'Messages\x20by\x20'+_0x37ce07+_0x5b0360(0x1fb));});}function pauseRoom(_0x2b5008){const _0xe704da=_0x46b823,_0x2d96d4={'zTKGE':_0xe704da(0x3dd),'YVykY':_0xe704da(0x35a),'QfZBP':_0xe704da(0x1b8),'LRBPy':_0xe704da(0x3c2)};db[_0xe704da(0x315)]('rooms/'+roomCode+_0xe704da(0x1c1))['on'](_0x2d96d4[_0xe704da(0x1fd)],_0xd111f4=>{const _0x45c969=_0xe704da,_0x35b253=_0xd111f4[_0x45c969(0x2f4)]();document[_0x45c969(0x3e0)](_0x2d96d4[_0x45c969(0x2fb)])[_0x45c969(0x355)][_0x45c969(0x27a)]=_0x35b253?_0x2d96d4['YVykY']:_0x2d96d4['QfZBP'];});}function canPerformAction(_0x1174bb){const _0x116235=_0x46b823,_0x4b95ec={'xsCqj':function(_0x2a4dec,_0x1b6f1b){return _0x2a4dec===_0x1b6f1b;},'nnhbG':_0x116235(0x2a5),'Uqhuu':function(_0x2ff3f4,_0xc165ce){return _0x2ff3f4===_0xc165ce;},'dipSI':'deleteMessage','dilRa':function(_0x29b939,_0x421d96){return _0x29b939===_0x421d96;},'VSerI':'admin','jUGOG':function(_0x3861ff,_0x1c5a63){return _0x3861ff===_0x1c5a63;},'bHOrP':function(_0x4f4a18,_0x4666bb){return _0x4f4a18===_0x4666bb;}};if(_0x4b95ec[_0x116235(0x2c9)](role,_0x4b95ec[_0x116235(0x266)]))return!![];if(_0x4b95ec['Uqhuu'](_0x1174bb,_0x116235(0x1e6))||_0x4b95ec[_0x116235(0x2e0)](_0x1174bb,_0x4b95ec[_0x116235(0x3c7)]))return _0x4b95ec[_0x116235(0x1f8)](role,_0x4b95ec[_0x116235(0x1bd)])||role===_0x116235(0x33d);if(_0x4b95ec[_0x116235(0x3e3)](_0x1174bb,_0x116235(0x2f6)))return _0x4b95ec[_0x116235(0x348)](role,_0x4b95ec[_0x116235(0x1bd)]);return![];}const html=Object[_0x46b823(0x2b8)](activeUsers)[_0x46b823(0x218)](_0x1c0ac4=>{const _0xc0a62f=_0x46b823,_0xf9ff85={'rrULO':function(_0xbb5e4a,_0x1826a1){return _0xbb5e4a(_0x1826a1);},'AAKiS':_0xc0a62f(0x1e6),'WdlKE':function(_0x53d39f,_0x56fb73){return _0x53d39f===_0x56fb73;},'anOjd':_0xc0a62f(0x2a5),'GnMhI':_0xc0a62f(0x3ab)},_0xf5733=_0xf9ff85[_0xc0a62f(0x34f)](sanitizeUsername,_0x1c0ac4[_0xc0a62f(0x30a)]),_0x424625=[];if(_0xf5733!==sanitizeUsername(username)){_0xf9ff85[_0xc0a62f(0x34f)](canPerformAction,_0xf9ff85['AAKiS'])&&(_0x424625['push'](_0xc0a62f(0x2d7)+_0xf5733+_0xc0a62f(0x374)),_0x424625['push'](_0xc0a62f(0x2d7)+_0xf5733+_0xc0a62f(0x396)));_0xf9ff85[_0xc0a62f(0x34f)](canPerformAction,_0xc0a62f(0x2ca))&&_0x424625[_0xc0a62f(0x30d)](_0xc0a62f(0x3ba)+_0xf5733+'\x27)\x22>Delete\x20Messages</button>');if(_0xf9ff85['WdlKE'](role,_0xf9ff85['anOjd']))_0x424625[_0xc0a62f(0x30d)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0xf5733+_0xc0a62f(0x1b4)),_0x424625['push'](_0xc0a62f(0x3a2)+_0xf5733+_0xc0a62f(0x380));else role===_0xf9ff85[_0xc0a62f(0x38b)]&&_0x424625[_0xc0a62f(0x30d)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0xf5733+_0xc0a62f(0x1b4));}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20'+_0x1c0ac4[_0xc0a62f(0x30a)]+'\x20'+_0xf9ff85[_0xc0a62f(0x34f)](getRoleTag,sanitizeUsername(_0x1c0ac4['username']))+_0xc0a62f(0x392)+_0xf5733+_0xc0a62f(0x20d)+_0x424625['join']('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0xf5733+_0xc0a62f(0x2df);})[_0x46b823(0x351)]('');function promoteToModerator(_0x1fa739){const _0x2510f5=_0x46b823,_0x48a09d={'ZkcLq':function(_0x178d93,_0x15a09f){return _0x178d93(_0x15a09f);},'AGxmO':function(_0x53acb3,_0x229697){return _0x53acb3!==_0x229697;},'oyvPy':_0x2510f5(0x2a5),'Ckapa':function(_0x55e845,_0x274079){return _0x55e845!==_0x274079;},'VjTwo':_0x2510f5(0x1c4)};if(_0x48a09d[_0x2510f5(0x201)](role,_0x48a09d[_0x2510f5(0x2a7)])&&_0x48a09d[_0x2510f5(0x364)](role,_0x2510f5(0x3ab))){alert(_0x48a09d[_0x2510f5(0x2cc)]);return;}db[_0x2510f5(0x315)](_0x2510f5(0x31d)+roomCode+'/'+_0x48a09d[_0x2510f5(0x238)](sanitizeUsername,_0x1fa739))[_0x2510f5(0x1e4)](!![])[_0x2510f5(0x25d)](()=>{const _0x11da86=_0x2510f5;_0x48a09d[_0x11da86(0x238)](alert,_0x1fa739+_0x11da86(0x229));});}function promoteToAdmin(_0xf5e8e0){const _0x12a47a=_0x46b823,_0xb8d4c1={'RcUnL':function(_0xd31f7,_0x3995f0){return _0xd31f7(_0x3995f0);},'xAHAT':function(_0x4cd3eb,_0x372b5c){return _0x4cd3eb!==_0x372b5c;},'mtZlD':_0x12a47a(0x2a5),'qHgwG':function(_0x43e1c3,_0x34029a){return _0x43e1c3(_0x34029a);},'xZOvb':_0x12a47a(0x3b5)};if(_0xb8d4c1[_0x12a47a(0x3da)](role,_0xb8d4c1['mtZlD'])){_0xb8d4c1[_0x12a47a(0x21f)](alert,_0xb8d4c1['xZOvb']);return;}db['ref'](_0x12a47a(0x1d1)+roomCode+'/'+_0xb8d4c1[_0x12a47a(0x397)](sanitizeUsername,_0xf5e8e0))[_0x12a47a(0x1e4)](!![])['then'](()=>{_0xb8d4c1['RcUnL'](alert,_0xf5e8e0+'\x20promoted\x20to\x20Admin!');});}function toggleUserOptions(_0xf834e2){const _0x20cc9d=_0x46b823,_0xfb707b={'jutVb':function(_0x2e0dfc,_0x34e020){return _0x2e0dfc===_0x34e020;},'uQdtM':'none','UUcwa':_0x20cc9d(0x35a)},_0x144f76=document[_0x20cc9d(0x3e0)](_0x20cc9d(0x28d)+_0xf834e2);_0xfb707b['jutVb'](_0x144f76[_0x20cc9d(0x355)]['display'],_0xfb707b[_0x20cc9d(0x294)])?_0x144f76[_0x20cc9d(0x355)][_0x20cc9d(0x27a)]=_0xfb707b[_0x20cc9d(0x3d5)]:_0x144f76[_0x20cc9d(0x355)][_0x20cc9d(0x27a)]=_0xfb707b[_0x20cc9d(0x294)];}function getRoleTag(_0x5471e6){const _0x451b41=_0x46b823,_0x1a23b6={'HLVoB':function(_0x2bac60,_0x32c59c){return _0x2bac60(_0x32c59c);}},_0x1aff5a=_0x1a23b6[_0x451b41(0x2bc)](sanitizeUsername,_0x5471e6);if(globalDevs['includes'](_0x1aff5a))return _0x451b41(0x1f6);if(roomAdmins[_0x451b41(0x26b)](_0x1aff5a))return _0x451b41(0x29c);if(roomModerators[_0x451b41(0x26b)](_0x1aff5a))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x1ab3ce=_0x46b823,_0x303b5a={'invvI':function(_0x3b5905,_0x5158bd){return _0x3b5905===_0x5158bd;},'OtPXB':function(_0xe3163f,_0x1217c3){return _0xe3163f(_0x1217c3);},'ZimfM':_0x1ab3ce(0x2a5),'RWKxP':_0x1ab3ce(0x33d),'wmlrk':_0x1ab3ce(0x317)},_0x245812=_0x303b5a[_0x1ab3ce(0x1dd)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x445f14=await db[_0x1ab3ce(0x315)](_0x1ab3ce(0x310))['get']();_0x445f14[_0x1ab3ce(0x227)](_0xc22a53=>{const _0x40a491=_0x1ab3ce;if(_0x303b5a[_0x40a491(0x282)](_0xc22a53[_0x40a491(0x2f4)]()['role'],_0x40a491(0x2a5)))globalDevs[_0x40a491(0x30d)](_0xc22a53[_0x40a491(0x2f7)]);});const _0x1ecb33=await db[_0x1ab3ce(0x315)]('admins/'+roomCode)[_0x1ab3ce(0x26f)]();_0x1ecb33['exists']()&&_0x1ecb33['forEach'](_0x4a0ab3=>roomAdmins[_0x1ab3ce(0x30d)](_0x4a0ab3[_0x1ab3ce(0x2f7)]));const _0x3842b1=await db[_0x1ab3ce(0x315)]('moderators/'+roomCode)[_0x1ab3ce(0x26f)]();_0x3842b1[_0x1ab3ce(0x219)]()&&_0x3842b1[_0x1ab3ce(0x227)](_0x36b522=>roomModerators[_0x1ab3ce(0x30d)](_0x36b522[_0x1ab3ce(0x2f7)]));if(globalDevs[_0x1ab3ce(0x26b)](_0x245812))role=_0x303b5a[_0x1ab3ce(0x305)];else{if(roomAdmins[_0x1ab3ce(0x26b)](_0x245812))role=_0x1ab3ce(0x3ab);else roomModerators['includes'](_0x245812)?role=_0x303b5a[_0x1ab3ce(0x2e5)]:role=_0x303b5a[_0x1ab3ce(0x329)];}}async function renderUserLists(_0x360160){const _0x20180d=_0x46b823,_0x2daf98={'FLWTz':function(_0x4dd11a,_0x3be3ab){return _0x4dd11a(_0x3be3ab);},'wtSJi':function(_0xabd97c,_0x3f6d9c){return _0xabd97c(_0x3f6d9c);},'bUcgy':function(_0xbd75c8,_0x554df4){return _0xbd75c8===_0x554df4;},'KdpLt':function(_0x4d0ffc,_0x2217b6){return _0x4d0ffc(_0x2217b6);},'PSBvN':_0x20180d(0x2a5),'tvjtk':_0x20180d(0x3ab),'QUEKj':function(_0x25128d,_0x41ae71){return _0x25128d===_0x41ae71;},'envCf':function(_0x54881f,_0x2683f1){return _0x54881f===_0x2683f1;},'SpDiD':function(_0x4aa49f,_0xc73cd9){return _0x4aa49f===_0xc73cd9;},'sJFSn':function(_0x16e20d,_0x3c31fe){return _0x16e20d(_0x3c31fe);},'jLNgK':function(_0xb432f,_0x50e9e2){return _0xb432f===_0x50e9e2;},'trxuw':_0x20180d(0x33d),'tyNgS':_0x20180d(0x37f),'FndKb':_0x20180d(0x35a),'ThAhE':'userList','zuXbU':_0x20180d(0x29f)},_0x3ee7a4=_0x2daf98[_0x20180d(0x21c)](sanitizeUsername,username),_0x30769b=role===_0x2daf98[_0x20180d(0x347)]||_0x2daf98[_0x20180d(0x363)](role,_0x20180d(0x3ab))||_0x2daf98[_0x20180d(0x357)](role,_0x2daf98[_0x20180d(0x393)]);document['getElementById'](_0x2daf98[_0x20180d(0x24b)])['style']['display']=_0x30769b?_0x2daf98[_0x20180d(0x1bf)]:_0x20180d(0x1b8);const _0x2854ef=Object[_0x20180d(0x1c3)](_0x360160)['map'](async([_0x4d1eed,_0x35d271])=>{const _0x19ab74=_0x20180d,_0x48e438=_0x2daf98[_0x19ab74(0x278)](sanitizeUsername,_0x35d271[_0x19ab74(0x30a)]||_0x4d1eed),_0x38b25d=await _0x2daf98[_0x19ab74(0x278)](fetchAvatar,_0x48e438),_0x57f1b6=_0x38b25d?'<img\x20src=\x22data:image/png;base64,'+_0x38b25d+_0x19ab74(0x375):'';return'<li>'+_0x57f1b6+'👤\x20'+(_0x35d271[_0x19ab74(0x30a)]||_0x4d1eed)+'\x20'+getRoleTag(_0x48e438)+_0x19ab74(0x398);}),_0x195a07=await Promise[_0x20180d(0x3c4)](_0x2854ef);document['getElementById'](_0x2daf98['ThAhE'])[_0x20180d(0x1ff)]=_0x195a07['join']('');if(!_0x30769b)return;const _0x1582e3=Object[_0x20180d(0x1c3)](_0x360160)[_0x20180d(0x218)](async([_0x5e14d2,_0x10250d])=>{const _0x53b316=_0x20180d,_0x3c4272=_0x2daf98[_0x53b316(0x3c3)](sanitizeUsername,_0x10250d[_0x53b316(0x30a)]||_0x5e14d2);if(_0x2daf98['bUcgy'](_0x3c4272,_0x3ee7a4))return'';const _0x1b7d60=await _0x2daf98['KdpLt'](fetchAvatar,_0x3c4272),_0x329b47=_0x1b7d60?_0x53b316(0x367)+_0x1b7d60+_0x53b316(0x375):'',_0x5a82fe=[];(_0x2daf98[_0x53b316(0x350)](role,_0x2daf98[_0x53b316(0x347)])||role===_0x2daf98[_0x53b316(0x2ac)]||_0x2daf98[_0x53b316(0x221)](role,_0x53b316(0x33d)))&&(_0x5a82fe['push'](_0x53b316(0x2d7)+_0x3c4272+'\x27,\x205)\x22>Mute\x205m</button>'),_0x5a82fe[_0x53b316(0x30d)](_0x53b316(0x2d7)+_0x3c4272+'\x27,\x2010)\x22>Mute\x2010m</button>'));(_0x2daf98['bUcgy'](role,_0x2daf98[_0x53b316(0x347)])||role===_0x2daf98['tvjtk'])&&_0x5a82fe[_0x53b316(0x30d)](_0x53b316(0x3ba)+_0x3c4272+_0x53b316(0x27f));if(_0x2daf98[_0x53b316(0x357)](role,_0x53b316(0x2a5)))_0x5a82fe[_0x53b316(0x30d)](_0x53b316(0x358)+_0x3c4272+_0x53b316(0x1d8)),_0x5a82fe[_0x53b316(0x30d)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x3c4272+_0x53b316(0x29d));else _0x2daf98['SpDiD'](role,_0x53b316(0x3ab))&&_0x5a82fe[_0x53b316(0x30d)](_0x53b316(0x358)+_0x3c4272+'\x27)\x22>+Mod</button>');return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x329b47+_0x53b316(0x39d)+(_0x10250d['username']||_0x5e14d2)+'\x20'+_0x2daf98[_0x53b316(0x33e)](getRoleTag,_0x3c4272)+_0x53b316(0x330)+_0x5a82fe[_0x53b316(0x351)]('\x20')+_0x53b316(0x309);}),_0x92a9d3=await Promise[_0x20180d(0x3c4)](_0x1582e3);document[_0x20180d(0x3e0)](_0x2daf98[_0x20180d(0x23a)])[_0x20180d(0x1ff)]=_0x92a9d3['join']('');}async function fetchAvatar(_0x3bae58){const _0x45a72e=_0x46b823;if(userAvatars[_0x3bae58])return userAvatars[_0x3bae58];const _0x24fb4c=await db['ref'](_0x45a72e(0x2d5)+_0x3bae58)[_0x45a72e(0x26f)]();if(_0x24fb4c[_0x45a72e(0x219)]()&&_0x24fb4c[_0x45a72e(0x2f4)]()[_0x45a72e(0x249)])return userAvatars[_0x3bae58]=_0x24fb4c[_0x45a72e(0x2f4)]()[_0x45a72e(0x249)],userAvatars[_0x3bae58];return null;}