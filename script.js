const _0x45f4e7=_0xc017;(function(_0x5ebef5,_0x2e1eb6){const _0x5b27a8=_0xc017,_0x5e442e=_0x5ebef5();while(!![]){try{const _0x4b52bb=-parseInt(_0x5b27a8(0x1e5))/0x1+-parseInt(_0x5b27a8(0x36f))/0x2*(parseInt(_0x5b27a8(0x344))/0x3)+-parseInt(_0x5b27a8(0x26d))/0x4*(-parseInt(_0x5b27a8(0x235))/0x5)+-parseInt(_0x5b27a8(0x1af))/0x6+parseInt(_0x5b27a8(0x1da))/0x7+parseInt(_0x5b27a8(0x321))/0x8*(-parseInt(_0x5b27a8(0x257))/0x9)+parseInt(_0x5b27a8(0x370))/0xa*(parseInt(_0x5b27a8(0x2cb))/0xb);if(_0x4b52bb===_0x2e1eb6)break;else _0x5e442e['push'](_0x5e442e['shift']());}catch(_0x5c798e){_0x5e442e['push'](_0x5e442e['shift']());}}}(_0x840e,0xd8841));const firebaseConfig={'apiKey':_0x45f4e7(0x32f),'authDomain':_0x45f4e7(0x213),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x45f4e7(0x176),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':'985049198428','appId':_0x45f4e7(0x251),'measurementId':_0x45f4e7(0x294)};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x45f4e7(0x324)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x45f4e7(0x386),_0x45f4e7(0x1de),'bitch','asshole',_0x45f4e7(0x256),_0x45f4e7(0x1fa),'cunt','puta',_0x45f4e7(0x232),_0x45f4e7(0x36b),_0x45f4e7(0x1b5),_0x45f4e7(0x214),'gilipollas',_0x45f4e7(0x351),'caralho',_0x45f4e7(0x2bb),_0x45f4e7(0x29d),_0x45f4e7(0x254),'otario','putangina',_0x45f4e7(0x1aa),_0x45f4e7(0x34f),_0x45f4e7(0x285),_0x45f4e7(0x2c9),_0x45f4e7(0x25b),_0x45f4e7(0x18a)];let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x45f4e7(0x30f)]()[_0x45f4e7(0x2cd)](0x24)[_0x45f4e7(0x35b)](0x2,0x9),lastActivity=Date[_0x45f4e7(0x276)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x45f4e7(0x2e0));sound[_0x45f4e7(0x323)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3b1274=_0x45f4e7,_0x2bc918={'lxKyP':function(_0x55ed53,_0x22836a){return _0x55ed53+_0x22836a;},'uFKQr':function(_0x5057c6,_0x33f217){return _0x5057c6(_0x33f217);}},_0xf35f17=_0x2bc918[_0x3b1274(0x1d5)](_0x2bc918[_0x3b1274(0x1d5)](navigator[_0x3b1274(0x212)],screen[_0x3b1274(0x236)]),screen[_0x3b1274(0x2d7)]),_0x702f9b=await _0x2bc918['uFKQr'](sha256,_0xf35f17);return _0x2bc918['lxKyP']('_',_0x702f9b[_0x3b1274(0x35b)](0x0,0x14));}function sha256(_0x5e9bb1){const _0x445c67=_0x45f4e7,_0xb34134=new TextEncoder()[_0x445c67(0x304)](_0x5e9bb1);return crypto[_0x445c67(0x219)][_0x445c67(0x2c0)](_0x445c67(0x177),_0xb34134)[_0x445c67(0x2e2)](_0x3fae2a=>{const _0x367c8e=_0x445c67;return Array['from'](new Uint8Array(_0x3fae2a))['map'](_0x2a9a81=>_0x2a9a81[_0x367c8e(0x2cd)](0x10)[_0x367c8e(0x188)](0x2,'0'))[_0x367c8e(0x28d)]('');});}function toggleNotifications(){const _0x4d86e4=_0x45f4e7,_0x3a75a5={'nVrjC':function(_0x2993de,_0x448941){return _0x2993de===_0x448941;},'lIgfO':'notifToggleBtn','PTBlU':_0x4d86e4(0x16c),'cbwEd':function(_0x183bc5,_0x148fca){return _0x183bc5!==_0x148fca;},'hhXpz':_0x4d86e4(0x239)};_0x3a75a5['cbwEd'](Notification['permission'],_0x3a75a5['hhXpz'])?Notification[_0x4d86e4(0x1b3)]()[_0x4d86e4(0x2e2)](_0x1e36c1=>{const _0x20c19c=_0x4d86e4;_0x3a75a5[_0x20c19c(0x170)](_0x1e36c1,_0x20c19c(0x239))&&(notificationsEnabled=!![],document[_0x20c19c(0x200)](_0x3a75a5[_0x20c19c(0x2b6)])['innerText']=_0x3a75a5[_0x20c19c(0x329)]);}):(notificationsEnabled=!notificationsEnabled,document['getElementById'](_0x3a75a5[_0x4d86e4(0x2b6)])['innerText']=notificationsEnabled?_0x3a75a5[_0x4d86e4(0x329)]:_0x4d86e4(0x1ce));}function toggleAuthMode(){const _0x1395ac=_0x45f4e7,_0x5d7ecc={'xiqge':_0x1395ac(0x2de),'dYehX':_0x1395ac(0x185),'XkGuZ':_0x1395ac(0x2f4),'BTBYR':_0x1395ac(0x211),'KkVQk':'Register','XOLev':_0x1395ac(0x305),'RfoCt':_0x1395ac(0x1eb),'kCtrX':_0x1395ac(0x19d),'IzHsB':_0x1395ac(0x175),'RaaeM':_0x1395ac(0x292),'ZXuiC':_0x1395ac(0x16d)},_0x367c6d=_0x5d7ecc[_0x1395ac(0x1fe)][_0x1395ac(0x36c)]('|');let _0x237bd7=0x0;while(!![]){switch(_0x367c6d[_0x237bd7++]){case'0':document['getElementById'](_0x1395ac(0x17f))['style'][_0x1395ac(0x356)]=_0x5d7ecc[_0x1395ac(0x2af)];continue;case'1':document['getElementById'](_0x5d7ecc[_0x1395ac(0x1e0)])[_0x1395ac(0x204)][_0x1395ac(0x356)]='none';continue;case'2':document[_0x1395ac(0x200)](_0x5d7ecc[_0x1395ac(0x354)])[_0x1395ac(0x24d)]=isRegisterMode?_0x5d7ecc[_0x1395ac(0x20e)]:_0x5d7ecc['XOLev'];continue;case'3':document[_0x1395ac(0x200)](_0x5d7ecc['RfoCt'])[_0x1395ac(0x24d)]=isRegisterMode?_0x5d7ecc[_0x1395ac(0x20e)]:_0x5d7ecc[_0x1395ac(0x253)];continue;case'4':document['getElementById'](_0x5d7ecc[_0x1395ac(0x291)])['style'][_0x1395ac(0x356)]=isRegisterMode?_0x1395ac(0x292):_0x5d7ecc[_0x1395ac(0x2af)];continue;case'5':isRegisterMode=!isRegisterMode;continue;case'6':document[_0x1395ac(0x200)](_0x5d7ecc[_0x1395ac(0x300)])['style'][_0x1395ac(0x356)]=isRegisterMode?_0x5d7ecc[_0x1395ac(0x2fb)]:_0x1395ac(0x185);continue;case'7':document[_0x1395ac(0x200)](_0x5d7ecc[_0x1395ac(0x2c1)])[_0x1395ac(0x204)][_0x1395ac(0x356)]=isRegisterMode?_0x5d7ecc['RaaeM']:_0x1395ac(0x185);continue;}break;}}function previewAvatar(){const _0x1cd212=_0x45f4e7,_0x1fb4fa={'mySfU':'authAvatarPreview','isnUp':_0x1cd212(0x292),'JsSfP':_0x1cd212(0x16d)},_0x2baf90=document['getElementById'](_0x1fb4fa[_0x1cd212(0x1d0)]);if(!_0x2baf90[_0x1cd212(0x338)]['length'])return;const _0x102bfc=new FileReader();_0x102bfc['onloadend']=()=>{const _0x5177da=_0x1cd212;document['getElementById'](_0x5177da(0x2f4))[_0x5177da(0x202)]=_0x102bfc[_0x5177da(0x1e1)],document['getElementById'](_0x1fb4fa[_0x5177da(0x376)])['style'][_0x5177da(0x356)]=_0x1fb4fa[_0x5177da(0x262)];},_0x102bfc['readAsDataURL'](_0x2baf90['files'][0x0]);}function _0x840e(){const _0x31461e=['bXDYx','XkGuZ','result','createElement','xYkRA','audioBase64','109775DmpLwq','BgiHU','NqxCw','scrollTop','SuOpV','profiles/','authSubmitBtn','Please\x20fill\x20in\x20all\x20fields.','sdaYo','namePreview','lastOnline','hidden','ddEma','play','✅\x20Profile\x20updated!\x20Please\x20reload.','editProfileError','jsthJ','vzosl','cLTsI','antispam/','<span\x20style=\x22color:darkgreen;font-weight:bold;\x22>[Mod]</span>','dick','bwrTq','alhTU','ubEye','xiqge','Session\x20expired.','getElementById','rWliv','src','wdMnv','style','apeEg','from','aSEnW','mflXI','kfgWe','value','KAKFx','DKpmb','ykJAL','KkVQk','rtEMA','RlllC','authTitle','userAgent','easy-chatroom.firebaseapp.com','cabron','Failed\x20to\x20register\x20user\x20into\x20room.','EuUGk','avatar_base64','\x0a\x20\x20\x20\x20','subtle','VOZZy','ovqSV','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','cJwmt','rooms','tdMrA','\x20deleted.','btlJF','some','1|2|0|4|3','kNgAD','SLlIE','koJDM','rGJzA','emsvz','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','JbxOn','warn','<br>','jksKA','roomCodeInput','Account\x20not\x20found.','chat_username','PNPXP','mierda','JZCdH','contains','55KVDoTq','width','pnqqG','EmHHm','granted','NuBpn','✅\x20Profile\x20picture\x20updated!','/typing','passwordScreen','XCkVx','BmAbZ','lHgSh','XNcmd','</small>','LUYhy','child_added','jPmHd','KlNOH','MwBUU','basKB','GIzGH','opevC','kLpjX','QaQbV','innerText','LVNfi','\x27,\x2010)\x22>Mute\x2010m</button>','ondataavailable','1:985049198428:web:d0eb7e2de39887710c9b99','0123456789','XOLev','fdp','yhogl','bastard','9JtMySU','Please\x20enter\x20the\x20password.','MHXCw','yrOcW','bwisit','gr8stg/','IVrMt','kshMz','dev','moderator','onlineStatus','isnUp','NkOZt','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','recordBtn','wIMGT','hdviu','GAOta','content','div','wmkdH','OyOfo','220640AjHQXK','LPDVq','set','sender','onloadend','/avatarBase64','YhJuX','border','QWxmd','now','KHPcx','usernameScreen','No\x20bio\x20set','CCNqy','WnPqA','/messages','pausedOverlay','auth/','announcementArea','nNQoZ','RSlbs','You\x20got\x20a\x20message\x20from\x20','remove','limitToLast','ulol','aZFrG','keypress','ZRGGe','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','profileViewer','eshAL','ref','join','DrhfS','data:audio/webm;base64,','GYmKu','kCtrX','block','toLowerCase','G-QDESJ2WR42','No\x20room\x20code\x20available\x20for\x20private\x20rooms','addAnnouncementBtn','qgqHV','<span\x20class=\x22sender-name\x22>','forEach','pVVzQ','DOMContentLoaded','avatarBase64','puta','XlAqv','</div>','PWpGm','ERYOQ','readAsDataURL','UrnWb','<span\x20style=\x22color:darkred;font-weight:bold;\x22>[Admin]</span>','DZOtl','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','2-digit','reload','JnGiW','ePHCr','sent','vjLkD','KaXgr','gZsVY','dYehX','dDFhI','NhqRr','innerHTML','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','qKtQD','aWZAn','lIgfO','roomChoiceScreen','\x20muted\x20for\x20','tSMqt','Remove\x20Announcement?','merda','unJbt','usernameHistory','iJMta','drhHf','digest','ZXuiC','Passwords\x20do\x20not\x20match.','dBIXt','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.',')\x20New\x20message\x20•\x20','disabled','ZBDgq','editProfileScreen','bobo','flex','18898099yAxVZg','</span>','toString','onstop','sidebarAvatarPreview','pECbe','SehuJ','error','qPFwa','#00ff88','\x0aLast\x20Changed:\x20','bLsZj','height','xjECl','zqMSi','AEMrv','tHyFs','NSKxM','0|2|3|1|4','5|2|4|6|7|1|3|0','ServerValue','sounds/beep.mp3','classList','then','kgMJK','Profile\x20not\x20found.','push','catch','XqyOu','weFdC','state','Type\x20a\x20message...','xvbXe','rKLet','profileDescriptionInput','<button\x20onclick=\x22muteUser(\x27','roomDisplay','moderators/','ClRbF','DyRXE','unFsZ','authAvatarPreview','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','kqOZX','AebQq','\x20in\x20room\x20','zwGrr','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','RaaeM','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','UOkvX','staticPasswordInput','gggSM','IzHsB','floor','update','CAKYY','encode','Login','❌\x20Username\x20already\x20taken.','\x0aDescription:\x20','values','TzSSA','online','#888','admin','authUsername','<small>','random','hihLc','title','MpIUO','audioUrl','back','Room\x20password\x20not\x20set.\x20Cannot\x20join.','<img\x20src=\x22data:image/png;base64,','user','userSidebar','FOClh','TjXCS','Please\x20enter\x20your\x20current\x20password.','oPiBW','BFEmK','deleteMessage','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','visibilitychange','3323480hoVbqe','exists','volume','database','2px\x20solid\x20red','⚠️\x20Failed\x20to\x20update\x20avatar.','UHzeR','ZvgWG','PTBlU','kliJA','Enter\x20your\x20new\x20username:','antispamBlocked/','GohIB','BvYlX','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','AMiUg','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','<audio\x20controls\x20src=\x22','mediaDevices','ABCDEFGHIJKLMNOPQRSTUVWXYZ','profileContent','getItem','val','files','Error\x20checking\x20username:','created','sidebarOpen','HDNyt','suqWC','addEventListener','kXbsT','AjgQd','get','passwordHash','TLwse','30741DPsSHE','onDisconnect','GYsWO','gwPtt','start','codeEntryScreen','oUfMr','PNDir','New\x20Chat\x20Message','/announcement','WNwQb','tangina','trim','porra','lXHEj','dczkF','BTBYR','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','display','prsSs','OvWqu','\x20typing...','mute','substr','WMxeG','toLocaleTimeString','SAZSm','CwTAR','IZkpu','input','userOptions-','nfClZ','passwordError','YfdFN','sendBtn','received','\x0aName:\x20','length','USDLJ','pendejo','split','BNSze','lxPLD','232feluOJ','20zjjbcH','stop','qotvM','KyFaC','\x0aUsername\x20History:\x20','preventDefault','mySfU','LZsTI','znUid','profileScreen','<button\x20onclick=\x22promoteToModerator(\x27','MTKMH','RdZXd','msg','REAPf','MDrMj','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','TwVXd','●\x20Online','typing','rueRF','toLocaleString','fuck','eDaid','nclmN','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/paused','key','profile_description','click','onload','MHEdp','LvrkH','msgInput','hyksZ','🔕\x20Disable\x20Notifications','authAvatar','gQBlI','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','nVrjC','/messages/','rooms/','add','BdzDS','authDescription','easy-chatroom','SHA-256','jjoQS','EDiqQ','users/','\x20minutes.','dXrUw','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','map','authError','Admins\x20only.','fSPtr','once','<span\x20style=\x22color:darkblue;font-weight:bold;\x22>[Dev]</span>','flagPageAttention','none','clear','DIjQM','padStart','dtFpz','putang\x20ina','WoSHU','zMvmw','usjse','active','permission','Enter\x20a\x20valid\x20room\x20code','KduyY','uwKSB','fnAcH','yHUSn','lastChanged','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','\x27)\x22>Promote\x20to\x20Moderator</button>','Incorrect\x20current\x20password.','<span\x20style=\x22margin-right:8px;\x22>👤</span>','jmIXg','You\x20got\x20messages\x20from\x20','chatScreen','authPasswordConfirm','TIMESTAMP','appendChild','tzsNf','fimee','show','jYoLd','editBioInput','WuybJ','VuBme','description','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','VjNNI','gago','TeskF','VKbLe','GqoKf','data:image/png;base64,','10526826hLADEr','antispam','fWFJs','UvbvR','requestPermission','UnLdq','coño','color','role','CHyWc','getUserMedia','Room\x20is\x20paused.\x20Wait\x20for\x20Dev/Admin\x20to\x20resume.','username','zanIg','[Unknown\x20Message]','NSnHe','XPBCo','audio/webm','filter','muted/','<button\x20onclick=\x22deleteUserMessages(\x27','YChMc','TEoER','antispamBlocked','nwIAy','orderByChild','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20','includes','tuHGK','lKrUd','bnUPQ','🔔\x20Enable\x20Notifications','ImzcY','JsSfP','replace','HuWxZ','profileUsernameInput','🎙️','lxKyP','admins/','newPasswordInput','setItem','KROpG','2186828noCTNQ','nnqAj','jUTzX','placeholder','shit'];_0x840e=function(){return _0x31461e;};return _0x840e();}async function submitAuth(){const _0x2959c8=_0x45f4e7,_0x19bde7={'aWMhI':function(_0x1fe1d7,_0x1d3e57,_0xc82daa,_0x5d7329,_0x172521){return _0x1fe1d7(_0x1d3e57,_0xc82daa,_0x5d7329,_0x172521);},'kshMz':_0x2959c8(0x30d),'rsRDR':'authPassword','OyOfo':'authPasswordConfirm','ovqSV':_0x2959c8(0x16d),'jksKA':_0x2959c8(0x17f),'zkbVV':function(_0x566c52,_0x266b7a){return _0x566c52||_0x266b7a;},'aWZAn':_0x2959c8(0x1ec),'RdZXd':_0x2959c8(0x292),'IZkpu':function(_0x116eeb,_0x532ebf){return _0x116eeb(_0x532ebf);},'pnqqG':'Username\x20already\x20exists.','WoSHU':function(_0x3f7deb,_0x3c9f5f){return _0x3f7deb!==_0x3c9f5f;},'KROpG':_0x2959c8(0x2c2),'JKQDp':_0x2959c8(0x22f),'KlNOH':function(_0x5842aa,_0x590c5f){return _0x5842aa!==_0x590c5f;},'rueRF':'Incorrect\x20password.','HuWxZ':_0x2959c8(0x317),'PNDir':function(_0x28e5b6){return _0x28e5b6();}},_0x2d1381=document[_0x2959c8(0x200)](_0x19bde7[_0x2959c8(0x25e)])[_0x2959c8(0x20a)][_0x2959c8(0x350)](),_0x4cf6e0=document['getElementById'](_0x19bde7['rsRDR'])['value'][_0x2959c8(0x350)](),_0x2c703a=document[_0x2959c8(0x200)](_0x19bde7[_0x2959c8(0x26c)])[_0x2959c8(0x20a)][_0x2959c8(0x350)](),_0x5f0948=document[_0x2959c8(0x200)](_0x2959c8(0x175))['value'][_0x2959c8(0x350)](),_0x373b06=document['getElementById'](_0x19bde7[_0x2959c8(0x21b)]),_0x8d409f=document['getElementById'](_0x19bde7[_0x2959c8(0x22d)]);_0x8d409f['style'][_0x2959c8(0x356)]=_0x2959c8(0x185);if(_0x19bde7['zkbVV'](!_0x2d1381,!_0x4cf6e0)){_0x8d409f['innerText']=_0x19bde7[_0x2959c8(0x2b5)],_0x8d409f[_0x2959c8(0x204)][_0x2959c8(0x356)]=_0x19bde7['RdZXd'];return;}const _0x2f875d=_0x19bde7['IZkpu'](sanitizeUsername,_0x2d1381),_0x593010=await db[_0x2959c8(0x28c)](_0x2959c8(0x27e)+_0x2f875d)[_0x2959c8(0x341)]();if(isRegisterMode){if(_0x593010[_0x2959c8(0x322)]()){_0x8d409f['innerText']=_0x19bde7[_0x2959c8(0x237)],_0x8d409f[_0x2959c8(0x204)][_0x2959c8(0x356)]=_0x19bde7[_0x2959c8(0x37c)];return;}if(_0x19bde7[_0x2959c8(0x18b)](_0x4cf6e0,_0x2c703a)){_0x8d409f['innerText']=_0x19bde7[_0x2959c8(0x1d9)],_0x8d409f['style'][_0x2959c8(0x356)]=_0x19bde7[_0x2959c8(0x37c)];return;}let _0x35db7a='';if(_0x373b06[_0x2959c8(0x338)][_0x2959c8(0x369)]){const _0xc48a0a=new FileReader();_0xc48a0a[_0x2959c8(0x271)]=async()=>{const _0x170ab4=_0x2959c8;_0x35db7a=_0xc48a0a[_0x170ab4(0x1e1)][_0x170ab4(0x36c)](',')[0x1],await _0x19bde7['aWMhI'](createNewUser,_0x2f875d,_0x4cf6e0,_0x5f0948,_0x35db7a);},_0xc48a0a[_0x2959c8(0x2a2)](_0x373b06[_0x2959c8(0x338)][0x0]);}else await createNewUser(_0x2f875d,_0x4cf6e0,_0x5f0948,_0x35db7a);}else{if(!_0x593010[_0x2959c8(0x322)]()){_0x8d409f[_0x2959c8(0x24d)]=_0x19bde7['JKQDp'],_0x8d409f['style'][_0x2959c8(0x356)]=_0x2959c8(0x292);return;}const _0x17c427=_0x593010[_0x2959c8(0x337)](),_0x1d9e6b=await _0x19bde7[_0x2959c8(0x360)](sha256,_0x4cf6e0);if(_0x19bde7[_0x2959c8(0x246)](_0x1d9e6b,_0x17c427['passwordHash'])){_0x8d409f[_0x2959c8(0x24d)]=_0x19bde7[_0x2959c8(0x384)],_0x8d409f[_0x2959c8(0x204)][_0x2959c8(0x356)]='block';return;}username=_0x17c427['username'],avatarBase64=_0x17c427[_0x2959c8(0x29c)]||'',userDescription=_0x17c427['description']||'',role=_0x17c427[_0x2959c8(0x1b7)]||_0x19bde7[_0x2959c8(0x1d2)],_0x19bde7[_0x2959c8(0x34b)](startAfterAuth);}}async function saveNewUser(_0x5816f,_0x290cfd,_0xd5ea17,_0x693f55,_0x138c71){const _0x2bfcf8=_0x45f4e7,_0x3589db={'ZvgWG':function(_0x219c2c,_0x5e6efa){return _0x219c2c(_0x5e6efa);},'MZTKo':_0x2bfcf8(0x317),'EmHHm':function(_0x47a4ca,_0x4607ce){return _0x47a4ca||_0x4607ce;}},_0x5d7577=db[_0x2bfcf8(0x28c)](_0x2bfcf8(0x27e)+_0x3589db[_0x2bfcf8(0x328)](sanitizeUsername,_0x5816f)),_0x1ef794={'username':_0x5816f,'passwordHash':_0x290cfd,'role':_0x3589db['MZTKo'],'deviceId':_0xd5ea17,'description':_0x138c71||'','avatarBase64':_0x3589db[_0x2bfcf8(0x238)](_0x693f55,''),'usernameHistory':[_0x5816f],'lastChanged':Date['now']()};await _0x5d7577[_0x2bfcf8(0x26f)](_0x1ef794),username=_0x5816f,_0x693f55=_0x1ef794[_0x2bfcf8(0x29c)],userDescription=_0x1ef794['description'],startAfterAuth();}async function startAfterAuth(){const _0xe960d9=_0x45f4e7,_0x148804={'GYsWO':function(_0x17cd91,_0x41a855){return _0x17cd91(_0x41a855);},'bXDYx':_0xe960d9(0x317),'iWyZM':function(_0x1f2a61,_0x1ea717){return _0x1f2a61+_0x1ea717;},'TeskF':_0xe960d9(0x1ae),'xbHoT':_0xe960d9(0x292),'mJfdU':_0xe960d9(0x380),'dtFpz':_0xe960d9(0x1ee),'UrnWb':_0xe960d9(0x2b7)},_0x1119cd=_0x148804[_0xe960d9(0x346)](sanitizeUsername,username),_0x59e7ba=db[_0xe960d9(0x28c)](_0xe960d9(0x27e)+_0x1119cd),_0x5941b3=await _0x59e7ba[_0xe960d9(0x341)]();if(_0x5941b3[_0xe960d9(0x322)]()){const _0x5e8219=_0x5941b3['val']();username=_0x5e8219[_0xe960d9(0x1bb)],userDescription=_0x5e8219['description']||'',avatarBase64=_0x5e8219[_0xe960d9(0x29c)]||'',role=_0x5e8219[_0xe960d9(0x1b7)]||_0x148804[_0xe960d9(0x1df)];if(avatarBase64){const _0x2e12fa=document['getElementById'](_0xe960d9(0x2cf));_0x2e12fa[_0xe960d9(0x202)]=_0x148804['iWyZM'](_0x148804[_0xe960d9(0x1ab)],avatarBase64),_0x2e12fa['style'][_0xe960d9(0x356)]=_0x148804['xbHoT'];}}else console[_0xe960d9(0x22b)](_0x148804['mJfdU']);document[_0xe960d9(0x200)](_0x148804[_0xe960d9(0x189)])[_0xe960d9(0x24d)]=username,_0x148804[_0xe960d9(0x346)](showScreen,_0x148804[_0xe960d9(0x2a3)]);}function toggleRecording(){const _0x59c699=_0x45f4e7,_0x4b7501={'RlllC':_0x59c699(0x1c0),'gwPtt':_0x59c699(0x265),'tvkBo':function(_0x4ff051,_0x18813f,_0x29ecde){return _0x4ff051(_0x18813f,_0x29ecde);},'fWFJs':function(_0x5bbef2,_0x2fc46b){return _0x5bbef2(_0x2fc46b);},'MTXDf':'Microphone\x20permission\x20denied.','fmePv':function(_0xc262f1){return _0xc262f1();}};isRecording?_0x4b7501['fmePv'](stopRecording):navigator[_0x59c699(0x333)][_0x59c699(0x1b9)]({'audio':!![]})[_0x59c699(0x2e2)](_0x116f96=>{const _0x346185=_0x59c699;mediaRecorder=new MediaRecorder(_0x116f96),mediaRecorder[_0x346185(0x348)](),isRecording=!![],document['getElementById'](_0x4b7501[_0x346185(0x347)])[_0x346185(0x24d)]='⏹️',audioChunks=[],mediaRecorder[_0x346185(0x250)]=_0x2b432a=>audioChunks[_0x346185(0x2e5)](_0x2b432a['data']),mediaRecorder[_0x346185(0x2ce)]=()=>{const _0x534715=_0x346185;clearTimeout(recordingTimer);const _0x846516=new Blob(audioChunks,{'type':_0x4b7501[_0x534715(0x210)]}),_0x492114=new FileReader();_0x492114['onloadend']=()=>{const _0x3549ff=_0x534715,_0xa56050=_0x492114['result'][_0x3549ff(0x36c)](',')[0x1],_0x47775c=db['ref']()[_0x3549ff(0x2e5)]()[_0x3549ff(0x38b)];db[_0x3549ff(0x28c)](_0x3549ff(0x172)+roomCode+_0x3549ff(0x171)+_0x47775c)['set']({'msg':'[Voice\x20message]','audioBase64':_0xa56050,'sender':username,'senderId':clientId,'timestamp':Date[_0x3549ff(0x276)]()});},_0x492114[_0x534715(0x2a2)](_0x846516);},recordingTimer=_0x4b7501['tvkBo'](setTimeout,()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})[_0x59c699(0x2e6)](_0x4456a1=>{const _0x183a22=_0x59c699;_0x4b7501[_0x183a22(0x1b1)](alert,_0x4b7501['MTXDf']);});}function stopRecording(){const _0x306ec4=_0x45f4e7,_0x612451={'YhJuX':_0x306ec4(0x265),'nclmN':_0x306ec4(0x1d4)};mediaRecorder&&isRecording&&(mediaRecorder[_0x306ec4(0x371)](),isRecording=![],document['getElementById'](_0x612451[_0x306ec4(0x273)])['innerText']=_0x612451[_0x306ec4(0x388)]);}window[_0x45f4e7(0x38e)]=async()=>{const _0x2d3b5a=_0x45f4e7,_0x239de4={'UOkvX':_0x2d3b5a(0x2dd),'jYoLd':function(_0x5adccd){return _0x5adccd();},'GIzGH':function(_0x27770f){return _0x27770f();},'UnLdq':function(_0x1d8805,_0x3706c1){return _0x1d8805(_0x3706c1);}},_0x5be8c6=_0x239de4[_0x2d3b5a(0x2fd)][_0x2d3b5a(0x36c)]('|');let _0x5752c2=0x0;while(!![]){switch(_0x5be8c6[_0x5752c2++]){case'0':_0x239de4[_0x2d3b5a(0x1a3)](cleanupOldRooms);continue;case'1':resetWebsiteData();continue;case'2':_0x239de4[_0x2d3b5a(0x249)](setupSidebarBackHandler);continue;case'3':_0x239de4[_0x2d3b5a(0x1a3)](setupVisibilityAttention);continue;case'4':_0x239de4[_0x2d3b5a(0x1b4)](showScreen,'authScreen');continue;}break;}};function sanitizeUsername(_0x104336){const _0x3dffe3=_0x45f4e7;return _0x104336[_0x3dffe3(0x1d1)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5e52c1=_0x45f4e7,_0x330a26={'VmUuc':_0x5e52c1(0x21c),'xvbXe':'block','nnqAj':_0x5e52c1(0x230),'BgiHU':_0x5e52c1(0x38c),'piHxm':function(_0x319c9c,_0x44ba65){return _0x319c9c(_0x44ba65);},'ddEma':_0x5e52c1(0x1ee),'wdMnv':_0x5e52c1(0x306),'EuUGk':_0x5e52c1(0x339),'uhqkp':_0x5e52c1(0x355),'MpIUO':_0x5e52c1(0x1d3),'kXbsT':_0x5e52c1(0x2ed),'GYmKu':'profileError','IqTFG':function(_0x3b9d74,_0x339e2b){return _0x3b9d74||_0x339e2b;},'CAKYY':function(_0x1f2df3,_0xb9023c){return _0x1f2df3(_0xb9023c);},'wmkdH':_0x5e52c1(0x20a)},_0x4f5e9c=document[_0x5e52c1(0x200)](_0x330a26[_0x5e52c1(0x312)])[_0x5e52c1(0x20a)][_0x5e52c1(0x350)](),_0x36b88d=document['getElementById'](_0x330a26[_0x5e52c1(0x33f)])[_0x5e52c1(0x20a)][_0x5e52c1(0x350)](),_0x208752=document[_0x5e52c1(0x200)](_0x330a26[_0x5e52c1(0x290)]);if(_0x330a26['IqTFG'](!_0x4f5e9c,!_0x36b88d)){_0x208752[_0x5e52c1(0x24d)]='Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.',_0x208752[_0x5e52c1(0x204)]['display']=_0x330a26[_0x5e52c1(0x2eb)];return;}const _0x5cfbac=_0x330a26[_0x5e52c1(0x303)](sanitizeUsername,_0x4f5e9c),_0x1fb352=db[_0x5e52c1(0x28c)](_0x5e52c1(0x1ea)+_0x5cfbac);_0x1fb352[_0x5e52c1(0x182)](_0x330a26[_0x5e52c1(0x26b)])['then'](_0x12c542=>{const _0x35d2b0=_0x5e52c1;if(_0x12c542[_0x35d2b0(0x322)]())_0x208752['innerText']=_0x330a26[_0x35d2b0(0x203)],_0x208752[_0x35d2b0(0x204)][_0x35d2b0(0x356)]=_0x330a26[_0x35d2b0(0x2eb)];else{const _0x460635={'username':_0x4f5e9c,'description':_0x36b88d,'lastChanged':Date['now'](),'usernameHistory':[_0x4f5e9c]};_0x1fb352['set'](_0x460635,_0x6226c3=>{const _0x5a0040=_0x35d2b0;if(_0x6226c3)console['error']('Failed\x20to\x20save\x20profile:',_0x6226c3),_0x208752[_0x5a0040(0x24d)]=_0x330a26['VmUuc'],_0x208752[_0x5a0040(0x204)]['display']=_0x330a26[_0x5a0040(0x2eb)];else{const _0x15abca=_0x5a0040(0x223)[_0x5a0040(0x36c)]('|');let _0x95de80=0x0;while(!![]){switch(_0x15abca[_0x95de80++]){case'0':username=_0x4f5e9c;continue;case'1':localStorage[_0x5a0040(0x1d8)](_0x330a26[_0x5a0040(0x1db)],_0x4f5e9c);continue;case'2':localStorage[_0x5a0040(0x1d8)](_0x330a26[_0x5a0040(0x1e6)],_0x36b88d);continue;case'3':_0x330a26['piHxm'](showScreen,'roomChoiceScreen');continue;case'4':document[_0x5a0040(0x200)](_0x330a26[_0x5a0040(0x1f1)])[_0x5a0040(0x24d)]=_0x4f5e9c;continue;}break;}}});}})['catch'](_0x4670ce=>{const _0x9b6cf=_0x5e52c1;console['error'](_0x330a26[_0x9b6cf(0x216)],_0x4670ce),_0x208752[_0x9b6cf(0x24d)]=_0x330a26['uhqkp'],_0x208752[_0x9b6cf(0x204)][_0x9b6cf(0x356)]=_0x330a26[_0x9b6cf(0x2eb)];});}function saveProfile(_0x1dabc5,_0x6bf17d,_0x44c3a4){const _0x28cda3=_0x45f4e7,_0x58e3ec={'BAnLf':'namePreview','GAOta':function(_0x289282,_0x54d114){return _0x289282(_0x54d114);},'eRANc':_0x28cda3(0x2b7)},_0x1b9094=Date[_0x28cda3(0x276)](),_0x5ac2cc=[_0x1dabc5];db[_0x28cda3(0x28c)](_0x28cda3(0x1ea)+_0x44c3a4)['set']({'username':_0x1dabc5,'description':_0x6bf17d,'lastChanged':_0x1b9094,'usernameHistory':_0x5ac2cc}),document['getElementById'](_0x58e3ec['BAnLf'])[_0x28cda3(0x24d)]=_0x1dabc5,_0x58e3ec[_0x28cda3(0x268)](showScreen,_0x58e3ec['eRANc']);}function generateRoom(){const _0x6fcfee=_0x45f4e7,_0x326870={'cLTsI':function(_0x1169f1){return _0x1169f1();},'jQwcl':function(_0x4d4b82,_0x5b1008){return _0x4d4b82+_0x5b1008;},'kliJA':_0x6fcfee(0x172)};roomCode=_0x326870[_0x6fcfee(0x1f7)](genRoomCode),db[_0x6fcfee(0x28c)](_0x326870['jQwcl'](_0x326870[_0x6fcfee(0x32a)],roomCode))[_0x6fcfee(0x26f)]({'active':!![],'created':Date[_0x6fcfee(0x276)]()}),_0x326870[_0x6fcfee(0x1f7)](startChat);}function joinRoom(){const _0x1efdb5=_0x45f4e7,_0x4de848={'XPBCo':function(_0x3eec8f){return _0x3eec8f();},'pECbe':function(_0x54e5e8,_0x3c874b){return _0x54e5e8(_0x3c874b);},'nQGvS':_0x1efdb5(0x264),'wIMGT':_0x1efdb5(0x190),'neLPl':function(_0x49f1d2,_0x38f1fb){return _0x49f1d2===_0x38f1fb;},'btlJF':function(_0x15d7ef,_0x5c4c1e){return _0x15d7ef(_0x5c4c1e);},'tdMrA':_0x1efdb5(0x23d),'NqxCw':function(_0x5d83dc,_0x5fa02e){return _0x5d83dc+_0x5fa02e;},'zqMSi':_0x1efdb5(0x172)},_0x40e714=roomCode||document[_0x1efdb5(0x200)](_0x1efdb5(0x22e))['value'][_0x1efdb5(0x350)]()['toUpperCase']();if(!_0x40e714)return alert(_0x4de848[_0x1efdb5(0x266)]);roomCode=_0x40e714;if(_0x4de848['neLPl'](roomCode,STATIC_ROOM)){_0x4de848[_0x1efdb5(0x221)](showScreen,_0x4de848[_0x1efdb5(0x21f)]);return;}db[_0x1efdb5(0x28c)](_0x4de848[_0x1efdb5(0x1e7)](_0x4de848[_0x1efdb5(0x2d9)],roomCode))[_0x1efdb5(0x341)]()[_0x1efdb5(0x2e2)](_0x422008=>{const _0x1d6063=_0x1efdb5;_0x422008['exists']()&&_0x422008[_0x1d6063(0x337)]()[_0x1d6063(0x18e)]!==![]?_0x4de848[_0x1d6063(0x1bf)](startChat):_0x4de848[_0x1d6063(0x2d0)](alert,_0x4de848['nQGvS']);});}async function startChat(){const _0x19a4a3=_0x45f4e7,_0x334b6e={'hdviu':function(_0x5c91c5,_0x515239){return _0x5c91c5(_0x515239);},'VOZZy':_0x19a4a3(0x2cf),'LxHeF':function(_0x56fcbf,_0x505a34){return _0x56fcbf+_0x505a34;},'NuBpn':'data:image/png;base64,','emsvz':_0x19a4a3(0x292),'rKLet':'userDisplay','ImzcY':function(_0xc08e2a,_0x1f1276){return _0xc08e2a===_0x1f1276;},'KBLoZ':_0x19a4a3(0x295),'TwVXd':'dev','LZsTI':_0x19a4a3(0x296),'unFsZ':'none','kLpjX':_0x19a4a3(0x19c),'SsNPO':function(_0x1900cd){return _0x1900cd();},'KAKFx':function(_0x2b5dd7){return _0x2b5dd7();},'qfFgU':function(_0x4125da){return _0x4125da();},'werKI':function(_0x59ade8){return _0x59ade8();},'xYkRA':'Missing\x20room\x20or\x20user\x20information.','zRsjq':_0x19a4a3(0x2b7),'BFEmK':function(_0x213c62){return _0x213c62();},'eshAL':function(_0x33f154,_0x3095d8){return _0x33f154(_0x3095d8);}};if(!roomCode||!username)return alert(_0x334b6e[_0x19a4a3(0x1e3)]),showScreen(_0x334b6e['zRsjq']);await _0x334b6e[_0x19a4a3(0x20b)](loadRoomRoles),_0x334b6e[_0x19a4a3(0x31d)](listenForAnnouncement);const _0x4e28a4=_0x334b6e[_0x19a4a3(0x28b)](sanitizeUsername,username),_0x5af122=db[_0x19a4a3(0x28c)](_0x19a4a3(0x17a)+roomCode+'/'+_0x4e28a4),_0x56ef06={'username':username,'online':!![],'lastOnline':firebase[_0x19a4a3(0x324)]['ServerValue'][_0x19a4a3(0x19e)]};_0x5af122[_0x19a4a3(0x26f)](_0x56ef06,_0x1c2ae6=>{const _0x4c4ec1=_0x19a4a3;if(_0x1c2ae6)return alert(_0x4c4ec1(0x215)),_0x334b6e['hdviu'](showScreen,_0x4c4ec1(0x2b7));_0x5af122['onDisconnect']()['update']({'online':![],'lastOnline':Date['now']()});const _0x6a4603=document[_0x4c4ec1(0x200)](_0x334b6e[_0x4c4ec1(0x21a)]);avatarBase64&&(_0x6a4603[_0x4c4ec1(0x202)]=_0x334b6e['LxHeF'](_0x334b6e[_0x4c4ec1(0x23a)],avatarBase64),_0x6a4603[_0x4c4ec1(0x204)]['display']=_0x334b6e[_0x4c4ec1(0x228)]),document[_0x4c4ec1(0x200)](_0x334b6e[_0x4c4ec1(0x2ec)])[_0x4c4ec1(0x2b2)]=username+'\x20'+getRoleTag(_0x4e28a4),document['getElementById'](_0x4c4ec1(0x2ef))[_0x4c4ec1(0x24d)]=_0x334b6e['ImzcY'](roomCode,STATIC_ROOM)?_0x334b6e['KBLoZ']:roomCode,_0x334b6e['ImzcY'](role,_0x4c4ec1(0x30c))||_0x334b6e[_0x4c4ec1(0x1cf)](role,_0x334b6e[_0x4c4ec1(0x381)])?document['getElementById'](_0x334b6e[_0x4c4ec1(0x377)])[_0x4c4ec1(0x204)]['display']=_0x334b6e[_0x4c4ec1(0x228)]:document[_0x4c4ec1(0x200)](_0x334b6e[_0x4c4ec1(0x377)])['style'][_0x4c4ec1(0x356)]=_0x334b6e[_0x4c4ec1(0x2f3)],_0x334b6e[_0x4c4ec1(0x267)](showScreen,_0x334b6e[_0x4c4ec1(0x24b)]),_0x334b6e['SsNPO'](listenForMessages),listenForTyping(),_0x334b6e[_0x4c4ec1(0x20b)](startInactivityTimer),_0x334b6e['qfFgU'](trackPresence),_0x334b6e['werKI'](listenForUserList);});}async function fetchProfile(_0x20cc95){const _0x6aae8f=_0x45f4e7,_0x2b60dd=await db[_0x6aae8f(0x28c)](_0x6aae8f(0x27e)+_0x20cc95)['get']();if(!_0x2b60dd[_0x6aae8f(0x322)]())return null;return _0x2b60dd[_0x6aae8f(0x337)]();}function validateStaticRoomPassword(){const _0x4e9182=_0x45f4e7,_0xa51978={'yHUSn':function(_0x5d4200,_0x1f44d1){return _0x5d4200(_0x1f44d1);},'USDLJ':function(_0x6dff7b){return _0x6dff7b();},'NqLwZ':_0x4e9182(0x364),'XCkVx':'block','qgqHV':function(_0x19ae57,_0x28647c){return _0x19ae57(_0x28647c);},'KduyY':_0x4e9182(0x2fe),'BmAbZ':_0x4e9182(0x258)},_0x3bd843=document[_0x4e9182(0x200)](_0xa51978[_0x4e9182(0x191)])[_0x4e9182(0x20a)][_0x4e9182(0x350)]();if(!_0x3bd843){alert(_0xa51978[_0x4e9182(0x23f)]);return;}db[_0x4e9182(0x28c)](_0x4e9182(0x25c)+STATIC_ROOM)[_0x4e9182(0x341)]()['then'](_0x43c8d1=>{const _0x48f8b3=_0x4e9182;if(!_0x43c8d1['exists']()){_0xa51978[_0x48f8b3(0x194)](alert,_0x48f8b3(0x315));return;}const _0x34fc50=_0x43c8d1[_0x48f8b3(0x337)]();_0x3bd843===_0x34fc50?(roomCode=STATIC_ROOM,_0xa51978[_0x48f8b3(0x36a)](startChat)):(document[_0x48f8b3(0x200)](_0xa51978['NqLwZ'])[_0x48f8b3(0x24d)]='Incorrect\x20password',document['getElementById'](_0xa51978['NqLwZ'])['style']['display']=_0xa51978[_0x48f8b3(0x23e)]);})[_0x4e9182(0x2e6)](_0x4aa9c4=>{const _0x213a24=_0x4e9182;console[_0x213a24(0x2d2)](_0x4aa9c4),_0xa51978[_0x213a24(0x297)](alert,_0x213a24(0x31f));});}const spamTimestamps=[];function sendMessage(){const _0x11ba43=_0x45f4e7,_0x7b50bb={'REAPf':_0x11ba43(0x2ea),'HDNyt':_0x11ba43(0x1ba),'wUjvR':_0x11ba43(0x16a),'DZOtl':function(_0x3c4a50,_0x5d556a){return _0x3c4a50||_0x5d556a;},'UHzeR':_0x11ba43(0x2fa),'kfgWe':'4|0|5|1|3|2','opevC':function(_0x145636,_0x48a86d){return _0x145636(_0x48a86d);},'LOLcX':_0x11ba43(0x2c4),'NSKxM':function(_0x5ce903,_0x3ad033,_0x237534){return _0x5ce903(_0x3ad033,_0x237534);},'gZsVY':_0x11ba43(0x2b3)};if(roomIsPaused){alert(_0x7b50bb[_0x11ba43(0x33c)]);return;}const _0x194efa=document[_0x11ba43(0x200)](_0x7b50bb['wUjvR']),_0x5c6ab5=_0x194efa[_0x11ba43(0x20a)][_0x11ba43(0x350)]();if(_0x7b50bb[_0x11ba43(0x2a5)](!_0x5c6ab5,isBlocked))return;const _0x284612=Date[_0x11ba43(0x276)](),_0x4d6d47=_0x5c6ab5[_0x11ba43(0x293)](),_0x437d5d=swearWords['some'](_0x4974f6=>_0x4d6d47[_0x11ba43(0x1ca)](_0x4974f6));if(_0x437d5d){alert(_0x7b50bb[_0x11ba43(0x327)]);return;}spamTimestamps[_0x11ba43(0x2e5)](_0x284612);const _0x4d1730=spamTimestamps[_0x11ba43(0x1c1)](_0x6441cd=>_0x284612-_0x6441cd<0x1b58);if(_0x4d1730['length']>0x5){const _0x593a6b=_0x7b50bb[_0x11ba43(0x209)][_0x11ba43(0x36c)]('|');let _0x3d2584=0x0;while(!![]){switch(_0x593a6b[_0x3d2584++]){case'0':_0x194efa[_0x11ba43(0x2c6)]=!![];continue;case'1':_0x7b50bb['opevC'](alert,_0x7b50bb['LOLcX']);continue;case'2':return;case'3':_0x7b50bb[_0x11ba43(0x2dc)](setTimeout,()=>{const _0x424377=_0x11ba43;isBlocked=![],_0x194efa[_0x424377(0x2c6)]=![],_0x194efa[_0x424377(0x1dd)]=_0x7b50bb[_0x424377(0x37e)],spamTimestamps['length']=0x0;},0x7530);continue;case'4':isBlocked=!![];continue;case'5':_0x194efa[_0x11ba43(0x1dd)]=_0x7b50bb[_0x11ba43(0x2ae)];continue;}break;}}const _0x15e7b8=localStorage['getItem'](_0x11ba43(0x217))||'',_0x2aebb3=db['ref']()[_0x11ba43(0x2e5)]()[_0x11ba43(0x38b)];db[_0x11ba43(0x28c)](_0x11ba43(0x172)+roomCode+_0x11ba43(0x171)+_0x2aebb3)[_0x11ba43(0x26f)]({'msg':_0x5c6ab5,'sender':username,'senderId':clientId,'avatarBase64':_0x15e7b8,'timestamp':_0x284612}),_0x194efa[_0x11ba43(0x20a)]='',_0x7b50bb[_0x11ba43(0x24a)](sendTyping,!![]),lastActivity=_0x284612;}function listenForMessages(){const _0x1e4ac6=_0x45f4e7,_0x28de1b={'oUfMr':function(_0x2966ae,_0x3d9444,_0x315f33,_0x16f108){return _0x2966ae(_0x3d9444,_0x315f33,_0x16f108);},'BdzDS':function(_0x272c73,_0x426ed0){return _0x272c73===_0x426ed0;},'dXrUw':function(_0x2e8d4b,_0x4e9519){return _0x2e8d4b!==_0x4e9519;},'OVaqN':function(_0x38c0f0){return _0x38c0f0();},'YChMc':function(_0x3e3883,_0x577eaf){return _0x3e3883&&_0x577eaf;},'XqyOu':function(_0x3f4280,_0x420bcc,_0x116ff4){return _0x3f4280(_0x420bcc,_0x116ff4);},'CHyWc':_0x1e4ac6(0x1bd),'fimee':_0x1e4ac6(0x244)},_0x27a7be=db[_0x1e4ac6(0x28c)](_0x1e4ac6(0x172)+roomCode+_0x1e4ac6(0x27c)),_0x469507=_0x27a7be[_0x1e4ac6(0x284)](MAX_MESSAGES);userListReady=!![],_0x469507['on'](_0x28de1b[_0x1e4ac6(0x1a1)],_0x37942a=>{const _0x359727=_0x1e4ac6,_0x5c7c22=_0x37942a['val'](),{senderId:_0x389c00}=_0x5c7c22,_0x45f625=_0x28de1b[_0x359727(0x174)](_0x389c00,clientId);if(!userListReady){pendingMessages[_0x359727(0x299)](({data:_0x4b3acd,sent:_0x426412,key:_0x22c881})=>{const _0x24ffad=_0x359727;_0x28de1b[_0x24ffad(0x34a)](addMessage,_0x4b3acd,_0x426412,_0x22c881);}),pendingMessages=[];return;}const _0x3c2048=_0x5c7c22[_0x359727(0x313)]||null,_0x46da92=_0x5c7c22['audioBase64']||null;_0x28de1b[_0x359727(0x34a)](addMessage,_0x5c7c22,_0x45f625,_0x37942a[_0x359727(0x38b)]),_0x28de1b[_0x359727(0x17c)](roomCode,STATIC_ROOM)&&db[_0x359727(0x28c)](_0x359727(0x172)+roomCode+_0x359727(0x171)+_0x37942a[_0x359727(0x38b)])[_0x359727(0x283)](),!_0x45f625&&(sound[_0x359727(0x1f2)](),_0x28de1b['OVaqN'](flagPageAttention)),_0x28de1b[_0x359727(0x1c4)](notificationsEnabled,!_0x45f625)&&_0x28de1b[_0x359727(0x2e7)](stackNotification,_0x5c7c22[_0x359727(0x270)],_0x5c7c22['msg']||(_0x5c7c22[_0x359727(0x1e4)]?'[Voice\x20Message]':_0x28de1b[_0x359727(0x1b8)]));});}function _0xc017(_0x25978a,_0x5bba45){const _0x840e4=_0x840e();return _0xc017=function(_0xc01773,_0x4975f8){_0xc01773=_0xc01773-0x16a;let _0x4ad7de=_0x840e4[_0xc01773];return _0x4ad7de;},_0xc017(_0x25978a,_0x5bba45);}function stackNotification(_0x107fe8,_0x2589cc){const _0x1210e9=_0x45f4e7,_0x3bd2dd={'gbaxE':function(_0x19148b){return _0x19148b();},'apeEg':function(_0xbdc602,_0x2ea364,_0x404534){return _0xbdc602(_0x2ea364,_0x404534);}};notificationStack[_0x1210e9(0x2e5)]({'sender':_0x107fe8,'content':_0x2589cc}),clearTimeout(notificationTimer),notificationTimer=_0x3bd2dd[_0x1210e9(0x205)](setTimeout,()=>{_0x3bd2dd['gbaxE'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0xc9a8e8=_0x45f4e7,_0xd4af61={'ubEye':_0xc9a8e8(0x196),'SAZSm':function(_0x480be9,_0x76bcb5){return _0x480be9||_0x76bcb5;},'kgMJK':'unknown'};if(!notificationStack[_0xc9a8e8(0x369)]||Notification[_0xc9a8e8(0x18f)]!==_0xc9a8e8(0x239))return;const _0x24f8c3=[...new Set(notificationStack[_0xc9a8e8(0x17e)](_0x56d1fc=>_0x56d1fc[_0xc9a8e8(0x270)]))],_0x19dc30=_0xd4af61[_0xc9a8e8(0x35e)](roomCode,_0xd4af61[_0xc9a8e8(0x2e3)]),_0x1a76cd=_0x24f8c3[_0xc9a8e8(0x369)]===0x1?_0xc9a8e8(0x282)+_0x24f8c3[0x0]+_0xc9a8e8(0x2f8)+_0x19dc30+':\x20'+notificationStack[0x0][_0xc9a8e8(0x269)]:_0xc9a8e8(0x19b)+_0x24f8c3[_0xc9a8e8(0x28d)](',\x20')+_0xc9a8e8(0x2f8)+_0x19dc30;setTimeout(()=>{const _0x48ccb7=_0xc9a8e8;new Notification(_0x48ccb7(0x34c),{'body':_0x1a76cd,'icon':_0xd4af61[_0x48ccb7(0x1fd)]});},0x64);}function addMessage(_0x16b2ec,_0x3d8d83,_0x5808fb=null){const _0x2349f9=_0x45f4e7,_0x40c0ae={'tvieF':_0x2349f9(0x26a),'lXHEj':_0x2349f9(0x37d),'AEMrv':_0x2349f9(0x2ab),'koJDM':_0x2349f9(0x367),'tuHGK':_0x2349f9(0x2a7),'DKpmb':function(_0x5a21ac,_0x5e38e6){return _0x5a21ac(_0x5e38e6);},'VjNNI':'messages'},{msg:_0x107d03,sender:_0x25af98,senderId:_0x186f0c,timestamp:_0x56b2a5,audioUrl:_0xbebca8,audioBase64:_0x376340,imageBase64:_0x62fcb}=_0x16b2ec,_0x35046c=document[_0x2349f9(0x1e2)](_0x40c0ae['tvieF']);_0x35046c[_0x2349f9(0x2e1)][_0x2349f9(0x173)](_0x40c0ae[_0x2349f9(0x352)],_0x3d8d83?_0x40c0ae[_0x2349f9(0x2da)]:_0x40c0ae[_0x2349f9(0x226)]);const _0x234c73=new Date(_0x56b2a5)[_0x2349f9(0x35d)]([],{'hour':_0x40c0ae[_0x2349f9(0x1cb)],'minute':_0x40c0ae['tuHGK']}),_0x3f6815=_0x40c0ae[_0x2349f9(0x20c)](sanitizeUsername,_0x25af98),_0x2a47f2=roomUsers[_0x3f6815]||{},_0x483d4b=_0x2a47f2[_0x2349f9(0x29c)]?_0x2349f9(0x316)+_0x2a47f2['avatarBase64']+_0x2349f9(0x17d):_0x2349f9(0x199);let _0x32f3fd=_0x483d4b+_0x2349f9(0x298)+_0x25af98+'\x20'+_0x40c0ae['DKpmb'](getRoleTag,_0x40c0ae['DKpmb'](sanitizeUsername,_0x25af98))+_0x2349f9(0x2cc);_0x2a47f2[_0x2349f9(0x30c)]&&(_0x32f3fd+=_0x2349f9(0x229));_0x32f3fd+=_0x2349f9(0x22c);const _0x384f7b=_0x107d03?.[_0x2349f9(0x1d1)](new RegExp('@'+username+'\x5cb','gi'),_0x2349f9(0x289));if(_0xbebca8)_0x32f3fd+=_0x2349f9(0x332)+_0xbebca8+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x376340){const _0x194fd3=_0x2349f9(0x28f)+_0x376340;_0x32f3fd+=_0x2349f9(0x332)+_0x194fd3+_0x2349f9(0x2a6);}else{if(_0x62fcb){const _0x1b5137='data:image/png;base64,'+_0x62fcb;_0x32f3fd+='<img\x20src=\x22'+_0x1b5137+_0x2349f9(0x1a8);}else _0x32f3fd+='<div>'+_0x384f7b+_0x2349f9(0x29f);}}_0x32f3fd+=_0x2349f9(0x30e)+_0x234c73+_0x2349f9(0x242),_0x35046c[_0x2349f9(0x2b2)]=_0x32f3fd;const _0x19bb5e=document['getElementById'](_0x40c0ae[_0x2349f9(0x1a9)]);_0x19bb5e[_0x2349f9(0x19f)](_0x35046c),_0x19bb5e[_0x2349f9(0x1e8)]=_0x19bb5e['scrollHeight'];}function cleanupOldRooms(){const _0x4143b2=_0x45f4e7,_0x36e7dd={'nwIAy':function(_0x3eca11,_0x51d029){return _0x3eca11!==_0x51d029;},'jjoQS':function(_0x162286,_0x57107b){return _0x162286!==_0x57107b;},'jsthJ':function(_0x290e54,_0x13e188){return _0x290e54===_0x13e188;},'qPFwa':function(_0x238b63,_0x3b48d8){return _0x238b63>_0x3b48d8;},'MwBUU':function(_0x2f1e45,_0x4a9eb7){return _0x2f1e45-_0x4a9eb7;},'JnGiW':function(_0x2a59f3,_0x372780){return _0x2a59f3*_0x372780;},'xjECl':function(_0x50fc78,_0x32c4e7){return _0x50fc78+_0x32c4e7;},'SehuJ':_0x4143b2(0x172),'iJMta':_0x4143b2(0x1b0),'qKtQD':_0x4143b2(0x20a),'JZCdH':_0x4143b2(0x1c6),'LPDVq':_0x4143b2(0x21e)};db['ref'](_0x36e7dd[_0x4143b2(0x26e)])[_0x4143b2(0x182)]('value')[_0x4143b2(0x2e2)](_0x407d02=>{const _0x230309=_0x4143b2,_0x50da85={'lxPLD':function(_0x26dcfc,_0x164848){const _0x4fa4e4=_0xc017;return _0x36e7dd[_0x4fa4e4(0x178)](_0x26dcfc,_0x164848);}},_0x4cb748=_0x407d02[_0x230309(0x337)]();if(!_0x4cb748)return;const _0x2a1cc2=Date[_0x230309(0x276)]();for(const _0x87a435 in _0x4cb748){if(_0x36e7dd[_0x230309(0x1f5)](_0x87a435,STATIC_ROOM))continue;const _0x410c0a=_0x4cb748[_0x87a435];_0x36e7dd[_0x230309(0x2d3)](_0x36e7dd[_0x230309(0x247)](_0x2a1cc2,_0x410c0a[_0x230309(0x33a)]||0x0),_0x36e7dd[_0x230309(0x2a9)](0x2*0x3c,0x3e8))&&db['ref'](_0x36e7dd[_0x230309(0x2d8)](_0x36e7dd[_0x230309(0x2d1)],_0x87a435))[_0x230309(0x283)]();}db[_0x230309(0x28c)](_0x36e7dd[_0x230309(0x2be)])[_0x230309(0x182)](_0x36e7dd[_0x230309(0x2b4)])[_0x230309(0x2e2)](_0x175ad3=>{const _0x19b3df=_0x230309,_0x40243a=_0x175ad3[_0x19b3df(0x337)]();if(!_0x40243a)return;for(const _0x49a022 in _0x40243a){if(_0x50da85[_0x19b3df(0x36e)](_0x49a022,STATIC_ROOM))db[_0x19b3df(0x28c)](_0x19b3df(0x1f8)+_0x49a022)[_0x19b3df(0x283)]();}}),db[_0x230309(0x28c)](_0x36e7dd[_0x230309(0x233)])['once'](_0x36e7dd['qKtQD'])[_0x230309(0x2e2)](_0x442d57=>{const _0x4b6585=_0x230309,_0x19fe29=_0x442d57[_0x4b6585(0x337)]();if(!_0x19fe29)return;for(const _0x2e7a27 in _0x19fe29){if(_0x36e7dd[_0x4b6585(0x1c7)](_0x2e7a27,STATIC_ROOM))db['ref'](_0x4b6585(0x32c)+_0x2e7a27)[_0x4b6585(0x283)]();}});});}document['addEventListener'](_0x45f4e7(0x29b),()=>{const _0x131640=_0x45f4e7,_0x10ed5e={'KyFaC':function(_0x3e5648,_0xd774b9){return _0x3e5648===_0xd774b9;},'FOClh':'Enter','DyRXE':function(_0x90aa76){return _0x90aa76();},'ETdmn':_0x131640(0x16a),'SEmAt':_0x131640(0x287)},_0x3d4b19=document[_0x131640(0x200)](_0x10ed5e['ETdmn']);_0x3d4b19&&_0x3d4b19[_0x131640(0x33e)](_0x10ed5e['SEmAt'],function(_0x501848){const _0x5dbec6=_0x131640;_0x10ed5e[_0x5dbec6(0x373)](_0x501848[_0x5dbec6(0x38b)],_0x10ed5e[_0x5dbec6(0x319)])&&(_0x501848[_0x5dbec6(0x375)](),_0x10ed5e[_0x5dbec6(0x2f2)](sendMessage));});});function showScreen(_0x105981){const _0x27fe8=_0x45f4e7,_0x2c5fc9={'YfdFN':_0x27fe8(0x185),'riZym':_0x27fe8(0x278),'xrgBG':_0x27fe8(0x349),'weFdC':_0x27fe8(0x23d),'kqOZX':_0x27fe8(0x379),'RgvrK':_0x27fe8(0x2ca)};[_0x2c5fc9['riZym'],'roomChoiceScreen',_0x2c5fc9['xrgBG'],'chatScreen',_0x2c5fc9[_0x27fe8(0x2e8)],_0x2c5fc9[_0x27fe8(0x2f6)],_0x27fe8(0x28a),'authScreen']['forEach'](_0xa2ddf4=>{const _0x5c2034=_0x27fe8;document[_0x5c2034(0x200)](_0xa2ddf4)[_0x5c2034(0x204)][_0x5c2034(0x356)]=_0x2c5fc9[_0x5c2034(0x365)];}),document['getElementById'](_0x105981)[_0x27fe8(0x204)]['display']=_0x2c5fc9['RgvrK'];}function genRoomCode(){const _0x1cb912=_0x45f4e7,_0x5682ad={'usjse':_0x1cb912(0x334),'WnPqA':_0x1cb912(0x252),'sdaYo':function(_0x4d0eb2,_0x32171b){return _0x4d0eb2+_0x32171b;},'drhHf':function(_0x495730,_0x54cc9d,_0x22463a){return _0x495730(_0x54cc9d,_0x22463a);}},_0x9aa21f=_0x5682ad[_0x1cb912(0x18d)],_0x3f6365=_0x5682ad[_0x1cb912(0x27b)],_0x4b84bf=(_0x3bc5bd,_0x4cfe91)=>Array[_0x1cb912(0x206)]({'length':_0x4cfe91},()=>_0x3bc5bd[Math[_0x1cb912(0x301)](Math[_0x1cb912(0x30f)]()*_0x3bc5bd['length'])])[_0x1cb912(0x28d)]('');return _0x5682ad[_0x1cb912(0x1ed)](_0x5682ad[_0x1cb912(0x1ed)](_0x5682ad['drhHf'](_0x4b84bf,_0x3f6365,0x3),_0x4b84bf(_0x9aa21f,0x3)),_0x5682ad[_0x1cb912(0x2bf)](_0x4b84bf,_0x3f6365,0x2))+_0x4b84bf(_0x9aa21f,0x2);}function startInactivityTimer(){const _0x74f33=_0x45f4e7,_0x57d74b={'fauYF':function(_0x2e2ccd,_0x4ee9f3){return _0x2e2ccd>_0x4ee9f3;},'rGJzA':function(_0xe64021,_0x2f60a4){return _0xe64021-_0x2f60a4;},'UmRqn':function(_0x311956,_0x523be7){return _0x311956*_0x523be7;},'PNPXP':function(_0x5744c9,_0x56bf53){return _0x5744c9!==_0x56bf53;},'zanIg':function(_0x43aa71,_0x3e868b){return _0x43aa71+_0x3e868b;},'IVrMt':_0x74f33(0x172),'BvYlX':_0x74f33(0x1ff),'GqoKf':function(_0x44904b,_0x50b5f7,_0x573bc7){return _0x44904b(_0x50b5f7,_0x573bc7);}};_0x57d74b[_0x74f33(0x1ad)](setInterval,()=>{const _0x4d7ba0=_0x74f33;_0x57d74b['fauYF'](_0x57d74b[_0x4d7ba0(0x227)](Date[_0x4d7ba0(0x276)](),lastActivity),_0x57d74b['UmRqn'](_0x57d74b['UmRqn'](0x5,0x3c),0x3e8))&&_0x57d74b[_0x4d7ba0(0x231)](roomCode,STATIC_ROOM)&&(db[_0x4d7ba0(0x28c)](_0x57d74b[_0x4d7ba0(0x1bc)](_0x57d74b[_0x4d7ba0(0x25d)],roomCode))[_0x4d7ba0(0x302)]({'active':![]}),alert(_0x57d74b[_0x4d7ba0(0x32e)]),location[_0x4d7ba0(0x2a8)]());},0x7530);}function setupSidebarBackHandler(){const _0x22b560=_0x45f4e7,_0x39d466={'hEFOt':'userSidebar','UoJWM':_0x22b560(0x1a2),'ohEvT':'popstate'};window[_0x22b560(0x33e)](_0x39d466['ohEvT'],()=>{const _0x4d1fea=_0x22b560,_0x21edf8=document[_0x4d1fea(0x200)](_0x39d466['hEFOt']);_0x21edf8?.[_0x4d1fea(0x2e1)][_0x4d1fea(0x234)](_0x4d1fea(0x1a2))&&_0x21edf8[_0x4d1fea(0x2e1)][_0x4d1fea(0x283)](_0x39d466['UoJWM']);});}function toggleSidebar(){const _0x2b99b4=_0x45f4e7,_0x385f53={'nfClZ':_0x2b99b4(0x318),'ePHCr':'show'},_0x1e492a=document[_0x2b99b4(0x200)](_0x385f53[_0x2b99b4(0x363)]);if(!_0x1e492a[_0x2b99b4(0x2e1)][_0x2b99b4(0x234)](_0x385f53['ePHCr']))_0x1e492a[_0x2b99b4(0x2e1)][_0x2b99b4(0x173)](_0x385f53[_0x2b99b4(0x2aa)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x1e492a[_0x2b99b4(0x2e1)][_0x2b99b4(0x283)](_0x385f53[_0x2b99b4(0x2aa)]);if(history[_0x2b99b4(0x2e9)]?.[_0x2b99b4(0x33b)])history[_0x2b99b4(0x314)]();}}function setupVisibilityAttention(){const _0x3c136a=_0x45f4e7;let _0x38b82d=0x0,_0x4816c3=document[_0x3c136a(0x311)];document[_0x3c136a(0x33e)](_0x3c136a(0x320),()=>{const _0x32d388=_0x3c136a;!document[_0x32d388(0x1f0)]&&(document['title']=_0x4816c3,_0x38b82d=0x0);}),window[_0x3c136a(0x184)]=function(){const _0x26b655=_0x3c136a;document['hidden']&&(_0x38b82d++,document[_0x26b655(0x311)]='('+_0x38b82d+_0x26b655(0x2c5)+_0x4816c3);};}function tryEditProfile(){const _0x552086=_0x45f4e7,_0x5a8494={'RSlbs':_0x552086(0x2c8)};document[_0x552086(0x200)](_0x5a8494[_0x552086(0x281)])['style'][_0x552086(0x356)]=_0x552086(0x2ca);}async function submitEditProfile(){const _0x456646=_0x45f4e7,_0x240639={'hyksZ':_0x456646(0x1d7),'BNSze':_0x456646(0x1a4),'suqWC':_0x456646(0x1f4),'iWviB':_0x456646(0x31b),'dDFhI':'block','zMvmw':function(_0x103f8b,_0x557568){return _0x103f8b(_0x557568);},'VuBme':function(_0x557b92,_0x5b697d){return _0x557b92(_0x5b697d);},'gggSM':function(_0xf54280,_0x1f240a){return _0xf54280!==_0x1f240a;},'cJwmt':_0x456646(0x198),'QWxmd':function(_0x17ac35,_0xf8ac5a){return _0x17ac35!==_0xf8ac5a;},'tzsNf':function(_0x14761,_0x3e79d2){return _0x14761*_0x3e79d2;},'bLsZj':function(_0x59c54a,_0x20860f){return _0x59c54a*_0x20860f;},'tHyFs':function(_0x4c2343,_0x1a8324){return _0x4c2343>_0x1a8324;},'FtMSt':function(_0x473db3,_0x492c11){return _0x473db3-_0x492c11;},'dBIXt':_0x456646(0x32b),'oPiBW':function(_0xd773c,_0x38617a){return _0xd773c(_0x38617a);},'KaXgr':_0x456646(0x1f3)},_0x23abf5=document[_0x456646(0x200)]('oldPasswordInput')['value'],_0x27f026=document[_0x456646(0x200)](_0x240639[_0x456646(0x16b)])['value'],_0xb95fff=document[_0x456646(0x200)](_0x240639[_0x456646(0x36d)])[_0x456646(0x20a)][_0x456646(0x350)](),_0x2d5fd3=document[_0x456646(0x200)](_0x240639[_0x456646(0x33d)]);if(!_0x23abf5){_0x2d5fd3['innerText']=_0x240639['iWviB'],_0x2d5fd3[_0x456646(0x204)][_0x456646(0x356)]=_0x240639[_0x456646(0x2b0)];return;}const _0x466f21=_0x240639[_0x456646(0x18c)](sanitizeUsername,username),_0x1653ec=await db[_0x456646(0x28c)](_0x456646(0x27e)+_0x466f21)[_0x456646(0x341)]();if(!_0x1653ec['exists']()){_0x2d5fd3[_0x456646(0x24d)]='Profile\x20not\x20found.',_0x2d5fd3[_0x456646(0x204)][_0x456646(0x356)]=_0x240639[_0x456646(0x2b0)];return;}const _0x350511=_0x1653ec[_0x456646(0x337)](),_0x25ea02=await _0x240639['VuBme'](sha256,_0x23abf5);if(_0x240639[_0x456646(0x2ff)](_0x25ea02,_0x350511[_0x456646(0x342)])){_0x2d5fd3[_0x456646(0x24d)]=_0x240639[_0x456646(0x21d)],_0x2d5fd3['style'][_0x456646(0x356)]=_0x240639[_0x456646(0x2b0)];return;}const _0x4477ba={};if(_0x27f026){const _0x3476c1=await _0x240639['zMvmw'](sha256,_0x27f026);_0x4477ba[_0x456646(0x342)]=_0x3476c1;}_0x240639[_0x456646(0x275)](_0xb95fff,_0x350511[_0x456646(0x1a7)])&&(_0x4477ba['description']=_0xb95fff);const _0x461a35=Date[_0x456646(0x276)](),_0x45a88=_0x240639[_0x456646(0x1a0)](_0x240639[_0x456646(0x2d6)](0x18*0x3c,0x3c),0x3e8),_0xb6a401=_0x240639[_0x456646(0x2db)](_0x240639['FtMSt'](_0x461a35,_0x350511['lastChanged']||0x0),_0x45a88);if(_0xb6a401&&confirm('Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)')){const _0x49da5f=_0x240639[_0x456646(0x18c)](prompt,_0x240639[_0x456646(0x2c3)]);_0x49da5f&&_0x49da5f[_0x456646(0x350)]()&&(_0x4477ba[_0x456646(0x1bb)]=_0x49da5f[_0x456646(0x350)](),_0x4477ba[_0x456646(0x2bd)]=(_0x350511[_0x456646(0x2bd)]||[])['concat'](_0x49da5f[_0x456646(0x350)]()),_0x4477ba[_0x456646(0x195)]=_0x461a35);}_0x4477ba['username']&&_0x240639[_0x456646(0x2ff)](_0x4477ba['username'],_0x350511[_0x456646(0x1bb)])?(await db[_0x456646(0x28c)](_0x456646(0x27e)+_0x240639[_0x456646(0x1a6)](sanitizeUsername,_0x4477ba[_0x456646(0x1bb)]))[_0x456646(0x26f)]({..._0x350511,..._0x4477ba}),await db[_0x456646(0x28c)](_0x456646(0x27e)+_0x466f21)[_0x456646(0x283)](),username=_0x4477ba['username']):await db[_0x456646(0x28c)]('auth/'+_0x466f21)[_0x456646(0x302)](_0x4477ba),_0x240639[_0x456646(0x31c)](alert,_0x240639[_0x456646(0x2ad)]),location[_0x456646(0x2a8)]();}function cancelEditProfile(){const _0x33ef62=_0x45f4e7,_0xba8f94={'AjgQd':function(_0x5a5582,_0x4c3f78){return _0x5a5582(_0x4c3f78);},'LvrkH':_0x33ef62(0x19c)};document[_0x33ef62(0x200)](_0x33ef62(0x2c8))[_0x33ef62(0x204)][_0x33ef62(0x356)]='none',_0xba8f94[_0x33ef62(0x340)](showScreen,_0xba8f94[_0x33ef62(0x390)]);}function listenForUserList(){const _0x570e98=_0x45f4e7,_0x15cc91={'rWliv':function(_0x13f700,_0x42079f,_0x3903a3,_0x2b24ff){return _0x13f700(_0x42079f,_0x3903a3,_0x2b24ff);},'ClRbF':function(_0x3ec744,_0x420c01){return _0x3ec744<=_0x420c01;},'ykJAL':function(_0xfd93a2,_0x4f26a3){return _0xfd93a2-_0x4f26a3;},'NkOZt':function(_0x43a28c,_0x1887f0){return _0x43a28c*_0x1887f0;},'bbrTJ':function(_0x2b9eef,_0xb6ca05){return _0x2b9eef&&_0xb6ca05;},'dczkF':_0x570e98(0x30b),'bnUPQ':function(_0xa3d1b3,_0x29ac10){return _0xa3d1b3(_0x29ac10);},'aSEnW':function(_0x2ed36d,_0x4f438a){return _0x2ed36d*_0x4f438a;},'TLwse':'userList'};db[_0x570e98(0x28c)](_0x570e98(0x17a)+roomCode)['on'](_0x570e98(0x20a),_0x21d376=>{const _0x3e42a5=_0x570e98,_0x4b513d={'DrhfS':function(_0x575723,_0x5ee362){return _0x575723<=_0x5ee362;},'VKbLe':function(_0x49e4f3,_0x325b20){const _0x41de63=_0xc017;return _0x15cc91[_0x41de63(0x263)](_0x49e4f3,_0x325b20);},'mflXI':function(_0x3061c7,_0x19394d){const _0x7b7d6c=_0xc017;return _0x15cc91[_0x7b7d6c(0x207)](_0x3061c7,_0x19394d);}},_0x5b9cb4=_0x21d376[_0x3e42a5(0x337)]()||{},_0x2f2e42=Date[_0x3e42a5(0x276)](),_0x1c3068={};Object['entries'](_0x5b9cb4)[_0x3e42a5(0x299)](([_0xc4523,_0x27c12a])=>{const _0xc3f673=_0x3e42a5,_0x5b1f2b=_0x4b513d[_0xc3f673(0x28e)](_0x2f2e42-_0x27c12a[_0xc3f673(0x1ef)],_0x4b513d[_0xc3f673(0x1ac)](_0x4b513d[_0xc3f673(0x208)](0x5,0x3c),0x3e8));(_0x27c12a[_0xc3f673(0x30a)]||_0x5b1f2b)&&(_0x1c3068[_0xc4523]=_0x27c12a);}),userListReady=!![],pendingMessages[_0x3e42a5(0x299)](({data:_0x4a02e5,sent:_0x45261a,key:_0x1619cc})=>{const _0xef2a2a=_0x3e42a5;_0x15cc91[_0xef2a2a(0x201)](addMessage,_0x4a02e5,_0x45261a,_0x1619cc);}),pendingMessages=[];const _0x120e87=Object[_0x3e42a5(0x308)](_0x5b9cb4)[_0x3e42a5(0x17e)](_0x267768=>{const _0xaab83e=_0x3e42a5,_0x894c09=_0x267768['online'],_0x5f20a4=_0x15cc91[_0xaab83e(0x2f1)](_0x15cc91[_0xaab83e(0x20d)](_0x2f2e42,_0x267768[_0xaab83e(0x1ef)]),_0x15cc91[_0xaab83e(0x263)](_0x15cc91[_0xaab83e(0x263)](0x1e,0x3c),0x3e8));if(_0x15cc91['bbrTJ'](!_0x894c09,!_0x5f20a4))return'';const _0x3ea385=_0x894c09?_0xaab83e(0x2d4):_0x15cc91[_0xaab83e(0x353)],_0x18098a=_0x894c09?'🟢':'🕒',_0x1bc0e6=_0x267768[_0xaab83e(0x29c)]?_0xaab83e(0x316)+_0x267768[_0xaab83e(0x29c)]+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>':'<span\x20style=\x22margin-right:5px;\x22>👤</span>',_0x45e785=_0x267768['admin']?_0xaab83e(0x229):'';return'<li\x20style=\x22color:'+_0x3ea385+';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27'+_0x15cc91[_0xaab83e(0x1cd)](sanitizeUsername,_0x267768[_0xaab83e(0x1bb)])+_0xaab83e(0x389)+_0x1bc0e6+_0x18098a+'\x20'+_0x267768[_0xaab83e(0x1bb)]+'\x20'+_0x15cc91[_0xaab83e(0x1cd)](getRoleTag,sanitizeUsername(_0x267768[_0xaab83e(0x1bb)]))+'\x0a\x20\x20\x20\x20\x20\x20</li>';})[_0x3e42a5(0x28d)]('');document[_0x3e42a5(0x200)](_0x15cc91[_0x3e42a5(0x343)])['innerHTML']=_0x120e87;});}function sendTyping(_0x708302=![]){const _0x1e02d7=_0x45f4e7,_0x3d60c3={'yhogl':function(_0x2a9e65,_0xdb5475){return _0x2a9e65(_0xdb5475);},'DIjQM':function(_0x294b88,_0x3e667c,_0x57cf36){return _0x294b88(_0x3e667c,_0x57cf36);}};if(isBlocked)return;const _0x152c30=_0x1e02d7(0x172)+roomCode+'/typing/'+clientId;_0x708302?db[_0x1e02d7(0x28c)](_0x152c30)[_0x1e02d7(0x283)]():(db[_0x1e02d7(0x28c)](_0x152c30)[_0x1e02d7(0x26f)](username),_0x3d60c3[_0x1e02d7(0x255)](clearTimeout,typingTimeout),typingTimeout=_0x3d60c3[_0x1e02d7(0x187)](setTimeout,()=>{const _0x8837ab=_0x1e02d7;db[_0x8837ab(0x28c)](_0x152c30)[_0x8837ab(0x283)]();},0xbb8));}function listenForTyping(){const _0x5aeb47=_0x45f4e7,_0x32076c={'vjLkD':_0x5aeb47(0x20a)},_0x45ea78=document[_0x5aeb47(0x200)](_0x5aeb47(0x383));db[_0x5aeb47(0x28c)](_0x5aeb47(0x172)+roomCode+_0x5aeb47(0x23c))['on'](_0x32076c[_0x5aeb47(0x2ac)],_0x452d8f=>{const _0x25a0e8=_0x5aeb47,_0xfea221=_0x452d8f[_0x25a0e8(0x337)]();if(!_0xfea221)return _0x45ea78[_0x25a0e8(0x24d)]='';const _0x2c2dbc=Object['values'](_0xfea221)[_0x25a0e8(0x1c1)](_0x1ef7db=>_0x1ef7db!==username);_0x45ea78[_0x25a0e8(0x24d)]=_0x2c2dbc['length']?_0x2c2dbc['join'](',\x20')+_0x25a0e8(0x359):'';});}function trackPresence(){const _0x3ce02d=_0x45f4e7,_0x19632b={'kNgAD':function(_0x30a23e){return _0x30a23e();},'basKB':function(_0x5c903c,_0x47e23b){return _0x5c903c(_0x47e23b);},'bwrTq':function(_0xdb7798,_0x1a9836){return _0xdb7798||_0x1a9836;},'XaaIF':_0x3ce02d(0x20a)};if(!username||!roomCode)return;const _0x3d8803=_0x19632b[_0x3ce02d(0x248)](sanitizeUsername,username),_0x53c17e=db[_0x3ce02d(0x28c)](_0x3ce02d(0x17a)+roomCode+'/'+_0x3d8803),_0x8f8eb7={'username':username,'avatarBase64':_0x19632b[_0x3ce02d(0x1fb)](avatarBase64,''),'description':_0x19632b[_0x3ce02d(0x1fb)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x3ce02d(0x2df)][_0x3ce02d(0x19e)]};db[_0x3ce02d(0x28c)]('admins/'+roomCode+'/'+_0x3d8803)[_0x3ce02d(0x182)](_0x19632b['XaaIF'])[_0x3ce02d(0x2e2)](_0x1825c4=>{const _0x2780bb=_0x3ce02d;_0x1825c4[_0x2780bb(0x322)]()&&(_0x8f8eb7['admin']=!![]),_0x53c17e['set'](_0x8f8eb7),_0x53c17e[_0x2780bb(0x345)]()[_0x2780bb(0x302)]({'online':![],'lastOnline':Date['now']()}),_0x19632b[_0x2780bb(0x224)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x325d19){const _0x622a7e=_0x45f4e7,_0x35c637={'bsvjZ':_0x622a7e(0x2cf),'TjXCS':_0x622a7e(0x292),'aZFrG':function(_0x239576,_0x16958f){return _0x239576(_0x16958f);},'MHXCw':_0x622a7e(0x23b),'ZBDgq':_0x622a7e(0x326)};if(!_0x325d19[_0x622a7e(0x338)][_0x622a7e(0x369)])return;const _0x5eeff7=_0x325d19['files'][0x0],_0x29c9da=new FileReader();_0x29c9da['onloadend']=async()=>{const _0x101cf6=_0x622a7e,_0x4b4934=_0x29c9da[_0x101cf6(0x1e1)]['split'](',')[0x1];document['getElementById'](_0x35c637['bsvjZ'])['src']=_0x29c9da[_0x101cf6(0x1e1)],document[_0x101cf6(0x200)]('sidebarAvatarPreview')[_0x101cf6(0x204)][_0x101cf6(0x356)]=_0x35c637[_0x101cf6(0x31a)];try{const _0x1c6bbe=_0x35c637[_0x101cf6(0x286)](sanitizeUsername,username);await db[_0x101cf6(0x28c)](_0x101cf6(0x27e)+_0x1c6bbe+_0x101cf6(0x272))[_0x101cf6(0x26f)](_0x4b4934),_0x35c637[_0x101cf6(0x286)](alert,_0x35c637[_0x101cf6(0x259)]);}catch(_0x44185d){console[_0x101cf6(0x2d2)](_0x44185d),_0x35c637[_0x101cf6(0x286)](alert,_0x35c637[_0x101cf6(0x2c7)]);}},_0x29c9da['readAsDataURL'](_0x5eeff7);}function muteUser(_0x286bb9,_0x281161){const _0x537d1b=_0x45f4e7,_0x45b2ff={'tSMqt':function(_0x355e93,_0x184228){return _0x355e93+_0x184228;},'EDiqQ':function(_0x4b910f,_0x4b01e3){return _0x4b910f*_0x4b01e3;}};if(!isRoomAdmin)return alert('Admins\x20only.');const _0x1abba8=_0x45b2ff[_0x537d1b(0x2b9)](Date[_0x537d1b(0x276)](),_0x45b2ff[_0x537d1b(0x179)](_0x45b2ff[_0x537d1b(0x179)](_0x281161,0x3c),0x3e8));db[_0x537d1b(0x28c)](_0x537d1b(0x1c2)+roomCode+'/'+sanitizeUsername(_0x286bb9))[_0x537d1b(0x26f)](_0x1abba8);}function unmuteUser(_0x127635){const _0x2531a7=_0x45f4e7,_0x3bd282={'TEoER':_0x2531a7(0x180),'pVVzQ':function(_0x2b773d,_0xf416e2){return _0x2b773d(_0xf416e2);}};if(!isRoomAdmin)return alert(_0x3bd282[_0x2531a7(0x1c5)]);db['ref']('muted/'+roomCode+'/'+_0x3bd282[_0x2531a7(0x29a)](sanitizeUsername,_0x127635))[_0x2531a7(0x283)]();}function updateOnlineIndicator(){const _0x2e18a3=_0x45f4e7,_0x51f847={'SuOpV':_0x2e18a3(0x261),'AMiUg':_0x2e18a3(0x382),'WMxeG':_0x2e18a3(0x2d4)},_0x527cbd=document[_0x2e18a3(0x200)](_0x51f847[_0x2e18a3(0x1e9)]);_0x527cbd[_0x2e18a3(0x24d)]=_0x51f847[_0x2e18a3(0x330)],_0x527cbd[_0x2e18a3(0x204)][_0x2e18a3(0x1b6)]=_0x51f847[_0x2e18a3(0x35c)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x102583){const _0x555120=_0x45f4e7,_0x289128={'LUYhy':_0x555120(0x2e4),'MHEdp':'Unknown','XNcmd':_0x555120(0x335),'XlAqv':'profileViewer','NSnHe':_0x555120(0x292)};db[_0x555120(0x28c)](_0x555120(0x27e)+_0x102583)[_0x555120(0x341)]()[_0x555120(0x2e2)](_0x5dcfc5=>{const _0x4c5062=_0x555120;if(!_0x5dcfc5[_0x4c5062(0x322)]())return alert(_0x289128[_0x4c5062(0x243)]);const _0x4efa46=_0x5dcfc5[_0x4c5062(0x337)](),_0x5e0b57=(_0x4c5062(0x368)+_0x4efa46['username']+_0x4c5062(0x307)+(_0x4efa46[_0x4c5062(0x1a7)]||_0x4c5062(0x279))+_0x4c5062(0x374)+((_0x4efa46[_0x4c5062(0x2bd)]||[])['join'](',\x20')||'No\x20changes\x20yet')+_0x4c5062(0x2d5)+(_0x4efa46[_0x4c5062(0x195)]?new Date(_0x4efa46['lastChanged'])[_0x4c5062(0x385)]():_0x289128[_0x4c5062(0x38f)])+_0x4c5062(0x218))[_0x4c5062(0x350)]();document[_0x4c5062(0x200)](_0x289128[_0x4c5062(0x241)])[_0x4c5062(0x24d)]=_0x5e0b57,document[_0x4c5062(0x200)](_0x289128[_0x4c5062(0x29e)])[_0x4c5062(0x204)][_0x4c5062(0x356)]=_0x289128[_0x4c5062(0x1be)];});}function initUsernameFlow(){const _0x48b8cd=_0x45f4e7,_0x4c475d={'ERYOQ':function(_0x4cbf93,_0x3cd47c){return _0x4cbf93(_0x3cd47c);},'zwGrr':'profileScreen','eDaid':_0x48b8cd(0x1ee),'KOuEb':_0x48b8cd(0x2b7)},_0x259779=localStorage[_0x48b8cd(0x336)](_0x48b8cd(0x230));!_0x259779?_0x4c475d[_0x48b8cd(0x2a1)](showScreen,_0x4c475d[_0x48b8cd(0x2f9)]):(username=_0x259779,document[_0x48b8cd(0x200)](_0x4c475d[_0x48b8cd(0x387)])[_0x48b8cd(0x24d)]=username,showScreen(_0x4c475d['KOuEb']));}function closeProfile(){const _0x125f31=_0x45f4e7,_0x975b43={'ZRGGe':_0x125f31(0x28a),'hihLc':'none'};document[_0x125f31(0x200)](_0x975b43[_0x125f31(0x288)])[_0x125f31(0x204)][_0x125f31(0x356)]=_0x975b43[_0x125f31(0x310)];}function resetWebsiteData(){const _0xcb57b=_0x45f4e7,_0x50cde8={'OvWqu':function(_0x7b19a2,_0x9928ca){return _0x7b19a2||_0x9928ca;},'TzSSA':function(_0x5f1d4b,_0x2ac08d){return _0x5f1d4b+_0x2ac08d;}};try{localStorage['clear'](),sessionStorage[_0xcb57b(0x186)]();}catch(_0x31ccdd){}_0x50cde8[_0xcb57b(0x358)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x50cde8[_0xcb57b(0x309)]('_',Math[_0xcb57b(0x30f)]()[_0xcb57b(0x2cd)](0x24)[_0xcb57b(0x35b)](0x2,0x9)));}function addAnnouncement(){const _0x4faf5f=_0x45f4e7,_0x4b67b7={'jUTzX':function(_0x4d35a5,_0x4344ba){return _0x4d35a5(_0x4344ba);},'vzosl':'Enter\x20Announcement\x20Text:'},_0x23770e=_0x4b67b7[_0x4faf5f(0x1dc)](prompt,_0x4b67b7[_0x4faf5f(0x1f6)]);if(!_0x23770e)return;db[_0x4faf5f(0x28c)]('rooms/'+roomCode+_0x4faf5f(0x34d))['set']({'text':_0x23770e,'by':username,'timestamp':Date[_0x4faf5f(0x276)]()});}function listenForAnnouncement(){const _0x2b8905=_0x45f4e7,_0x3c2b2e={'yrOcW':_0x2b8905(0x27f),'KHPcx':_0x2b8905(0x20a)},_0x357ed3=db[_0x2b8905(0x28c)](_0x2b8905(0x172)+roomCode+_0x2b8905(0x34d));_0x357ed3['on'](_0x3c2b2e[_0x2b8905(0x277)],_0x3467df=>{const _0x597215=_0x2b8905,_0x457411=_0x3467df[_0x597215(0x337)]();if(!_0x457411){document[_0x597215(0x200)](_0x3c2b2e[_0x597215(0x25a)])[_0x597215(0x24d)]='';return;}const _0x10a37=document[_0x597215(0x200)]('announcementArea');_0x10a37['innerText']=''+_0x457411['text'];});}document[_0x45f4e7(0x200)](_0x45f4e7(0x27f))['addEventListener'](_0x45f4e7(0x38d),_0x119ad9=>{const _0x186e2d=_0x45f4e7,_0x1eecc4={'lHgSh':function(_0x36246b,_0xa1aa3a){return _0x36246b(_0xa1aa3a);},'nNQoZ':_0x186e2d(0x2ba)};_0x119ad9['detail']===0x3&&isRoomAdmin&&(_0x1eecc4[_0x186e2d(0x240)](confirm,_0x1eecc4[_0x186e2d(0x280)])&&db[_0x186e2d(0x28c)](_0x186e2d(0x172)+roomCode+'/announcement')[_0x186e2d(0x283)]());}),document[_0x45f4e7(0x200)](_0x45f4e7(0x16a))[_0x45f4e7(0x33e)](_0x45f4e7(0x361),()=>{const _0x21a5b9=_0x45f4e7,_0x37f1d5={'WNwQb':_0x21a5b9(0x16a),'WuybJ':_0x21a5b9(0x366),'CCNqy':_0x21a5b9(0x325)},_0x27e36f=document[_0x21a5b9(0x200)](_0x37f1d5[_0x21a5b9(0x34e)]),_0x53c0fa=document[_0x21a5b9(0x200)](_0x37f1d5[_0x21a5b9(0x1a5)]),_0x597534=_0x27e36f[_0x21a5b9(0x20a)][_0x21a5b9(0x293)](),_0x4cf16c=swearWords[_0x21a5b9(0x222)](_0x47fd6a=>_0x597534[_0x21a5b9(0x1ca)](_0x47fd6a));_0x4cf16c?(_0x27e36f[_0x21a5b9(0x204)][_0x21a5b9(0x274)]=_0x37f1d5[_0x21a5b9(0x27a)],_0x53c0fa[_0x21a5b9(0x2c6)]=!![]):(_0x27e36f[_0x21a5b9(0x204)][_0x21a5b9(0x274)]='',_0x53c0fa[_0x21a5b9(0x2c6)]=![]);});function muteUser(_0x43e7eb,_0x3fca31){const _0x5aaf6e=_0x45f4e7,_0x388344={'TymNZ':function(_0x5979eb,_0x1bb4e0){return _0x5979eb(_0x1bb4e0);},'lKrUd':function(_0x5b5de4,_0x344bda){return _0x5b5de4*_0x344bda;},'jPmHd':function(_0x2fc6e2,_0x4841ed){return _0x2fc6e2*_0x4841ed;},'AfrKw':function(_0x4c292f,_0x444e44){return _0x4c292f(_0x444e44);}},_0x44dbc8=Date['now']()+_0x388344[_0x5aaf6e(0x1cc)](_0x388344[_0x5aaf6e(0x245)](_0x3fca31,0x3c),0x3e8);db['ref']('muted/'+roomCode+'/'+_0x388344['AfrKw'](sanitizeUsername,_0x43e7eb))['set']({'muteUntil':_0x44dbc8})[_0x5aaf6e(0x2e2)](()=>{const _0x2c0b3e=_0x5aaf6e;_0x388344['TymNZ'](alert,_0x43e7eb+_0x2c0b3e(0x2b8)+_0x3fca31+_0x2c0b3e(0x17b));});}function deleteUserMessages(_0x535bd7){const _0x349b71=_0x45f4e7,_0x590334={'rtEMA':function(_0x440b73,_0x16da42){return _0x440b73(_0x16da42);},'njrTF':_0x349b71(0x270)};db[_0x349b71(0x28c)]('rooms/'+roomCode+_0x349b71(0x27c))[_0x349b71(0x1c8)](_0x590334['njrTF'])['equalTo'](_0x535bd7)[_0x349b71(0x341)]()['then'](_0x85042d=>{const _0x2f1e8e=_0x349b71;_0x85042d[_0x2f1e8e(0x299)](_0x37bd04=>{const _0x4b3dd8=_0x2f1e8e;db[_0x4b3dd8(0x28c)]('rooms/'+roomCode+_0x4b3dd8(0x171)+_0x37bd04[_0x4b3dd8(0x38b)])[_0x4b3dd8(0x283)]();}),_0x590334[_0x2f1e8e(0x20f)](alert,'Messages\x20by\x20'+_0x535bd7+_0x2f1e8e(0x220));});}function pauseRoom(_0xae3d92){const _0x5e9707=_0x45f4e7,_0x1f8c33={'GHkHo':'none'};db[_0x5e9707(0x28c)](_0x5e9707(0x172)+roomCode+_0x5e9707(0x38a))['on'](_0x5e9707(0x20a),_0x5d0c2a=>{const _0x19519f=_0x5e9707,_0x2e119c=_0x5d0c2a[_0x19519f(0x337)]();document[_0x19519f(0x200)](_0x19519f(0x27d))[_0x19519f(0x204)]['display']=_0x2e119c?_0x19519f(0x292):_0x1f8c33['GHkHo'];});}function canPerformAction(_0xd58e4e){const _0x1ade48=_0x45f4e7,_0x28c77b={'alhTU':function(_0x162413,_0x425d0c){return _0x162413===_0x425d0c;},'QaQbV':'dev','MTKMH':'mute','scnUQ':function(_0x3d729a,_0x347344){return _0x3d729a===_0x347344;},'uwKSB':function(_0x3a3028,_0x4e13f3){return _0x3a3028===_0x4e13f3;},'UvbvR':'admin','eEWxY':_0x1ade48(0x260),'CwTAR':'promote'};if(_0x28c77b[_0x1ade48(0x1fc)](role,_0x28c77b[_0x1ade48(0x24c)]))return!![];if(_0x28c77b['alhTU'](_0xd58e4e,_0x28c77b[_0x1ade48(0x37b)])||_0x28c77b['scnUQ'](_0xd58e4e,_0x1ade48(0x31e)))return _0x28c77b[_0x1ade48(0x192)](role,_0x28c77b[_0x1ade48(0x1b2)])||_0x28c77b[_0x1ade48(0x192)](role,_0x28c77b['eEWxY']);if(_0xd58e4e===_0x28c77b[_0x1ade48(0x35f)])return role===_0x28c77b['UvbvR'];return![];}const html=Object[_0x45f4e7(0x308)](activeUsers)[_0x45f4e7(0x17e)](_0x183414=>{const _0x1c7dad=_0x45f4e7,_0xfc04cb={'gQBlI':function(_0x14c0be,_0x1d09fe){return _0x14c0be(_0x1d09fe);},'MDrMj':function(_0x33caf0,_0x3c0480){return _0x33caf0!==_0x3c0480;},'AebQq':function(_0xbd0276,_0x503384){return _0xbd0276(_0x503384);},'jmIXg':_0x1c7dad(0x35a),'unJbt':'deleteMessage','JbxOn':function(_0x33134b,_0x4a7916){return _0x33134b===_0x4a7916;},'EBECV':_0x1c7dad(0x25f),'SLlIE':function(_0x5b992b,_0x53df63){return _0x5b992b===_0x53df63;},'antWD':_0x1c7dad(0x30c),'qotvM':function(_0xa88bab,_0x26128e){return _0xa88bab(_0x26128e);}},_0xb18d57=_0xfc04cb['gQBlI'](sanitizeUsername,_0x183414[_0x1c7dad(0x1bb)]),_0x4e42e2=[];if(_0xfc04cb[_0x1c7dad(0x37f)](_0xb18d57,_0xfc04cb[_0x1c7dad(0x16e)](sanitizeUsername,username))){_0xfc04cb[_0x1c7dad(0x2f7)](canPerformAction,_0xfc04cb[_0x1c7dad(0x19a)])&&(_0x4e42e2['push']('<button\x20onclick=\x22muteUser(\x27'+_0xb18d57+'\x27,\x205)\x22>Mute\x205m</button>'),_0x4e42e2['push'](_0x1c7dad(0x2ee)+_0xb18d57+_0x1c7dad(0x24f)));canPerformAction(_0xfc04cb[_0x1c7dad(0x2bc)])&&_0x4e42e2['push'](_0x1c7dad(0x1c3)+_0xb18d57+'\x27)\x22>Delete\x20Messages</button>');if(_0xfc04cb[_0x1c7dad(0x22a)](role,_0xfc04cb['EBECV']))_0x4e42e2[_0x1c7dad(0x2e5)](_0x1c7dad(0x37a)+_0xb18d57+_0x1c7dad(0x197)),_0x4e42e2['push']('<button\x20onclick=\x22promoteToAdmin(\x27'+_0xb18d57+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0xfc04cb[_0x1c7dad(0x225)](role,_0xfc04cb['antWD'])&&_0x4e42e2[_0x1c7dad(0x2e5)](_0x1c7dad(0x37a)+_0xb18d57+_0x1c7dad(0x197));}return _0x1c7dad(0x1c9)+_0x183414[_0x1c7dad(0x1bb)]+'\x20'+_0xfc04cb[_0x1c7dad(0x372)](getRoleTag,_0xfc04cb['qotvM'](sanitizeUsername,_0x183414[_0x1c7dad(0x1bb)]))+_0x1c7dad(0x16f)+_0xb18d57+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4e42e2[_0x1c7dad(0x28d)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0xb18d57+_0x1c7dad(0x2f5);})[_0x45f4e7(0x28d)]('');function promoteToModerator(_0x44f9f0){const _0x561cb0=_0x45f4e7,_0x15b9a6={'MNXPq':_0x561cb0(0x25f),'GohIB':function(_0x853061,_0xae8bb0){return _0x853061!==_0xae8bb0;},'NhqRr':function(_0x551c7a,_0x380172){return _0x551c7a(_0x380172);},'LVNfi':_0x561cb0(0x2fc)};if(role!==_0x15b9a6['MNXPq']&&_0x15b9a6[_0x561cb0(0x32d)](role,_0x561cb0(0x30c))){_0x15b9a6[_0x561cb0(0x2b1)](alert,_0x15b9a6[_0x561cb0(0x24e)]);return;}db[_0x561cb0(0x28c)](_0x561cb0(0x2f0)+roomCode+'/'+sanitizeUsername(_0x44f9f0))[_0x561cb0(0x26f)](!![])['then'](()=>{alert(_0x44f9f0+'\x20promoted\x20to\x20Moderator!');});}function promoteToAdmin(_0x16fa70){const _0x54ff25=_0x45f4e7,_0x398686={'zJZeS':function(_0x2c8799,_0x18b7f4){return _0x2c8799(_0x18b7f4);},'fSPtr':function(_0x729cc8,_0x561def){return _0x729cc8!==_0x561def;},'prsSs':_0x54ff25(0x25f),'PWpGm':function(_0x5ca7a4,_0x136b9f){return _0x5ca7a4(_0x136b9f);}};if(_0x398686[_0x54ff25(0x181)](role,_0x398686[_0x54ff25(0x357)])){_0x398686['zJZeS'](alert,_0x54ff25(0x331));return;}db[_0x54ff25(0x28c)]('admins/'+roomCode+'/'+_0x398686[_0x54ff25(0x2a0)](sanitizeUsername,_0x16fa70))['set'](!![])[_0x54ff25(0x2e2)](()=>{_0x398686['zJZeS'](alert,_0x16fa70+'\x20promoted\x20to\x20Admin!');});}function toggleUserOptions(_0x79d121){const _0x42f168=_0x45f4e7,_0x35f074={'fnAcH':function(_0x3c9f6a,_0x51b4f4){return _0x3c9f6a===_0x51b4f4;},'WJxOJ':_0x42f168(0x292),'znUid':_0x42f168(0x185)},_0x1010ad=document[_0x42f168(0x200)](_0x42f168(0x362)+_0x79d121);_0x35f074[_0x42f168(0x193)](_0x1010ad[_0x42f168(0x204)][_0x42f168(0x356)],_0x42f168(0x185))?_0x1010ad['style']['display']=_0x35f074['WJxOJ']:_0x1010ad[_0x42f168(0x204)]['display']=_0x35f074[_0x42f168(0x378)];}function getRoleTag(_0x36297f){const _0x48ce28=_0x45f4e7;if(globalDevs['includes'](_0x36297f))return _0x48ce28(0x183);if(roomAdmins[_0x48ce28(0x1ca)](_0x36297f))return _0x48ce28(0x2a4);if(roomModerators[_0x48ce28(0x1ca)](_0x36297f))return _0x48ce28(0x1f9);return'';}async function loadRoomRoles(){const _0x3a1d6e=_0x45f4e7,_0xc58b43={'AZJdE':function(_0x5ed776,_0x3f5b51){return _0x5ed776(_0x3f5b51);},'iWKtL':'auth'};globalDevs=[],roomAdmins=[],roomModerators=[];const _0x369229=_0xc58b43['AZJdE'](sanitizeUsername,username),_0x108ad5=await db[_0x3a1d6e(0x28c)](_0xc58b43['iWKtL'])[_0x3a1d6e(0x341)]();_0x108ad5[_0x3a1d6e(0x322)]()&&_0x108ad5['forEach'](_0x1f7656=>{const _0x236890=_0x3a1d6e;_0x1f7656[_0x236890(0x337)]()[_0x236890(0x1b7)]==='dev'&&globalDevs[_0x236890(0x2e5)](_0x1f7656[_0x236890(0x38b)]);});const _0x4d0ed7=await db[_0x3a1d6e(0x28c)](_0x3a1d6e(0x1d6)+roomCode)[_0x3a1d6e(0x341)]();_0x4d0ed7[_0x3a1d6e(0x322)]()&&_0x4d0ed7[_0x3a1d6e(0x299)](_0x1a43e2=>{const _0x288da4=_0x3a1d6e;roomAdmins['push'](_0x1a43e2[_0x288da4(0x38b)]);});const _0x195502=await db['ref'](_0x3a1d6e(0x2f0)+roomCode)[_0x3a1d6e(0x341)]();_0x195502[_0x3a1d6e(0x322)]()&&_0x195502['forEach'](_0x761b60=>{const _0x33ead1=_0x3a1d6e;roomModerators[_0x33ead1(0x2e5)](_0x761b60[_0x33ead1(0x38b)]);});}