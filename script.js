const _0x52f9bc=_0x2566;(function(_0x1beedf,_0x4354f0){const _0x263c92=_0x2566,_0x1f8c8e=_0x1beedf();while(!![]){try{const _0x9882fc=parseInt(_0x263c92(0x2a2))/0x1+parseInt(_0x263c92(0x1cd))/0x2*(parseInt(_0x263c92(0x303))/0x3)+-parseInt(_0x263c92(0x1b9))/0x4+-parseInt(_0x263c92(0x1f8))/0x5+-parseInt(_0x263c92(0x35c))/0x6*(parseInt(_0x263c92(0x2ff))/0x7)+-parseInt(_0x263c92(0x240))/0x8+-parseInt(_0x263c92(0x2ea))/0x9*(-parseInt(_0x263c92(0x290))/0xa);if(_0x9882fc===_0x4354f0)break;else _0x1f8c8e['push'](_0x1f8c8e['shift']());}catch(_0x343b19){_0x1f8c8e['push'](_0x1f8c8e['shift']());}}}(_0x5441,0x87583));const firebaseConfig={'apiKey':_0x52f9bc(0x192),'authDomain':_0x52f9bc(0x1a1),'databaseURL':_0x52f9bc(0x1d2),'projectId':_0x52f9bc(0x199),'storageBucket':_0x52f9bc(0x216),'messagingSenderId':'985049198428','appId':_0x52f9bc(0x1d4),'measurementId':'G-QDESJ2WR42'};firebase[_0x52f9bc(0x39c)](firebaseConfig);const db=firebase['database']();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x52f9bc(0x24b),_0x52f9bc(0x32b),_0x52f9bc(0x36b),_0x52f9bc(0x1f5),_0x52f9bc(0x35f),_0x52f9bc(0x248),_0x52f9bc(0x221),_0x52f9bc(0x366),'mierda',_0x52f9bc(0x361),_0x52f9bc(0x33e),_0x52f9bc(0x398),_0x52f9bc(0x220),_0x52f9bc(0x1cc),_0x52f9bc(0x313),_0x52f9bc(0x1df),_0x52f9bc(0x366),_0x52f9bc(0x283),_0x52f9bc(0x22d),_0x52f9bc(0x342),_0x52f9bc(0x370),_0x52f9bc(0x302),_0x52f9bc(0x193),'bobo',_0x52f9bc(0x320),_0x52f9bc(0x1a4)];let notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x52f9bc(0x166)]()[_0x52f9bc(0x1bf)](0x24)[_0x52f9bc(0x17a)](0x2,0x9),lastActivity=Date[_0x52f9bc(0x190)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x52f9bc(0x2f3),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x948b27=_0x52f9bc,_0x36e48e={'caYfP':function(_0x55412b,_0x5519f5){return _0x55412b+_0x5519f5;},'NNpJf':function(_0x54b250,_0x5593a4){return _0x54b250(_0x5593a4);}},_0x19e216=_0x36e48e[_0x948b27(0x1aa)](navigator['userAgent']+screen[_0x948b27(0x261)],screen['height']),_0x1d57e5=await _0x36e48e[_0x948b27(0x21f)](sha256,_0x19e216);return _0x36e48e['caYfP']('_',_0x1d57e5[_0x948b27(0x17a)](0x0,0x14));}function sha256(_0x584902){const _0x5c5cdd=_0x52f9bc,_0x30410f={'siCIX':_0x5c5cdd(0x25b)},_0x14fe67=new TextEncoder()['encode'](_0x584902);return crypto[_0x5c5cdd(0x39a)]['digest'](_0x30410f[_0x5c5cdd(0x2cc)],_0x14fe67)[_0x5c5cdd(0x383)](_0x26a0ee=>{const _0x32448f=_0x5c5cdd;return Array[_0x32448f(0x1ce)](new Uint8Array(_0x26a0ee))[_0x32448f(0x243)](_0x48e229=>_0x48e229[_0x32448f(0x1bf)](0x10)[_0x32448f(0x1d3)](0x2,'0'))[_0x32448f(0x20e)]('');});}function toggleNotifications(){const _0x272172=_0x52f9bc,_0x13974={'Qxoqd':function(_0x57aed2,_0x5bd48b){return _0x57aed2===_0x5bd48b;},'knhlD':'granted','Cnayf':_0x272172(0x195),'ztqJS':function(_0x3a0827,_0x535ee0){return _0x3a0827!==_0x535ee0;},'gkZEI':_0x272172(0x38d),'QTUjK':'🔔\x20Enable\x20Notifications'};_0x13974[_0x272172(0x295)](Notification['permission'],_0x13974[_0x272172(0x232)])?Notification[_0x272172(0x2d7)]()[_0x272172(0x383)](_0x299843=>{const _0x3f09cf=_0x272172;_0x13974[_0x3f09cf(0x37e)](_0x299843,_0x13974[_0x3f09cf(0x232)])&&(notificationsEnabled=!![],document[_0x3f09cf(0x2c3)]('notifToggleBtn')[_0x3f09cf(0x312)]=_0x13974[_0x3f09cf(0x397)]);}):(notificationsEnabled=!notificationsEnabled,document[_0x272172(0x2c3)](_0x13974[_0x272172(0x37a)])[_0x272172(0x312)]=notificationsEnabled?_0x13974[_0x272172(0x397)]:_0x13974[_0x272172(0x2a9)]);}function toggleAuthMode(){const _0x57d0bf=_0x52f9bc,_0x29501e={'uZKHX':_0x57d0bf(0x25e),'EHZfa':_0x57d0bf(0x2f2),'wuTWP':_0x57d0bf(0x230),'qSPms':'block','eozdp':'none','wdyTq':_0x57d0bf(0x309),'dXmLh':_0x57d0bf(0x2ad),'drllL':_0x57d0bf(0x396),'oMank':_0x57d0bf(0x2ee)};isRegisterMode=!isRegisterMode,document[_0x57d0bf(0x2c3)](_0x29501e[_0x57d0bf(0x284)])[_0x57d0bf(0x312)]=isRegisterMode?_0x29501e[_0x57d0bf(0x267)]:'Login',document[_0x57d0bf(0x2c3)](_0x29501e['wuTWP'])[_0x57d0bf(0x282)][_0x57d0bf(0x29f)]=isRegisterMode?_0x29501e['qSPms']:_0x29501e[_0x57d0bf(0x2fe)],document['getElementById']('authDescription')[_0x57d0bf(0x282)]['display']=isRegisterMode?_0x29501e[_0x57d0bf(0x382)]:_0x57d0bf(0x252),document[_0x57d0bf(0x2c3)](_0x29501e['wdyTq'])[_0x57d0bf(0x282)][_0x57d0bf(0x29f)]=isRegisterMode?_0x29501e['qSPms']:_0x29501e[_0x57d0bf(0x2fe)],document[_0x57d0bf(0x2c3)]('authAvatarPreview')[_0x57d0bf(0x282)][_0x57d0bf(0x29f)]=_0x29501e[_0x57d0bf(0x2fe)],document['getElementById'](_0x29501e['dXmLh'])[_0x57d0bf(0x312)]=isRegisterMode?_0x29501e['EHZfa']:_0x29501e[_0x57d0bf(0x377)],document[_0x57d0bf(0x2c3)](_0x29501e[_0x57d0bf(0x394)])[_0x57d0bf(0x282)][_0x57d0bf(0x29f)]=_0x57d0bf(0x252);}function previewAvatar(){const _0x3c94f6=_0x52f9bc,_0x340892={'Clqev':_0x3c94f6(0x2f7),'BWxHJ':_0x3c94f6(0x15f),'GACVC':_0x3c94f6(0x309)},_0x435850=document['getElementById'](_0x340892[_0x3c94f6(0x18e)]);if(!_0x435850[_0x3c94f6(0x33c)][_0x3c94f6(0x189)])return;const _0x4534bb=new FileReader();_0x4534bb[_0x3c94f6(0x262)]=()=>{const _0x59dc55=_0x3c94f6;document[_0x59dc55(0x2c3)](_0x340892[_0x59dc55(0x1ba)])[_0x59dc55(0x339)]=_0x4534bb[_0x59dc55(0x250)],document['getElementById'](_0x340892[_0x59dc55(0x1ba)])[_0x59dc55(0x282)][_0x59dc55(0x29f)]=_0x340892['BWxHJ'];},_0x4534bb[_0x3c94f6(0x24d)](_0x435850['files'][0x0]);}async function submitAuth(){const _0x37d42f=_0x52f9bc,_0x1fceb0={'dNgZg':function(_0x35fc42,_0x16fbc2,_0x1cc8c4,_0x5e50de,_0x4f064d,_0x20c671){return _0x35fc42(_0x16fbc2,_0x1cc8c4,_0x5e50de,_0x4f064d,_0x20c671);},'ZNKMl':function(_0xbd8ade,_0xfffc74,_0x5aa1b6,_0x10bd74,_0xaf85a8,_0xbff294){return _0xbd8ade(_0xfffc74,_0x5aa1b6,_0x10bd74,_0xaf85a8,_0xbff294);},'WiSBm':_0x37d42f(0x2e2),'HCSuL':function(_0x5875b7,_0x111676,_0x543152,_0x120b6f,_0x433049,_0x466a6f){return _0x5875b7(_0x111676,_0x543152,_0x120b6f,_0x433049,_0x466a6f);},'VnGhk':_0x37d42f(0x15f),'ioPYa':function(_0x4faeda,_0x515823){return _0x4faeda!==_0x515823;},'dFjID':_0x37d42f(0x2d4),'DhlXt':_0x37d42f(0x364),'MquzN':function(_0x3bdbea,_0x2f979c){return _0x3bdbea!==_0x2f979c;},'DHutJ':_0x37d42f(0x1b0),'NMDgs':function(_0x58b483){return _0x58b483();},'BIlmt':_0x37d42f(0x20b),'vBQyj':_0x37d42f(0x373),'BhiNw':_0x37d42f(0x2ee),'tioAz':_0x37d42f(0x309),'GqdaJ':_0x37d42f(0x270),'NXKar':function(_0xda9fdb,_0x4cb9f7){return _0xda9fdb(_0x4cb9f7);}};!deviceId&&(deviceId=await _0x1fceb0['NMDgs'](generateDeviceId));const _0x202466=document[_0x37d42f(0x2c3)](_0x1fceb0[_0x37d42f(0x1f3)])['value'][_0x37d42f(0x182)](),_0x2ee00a=document[_0x37d42f(0x2c3)](_0x1fceb0[_0x37d42f(0x35d)])[_0x37d42f(0x163)],_0x108916=document[_0x37d42f(0x2c3)](_0x37d42f(0x230))[_0x37d42f(0x163)],_0x5ee7f7=document[_0x37d42f(0x2c3)](_0x1fceb0[_0x37d42f(0x23e)]),_0x401e0f=document[_0x37d42f(0x2c3)](_0x37d42f(0x2e2))[_0x37d42f(0x163)][_0x37d42f(0x182)](),_0x3ccc01=document[_0x37d42f(0x2c3)](_0x1fceb0[_0x37d42f(0x188)]);if(!_0x202466||!_0x2ee00a||isRegisterMode&&!_0x108916){_0x5ee7f7[_0x37d42f(0x312)]=_0x1fceb0[_0x37d42f(0x2f5)],_0x5ee7f7['style']['display']=_0x1fceb0[_0x37d42f(0x1bb)];return;}const _0x52ab17=await _0x1fceb0['NXKar'](sha256,_0x2ee00a),_0x1b89f5=db[_0x37d42f(0x2bb)]('auth/'+sanitizeUsername(_0x202466));_0x1b89f5[_0x37d42f(0x16a)]()[_0x37d42f(0x383)](_0x4412a8=>{const _0x53aa3a=_0x37d42f,_0x59d0dc={'TULuW':function(_0x1ef293,_0x34d82a,_0xecc88,_0x45c449,_0x289a17,_0xfb005c){const _0x45cbcd=_0x2566;return _0x1fceb0[_0x45cbcd(0x352)](_0x1ef293,_0x34d82a,_0xecc88,_0x45c449,_0x289a17,_0xfb005c);},'bBIoN':_0x53aa3a(0x15f),'oZgij':_0x1fceb0[_0x53aa3a(0x368)],'FPPBJ':function(_0x165d29,_0x452fdd,_0xfa6681,_0x2e1865,_0x4aa5f8,_0x58fd9a){const _0x17f612=_0x53aa3a;return _0x1fceb0[_0x17f612(0x1b8)](_0x165d29,_0x452fdd,_0xfa6681,_0x2e1865,_0x4aa5f8,_0x58fd9a);}};if(isRegisterMode){if(_0x4412a8[_0x53aa3a(0x29c)]()){_0x5ee7f7[_0x53aa3a(0x312)]=_0x53aa3a(0x17c),_0x5ee7f7[_0x53aa3a(0x282)][_0x53aa3a(0x29f)]=_0x1fceb0[_0x53aa3a(0x1bb)];return;}if(_0x1fceb0[_0x53aa3a(0x298)](_0x2ee00a,_0x108916)){_0x5ee7f7[_0x53aa3a(0x312)]=_0x1fceb0[_0x53aa3a(0x2b2)],_0x5ee7f7[_0x53aa3a(0x282)]['display']=_0x1fceb0[_0x53aa3a(0x1bb)];return;}db[_0x53aa3a(0x2bb)]('auth')[_0x53aa3a(0x1e1)](_0x53aa3a(0x29a))['equalTo'](deviceId)[_0x53aa3a(0x16a)]()['then'](_0x1b5668=>{const _0x1a26cf=_0x53aa3a,_0x37d0b8={'lWBwL':function(_0x5d8763,_0x510707,_0x5c8b98,_0x5a0595,_0x2a2e2e,_0x21f667){const _0x118991=_0x2566;return _0x59d0dc[_0x118991(0x1e2)](_0x5d8763,_0x510707,_0x5c8b98,_0x5a0595,_0x2a2e2e,_0x21f667);}};if(_0x1b5668[_0x1a26cf(0x29c)]())_0x5ee7f7[_0x1a26cf(0x312)]=_0x1a26cf(0x349),_0x5ee7f7[_0x1a26cf(0x282)]['display']=_0x59d0dc[_0x1a26cf(0x1a6)];else{const _0x49ce53=document[_0x1a26cf(0x2c3)](_0x59d0dc['oZgij'])[_0x1a26cf(0x163)][_0x1a26cf(0x182)](),_0x44ca7d=document[_0x1a26cf(0x2c3)]('authAvatar');let _0x36dd37='';if(_0x44ca7d[_0x1a26cf(0x33c)][_0x1a26cf(0x189)]){const _0x3eb4ad=new FileReader();_0x3eb4ad[_0x1a26cf(0x262)]=async()=>{const _0x33ae65=_0x1a26cf;_0x36dd37=_0x3eb4ad['result'][_0x33ae65(0x2bf)](',')[0x1],await _0x37d0b8['lWBwL'](saveNewUser,_0x202466,_0x52ab17,deviceId,_0x36dd37,_0x49ce53);},_0x3eb4ad[_0x1a26cf(0x24d)](_0x44ca7d[_0x1a26cf(0x33c)][0x0]);}else _0x59d0dc[_0x1a26cf(0x1d1)](saveNewUser,_0x202466,_0x52ab17,deviceId,_0x36dd37,_0x49ce53);}});}else{if(!_0x4412a8[_0x53aa3a(0x29c)]()){_0x5ee7f7[_0x53aa3a(0x312)]=_0x1fceb0[_0x53aa3a(0x31f)],_0x5ee7f7[_0x53aa3a(0x282)][_0x53aa3a(0x29f)]=_0x1fceb0[_0x53aa3a(0x1bb)];return;}if(_0x1fceb0[_0x53aa3a(0x291)](_0x4412a8[_0x53aa3a(0x39b)]()[_0x53aa3a(0x36d)],_0x52ab17)){_0x5ee7f7['innerText']=_0x1fceb0['DHutJ'],_0x5ee7f7['style']['display']=_0x1fceb0['VnGhk'];return;}let _0xd4fcdb='';if(_0x3ccc01[_0x53aa3a(0x33c)][_0x53aa3a(0x189)]){const _0x41e643=new FileReader();_0x41e643[_0x53aa3a(0x262)]=()=>{const _0x1fecc5=_0x53aa3a;_0xd4fcdb=_0x41e643[_0x1fecc5(0x250)][_0x1fecc5(0x2bf)](',')[0x1],_0x1fceb0['dNgZg'](saveNewUser,_0x202466,_0x52ab17,deviceId,_0xd4fcdb,_0x401e0f);},_0x41e643[_0x53aa3a(0x24d)](_0x3ccc01[_0x53aa3a(0x33c)][0x0]);}else _0x1fceb0[_0x53aa3a(0x352)](saveNewUser,_0x202466,_0x52ab17,deviceId,_0xd4fcdb,_0x401e0f);username=_0x202466,_0x1fceb0[_0x53aa3a(0x196)](startAfterAuth);}});}async function saveNewUser(_0x32c376,_0x2fe01e,_0x1b37d7,_0x4a5b63,_0x4e5a3b){const _0x3347ad=_0x52f9bc,_0x145832={'LnWhp':function(_0x595150,_0xde117){return _0x595150(_0xde117);},'HQuNS':_0x3347ad(0x311),'KtsOs':function(_0x11c3e6,_0x128357){return _0x11c3e6||_0x128357;},'raoYF':function(_0x9833e1){return _0x9833e1();}},_0x1c4ffe=db[_0x3347ad(0x2bb)](_0x3347ad(0x17e)+_0x145832[_0x3347ad(0x22e)](sanitizeUsername,_0x32c376)),_0x1df6b7={'username':_0x32c376,'passwordHash':_0x2fe01e,'role':_0x145832[_0x3347ad(0x33d)],'deviceId':_0x1b37d7,'description':_0x4e5a3b||'','avatarBase64':_0x145832['KtsOs'](_0x4a5b63,''),'usernameHistory':[_0x32c376],'lastChanged':Date[_0x3347ad(0x190)]()};await _0x1c4ffe[_0x3347ad(0x160)](_0x1df6b7),username=_0x32c376,_0x4a5b63=_0x1df6b7[_0x3347ad(0x28d)],userDescription=_0x1df6b7[_0x3347ad(0x2a0)],_0x145832[_0x3347ad(0x16b)](startAfterAuth);}async function startAfterAuth(){const _0x156902=_0x52f9bc,_0x366adc={'HnItb':function(_0x1bfa8c,_0x862cb8){return _0x1bfa8c(_0x862cb8);},'hSmpC':_0x156902(0x311),'niXDM':_0x156902(0x363),'OPTvV':'roomChoiceScreen'},_0x3c5e6a=_0x366adc[_0x156902(0x37f)](sanitizeUsername,username),_0x266bf6=await db[_0x156902(0x2bb)](_0x156902(0x17e)+_0x3c5e6a)[_0x156902(0x16a)]();if(_0x266bf6[_0x156902(0x29c)]()){const _0x534eee=_0x266bf6[_0x156902(0x39b)]();username=_0x534eee[_0x156902(0x344)],avatarBase64=_0x534eee[_0x156902(0x28d)]||'',userDescription=_0x534eee[_0x156902(0x2a0)]||'',role=_0x534eee['role']||_0x366adc['hSmpC'];}document['getElementById'](_0x366adc[_0x156902(0x29e)])[_0x156902(0x312)]=username,_0x366adc[_0x156902(0x37f)](showScreen,_0x366adc[_0x156902(0x235)]);}function checkIfAdmin(){const _0x3bf1b0=_0x52f9bc,_0xde5e9={'wjRAG':function(_0x515f6b,_0x2c9560){return _0x515f6b(_0x2c9560);},'QfwfR':_0x3bf1b0(0x163)},_0x11ea19=db[_0x3bf1b0(0x2bb)](_0x3bf1b0(0x38f)+roomCode+'/'+_0xde5e9[_0x3bf1b0(0x39e)](sanitizeUsername,username));return _0x11ea19['once'](_0xde5e9['QfwfR'])['then'](_0x13639e=>{const _0x2b5951=_0x3bf1b0;isRoomAdmin=_0x13639e[_0x2b5951(0x29c)]();});}function toggleRecording(){const _0x5703c7=_0x52f9bc,_0x47984b={'tnpYG':function(_0x2780ae,_0x5411b1){return _0x2780ae(_0x5411b1);},'BRbBi':_0x5703c7(0x20a),'IzQUm':function(_0x298ae2,_0x2206cf){return _0x298ae2&&_0x2206cf;},'qkINi':function(_0x4ef2e9){return _0x4ef2e9();},'HeubT':_0x5703c7(0x275)};isRecording?stopRecording():navigator[_0x5703c7(0x184)]['getUserMedia']({'audio':!![]})[_0x5703c7(0x383)](_0x38f7ed=>{const _0x480e0f=_0x5703c7,_0x39b9fe={'qbFIb':function(_0x33466a,_0x43b6bc){const _0x182dfd=_0x2566;return _0x47984b[_0x182dfd(0x32a)](_0x33466a,_0x43b6bc);},'ovbPz':function(_0x254b38){const _0x1c1555=_0x2566;return _0x47984b[_0x1c1555(0x357)](_0x254b38);}};mediaRecorder=new MediaRecorder(_0x38f7ed),mediaRecorder['start'](),isRecording=!![],document[_0x480e0f(0x2c3)](_0x480e0f(0x322))['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x480e0f(0x2f4)]=_0x4e452b=>audioChunks[_0x480e0f(0x23d)](_0x4e452b[_0x480e0f(0x1d9)]),mediaRecorder[_0x480e0f(0x24c)]=()=>{const _0xa6326b=_0x480e0f;_0x47984b[_0xa6326b(0x305)](clearTimeout,recordingTimer);const _0x250eb3=new Blob(audioChunks,{'type':_0x47984b[_0xa6326b(0x1a8)]}),_0x1f2751=new FileReader();_0x1f2751[_0xa6326b(0x262)]=()=>{const _0x328c0f=_0xa6326b,_0x592e82=_0x1f2751[_0x328c0f(0x250)][_0x328c0f(0x2bf)](',')[0x1],_0x39b58a=db[_0x328c0f(0x2bb)]()[_0x328c0f(0x23d)]()[_0x328c0f(0x23f)];db[_0x328c0f(0x2bb)]('rooms/'+roomCode+'/messages/'+_0x39b58a)['set']({'msg':_0x328c0f(0x1f2),'audioBase64':_0x592e82,'sender':username,'senderId':clientId,'timestamp':Date[_0x328c0f(0x190)]()});},_0x1f2751[_0xa6326b(0x24d)](_0x250eb3);},recordingTimer=setTimeout(()=>{const _0x8c40b0=_0x480e0f;_0x39b9fe[_0x8c40b0(0x16f)](mediaRecorder,isRecording)&&_0x39b9fe[_0x8c40b0(0x2aa)](stopRecording);},0x4e20);})['catch'](_0x5104b0=>{const _0x4565f2=_0x5703c7;alert(_0x47984b[_0x4565f2(0x1da)]);});}function stopRecording(){const _0x33465a=_0x52f9bc,_0x36d018={'uFcVX':function(_0x454469,_0x28315d){return _0x454469&&_0x28315d;},'ClzhV':_0x33465a(0x322),'WYeXT':'🎙️'};_0x36d018[_0x33465a(0x391)](mediaRecorder,isRecording)&&(mediaRecorder[_0x33465a(0x246)](),isRecording=![],document['getElementById'](_0x36d018['ClzhV'])[_0x33465a(0x312)]=_0x36d018[_0x33465a(0x15c)]);}window[_0x52f9bc(0x386)]=async()=>{const _0x40fc47=_0x52f9bc,_0x1e794b={'dnoJF':'2|3|0|4|1','yPjWw':_0x40fc47(0x28c),'UuDwN':function(_0x18a597){return _0x18a597();},'hLxWF':function(_0x1fe8ae){return _0x1fe8ae();}},_0x15d990=_0x1e794b['dnoJF'][_0x40fc47(0x2bf)]('|');let _0x5021e5=0x0;while(!![]){switch(_0x15d990[_0x5021e5++]){case'0':setupVisibilityAttention();continue;case'1':showScreen(_0x1e794b['yPjWw']);continue;case'2':_0x1e794b[_0x40fc47(0x281)](cleanupOldRooms);continue;case'3':_0x1e794b[_0x40fc47(0x281)](setupSidebarBackHandler);continue;case'4':_0x1e794b[_0x40fc47(0x34b)](resetWebsiteData);continue;}break;}};function sanitizeUsername(_0x26ce67){const _0x1bf76c=_0x52f9bc;return _0x26ce67[_0x1bf76c(0x2af)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x69d876=_0x52f9bc,_0x4bbddd={'bXClZ':_0x69d876(0x2d9),'MtXAN':_0x69d876(0x2b9),'YdYEk':function(_0x4475fd,_0x3d08b6){return _0x4475fd(_0x3d08b6);},'TePdD':_0x69d876(0x2f9),'zXHUy':_0x69d876(0x277),'uvhVR':_0x69d876(0x15f),'xgJWg':_0x69d876(0x1a7),'TvBKs':_0x69d876(0x32f),'nYaqX':_0x69d876(0x319),'JUrBn':'profileError','wYGCt':function(_0x535fbf,_0x57efff){return _0x535fbf||_0x57efff;},'EUMLm':_0x69d876(0x219),'woQLk':_0x69d876(0x163)},_0x3d830c=document['getElementById'](_0x4bbddd['nYaqX'])[_0x69d876(0x163)][_0x69d876(0x182)](),_0x4122c3=document[_0x69d876(0x2c3)](_0x69d876(0x23a))[_0x69d876(0x163)][_0x69d876(0x182)](),_0x259a64=document['getElementById'](_0x4bbddd[_0x69d876(0x27e)]);if(_0x4bbddd[_0x69d876(0x2a4)](!_0x3d830c,!_0x4122c3)){_0x259a64[_0x69d876(0x312)]=_0x4bbddd[_0x69d876(0x2be)],_0x259a64['style'][_0x69d876(0x29f)]=_0x4bbddd[_0x69d876(0x1c4)];return;}const _0x4962b1=sanitizeUsername(_0x3d830c),_0x360d49=db[_0x69d876(0x2bb)](_0x69d876(0x22a)+_0x4962b1);_0x360d49[_0x69d876(0x23b)](_0x4bbddd[_0x69d876(0x22f)])[_0x69d876(0x383)](_0x4a4989=>{const _0x343b62=_0x69d876,_0x500da4={'hyDIA':_0x343b62(0x2ef),'UgynJ':_0x343b62(0x15f),'Llens':_0x4bbddd[_0x343b62(0x227)],'wTbov':_0x4bbddd[_0x343b62(0x231)],'qMOpO':_0x343b62(0x1f4),'cxGhC':function(_0x3fb69b,_0x10a43a){return _0x4bbddd['YdYEk'](_0x3fb69b,_0x10a43a);},'QWJTQ':_0x4bbddd[_0x343b62(0x26c)]};if(_0x4a4989['exists']())_0x259a64[_0x343b62(0x312)]=_0x4bbddd[_0x343b62(0x33a)],_0x259a64[_0x343b62(0x282)][_0x343b62(0x29f)]=_0x4bbddd[_0x343b62(0x1c4)];else{const _0x52a805={'username':_0x3d830c,'description':_0x4122c3,'lastChanged':Date[_0x343b62(0x190)](),'usernameHistory':[_0x3d830c]};_0x360d49['set'](_0x52a805,_0x2bf951=>{const _0x193aa7=_0x343b62;if(_0x2bf951)console[_0x193aa7(0x367)](_0x193aa7(0x387),_0x2bf951),_0x259a64['innerText']=_0x500da4[_0x193aa7(0x30f)],_0x259a64['style']['display']=_0x500da4[_0x193aa7(0x228)];else{const _0x363fb7=_0x500da4[_0x193aa7(0x334)][_0x193aa7(0x2bf)]('|');let _0x57f657=0x0;while(!![]){switch(_0x363fb7[_0x57f657++]){case'0':localStorage[_0x193aa7(0x1e5)](_0x500da4[_0x193aa7(0x1fa)],_0x3d830c);continue;case'1':localStorage[_0x193aa7(0x1e5)](_0x500da4[_0x193aa7(0x359)],_0x4122c3);continue;case'2':username=_0x3d830c;continue;case'3':document['getElementById']('namePreview')[_0x193aa7(0x312)]=_0x3d830c;continue;case'4':_0x500da4[_0x193aa7(0x21e)](showScreen,_0x500da4[_0x193aa7(0x2ca)]);continue;}break;}}});}})[_0x69d876(0x301)](_0x3bbf8a=>{const _0x201782=_0x69d876;console[_0x201782(0x367)](_0x4bbddd['xgJWg'],_0x3bbf8a),_0x259a64['innerText']=_0x4bbddd[_0x201782(0x384)],_0x259a64['style'][_0x201782(0x29f)]=_0x4bbddd[_0x201782(0x1c4)];});}function saveProfile(_0x27025c,_0x2db407,_0x461d3b){const _0x55abb5=_0x52f9bc,_0x73c946={'UsKGv':'namePreview','nropD':function(_0x48d107,_0x1a503a){return _0x48d107(_0x1a503a);},'ZJENF':_0x55abb5(0x2f9)},_0x549822=Date['now'](),_0x2da4d2=[_0x27025c];db['ref'](_0x55abb5(0x22a)+_0x461d3b)[_0x55abb5(0x160)]({'username':_0x27025c,'description':_0x2db407,'lastChanged':_0x549822,'usernameHistory':_0x2da4d2}),document[_0x55abb5(0x2c3)](_0x73c946[_0x55abb5(0x2df)])['innerText']=_0x27025c,_0x73c946[_0x55abb5(0x29b)](showScreen,_0x73c946['ZJENF']);}function generateRoom(){const _0x3fcec5=_0x52f9bc,_0xb55cf4={'dIwgH':function(_0x2c3a3f){return _0x2c3a3f();},'xAENx':function(_0x33fccb,_0x489787){return _0x33fccb+_0x489787;}};roomCode=_0xb55cf4[_0x3fcec5(0x2c6)](genRoomCode),db['ref'](_0xb55cf4[_0x3fcec5(0x162)](_0x3fcec5(0x330),roomCode))[_0x3fcec5(0x160)]({'active':!![],'created':Date[_0x3fcec5(0x190)]()}),_0xb55cf4[_0x3fcec5(0x2c6)](startChat);}function joinRoom(){const _0x4fbaba=_0x52f9bc,_0x1de102={'HprPO':function(_0x51b067,_0x34b472){return _0x51b067!==_0x34b472;},'mOLIh':function(_0x2e49dc){return _0x2e49dc();},'ckTIk':_0x4fbaba(0x3a1),'jRGqo':_0x4fbaba(0x2e1),'FFHYM':'Enter\x20a\x20valid\x20room\x20code','TxZPk':_0x4fbaba(0x1e9),'eGpoT':_0x4fbaba(0x330)},_0x1b4d35=roomCode||document['getElementById'](_0x1de102[_0x4fbaba(0x25f)])[_0x4fbaba(0x163)][_0x4fbaba(0x182)]()[_0x4fbaba(0x279)]();if(!_0x1b4d35)return alert(_0x1de102[_0x4fbaba(0x1ca)]);roomCode=_0x1b4d35;if(roomCode===STATIC_ROOM){showScreen(_0x1de102['TxZPk']);return;}db['ref'](_0x1de102[_0x4fbaba(0x20d)]+roomCode)[_0x4fbaba(0x16a)]()[_0x4fbaba(0x383)](_0x51f2dd=>{const _0x262d1b=_0x4fbaba;_0x51f2dd[_0x262d1b(0x29c)]()&&_0x1de102[_0x262d1b(0x24a)](_0x51f2dd[_0x262d1b(0x39b)]()['active'],![])?_0x1de102['mOLIh'](startChat):alert(_0x1de102[_0x262d1b(0x2a5)]);});}function startChat(){const _0x17b3d7=_0x52f9bc,_0x1c49a0={'iXqED':function(_0x45b04a,_0x184654){return _0x45b04a===_0x184654;},'EhVAW':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','kJxyq':function(_0x421a96,_0x48a05b){return _0x421a96(_0x48a05b);},'syBtT':function(_0x52a639,_0x21eddf){return _0x52a639(_0x21eddf);},'GiyRr':'Failed\x20to\x20register\x20user\x20in\x20room.','ilqxv':function(_0x14e1be){return _0x14e1be();},'qHEPZ':_0x17b3d7(0x194),'SsFLC':function(_0x4e9b86){return _0x4e9b86();},'SgbXJ':function(_0x3f29f8,_0x169738){return _0x3f29f8||_0x169738;},'ThSvW':function(_0x21ff75,_0x3e11c1){return _0x21ff75(_0x3e11c1);},'ouDQM':_0x17b3d7(0x1bc),'NdIyE':function(_0x1b0386,_0x342f57){return _0x1b0386(_0x342f57);},'BcGtk':_0x17b3d7(0x2f9),'wvlpj':function(_0xc9f775){return _0xc9f775();}};if(_0x1c49a0[_0x17b3d7(0x1e6)](!roomCode,!username))return _0x1c49a0[_0x17b3d7(0x30a)](alert,_0x1c49a0[_0x17b3d7(0x392)]),_0x1c49a0[_0x17b3d7(0x26a)](showScreen,_0x1c49a0[_0x17b3d7(0x395)]);_0x1c49a0['SsFLC'](loadUserRoles),listenForAnnouncement(),_0x1c49a0[_0x17b3d7(0x289)](checkIfAdmin)[_0x17b3d7(0x383)](()=>{const _0x47dd6a=_0x17b3d7,_0x24b1b6=_0x1c49a0[_0x47dd6a(0x28f)](sanitizeUsername,username),_0x1e2295=db[_0x47dd6a(0x2bb)]('users/'+roomCode+'/'+_0x24b1b6),_0x5145bd={'username':username,'lastOnline':firebase['database'][_0x47dd6a(0x1db)]['TIMESTAMP'],'online':!![]};db['ref'](_0x47dd6a(0x38f)+roomCode+'/'+_0x24b1b6)[_0x47dd6a(0x23b)]('value')[_0x47dd6a(0x383)](_0x36785a=>{const _0x13673=_0x47dd6a,_0x2cbe41={'cDEhR':function(_0x139204,_0xc2da28){return _0x1c49a0['iXqED'](_0x139204,_0xc2da28);},'VtPFD':_0x13673(0x201),'JHXhB':_0x1c49a0[_0x13673(0x399)],'KFhEq':function(_0xd9e6de,_0x43d2e4){const _0x25fb75=_0x13673;return _0x1c49a0[_0x25fb75(0x28f)](_0xd9e6de,_0x43d2e4);},'VCAqj':_0x13673(0x197),'tyqrx':function(_0x43afa1,_0x19319d){const _0x183aca=_0x13673;return _0x1c49a0[_0x183aca(0x171)](_0x43afa1,_0x19319d);},'ICzdE':_0x1c49a0[_0x13673(0x253)],'UvYBQ':_0x13673(0x2f9),'RbLOc':function(_0x35300c){const _0x450121=_0x13673;return _0x1c49a0[_0x450121(0x2e8)](_0x35300c);},'BMyum':_0x1c49a0['qHEPZ'],'OgfPK':function(_0x3d0cdf){return _0x1c49a0['SsFLC'](_0x3d0cdf);}};_0x36785a['exists']()&&(_0x5145bd['admin']=!![]),_0x1e2295[_0x13673(0x160)](_0x5145bd,_0x437762=>{const _0x2a3b7b=_0x13673,_0xaedb76=_0x2a3b7b(0x2ab)[_0x2a3b7b(0x2bf)]('|');let _0x116638=0x0;while(!![]){switch(_0xaedb76[_0x116638++]){case'0':_0x2cbe41['cDEhR'](roomCode,STATIC_ROOM)?document[_0x2a3b7b(0x2c3)](_0x2cbe41[_0x2a3b7b(0x280)])[_0x2a3b7b(0x312)]=_0x2cbe41[_0x2a3b7b(0x378)]:document['getElementById'](_0x2cbe41[_0x2a3b7b(0x280)])[_0x2a3b7b(0x312)]=roomCode;continue;case'1':document[_0x2a3b7b(0x2c3)](_0x2a3b7b(0x32e))[_0x2a3b7b(0x312)]=username;continue;case'2':_0x2cbe41[_0x2a3b7b(0x31d)](showScreen,_0x2cbe41[_0x2a3b7b(0x206)]);continue;case'3':if(_0x437762)return _0x2cbe41[_0x2a3b7b(0x259)](alert,_0x2cbe41[_0x2a3b7b(0x328)]),showScreen(_0x2cbe41[_0x2a3b7b(0x224)]);continue;case'4':listenForMessages();continue;case'5':_0x2cbe41[_0x2a3b7b(0x234)](startInactivityTimer);continue;case'6':isRoomAdmin&&(document['getElementById'](_0x2cbe41[_0x2a3b7b(0x18d)])[_0x2a3b7b(0x282)]['display']=_0x2a3b7b(0x15f));continue;case'7':trackPresence();continue;case'8':_0x2cbe41[_0x2a3b7b(0x234)](listenForTyping);continue;case'9':_0x2cbe41['OgfPK'](listenForUserList);continue;case'10':_0x1e2295[_0x2a3b7b(0x207)]()[_0x2a3b7b(0x257)]({'online':![],'lastOnline':Date[_0x2a3b7b(0x190)]()});continue;}break;}});});});}function validateStaticRoomPassword(){const _0x25d631=_0x52f9bc,_0x7ea261={'sADgC':function(_0x764bed,_0x4cfed6){return _0x764bed===_0x4cfed6;},'MySWA':_0x25d631(0x252),'IrIIr':function(_0x1a9dfd){return _0x1a9dfd();},'MzdCE':_0x25d631(0x15f),'ammrk':'staticPasswordInput','rvcDw':_0x25d631(0x258),'KEBqr':_0x25d631(0x17b)},_0x30c494=document[_0x25d631(0x2c3)](_0x7ea261[_0x25d631(0x1b6)])[_0x25d631(0x163)],_0x1acd98=document['getElementById'](_0x7ea261[_0x25d631(0x315)]);db[_0x25d631(0x2bb)](_0x7ea261[_0x25d631(0x1ff)])[_0x25d631(0x16a)]()[_0x25d631(0x383)](_0x55e208=>{const _0x417ece=_0x25d631,_0x51aa77=_0x55e208[_0x417ece(0x39b)]();_0x7ea261[_0x417ece(0x157)](_0x30c494,_0x51aa77)?(_0x1acd98[_0x417ece(0x282)][_0x417ece(0x29f)]=_0x7ea261['MySWA'],_0x7ea261[_0x417ece(0x369)](startChat)):_0x1acd98[_0x417ece(0x282)][_0x417ece(0x29f)]=_0x7ea261[_0x417ece(0x2c9)];});}const spamTimestamps=[];function sendMessage(){const _0x3dab59=_0x52f9bc,_0xc58048={'UiRKU':'Type\x20a\x20message...','OtTKz':function(_0x4ce373,_0x479c13){return _0x4ce373(_0x479c13);},'CvdyD':_0x3dab59(0x1fc),'LCZuK':_0x3dab59(0x186),'Avgjp':function(_0x1b4b09,_0x9c9de5){return _0x1b4b09||_0x9c9de5;},'DwRAT':function(_0x2bee4b,_0x669cbf){return _0x2bee4b>_0x669cbf;},'JiPuG':_0x3dab59(0x1fb),'ocVdW':function(_0x23f2c1,_0x6227f0,_0x58300d){return _0x23f2c1(_0x6227f0,_0x58300d);},'eNSpO':'⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','ShqaA':_0x3dab59(0x2b7)};if(roomIsPaused){_0xc58048[_0x3dab59(0x38a)](alert,_0xc58048[_0x3dab59(0x24e)]);return;}const _0x5e91c6=document[_0x3dab59(0x2c3)](_0xc58048[_0x3dab59(0x306)]),_0x474f70=_0x5e91c6['value'][_0x3dab59(0x182)]();if(_0xc58048[_0x3dab59(0x16c)](!_0x474f70,isBlocked))return;const _0x42c2c2=Date[_0x3dab59(0x190)](),_0x1e65c7=_0x474f70[_0x3dab59(0x354)](),_0x285de6=swearWords[_0x3dab59(0x1dd)](_0x196764=>_0x1e65c7[_0x3dab59(0x260)](_0x196764));if(_0x285de6){alert(_0x3dab59(0x385));return;}spamTimestamps[_0x3dab59(0x23d)](_0x42c2c2);const _0xa49d2c=spamTimestamps['filter'](_0x15cae1=>_0x42c2c2-_0x15cae1<0x1b58);if(_0xc58048[_0x3dab59(0x19e)](_0xa49d2c['length'],0x5)){const _0x50a031=_0xc58048[_0x3dab59(0x2e7)][_0x3dab59(0x2bf)]('|');let _0x22ea3d=0x0;while(!![]){switch(_0x50a031[_0x22ea3d++]){case'0':_0x5e91c6[_0x3dab59(0x1b1)]=_0x3dab59(0x388);continue;case'1':return;case'2':isBlocked=!![];continue;case'3':_0xc58048[_0x3dab59(0x179)](setTimeout,()=>{const _0x5d26e5=_0x3dab59;isBlocked=![],_0x5e91c6[_0x5d26e5(0x358)]=![],_0x5e91c6[_0x5d26e5(0x1b1)]=_0xc58048[_0x5d26e5(0x2fa)],spamTimestamps[_0x5d26e5(0x189)]=0x0;},0x7530);continue;case'4':_0x5e91c6['disabled']=!![];continue;case'5':_0xc58048[_0x3dab59(0x38a)](alert,_0xc58048[_0x3dab59(0x1c5)]);continue;}break;}}const _0x463371=localStorage[_0x3dab59(0x325)](_0xc58048[_0x3dab59(0x210)])||'',_0x1aef55=db['ref']()[_0x3dab59(0x23d)]()[_0x3dab59(0x23f)];db[_0x3dab59(0x2bb)](_0x3dab59(0x330)+roomCode+'/messages/'+_0x1aef55)['set']({'msg':_0x474f70,'sender':username,'senderId':clientId,'avatarBase64':_0x463371,'timestamp':_0x42c2c2}),_0x5e91c6[_0x3dab59(0x163)]='',_0xc58048['OtTKz'](sendTyping,!![]),lastActivity=_0x42c2c2;}function listenForMessages(){const _0x16f644=_0x52f9bc,_0x5556a8={'Xvxzu':function(_0x274831,_0x1dfbce,_0x235c06,_0x44e388){return _0x274831(_0x1dfbce,_0x235c06,_0x44e388);},'gYNNP':function(_0x9638ea,_0x41384e){return _0x9638ea===_0x41384e;},'DgmQU':function(_0x4b1664,_0x3a740f){return _0x4b1664!==_0x3a740f;},'EmxNl':function(_0xf9b177){return _0xf9b177();},'CPOag':function(_0x3522db,_0x3ff1c8){return _0x3522db&&_0x3ff1c8;},'qHosX':function(_0x52725c,_0x516980,_0x13e85b){return _0x52725c(_0x516980,_0x13e85b);},'mLLLB':_0x16f644(0x2db),'jPltI':_0x16f644(0x1a3),'uQvBA':'child_added'},_0x1c034d=db[_0x16f644(0x2bb)](_0x16f644(0x330)+roomCode+_0x16f644(0x1b3)),_0x2b673c=_0x1c034d[_0x16f644(0x215)](MAX_MESSAGES);userListReady=!![],_0x2b673c['on'](_0x5556a8[_0x16f644(0x2d2)],_0x1ccce6=>{const _0x43eb16=_0x16f644,_0x303e55=_0x1ccce6[_0x43eb16(0x39b)](),{senderId:_0x2e43ee}=_0x303e55,_0x28ef92=_0x5556a8[_0x43eb16(0x2ae)](_0x2e43ee,clientId);if(!userListReady){pendingMessages[_0x43eb16(0x38c)](({data:_0x473a61,sent:_0x4f0f07,key:_0x31ef46})=>{const _0x441634=_0x43eb16;_0x5556a8[_0x441634(0x2b1)](addMessage,_0x473a61,_0x4f0f07,_0x31ef46);}),pendingMessages=[];return;}const _0x3c71c7=_0x303e55['audioUrl']||null,_0x109fa3=_0x303e55[_0x43eb16(0x317)]||null;_0x5556a8[_0x43eb16(0x2b1)](addMessage,_0x303e55,_0x28ef92,_0x1ccce6[_0x43eb16(0x23f)]),_0x5556a8[_0x43eb16(0x15d)](roomCode,STATIC_ROOM)&&db[_0x43eb16(0x2bb)](_0x43eb16(0x330)+roomCode+_0x43eb16(0x245)+_0x1ccce6[_0x43eb16(0x23f)])[_0x43eb16(0x2c1)](),!_0x28ef92&&(sound['play'](),_0x5556a8[_0x43eb16(0x170)](flagPageAttention)),_0x5556a8[_0x43eb16(0x18b)](notificationsEnabled,!_0x28ef92)&&_0x5556a8[_0x43eb16(0x256)](stackNotification,_0x303e55['sender'],_0x303e55['msg']||(_0x303e55[_0x43eb16(0x317)]?_0x5556a8['mLLLB']:_0x5556a8[_0x43eb16(0x31e)]));});}function stackNotification(_0x3df619,_0x345bcc){const _0x30accd=_0x52f9bc,_0x26c6d3={'kFxwn':function(_0x3656d5,_0x24b291,_0x6fda65){return _0x3656d5(_0x24b291,_0x6fda65);}};notificationStack['push']({'sender':_0x3df619,'content':_0x345bcc}),clearTimeout(notificationTimer),notificationTimer=_0x26c6d3[_0x30accd(0x203)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x43f04d=_0x52f9bc,_0x5ca708={'LwnFp':_0x43f04d(0x1ec),'KBQUW':function(_0x422dcc,_0x8350c9){return _0x422dcc!==_0x8350c9;},'IExWm':'granted','hCGoX':function(_0x33db3d,_0x3daef6){return _0x33db3d||_0x3daef6;},'SMRRv':'unknown','asXBj':function(_0x52f084,_0x52024e){return _0x52f084===_0x52024e;},'KmFnE':function(_0x3a4d6a,_0x324b73,_0x400186){return _0x3a4d6a(_0x324b73,_0x400186);}};if(!notificationStack[_0x43f04d(0x189)]||_0x5ca708[_0x43f04d(0x300)](Notification[_0x43f04d(0x33f)],_0x5ca708['IExWm']))return;const _0x4410bf=[...new Set(notificationStack['map'](_0x2f4a10=>_0x2f4a10[_0x43f04d(0x2a1)]))],_0x1f045e=_0x5ca708[_0x43f04d(0x355)](roomCode,_0x5ca708[_0x43f04d(0x34a)]),_0x7bb90c=_0x5ca708[_0x43f04d(0x362)](_0x4410bf[_0x43f04d(0x189)],0x1)?_0x43f04d(0x2a8)+_0x4410bf[0x0]+'\x20in\x20room\x20'+_0x1f045e+':\x20'+notificationStack[0x0][_0x43f04d(0x314)]:'You\x20got\x20messages\x20from\x20'+_0x4410bf[_0x43f04d(0x20e)](',\x20')+_0x43f04d(0x324)+_0x1f045e;_0x5ca708['KmFnE'](setTimeout,()=>{const _0xdfb1c0=_0x43f04d;new Notification(_0xdfb1c0(0x38b),{'body':_0x7bb90c,'icon':_0x5ca708['LwnFp']});},0x64);}function addMessage(_0x9416a1,_0x4ce76b,_0x1d7093=null){const _0x3e1cf1=_0x52f9bc,_0x259d7b={'BpYbj':_0x3e1cf1(0x36a),'JOCDY':_0x3e1cf1(0x1fe),'VSLpC':'sent','cXCwg':_0x3e1cf1(0x350),'fqDAY':_0x3e1cf1(0x34f),'UzxOY':function(_0x215f3c,_0x3dca25){return _0x215f3c(_0x3dca25);},'jZaDH':function(_0x59ed17,_0x4caad7){return _0x59ed17(_0x4caad7);},'FAJjI':_0x3e1cf1(0x264)},{msg:_0x26ebcd,sender:_0x35032c,senderId:_0x285996,timestamp:_0x1505fc,audioUrl:_0x17d5eb,audioBase64:_0x1eb8a1,imageBase64:_0x5e8af4}=_0x9416a1,_0xd45311=document[_0x3e1cf1(0x331)](_0x259d7b[_0x3e1cf1(0x2ec)]);_0xd45311[_0x3e1cf1(0x304)][_0x3e1cf1(0x2c4)](_0x259d7b['JOCDY'],_0x4ce76b?_0x259d7b[_0x3e1cf1(0x294)]:_0x259d7b[_0x3e1cf1(0x338)]);const _0x20f767=new Date(_0x1505fc)['toLocaleTimeString']([],{'hour':_0x259d7b[_0x3e1cf1(0x371)],'minute':_0x259d7b[_0x3e1cf1(0x371)]}),_0x2265fc=_0x259d7b[_0x3e1cf1(0x37c)](sanitizeUsername,_0x35032c),_0x1fee65=roomUsers[_0x2265fc]||{},_0x5e110a=_0x1fee65[_0x3e1cf1(0x28d)]?_0x3e1cf1(0x1ae)+_0x1fee65['avatarBase64']+_0x3e1cf1(0x265):_0x3e1cf1(0x329);let _0x91f6a5=_0x5e110a+_0x3e1cf1(0x205)+_0x35032c+'\x20'+getRoleTag(_0x259d7b[_0x3e1cf1(0x2e0)](sanitizeUsername,_0x35032c))+_0x3e1cf1(0x2fc);_0x1fee65[_0x3e1cf1(0x1ef)]&&(_0x91f6a5+=_0x3e1cf1(0x28b));_0x91f6a5+=_0x3e1cf1(0x34c);const _0x1c1c73=_0x26ebcd?.[_0x3e1cf1(0x2af)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');if(_0x17d5eb)_0x91f6a5+='<audio\x20controls\x20src=\x22'+_0x17d5eb+_0x3e1cf1(0x2b4);else{if(_0x1eb8a1){const _0x4d7964=_0x3e1cf1(0x25a)+_0x1eb8a1;_0x91f6a5+=_0x3e1cf1(0x310)+_0x4d7964+_0x3e1cf1(0x2b4);}else{if(_0x5e8af4){const _0x3b43df=_0x3e1cf1(0x15a)+_0x5e8af4;_0x91f6a5+='<img\x20src=\x22'+_0x3b43df+_0x3e1cf1(0x2b6);}else _0x91f6a5+='<div>'+_0x1c1c73+_0x3e1cf1(0x30c);}}_0x91f6a5+=_0x3e1cf1(0x307)+_0x20f767+_0x3e1cf1(0x2d3),_0xd45311[_0x3e1cf1(0x21a)]=_0x91f6a5;const _0x219760=document[_0x3e1cf1(0x2c3)](_0x259d7b[_0x3e1cf1(0x1c3)]);_0x219760[_0x3e1cf1(0x2ba)](_0xd45311),_0x219760['scrollTop']=_0x219760[_0x3e1cf1(0x2ed)];}function cleanupOldRooms(){const _0x122a35=_0x52f9bc,_0x55fafa={'qOLDn':function(_0x33f1e8,_0x3c4f8d){return _0x33f1e8!==_0x3c4f8d;},'mvbJh':function(_0x192b4c,_0x49700b){return _0x192b4c>_0x49700b;},'gfXuM':function(_0x17fbc8,_0x30cedb){return _0x17fbc8-_0x30cedb;},'yVDyH':function(_0x3bd5f9,_0x5b7dad){return _0x3bd5f9*_0x5b7dad;},'OsVIF':function(_0xe27ba1,_0x58a35d){return _0xe27ba1+_0x58a35d;},'IThVW':_0x122a35(0x330),'bmucc':'antispam','GGuRl':_0x122a35(0x163)};db[_0x122a35(0x2bb)](_0x122a35(0x273))['once'](_0x55fafa['GGuRl'])['then'](_0x977b9d=>{const _0x200cc2=_0x122a35,_0x4ff92b=_0x977b9d[_0x200cc2(0x39b)]();if(!_0x4ff92b)return;const _0x1a2986=Date[_0x200cc2(0x190)]();for(const _0x562bc4 in _0x4ff92b){if(_0x562bc4===STATIC_ROOM)continue;const _0x1e3255=_0x4ff92b[_0x562bc4];_0x55fafa[_0x200cc2(0x20f)](_0x55fafa['gfXuM'](_0x1a2986,_0x1e3255[_0x200cc2(0x1a2)]||0x0),_0x55fafa[_0x200cc2(0x308)](0x2,0x3c)*0x3e8)&&db[_0x200cc2(0x2bb)](_0x55fafa[_0x200cc2(0x292)](_0x55fafa[_0x200cc2(0x187)],_0x562bc4))[_0x200cc2(0x2c1)]();}db[_0x200cc2(0x2bb)](_0x55fafa['bmucc'])[_0x200cc2(0x23b)](_0x55fafa[_0x200cc2(0x36e)])['then'](_0x21d435=>{const _0x3d97fb=_0x200cc2,_0x569a7e=_0x21d435[_0x3d97fb(0x39b)]();if(!_0x569a7e)return;for(const _0x15a9a4 in _0x569a7e){if(_0x55fafa[_0x3d97fb(0x2cb)](_0x15a9a4,STATIC_ROOM))db[_0x3d97fb(0x2bb)](_0x3d97fb(0x2b3)+_0x15a9a4)[_0x3d97fb(0x2c1)]();}}),db[_0x200cc2(0x2bb)](_0x200cc2(0x31b))[_0x200cc2(0x23b)](_0x55fafa[_0x200cc2(0x36e)])['then'](_0x3dd337=>{const _0x4d62b7=_0x200cc2,_0x585297=_0x3dd337[_0x4d62b7(0x39b)]();if(!_0x585297)return;for(const _0x554375 in _0x585297){if(_0x55fafa['qOLDn'](_0x554375,STATIC_ROOM))db[_0x4d62b7(0x2bb)](_0x4d62b7(0x1e7)+_0x554375)['remove']();}});});}document[_0x52f9bc(0x1c7)]('DOMContentLoaded',()=>{const _0x1418be=_0x52f9bc,_0x294fa1={'XnDzz':function(_0x4b69a0,_0x573910){return _0x4b69a0===_0x573910;},'kFZHu':_0x1418be(0x2fd),'OtWcK':function(_0x5d2548){return _0x5d2548();},'oiNkQ':_0x1418be(0x186)},_0x278e1d=document[_0x1418be(0x2c3)](_0x294fa1[_0x1418be(0x1e0)]);_0x278e1d&&_0x278e1d[_0x1418be(0x1c7)](_0x1418be(0x1cb),function(_0x103ccb){const _0x178463=_0x1418be;_0x294fa1[_0x178463(0x269)](_0x103ccb[_0x178463(0x23f)],_0x294fa1[_0x178463(0x1ad)])&&(_0x103ccb[_0x178463(0x198)](),_0x294fa1[_0x178463(0x30d)](sendMessage));});});function showScreen(_0x17078b){const _0x28b586=_0x52f9bc,_0x2ca0a3={'GlWRG':_0x28b586(0x1be),'GsFac':_0x28b586(0x2f9),'zQdle':_0x28b586(0x247),'nLykY':_0x28b586(0x197),'xAeHQ':_0x28b586(0x35a),'vJxjE':_0x28b586(0x28c)};[_0x2ca0a3['GlWRG'],_0x2ca0a3[_0x28b586(0x1af)],_0x2ca0a3[_0x28b586(0x2c5)],_0x2ca0a3[_0x28b586(0x22b)],'passwordScreen',_0x2ca0a3[_0x28b586(0x239)],'profileViewer',_0x2ca0a3[_0x28b586(0x336)]][_0x28b586(0x38c)](_0x22f52d=>{const _0x481668=_0x28b586;document[_0x481668(0x2c3)](_0x22f52d)[_0x481668(0x282)][_0x481668(0x29f)]=_0x481668(0x252);}),document[_0x28b586(0x2c3)](_0x17078b)['style'][_0x28b586(0x29f)]='flex';}function genRoomCode(){const _0x584723=_0x52f9bc,_0x111c0c={'ocQzE':function(_0x137d82,_0x4c3886){return _0x137d82+_0x4c3886;},'gAyCh':function(_0x563c71,_0x2aba4d){return _0x563c71+_0x2aba4d;},'jASZo':function(_0x46067d,_0xe49177,_0x42c7a4){return _0x46067d(_0xe49177,_0x42c7a4);}},_0x272b1a=_0x584723(0x229),_0x39b22d='0123456789',_0x5a1764=(_0x52998a,_0x1e9e90)=>Array['from']({'length':_0x1e9e90},()=>_0x52998a[Math[_0x584723(0x1c0)](Math['random']()*_0x52998a[_0x584723(0x189)])])[_0x584723(0x20e)]('');return _0x111c0c['ocQzE'](_0x111c0c[_0x584723(0x173)](_0x111c0c[_0x584723(0x173)](_0x111c0c[_0x584723(0x1eb)](_0x5a1764,_0x39b22d,0x3),_0x111c0c['jASZo'](_0x5a1764,_0x272b1a,0x3)),_0x111c0c['jASZo'](_0x5a1764,_0x39b22d,0x2)),_0x111c0c[_0x584723(0x1eb)](_0x5a1764,_0x272b1a,0x2));}function startInactivityTimer(){const _0x2aa934={'oGEWT':function(_0x507cb9,_0x1b067e){return _0x507cb9>_0x1b067e;},'DTBEq':function(_0x5db03f,_0x1844c9){return _0x5db03f-_0x1844c9;},'sUFSD':function(_0x393702,_0x486727){return _0x393702*_0x486727;},'WMIPz':function(_0x13436e,_0x35e796){return _0x13436e*_0x35e796;},'dESbV':function(_0x338e24,_0x28ce73){return _0x338e24+_0x28ce73;}};setInterval(()=>{const _0x3a1647=_0x2566;_0x2aa934[_0x3a1647(0x39f)](_0x2aa934[_0x3a1647(0x26d)](Date['now'](),lastActivity),_0x2aa934[_0x3a1647(0x172)](_0x2aa934[_0x3a1647(0x25c)](0x5,0x3c),0x3e8))&&roomCode!==STATIC_ROOM&&(db[_0x3a1647(0x2bb)](_0x2aa934['dESbV'](_0x3a1647(0x330),roomCode))[_0x3a1647(0x257)]({'active':![]}),alert(_0x3a1647(0x335)),location[_0x3a1647(0x222)]());},0x7530);}function setupSidebarBackHandler(){const _0x35f1f6=_0x52f9bc,_0x16cb78={'YeIhJ':_0x35f1f6(0x15b),'xincX':'show'};window[_0x35f1f6(0x1c7)](_0x35f1f6(0x212),()=>{const _0x5c1dea=_0x35f1f6,_0x1e6e47=document[_0x5c1dea(0x2c3)](_0x16cb78[_0x5c1dea(0x1cf)]);_0x1e6e47?.['classList'][_0x5c1dea(0x174)](_0x16cb78['xincX'])&&_0x1e6e47['classList'][_0x5c1dea(0x2c1)](_0x5c1dea(0x168));});}function toggleSidebar(){const _0x10dc8b=_0x52f9bc,_0x3f18b0={'xiZUg':_0x10dc8b(0x15b),'PEdrb':_0x10dc8b(0x168)},_0x31260e=document['getElementById'](_0x3f18b0[_0x10dc8b(0x249)]);if(!_0x31260e[_0x10dc8b(0x304)][_0x10dc8b(0x174)](_0x3f18b0['PEdrb']))_0x31260e[_0x10dc8b(0x304)][_0x10dc8b(0x2c4)](_0x3f18b0[_0x10dc8b(0x1f1)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x31260e['classList'][_0x10dc8b(0x2c1)]('show');if(history[_0x10dc8b(0x1f6)]?.['sidebarOpen'])history[_0x10dc8b(0x38e)]();}}function setupVisibilityAttention(){const _0x1c0783=_0x52f9bc,_0x201304={'rpUgB':_0x1c0783(0x1ee)};let _0x154b34=0x0,_0x446e3d=document[_0x1c0783(0x332)];document[_0x1c0783(0x1c7)](_0x201304[_0x1c0783(0x27b)],()=>{const _0x502abe=_0x1c0783;!document[_0x502abe(0x271)]&&(document[_0x502abe(0x332)]=_0x446e3d,_0x154b34=0x0);}),window['flagPageAttention']=function(){const _0x30744c=_0x1c0783;document[_0x30744c(0x271)]&&(_0x154b34++,document[_0x30744c(0x332)]='('+_0x154b34+')\x20New\x20message\x20•\x20'+_0x446e3d);};}function tryEditProfile(){const _0x48f5bd=_0x52f9bc,_0x5c5002={'CifMW':_0x48f5bd(0x244),'OQlUk':_0x48f5bd(0x226)};document[_0x48f5bd(0x2c3)](_0x5c5002['CifMW'])[_0x48f5bd(0x282)][_0x48f5bd(0x29f)]=_0x5c5002[_0x48f5bd(0x380)];}async function submitEditProfile(){const _0x1b7cad=_0x52f9bc,_0x586e89={'zpwZW':_0x1b7cad(0x1ea),'xRgJz':'editBioInput','sMfLr':_0x1b7cad(0x376),'tvnUb':_0x1b7cad(0x2cf),'vptBk':_0x1b7cad(0x2b5),'cfWSC':'block','tecBB':function(_0x488d82,_0x21e233){return _0x488d82(_0x21e233);},'rReyU':function(_0x135811,_0x3b105b){return _0x135811!==_0x3b105b;},'LdUOB':_0x1b7cad(0x2e9),'faSXo':function(_0x24213a,_0x48aa20){return _0x24213a(_0x48aa20);},'mpcLc':function(_0xf8c4b3,_0x4c2f06){return _0xf8c4b3!==_0x4c2f06;},'PnbNd':function(_0x2c5a53,_0x4f6e31){return _0x2c5a53*_0x4f6e31;},'VkNlt':function(_0x490cb0,_0x2f80d3){return _0x490cb0*_0x2f80d3;},'GSjZi':function(_0x4bea11,_0x5af8c0){return _0x4bea11>_0x5af8c0;},'TFTpp':function(_0x31795d,_0xe6dcb4){return _0x31795d-_0xe6dcb4;},'NDcfr':function(_0x353ebd,_0x4ca45d){return _0x353ebd(_0x4ca45d);},'DRhuE':_0x1b7cad(0x25d),'SKPVq':_0x1b7cad(0x255),'qMtMW':function(_0x7eb85d,_0x55cc6f){return _0x7eb85d(_0x55cc6f);}},_0x3dbdd4=document[_0x1b7cad(0x2c3)](_0x1b7cad(0x204))['value'],_0x43568e=document[_0x1b7cad(0x2c3)](_0x586e89[_0x1b7cad(0x200)])[_0x1b7cad(0x163)],_0x678f97=document['getElementById'](_0x586e89[_0x1b7cad(0x1e4)])['value']['trim'](),_0x53091f=document[_0x1b7cad(0x2c3)](_0x586e89[_0x1b7cad(0x2c0)]);if(!_0x3dbdd4){_0x53091f['innerText']=_0x586e89[_0x1b7cad(0x2ac)],_0x53091f[_0x1b7cad(0x282)]['display']=_0x1b7cad(0x15f);return;}const _0x1461f2=sanitizeUsername(username),_0x2cd3aa=await db['ref']('auth/'+_0x1461f2)[_0x1b7cad(0x16a)]();if(!_0x2cd3aa['exists']()){_0x53091f['innerText']=_0x586e89[_0x1b7cad(0x185)],_0x53091f[_0x1b7cad(0x282)][_0x1b7cad(0x29f)]=_0x586e89[_0x1b7cad(0x1b5)];return;}const _0x24ac5a=_0x2cd3aa[_0x1b7cad(0x39b)](),_0x184d31=await _0x586e89[_0x1b7cad(0x28e)](sha256,_0x3dbdd4);if(_0x586e89[_0x1b7cad(0x26e)](_0x184d31,_0x24ac5a[_0x1b7cad(0x36d)])){_0x53091f[_0x1b7cad(0x312)]=_0x586e89[_0x1b7cad(0x1ed)],_0x53091f[_0x1b7cad(0x282)][_0x1b7cad(0x29f)]=_0x1b7cad(0x15f);return;}const _0x1b7f22={};if(_0x43568e){const _0x3d7998=await _0x586e89[_0x1b7cad(0x23c)](sha256,_0x43568e);_0x1b7f22[_0x1b7cad(0x36d)]=_0x3d7998;}_0x586e89[_0x1b7cad(0x21c)](_0x678f97,_0x24ac5a[_0x1b7cad(0x2a0)])&&(_0x1b7f22[_0x1b7cad(0x2a0)]=_0x678f97);const _0x25a580=Date['now'](),_0x12fafc=_0x586e89[_0x1b7cad(0x1bd)](_0x586e89[_0x1b7cad(0x1c8)](_0x586e89[_0x1b7cad(0x1bd)](0x18,0x3c),0x3c),0x3e8),_0x51306a=_0x586e89[_0x1b7cad(0x2a3)](_0x586e89[_0x1b7cad(0x2b8)](_0x25a580,_0x24ac5a[_0x1b7cad(0x356)]||0x0),_0x12fafc);if(_0x51306a&&_0x586e89['NDcfr'](confirm,_0x586e89[_0x1b7cad(0x17d)])){const _0xab2753=prompt(_0x586e89[_0x1b7cad(0x393)]);_0xab2753&&_0xab2753[_0x1b7cad(0x182)]()&&(_0x1b7f22[_0x1b7cad(0x344)]=_0xab2753[_0x1b7cad(0x182)](),_0x1b7f22['usernameHistory']=(_0x24ac5a[_0x1b7cad(0x18c)]||[])['concat'](_0xab2753[_0x1b7cad(0x182)]()),_0x1b7f22[_0x1b7cad(0x356)]=_0x25a580);}_0x1b7f22[_0x1b7cad(0x344)]&&_0x1b7f22['username']!==_0x24ac5a[_0x1b7cad(0x344)]?(await db[_0x1b7cad(0x2bb)](_0x1b7cad(0x17e)+_0x586e89['NDcfr'](sanitizeUsername,_0x1b7f22[_0x1b7cad(0x344)]))[_0x1b7cad(0x160)]({..._0x24ac5a,..._0x1b7f22}),await db[_0x1b7cad(0x2bb)]('auth/'+_0x1461f2)['remove'](),username=_0x1b7f22['username']):await db[_0x1b7cad(0x2bb)](_0x1b7cad(0x17e)+_0x1461f2)[_0x1b7cad(0x257)](_0x1b7f22),_0x586e89[_0x1b7cad(0x26f)](alert,'✅\x20Profile\x20updated!\x20Please\x20reload.'),location[_0x1b7cad(0x222)]();}function cancelEditProfile(){const _0x1b9a7a=_0x52f9bc,_0x46eef5={'vERII':_0x1b9a7a(0x252),'gDAOE':function(_0x33f0cd,_0xd7ea14){return _0x33f0cd(_0xd7ea14);},'pepzr':_0x1b9a7a(0x197)};document[_0x1b9a7a(0x2c3)](_0x1b9a7a(0x244))[_0x1b9a7a(0x282)][_0x1b9a7a(0x29f)]=_0x46eef5[_0x1b9a7a(0x213)],_0x46eef5[_0x1b9a7a(0x3a0)](showScreen,_0x46eef5[_0x1b9a7a(0x183)]);}function listenForUserList(){const _0x37ebfa=_0x52f9bc,_0x12129d={'OTHNl':function(_0x493f3f,_0x15d4c2){return _0x493f3f*_0x15d4c2;},'oCSXF':function(_0x1e49fb,_0x2cf5b4,_0x535bcd,_0x242218){return _0x1e49fb(_0x2cf5b4,_0x535bcd,_0x242218);},'kjUPK':function(_0x46403d,_0x44063e){return _0x46403d-_0x44063e;},'vFXwg':function(_0x5826c6,_0x32d873){return _0x5826c6&&_0x32d873;},'QYlSc':'#00ff88','RONwW':function(_0x31b052,_0x4529da){return _0x31b052(_0x4529da);},'bepXj':function(_0x310b5b,_0x5f4fdb){return _0x310b5b(_0x5f4fdb);},'YgoZY':'value'};db[_0x37ebfa(0x2bb)](_0x37ebfa(0x175)+roomCode)['on'](_0x12129d[_0x37ebfa(0x2e5)],_0x581571=>{const _0x6778c8=_0x37ebfa,_0x500daa={'KrSrL':function(_0x1856c0,_0x1c2040){return _0x1856c0<=_0x1c2040;},'BwrtK':function(_0x489fb4,_0x30cf72){return _0x489fb4-_0x30cf72;},'ZaYhL':function(_0x8e08c5,_0x3233ee){const _0x15648f=_0x2566;return _0x12129d[_0x15648f(0x37b)](_0x8e08c5,_0x3233ee);},'sQUJs':function(_0x403f22,_0xf34c49,_0xd7ff44,_0xf8b4d2){const _0xf60593=_0x2566;return _0x12129d[_0xf60593(0x251)](_0x403f22,_0xf34c49,_0xd7ff44,_0xf8b4d2);},'Etuxs':function(_0x55ed98,_0x270202){const _0x47cbb1=_0x2566;return _0x12129d[_0x47cbb1(0x158)](_0x55ed98,_0x270202);},'sSpXz':function(_0x3200cd,_0x1ca7c7){const _0x3b95dd=_0x2566;return _0x12129d[_0x3b95dd(0x26b)](_0x3200cd,_0x1ca7c7);},'puASs':_0x12129d[_0x6778c8(0x34d)],'XGgNb':'#888','nRPRr':function(_0x403b82,_0x4da178){const _0x11e7e4=_0x6778c8;return _0x12129d[_0x11e7e4(0x374)](_0x403b82,_0x4da178);},'FIBbR':function(_0xd85b7e,_0x28cbec){return _0x12129d['bepXj'](_0xd85b7e,_0x28cbec);}},_0xc55c56=_0x581571[_0x6778c8(0x39b)]()||{},_0x37767a=Date['now'](),_0x3fb13c={};Object['entries'](_0xc55c56)[_0x6778c8(0x38c)](([_0x4e49ef,_0x55e395])=>{const _0x591571=_0x6778c8,_0x26ff99=_0x500daa[_0x591571(0x2f1)](_0x500daa[_0x591571(0x1c2)](_0x37767a,_0x55e395[_0x591571(0x21d)]),_0x500daa[_0x591571(0x35e)](_0x500daa[_0x591571(0x35e)](0x5,0x3c),0x3e8));(_0x55e395[_0x591571(0x27d)]||_0x26ff99)&&(_0x3fb13c[_0x4e49ef]=_0x55e395);}),userListReady=!![],pendingMessages[_0x6778c8(0x38c)](({data:_0x497983,sent:_0x576a04,key:_0x19e349})=>{const _0x7ba091=_0x6778c8;_0x500daa[_0x7ba091(0x337)](addMessage,_0x497983,_0x576a04,_0x19e349);}),pendingMessages=[];const _0x6891b1=Object[_0x6778c8(0x19c)](_0xc55c56)['map'](_0xd09263=>{const _0x40e081=_0x6778c8,_0x3170a3=_0xd09263[_0x40e081(0x27d)],_0x1e6bd7=_0x500daa[_0x40e081(0x372)](_0x37767a,_0xd09263['lastOnline'])<=_0x500daa[_0x40e081(0x35e)](_0x500daa[_0x40e081(0x35e)](0x1e,0x3c),0x3e8);if(_0x500daa[_0x40e081(0x35b)](!_0x3170a3,!_0x1e6bd7))return'';const _0x47b8dd=_0x3170a3?_0x500daa[_0x40e081(0x268)]:_0x500daa['XGgNb'],_0x155152=_0x3170a3?'🟢':'🕒',_0x5b1f1e=_0xd09263['avatarBase64']?_0x40e081(0x1ae)+_0xd09263[_0x40e081(0x28d)]+_0x40e081(0x276):'<span\x20style=\x22margin-right:5px;\x22>👤</span>',_0x28ec89=_0xd09263['admin']?_0x40e081(0x28b):'';return'<li\x20style=\x22color:'+_0x47b8dd+_0x40e081(0x225)+_0x500daa['nRPRr'](sanitizeUsername,_0xd09263[_0x40e081(0x344)])+_0x40e081(0x21b)+_0x5b1f1e+_0x155152+'\x20'+_0xd09263[_0x40e081(0x344)]+'\x20'+_0x500daa[_0x40e081(0x345)](getRoleTag,_0x500daa[_0x40e081(0x326)](sanitizeUsername,_0xd09263[_0x40e081(0x344)]))+_0x40e081(0x278);})[_0x6778c8(0x20e)]('');document[_0x6778c8(0x2c3)](_0x6778c8(0x30b))[_0x6778c8(0x21a)]=_0x6891b1;});}function sendTyping(_0x26ebb2=![]){const _0x51fffa=_0x52f9bc,_0x133003={'BERdR':function(_0xbea41d,_0x542629){return _0xbea41d(_0x542629);},'ACEkP':function(_0x274c85,_0x104e27,_0x57c911){return _0x274c85(_0x104e27,_0x57c911);}};if(isBlocked)return;const _0x2ac7d5=_0x51fffa(0x330)+roomCode+_0x51fffa(0x299)+clientId;_0x26ebb2?db['ref'](_0x2ac7d5)[_0x51fffa(0x2c1)]():(db[_0x51fffa(0x2bb)](_0x2ac7d5)[_0x51fffa(0x160)](username),_0x133003[_0x51fffa(0x293)](clearTimeout,typingTimeout),typingTimeout=_0x133003[_0x51fffa(0x33b)](setTimeout,()=>{const _0x15acd0=_0x51fffa;db[_0x15acd0(0x2bb)](_0x2ac7d5)[_0x15acd0(0x2c1)]();},0xbb8));}function listenForTyping(){const _0x5401a5=_0x52f9bc,_0x16fb89={'aEbTe':_0x5401a5(0x202)},_0x564660=document[_0x5401a5(0x2c3)](_0x16fb89[_0x5401a5(0x2bd)]);db['ref'](_0x5401a5(0x330)+roomCode+_0x5401a5(0x164))['on']('value',_0x394948=>{const _0x181e9c=_0x5401a5,_0x23c670=_0x394948[_0x181e9c(0x39b)]();if(!_0x23c670)return _0x564660[_0x181e9c(0x312)]='';const _0x165dca=Object[_0x181e9c(0x19c)](_0x23c670)[_0x181e9c(0x2a7)](_0x5cb4f7=>_0x5cb4f7!==username);_0x564660[_0x181e9c(0x312)]=_0x165dca[_0x181e9c(0x189)]?_0x165dca[_0x181e9c(0x20e)](',\x20')+'\x20typing...':'';});}function trackPresence(){const _0x3b8c86=_0x52f9bc,_0x15c69a={'bdaSg':function(_0x58e433,_0x2d4180){return _0x58e433||_0x2d4180;},'jZmEh':function(_0x79e0b7,_0x19b3ab){return _0x79e0b7(_0x19b3ab);},'kylQY':function(_0x486768,_0x349665){return _0x486768||_0x349665;},'GCOPq':_0x3b8c86(0x163)};if(_0x15c69a[_0x3b8c86(0x2bc)](!username,!roomCode))return;const _0x19e837=_0x15c69a[_0x3b8c86(0x223)](sanitizeUsername,username),_0x279d5f=db[_0x3b8c86(0x2bb)](_0x3b8c86(0x175)+roomCode+'/'+_0x19e837),_0x162844={'username':username,'avatarBase64':_0x15c69a[_0x3b8c86(0x237)](avatarBase64,''),'description':_0x15c69a[_0x3b8c86(0x237)](userDescription,''),'online':!![],'lastOnline':firebase[_0x3b8c86(0x241)][_0x3b8c86(0x1db)][_0x3b8c86(0x32c)]};db['ref'](_0x3b8c86(0x38f)+roomCode+'/'+_0x19e837)[_0x3b8c86(0x23b)](_0x15c69a[_0x3b8c86(0x233)])[_0x3b8c86(0x383)](_0x411470=>{const _0x2096d0=_0x3b8c86;_0x411470[_0x2096d0(0x29c)]()&&(_0x162844['admin']=!![]),_0x279d5f[_0x2096d0(0x160)](_0x162844),_0x279d5f['onDisconnect']()[_0x2096d0(0x257)]({'online':![],'lastOnline':Date[_0x2096d0(0x190)]()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0x44bc1a){const _0x11083f=_0x52f9bc,_0x4829d1={'UixvT':_0x11083f(0x2d0),'vwaos':function(_0x9c065f,_0x3970aa){return _0x9c065f(_0x3970aa);},'LjzQO':function(_0x4d5c41,_0x321f20){return _0x4d5c41(_0x321f20);},'JOgFu':'✅\x20Profile\x20picture\x20updated!','XlGls':_0x11083f(0x1e8)};if(!_0x44bc1a['files'][_0x11083f(0x189)])return;const _0xf2bc96=_0x44bc1a[_0x11083f(0x33c)][0x0],_0x27e2a3=new FileReader();_0x27e2a3[_0x11083f(0x262)]=async()=>{const _0x52359f=_0x11083f,_0xed1867=_0x27e2a3[_0x52359f(0x250)]['split'](',')[0x1];document[_0x52359f(0x2c3)](_0x4829d1['UixvT'])[_0x52359f(0x339)]=_0x27e2a3['result'],document[_0x52359f(0x2c3)](_0x4829d1[_0x52359f(0x37d)])['style'][_0x52359f(0x29f)]=_0x52359f(0x15f);try{const _0x5dc67a=_0x4829d1[_0x52359f(0x178)](sanitizeUsername,username);await db[_0x52359f(0x2bb)](_0x52359f(0x17e)+_0x5dc67a+_0x52359f(0x214))[_0x52359f(0x160)](_0xed1867),_0x4829d1['LjzQO'](alert,_0x4829d1[_0x52359f(0x36c)]);}catch(_0x24044a){console['error'](_0x24044a),_0x4829d1[_0x52359f(0x2d1)](alert,_0x4829d1['XlGls']);}},_0x27e2a3['readAsDataURL'](_0xf2bc96);}function muteUser(_0x137fe6,_0x4687c3){const _0x4978d4=_0x52f9bc,_0x12fe85={'zQVVr':function(_0x12cbb1,_0x2f230b){return _0x12cbb1+_0x2f230b;},'xlbUa':function(_0x45880f,_0x323770){return _0x45880f*_0x323770;},'eqikk':function(_0x3c8e8b,_0x47589b){return _0x3c8e8b*_0x47589b;},'PvdZY':function(_0x1ca3f8,_0x313bda){return _0x1ca3f8(_0x313bda);}};if(!isRoomAdmin)return alert(_0x4978d4(0x19d));const _0x2e98cf=_0x12fe85[_0x4978d4(0x348)](Date[_0x4978d4(0x190)](),_0x12fe85[_0x4978d4(0x169)](_0x12fe85[_0x4978d4(0x254)](_0x4687c3,0x3c),0x3e8));db[_0x4978d4(0x2bb)]('muted/'+roomCode+'/'+_0x12fe85[_0x4978d4(0x2de)](sanitizeUsername,_0x137fe6))[_0x4978d4(0x160)](_0x2e98cf);}function unmuteUser(_0x2780b1){const _0x13a240=_0x52f9bc,_0x189f46={'ecrZW':function(_0x34d7ee,_0x22f63a){return _0x34d7ee(_0x22f63a);}};if(!isRoomAdmin)return _0x189f46[_0x13a240(0x1b4)](alert,_0x13a240(0x19d));db[_0x13a240(0x2bb)](_0x13a240(0x1c6)+roomCode+'/'+_0x189f46[_0x13a240(0x1b4)](sanitizeUsername,_0x2780b1))[_0x13a240(0x2c1)]();}function updateOnlineIndicator(){const _0x5807ea=_0x52f9bc,_0x48706f={'DTtuz':_0x5807ea(0x159),'jqYyL':_0x5807ea(0x238),'mqKxn':'#00ff88'},_0xab566=document[_0x5807ea(0x2c3)](_0x48706f[_0x5807ea(0x211)]);_0xab566['innerText']=_0x48706f[_0x5807ea(0x2e6)],_0xab566[_0x5807ea(0x282)][_0x5807ea(0x2da)]=_0x48706f[_0x5807ea(0x31c)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x1ae99e){const _0x2559f9=_0x52f9bc,_0x5d67d0={'ReKUy':function(_0x4b8044,_0x293862){return _0x4b8044(_0x293862);},'SZiOc':'Profile\x20not\x20found.','vHjUr':_0x2559f9(0x3a3),'ShRrs':_0x2559f9(0x27f),'cvLWB':'Unknown','wNnWz':_0x2559f9(0x1c1),'ZLLTu':_0x2559f9(0x274)};db[_0x2559f9(0x2bb)](_0x2559f9(0x17e)+_0x1ae99e)[_0x2559f9(0x16a)]()['then'](_0x55da7b=>{const _0x3fdf27=_0x2559f9;if(!_0x55da7b[_0x3fdf27(0x29c)]())return _0x5d67d0[_0x3fdf27(0x272)](alert,_0x5d67d0[_0x3fdf27(0x2dd)]);const _0x42b273=_0x55da7b[_0x3fdf27(0x39b)](),_0x1e4058=(_0x3fdf27(0x16d)+_0x42b273['username']+_0x3fdf27(0x2fb)+(_0x42b273[_0x3fdf27(0x2a0)]||_0x5d67d0[_0x3fdf27(0x17f)])+_0x3fdf27(0x2f8)+((_0x42b273[_0x3fdf27(0x18c)]||[])[_0x3fdf27(0x20e)](',\x20')||_0x5d67d0[_0x3fdf27(0x2f6)])+'\x0aLast\x20Changed:\x20'+(_0x42b273[_0x3fdf27(0x356)]?new Date(_0x42b273[_0x3fdf27(0x356)])[_0x3fdf27(0x2e4)]():_0x5d67d0[_0x3fdf27(0x365)])+_0x3fdf27(0x15e))[_0x3fdf27(0x182)]();document[_0x3fdf27(0x2c3)](_0x5d67d0[_0x3fdf27(0x32d)])[_0x3fdf27(0x312)]=_0x1e4058,document[_0x3fdf27(0x2c3)](_0x5d67d0[_0x3fdf27(0x1ab)])[_0x3fdf27(0x282)][_0x3fdf27(0x29f)]=_0x3fdf27(0x15f);});}function initUsernameFlow(){const _0x468bc7=_0x52f9bc,_0x5b73db={'rPHcd':_0x468bc7(0x2b9),'HmNnD':function(_0x59a498,_0x157803){return _0x59a498(_0x157803);},'bgfhI':'profileScreen','rgnmj':function(_0x17ce7c,_0x41134f){return _0x17ce7c(_0x41134f);},'GcMYy':_0x468bc7(0x2f9)},_0x34a500=localStorage[_0x468bc7(0x325)](_0x5b73db['rPHcd']);!_0x34a500?_0x5b73db[_0x468bc7(0x30e)](showScreen,_0x5b73db['bgfhI']):(username=_0x34a500,document[_0x468bc7(0x2c3)](_0x468bc7(0x363))[_0x468bc7(0x312)]=username,_0x5b73db['rgnmj'](showScreen,_0x5b73db[_0x468bc7(0x236)]));}function closeProfile(){const _0x4f33fd=_0x52f9bc,_0x23b5dd={'gQImB':_0x4f33fd(0x274),'TLOJR':_0x4f33fd(0x252)};document['getElementById'](_0x23b5dd[_0x4f33fd(0x22c)])[_0x4f33fd(0x282)][_0x4f33fd(0x29f)]=_0x23b5dd[_0x4f33fd(0x29d)];}function resetWebsiteData(){const _0x348421=_0x52f9bc,_0x50bd4b={'hkXRo':function(_0x1a8b6d,_0x3c4aef){return _0x1a8b6d||_0x3c4aef;},'jiHfj':_0x348421(0x161),'MYqpD':function(_0x46ae99,_0x2d1b4e){return _0x46ae99+_0x2d1b4e;}};try{localStorage['clear'](),sessionStorage[_0x348421(0x1de)]();}catch(_0x4897c1){}if(_0x50bd4b[_0x348421(0x19f)](!username,!roomCode)){const _0x21b05a=_0x50bd4b[_0x348421(0x191)][_0x348421(0x2bf)]('|');let _0xa76fff=0x0;while(!![]){switch(_0x21b05a[_0xa76fff++]){case'0':username=null;continue;case'1':isRoomAdmin=![];continue;case'2':roomCode=null;continue;case'3':pendingMessages=[];continue;case'4':clientId=_0x50bd4b[_0x348421(0x327)]('_',Math[_0x348421(0x166)]()[_0x348421(0x1bf)](0x24)[_0x348421(0x17a)](0x2,0x9));continue;}break;}}}function addAnnouncement(){const _0x196544=_0x52f9bc,_0x1e1c9c=prompt(_0x196544(0x31a));if(!_0x1e1c9c)return;db[_0x196544(0x2bb)](_0x196544(0x330)+roomCode+_0x196544(0x360))[_0x196544(0x160)]({'text':_0x1e1c9c,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x4a7e33=_0x52f9bc,_0x1fe780={'DIIuc':'announcementArea','qJIrG':_0x4a7e33(0x163)},_0x1cd767=db[_0x4a7e33(0x2bb)](_0x4a7e33(0x330)+roomCode+'/announcement');_0x1cd767['on'](_0x1fe780[_0x4a7e33(0x351)],_0xe8ee92=>{const _0x5d46fa=_0x4a7e33,_0x1d00f4=_0xe8ee92[_0x5d46fa(0x39b)]();if(!_0x1d00f4){document[_0x5d46fa(0x2c3)](_0x1fe780[_0x5d46fa(0x2c8)])['innerText']='';return;}const _0xdd3906=document[_0x5d46fa(0x2c3)](_0x1fe780[_0x5d46fa(0x2c8)]);_0xdd3906['innerText']=''+_0x1d00f4[_0x5d46fa(0x1dc)];});}document[_0x52f9bc(0x2c3)](_0x52f9bc(0x167))['addEventListener'](_0x52f9bc(0x285),_0x484298=>{const _0x50f02e=_0x52f9bc,_0x42f2a4={'GCJTq':function(_0x1b1c7b,_0x2a5d5b){return _0x1b1c7b===_0x2a5d5b;},'wAIjW':function(_0x173992,_0x3aa998){return _0x173992(_0x3aa998);},'pNPKr':_0x50f02e(0x180)};_0x42f2a4[_0x50f02e(0x1b7)](_0x484298[_0x50f02e(0x2c7)],0x3)&&isRoomAdmin&&(_0x42f2a4[_0x50f02e(0x19a)](confirm,_0x42f2a4[_0x50f02e(0x2a6)])&&db[_0x50f02e(0x2bb)]('rooms/'+roomCode+_0x50f02e(0x360))[_0x50f02e(0x2c1)]());}),document[_0x52f9bc(0x2c3)](_0x52f9bc(0x186))['addEventListener'](_0x52f9bc(0x379),()=>{const _0x31c815=_0x52f9bc,_0xf65d74={'RSnwg':_0x31c815(0x263),'QUjFl':_0x31c815(0x323)},_0x2a729c=document[_0x31c815(0x2c3)]('msgInput'),_0xfa844f=document[_0x31c815(0x2c3)](_0xf65d74['RSnwg']),_0x33ea31=_0x2a729c[_0x31c815(0x163)][_0x31c815(0x354)](),_0x4826e6=swearWords[_0x31c815(0x1dd)](_0x3bcaef=>_0x33ea31[_0x31c815(0x260)](_0x3bcaef));_0x4826e6?(_0x2a729c[_0x31c815(0x282)]['border']=_0xf65d74[_0x31c815(0x389)],_0xfa844f['disabled']=!![]):(_0x2a729c[_0x31c815(0x282)][_0x31c815(0x2c2)]='',_0xfa844f['disabled']=![]);});function muteUser(_0x5ac0e5,_0x72b032){const _0x56dbac=_0x52f9bc,_0x17ebc2={'kIJTb':function(_0x3400d9,_0x29f026){return _0x3400d9(_0x29f026);},'QVQSL':function(_0x385b85,_0x18ed9a){return _0x385b85*_0x18ed9a;},'SewBm':function(_0x30ddbc,_0x193d4f){return _0x30ddbc*_0x193d4f;}},_0x3c891f=Date[_0x56dbac(0x190)]()+_0x17ebc2['QVQSL'](_0x17ebc2[_0x56dbac(0x1ac)](_0x72b032,0x3c),0x3e8);db[_0x56dbac(0x2bb)]('muted/'+roomCode+'/'+_0x17ebc2[_0x56dbac(0x1fd)](sanitizeUsername,_0x5ac0e5))[_0x56dbac(0x160)]({'muteUntil':_0x3c891f})[_0x56dbac(0x383)](()=>{const _0x2d475e=_0x56dbac;_0x17ebc2[_0x2d475e(0x1fd)](alert,_0x5ac0e5+'\x20muted\x20for\x20'+_0x72b032+_0x2d475e(0x19b));});}function deleteUserMessages(_0x4aea4c){const _0x21748b=_0x52f9bc,_0x1a42bb={'aOrhO':function(_0x3a1595,_0x219fd2){return _0x3a1595(_0x219fd2);},'rOUvl':_0x21748b(0x2a1)};db['ref']('rooms/'+roomCode+_0x21748b(0x1b3))[_0x21748b(0x1e1)](_0x1a42bb['rOUvl'])[_0x21748b(0x1a9)](_0x4aea4c)[_0x21748b(0x16a)]()[_0x21748b(0x383)](_0x45aea2=>{const _0x579cf9=_0x21748b;_0x45aea2[_0x579cf9(0x38c)](_0x33e934=>{const _0x26a03a=_0x579cf9;db[_0x26a03a(0x2bb)](_0x26a03a(0x330)+roomCode+_0x26a03a(0x245)+_0x33e934[_0x26a03a(0x23f)])[_0x26a03a(0x2c1)]();}),_0x1a42bb['aOrhO'](alert,_0x579cf9(0x2b0)+_0x4aea4c+_0x579cf9(0x266));});}function pauseRoom(_0x5ba424){const _0x332ac5=_0x52f9bc,_0x33032c={'HhyTZ':_0x332ac5(0x2e3),'CjSPe':_0x332ac5(0x15f),'zwcpM':_0x332ac5(0x252),'AVlWy':'value'};db[_0x332ac5(0x2bb)](_0x332ac5(0x330)+roomCode+_0x332ac5(0x1a5))['on'](_0x33032c[_0x332ac5(0x217)],_0x4e9709=>{const _0x38cfe6=_0x332ac5,_0x4ce2da=_0x4e9709[_0x38cfe6(0x39b)]();document['getElementById'](_0x33032c[_0x38cfe6(0x1b2)])[_0x38cfe6(0x282)][_0x38cfe6(0x29f)]=_0x4ce2da?_0x33032c[_0x38cfe6(0x318)]:_0x33032c[_0x38cfe6(0x27a)];});}function canPerformAction(_0x51af2b){const _0x31011d=_0x52f9bc,_0x5c7a76={'FtcdD':function(_0x26271a,_0x44727f){return _0x26271a===_0x44727f;},'OLSin':_0x31011d(0x208),'BDUAM':'admin','QxQrE':function(_0x3b6e88,_0x253c8a){return _0x3b6e88===_0x253c8a;},'XTPOD':'moderator'};if(_0x5c7a76['FtcdD'](role,_0x31011d(0x1a0)))return!![];if(_0x5c7a76[_0x31011d(0x1c9)](_0x51af2b,_0x31011d(0x2dc))||_0x5c7a76[_0x31011d(0x1c9)](_0x51af2b,_0x5c7a76[_0x31011d(0x1d6)]))return _0x5c7a76[_0x31011d(0x1c9)](role,_0x5c7a76[_0x31011d(0x347)])||_0x5c7a76[_0x31011d(0x296)](role,_0x5c7a76[_0x31011d(0x177)]);if(_0x5c7a76[_0x31011d(0x296)](_0x51af2b,_0x31011d(0x27c)))return _0x5c7a76[_0x31011d(0x1c9)](role,_0x5c7a76['BDUAM']);return![];}function _0x2566(_0x1b9478,_0x3891ba){const _0x5441d9=_0x5441();return _0x2566=function(_0x2566f2,_0x42c828){_0x2566f2=_0x2566f2-0x157;let _0x212a48=_0x5441d9[_0x2566f2];return _0x212a48;},_0x2566(_0x1b9478,_0x3891ba);}const html=Object[_0x52f9bc(0x19c)](activeUsers)['map'](_0x5ac811=>{const _0x5c3be6=_0x52f9bc,_0x499691={'bsGfP':function(_0x31f069,_0x2eb2a0){return _0x31f069(_0x2eb2a0);},'MoYry':function(_0x4165ea,_0xb5cb60){return _0x4165ea(_0xb5cb60);},'uMbKJ':'mute','grmTI':_0x5c3be6(0x208),'Pmiie':function(_0x756349,_0x2058f4){return _0x756349===_0x2058f4;},'MoGsf':_0x5c3be6(0x1a0),'pnvMr':_0x5c3be6(0x1ef)},_0x3371d0=_0x499691[_0x5c3be6(0x28a)](sanitizeUsername,_0x5ac811[_0x5c3be6(0x344)]),_0x2196ab=[];if(_0x3371d0!==_0x499691[_0x5c3be6(0x288)](sanitizeUsername,username)){_0x499691[_0x5c3be6(0x288)](canPerformAction,_0x499691[_0x5c3be6(0x2d6)])&&(_0x2196ab[_0x5c3be6(0x23d)](_0x5c3be6(0x1d5)+_0x3371d0+_0x5c3be6(0x1f7)),_0x2196ab[_0x5c3be6(0x23d)]('<button\x20onclick=\x22muteUser(\x27'+_0x3371d0+_0x5c3be6(0x341)));_0x499691[_0x5c3be6(0x288)](canPerformAction,_0x499691[_0x5c3be6(0x18f)])&&_0x2196ab[_0x5c3be6(0x23d)](_0x5c3be6(0x2eb)+_0x3371d0+_0x5c3be6(0x2cd));if(_0x499691[_0x5c3be6(0x353)](role,_0x499691[_0x5c3be6(0x165)]))_0x2196ab[_0x5c3be6(0x23d)](_0x5c3be6(0x39d)+_0x3371d0+_0x5c3be6(0x343)),_0x2196ab['push'](_0x5c3be6(0x24f)+_0x3371d0+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x499691[_0x5c3be6(0x353)](role,_0x499691[_0x5c3be6(0x2d5)])&&_0x2196ab[_0x5c3be6(0x23d)](_0x5c3be6(0x39d)+_0x3371d0+_0x5c3be6(0x343));}return _0x5c3be6(0x390)+_0x5ac811[_0x5c3be6(0x344)]+'\x20'+_0x499691[_0x5c3be6(0x288)](getRoleTag,sanitizeUsername(_0x5ac811[_0x5c3be6(0x344)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x3371d0+_0x5c3be6(0x346)+_0x2196ab[_0x5c3be6(0x20e)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x3371d0+_0x5c3be6(0x1d0);})[_0x52f9bc(0x20e)]('');async function loadUserRoles(){const _0x566e2b=_0x52f9bc,_0x16bb36={'BFmSg':function(_0x5a6eb5,_0x3ab44c){return _0x5a6eb5(_0x3ab44c);},'EPOVh':_0x566e2b(0x1a0),'NaKBR':_0x566e2b(0x311),'UrmlU':_0x566e2b(0x1ef),'yBwKA':function(_0xda0c24,_0x124d79){return _0xda0c24===_0x124d79;},'agxFb':_0x566e2b(0x286)},_0x175fbd=_0x16bb36[_0x566e2b(0x181)](sanitizeUsername,username),_0x5f52f4=await db[_0x566e2b(0x2bb)](_0x566e2b(0x17e)+_0x175fbd+_0x566e2b(0x3a2))[_0x566e2b(0x16a)]();role=_0x5f52f4[_0x566e2b(0x29c)]()&&_0x5f52f4[_0x566e2b(0x39b)]()===_0x16bb36[_0x566e2b(0x2d8)]?_0x16bb36['EPOVh']:_0x16bb36['NaKBR'];const _0x291930=await db['ref']('admins/'+roomCode+'/'+_0x175fbd)['get']();_0x291930[_0x566e2b(0x29c)]()&&(role=_0x16bb36[_0x566e2b(0x321)]);const _0xbdafb0=await db['ref'](_0x566e2b(0x209)+roomCode+'/'+_0x175fbd)['get']();_0xbdafb0[_0x566e2b(0x29c)]()&&(role=_0x16bb36['yBwKA'](role,_0x16bb36[_0x566e2b(0x321)])?_0x16bb36[_0x566e2b(0x321)]:_0x16bb36[_0x566e2b(0x176)]);}function promoteToModerator(_0x2b4701){const _0x1d8d1b=_0x52f9bc,_0x35fc19={'bTKrD':function(_0x5d7f6d,_0xb4dfb7){return _0x5d7f6d!==_0xb4dfb7;},'RzHLk':_0x1d8d1b(0x1a0),'aDnKo':function(_0x12334f,_0x42f298){return _0x12334f!==_0x42f298;},'eMcCr':_0x1d8d1b(0x1ef),'PYbwI':function(_0x5758e2,_0x329a54){return _0x5758e2(_0x329a54);},'IcrtY':_0x1d8d1b(0x34e),'GPXYF':function(_0x9cfdce,_0x3503ab){return _0x9cfdce(_0x3503ab);}};if(_0x35fc19[_0x1d8d1b(0x16e)](role,_0x35fc19[_0x1d8d1b(0x218)])&&_0x35fc19[_0x1d8d1b(0x2f0)](role,_0x35fc19[_0x1d8d1b(0x1d7)])){_0x35fc19[_0x1d8d1b(0x287)](alert,_0x35fc19[_0x1d8d1b(0x333)]);return;}db[_0x1d8d1b(0x2bb)](_0x1d8d1b(0x209)+roomCode+'/'+_0x35fc19[_0x1d8d1b(0x18a)](sanitizeUsername,_0x2b4701))[_0x1d8d1b(0x160)](!![])[_0x1d8d1b(0x383)](()=>{const _0x97f236=_0x1d8d1b;alert(_0x2b4701+_0x97f236(0x36f));});}function promoteToAdmin(_0x1b9519){const _0x3eac5f=_0x52f9bc,_0x34d550={'Wqcwa':function(_0x3b9ecb,_0x6428c0){return _0x3b9ecb(_0x6428c0);},'BKJfI':function(_0x5d7101,_0x605b1c){return _0x5d7101!==_0x605b1c;},'pzGCs':'Only\x20Devs\x20can\x20promote\x20to\x20Admin.'};if(_0x34d550[_0x3eac5f(0x381)](role,_0x3eac5f(0x1a0))){alert(_0x34d550[_0x3eac5f(0x2ce)]);return;}db[_0x3eac5f(0x2bb)](_0x3eac5f(0x38f)+roomCode+'/'+_0x34d550[_0x3eac5f(0x316)](sanitizeUsername,_0x1b9519))['set'](!![])[_0x3eac5f(0x383)](()=>{const _0x1ac1ae=_0x3eac5f;_0x34d550[_0x1ac1ae(0x316)](alert,_0x1b9519+_0x1ac1ae(0x1e3));});}function _0x5441(){const _0x2ac1bb=['FFHYM','keypress','porra','566584LfOGex','from','YeIhJ','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','FPPBJ','https://easy-chatroom-default-rtdb.firebaseio.com','padStart','1:985049198428:web:d0eb7e2de39887710c9b99','<button\x20onclick=\x22muteUser(\x27','OLSin','eMcCr','gozKQ','data','HeubT','ServerValue','text','some','clear','merda','oiNkQ','orderByChild','TULuW','\x20promoted\x20to\x20Admin!','xRgJz','setItem','SgbXJ','antispamBlocked/','⚠️\x20Failed\x20to\x20update\x20avatar.','passwordScreen','newPasswordInput','jASZo','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','LdUOB','visibilitychange','admin','<span\x20style=\x22color:darkred;font-weight:bold;\x22>[Admin]</span>','PEdrb','[Voice\x20message]','BIlmt','profile_description','asshole','state','\x27,\x205)\x22>Mute\x205m</button>','2321440fvVOFw','<span\x20style=\x22color:darkgreen;font-weight:bold;\x22>[Mod]</span>','wTbov','2|4|0|5|3|1','Room\x20is\x20paused.\x20Wait\x20for\x20Dev/Admin\x20to\x20resume.','kIJTb','msg','KEBqr','zpwZW','roomDisplay','typing','kFxwn','oldPasswordInput','<span\x20class=\x22sender-name\x22>','VCAqj','onDisconnect','deleteMessage','moderators/','audio/webm','authUsername','iNRtH','eGpoT','join','mvbJh','ShqaA','DTtuz','popstate','vERII','/avatarBase64','limitToLast','easy-chatroom.firebasestorage.app','AVlWy','RzHLk','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','innerHTML','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','mpcLc','lastOnline','cxGhC','NNpJf','gilipollas','cunt','reload','jZmEh','UvYBQ',';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27','flex','bXClZ','UgynJ','ABCDEFGHIJKLMNOPQRSTUVWXYZ','profiles/','nLykY','gQImB','otario','LnWhp','woQLk','authPasswordConfirm','MtXAN','knhlD','GCOPq','RbLOc','OPTvV','GcMYy','kylQY','●\x20Online','xAeHQ','profileDescriptionInput','once','faSXo','push','BhiNw','key','2257000LPQbno','database','userOptions-','map','editProfileScreen','/messages/','stop','codeEntryScreen','dick','xiZUg','HprPO','fuck','onstop','readAsDataURL','CvdyD','<button\x20onclick=\x22promoteToAdmin(\x27','result','oCSXF','none','GiyRr','eqikk','Enter\x20your\x20new\x20username:','qHosX','update','passwordError','tyqrx','data:audio/webm;base64,','SHA-256','WMIPz','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','authTitle','jRGqo','includes','width','onloadend','sendBtn','messages','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','\x20deleted.','EHZfa','puASs','XnDzz','NdIyE','vFXwg','TePdD','DTBEq','rReyU','qMtMW','Please\x20fill\x20all\x20fields.','hidden','ReKUy','rooms','profileViewer','Microphone\x20permission\x20denied.','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>','❌\x20Username\x20already\x20taken.','\x0a\x20\x20\x20\x20\x20\x20</li>','toUpperCase','zwcpM','rpUgB','promote','online','JUrBn','No\x20changes\x20yet','VtPFD','UuDwN','style','fdp','uZKHX','click','moderator','PYbwI','MoYry','wvlpj','bsGfP','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','authScreen','avatarBase64','tecBB','kJxyq','7060YupCQz','MquzN','OsVIF','BERdR','VSLpC','ztqJS','QxQrE','DcTeN','ioPYa','/typing/','deviceId','nropD','exists','TLOJR','niXDM','display','description','sender','682128EJVAFH','GSjZi','wYGCt','ckTIk','pNPKr','filter','You\x20got\x20a\x20message\x20from\x20','QTUjK','ovbPz','3|10|1|0|6|2|4|8|5|7|9','tvnUb','authSubmitBtn','gYNNP','replace','Messages\x20by\x20','Xvxzu','dFjID','antispam/','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','Profile\x20not\x20found.','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','avatar_base64','TFTpp','chat_username','appendChild','ref','bdaSg','aEbTe','EUMLm','split','sMfLr','remove','border','getElementById','add','zQdle','dIwgH','detail','DIIuc','MzdCE','QWJTQ','qOLDn','siCIX','\x27)\x22>Delete\x20Messages</button>','pzGCs','Please\x20enter\x20your\x20current\x20password.','sidebarAvatarPreview','LjzQO','uQvBA','</small>','Passwords\x20do\x20not\x20match.','pnvMr','uMbKJ','requestPermission','EPOVh','0|1|2|3|4','color','[Voice\x20Message]','mute','SZiOc','PvdZY','UsKGv','jZaDH','roomCodeInput','authDescription','pausedOverlay','toLocaleString','YgoZY','jqYyL','JiPuG','ilqxv','Incorrect\x20current\x20password.','26316BIOype','<button\x20onclick=\x22deleteUserMessages(\x27','BpYbj','scrollHeight','authError','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','aDnKo','KrSrL','Register','050BBB66HH','ondataavailable','GqdaJ','ShRrs','authAvatarPreview','\x0aUsername\x20History:\x20','roomChoiceScreen','UiRKU','\x0aDescription:\x20','</span>','Enter','eozdp','1473115zWTwUL','KBQUW','catch','tangina','3UqVIEd','classList','tnpYG','LCZuK','<small>','yVDyH','authAvatar','ThSvW','userList','</div>','OtWcK','HmNnD','hyDIA','<audio\x20controls\x20src=\x22','user','innerText','caralho','content','rvcDw','Wqcwa','audioBase64','CjSPe','profileUsernameInput','Enter\x20Announcement\x20Text:','antispamBlocked','mqKxn','KFhEq','jPltI','DhlXt','bwisit','UrmlU','recordBtn','2px\x20solid\x20red','\x20in\x20room\x20','getItem','nRPRr','MYqpD','ICzdE','<span\x20style=\x22margin-right:8px;\x22>👤</span>','IzQUm','shit','TIMESTAMP','wNnWz','userDisplay','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','rooms/','createElement','title','IcrtY','Llens','Session\x20expired.','vJxjE','sQUJs','cXCwg','src','zXHUy','ACEkP','files','HQuNS','coño','permission','emCjv','\x27,\x2010)\x22>Mute\x2010m</button>','putangina','\x27)\x22>Promote\x20to\x20Moderator</button>','username','FIBbR','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','BDUAM','zQVVr','Only\x20one\x20account\x20per\x20device\x20allowed.','SMRRv','hLxWF','<br>','QYlSc','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','2-digit','received','qJIrG','ZNKMl','Pmiie','toLowerCase','hCGoX','lastChanged','qkINi','disabled','qMOpO','profileScreen','sSpXz','30IxKOMP','vBQyj','ZaYhL','bastard','/announcement','pendejo','asXBj','namePreview','Username\x20not\x20found.','cvLWB','puta','error','WiSBm','IrIIr','div','bitch','JOgFu','passwordHash','GGuRl','\x20promoted\x20to\x20Moderator!','gago','fqDAY','Etuxs','authPassword','RONwW','hWGFT','editProfileError','drllL','JHXhB','input','gkZEI','OTHNl','UzxOY','UixvT','Qxoqd','HnItb','OQlUk','BKJfI','qSPms','then','TvBKs','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','onload','Failed\x20to\x20save\x20profile:','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','QUjFl','OtTKz','New\x20Chat\x20Message','forEach','notifToggleBtn','back','admins/','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20','uFcVX','ouDQM','SKPVq','oMank','BcGtk','Login','Cnayf','cabron','EhVAW','subtle','val','initializeApp','<button\x20onclick=\x22promoteToModerator(\x27','wjRAG','oGEWT','gDAOE','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','/role','No\x20bio\x20set','sADgC','kjUPK','onlineStatus','data:image/png;base64,','userSidebar','WYeXT','DgmQU','\x0a\x20\x20\x20\x20','block','set','0|2|1|3|4','xAENx','value','/typing','MoGsf','random','announcementArea','show','xlbUa','get','raoYF','Avgjp','\x0aName:\x20','bTKrD','qbFIb','EmxNl','syBtT','sUFSD','gAyCh','contains','users/','agxFb','XTPOD','vwaos','ocVdW','substr','gr8stg','Username\x20already\x20exists.','DRhuE','auth/','vHjUr','Remove\x20Announcement?','BFmSg','trim','pepzr','mediaDevices','vptBk','msgInput','IThVW','tioAz','length','GPXYF','CPOag','usernameHistory','BMyum','GACVC','grmTI','now','jiHfj','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','ulol','addAnnouncementBtn','🔕\x20Disable\x20Notifications','NMDgs','chatScreen','preventDefault','easy-chatroom','wAIjW','\x20minutes.','values','Admins\x20only.','DwRAT','hkXRo','dev','easy-chatroom.firebaseapp.com','created','[Unknown\x20Message]','putang\x20ina','/paused','bBIoN','Error\x20checking\x20username:','BRbBi','equalTo','caYfP','ZLLTu','SewBm','kFZHu','<img\x20src=\x22data:image/png;base64,','GsFac','Incorrect\x20password.','placeholder','HhyTZ','/messages','ecrZW','cfWSC','ammrk','GCJTq','HCSuL','2707020TxioHO','Clqev','VnGhk','Missing\x20room\x20or\x20user\x20information.','PnbNd','usernameScreen','toString','floor','profileContent','BwrtK','FAJjI','uvhVR','eNSpO','muted/','addEventListener','VkNlt','FtcdD'];_0x5441=function(){return _0x2ac1bb;};return _0x5441();}function toggleUserOptions(_0x517893){const _0x77f462=_0x52f9bc,_0xab288d={'gozKQ':function(_0x4377fa,_0x30306f){return _0x4377fa===_0x30306f;},'hWGFT':_0x77f462(0x252)},_0x2d8eb0=document[_0x77f462(0x2c3)](_0x77f462(0x242)+_0x517893);_0xab288d[_0x77f462(0x1d8)](_0x2d8eb0[_0x77f462(0x282)][_0x77f462(0x29f)],_0xab288d[_0x77f462(0x375)])?_0x2d8eb0['style'][_0x77f462(0x29f)]=_0x77f462(0x15f):_0x2d8eb0[_0x77f462(0x282)][_0x77f462(0x29f)]=_0xab288d['hWGFT'];}function getRoleTag(_0x20f279){const _0x31ddb1=_0x52f9bc;if(globalDevs[_0x31ddb1(0x260)](_0x20f279))return'<span\x20style=\x22color:darkblue;font-weight:bold;\x22>[Dev]</span>';if(roomAdmins[_0x31ddb1(0x260)](_0x20f279))return _0x31ddb1(0x1f0);if(roomModerators[_0x31ddb1(0x260)](_0x20f279))return _0x31ddb1(0x1f9);return'';}async function loadRoomRoles(){const _0x5f173e=_0x52f9bc,_0x13c544={'DcTeN':function(_0x413efd,_0x34f73e){return _0x413efd===_0x34f73e;},'iNRtH':_0x5f173e(0x1a0),'emCjv':function(_0x27ff78,_0x1e2f4a){return _0x27ff78(_0x1e2f4a);},'OWHiB':'auth'};globalDevs=[],roomAdmins=[],roomModerators=[];const _0x594afe=_0x13c544[_0x5f173e(0x340)](sanitizeUsername,username),_0x2cb98b=await db[_0x5f173e(0x2bb)](_0x13c544['OWHiB'])[_0x5f173e(0x16a)]();_0x2cb98b['exists']()&&_0x2cb98b[_0x5f173e(0x38c)](_0x4e6cd2=>{const _0x17eabc=_0x5f173e;_0x13c544[_0x17eabc(0x297)](_0x4e6cd2[_0x17eabc(0x39b)]()['role'],_0x13c544[_0x17eabc(0x20c)])&&globalDevs[_0x17eabc(0x23d)](_0x4e6cd2[_0x17eabc(0x23f)]);});const _0x4ef858=await db[_0x5f173e(0x2bb)]('admins/'+roomCode)[_0x5f173e(0x16a)]();_0x4ef858[_0x5f173e(0x29c)]()&&_0x4ef858['forEach'](_0x17ff38=>{roomAdmins['push'](_0x17ff38['key']);});const _0xffec78=await db[_0x5f173e(0x2bb)](_0x5f173e(0x209)+roomCode)['get']();_0xffec78[_0x5f173e(0x29c)]()&&_0xffec78[_0x5f173e(0x38c)](_0x466a08=>{const _0x54b07d=_0x5f173e;roomModerators[_0x54b07d(0x23d)](_0x466a08[_0x54b07d(0x23f)]);});}