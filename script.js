const _0x351c77=_0x4e40;(function(_0x4e867f,_0x5859d7){const _0x3fc5c6=_0x4e40,_0x29ad15=_0x4e867f();while(!![]){try{const _0x5363b3=-parseInt(_0x3fc5c6(0x221))/0x1+parseInt(_0x3fc5c6(0x231))/0x2*(parseInt(_0x3fc5c6(0x218))/0x3)+-parseInt(_0x3fc5c6(0x1c0))/0x4*(-parseInt(_0x3fc5c6(0x1e4))/0x5)+-parseInt(_0x3fc5c6(0x269))/0x6+-parseInt(_0x3fc5c6(0x1e2))/0x7+-parseInt(_0x3fc5c6(0x2c1))/0x8+parseInt(_0x3fc5c6(0x24e))/0x9;if(_0x5363b3===_0x5859d7)break;else _0x29ad15['push'](_0x29ad15['shift']());}catch(_0x17c8da){_0x29ad15['push'](_0x29ad15['shift']());}}}(_0x3093,0xdf0a0));const firebaseConfig={'apiKey':_0x351c77(0x1eb),'authDomain':_0x351c77(0x304),'databaseURL':_0x351c77(0x276),'projectId':_0x351c77(0x2f3),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':'985049198428','appId':_0x351c77(0x2a2),'measurementId':'G-QDESJ2WR42'};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x351c77(0x18b)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x351c77(0x281),_0x351c77(0x295),_0x351c77(0x307),_0x351c77(0x29f),'bastard',_0x351c77(0x22a),_0x351c77(0x2eb),'puta',_0x351c77(0x23d),_0x351c77(0x253),_0x351c77(0x261),_0x351c77(0x27f),_0x351c77(0x2be),_0x351c77(0x1d5),_0x351c77(0x2ad),_0x351c77(0x26e),_0x351c77(0x19f),'fdp',_0x351c77(0x1f9),_0x351c77(0x28e),_0x351c77(0x214),_0x351c77(0x1b6),_0x351c77(0x2a4),_0x351c77(0x1dd),_0x351c77(0x293),_0x351c77(0x1d0)];let notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x351c77(0x2de)]()[_0x351c77(0x1aa)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x351c77(0x2fb)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x351c77(0x203),MAX_MESSAGES=0xfa,sound=new Audio(_0x351c77(0x1a1));sound[_0x351c77(0x217)]=0.3;function _0x3093(){const _0x407bc1=['TIMESTAMP','input','namePreview','Failed\x20to\x20register\x20user\x20in\x20room.','profileViewer','puta','CGoYy','sounds/beep.mp3','hidden','JrDOs','BpvDT','eDkmf','getElementById','/announcement','</span>','toLocaleString','toString','authAvatar','MIvjc','split','ref','\x0aDescription:\x20','BHTXr','MqIxh','profileUsernameInput','Register','XXeQw','Failed\x20to\x20save\x20profile:','tangina','start','wJsAe','AHRzC','keypress','No\x20changes\x20yet','authAvatarPreview','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','disabled','once','12Yockhp','<img\x20src=\x22','Passwords\x20do\x20not\x20match.','WkDSP','add','YCley','border','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','none','classList','GhvLl','BdLMz','sent','fOjap','QMauu','FnBBH','putang\x20ina','profileScreen','KkwMc','yNFKx','4|3|5|2|1|0','porra',')\x20New\x20message\x20‚Ä¢\x20','all','preventDefault','sdKcG','myGhV','audioBase64','bdsXY','bobo','YqLGV','/messages/','ABCDEFGHIJKLMNOPQRSTUVWXYZ','mfLfj','9803759IdFJFl','userAgent','321620DlyQxu','BgKnQ','BywJt','online','\x0a\x20\x20\x20\x20','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','EyqSg','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','#888','#00ff88','RvLfa','YgLIj','llris','You\x20got\x20a\x20message\x20from\x20','padStart','wSdXY','click','FITOP','2-digit','Type\x20a\x20message...','replace','otario','DOMContentLoaded','visibilitychange','You\x20got\x20messages\x20from\x20','woaPi','notifToggleBtn','data:image/png;base64,','push','HzcBI','itkCC','050BBB66HH','received','staticPasswordInput','reload','QNscB','KTScT','lastOnline','YCDwG','messages','filter','msgInput','granted','profiles/','sender','AbmNM','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','Unknown','gago','description','xJpll','volume','15225kvhrFS','height','ztNug','text','[Unknown\x20Message]','chatScreen','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','ozcdJ','UtmWG','12245LzRhgV','profile_description','authScreen','content','uEccs','sidebarOpen','vphXm','authTitle','OpsZT','dick','admins/','VjbxT','xqkZY','innerText','passwordScreen','<audio\x20controls\x20src=\x22','578IaAJQv','SHA-256','yqotO','createElement','entries','Username\x20not\x20found.','eFyqd','authSubmitBtn','‚ùå\x20Username\x20already\x20taken.','RvWvW','üîî\x20Enable\x20Notifications','ebRKB','mierda','NuLEO','authPasswordConfirm','contains','mediaDevices','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','Sgkaa','fdYLq','reBxx','ADYhj','kEQUV','DtzAY','users/','error','hosbn','userDisplay','display','20748663tTjdnr','get','nfigw','</small>','yBDZh','pendejo','onstop','addEventListener','from','nBUut','xTyGC','RQvUb','aLuJK','usernameScreen','Session\x20expired.','show','Jntov','</div>','Admins\x20only.','co√±o','sLEVu','Missing\x20room\x20or\x20user\x20information.','permission','fdtVX','\x0aUsername\x20History:\x20','roomChoiceScreen','remove','8385690NYCSWL','tglTH','fUbfG','userSidebar','vFZmh','merda','wxuke','Enter\x20Announcement\x20Text:',';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27','xzVCw','cCBrU','0123456789','pDXMP','https://easy-chatroom-default-rtdb.firebaseio.com','back','oDWVZ','placeholder','<img\x20src=\x22data:image/png;base64,','profileDescriptionInput','HHSmT','JfvDP','xZvQe','cabron','audio/webm','fuck','ytYDt','cwDtJ','Enter\x20a\x20valid\x20room\x20code','oyplx','WSyFX','qraus','YmTrN','qOWSv','Username\x20already\x20exists.','oNTLH','MaVtq','admin','putangina','tQHow','block','exists','zDGfz','bwisit','GQlQi','shit','YeHSU','lPfUl','VhYoo','\x0a\x20\x20\x20\x20\x20\x20</li>','RIwLV','DCIoR','üéôÔ∏è','profileContent','detail','asshole','NSUgh','üîï\x20Disable\x20Notifications','1:985049198428:web:d0eb7e2de39887710c9b99','avatar_base64','ulol','tnUQX','result','UdUhP','MBexU','aWSxY','ondataavailable','IUwZA','created','caralho','NAMNp','lLwCv','ERGRq','getItem','nOSjm','<span\x20class=\x22sender-name\x22>','0|2|1|4|3','upQND','avatarBase64','deviceId','includes','Error\x20checking\x20username:','rooms','FyrKk','toLocaleTimeString','auth/','gilipollas','/messages','<span\x20style=\x22margin-right:5px;\x22>üë§</span>','1928712cCsXay','HZBYZ','bUhBO','VIiNW','KzTHh','ctaeI','hdGAH','QhwJC','src','uVXCK','muted/','GxAWJ','uECZG','‚óè\x20Online','OWCGK','WWHtz','update','recordBtn','jdJIA','innerHTML','pTNTw','authUsername','\x0aName:\x20','\x20typing...','Profile\x20not\x20found.','bulNw','auth','style','LzBfc','random','mNuQV','JYcOL','setItem','mCqjI','DUSdX','data','XgYzw','scrollTop','values','‚úÖ\x20Profile\x20picture\x20updated!','equalTo','floor','cunt','hzahv','eWUSa','DNZaG','EMfwW','readAsDataURL','TfUxy','onDisconnect','easy-chatroom','val','length','active','YBbKM','tyhJq','Please\x20fill\x20all\x20fields.','onloadend','now','iTDac','SOvzg','evdCA','antispam/','Login','requestPermission','BUvMc','/typing/','easy-chatroom.firebaseapp.com','authError','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','bitch','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>','sendBtn','ETPsP','msg','Ozmfm','tvbas','username','title','ServerValue','rgoRb','<small>','Remove\x20Announcement?','wniGb','roomDisplay','popstate','vVzYL','pushState','No\x20bio\x20set','ppWoU','join','child_added','VPfkl','KmNtj','trim','owUlI','authDescription','<li\x20style=\x22color:','catch','some','EQleB','rooms/','<span\x20style=\x22margin-right:8px;\x22>üë§</span>','aGlLN','LPDgd','bgMDY','key','xCyKa','sjqBh','7|4|3|1|2|6|5|0','toUpperCase','zxLrv','wsgCH','<div>','flagPageAttention','jRPdS','clear','concat','limitToLast','kVtgZ','UPjLc','dlmhA','FsIdj','KVLxu','YjrVG','subtle','Enter\x20new\x20password:','New\x20Chat\x20Message','unknown','files','xSInZ','gitMq','hPSyS','AxgIv','SXrVZ','getUserMedia','forEach','value','codeEntryScreen','jlEjO','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','chat_username','vYUPa','AWFrU','FXJmi','IxFWO','then','jgyEz','YZTTR','set','INUJJ','div','nEfEQ','xuXsw','map','MvOch','YAspb','NmRQK','\x0aLast\x20Changed:\x20','[Voice\x20message]','oscCQ','YABNq','PVxqW','XzSNd','NJpDX','audioUrl','JAVhi','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','database','toLowerCase','rRktw','VoJzi','\x20in\x20room\x20','atgTE','LLsut','fkUvG','ElLOy','Enter\x20new\x20bio:','nzXtc','authPassword','substr','Microphone\x20permission\x20denied.','hlLSV'];_0x3093=function(){return _0x407bc1;};return _0x3093();}let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x420763=_0x351c77,_0x47bed1={'ebRKB':function(_0x4c2435,_0x38ba7d){return _0x4c2435+_0x38ba7d;},'AWFrU':function(_0x18acc0,_0x489304){return _0x18acc0(_0x489304);},'hPSyS':function(_0x5f1ace,_0x245ee8){return _0x5f1ace+_0x245ee8;}},_0x150b3b=_0x47bed1[_0x420763(0x23c)](navigator[_0x420763(0x1e3)],screen['width'])+screen[_0x420763(0x219)],_0x1b407a=await _0x47bed1[_0x420763(0x172)](sha256,_0x150b3b);return _0x47bed1[_0x420763(0x167)]('_',_0x1b407a['substr'](0x0,0x14));}function sha256(_0x39cdf1){const _0x3b9949=_0x351c77,_0x3e6643=new TextEncoder()['encode'](_0x39cdf1);return crypto[_0x3b9949(0x160)]['digest'](_0x3b9949(0x232),_0x3e6643)['then'](_0x1d9948=>{const _0x2e9d92=_0x3b9949;return Array[_0x2e9d92(0x256)](new Uint8Array(_0x1d9948))['map'](_0x221087=>_0x221087[_0x2e9d92(0x1aa)](0x10)[_0x2e9d92(0x1f2)](0x2,'0'))[_0x2e9d92(0x13d)]('');});}function toggleNotifications(){const _0x2c960f=_0x351c77,_0x179a35={'cZSuz':function(_0x25067e,_0xc1487f){return _0x25067e===_0xc1487f;},'ztNug':_0x2c960f(0x20e),'JAVhi':_0x2c960f(0x1fe),'wSdXY':_0x2c960f(0x2a1),'nEfEQ':function(_0x3c1af2,_0x57472b){return _0x3c1af2!==_0x57472b;},'hdGAH':_0x2c960f(0x23b)};_0x179a35[_0x2c960f(0x17b)](Notification['permission'],_0x179a35[_0x2c960f(0x21a)])?Notification[_0x2c960f(0x301)]()['then'](_0x559d2f=>{const _0x46d0e7=_0x2c960f;_0x179a35['cZSuz'](_0x559d2f,_0x179a35[_0x46d0e7(0x21a)])&&(notificationsEnabled=!![],document[_0x46d0e7(0x1a6)](_0x179a35[_0x46d0e7(0x189)])[_0x46d0e7(0x22e)]=_0x179a35[_0x46d0e7(0x1f3)]);}):(notificationsEnabled=!notificationsEnabled,document[_0x2c960f(0x1a6)](_0x179a35['JAVhi'])['innerText']=notificationsEnabled?_0x179a35[_0x2c960f(0x1f3)]:_0x179a35[_0x2c960f(0x2c7)]);}function toggleAuthMode(){const _0x5e9e07=_0x351c77,_0x56d1d6={'CYkSl':_0x5e9e07(0x150),'jgyEz':'none','TFtyY':_0x5e9e07(0x143),'BlgTF':'authAvatar','uECZG':_0x5e9e07(0x290),'bdsXY':_0x5e9e07(0x23f),'xZvQe':_0x5e9e07(0x228),'RWjKR':_0x5e9e07(0x238),'rrREJ':'Register','DNZaG':_0x5e9e07(0x300),'TfUxy':_0x5e9e07(0x1bc)},_0x42df4a=_0x56d1d6['CYkSl'][_0x5e9e07(0x1ad)]('|');let _0x282ef8=0x0;while(!![]){switch(_0x42df4a[_0x282ef8++]){case'0':document[_0x5e9e07(0x1a6)](_0x5e9e07(0x305))[_0x5e9e07(0x2dc)][_0x5e9e07(0x24d)]=_0x56d1d6['jgyEz'];continue;case'1':document[_0x5e9e07(0x1a6)](_0x56d1d6['TFtyY'])['style']['display']=isRegisterMode?_0x5e9e07(0x290):_0x56d1d6[_0x5e9e07(0x176)];continue;case'2':document[_0x5e9e07(0x1a6)](_0x56d1d6['BlgTF'])[_0x5e9e07(0x2dc)][_0x5e9e07(0x24d)]=isRegisterMode?_0x56d1d6['uECZG']:_0x56d1d6['jgyEz'];continue;case'3':document[_0x5e9e07(0x1a6)](_0x56d1d6[_0x5e9e07(0x1dc)])['style'][_0x5e9e07(0x24d)]=isRegisterMode?_0x56d1d6[_0x5e9e07(0x2cd)]:_0x56d1d6['jgyEz'];continue;case'4':document[_0x5e9e07(0x1a6)](_0x56d1d6[_0x5e9e07(0x27e)])['innerText']=isRegisterMode?_0x5e9e07(0x1b3):'Login';continue;case'5':document['getElementById'](_0x56d1d6['RWjKR'])[_0x5e9e07(0x22e)]=isRegisterMode?_0x56d1d6['rrREJ']:_0x56d1d6[_0x5e9e07(0x2ee)];continue;case'6':document['getElementById'](_0x56d1d6[_0x5e9e07(0x2f1)])[_0x5e9e07(0x2dc)][_0x5e9e07(0x24d)]='none';continue;case'7':isRegisterMode=!isRegisterMode;continue;}break;}}function previewAvatar(){const _0x5b07f6=_0x351c77,_0x148dc1={'YZTTR':_0x5b07f6(0x1bc),'oscCQ':_0x5b07f6(0x290),'reBxx':_0x5b07f6(0x1ab)},_0x46e805=document['getElementById'](_0x148dc1[_0x5b07f6(0x245)]);if(!_0x46e805[_0x5b07f6(0x164)][_0x5b07f6(0x2f5)])return;const _0x30ef64=new FileReader();_0x30ef64[_0x5b07f6(0x2fa)]=()=>{const _0x47bdcf=_0x5b07f6;document[_0x47bdcf(0x1a6)](_0x47bdcf(0x1bc))[_0x47bdcf(0x2c9)]=_0x30ef64[_0x47bdcf(0x2a6)],document['getElementById'](_0x148dc1[_0x47bdcf(0x177)])[_0x47bdcf(0x2dc)][_0x47bdcf(0x24d)]=_0x148dc1[_0x47bdcf(0x183)];},_0x30ef64[_0x5b07f6(0x2f0)](_0x46e805[_0x5b07f6(0x164)][0x0]);}async function submitAuth(){const _0xcede1e=_0x351c77,_0x35e999={'woaPi':function(_0x56e3b8){return _0x56e3b8();},'JYcOL':_0xcede1e(0x290),'sjqBh':_0xcede1e(0x28a),'AbmNM':_0xcede1e(0x1c2),'UPjLc':_0xcede1e(0x236),'bgMDY':'Incorrect\x20password.','NmRQK':_0xcede1e(0x196),'pDXMP':_0xcede1e(0x23f),'qOWSv':_0xcede1e(0x305),'ADYhj':_0xcede1e(0x1ab),'zxLrv':function(_0x598521,_0x389ab4){return _0x598521||_0x389ab4;},'AvgFA':function(_0x3fcdb1,_0x28cfe9){return _0x3fcdb1&&_0x28cfe9;},'tnUQX':_0xcede1e(0x2f9),'JEGAp':function(_0x26dcf2,_0x4a6cf7){return _0x26dcf2(_0x4a6cf7);}};!deviceId&&(deviceId=await generateDeviceId());const _0x7de199=document[_0xcede1e(0x1a6)](_0xcede1e(0x2d6))[_0xcede1e(0x16c)][_0xcede1e(0x141)](),_0x52a910=document[_0xcede1e(0x1a6)](_0x35e999[_0xcede1e(0x180)])[_0xcede1e(0x16c)],_0x58920e=document[_0xcede1e(0x1a6)](_0x35e999[_0xcede1e(0x275)])[_0xcede1e(0x16c)],_0x7e0fed=document[_0xcede1e(0x1a6)](_0x35e999[_0xcede1e(0x289)]),_0x112869=document[_0xcede1e(0x1a6)](_0xcede1e(0x143))['value'][_0xcede1e(0x141)](),_0x1a5c47=document['getElementById'](_0x35e999[_0xcede1e(0x246)]);if(_0x35e999[_0xcede1e(0x152)](!_0x7de199,!_0x52a910)||_0x35e999['AvgFA'](isRegisterMode,!_0x58920e)){_0x7e0fed['innerText']=_0x35e999[_0xcede1e(0x2a5)],_0x7e0fed[_0xcede1e(0x2dc)]['display']=_0x35e999[_0xcede1e(0x2e0)];return;}const _0xb093e0=await sha256(_0x52a910),_0x48620b=db['ref'](_0xcede1e(0x2bd)+_0x35e999['JEGAp'](sanitizeUsername,_0x7de199));_0x48620b[_0xcede1e(0x24f)]()[_0xcede1e(0x175)](_0x166256=>{const _0x183fd1=_0xcede1e,_0x4c663a={'rRktw':function(_0x3253bb){const _0x2b5857=_0x4e40;return _0x35e999[_0x2b5857(0x1fd)](_0x3253bb);},'llris':'Only\x20one\x20account\x20per\x20device\x20allowed.','YBbKM':_0x35e999['JYcOL'],'pTNTw':function(_0x3af7a7,_0x1ddc7a,_0x3ba175,_0x21df16,_0x365a5a,_0xc9d29e){return _0x3af7a7(_0x1ddc7a,_0x3ba175,_0x21df16,_0x365a5a,_0xc9d29e);}};if(isRegisterMode){if(_0x166256[_0x183fd1(0x291)]()){_0x7e0fed['innerText']=_0x35e999[_0x183fd1(0x14f)],_0x7e0fed[_0x183fd1(0x2dc)]['display']=_0x35e999[_0x183fd1(0x2e0)];return;}if(_0x52a910!==_0x58920e){_0x7e0fed[_0x183fd1(0x22e)]=_0x35e999[_0x183fd1(0x211)],_0x7e0fed[_0x183fd1(0x2dc)][_0x183fd1(0x24d)]=_0x35e999[_0x183fd1(0x2e0)];return;}db[_0x183fd1(0x1ae)](_0x183fd1(0x2db))['orderByChild'](_0x183fd1(0x2b7))[_0x183fd1(0x2e9)](deviceId)[_0x183fd1(0x24f)]()[_0x183fd1(0x175)](_0x53e8d1=>{const _0x1d97fb=_0x183fd1;_0x53e8d1[_0x1d97fb(0x291)]()?(_0x7e0fed[_0x1d97fb(0x22e)]=_0x4c663a[_0x1d97fb(0x1f0)],_0x7e0fed[_0x1d97fb(0x2dc)][_0x1d97fb(0x24d)]=_0x4c663a[_0x1d97fb(0x2f7)]):_0x48620b[_0x1d97fb(0x178)]({'passwordHash':_0xb093e0,'deviceId':deviceId})[_0x1d97fb(0x175)](()=>{const _0x3d807b=_0x1d97fb;username=_0x7de199,_0x4c663a[_0x3d807b(0x18d)](startAfterAuth);});});}else{if(!_0x166256[_0x183fd1(0x291)]()){_0x7e0fed['innerText']=_0x35e999[_0x183fd1(0x15b)],_0x7e0fed[_0x183fd1(0x2dc)][_0x183fd1(0x24d)]=_0x35e999[_0x183fd1(0x2e0)];return;}if(_0x166256[_0x183fd1(0x2f4)]()['passwordHash']!==_0xb093e0){_0x7e0fed[_0x183fd1(0x22e)]=_0x35e999[_0x183fd1(0x14c)],_0x7e0fed[_0x183fd1(0x2dc)][_0x183fd1(0x24d)]=_0x183fd1(0x290);return;}let _0x292a66='';if(_0x1a5c47[_0x183fd1(0x164)][_0x183fd1(0x2f5)]){const _0x465b9b=new FileReader();_0x465b9b[_0x183fd1(0x2fa)]=()=>{const _0x465502=_0x183fd1;_0x292a66=_0x465b9b['result']['split'](',')[0x1],_0x4c663a[_0x465502(0x2d5)](saveNewUser,_0x7de199,_0xb093e0,deviceId,_0x292a66,_0x112869);},_0x465b9b[_0x183fd1(0x2f0)](_0x1a5c47['files'][0x0]);}else saveNewUser(_0x7de199,_0xb093e0,deviceId,_0x292a66,_0x112869);username=_0x7de199,_0x35e999[_0x183fd1(0x1fd)](startAfterAuth);}});}function saveNewUser(_0x2c564e,_0x1cb10e,_0x567b1e,_0x10c9ca,_0x29a78d){const _0x213868=_0x351c77,_0x2a9f28={'EyqSg':function(_0x2e7bc6){return _0x2e7bc6();},'nRSpH':function(_0x4a1af3,_0x3057f6){return _0x4a1af3(_0x3057f6);}},_0x1bd67d=db['ref'](_0x213868(0x2bd)+_0x2a9f28['nRSpH'](sanitizeUsername,_0x2c564e));_0x1bd67d[_0x213868(0x178)]({'passwordHash':_0x1cb10e,'deviceId':_0x567b1e,'avatarBase64':_0x10c9ca,'description':_0x29a78d,'username':_0x2c564e,'lastChanged':Date[_0x213868(0x2fb)]()})[_0x213868(0x175)](()=>{const _0x36390e=_0x213868;username=_0x2c564e,_0x2a9f28[_0x36390e(0x1ea)](startAfterAuth);});}function startAfterAuth(){const _0x282ac0=_0x351c77,_0x16cbaf={'sXJdu':function(_0x5da469,_0x3c2b06){return _0x5da469(_0x3c2b06);},'WaHOi':_0x282ac0(0x267),'wxuke':function(_0x44dc7d,_0x56dfc2){return _0x44dc7d(_0x56dfc2);}},_0x554ba2=_0x16cbaf[_0x282ac0(0x26f)](sanitizeUsername,username);db[_0x282ac0(0x1ae)](_0x282ac0(0x2bd)+_0x554ba2)[_0x282ac0(0x24f)]()[_0x282ac0(0x175)](_0x3e979e=>{const _0x3a4691=_0x282ac0;if(_0x3e979e[_0x3a4691(0x291)]()){const _0x29c94d=_0x3e979e['val']();avatarBase64=_0x29c94d['avatarBase64']||'',userDescription=_0x29c94d[_0x3a4691(0x215)]||'';}document[_0x3a4691(0x1a6)](_0x3a4691(0x19c))[_0x3a4691(0x22e)]=username,_0x16cbaf['sXJdu'](showScreen,_0x16cbaf['WaHOi']);});}function checkIfAdmin(){const _0x3a3004=_0x351c77,_0x2a7d4b={'nBUut':function(_0x1c463d,_0x228efa){return _0x1c463d(_0x228efa);},'MaVtq':_0x3a3004(0x16c)},_0x3250c0=db[_0x3a3004(0x1ae)](_0x3a3004(0x22b)+roomCode+'/'+_0x2a7d4b[_0x3a3004(0x257)](sanitizeUsername,username));return _0x3250c0['once'](_0x2a7d4b[_0x3a3004(0x28c)])['then'](_0x2eb5d8=>{const _0xbfc455=_0x3a3004;isRoomAdmin=_0x2eb5d8[_0xbfc455(0x291)]();});}function toggleRecording(){const _0xe738da=_0x351c77,_0x2e74fd={'Ozmfm':function(_0x1bcd65,_0x1d838e){return _0x1bcd65(_0x1d838e);},'tQKBh':_0xe738da(0x280),'JzmOW':function(_0x13255d,_0x134bb7){return _0x13255d&&_0x134bb7;},'bTPDI':function(_0x298cc5){return _0x298cc5();},'rtZRU':_0xe738da(0x2d2),'vJsyj':function(_0x3c1ff2,_0x880264,_0x50159a){return _0x3c1ff2(_0x880264,_0x50159a);}};isRecording?stopRecording():navigator[_0xe738da(0x241)][_0xe738da(0x16a)]({'audio':!![]})[_0xe738da(0x175)](_0x876cc1=>{const _0x18d6c4=_0xe738da;mediaRecorder=new MediaRecorder(_0x876cc1),mediaRecorder[_0x18d6c4(0x1b7)](),isRecording=!![],document[_0x18d6c4(0x1a6)](_0x2e74fd['rtZRU'])[_0x18d6c4(0x22e)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x18d6c4(0x2aa)]=_0x1e3583=>audioChunks[_0x18d6c4(0x200)](_0x1e3583[_0x18d6c4(0x2e4)]),mediaRecorder[_0x18d6c4(0x254)]=()=>{const _0x323466=_0x18d6c4,_0x5a9068={'yBDZh':_0x323466(0x182)};_0x2e74fd[_0x323466(0x30c)](clearTimeout,recordingTimer);const _0x50bc40=new Blob(audioChunks,{'type':_0x2e74fd['tQKBh']}),_0x2890e9=new FileReader();_0x2890e9[_0x323466(0x2fa)]=()=>{const _0x653bad=_0x323466,_0xdb7d46=_0x2890e9[_0x653bad(0x2a6)]['split'](',')[0x1],_0x18884e=db[_0x653bad(0x1ae)]()[_0x653bad(0x200)]()[_0x653bad(0x14d)];db[_0x653bad(0x1ae)](_0x653bad(0x148)+roomCode+_0x653bad(0x1df)+_0x18884e)[_0x653bad(0x178)]({'msg':_0x5a9068[_0x653bad(0x252)],'audioBase64':_0xdb7d46,'sender':username,'senderId':clientId,'timestamp':Date[_0x653bad(0x2fb)]()});},_0x2890e9[_0x323466(0x2f0)](_0x50bc40);},recordingTimer=_0x2e74fd['vJsyj'](setTimeout,()=>{_0x2e74fd['JzmOW'](mediaRecorder,isRecording)&&_0x2e74fd['bTPDI'](stopRecording);},0x4e20);})[_0xe738da(0x145)](_0x3e2040=>{const _0x28c0e5=_0xe738da;alert(_0x28c0e5(0x198));});}function stopRecording(){const _0xaff673=_0x351c77,_0xd63b3a={'itkCC':function(_0x3eb654,_0x4a2919){return _0x3eb654&&_0x4a2919;}};_0xd63b3a[_0xaff673(0x202)](mediaRecorder,isRecording)&&(mediaRecorder['stop'](),isRecording=![],document[_0xaff673(0x1a6)]('recordBtn')[_0xaff673(0x22e)]=_0xaff673(0x29c));}window['onload']=async()=>{const _0xee42df=_0x351c77,_0x26deb4={'FsIdj':function(_0x233656){return _0x233656();},'vFZmh':function(_0x581203,_0x36d9bf){return _0x581203(_0x36d9bf);}};cleanupOldRooms(),setupSidebarBackHandler(),_0x26deb4[_0xee42df(0x15d)](setupVisibilityAttention),_0x26deb4[_0xee42df(0x15d)](resetWebsiteData),_0x26deb4[_0xee42df(0x26d)](showScreen,_0xee42df(0x223));};function sanitizeUsername(_0x574c91){return _0x574c91['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5dd968=_0x351c77,_0x22bba6={'KkwMc':'‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','RQvUb':'block','tyhJq':_0x5dd968(0x170),'rNPcZ':_0x5dd968(0x222),'YABNq':_0x5dd968(0x19c),'WkDSP':function(_0x1cc8e6,_0x530e12){return _0x1cc8e6(_0x530e12);},'IUwZA':_0x5dd968(0x267),'YjrVG':_0x5dd968(0x239),'WWHtz':_0x5dd968(0x212),'FHBQI':_0x5dd968(0x27b),'rgoRb':function(_0x1e067e,_0x4ee0fc){return _0x1e067e||_0x4ee0fc;},'EQleB':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','MUoTa':_0x5dd968(0x16c)},_0x2e8687=document['getElementById'](_0x5dd968(0x1b2))[_0x5dd968(0x16c)]['trim'](),_0x246ef5=document['getElementById'](_0x22bba6['FHBQI'])[_0x5dd968(0x16c)][_0x5dd968(0x141)](),_0x401943=document[_0x5dd968(0x1a6)]('profileError');if(_0x22bba6[_0x5dd968(0x133)](!_0x2e8687,!_0x246ef5)){_0x401943['innerText']=_0x22bba6[_0x5dd968(0x147)],_0x401943[_0x5dd968(0x2dc)][_0x5dd968(0x24d)]=_0x5dd968(0x290);return;}const _0x47b509=sanitizeUsername(_0x2e8687),_0x162998=db[_0x5dd968(0x1ae)](_0x5dd968(0x20f)+_0x47b509);_0x162998[_0x5dd968(0x1bf)](_0x22bba6['MUoTa'])[_0x5dd968(0x175)](_0x232697=>{const _0x3a5cc0=_0x5dd968;if(_0x232697[_0x3a5cc0(0x291)]())_0x401943['innerText']=_0x22bba6[_0x3a5cc0(0x15f)],_0x401943[_0x3a5cc0(0x2dc)]['display']=_0x22bba6[_0x3a5cc0(0x259)];else{const _0x21a07e={'username':_0x2e8687,'description':_0x246ef5,'lastChanged':Date[_0x3a5cc0(0x2fb)](),'usernameHistory':[_0x2e8687]};_0x162998['set'](_0x21a07e,_0x31387d=>{const _0x4add0c=_0x3a5cc0;_0x31387d?(console[_0x4add0c(0x24a)](_0x4add0c(0x1b5),_0x31387d),_0x401943[_0x4add0c(0x22e)]=_0x22bba6[_0x4add0c(0x1d2)],_0x401943['style']['display']=_0x22bba6[_0x4add0c(0x259)]):(localStorage[_0x4add0c(0x2e1)](_0x22bba6[_0x4add0c(0x2f8)],_0x2e8687),localStorage[_0x4add0c(0x2e1)](_0x22bba6['rNPcZ'],_0x246ef5),username=_0x2e8687,document[_0x4add0c(0x1a6)](_0x22bba6[_0x4add0c(0x184)])[_0x4add0c(0x22e)]=_0x2e8687,_0x22bba6[_0x4add0c(0x1c3)](showScreen,_0x22bba6[_0x4add0c(0x2ab)]));});}})[_0x5dd968(0x145)](_0x50ebd4=>{const _0x16a6b2=_0x5dd968;console[_0x16a6b2(0x24a)](_0x16a6b2(0x2b9),_0x50ebd4),_0x401943[_0x16a6b2(0x22e)]=_0x22bba6[_0x16a6b2(0x2d0)],_0x401943[_0x16a6b2(0x2dc)][_0x16a6b2(0x24d)]=_0x16a6b2(0x290);});}function saveProfile(_0x5e3182,_0x364ad5,_0x15716b){const _0x56610a=_0x351c77,_0x5916f2={'TAAxa':function(_0x33e1c1,_0x557ec7){return _0x33e1c1(_0x557ec7);},'Mlrmt':_0x56610a(0x267)},_0xe1994a=Date[_0x56610a(0x2fb)](),_0x387825=[_0x5e3182];db['ref'](_0x56610a(0x20f)+_0x15716b)['set']({'username':_0x5e3182,'description':_0x364ad5,'lastChanged':_0xe1994a,'usernameHistory':_0x387825}),document['getElementById'](_0x56610a(0x19c))[_0x56610a(0x22e)]=_0x5e3182,_0x5916f2['TAAxa'](showScreen,_0x5916f2['Mlrmt']);}function generateRoom(){const _0x1cfccc=_0x351c77,_0x1c58d5={'DCIoR':function(_0x1269a2,_0x114bb9){return _0x1269a2+_0x114bb9;},'emTWA':function(_0x5b2f89){return _0x5b2f89();}};roomCode=genRoomCode(),db[_0x1cfccc(0x1ae)](_0x1c58d5[_0x1cfccc(0x29b)]('rooms/',roomCode))['set']({'active':!![],'created':Date[_0x1cfccc(0x2fb)]()}),_0x1c58d5['emTWA'](startChat);}function joinRoom(){const _0x4fe7c3=_0x351c77,_0x4c7bfe={'ElLOy':function(_0x346ef7,_0x3354db){return _0x346ef7!==_0x3354db;},'cwDtJ':function(_0x4e841e){return _0x4e841e();},'JrDOs':'roomCodeInput','VcGRS':_0x4fe7c3(0x284),'Jntov':function(_0x5d2854,_0x33bc73){return _0x5d2854===_0x33bc73;},'ctaeI':function(_0x24524d,_0x26806b){return _0x24524d(_0x26806b);},'CGoYy':function(_0x1590d2,_0xac02e3){return _0x1590d2+_0xac02e3;},'txuwr':_0x4fe7c3(0x148)},_0x45a4fb=roomCode||document[_0x4fe7c3(0x1a6)](_0x4c7bfe[_0x4fe7c3(0x1a3)])[_0x4fe7c3(0x16c)][_0x4fe7c3(0x141)]()[_0x4fe7c3(0x151)]();if(!_0x45a4fb)return alert(_0x4c7bfe['VcGRS']);roomCode=_0x45a4fb;if(_0x4c7bfe[_0x4fe7c3(0x25e)](roomCode,STATIC_ROOM)){_0x4c7bfe[_0x4fe7c3(0x2c6)](showScreen,_0x4fe7c3(0x22f));return;}db[_0x4fe7c3(0x1ae)](_0x4c7bfe[_0x4fe7c3(0x1a0)](_0x4c7bfe['txuwr'],roomCode))['get']()[_0x4fe7c3(0x175)](_0x4b11e7=>{const _0x1eef76=_0x4fe7c3;_0x4b11e7['exists']()&&_0x4c7bfe[_0x1eef76(0x193)](_0x4b11e7[_0x1eef76(0x2f4)]()[_0x1eef76(0x2f6)],![])?_0x4c7bfe[_0x1eef76(0x283)](startChat):alert('Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}function startChat(){const _0x378da6=_0x351c77,_0x8010cc={'NuLEO':function(_0x492bb1){return _0x492bb1();},'GhvLl':_0x378da6(0x24c),'atgTE':function(_0x961647,_0x4d224d){return _0x961647===_0x4d224d;},'lPwgr':_0x378da6(0x137),'KmNtj':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','INUJJ':function(_0x2ce95c,_0x28160d){return _0x2ce95c(_0x28160d);},'hosbn':_0x378da6(0x19d),'jdJIA':_0x378da6(0x267),'FnBBH':function(_0x9e9f50,_0x50dcaa){return _0x9e9f50(_0x50dcaa);},'qJMIT':function(_0x15ee71,_0x3bdfcc){return _0x15ee71||_0x3bdfcc;},'VhYoo':function(_0x38feb7,_0x206d87){return _0x38feb7(_0x206d87);},'oyplx':_0x378da6(0x263),'fOjap':function(_0x43b97e,_0x57702d){return _0x43b97e(_0x57702d);},'wsgCH':function(_0x57dbb4){return _0x57dbb4();}};if(_0x8010cc['qJMIT'](!roomCode,!username))return _0x8010cc[_0x378da6(0x298)](alert,_0x8010cc[_0x378da6(0x285)]),_0x8010cc[_0x378da6(0x1cd)](showScreen,_0x8010cc[_0x378da6(0x2d3)]);_0x8010cc[_0x378da6(0x153)](listenForAnnouncement),_0x8010cc[_0x378da6(0x153)](checkIfAdmin)['then'](()=>{const _0x8d6ce0=_0x378da6,_0x33e7e7={'MqIxh':'10|3|6|8|1|9|4|2|5|7|0','SOvzg':function(_0x22fc57){return _0x22fc57();},'XzSNd':'addAnnouncementBtn','ozcdJ':function(_0x284ae2){const _0x8281b1=_0x4e40;return _0x8010cc[_0x8281b1(0x23e)](_0x284ae2);},'mfLfj':_0x8010cc[_0x8d6ce0(0x1ca)],'hzahv':function(_0x22b939){const _0x3eb27d=_0x8d6ce0;return _0x8010cc[_0x3eb27d(0x23e)](_0x22b939);},'uEccs':function(_0x4fb913,_0x256c74){const _0x13e6e8=_0x8d6ce0;return _0x8010cc[_0x13e6e8(0x190)](_0x4fb913,_0x256c74);},'wRqOv':_0x8010cc['lPwgr'],'JtRhx':_0x8010cc[_0x8d6ce0(0x140)],'FITOP':_0x8d6ce0(0x21d),'mNuQV':function(_0x3add20,_0x398aa7){const _0x15be6c=_0x8d6ce0;return _0x8010cc[_0x15be6c(0x179)](_0x3add20,_0x398aa7);},'YgLIj':_0x8010cc[_0x8d6ce0(0x24b)],'yqotO':_0x8010cc['jdJIA']},_0x20ec99=_0x8010cc[_0x8d6ce0(0x1cf)](sanitizeUsername,username),_0x433b0f=db[_0x8d6ce0(0x1ae)](_0x8d6ce0(0x249)+roomCode+'/'+_0x20ec99),_0x563057={'username':username,'lastOnline':firebase[_0x8d6ce0(0x18b)]['ServerValue'][_0x8d6ce0(0x19a)],'online':!![]};db['ref'](_0x8d6ce0(0x22b)+roomCode+'/'+_0x20ec99)[_0x8d6ce0(0x1bf)](_0x8d6ce0(0x16c))['then'](_0x3e4164=>{const _0x507e4d=_0x8d6ce0;_0x3e4164[_0x507e4d(0x291)]()&&(_0x563057[_0x507e4d(0x28d)]=!![]),_0x433b0f['set'](_0x563057,_0x508547=>{const _0x1187a3=_0x507e4d,_0x277871=_0x33e7e7[_0x1187a3(0x1b1)][_0x1187a3(0x1ad)]('|');let _0x2ef893=0x0;while(!![]){switch(_0x277871[_0x2ef893++]){case'0':_0x33e7e7[_0x1187a3(0x2fd)](listenForUserList);continue;case'1':isRoomAdmin&&(document[_0x1187a3(0x1a6)](_0x33e7e7[_0x1187a3(0x186)])[_0x1187a3(0x2dc)][_0x1187a3(0x24d)]=_0x1187a3(0x290));continue;case'2':_0x33e7e7[_0x1187a3(0x21f)](listenForTyping);continue;case'3':_0x433b0f[_0x1187a3(0x2f2)]()['update']({'online':![],'lastOnline':Date[_0x1187a3(0x2fb)]()});continue;case'4':_0x33e7e7[_0x1187a3(0x2fd)](listenForMessages);continue;case'5':_0x33e7e7[_0x1187a3(0x21f)](startInactivityTimer);continue;case'6':document['getElementById'](_0x33e7e7[_0x1187a3(0x1e1)])[_0x1187a3(0x22e)]=username;continue;case'7':_0x33e7e7[_0x1187a3(0x2ec)](trackPresence);continue;case'8':_0x33e7e7[_0x1187a3(0x225)](roomCode,STATIC_ROOM)?document[_0x1187a3(0x1a6)](_0x33e7e7['wRqOv'])[_0x1187a3(0x22e)]=_0x33e7e7['JtRhx']:document['getElementById']('roomDisplay')[_0x1187a3(0x22e)]=roomCode;continue;case'9':showScreen(_0x33e7e7[_0x1187a3(0x1f5)]);continue;case'10':if(_0x508547)return _0x33e7e7[_0x1187a3(0x2df)](alert,_0x33e7e7[_0x1187a3(0x1ef)]),showScreen(_0x33e7e7[_0x1187a3(0x233)]);continue;}break;}});});});}function validateStaticRoomPassword(){const _0x2ecfc7=_0x351c77,_0x11a315={'dlmhA':function(_0x99dd65,_0x224dd9){return _0x99dd65===_0x224dd9;},'BLAAg':function(_0x4ce9b3){return _0x4ce9b3();},'QyTCw':'passwordError','xTyGC':'gr8stg'},_0x331782=document[_0x2ecfc7(0x1a6)](_0x2ecfc7(0x205))[_0x2ecfc7(0x16c)],_0x3802f5=document[_0x2ecfc7(0x1a6)](_0x11a315['QyTCw']);db[_0x2ecfc7(0x1ae)](_0x11a315[_0x2ecfc7(0x258)])['get']()[_0x2ecfc7(0x175)](_0x5cb635=>{const _0xe81f1a=_0x2ecfc7,_0x90f989=_0x5cb635[_0xe81f1a(0x2f4)]();_0x11a315[_0xe81f1a(0x15c)](_0x331782,_0x90f989)?(_0x3802f5[_0xe81f1a(0x2dc)][_0xe81f1a(0x24d)]='none',_0x11a315['BLAAg'](startChat)):_0x3802f5['style'][_0xe81f1a(0x24d)]='block';});}const spamTimestamps=[];function sendMessage(){const _0x4b8231=_0x351c77,_0x146960={'myGhV':_0x4b8231(0x1f7),'SXrVZ':'msgInput','YAspb':function(_0x1900bb,_0x16f484){return _0x1900bb>_0x16f484;},'UYoDw':_0x4b8231(0x1d4),'vphXm':function(_0xb4854a,_0x54e08f,_0x2800ca){return _0xb4854a(_0x54e08f,_0x2800ca);},'VjbxT':function(_0x4168d1,_0x405168){return _0x4168d1(_0x405168);},'XXeQw':'‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','yNFKx':_0x4b8231(0x21e)},_0x44de5b=document['getElementById'](_0x146960[_0x4b8231(0x169)]),_0x1fdf37=_0x44de5b[_0x4b8231(0x16c)][_0x4b8231(0x141)]();if(!_0x1fdf37||isBlocked)return;const _0x53fc0e=Date['now'](),_0x1ce992=_0x1fdf37[_0x4b8231(0x18c)](),_0x4b786d=swearWords[_0x4b8231(0x146)](_0x182a80=>_0x1ce992[_0x4b8231(0x2b8)](_0x182a80));if(_0x4b786d){alert(_0x4b8231(0x1c7));return;}spamTimestamps[_0x4b8231(0x200)](_0x53fc0e);const _0x5a9339=spamTimestamps[_0x4b8231(0x20c)](_0x345621=>_0x53fc0e-_0x345621<0x1b58);if(_0x146960[_0x4b8231(0x17f)](_0x5a9339[_0x4b8231(0x2f5)],0x5)){const _0x404b41=_0x146960['UYoDw'][_0x4b8231(0x1ad)]('|');let _0x76b4f6=0x0;while(!![]){switch(_0x404b41[_0x76b4f6++]){case'0':return;case'1':_0x146960[_0x4b8231(0x227)](setTimeout,()=>{const _0x11ee5f=_0x4b8231;isBlocked=![],_0x44de5b[_0x11ee5f(0x1be)]=![],_0x44de5b['placeholder']=_0x146960[_0x11ee5f(0x1da)],spamTimestamps[_0x11ee5f(0x2f5)]=0x0;},0x7530);continue;case'2':_0x146960[_0x4b8231(0x22c)](alert,_0x146960[_0x4b8231(0x1b4)]);continue;case'3':_0x44de5b[_0x4b8231(0x1be)]=!![];continue;case'4':isBlocked=!![];continue;case'5':_0x44de5b[_0x4b8231(0x279)]=_0x146960[_0x4b8231(0x1d3)];continue;}break;}}const _0x1e57c9=localStorage['getItem'](_0x4b8231(0x2a3))||'',_0x25fa0f=db[_0x4b8231(0x1ae)]()[_0x4b8231(0x200)]()[_0x4b8231(0x14d)];db[_0x4b8231(0x1ae)](_0x4b8231(0x148)+roomCode+'/messages/'+_0x25fa0f)[_0x4b8231(0x178)]({'msg':_0x1fdf37,'sender':username,'senderId':clientId,'avatarBase64':_0x1e57c9,'timestamp':_0x53fc0e}),_0x44de5b[_0x4b8231(0x16c)]='',_0x146960[_0x4b8231(0x22c)](sendTyping,!![]),lastActivity=_0x53fc0e;}function listenForMessages(){const _0xd436ba=_0x351c77,_0x619a64={'xzVCw':function(_0x42296b,_0x2e47c8,_0x57af75,_0x3c9c1e){return _0x42296b(_0x2e47c8,_0x57af75,_0x3c9c1e);},'lLwCv':function(_0x4e8ba3,_0x334ea6){return _0x4e8ba3!==_0x334ea6;},'jRPdS':function(_0x1b0641,_0x318d46){return _0x1b0641&&_0x318d46;},'nfigw':'[Voice\x20Message]','LzBfc':_0xd436ba(0x21c)},_0x424a84=db['ref'](_0xd436ba(0x148)+roomCode+_0xd436ba(0x2bf)),_0x1079d8=_0x424a84[_0xd436ba(0x159)](MAX_MESSAGES);userListReady=!![],_0x1079d8['on'](_0xd436ba(0x13e),_0x234bd0=>{const _0x319354=_0xd436ba,_0x522e29=_0x234bd0[_0x319354(0x2f4)](),{senderId:_0x4ab36b}=_0x522e29,_0x24f720=_0x4ab36b===clientId;if(!userListReady){pendingMessages[_0x319354(0x16b)](({data:_0x5c6fcf,sent:_0xaf6e9e,key:_0x2b281e})=>{addMessage(_0x5c6fcf,_0xaf6e9e,_0x2b281e);}),pendingMessages=[];return;}const _0x43a28c=_0x522e29[_0x319354(0x188)]||null,_0x9b5252=_0x522e29['audioBase64']||null;_0x619a64[_0x319354(0x272)](addMessage,_0x522e29,_0x24f720,_0x234bd0[_0x319354(0x14d)]),_0x619a64[_0x319354(0x2af)](roomCode,STATIC_ROOM)&&db['ref'](_0x319354(0x148)+roomCode+'/messages/'+_0x234bd0[_0x319354(0x14d)])[_0x319354(0x268)](),!_0x24f720&&(sound['play'](),flagPageAttention()),_0x619a64[_0x319354(0x156)](notificationsEnabled,!_0x24f720)&&stackNotification(_0x522e29['sender'],_0x522e29[_0x319354(0x30b)]||(_0x522e29[_0x319354(0x1db)]?_0x619a64[_0x319354(0x250)]:_0x619a64[_0x319354(0x2dd)]));});}function stackNotification(_0x371f84,_0x1a2aa2){const _0x495415=_0x351c77,_0x1f2617={'aUfLo':function(_0x32d285){return _0x32d285();},'bulNw':function(_0x2a4413,_0x5636c8){return _0x2a4413(_0x5636c8);},'QMauu':function(_0x49c1cf,_0x5b4e04,_0x3c9d00){return _0x49c1cf(_0x5b4e04,_0x3c9d00);}};notificationStack[_0x495415(0x200)]({'sender':_0x371f84,'content':_0x1a2aa2}),_0x1f2617[_0x495415(0x2da)](clearTimeout,notificationTimer),notificationTimer=_0x1f2617[_0x495415(0x1ce)](setTimeout,()=>{_0x1f2617['aUfLo'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x318f92=_0x351c77,_0x971876={'EaYdj':_0x318f92(0x162),'kEQUV':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','QhwJC':function(_0x5b49bb,_0x2eb147){return _0x5b49bb!==_0x2eb147;},'EUlJA':'granted','wJsAe':function(_0x59bbd0,_0x1c83e6){return _0x59bbd0||_0x1c83e6;},'szCPr':_0x318f92(0x163),'GxAWJ':function(_0x1c234d,_0x43ccbb){return _0x1c234d===_0x43ccbb;},'xuXsw':function(_0xed54ba,_0x2b4f71,_0x2d925c){return _0xed54ba(_0x2b4f71,_0x2d925c);}};if(!notificationStack[_0x318f92(0x2f5)]||_0x971876[_0x318f92(0x2c8)](Notification[_0x318f92(0x264)],_0x971876['EUlJA']))return;const _0x20fdb3=[...new Set(notificationStack[_0x318f92(0x17d)](_0x378eb7=>_0x378eb7[_0x318f92(0x210)]))],_0x2f8d39=_0x971876[_0x318f92(0x1b8)](roomCode,_0x971876['szCPr']),_0x5dd4f1=_0x971876[_0x318f92(0x2cc)](_0x20fdb3['length'],0x1)?_0x318f92(0x1f1)+_0x20fdb3[0x0]+_0x318f92(0x18f)+_0x2f8d39+':\x20'+notificationStack[0x0][_0x318f92(0x224)]:_0x318f92(0x1fc)+_0x20fdb3[_0x318f92(0x13d)](',\x20')+_0x318f92(0x18f)+_0x2f8d39;_0x971876[_0x318f92(0x17c)](setTimeout,()=>{const _0x2312e6=_0x318f92;new Notification(_0x971876['EaYdj'],{'body':_0x5dd4f1,'icon':_0x971876[_0x2312e6(0x247)]});},0x64);}function addMessage(_0xc5c34e,_0x5594cf,_0x325f6b=null){const _0x550ba5=_0x351c77,_0x53d712={'mCqjI':_0x550ba5(0x17a),'wniGb':_0x550ba5(0x30b),'BgKnQ':_0x550ba5(0x1cc),'yXGQm':_0x550ba5(0x204),'bIukI':'2-digit','FXJmi':function(_0x2fc27e,_0x3d4bd1){return _0x2fc27e(_0x3d4bd1);}},{msg:_0x2dd27c,sender:_0x217ab4,senderId:_0x459572,timestamp:_0x1e2bcb,audioUrl:_0x648767,audioBase64:_0x2cc7fd,imageBase64:_0x48bc58}=_0xc5c34e,_0x1f5c5a=document[_0x550ba5(0x234)](_0x53d712[_0x550ba5(0x2e2)]);_0x1f5c5a['classList'][_0x550ba5(0x1c4)](_0x53d712[_0x550ba5(0x136)],_0x5594cf?_0x53d712[_0x550ba5(0x1e5)]:_0x53d712['yXGQm']);const _0x34790f=new Date(_0x1e2bcb)[_0x550ba5(0x2bc)]([],{'hour':_0x550ba5(0x1f6),'minute':_0x53d712['bIukI']}),_0x23f6f8=_0x53d712[_0x550ba5(0x173)](sanitizeUsername,_0x217ab4),_0x35dd49=roomUsers[_0x23f6f8]||{},_0x1a3088=_0x35dd49[_0x550ba5(0x2b6)]?_0x550ba5(0x27a)+_0x35dd49[_0x550ba5(0x2b6)]+'\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>':_0x550ba5(0x149);let _0x1b475d=_0x1a3088+_0x550ba5(0x2b3)+_0x217ab4+_0x550ba5(0x1a8);_0x35dd49['admin']&&(_0x1b475d+='\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>');_0x1b475d+='<br>';const _0xe5511d=_0x2dd27c?.[_0x550ba5(0x1f8)](new RegExp('@'+username+'\x5cb','gi'),_0x550ba5(0x242));if(_0x648767)_0x1b475d+=_0x550ba5(0x230)+_0x648767+_0x550ba5(0x1bd);else{if(_0x2cc7fd){const _0x157182='data:audio/webm;base64,'+_0x2cc7fd;_0x1b475d+='<audio\x20controls\x20src=\x22'+_0x157182+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x48bc58){const _0xb5a73=_0x550ba5(0x1ff)+_0x48bc58;_0x1b475d+=_0x550ba5(0x1c1)+_0xb5a73+_0x550ba5(0x1e9);}else _0x1b475d+=_0x550ba5(0x154)+_0xe5511d+_0x550ba5(0x25f);}}_0x1b475d+=_0x550ba5(0x134)+_0x34790f+_0x550ba5(0x251),_0x1f5c5a[_0x550ba5(0x2d4)]=_0x1b475d;const _0xa672ce=document[_0x550ba5(0x1a6)](_0x550ba5(0x20b));_0xa672ce['appendChild'](_0x1f5c5a),_0xa672ce[_0x550ba5(0x2e6)]=_0xa672ce['scrollHeight'];}function cleanupOldRooms(){const _0x327526=_0x351c77,_0x38de6e={'vYUPa':function(_0x5d2e9a,_0x44b0cd){return _0x5d2e9a!==_0x44b0cd;},'ppWoU':function(_0x1c8c6b,_0x59eb80){return _0x1c8c6b===_0x59eb80;},'VbVuV':function(_0x22a5b1,_0x3f3188){return _0x22a5b1>_0x3f3188;},'eWUSa':function(_0x4265e3,_0x144a17){return _0x4265e3-_0x144a17;},'KVLxu':function(_0x18823c,_0x14a292){return _0x18823c*_0x14a292;},'aWSxY':function(_0x2a1c87,_0x345dd1){return _0x2a1c87*_0x345dd1;},'YqLGV':'value','MvOch':'antispamBlocked','RIwLV':_0x327526(0x2ba)};db['ref'](_0x38de6e[_0x327526(0x29a)])[_0x327526(0x1bf)](_0x38de6e[_0x327526(0x1de)])[_0x327526(0x175)](_0x1e447e=>{const _0x168317=_0x327526,_0x4208f7={'upQND':function(_0x3a21c8,_0x1222d6){const _0x47be09=_0x4e40;return _0x38de6e[_0x47be09(0x171)](_0x3a21c8,_0x1222d6);}},_0x5f004d=_0x1e447e['val']();if(!_0x5f004d)return;const _0x1d6b21=Date['now']();for(const _0x1ce13d in _0x5f004d){if(_0x38de6e[_0x168317(0x13c)](_0x1ce13d,STATIC_ROOM))continue;const _0x77197b=_0x5f004d[_0x1ce13d];_0x38de6e['VbVuV'](_0x38de6e[_0x168317(0x2ed)](_0x1d6b21,_0x77197b[_0x168317(0x2ac)]||0x0),_0x38de6e[_0x168317(0x15e)](_0x38de6e[_0x168317(0x2a9)](0x2,0x3c),0x3e8))&&db[_0x168317(0x1ae)](_0x168317(0x148)+_0x1ce13d)[_0x168317(0x268)]();}db['ref']('antispam')[_0x168317(0x1bf)](_0x38de6e[_0x168317(0x1de)])[_0x168317(0x175)](_0x1061e9=>{const _0x606d9a=_0x168317,_0x21c5f2=_0x1061e9[_0x606d9a(0x2f4)]();if(!_0x21c5f2)return;for(const _0x3676fb in _0x21c5f2){if(_0x3676fb!==STATIC_ROOM)db[_0x606d9a(0x1ae)](_0x606d9a(0x2ff)+_0x3676fb)[_0x606d9a(0x268)]();}}),db[_0x168317(0x1ae)](_0x38de6e[_0x168317(0x17e)])[_0x168317(0x1bf)](_0x38de6e[_0x168317(0x1de)])[_0x168317(0x175)](_0x4dedaa=>{const _0x2dbaa1=_0x168317,_0x5ef76f=_0x4dedaa[_0x2dbaa1(0x2f4)]();if(!_0x5ef76f)return;for(const _0x182b77 in _0x5ef76f){if(_0x4208f7[_0x2dbaa1(0x2b5)](_0x182b77,STATIC_ROOM))db[_0x2dbaa1(0x1ae)]('antispamBlocked/'+_0x182b77)[_0x2dbaa1(0x268)]();}});});}document[_0x351c77(0x255)](_0x351c77(0x1fa),()=>{const _0x2e25a2=_0x351c77,_0x1c72e1={'vVzYL':'Enter','UdUhP':function(_0x24df70){return _0x24df70();},'WzABo':_0x2e25a2(0x1ba)},_0x532ac5=document[_0x2e25a2(0x1a6)]('msgInput');_0x532ac5&&_0x532ac5[_0x2e25a2(0x255)](_0x1c72e1['WzABo'],function(_0x1aa348){const _0x1056f8=_0x2e25a2;_0x1aa348[_0x1056f8(0x14d)]===_0x1c72e1[_0x1056f8(0x139)]&&(_0x1aa348[_0x1056f8(0x1d8)](),_0x1c72e1[_0x1056f8(0x2a7)](sendMessage));});});function showScreen(_0x36469e){const _0x5f2271=_0x351c77,_0x5a8b17={'NAMNp':_0x5f2271(0x25b),'YmTrN':'roomChoiceScreen','VaPJE':_0x5f2271(0x21d),'NLSKF':_0x5f2271(0x22f),'tQHow':_0x5f2271(0x1d1),'DtzAY':_0x5f2271(0x19e)};[_0x5a8b17[_0x5f2271(0x2ae)],_0x5a8b17[_0x5f2271(0x288)],_0x5f2271(0x16d),_0x5a8b17['VaPJE'],_0x5a8b17['NLSKF'],_0x5a8b17[_0x5f2271(0x28f)],_0x5a8b17[_0x5f2271(0x248)],_0x5f2271(0x223)]['forEach'](_0x42c37d=>{const _0x22c06d=_0x5f2271;document[_0x22c06d(0x1a6)](_0x42c37d)[_0x22c06d(0x2dc)][_0x22c06d(0x24d)]=_0x22c06d(0x1c8);}),document[_0x5f2271(0x1a6)](_0x36469e)[_0x5f2271(0x2dc)][_0x5f2271(0x24d)]='flex';}function genRoomCode(){const _0x3cf257=_0x351c77,_0x26fa7c={'nzXtc':_0x3cf257(0x1e0),'OpsZT':_0x3cf257(0x274),'xJpll':function(_0xb7a7cb,_0x41d327){return _0xb7a7cb+_0x41d327;},'BywJt':function(_0x4aea82,_0x1a142d,_0x32e477){return _0x4aea82(_0x1a142d,_0x32e477);},'sLEVu':function(_0x1a7de6,_0x4abfa6,_0x378cd3){return _0x1a7de6(_0x4abfa6,_0x378cd3);}},_0x426d6c=_0x26fa7c[_0x3cf257(0x195)],_0x436a84=_0x26fa7c[_0x3cf257(0x229)],_0x380f35=(_0x550cd1,_0x3ff42c)=>Array[_0x3cf257(0x256)]({'length':_0x3ff42c},()=>_0x550cd1[Math[_0x3cf257(0x2ea)](Math[_0x3cf257(0x2de)]()*_0x550cd1[_0x3cf257(0x2f5)])])[_0x3cf257(0x13d)]('');return _0x26fa7c[_0x3cf257(0x216)](_0x380f35(_0x436a84,0x3)+_0x380f35(_0x426d6c,0x3),_0x26fa7c[_0x3cf257(0x1e6)](_0x380f35,_0x436a84,0x2))+_0x26fa7c[_0x3cf257(0x262)](_0x380f35,_0x426d6c,0x2);}function startInactivityTimer(){const _0x53af69=_0x351c77,_0x39325b={'BdLMz':function(_0x129d3b,_0x490022){return _0x129d3b>_0x490022;},'YXhIW':function(_0x4dc180,_0x49cec2){return _0x4dc180-_0x49cec2;},'ytYDt':function(_0x23f917,_0x53fb01){return _0x23f917*_0x53fb01;},'QKnDl':function(_0x547c4b,_0x4573d4){return _0x547c4b*_0x4573d4;},'EMfwW':function(_0x4623fd,_0x3b9b7b){return _0x4623fd!==_0x3b9b7b;},'NSUgh':function(_0x3a65a5,_0x592800){return _0x3a65a5+_0x592800;},'ERGRq':_0x53af69(0x148),'xCyKa':function(_0x529134,_0x6e0b49){return _0x529134(_0x6e0b49);},'PVxqW':_0x53af69(0x25c)};setInterval(()=>{const _0x3dffa8=_0x53af69;_0x39325b[_0x3dffa8(0x1cb)](_0x39325b['YXhIW'](Date['now'](),lastActivity),_0x39325b[_0x3dffa8(0x282)](_0x39325b['QKnDl'](0x5,0x3c),0x3e8))&&_0x39325b[_0x3dffa8(0x2ef)](roomCode,STATIC_ROOM)&&(db[_0x3dffa8(0x1ae)](_0x39325b[_0x3dffa8(0x2a0)](_0x39325b[_0x3dffa8(0x2b0)],roomCode))[_0x3dffa8(0x2d1)]({'active':![]}),_0x39325b[_0x3dffa8(0x14e)](alert,_0x39325b[_0x3dffa8(0x185)]),location[_0x3dffa8(0x206)]());},0x7530);}function _0x4e40(_0x24ac73,_0x2fdd2a){const _0x3093ad=_0x3093();return _0x4e40=function(_0x4e4099,_0x208a89){_0x4e4099=_0x4e4099-0x133;let _0x51e9ab=_0x3093ad[_0x4e4099];return _0x51e9ab;},_0x4e40(_0x24ac73,_0x2fdd2a);}function setupSidebarBackHandler(){const _0x9748fd=_0x351c77,_0x58f8d3={'MIvjc':_0x9748fd(0x26c),'HZBYZ':_0x9748fd(0x25d),'gvnMH':_0x9748fd(0x138)};window[_0x9748fd(0x255)](_0x58f8d3['gvnMH'],()=>{const _0x4636d2=_0x9748fd,_0x1e7d5a=document[_0x4636d2(0x1a6)](_0x58f8d3[_0x4636d2(0x1ac)]);_0x1e7d5a?.[_0x4636d2(0x1c9)][_0x4636d2(0x240)](_0x58f8d3[_0x4636d2(0x2c2)])&&_0x1e7d5a['classList'][_0x4636d2(0x268)](_0x58f8d3[_0x4636d2(0x2c2)]);});}function toggleSidebar(){const _0x57d102=_0x351c77,_0x4cd1d7={'RvLfa':_0x57d102(0x26c),'LLsut':_0x57d102(0x25d)},_0x1cc0c9=document[_0x57d102(0x1a6)](_0x4cd1d7[_0x57d102(0x1ee)]);if(!_0x1cc0c9[_0x57d102(0x1c9)]['contains'](_0x4cd1d7[_0x57d102(0x191)]))_0x1cc0c9['classList']['add'](_0x4cd1d7[_0x57d102(0x191)]),history[_0x57d102(0x13a)]({'sidebarOpen':!![]},'');else{_0x1cc0c9[_0x57d102(0x1c9)]['remove'](_0x4cd1d7[_0x57d102(0x191)]);if(history['state']?.[_0x57d102(0x226)])history[_0x57d102(0x277)]();}}function setupVisibilityAttention(){const _0x17ca01=_0x351c77,_0x114708={'evdCA':_0x17ca01(0x1fb)};let _0xa04b9e=0x0,_0x5cdf71=document['title'];document['addEventListener'](_0x114708[_0x17ca01(0x2fe)],()=>{const _0x1ed3ca=_0x17ca01;!document['hidden']&&(document[_0x1ed3ca(0x30f)]=_0x5cdf71,_0xa04b9e=0x0);}),window[_0x17ca01(0x155)]=function(){const _0x247ec9=_0x17ca01;document[_0x247ec9(0x1a2)]&&(_0xa04b9e++,document[_0x247ec9(0x30f)]='('+_0xa04b9e+_0x247ec9(0x1d6)+_0x5cdf71);};}function tryEditProfile(){const _0x8cf755=_0x351c77,_0x2306ef={'oNTLH':function(_0x7e2a3c,_0x52a50f){return _0x7e2a3c!==_0x52a50f;},'hlLSV':function(_0x17ae5b,_0x48e6eb){return _0x17ae5b(_0x48e6eb);},'sdKcG':function(_0x2393a7,_0x3723ba){return _0x2393a7*_0x3723ba;},'XTRGf':function(_0x2a69ec,_0x105bfe){return _0x2a69ec*_0x105bfe;},'VIiNW':function(_0x2a25e6,_0x3f4bb2){return _0x2a25e6>_0x3f4bb2;},'fdYLq':function(_0x4f4e93,_0x83b4bb){return _0x4f4e93-_0x83b4bb;},'Sgkaa':_0x8cf755(0x161),'QNscB':_0x8cf755(0x194),'qraus':function(_0x3a81f6,_0x5a775d){return _0x3a81f6===_0x5a775d;},'KzTHh':function(_0x25eb6c,_0x4bd9d8){return _0x25eb6c(_0x4bd9d8);}},_0x25e85f=_0x2306ef[_0x8cf755(0x2c5)](sanitizeUsername,username);db[_0x8cf755(0x1ae)]('auth/'+_0x25e85f)[_0x8cf755(0x24f)]()[_0x8cf755(0x175)](_0x56eceb=>{const _0x121eec=_0x8cf755,_0x362a29={'AHRzC':function(_0xf51c38,_0x29dc93){const _0x3996cb=_0x4e40;return _0x2306ef[_0x3996cb(0x28b)](_0xf51c38,_0x29dc93);},'JfvDP':function(_0x475dd4,_0x2a068a){const _0x1d20b1=_0x4e40;return _0x2306ef[_0x1d20b1(0x199)](_0x475dd4,_0x2a068a);},'NJpDX':'Profile\x20updated.\x20Please\x20reload\x20to\x20apply\x20changes.','IxFWO':function(_0x46b8cc,_0x33683e){const _0x261ca5=_0x4e40;return _0x2306ef[_0x261ca5(0x199)](_0x46b8cc,_0x33683e);}},_0xffa3a5=_0x56eceb[_0x121eec(0x2f4)]();if(!_0xffa3a5)return _0x2306ef[_0x121eec(0x199)](alert,_0x121eec(0x2d9));const _0x31a9a5=_0xffa3a5['lastChanged']||0x0,_0x5b36a8=Date['now'](),_0x37744a=_0x2306ef[_0x121eec(0x1d9)](_0x2306ef['XTRGf'](0x18,0x3c)*0x3c,0x3e8),_0x224cfe=_0x2306ef[_0x121eec(0x2c4)](_0x2306ef[_0x121eec(0x244)](_0x5b36a8,_0x31a9a5),_0x37744a);let _0x40b1e4=username;if(_0x224cfe){_0x40b1e4=prompt('Enter\x20new\x20username:',username);if(!_0x40b1e4)return;}else alert('You\x20can\x20change\x20your\x20username\x20again\x20after\x2024\x20hours.');const _0x5e3035=_0x2306ef['hlLSV'](prompt,_0x2306ef[_0x121eec(0x243)]);if(!_0x5e3035)return;const _0x4996e1=prompt(_0x2306ef[_0x121eec(0x207)],_0xffa3a5[_0x121eec(0x215)]||'');if(_0x2306ef[_0x121eec(0x287)](_0x4996e1,null))return;Promise[_0x121eec(0x1d7)]([_0x2306ef['hlLSV'](sha256,_0x5e3035)])[_0x121eec(0x175)](([_0x3ef676])=>{const _0x506364=_0x121eec,_0x50f1fd={'username':_0x40b1e4,'passwordHash':_0x3ef676,'description':_0x4996e1,'lastChanged':Date[_0x506364(0x2fb)](),'deviceId':_0xffa3a5[_0x506364(0x2b7)],'avatarBase64':_0xffa3a5['avatarBase64']||'','usernameHistory':(_0xffa3a5['usernameHistory']||[])[_0x506364(0x158)](_0x40b1e4)};db['ref'](_0x506364(0x2bd)+_0x362a29[_0x506364(0x174)](sanitizeUsername,_0x40b1e4))[_0x506364(0x178)](_0x50f1fd)['then'](()=>{const _0x5a9bfc=_0x506364;_0x362a29[_0x5a9bfc(0x1b9)](_0x40b1e4,username)&&db[_0x5a9bfc(0x1ae)](_0x5a9bfc(0x2bd)+_0x25e85f)[_0x5a9bfc(0x268)](),_0x362a29[_0x5a9bfc(0x27d)](alert,_0x362a29[_0x5a9bfc(0x187)]),location[_0x5a9bfc(0x206)]();});});});}function listenForUserList(){const _0x298ec3=_0x351c77,_0x140c5b={'fSloT':function(_0x54b98f,_0x1ce2b5){return _0x54b98f<=_0x1ce2b5;},'GQlQi':function(_0x219951,_0x36ced7){return _0x219951*_0x36ced7;},'XgYzw':function(_0x31cf92,_0x4a6f14){return _0x31cf92*_0x4a6f14;},'eDkmf':_0x298ec3(0x1ec),'xqkZY':function(_0x56d436,_0xf25220){return _0x56d436(_0xf25220);},'aLuJK':function(_0x3334be,_0x44553a,_0x32e242,_0x2468b9){return _0x3334be(_0x44553a,_0x32e242,_0x2468b9);},'BpvDT':'userList','eFyqd':_0x298ec3(0x16c)};db[_0x298ec3(0x1ae)](_0x298ec3(0x249)+roomCode)['on'](_0x140c5b[_0x298ec3(0x237)],_0x3d188b=>{const _0x3e130b=_0x298ec3,_0x2157d1={'iTDac':function(_0x3a26bc,_0x649f9c){const _0x65ba9d=_0x4e40;return _0x140c5b[_0x65ba9d(0x22d)](_0x3a26bc,_0x649f9c);},'VoJzi':function(_0x28f243,_0x1583a0,_0x464ca1,_0x47f9b0){const _0xcc502d=_0x4e40;return _0x140c5b[_0xcc502d(0x25a)](_0x28f243,_0x1583a0,_0x464ca1,_0x47f9b0);}},_0x255c58=_0x3d188b['val']()||{},_0x386093=Date[_0x3e130b(0x2fb)]();roomUsers={},Object[_0x3e130b(0x235)](_0x255c58)['forEach'](([_0x1c8cd2,_0x220404])=>{const _0x69037e=_0x3e130b;roomUsers[_0x2157d1[_0x69037e(0x2fc)](sanitizeUsername,_0x220404[_0x69037e(0x30e)])]=_0x220404;}),userListReady=!![],pendingMessages[_0x3e130b(0x16b)](({data:_0x1745ec,sent:_0x36ae4e,key:_0x532347})=>{const _0xe91038=_0x3e130b;_0x2157d1[_0xe91038(0x18e)](addMessage,_0x1745ec,_0x36ae4e,_0x532347);}),pendingMessages=[];const _0x370a55=Object[_0x3e130b(0x2e7)](_0x255c58)['map'](_0x331e93=>{const _0x2d36f7=_0x3e130b,_0x193476=_0x331e93[_0x2d36f7(0x1e7)],_0x25eaca=_0x140c5b['fSloT'](_0x386093-_0x331e93[_0x2d36f7(0x209)],_0x140c5b[_0x2d36f7(0x294)](_0x140c5b[_0x2d36f7(0x2e5)](0x1e,0x3c),0x3e8));if(!_0x193476&&!_0x25eaca)return'';const _0x4db6e0=_0x193476?'#00ff88':_0x140c5b[_0x2d36f7(0x1a5)],_0x291ba5=_0x193476?'üü¢':'üïí',_0x451f32=_0x331e93[_0x2d36f7(0x2b6)]?_0x2d36f7(0x27a)+_0x331e93[_0x2d36f7(0x2b6)]+_0x2d36f7(0x308):_0x2d36f7(0x2c0),_0xb9b691=_0x331e93['admin']?_0x2d36f7(0x306):'';return _0x2d36f7(0x144)+_0x4db6e0+_0x2d36f7(0x271)+_0x140c5b[_0x2d36f7(0x22d)](sanitizeUsername,_0x331e93[_0x2d36f7(0x30e)])+_0x2d36f7(0x16f)+_0x451f32+_0x291ba5+'\x20'+_0x331e93['username']+_0xb9b691+_0x2d36f7(0x299);})[_0x3e130b(0x13d)]('');document[_0x3e130b(0x1a6)](_0x140c5b[_0x3e130b(0x1a4)])[_0x3e130b(0x2d4)]=_0x370a55;});}function sendTyping(_0x1435c9=![]){const _0x2785a6=_0x351c77,_0x2c1d96={'BUvMc':function(_0x324d15,_0x50269b){return _0x324d15(_0x50269b);}};if(isBlocked)return;const _0x2fb83b=_0x2785a6(0x148)+roomCode+_0x2785a6(0x303)+clientId;_0x1435c9?db[_0x2785a6(0x1ae)](_0x2fb83b)[_0x2785a6(0x268)]():(db[_0x2785a6(0x1ae)](_0x2fb83b)[_0x2785a6(0x178)](username),_0x2c1d96[_0x2785a6(0x302)](clearTimeout,typingTimeout),typingTimeout=setTimeout(()=>{const _0x4f8f67=_0x2785a6;db[_0x4f8f67(0x1ae)](_0x2fb83b)[_0x4f8f67(0x268)]();},0xbb8));}function listenForTyping(){const _0x563671=_0x351c77,_0x7f272b={'BHTXr':'typing','jSCPT':_0x563671(0x16c)},_0x5bea4e=document[_0x563671(0x1a6)](_0x7f272b[_0x563671(0x1b0)]);db[_0x563671(0x1ae)]('rooms/'+roomCode+'/typing')['on'](_0x7f272b['jSCPT'],_0x56964f=>{const _0x2454b5=_0x563671,_0x17dccf=_0x56964f[_0x2454b5(0x2f4)]();if(!_0x17dccf)return _0x5bea4e[_0x2454b5(0x22e)]='';const _0x508724=Object[_0x2454b5(0x2e7)](_0x17dccf)[_0x2454b5(0x20c)](_0x3412d5=>_0x3412d5!==username);_0x5bea4e[_0x2454b5(0x22e)]=_0x508724[_0x2454b5(0x2f5)]?_0x508724[_0x2454b5(0x13d)](',\x20')+_0x2454b5(0x2d8):'';});}function trackPresence(){const _0x511925=_0x351c77,_0x59f3ea={'aGlLN':function(_0x5caa00){return _0x5caa00();},'bUhBO':function(_0x179259,_0x240322){return _0x179259||_0x240322;},'XJdOH':function(_0x5527d5,_0x21d4dc){return _0x5527d5(_0x21d4dc);},'KTScT':_0x511925(0x16c)};if(_0x59f3ea[_0x511925(0x2c3)](!username,!roomCode))return;const _0xff2b29=_0x59f3ea['XJdOH'](sanitizeUsername,username),_0x32c346=db[_0x511925(0x1ae)](_0x511925(0x249)+roomCode+'/'+_0xff2b29),_0x10c7b5={'username':username,'avatarBase64':_0x59f3ea[_0x511925(0x2c3)](avatarBase64,''),'description':_0x59f3ea[_0x511925(0x2c3)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x511925(0x310)][_0x511925(0x19a)]};db[_0x511925(0x1ae)](_0x511925(0x22b)+roomCode+'/'+_0xff2b29)[_0x511925(0x1bf)](_0x59f3ea[_0x511925(0x208)])[_0x511925(0x175)](_0xbf9f60=>{const _0x21e82a=_0x511925;_0xbf9f60[_0x21e82a(0x291)]()&&(_0x10c7b5['admin']=!![]),_0x32c346[_0x21e82a(0x178)](_0x10c7b5),_0x32c346['onDisconnect']()[_0x21e82a(0x2d1)]({'online':![],'lastOnline':Date[_0x21e82a(0x2fb)]()}),_0x59f3ea[_0x21e82a(0x14a)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x8ca319){const _0xf4da81=_0x351c77,_0x233865={'vzQJJ':_0xf4da81(0x18a),'nOSjm':'sidebarAvatarPreview','jlEjO':_0xf4da81(0x290)};if(!_0x8ca319[_0xf4da81(0x164)]['length'])return;const _0x4810ec=_0x8ca319['files'][0x0],_0x42f0d9=new FileReader();_0x42f0d9[_0xf4da81(0x2fa)]=()=>{const _0x443476=_0xf4da81,_0x4006db={'owUlI':function(_0x368752,_0x35acd2){return _0x368752(_0x35acd2);},'WSyFX':_0x233865['vzQJJ']},_0x1d0ba9=_0x42f0d9[_0x443476(0x2a6)]['split'](',')[0x1];document[_0x443476(0x1a6)](_0x233865[_0x443476(0x2b2)])[_0x443476(0x2c9)]=_0x42f0d9[_0x443476(0x2a6)],document[_0x443476(0x1a6)](_0x233865[_0x443476(0x2b2)])['style'][_0x443476(0x24d)]=_0x233865[_0x443476(0x16e)];const _0x156bb1=sanitizeUsername(username);db[_0x443476(0x1ae)](_0x443476(0x2bd)+_0x156bb1+'/avatarBase64')[_0x443476(0x178)](_0x1d0ba9)['then'](()=>{const _0x30619e=_0x443476;_0x4006db[_0x30619e(0x142)](alert,_0x30619e(0x2e8));})['catch'](_0x3b83a1=>{const _0x394891=_0x443476;console['error'](_0x3b83a1),alert(_0x4006db[_0x394891(0x286)]);});},_0x42f0d9[_0xf4da81(0x2f0)](_0x4810ec);}function muteUser(_0xc686c7,_0x301fd2){const _0x14a097=_0x351c77,_0x30f2f1={'YCDwG':function(_0x2b26b9,_0x52c8bd){return _0x2b26b9(_0x52c8bd);},'UtmWG':_0x14a097(0x260),'fkUvG':function(_0x5e9b7f,_0x5a8a63){return _0x5e9b7f*_0x5a8a63;},'DUSdX':function(_0x185421,_0x3b0ff7){return _0x185421*_0x3b0ff7;},'HzcBI':function(_0x564183,_0x4c1a67){return _0x564183(_0x4c1a67);}};if(!isRoomAdmin)return _0x30f2f1[_0x14a097(0x20a)](alert,_0x30f2f1[_0x14a097(0x220)]);const _0x4f9e1f=Date[_0x14a097(0x2fb)]()+_0x30f2f1[_0x14a097(0x192)](_0x30f2f1[_0x14a097(0x2e3)](_0x301fd2,0x3c),0x3e8);db['ref'](_0x14a097(0x2cb)+roomCode+'/'+_0x30f2f1[_0x14a097(0x201)](sanitizeUsername,_0xc686c7))[_0x14a097(0x178)](_0x4f9e1f);}function unmuteUser(_0x129706){const _0x54fd6d=_0x351c77,_0x1ebe90={'OWCGK':function(_0x54bedf,_0x4a14d2){return _0x54bedf(_0x4a14d2);},'kVtgZ':'Admins\x20only.'};if(!isRoomAdmin)return _0x1ebe90[_0x54fd6d(0x2cf)](alert,_0x1ebe90[_0x54fd6d(0x15a)]);db[_0x54fd6d(0x1ae)]('muted/'+roomCode+'/'+sanitizeUsername(_0x129706))[_0x54fd6d(0x268)]();}function updateOnlineIndicator(){const _0x583d6f=_0x351c77,_0x1d3d0f={'LPDgd':'onlineStatus','cCBrU':_0x583d6f(0x2ce),'HHSmT':_0x583d6f(0x1ed)},_0x2cb3cf=document['getElementById'](_0x1d3d0f[_0x583d6f(0x14b)]);_0x2cb3cf['innerText']=_0x1d3d0f[_0x583d6f(0x273)],_0x2cb3cf[_0x583d6f(0x2dc)]['color']=_0x1d3d0f[_0x583d6f(0x27c)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x2ca43f){const _0x5986c4=_0x351c77,_0x351a11={'fUbfG':function(_0x1d6945,_0x26e015){return _0x1d6945(_0x26e015);},'eyRMS':'Profile\x20not\x20found.','uLNVN':_0x5986c4(0x1bb),'YeHSU':_0x5986c4(0x213),'lPfUl':'profileViewer','cfShb':_0x5986c4(0x290)};db[_0x5986c4(0x1ae)](_0x5986c4(0x2bd)+_0x2ca43f)[_0x5986c4(0x24f)]()[_0x5986c4(0x175)](_0x2103b8=>{const _0x50bca0=_0x5986c4;if(!_0x2103b8[_0x50bca0(0x291)]())return _0x351a11[_0x50bca0(0x26b)](alert,_0x351a11['eyRMS']);const _0x396a54=_0x2103b8[_0x50bca0(0x2f4)](),_0x2a225c=(_0x50bca0(0x2d7)+_0x396a54['username']+_0x50bca0(0x1af)+(_0x396a54[_0x50bca0(0x215)]||_0x50bca0(0x13b))+_0x50bca0(0x266)+((_0x396a54['usernameHistory']||[])[_0x50bca0(0x13d)](',\x20')||_0x351a11['uLNVN'])+_0x50bca0(0x181)+(_0x396a54['lastChanged']?new Date(_0x396a54['lastChanged'])[_0x50bca0(0x1a9)]():_0x351a11[_0x50bca0(0x296)])+_0x50bca0(0x1e8))[_0x50bca0(0x141)]();document[_0x50bca0(0x1a6)](_0x50bca0(0x29d))[_0x50bca0(0x22e)]=_0x2a225c,document[_0x50bca0(0x1a6)](_0x351a11[_0x50bca0(0x297)])[_0x50bca0(0x2dc)][_0x50bca0(0x24d)]=_0x351a11['cfShb'];});}function initUsernameFlow(){const _0x1f7d11=_0x351c77,_0x4bb7bd={'YCley':'chat_username','tvbas':function(_0x3fda76,_0x30f830){return _0x3fda76(_0x30f830);},'gitMq':_0x1f7d11(0x19c),'xSInZ':_0x1f7d11(0x267)},_0x39b741=localStorage[_0x1f7d11(0x2b1)](_0x4bb7bd[_0x1f7d11(0x1c5)]);!_0x39b741?_0x4bb7bd['tvbas'](showScreen,_0x1f7d11(0x1d1)):(username=_0x39b741,document[_0x1f7d11(0x1a6)](_0x4bb7bd[_0x1f7d11(0x166)])[_0x1f7d11(0x22e)]=username,_0x4bb7bd[_0x1f7d11(0x30d)](showScreen,_0x4bb7bd[_0x1f7d11(0x165)]));}function closeProfile(){const _0x15a591=_0x351c77,_0x161a2b={'RvWvW':'profileViewer','zDGfz':_0x15a591(0x1c8)};document[_0x15a591(0x1a6)](_0x161a2b[_0x15a591(0x23a)])[_0x15a591(0x2dc)][_0x15a591(0x24d)]=_0x161a2b[_0x15a591(0x292)];}function resetWebsiteData(){const _0x37bb42=_0x351c77,_0x15d44b={'uVXCK':function(_0x468124,_0x22ed1b){return _0x468124||_0x22ed1b;},'MBexU':function(_0x241feb,_0x5aabc9){return _0x241feb+_0x5aabc9;}};try{localStorage[_0x37bb42(0x157)](),sessionStorage[_0x37bb42(0x157)]();}catch(_0x567dc3){}if(_0x15d44b[_0x37bb42(0x2ca)](!username,!roomCode)){const _0x30073e=_0x37bb42(0x2b4)['split']('|');let _0x53d7bf=0x0;while(!![]){switch(_0x30073e[_0x53d7bf++]){case'0':username=null;continue;case'1':isRoomAdmin=![];continue;case'2':roomCode=null;continue;case'3':clientId=_0x15d44b[_0x37bb42(0x2a8)]('_',Math[_0x37bb42(0x2de)]()['toString'](0x24)[_0x37bb42(0x197)](0x2,0x9));continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x1a9049=_0x351c77,_0x32bc85=prompt(_0x1a9049(0x270));if(!_0x32bc85)return;db[_0x1a9049(0x1ae)](_0x1a9049(0x148)+roomCode+'/announcement')[_0x1a9049(0x178)]({'text':_0x32bc85,'by':username,'timestamp':Date[_0x1a9049(0x2fb)]()});}function listenForAnnouncement(){const _0x2fa1e5=_0x351c77,_0x44962c={'VPfkl':'announcementArea','oDWVZ':_0x2fa1e5(0x16c)},_0x1cce56=db[_0x2fa1e5(0x1ae)](_0x2fa1e5(0x148)+roomCode+'/announcement');_0x1cce56['on'](_0x44962c[_0x2fa1e5(0x278)],_0x25b92a=>{const _0x28cb35=_0x2fa1e5,_0x2b4617=_0x25b92a['val']();if(!_0x2b4617){document[_0x28cb35(0x1a6)](_0x44962c['VPfkl'])[_0x28cb35(0x22e)]='';return;}const _0x4d22c7=document[_0x28cb35(0x1a6)](_0x44962c[_0x28cb35(0x13f)]);_0x4d22c7[_0x28cb35(0x22e)]=''+_0x2b4617[_0x28cb35(0x21b)];});}document['getElementById']('announcementArea')[_0x351c77(0x255)](_0x351c77(0x1f4),_0xc1864d=>{const _0x4a7161=_0x351c77,_0x5d3d1c={'tglTH':function(_0x5ae7ce,_0x4a0007){return _0x5ae7ce===_0x4a0007;},'fdtVX':_0x4a7161(0x135)};_0x5d3d1c[_0x4a7161(0x26a)](_0xc1864d[_0x4a7161(0x29e)],0x3)&&isRoomAdmin&&(confirm(_0x5d3d1c[_0x4a7161(0x265)])&&db[_0x4a7161(0x1ae)](_0x4a7161(0x148)+roomCode+_0x4a7161(0x1a7))[_0x4a7161(0x268)]());}),document[_0x351c77(0x1a6)](_0x351c77(0x20d))['addEventListener'](_0x351c77(0x19b),()=>{const _0x2cecfe=_0x351c77,_0x2bb6f8={'FyrKk':_0x2cecfe(0x20d),'AxgIv':_0x2cecfe(0x309),'ETPsP':'2px\x20solid\x20red'},_0x2c4317=document[_0x2cecfe(0x1a6)](_0x2bb6f8[_0x2cecfe(0x2bb)]),_0x421551=document[_0x2cecfe(0x1a6)](_0x2bb6f8[_0x2cecfe(0x168)]),_0x4c4dd0=_0x2c4317['value']['toLowerCase'](),_0x5140d6=swearWords[_0x2cecfe(0x146)](_0x5f49e6=>_0x4c4dd0[_0x2cecfe(0x2b8)](_0x5f49e6));_0x5140d6?(_0x2c4317['style'][_0x2cecfe(0x1c6)]=_0x2bb6f8[_0x2cecfe(0x30a)],_0x421551['disabled']=!![]):(_0x2c4317['style'][_0x2cecfe(0x1c6)]='',_0x421551[_0x2cecfe(0x1be)]=![]);});