const _0x5617bd=_0x2fff;(function(_0x412166,_0x1187ba){const _0x3bb4a1=_0x2fff,_0x5ee959=_0x412166();while(!![]){try{const _0x5179e4=-parseInt(_0x3bb4a1(0x17b))/0x1*(-parseInt(_0x3bb4a1(0x309))/0x2)+-parseInt(_0x3bb4a1(0x230))/0x3*(-parseInt(_0x3bb4a1(0x2f5))/0x4)+parseInt(_0x3bb4a1(0xde))/0x5*(parseInt(_0x3bb4a1(0x14e))/0x6)+-parseInt(_0x3bb4a1(0x335))/0x7*(-parseInt(_0x3bb4a1(0x2d1))/0x8)+-parseInt(_0x3bb4a1(0x15a))/0x9+-parseInt(_0x3bb4a1(0x16a))/0xa+parseInt(_0x3bb4a1(0x2d8))/0xb;if(_0x5179e4===_0x1187ba)break;else _0x5ee959['push'](_0x5ee959['shift']());}catch(_0x492b2e){_0x5ee959['push'](_0x5ee959['shift']());}}}(_0x31a8,0x2ed29));const firebaseConfig={'apiKey':_0x5617bd(0x1df),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x5617bd(0x2e2),'projectId':'easy-chatroom','storageBucket':_0x5617bd(0x20d),'messagingSenderId':_0x5617bd(0x2f2),'appId':_0x5617bd(0x126),'measurementId':_0x5617bd(0x227)};firebase[_0x5617bd(0x146)](firebaseConfig);const db=firebase[_0x5617bd(0x26f)]();let deviceId=null;((async()=>{const _0x3ac0b9=_0x5617bd,_0xb4658c={'ZaDBT':function(_0x39c992){return _0x39c992();}};deviceId=await _0xb4658c[_0x3ac0b9(0x148)](generateDeviceId);})());const swearWords=[_0x5617bd(0x155),_0x5617bd(0x30c),_0x5617bd(0x149),'asshole',_0x5617bd(0x2ba),_0x5617bd(0x1fb),'cunt',_0x5617bd(0x255),'mierda',_0x5617bd(0x220),'co√±o',_0x5617bd(0xf4),_0x5617bd(0x19c),_0x5617bd(0x23a),_0x5617bd(0x319),_0x5617bd(0x2b1),'puta',_0x5617bd(0x27b),_0x5617bd(0x19b),'putangina',_0x5617bd(0x1c8),_0x5617bd(0x245),'ulol',_0x5617bd(0x28e),'bwisit',_0x5617bd(0x1c1)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x5617bd(0x323)]()[_0x5617bd(0x2b6)](0x24)[_0x5617bd(0xed)](0x2,0x9),lastActivity=Date[_0x5617bd(0x2c1)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x5617bd(0x304));sound[_0x5617bd(0x20c)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2bdb00=_0x5617bd,_0x358147={'GirLu':function(_0x452700,_0x3a6c1a){return _0x452700+_0x3a6c1a;},'aQkmX':function(_0x2ed468,_0x1c0cb0){return _0x2ed468(_0x1c0cb0);}},_0x11a864=_0x358147[_0x2bdb00(0x107)](navigator[_0x2bdb00(0x190)]+screen['width'],screen[_0x2bdb00(0x1ff)]),_0x269eca=await _0x358147[_0x2bdb00(0x310)](sha256,_0x11a864);return _0x358147[_0x2bdb00(0x107)]('_',_0x269eca['substr'](0x0,0x14));}function sha256(_0x15df11){const _0x1cf66b=_0x5617bd,_0x37af83={'WuOFR':_0x1cf66b(0x22f)},_0x379243=new TextEncoder()['encode'](_0x15df11);return crypto[_0x1cf66b(0x1db)][_0x1cf66b(0x1f8)](_0x37af83[_0x1cf66b(0x2f9)],_0x379243)['then'](_0x570094=>{const _0x242266=_0x1cf66b;return Array['from'](new Uint8Array(_0x570094))[_0x242266(0x2d4)](_0x43f933=>_0x43f933[_0x242266(0x2b6)](0x10)[_0x242266(0x306)](0x2,'0'))[_0x242266(0x1ca)]('');});}function _0x31a8(){const _0x53f8bf=['\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','‚õî\x20You\x20are\x20muted.','\x27)\x22>Promote\x20to\x20Moderator</button>','EGsoj','mute','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','bobo','pIgcF','ptSlt','‚úÖ\x20Profile\x20picture\x20updated!','ThOoF','igdyh','TNTFQ','UVIHT','announcementArea','zlCvC','dphSE','sticR','ERvXn','WMfaf','oyaQm','margin','admin','moderator','esStK','NPuGf','sWjPM','XSggr','AbgPF','AKCFa','push','Account\x20not\x20found.','1|5|4|2|0|3','iAzdr','GPwCl','vsEzp','Messages\x20by\x20','mediaDevices','TrQJx','profileViewer','HLaVq','merda','yLuBi','yMdDN','TPIii','vhQJL','toString','cVLOm','jsAPm','tLIfd','bastard','IcfqO','show','GWrVr','MReYw','xQVpQ','roomCodeInput','now','sjsJv','0123456789','some','[Unknown\x20Message]','euacw','DVFyE','nbHQy','<br>','ZprTe','result','BtPbW','disabled','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','üîî\x20Enable\x20Notifications','oldPasswordInput','157112YuFknt','div','created','map','profileContent','BlFUO','style','365541yeEqMq','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','forEach','No\x20bio\x20set','uXvWK','appendChild','avatarBase64','roomDisplay','toUpperCase','DqXnD','https://easy-chatroom-default-rtdb.firebaseio.com','EqaQd','getItem','kwaqZ','rooms/','CpRNA','\x20is\x20typing...','eSZjw','editBioInput','oQtqo','Jgpbl','wSjsK','object','RJybX','nGsRW','antispamBlocked/','985049198428','admins/','avtXB','5556HYfGQH','IyRoG','floor','ZNrpR','WuOFR','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','rNSed','TIMESTAMP','iMykJ','antispamBlocked','KMEsA','uXGgj','profiles/','\x0aDescription:\x20','Enter','sounds/beep.mp3','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','padStart','YowEt','Failed\x20to\x20register\x20user\x20into\x20room.','2kATeXg','profileScreen','once','shit','oEVdh','SJuqz','TRGgf','aQkmX','adminUserList','ZLAup','KnOXe','ecRop','set','jYdio','data','‚ùå\x20Image\x20must\x20be\x20under\x202MB','caralho','IqBhG','includes','reload','src','\x0a\x20\x20\x20\x20','\x20was\x20promoted\x20to\x20Moderator','/messages','\x20minutes.','jtGZx','random','false','OKMsO','scrollTop','getElementById','üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','received','6px\x20auto','DIEcn','onDisconnect','DVkqu','mTXbS','nGUKj','data:audio/webm;base64,','xhLqI','AbjSp','entries','77CVlyOx','bzQIf','DtMCw','moderators/','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','authAvatar','fuhTB','Incorrect\x20current\x20password.','<button\x20onclick=\x22muteUser(\x27','WEAoJ','ZvfEw','SPLLY','vNFmq','Loiwq','[Voice\x20message]','Admins\x20only.','LvgTS','cDhth','gCngP','Znpjz','üö´\x20Cannot\x20promote\x20Developers.','readAsDataURL','auth/','replace','KcDNt','roomStates/','<small>','wetXl','KKlTT','FHkNw','\x27,\x205)\x22>Mute\x205m</button>','profileDescriptionInput','trim','YjcpE','bYGgr','orderByChild','addAnnouncementBtn','\x27)\x22>Demote</button>','namePreview','ijNPv','Profile\x20not\x20found.','Username\x20already\x20exists.','msg','jFXWm','oaVpr','toLocaleString','roomChoiceScreen','15yqseea','mVleH','OqHPJ','Incorrect\x20password.','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','dcDIW','muted/','classList','XswDJ','GIziB','DWnww','typing/','ewbgM','Failed\x20to\x20save\x20profile:','length','substr','bhQjh','jEFCi','catch','Umnuy','\x20promoted\x20to\x20Admin!','<img\x20src=\x22data:image/png;base64,','cabron','onload','OEbAO','UdPOT','ghnxr','QMLuU','\x27)\x22>+Admin</button>','oYXTT','sender','GGPtt','role','usernameScreen','vEpvt','UuDKR','mxczA','qDOkB','requestPermission','qBmKp','Remove\x20Announcement?','GirLu','Register','RJlze','RyFlA','display','then','pausedOverlay','sAffk','hZEOE','\x20promoted\x20to\x20Moderator!','aDzvQ','Ylmra','\x20demoted\x20to\x20user.','codeEntryScreen','start','KAQLH','update','dBWvY','onstop','usernameHistory','users/','deleteMessage','gUQRN','dUjsj','Awgrg','jbCPC','flex','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','MquCt','1:985049198428:web:d0eb7e2de39887710c9b99','child_added','Please\x20fill\x20in\x20all\x20fields.','placeholder','msgInput','\x0aName:\x20','#aaa','AXspT','\x20was\x20promoted\x20to\x20Admin','passwordError','auth','sHSVy','\x20in\x20room\x20','filter','get','hbkSx','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','You\x20got\x20messages\x20from\x20','qDOUg','SZHsE','OKhGi','PGiLC','Obkuj','MFciO','OMSTG','Please\x20enter\x20your\x20current\x20password.','BItIK','</li>','authPassword','\x20left\x20the\x20chat','lOvAZ','KDwde','initializeApp','wEWxT','ZaDBT','bitch','dYZzs','fontSize','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','dHegu','332814OEzkZH','wgodD','XndMO','RiwWO','BZMdP','AiafC','editProfileError','fuck','qYYkd','AvjCI','unknown','addEventListener','2525805mvBlCP','border','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','HXtwp','ref','clear','CyfkV','value','Enter\x20your\x20new\x20username:','qXoWM','IKGJg','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','You\x20got\x20a\x20message\x20from\x20','sefkp','WrlhR','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','3234070yxkAVu','IuOOM','</div>','toLocaleTimeString','uHrvZ','eOHvP',')\x20New\x20message\x20‚Ä¢\x20','\x0aUsername\x20History:\x20','warn','sent','qADSq','ZXFMn','\x27)\x22>Promote\x20to\x20Admin</button>','innerText','passwordScreen','WLZbG','innerHTML','345445lUkwlh','messages','profileError','\x20muted\x20for\x20','stop','xTwih','PMaDQ','authDescription','xKGwa','KWMyy','popstate','lastChanged','kbXbq','WRtNV','rooms','yJdva','gtlZT','jqlnG','fctqt','IKTqE','fCBfY','userAgent','yhlVk','authError','epxqx','sidebarOpen','oVlmX','üîï\x20Disable\x20Notifications','<button\x20onclick=\x22deleteUserMessages(\x27','QEKGw','SryCU','XurrH','otario','gilipollas','/messages/','DOMContentLoaded','active','ZMKpU','play','icEQf','block','fpRkK','input','visibilitychange','TPVCE','CQoLN','getUserMedia','kgYoM','bRDpy','ServerValue','HcUqt','faAYd','ZDBul','nPUBi','NZVyi','iFfdW','Fnjfs','IIQGf','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','vavxv','fPwLT','XYRcG','[Voice\x20Message]','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','hWvcj','iNPMh','Session\x20expired.','QXEbb','vNEGz','color','putang\x20ina','vtzVl','sidebarAvatarPreview','Room\x20is\x20currently\x20paused.','antispam','juhZN','yyUnk','gago','authAvatarPreview','join','authScreen','ZrLZR','RcskY','DzsfC','username','jVEWR','authPasswordConfirm','gFute','userOptions-','dkMRh','HBOhU','exists','promote','NhlQi','fbZZh','state','subtle','data:image/png;base64,','SUQod','KUdIP','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','PFKiP','Incorrect\x20password','pushState','üö´\x20You\x20cannot\x20mute\x20a\x20Developer.','Drbel','VZnsA','PPxnz','dMnuI','onloadend','2px\x20solid\x20red','<button\x20onclick=\x22promoteToAdmin(\x27','antispam/','HWjYG','split','bTYTI','createElement','onlineStatus','dipox','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','YCXrs','UBleX','\x27,\x2010)\x22>Mute\x2010m</button>','kXUdh','BEvJA','digest','wlEQM','<li>','dick','MvaSd','from','/avatarBase64','height','authTitle','Enter\x20a\x20valid\x20room\x20code','QhBar','RLcbH','remove','vpiXI','TzVDL','authUsername','contains','wuKNQ','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','all','volume','easy-chatroom.firebasestorage.app','KSnbQ','permission','<button\x20onclick=\x22promoteToModerator(\x27','user','\x27)\x22>','muteUntil','#00ff88','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','userSidebar','notifications_enabled','tgPmE','editProfileScreen','dev','IYKmd','fkcCK','\x20deleted.','WLlXz','mJJUH','pendejo','staticPasswordInput','gspGz','recordBtn','click','Microphone\x20permission\x20denied.','nVLXO','G-QDESJ2WR42','<span\x20class=\x22sender-name\x22>','title','error','gdXJC','mUNJC','AUVoq','key','SHA-256','75utPKbp','val','hlDia','<div>','chat_username','eQqCE','JFBJz','Login','hidden','/announcement','porra','values','ltnyX','LKzfs','equalTo','ondataavailable','EapFC','OjFFt','FcRTB','Xbxuu','scrollHeight','tangina','0.8rem','/paused','description','eeAoB','TViRc','notifToggleBtn','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','\x0aLast\x20Changed:\x20','RjPZm','passwordHash','userList','vlsPe','wFOtF','Enter\x20Announcement\x20Text:','DEqnS','puta','userDisplay','setItem','PXazW','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','Zaunp','iTQpN','UQuor','cYFcj','DKiye','byJhZ','<button\x20onclick=\x22demoteUser(\x27','nvmVQ','YafDn','‚ùå\x20Username\x20already\x20taken.','tECrX','keys','</small>','fGAvJ','zwJKG','vetJm','authSubmitBtn','BifKB','files','POXeL','iZqRr','database','keypress','iVnWN','yhnpc','kliwP','audioBase64','none','fyVXQ','<img\x20src=\x22','granted','</span>','InCUX','fdp','\x27)\x22>Delete\x20Messages</button>','chatScreen','AUlLq','mHFRc','LXYKA','DYHwx','Error\x20checking\x20username:','hgKaK','typing','toLowerCase','‚óè\x20Online','hcbaK'];_0x31a8=function(){return _0x53f8bf;};return _0x31a8();}function toggleNotifications(){const _0x2f35c1=_0x5617bd,_0x159a97={'UNymA':function(_0x5c6910,_0x492b33){return _0x5c6910===_0x492b33;},'mVleH':_0x2f35c1(0x217),'PXazW':'true','DVFyE':_0x2f35c1(0x196),'mUNJC':function(_0x22297a,_0x3adfda){return _0x22297a!==_0x3adfda;},'YowEt':_0x2f35c1(0x278),'esStK':_0x2f35c1(0x324),'uXvWK':_0x2f35c1(0x24b),'yMdDN':_0x2f35c1(0x2cf)};_0x159a97[_0x2f35c1(0x22c)](Notification[_0x2f35c1(0x20f)],_0x159a97[_0x2f35c1(0x307)])?Notification[_0x2f35c1(0x104)]()[_0x2f35c1(0x10c)](_0x282c89=>{const _0x1fe89f=_0x2f35c1;_0x159a97['UNymA'](_0x282c89,'granted')&&(notificationsEnabled=!![],localStorage['setItem'](_0x159a97[_0x1fe89f(0xdf)],_0x159a97[_0x1fe89f(0x258)]),document[_0x1fe89f(0x327)](_0x1fe89f(0x24b))[_0x1fe89f(0x177)]=_0x159a97[_0x1fe89f(0x2c7)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x159a97['mVleH'],notificationsEnabled?_0x159a97[_0x2f35c1(0x258)]:_0x159a97[_0x2f35c1(0x2a0)]),document[_0x2f35c1(0x327)](_0x159a97[_0x2f35c1(0x2dc)])['innerText']=notificationsEnabled?_0x159a97[_0x2f35c1(0x2c7)]:_0x159a97[_0x2f35c1(0x2b3)]);}function toggleAuthMode(){const _0xfa3561=_0x5617bd,_0x3b8cbd={'mTXbS':_0xfa3561(0x108),'CyfkV':_0xfa3561(0x237),'ThOoF':'authError','ERvXn':_0xfa3561(0x275),'jtGZx':_0xfa3561(0x1d1),'AUVoq':'block','fuaax':'authDescription','GWrVr':'authAvatar','KDwde':'authAvatarPreview','pYNjR':_0xfa3561(0x200)},_0x45ecf5='7|6|2|3|4|5|0|1'[_0xfa3561(0x1ed)]('|');let _0x181428=0x0;while(!![]){switch(_0x45ecf5[_0x181428++]){case'0':document[_0xfa3561(0x327)](_0xfa3561(0x26a))[_0xfa3561(0x177)]=isRegisterMode?_0x3b8cbd[_0xfa3561(0x32f)]:_0x3b8cbd[_0xfa3561(0x160)];continue;case'1':document[_0xfa3561(0x327)](_0x3b8cbd[_0xfa3561(0x292)])[_0xfa3561(0x2d7)][_0xfa3561(0x10b)]=_0x3b8cbd[_0xfa3561(0x29a)];continue;case'2':document[_0xfa3561(0x327)](_0x3b8cbd[_0xfa3561(0x322)])[_0xfa3561(0x2d7)][_0xfa3561(0x10b)]=isRegisterMode?_0x3b8cbd['AUVoq']:_0xfa3561(0x275);continue;case'3':document[_0xfa3561(0x327)](_0x3b8cbd['fuaax'])['style'][_0xfa3561(0x10b)]=isRegisterMode?_0x3b8cbd[_0xfa3561(0x22d)]:_0xfa3561(0x275);continue;case'4':document[_0xfa3561(0x327)](_0x3b8cbd[_0xfa3561(0x2bd)])[_0xfa3561(0x2d7)][_0xfa3561(0x10b)]=isRegisterMode?_0x3b8cbd[_0xfa3561(0x22d)]:_0x3b8cbd[_0xfa3561(0x29a)];continue;case'5':document['getElementById'](_0x3b8cbd[_0xfa3561(0x145)])[_0xfa3561(0x2d7)][_0xfa3561(0x10b)]=_0x3b8cbd[_0xfa3561(0x29a)];continue;case'6':document['getElementById'](_0x3b8cbd['pYNjR'])[_0xfa3561(0x177)]=isRegisterMode?_0x3b8cbd[_0xfa3561(0x32f)]:_0x3b8cbd[_0xfa3561(0x160)];continue;case'7':isRegisterMode=!isRegisterMode;continue;}break;}}function previewAvatar(){const _0x283f72=_0x5617bd,_0x45cfa8={'NPuGf':_0x283f72(0x1c9)},_0x54e6f2=document['getElementById'](_0x283f72(0x33a));if(!_0x54e6f2['files']['length'])return;const _0x949198=new FileReader();_0x949198[_0x283f72(0x1e8)]=()=>{const _0x17d629=_0x283f72;document[_0x17d629(0x327)](_0x45cfa8[_0x17d629(0x2a1)])[_0x17d629(0x31d)]=_0x949198['result'],document[_0x17d629(0x327)](_0x45cfa8[_0x17d629(0x2a1)])[_0x17d629(0x2d7)][_0x17d629(0x10b)]=_0x17d629(0x1a3);},_0x949198['readAsDataURL'](_0x54e6f2[_0x283f72(0x26c)][0x0]);}async function submitAuth(){const _0x4897f8=_0x5617bd,_0x27e20b={'MFciO':function(_0x117cbd,_0x15345a){return _0x117cbd||_0x15345a;},'AbjSp':_0x4897f8(0x211),'gNrea':_0x4897f8(0x207),'nvmVQ':_0x4897f8(0x142),'JFBJz':_0x4897f8(0x1d1),'sHSVy':_0x4897f8(0x182),'AUlLq':_0x4897f8(0x192),'HaZbU':_0x4897f8(0x275),'qDOkB':_0x4897f8(0x128),'UBleX':_0x4897f8(0x1a3),'tECrX':function(_0xecc481,_0x3a0d16){return _0xecc481!==_0x3a0d16;},'rXsuG':'Passwords\x20do\x20not\x20match.','SJuqz':function(_0x1e8eb2,_0x57a94e){return _0x1e8eb2(_0x57a94e);},'UQuor':function(_0x83a84){return _0x83a84();},'MquCt':function(_0x3cfdb5,_0x51d189){return _0x3cfdb5||_0x51d189;},'TPVCE':_0x4897f8(0x2a7),'AXspT':function(_0x447f17){return _0x447f17();}},_0x1f553d=document['getElementById'](_0x27e20b['gNrea'])[_0x4897f8(0x161)][_0x4897f8(0xcf)](),_0x17a899=document[_0x4897f8(0x327)](_0x27e20b[_0x4897f8(0x261)])[_0x4897f8(0x161)][_0x4897f8(0xcf)](),_0x459fc9=document[_0x4897f8(0x327)](_0x27e20b[_0x4897f8(0x236)])[_0x4897f8(0x161)]['trim'](),_0x5edd3c=document[_0x4897f8(0x327)](_0x27e20b[_0x4897f8(0x131)])['value'][_0x4897f8(0xcf)](),_0x53a05e=document[_0x4897f8(0x327)](_0x4897f8(0x33a)),_0x1212f1=document[_0x4897f8(0x327)](_0x27e20b[_0x4897f8(0x27e)]);_0x1212f1['style'][_0x4897f8(0x10b)]=_0x27e20b['HaZbU'];if(_0x27e20b[_0x4897f8(0x13d)](!_0x1f553d,!_0x17a899)){_0x1212f1[_0x4897f8(0x177)]=_0x27e20b[_0x4897f8(0x103)],_0x1212f1[_0x4897f8(0x2d7)][_0x4897f8(0x10b)]=_0x27e20b[_0x4897f8(0x1f4)];return;}const _0x292b6b=sanitizeUsername(_0x1f553d),_0x40cae3=db[_0x4897f8(0x15e)]('auth/'+_0x292b6b),_0x36bfe2=await _0x40cae3[_0x4897f8(0x134)]();if(isRegisterMode){if(_0x36bfe2[_0x4897f8(0x1d6)]()){_0x1212f1[_0x4897f8(0x177)]=_0x4897f8(0xd8),_0x1212f1[_0x4897f8(0x2d7)]['display']=_0x27e20b[_0x4897f8(0x1f4)];return;}if(_0x27e20b[_0x4897f8(0x264)](_0x17a899,_0x459fc9)){_0x1212f1[_0x4897f8(0x177)]=_0x27e20b['rXsuG'],_0x1212f1[_0x4897f8(0x2d7)][_0x4897f8(0x10b)]=_0x27e20b['UBleX'];return;}const _0x2f2259=await _0x27e20b[_0x4897f8(0x30e)](sha256,_0x17a899),_0x2cad43=await _0x27e20b[_0x4897f8(0x25c)](generateDeviceId);if(_0x53a05e[_0x4897f8(0x26c)][_0x4897f8(0xec)]){const _0x1ae41b=_0x53a05e[_0x4897f8(0x26c)][0x0],_0x1e8c2b=new FileReader();_0x1e8c2b[_0x4897f8(0x1e8)]=async()=>{const _0x345d1f=_0x4897f8,_0x1856c3=_0x1e8c2b[_0x345d1f(0x2cb)][_0x345d1f(0x1ed)](',')[0x1];await _0x40cae3['set']({'username':_0x1f553d,'passwordHash':_0x2f2259,'description':_0x27e20b[_0x345d1f(0x13d)](_0x5edd3c,''),'avatarBase64':_0x1856c3,'role':_0x345d1f(0x211),'deviceId':_0x2cad43,'usernameHistory':[_0x1f553d],'lastChanged':Date[_0x345d1f(0x2c1)]()}),username=_0x1f553d,userDescription=_0x5edd3c,avatarBase64=_0x1856c3,role=_0x27e20b[_0x345d1f(0x333)],startAfterAuth();},_0x1e8c2b[_0x4897f8(0xc4)](_0x1ae41b);}else await _0x40cae3['set']({'username':_0x1f553d,'passwordHash':_0x2f2259,'description':_0x27e20b[_0x4897f8(0x125)](_0x5edd3c,''),'avatarBase64':'','role':_0x27e20b[_0x4897f8(0x333)],'deviceId':_0x2cad43,'usernameHistory':[_0x1f553d],'lastChanged':Date[_0x4897f8(0x2c1)]()}),username=_0x1f553d,userDescription=_0x5edd3c,avatarBase64='',role=_0x27e20b[_0x4897f8(0x333)],startAfterAuth();}else{if(!_0x36bfe2[_0x4897f8(0x1d6)]()){_0x1212f1['innerText']=_0x27e20b[_0x4897f8(0x1a7)],_0x1212f1[_0x4897f8(0x2d7)][_0x4897f8(0x10b)]=_0x27e20b[_0x4897f8(0x1f4)];return;}const _0x18fd67=_0x36bfe2[_0x4897f8(0x231)](),_0x3c17cf=await _0x27e20b[_0x4897f8(0x30e)](sha256,_0x17a899);if(_0x27e20b[_0x4897f8(0x264)](_0x3c17cf,_0x18fd67['passwordHash'])){_0x1212f1[_0x4897f8(0x177)]=_0x4897f8(0xe1),_0x1212f1[_0x4897f8(0x2d7)][_0x4897f8(0x10b)]=_0x27e20b[_0x4897f8(0x1f4)];return;}username=_0x1f553d;if(_0x18fd67[_0x4897f8(0x248)])userDescription=_0x18fd67['description'];if(_0x18fd67[_0x4897f8(0x2de)])avatarBase64=_0x18fd67[_0x4897f8(0x2de)];if(_0x18fd67[_0x4897f8(0xfe)])role=_0x18fd67[_0x4897f8(0xfe)];else role=_0x27e20b[_0x4897f8(0x333)];_0x27e20b[_0x4897f8(0x12d)](startAfterAuth);}}async function saveNewUser(_0x4d1b08,_0x4702ef,_0x2f4400,_0x5047fb,_0x62124c){const _0x4ec385=_0x5617bd,_0x1945a2={'yyUnk':'user','IqBhG':function(_0x2279ee,_0x4ce10e){return _0x2279ee||_0x4ce10e;}},_0x2a9241=db['ref'](_0x4ec385(0xc5)+sanitizeUsername(_0x4d1b08)),_0x248461={'username':_0x4d1b08,'passwordHash':_0x4702ef,'role':_0x1945a2[_0x4ec385(0x1c7)],'deviceId':_0x2f4400,'description':_0x1945a2[_0x4ec385(0x31a)](_0x62124c,''),'avatarBase64':_0x1945a2['IqBhG'](_0x5047fb,''),'usernameHistory':[_0x4d1b08],'lastChanged':Date[_0x4ec385(0x2c1)]()};await _0x2a9241[_0x4ec385(0x315)](_0x248461),username=_0x4d1b08,_0x5047fb=_0x248461[_0x4ec385(0x2de)],userDescription=_0x248461[_0x4ec385(0x248)],startAfterAuth();}async function startAfterAuth(){const _0x26aca1=_0x5617bd,_0x504f18={'ccGrj':function(_0x4b5c2d,_0x44a8a7){return _0x4b5c2d(_0x44a8a7);},'Obkuj':'user','FOrXu':'sidebarAvatarPreview','mHFRc':_0x26aca1(0x1dc),'nPUBi':_0x26aca1(0x1a3),'XTVFL':function(_0x50a5a5){return _0x50a5a5();},'byJhZ':_0x26aca1(0xd5),'ROKSA':_0x26aca1(0xdd)},_0x58b594=_0x504f18['ccGrj'](sanitizeUsername,username),_0x2c78ae=db[_0x26aca1(0x15e)]('auth/'+_0x58b594),_0x30856c=await _0x2c78ae['get']();if(_0x30856c[_0x26aca1(0x1d6)]()){const _0x274e04=_0x30856c[_0x26aca1(0x231)]();username=_0x274e04[_0x26aca1(0x1cf)],userDescription=_0x274e04[_0x26aca1(0x248)]||'',avatarBase64=_0x274e04['avatarBase64']||'',role=_0x274e04['role']||_0x504f18[_0x26aca1(0x13c)];if(avatarBase64){const _0x328be4=document[_0x26aca1(0x327)](_0x504f18['FOrXu']);_0x328be4[_0x26aca1(0x31d)]=_0x504f18[_0x26aca1(0x27f)]+avatarBase64,_0x328be4[_0x26aca1(0x2d7)]['display']=_0x504f18[_0x26aca1(0x1b0)];}}else console[_0x26aca1(0x172)](_0x26aca1(0x2d9));await _0x504f18['XTVFL'](loadRoomRoles),document[_0x26aca1(0x327)](_0x504f18[_0x26aca1(0x25f)])[_0x26aca1(0x177)]=username,_0x504f18['ccGrj'](showScreen,_0x504f18['ROKSA']);}function toggleRecording(){const _0x142939=_0x5617bd,_0x47c6c9={'XurrH':_0x142939(0x343),'AbgPF':function(_0x922b2f,_0x559a84){return _0x922b2f(_0x559a84);},'VmDjp':function(_0x165b2b,_0xc90861){return _0x165b2b&&_0xc90861;},'WMfaf':_0x142939(0x223),'DHscP':function(_0xb50032,_0x4d91b7,_0x18c183){return _0xb50032(_0x4d91b7,_0x18c183);},'wqqTG':function(_0x114231){return _0x114231();}};isRecording?_0x47c6c9['wqqTG'](stopRecording):navigator[_0x142939(0x2ad)][_0x142939(0x1a9)]({'audio':!![]})[_0x142939(0x10c)](_0xfdb8cd=>{const _0x72f0ee=_0x142939,_0x29f3e2={'dkMRh':function(_0x501580,_0xdaa20f){return _0x47c6c9['VmDjp'](_0x501580,_0xdaa20f);},'ztmfT':function(_0x752288){return _0x752288();}};mediaRecorder=new MediaRecorder(_0xfdb8cd),mediaRecorder[_0x72f0ee(0x115)](),isRecording=!![],document[_0x72f0ee(0x327)](_0x47c6c9[_0x72f0ee(0x29b)])[_0x72f0ee(0x177)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x72f0ee(0x23f)]=_0x5bdabf=>audioChunks[_0x72f0ee(0x2a6)](_0x5bdabf[_0x72f0ee(0x317)]),mediaRecorder[_0x72f0ee(0x119)]=()=>{const _0x3760bb=_0x72f0ee,_0x391cc1={'BlFUO':_0x47c6c9[_0x3760bb(0x19a)]};_0x47c6c9['AbgPF'](clearTimeout,recordingTimer);const _0x9351ef=new Blob(audioChunks,{'type':'audio/webm'}),_0x33640d=new FileReader();_0x33640d[_0x3760bb(0x1e8)]=()=>{const _0x40c57a=_0x3760bb,_0x45d331=_0x33640d[_0x40c57a(0x2cb)][_0x40c57a(0x1ed)](',')[0x1],_0x2a74b7=db[_0x40c57a(0x15e)]()[_0x40c57a(0x2a6)]()['key'];db['ref']('rooms/'+roomCode+'/messages/'+_0x2a74b7)['set']({'msg':_0x391cc1[_0x40c57a(0x2d6)],'audioBase64':_0x45d331,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x33640d[_0x3760bb(0xc4)](_0x9351ef);},recordingTimer=_0x47c6c9['DHscP'](setTimeout,()=>{const _0x2ce37a=_0x72f0ee;_0x29f3e2[_0x2ce37a(0x1d4)](mediaRecorder,isRecording)&&_0x29f3e2['ztmfT'](stopRecording);},0x4e20);})[_0x142939(0xf0)](_0xe5c27c=>{const _0x336207=_0x142939;_0x47c6c9[_0x336207(0x2a4)](alert,_0x336207(0x225));});}function stopRecording(){const _0x33ca51=_0x5617bd,_0x91ac1d={'DYHwx':function(_0x403a55,_0x1902e6){return _0x403a55&&_0x1902e6;},'fCBfY':_0x33ca51(0x223),'mHWyZ':'üéôÔ∏è'};_0x91ac1d[_0x33ca51(0x281)](mediaRecorder,isRecording)&&(mediaRecorder[_0x33ca51(0x17f)](),isRecording=![],document['getElementById'](_0x91ac1d[_0x33ca51(0x18f)])[_0x33ca51(0x177)]=_0x91ac1d['mHWyZ']);}window[_0x5617bd(0xf5)]=async()=>{const _0x181387=_0x5617bd,_0x2d1cc0={'GPgdw':function(_0xe4158){return _0xe4158();},'AYNUZ':function(_0x1f2131){return _0x1f2131();},'LvgTS':function(_0x2fc3f8){return _0x2fc3f8();},'aadTW':'true','eSZjw':function(_0x4fb46b,_0x2399a3){return _0x4fb46b(_0x2399a3);},'DKiye':_0x181387(0x1cb)};_0x2d1cc0['GPgdw'](cleanupOldRooms),_0x2d1cc0['AYNUZ'](setupSidebarBackHandler),_0x2d1cc0[_0x181387(0x345)](setupVisibilityAttention),resetWebsiteData();const _0x307a5e=localStorage[_0x181387(0x2e4)]('notifications_enabled');notificationsEnabled=_0x307a5e===_0x2d1cc0['aadTW'],_0x2d1cc0[_0x181387(0x2e9)](showScreen,_0x2d1cc0[_0x181387(0x25e)]);};function sanitizeUsername(_0x5ad765){return _0x5ad765['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x48e238=_0x5617bd,_0xb39b1f={'DzsfC':_0x48e238(0x234),'jsAPm':function(_0x5553b5,_0x511a9a){return _0x5553b5(_0x511a9a);},'hWvcj':'block','QEKGw':_0x48e238(0x282),'kwaqZ':'‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','qXoWM':'profileUsernameInput','GIziB':_0x48e238(0xce),'PuaZJ':_0x48e238(0x17d),'IKGJg':function(_0x2166c4,_0x4ca957){return _0x2166c4||_0x4ca957;},'cSCAl':function(_0x425c9a,_0x41ace8){return _0x425c9a(_0x41ace8);},'FcRTB':'value'},_0x41291f=document[_0x48e238(0x327)](_0xb39b1f[_0x48e238(0x163)])[_0x48e238(0x161)][_0x48e238(0xcf)](),_0x4a5fa8=document[_0x48e238(0x327)](_0xb39b1f[_0x48e238(0xe7)])['value']['trim'](),_0x3504bd=document[_0x48e238(0x327)](_0xb39b1f['PuaZJ']);if(_0xb39b1f[_0x48e238(0x164)](!_0x41291f,!_0x4a5fa8)){_0x3504bd[_0x48e238(0x177)]=_0x48e238(0x2fa),_0x3504bd[_0x48e238(0x2d7)][_0x48e238(0x10b)]=_0xb39b1f['hWvcj'];return;}const _0x430aa2=_0xb39b1f['cSCAl'](sanitizeUsername,_0x41291f),_0x46fc86=db[_0x48e238(0x15e)](_0x48e238(0x301)+_0x430aa2);_0x46fc86[_0x48e238(0x30b)](_0xb39b1f[_0x48e238(0x242)])['then'](_0x53db7c=>{const _0x1cdf93=_0x48e238,_0x19d615={'RiwWO':_0x1cdf93(0xeb),'dUjsj':_0x1cdf93(0x1a3),'vNFmq':_0xb39b1f[_0x1cdf93(0x1ce)],'SXeQL':function(_0x225455,_0x3b2985){const _0x3dc734=_0x1cdf93;return _0xb39b1f[_0x3dc734(0x2b8)](_0x225455,_0x3b2985);},'jFXWm':'roomChoiceScreen'};if(_0x53db7c[_0x1cdf93(0x1d6)]())_0x3504bd[_0x1cdf93(0x177)]=_0x1cdf93(0x263),_0x3504bd['style'][_0x1cdf93(0x10b)]=_0xb39b1f[_0x1cdf93(0x1bb)];else{const _0x186bfb={'username':_0x41291f,'description':_0x4a5fa8,'lastChanged':Date[_0x1cdf93(0x2c1)](),'usernameHistory':[_0x41291f]};_0x46fc86[_0x1cdf93(0x315)](_0x186bfb,_0x4610ac=>{const _0x1890ed=_0x1cdf93;_0x4610ac?(console[_0x1890ed(0x22a)](_0x19d615[_0x1890ed(0x151)],_0x4610ac),_0x3504bd[_0x1890ed(0x177)]=_0x1890ed(0x24c),_0x3504bd[_0x1890ed(0x2d7)][_0x1890ed(0x10b)]=_0x19d615[_0x1890ed(0x11e)]):(localStorage[_0x1890ed(0x257)](_0x19d615[_0x1890ed(0x341)],_0x41291f),localStorage[_0x1890ed(0x257)]('profile_description',_0x4a5fa8),username=_0x41291f,document[_0x1890ed(0x327)]('namePreview')['innerText']=_0x41291f,_0x19d615['SXeQL'](showScreen,_0x19d615[_0x1890ed(0xda)]));});}})['catch'](_0x5b23e0=>{const _0x3c80a9=_0x48e238;console[_0x3c80a9(0x22a)](_0xb39b1f[_0x3c80a9(0x198)],_0x5b23e0),_0x3504bd[_0x3c80a9(0x177)]=_0xb39b1f[_0x3c80a9(0x2e5)],_0x3504bd['style'][_0x3c80a9(0x10b)]=_0x3c80a9(0x1a3);});}function saveProfile(_0x1aa556,_0x3be8d5,_0x257eeb){const _0x853965=_0x5617bd,_0x303a3a={'KKlTT':_0x853965(0xd5),'ijNPv':_0x853965(0xdd)},_0x728d50=Date[_0x853965(0x2c1)](),_0x2f2a09=[_0x1aa556];db['ref']('profiles/'+_0x257eeb)[_0x853965(0x315)]({'username':_0x1aa556,'description':_0x3be8d5,'lastChanged':_0x728d50,'usernameHistory':_0x2f2a09}),document['getElementById'](_0x303a3a[_0x853965(0xcb)])[_0x853965(0x177)]=_0x1aa556,showScreen(_0x303a3a[_0x853965(0xd6)]);}function generateRoom(){const _0x469820=_0x5617bd,_0xc78c2b={'OfmMN':function(_0x5103d2,_0x272f1a){return _0x5103d2+_0x272f1a;},'iVnWN':_0x469820(0x2e6),'vNEGz':function(_0x1960bf){return _0x1960bf();}};roomCode=genRoomCode(),db[_0x469820(0x15e)](_0xc78c2b['OfmMN'](_0xc78c2b[_0x469820(0x271)],roomCode))['set']({'active':!![],'created':Date[_0x469820(0x2c1)]()}),_0xc78c2b[_0x469820(0x1bf)](startChat);}function joinRoom(){const _0x84738c=_0x5617bd,_0x578dfc={'ZDBul':function(_0x37bcc8){return _0x37bcc8();},'GBpGY':function(_0x1b87f4,_0x4fcbbf){return _0x1b87f4(_0x4fcbbf);},'pRvFQ':'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','iAzdr':_0x84738c(0x2c0),'bTYTI':function(_0x4ceb8e,_0xbf5114){return _0x4ceb8e(_0xbf5114);},'gfkPv':_0x84738c(0x201),'tWRNj':function(_0x214767,_0x57cc70){return _0x214767===_0x57cc70;},'AMMsB':_0x84738c(0x178),'SHQIN':function(_0x49e8ff,_0x2fbb4d){return _0x49e8ff+_0x2fbb4d;},'iMykJ':_0x84738c(0x2e6)},_0x378866=roomCode||document[_0x84738c(0x327)](_0x578dfc[_0x84738c(0x2a9)])[_0x84738c(0x161)]['trim']()[_0x84738c(0x2e0)]();if(!_0x378866)return _0x578dfc['bTYTI'](alert,_0x578dfc['gfkPv']);roomCode=_0x378866;if(_0x578dfc['tWRNj'](roomCode,STATIC_ROOM)){_0x578dfc[_0x84738c(0x1ee)](showScreen,_0x578dfc['AMMsB']);return;}db[_0x84738c(0x15e)](_0x578dfc['SHQIN'](_0x578dfc[_0x84738c(0x2fd)],roomCode))[_0x84738c(0x134)]()[_0x84738c(0x10c)](_0x2f4d05=>{const _0x4f9046=_0x84738c;_0x2f4d05[_0x4f9046(0x1d6)]()&&_0x2f4d05[_0x4f9046(0x231)]()[_0x4f9046(0x19f)]!==![]?_0x578dfc[_0x4f9046(0x1af)](startChat):_0x578dfc['GBpGY'](alert,_0x578dfc['pRvFQ']);});}async function startChat(){const _0x4e5ce9=_0x5617bd,_0x10046d={'ptSlt':function(_0x5ca8f8,_0x39a305){return _0x5ca8f8(_0x39a305);},'LKzfs':_0x4e5ce9(0xdd),'RLcbH':_0x4e5ce9(0x1c3),'uXGgj':function(_0xededb1,_0x4d6c8a){return _0xededb1+_0x4d6c8a;},'wlEQM':_0x4e5ce9(0x1dc),'KSnbQ':_0x4e5ce9(0x1a3),'wEWxT':_0x4e5ce9(0x256),'SryCU':function(_0x851e4a,_0x1a5546){return _0x851e4a(_0x1a5546);},'DEqnS':_0x4e5ce9(0x2df),'rEWao':function(_0x174285,_0x42a222){return _0x174285===_0x42a222;},'ZvfEw':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','qDOUg':_0x4e5ce9(0xd3),'SZHsE':_0x4e5ce9(0x275),'TRGgf':function(_0x550908){return _0x550908();},'vlsPe':function(_0x21211c){return _0x21211c();},'oaVpr':function(_0x104517,_0x5542c9){return _0x104517(_0x5542c9);},'OEbAO':function(_0x3e3159){return _0x3e3159();},'PMaDQ':function(_0x14dbfb,_0x56ff9f){return _0x14dbfb(_0x56ff9f);}};if(!roomCode||!username)return _0x10046d[_0x4e5ce9(0xdb)](alert,'Missing\x20room\x20or\x20user\x20information.'),_0x10046d[_0x4e5ce9(0x290)](showScreen,_0x4e5ce9(0xdd));_0x10046d[_0x4e5ce9(0xf6)](listenForPauseState),_0x10046d[_0x4e5ce9(0x251)](listenForUserList),await loadRoomRoles(),listenForAnnouncement();const _0xe8b450=_0x10046d[_0x4e5ce9(0x181)](sanitizeUsername,username),_0x331f9d=db[_0x4e5ce9(0x15e)](_0x4e5ce9(0x11b)+roomCode+'/'+_0xe8b450),_0x34f517={'username':username,'online':!![],'lastOnline':firebase[_0x4e5ce9(0x26f)][_0x4e5ce9(0x1ac)][_0x4e5ce9(0x2fc)]};_0x331f9d[_0x4e5ce9(0x315)](_0x34f517,_0x8c2695=>{const _0x28bc13=_0x4e5ce9;if(_0x8c2695)return _0x10046d['ptSlt'](alert,_0x28bc13(0x308)),showScreen(_0x10046d[_0x28bc13(0x23d)]);_0x331f9d[_0x28bc13(0x32d)]()['update']({'online':![],'lastOnline':Date[_0x28bc13(0x2c1)]()});const _0x51be49=document[_0x28bc13(0x327)](_0x10046d[_0x28bc13(0x203)]);avatarBase64&&(_0x51be49[_0x28bc13(0x31d)]=_0x10046d[_0x28bc13(0x300)](_0x10046d[_0x28bc13(0x1f9)],avatarBase64),_0x51be49['style'][_0x28bc13(0x10b)]=_0x10046d[_0x28bc13(0x20e)]),document[_0x28bc13(0x327)](_0x10046d[_0x28bc13(0x147)])[_0x28bc13(0x17a)]=username+'\x20'+_0x10046d[_0x28bc13(0x199)](getRoleTag,_0xe8b450),document[_0x28bc13(0x327)](_0x10046d[_0x28bc13(0x254)])[_0x28bc13(0x177)]=_0x10046d['rEWao'](roomCode,STATIC_ROOM)?_0x10046d[_0x28bc13(0x33f)]:roomCode,[_0x28bc13(0x29e),_0x28bc13(0x21a),_0x28bc13(0x29f)][_0x28bc13(0x31b)](role)?document['getElementById'](_0x10046d[_0x28bc13(0x138)])[_0x28bc13(0x2d7)][_0x28bc13(0x10b)]=_0x28bc13(0x1a3):document[_0x28bc13(0x327)](_0x28bc13(0xd3))[_0x28bc13(0x2d7)][_0x28bc13(0x10b)]=_0x10046d[_0x28bc13(0x139)],showScreen(_0x28bc13(0x27d)),listenForMessages(),_0x10046d[_0x28bc13(0x30f)](listenForTyping),startInactivityTimer(),trackPresence(),_0x10046d[_0x28bc13(0x251)](watchProfileChanges),_0x10046d[_0x28bc13(0x30f)](watchMuteStatus);});}function watchProfileChanges(){const _0x1b4d8f=_0x5617bd,_0x3f470f={'pIgcF':'sidebarAvatarPreview','dBWvY':function(_0x503537,_0xbe310e){return _0x503537+_0xbe310e;},'DVkqu':_0x1b4d8f(0x1a3),'Xbxuu':function(_0x1999d5,_0x4a4135){return _0x1999d5(_0x4a4135);},'sWjPM':'value'},_0x3ed66f=_0x3f470f['Xbxuu'](sanitizeUsername,username);db[_0x1b4d8f(0x15e)](_0x1b4d8f(0xc5)+_0x3ed66f)['on'](_0x3f470f[_0x1b4d8f(0x2a2)],_0x3b38c3=>{const _0x11d7c4=_0x1b4d8f;if(!_0x3b38c3[_0x11d7c4(0x1d6)]())return;const _0x2870d0=_0x3b38c3[_0x11d7c4(0x231)]();userDescription=_0x2870d0[_0x11d7c4(0x248)]||'',avatarBase64=_0x2870d0[_0x11d7c4(0x2de)]||'',role=_0x2870d0[_0x11d7c4(0xfe)]||_0x11d7c4(0x211);if(avatarBase64){const _0x5c6fda=document[_0x11d7c4(0x327)](_0x3f470f[_0x11d7c4(0x28f)]);!_0x5c6fda[_0x11d7c4(0x31d)][_0x11d7c4(0x31b)](avatarBase64)&&(_0x5c6fda[_0x11d7c4(0x31d)]=_0x3f470f[_0x11d7c4(0x118)]('data:image/png;base64,',avatarBase64),_0x5c6fda[_0x11d7c4(0x2d7)][_0x11d7c4(0x10b)]=_0x3f470f[_0x11d7c4(0x32e)]);}_0x3f470f[_0x11d7c4(0x243)](renderUserLists,roomUsers);});}function uploadImage(_0x359502){const _0x369e43=_0x5617bd,_0x3952df={'sefkp':function(_0x23994a,_0x11b60f){return _0x23994a>_0x11b60f;},'XYRcG':function(_0x279ea7,_0x3ce125){return _0x279ea7*_0x3ce125;},'roaeD':function(_0x4571ff,_0x2b7e74){return _0x4571ff(_0x2b7e74);}},_0x35c1ba=_0x359502[_0x369e43(0x26c)][0x0];if(!_0x35c1ba||_0x3952df[_0x369e43(0x167)](_0x35c1ba['size'],_0x3952df[_0x369e43(0x1b8)](0x2*0x400,0x400))){_0x3952df['roaeD'](alert,_0x369e43(0x318));return;}const _0x1cd11f=new FileReader();_0x1cd11f['onloadend']=()=>{const _0x271be4=_0x369e43,_0x931bf4=_0x1cd11f[_0x271be4(0x2cb)]['split'](',')[0x1],_0x5a5739=db[_0x271be4(0x15e)]()[_0x271be4(0x2a6)]()[_0x271be4(0x22e)];db['ref'](_0x271be4(0x2e6)+roomCode+_0x271be4(0x19d)+_0x5a5739)[_0x271be4(0x315)]({'imageBase64':_0x931bf4,'sender':username,'senderId':clientId,'timestamp':Date[_0x271be4(0x2c1)]()});},_0x1cd11f['readAsDataURL'](_0x35c1ba);}async function fetchProfile(_0x5293b1){const _0xa4ab1c=_0x5617bd,_0x47b690=await db[_0xa4ab1c(0x15e)](_0xa4ab1c(0xc5)+_0x5293b1)[_0xa4ab1c(0x134)]();if(!_0x47b690['exists']())return null;return _0x47b690['val']();}function validateStaticRoomPassword(){const _0x5e0443=_0x5617bd,_0x38cfd9={'dcDIW':'Room\x20password\x20not\x20set.\x20Cannot\x20join.','nbHQy':function(_0x58ecb6,_0x415a86){return _0x58ecb6===_0x415a86;},'gdXJC':function(_0x255aef){return _0x255aef();},'QRTYn':_0x5e0443(0x1e1),'SUQod':_0x5e0443(0x12f),'dYZzs':_0x5e0443(0x1a3),'GBrQv':function(_0x21fb08,_0x32619e){return _0x21fb08(_0x32619e);},'IcfqO':_0x5e0443(0x2ce),'GGPtt':_0x5e0443(0x221),'xKGwa':function(_0x274e9d,_0x144f8b){return _0x274e9d(_0x144f8b);},'icEQf':'Please\x20enter\x20the\x20password.'},_0x12fc10=document[_0x5e0443(0x327)](_0x38cfd9[_0x5e0443(0xfd)])[_0x5e0443(0x161)][_0x5e0443(0xcf)]();if(!_0x12fc10){_0x38cfd9[_0x5e0443(0x183)](alert,_0x38cfd9[_0x5e0443(0x1a2)]);return;}db[_0x5e0443(0x15e)]('gr8stg/'+STATIC_ROOM)[_0x5e0443(0x134)]()[_0x5e0443(0x10c)](_0x5ecd01=>{const _0x5ce4be=_0x5e0443;if(!_0x5ecd01[_0x5ce4be(0x1d6)]()){alert(_0x38cfd9[_0x5ce4be(0xe3)]);return;}const _0x295f41=_0x5ecd01[_0x5ce4be(0x231)]();_0x38cfd9[_0x5ce4be(0x2c8)](_0x12fc10,_0x295f41)?(roomCode=STATIC_ROOM,_0x38cfd9[_0x5ce4be(0x22b)](startChat)):(document[_0x5ce4be(0x327)](_0x5ce4be(0x12f))[_0x5ce4be(0x177)]=_0x38cfd9['QRTYn'],document[_0x5ce4be(0x327)](_0x38cfd9[_0x5ce4be(0x1dd)])[_0x5ce4be(0x2d7)][_0x5ce4be(0x10b)]=_0x38cfd9[_0x5ce4be(0x14a)]);})[_0x5e0443(0xf0)](_0x3751a6=>{const _0xeaca43=_0x5e0443;console[_0xeaca43(0x22a)](_0x3751a6),_0x38cfd9['GBrQv'](alert,_0x38cfd9[_0xeaca43(0x2bb)]);});}function listenForPauseState(){const _0x2b0b23=_0x5617bd,_0x2c12bf={'wuKNQ':function(_0x1a6278,_0x1af3cf){return _0x1a6278===_0x1af3cf;},'iNPMh':_0x2b0b23(0x10d),'EhAIn':'block','BBuiV':_0x2b0b23(0x275),'MReYw':_0x2b0b23(0x161)};db[_0x2b0b23(0x15e)](_0x2b0b23(0xc8)+roomCode+_0x2b0b23(0x247))['on'](_0x2c12bf[_0x2b0b23(0x2be)],_0x5224e8=>{const _0x36628c=_0x2b0b23,_0x466067=_0x5224e8['exists']()&&_0x2c12bf[_0x36628c(0x209)](_0x5224e8[_0x36628c(0x231)](),!![]);document[_0x36628c(0x327)](_0x2c12bf[_0x36628c(0x1bc)])[_0x36628c(0x2d7)]['display']=_0x466067?_0x2c12bf['EhAIn']:_0x2c12bf['BBuiV'];});}const spamTimestamps=[];async function sendMessage(){const _0x5c7fbe=_0x5617bd,_0x587590={'ApnwC':'Type\x20a\x20message...','eeAoB':function(_0x2f1f3d,_0x21625e){return _0x2f1f3d(_0x21625e);},'avtXB':function(_0x3ea4c8,_0x4b6ae5){return _0x3ea4c8===_0x4b6ae5;},'fGAvJ':_0x5c7fbe(0x2ee),'IuOOM':function(_0x5245ff,_0x11b65c){return _0x5245ff>_0x11b65c;},'SXlcC':function(_0x3c4498,_0x3c4db7){return _0x3c4498(_0x3c4db7);},'igdyh':_0x5c7fbe(0x289),'cDhth':function(_0x505b55,_0x5f10e7){return _0x505b55!==_0x5f10e7;},'bhQjh':_0x5c7fbe(0x21a),'mqxHU':_0x5c7fbe(0x1c4),'AKCFa':_0x5c7fbe(0x12a),'ZvTLf':function(_0x5d186c,_0x50a08d){return _0x5d186c||_0x50a08d;},'fuhTB':function(_0x28b0d2,_0x41f597){return _0x28b0d2(_0x41f597);},'mJJUH':_0x5c7fbe(0x28d),'DIEcn':_0x5c7fbe(0x2a8),'fpRkK':'‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','ZLAup':'avatar_base64'},_0x16c2ec=await db[_0x5c7fbe(0x15e)](_0x5c7fbe(0xc8)+roomCode+'/paused')['get'](),_0x294473=await db[_0x5c7fbe(0x15e)]('muted/'+roomCode+'/'+_0x587590[_0x5c7fbe(0x249)](sanitizeUsername,username))[_0x5c7fbe(0x134)]();if(_0x294473[_0x5c7fbe(0x1d6)]()){const _0xff2f2f=_0x294473[_0x5c7fbe(0x231)](),_0x36d423=_0x587590[_0x5c7fbe(0x2f4)](typeof _0xff2f2f,_0x587590[_0x5c7fbe(0x267)])&&_0xff2f2f[_0x5c7fbe(0x213)]?_0xff2f2f[_0x5c7fbe(0x213)]:_0xff2f2f;if(_0x587590[_0x5c7fbe(0x16b)](_0x36d423,Date['now']())){_0x587590['SXlcC'](alert,_0x587590[_0x5c7fbe(0x293)]);return;}}if(_0x16c2ec[_0x5c7fbe(0x1d6)]()&&_0x16c2ec[_0x5c7fbe(0x231)]()===!![]&&_0x587590[_0x5c7fbe(0x346)](role,_0x587590[_0x5c7fbe(0xee)])){_0x587590[_0x5c7fbe(0x249)](alert,_0x587590['mqxHU']);return;}const _0x21d259=document[_0x5c7fbe(0x327)](_0x587590[_0x5c7fbe(0x2a5)]),_0x49eb1b=_0x21d259[_0x5c7fbe(0x161)]['trim']();if(_0x587590['ZvTLf'](!_0x49eb1b,isBlocked))return;const _0x5c2355=Date['now'](),_0x9d3e41=_0x49eb1b[_0x5c7fbe(0x285)](),_0x780c84=swearWords[_0x5c7fbe(0x2c4)](_0x5e25c2=>_0x9d3e41['includes'](_0x5e25c2));if(_0x780c84){_0x587590[_0x5c7fbe(0x33b)](alert,_0x587590[_0x5c7fbe(0x21f)]);return;}spamTimestamps[_0x5c7fbe(0x2a6)](_0x5c2355);const _0x3c7983=spamTimestamps[_0x5c7fbe(0x133)](_0x48b1fa=>_0x5c2355-_0x48b1fa<0x1b58);if(_0x587590['IuOOM'](_0x3c7983[_0x5c7fbe(0xec)],0x5)){const _0x33fd50=_0x587590[_0x5c7fbe(0x32c)][_0x5c7fbe(0x1ed)]('|');let _0x4029e3=0x0;while(!![]){switch(_0x33fd50[_0x4029e3++]){case'0':setTimeout(()=>{const _0x3e25be=_0x5c7fbe;isBlocked=![],_0x21d259[_0x3e25be(0x2cd)]=![],_0x21d259[_0x3e25be(0x129)]=_0x587590['ApnwC'],spamTimestamps[_0x3e25be(0xec)]=0x0;},0x7530);continue;case'1':isBlocked=!![];continue;case'2':_0x587590['fuhTB'](alert,_0x587590[_0x5c7fbe(0x1a4)]);continue;case'3':return;case'4':_0x21d259[_0x5c7fbe(0x129)]=_0x5c7fbe(0x122);continue;case'5':_0x21d259[_0x5c7fbe(0x2cd)]=!![];continue;}break;}}const _0x292df4=localStorage[_0x5c7fbe(0x2e4)](_0x587590[_0x5c7fbe(0x312)])||'',_0x3a4f78=db[_0x5c7fbe(0x15e)]()[_0x5c7fbe(0x2a6)]()[_0x5c7fbe(0x22e)];db[_0x5c7fbe(0x15e)]('rooms/'+roomCode+_0x5c7fbe(0x19d)+_0x3a4f78)[_0x5c7fbe(0x315)]({'msg':_0x49eb1b,'sender':username,'senderId':clientId,'avatarBase64':_0x292df4,'timestamp':_0x5c2355}),_0x21d259[_0x5c7fbe(0x161)]='',sendTyping(!![]),lastActivity=_0x5c2355;}function listenForMessages(){const _0x826195=_0x5617bd,_0x39c87a={'WEAoJ':function(_0x5f1672,_0x3ee54f,_0x59fe1a,_0x5ca291){return _0x5f1672(_0x3ee54f,_0x59fe1a,_0x5ca291);},'BifKB':function(_0x25fdf0,_0x370069){return _0x25fdf0===_0x370069;},'xQVpQ':function(_0x204068,_0x8ef3e8){return _0x204068!==_0x8ef3e8;},'ecRop':function(_0x260e7c){return _0x260e7c();},'yhnpc':_0x826195(0x278),'GGvdb':function(_0x5d22d3,_0x1b5a28){return _0x5d22d3&&_0x1b5a28;},'KAQLH':function(_0x12f148,_0x3c5a62,_0x151801){return _0x12f148(_0x3c5a62,_0x151801);},'oQtqo':_0x826195(0x1b9),'vEpvt':_0x826195(0x2c5),'yIAXy':_0x826195(0x127)},_0xa32ca0=db[_0x826195(0x15e)](_0x826195(0x2e6)+roomCode+_0x826195(0x320)),_0x2c3efd=_0xa32ca0['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x2c3efd['on'](_0x39c87a['yIAXy'],_0x735619=>{const _0x12eabc=_0x826195,_0x39125f=_0x735619[_0x12eabc(0x231)](),{senderId:_0xc6c55c}=_0x39125f,_0x5a608c=_0x39c87a[_0x12eabc(0x26b)](_0xc6c55c,clientId);if(!userListReady){pendingMessages[_0x12eabc(0x2da)](({data:_0x5090c2,sent:_0x4b847b,key:_0x3f2d44})=>{const _0x4eaf99=_0x12eabc;_0x39c87a[_0x4eaf99(0x33e)](addMessage,_0x5090c2,_0x4b847b,_0x3f2d44);}),pendingMessages=[];return;}const _0x1799e1=_0x39125f['audioUrl']||null,_0x12e2c1=_0x39125f['audioBase64']||null;_0x39c87a['WEAoJ'](addMessage,_0x39125f,_0x5a608c,_0x735619['key']),_0x39c87a[_0x12eabc(0x2bf)](roomCode,STATIC_ROOM)&&db[_0x12eabc(0x15e)]('rooms/'+roomCode+_0x12eabc(0x19d)+_0x735619[_0x12eabc(0x22e)])['remove'](),!_0x5a608c&&(sound[_0x12eabc(0x1a1)](),_0x39c87a[_0x12eabc(0x314)](flagPageAttention)),_0x39c87a[_0x12eabc(0x2bf)](Notification['permission'],_0x39c87a[_0x12eabc(0x272)])&&Notification[_0x12eabc(0x104)](),_0x39c87a['GGvdb'](notificationsEnabled,!_0x5a608c)&&_0x39c87a[_0x12eabc(0x116)](stackNotification,_0x39125f[_0x12eabc(0xfc)],_0x39125f['msg']||(_0x39125f[_0x12eabc(0x274)]?_0x39c87a[_0x12eabc(0x2eb)]:_0x39c87a[_0x12eabc(0x100)]));});}function stackNotification(_0x1a0c99,_0x386484){const _0x5659d0=_0x5617bd,_0x44f321={'SxyaL':function(_0x1a10b6,_0x4dfac4){return _0x1a10b6(_0x4dfac4);},'TPIii':function(_0x89e169,_0x2dd06d,_0x24caea){return _0x89e169(_0x2dd06d,_0x24caea);}};notificationStack[_0x5659d0(0x2a6)]({'sender':_0x1a0c99,'content':_0x386484}),_0x44f321['SxyaL'](clearTimeout,notificationTimer),notificationTimer=_0x44f321[_0x5659d0(0x2b4)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x259b55=_0x5617bd,_0x5edf5b={'zlCvC':'New\x20Chat\x20Message','vsEzp':_0x259b55(0x15c),'KMEsA':'granted','QXEbb':function(_0x531c13,_0x5f0143){return _0x531c13||_0x5f0143;},'jiAUI':_0x259b55(0x158),'RRvOE':function(_0x2a273c,_0x3f3a44){return _0x2a273c===_0x3f3a44;},'IyRoG':function(_0x1e31ee,_0x1d8cf3,_0x39393a){return _0x1e31ee(_0x1d8cf3,_0x39393a);}};if(!notificationStack[_0x259b55(0xec)]||Notification[_0x259b55(0x20f)]!==_0x5edf5b[_0x259b55(0x2ff)])return;const _0x4c27b3=[...new Set(notificationStack['map'](_0x46d566=>_0x46d566[_0x259b55(0xfc)]))],_0x478fdd=_0x5edf5b[_0x259b55(0x1be)](roomCode,_0x5edf5b['jiAUI']),_0x448cf0=_0x5edf5b['RRvOE'](_0x4c27b3['length'],0x1)?_0x259b55(0x166)+_0x4c27b3[0x0]+_0x259b55(0x132)+_0x478fdd+':\x20'+notificationStack[0x0]['content']:_0x259b55(0x137)+_0x4c27b3[_0x259b55(0x1ca)](',\x20')+_0x259b55(0x132)+_0x478fdd;_0x5edf5b[_0x259b55(0x2f6)](setTimeout,()=>{const _0x599502=_0x259b55;new Notification(_0x5edf5b[_0x599502(0x297)],{'body':_0x448cf0,'icon':_0x5edf5b[_0x599502(0x2ab)]});},0x64);}async function addMessage(_0xfb2d78,_0xfc51c2,_0x459b08=null){const _0x12a8a1=_0x5617bd,_0x4631eb={'gtlZT':_0x12a8a1(0x2d2),'gCngP':_0x12a8a1(0x173),'sSSPB':'2-digit','hcbaK':function(_0x2932ad,_0xdf8a7){return _0x2932ad(_0xdf8a7);}},{msg:_0x1f144c,sender:_0x2afd4e,senderId:_0x3bd6d8,timestamp:_0x5e8438,audioUrl:_0x98a002,audioBase64:_0x42b4b5,imageBase64:_0x4eeda3}=_0xfb2d78,_0x1884fd=sanitizeUsername(_0x2afd4e),_0x1983a3=document['createElement'](_0x4631eb[_0x12a8a1(0x18b)]);_0x1983a3[_0x12a8a1(0xe5)]['add'](_0x12a8a1(0xd9),_0xfc51c2?_0x4631eb[_0x12a8a1(0x347)]:_0x12a8a1(0x32a));const _0x3eeb24=new Date(_0x5e8438)[_0x12a8a1(0x16d)]([],{'hour':'2-digit','minute':_0x4631eb['sSSPB']}),_0x1ae026=_0x4631eb[_0x12a8a1(0x287)](getRoleTag,_0x1884fd),_0x393ee3=await _0x4631eb['hcbaK'](fetchAvatar,_0x1884fd),_0xa15a06=_0x393ee3?_0x12a8a1(0xf3)+_0x393ee3+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x26a1e0=_0xa15a06+_0x12a8a1(0x228)+_0x2afd4e+'\x20'+_0x1ae026+_0x12a8a1(0x279),_0x5be793=_0x1f144c?.[_0x12a8a1(0xc6)](new RegExp('@'+username+'\x5cb','gi'),_0x12a8a1(0x329));let _0x3c0838=_0x26a1e0+_0x12a8a1(0x2c9);if(_0x98a002)_0x3c0838+='<audio\x20controls\x20src=\x22'+_0x98a002+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x42b4b5){const _0x28271b=_0x12a8a1(0x331)+_0x42b4b5;_0x3c0838+='<audio\x20controls\x20src=\x22'+_0x28271b+_0x12a8a1(0x339);}else{if(_0x4eeda3){const _0xfb83de=_0x12a8a1(0x1dc)+_0x4eeda3;_0x3c0838+=_0x12a8a1(0x277)+_0xfb83de+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x3c0838+=_0x12a8a1(0x233)+_0x5be793+_0x12a8a1(0x16c);}}_0x3c0838+=_0x12a8a1(0xc9)+_0x3eeb24+_0x12a8a1(0x266),_0x1983a3['innerHTML']=_0x3c0838;const _0x443576=document[_0x12a8a1(0x327)](_0x12a8a1(0x17c));_0x443576[_0x12a8a1(0x2dd)](_0x1983a3),_0x443576[_0x12a8a1(0x326)]=_0x443576[_0x12a8a1(0x244)];}function cleanupOldRooms(){const _0x5626df=_0x5617bd,_0x5b3e65={'TViRc':function(_0x2d7df1,_0x56f8ca){return _0x2d7df1!==_0x56f8ca;},'EGsoj':function(_0x3abeb6,_0x4ad956){return _0x3abeb6>_0x4ad956;},'vpiXI':function(_0xcd7af3,_0x4945c9){return _0xcd7af3-_0x4945c9;},'hgKaK':function(_0x37336f,_0x191fba){return _0x37336f*_0x191fba;},'wetXl':function(_0x5171dd,_0x4497ac){return _0x5171dd+_0x4497ac;},'CQoLN':_0x5626df(0x1c5),'yLuBi':_0x5626df(0x161),'gUQRN':_0x5626df(0x2fe)};db[_0x5626df(0x15e)](_0x5626df(0x189))[_0x5626df(0x30b)](_0x5b3e65[_0x5626df(0x2b2)])[_0x5626df(0x10c)](_0x37ca72=>{const _0x1b41a=_0x5626df,_0x492861=_0x37ca72['val']();if(!_0x492861)return;const _0x35d1a6=Date[_0x1b41a(0x2c1)]();for(const _0x1d58b5 in _0x492861){if(_0x1d58b5===STATIC_ROOM)continue;const _0x145042=_0x492861[_0x1d58b5];_0x5b3e65[_0x1b41a(0x28b)](_0x5b3e65[_0x1b41a(0x205)](_0x35d1a6,_0x145042[_0x1b41a(0x2d3)]||0x0),_0x5b3e65[_0x1b41a(0x283)](_0x5b3e65[_0x1b41a(0x283)](0x2,0x3c),0x3e8))&&db['ref'](_0x5b3e65[_0x1b41a(0xca)](_0x1b41a(0x2e6),_0x1d58b5))[_0x1b41a(0x204)]();}db[_0x1b41a(0x15e)](_0x5b3e65[_0x1b41a(0x1a8)])[_0x1b41a(0x30b)](_0x5b3e65['yLuBi'])[_0x1b41a(0x10c)](_0x2cd154=>{const _0x18735=_0x1b41a,_0x2375e4=_0x2cd154[_0x18735(0x231)]();if(!_0x2375e4)return;for(const _0x10e497 in _0x2375e4){if(_0x5b3e65['TViRc'](_0x10e497,STATIC_ROOM))db['ref'](_0x18735(0x1eb)+_0x10e497)['remove']();}}),db[_0x1b41a(0x15e)](_0x5b3e65[_0x1b41a(0x11d)])[_0x1b41a(0x30b)](_0x5b3e65[_0x1b41a(0x2b2)])['then'](_0x205bf1=>{const _0x39cfc1=_0x1b41a,_0x33d1a9=_0x205bf1[_0x39cfc1(0x231)]();if(!_0x33d1a9)return;for(const _0x4ef724 in _0x33d1a9){if(_0x5b3e65[_0x39cfc1(0x24a)](_0x4ef724,STATIC_ROOM))db['ref'](_0x39cfc1(0x2f1)+_0x4ef724)['remove']();}});});}document[_0x5617bd(0x159)](_0x5617bd(0x19e),()=>{const _0x2e85f8=_0x5617bd,_0x5683a7={'bRDpy':_0x2e85f8(0x303),'RcskY':function(_0x541862){return _0x541862();},'WIhSJ':_0x2e85f8(0x12a)},_0x306277=document[_0x2e85f8(0x327)](_0x5683a7['WIhSJ']);_0x306277&&_0x306277[_0x2e85f8(0x159)](_0x2e85f8(0x270),function(_0x5180e4){const _0x330a4f=_0x2e85f8;_0x5180e4[_0x330a4f(0x22e)]===_0x5683a7[_0x330a4f(0x1ab)]&&(_0x5180e4['preventDefault'](),_0x5683a7[_0x330a4f(0x1cd)](sendMessage));});});function showScreen(_0x33d919){const _0x5f1267=_0x5617bd,_0x5858aa={'bzQIf':_0x5f1267(0x275),'faAYd':_0x5f1267(0x114),'IIQGf':'passwordScreen','gFute':_0x5f1267(0x30a),'BItIK':_0x5f1267(0x2af),'DCrhP':_0x5f1267(0x1cb),'Fnjfs':_0x5f1267(0x121)};[_0x5f1267(0xff),_0x5f1267(0xdd),_0x5858aa[_0x5f1267(0x1ae)],'chatScreen',_0x5858aa[_0x5f1267(0x1b4)],_0x5858aa[_0x5f1267(0x1d2)],_0x5858aa[_0x5f1267(0x140)],_0x5858aa['DCrhP'],_0x5f1267(0x219)]['forEach'](_0x340ca0=>{const _0xe96ae7=_0x5f1267;document[_0xe96ae7(0x327)](_0x340ca0)['style'][_0xe96ae7(0x10b)]=_0x5858aa[_0xe96ae7(0x336)];}),document[_0x5f1267(0x327)](_0x33d919)[_0x5f1267(0x2d7)][_0x5f1267(0x10b)]=_0x5858aa[_0x5f1267(0x1b3)];}function genRoomCode(){const _0x30a7a6=_0x5617bd,_0x5a8156={'vhQJL':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','InCUX':_0x30a7a6(0x2c3),'jVEWR':function(_0x47fec0,_0x44a53d){return _0x47fec0+_0x44a53d;},'eQqCE':function(_0x22d003,_0x2f52dd){return _0x22d003+_0x2f52dd;},'HWjYG':function(_0x525e6f,_0x5e7bb1,_0x35ba5e){return _0x525e6f(_0x5e7bb1,_0x35ba5e);},'RJybX':function(_0x422ef3,_0x1044ff,_0x1c5abb){return _0x422ef3(_0x1044ff,_0x1c5abb);}},_0x3d25ad=_0x5a8156[_0x30a7a6(0x2b5)],_0x6a8f9d=_0x5a8156[_0x30a7a6(0x27a)],_0x1c85fd=(_0x17490d,_0x426903)=>Array[_0x30a7a6(0x1fd)]({'length':_0x426903},()=>_0x17490d[Math[_0x30a7a6(0x2f7)](Math[_0x30a7a6(0x323)]()*_0x17490d[_0x30a7a6(0xec)])])[_0x30a7a6(0x1ca)]('');return _0x5a8156[_0x30a7a6(0x1d0)](_0x5a8156[_0x30a7a6(0x235)](_0x5a8156[_0x30a7a6(0x235)](_0x5a8156[_0x30a7a6(0x1ec)](_0x1c85fd,_0x6a8f9d,0x3),_0x5a8156['HWjYG'](_0x1c85fd,_0x3d25ad,0x3)),_0x5a8156[_0x30a7a6(0x2ef)](_0x1c85fd,_0x6a8f9d,0x2)),_0x1c85fd(_0x3d25ad,0x2));}function startInactivityTimer(){const _0x28761c=_0x5617bd,_0x48cdae={'OjFFt':function(_0x5f44ce,_0x19d19d){return _0x5f44ce>_0x19d19d;},'jYdio':function(_0x430343,_0x199f17){return _0x430343-_0x199f17;},'RJlze':function(_0x534537,_0x270791){return _0x534537*_0x270791;},'iFfdW':function(_0x4d5158,_0x34f44e){return _0x4d5158!==_0x34f44e;},'HPxUV':function(_0x2ba429,_0x27d90b){return _0x2ba429+_0x27d90b;},'maRsS':'rooms/','zYFgb':_0x28761c(0x1bd),'yJdva':function(_0x659800,_0x296f9f,_0x2abe41){return _0x659800(_0x296f9f,_0x2abe41);}};_0x48cdae[_0x28761c(0x18a)](setInterval,()=>{const _0x5d7f2f=_0x28761c;_0x48cdae[_0x5d7f2f(0x241)](_0x48cdae[_0x5d7f2f(0x316)](Date[_0x5d7f2f(0x2c1)](),lastActivity),_0x48cdae[_0x5d7f2f(0x109)](0x5*0x3c,0x3e8))&&_0x48cdae[_0x5d7f2f(0x1b2)](roomCode,STATIC_ROOM)&&(db[_0x5d7f2f(0x15e)](_0x48cdae['HPxUV'](_0x48cdae['maRsS'],roomCode))[_0x5d7f2f(0x117)]({'active':![]}),alert(_0x48cdae['zYFgb']),location[_0x5d7f2f(0x31c)]());},0x7530);}function setupSidebarBackHandler(){const _0x239aad=_0x5617bd,_0x4ee5f8={'BZMdP':_0x239aad(0x216),'IKTqE':'show'};window[_0x239aad(0x159)](_0x239aad(0x185),()=>{const _0xb38d9e=_0x239aad,_0x5792a0=document[_0xb38d9e(0x327)](_0x4ee5f8[_0xb38d9e(0x152)]);_0x5792a0?.[_0xb38d9e(0xe5)][_0xb38d9e(0x208)](_0x4ee5f8['IKTqE'])&&_0x5792a0[_0xb38d9e(0xe5)]['remove'](_0x4ee5f8[_0xb38d9e(0x18e)]);});}function toggleSidebar(){const _0x2f4003=_0x5617bd,_0x1fbb36={'fPwLT':_0x2f4003(0x216),'RyFlA':_0x2f4003(0x2bc)},_0x507375=document[_0x2f4003(0x327)](_0x1fbb36[_0x2f4003(0x1b7)]);if(!_0x507375[_0x2f4003(0xe5)]['contains'](_0x1fbb36[_0x2f4003(0x10a)]))_0x507375['classList']['add'](_0x1fbb36[_0x2f4003(0x10a)]),history[_0x2f4003(0x1e2)]({'sidebarOpen':!![]},'');else{_0x507375[_0x2f4003(0xe5)][_0x2f4003(0x204)](_0x1fbb36[_0x2f4003(0x10a)]);if(history[_0x2f4003(0x1da)]?.[_0x2f4003(0x194)])history['back']();}}function setupVisibilityAttention(){const _0x5d39ea=_0x5617bd;let _0x446856=0x0,_0x2bed32=document[_0x5d39ea(0x229)];document[_0x5d39ea(0x159)](_0x5d39ea(0x1a6),()=>{const _0x55e20e=_0x5d39ea;!document[_0x55e20e(0x238)]&&(document[_0x55e20e(0x229)]=_0x2bed32,_0x446856=0x0);}),window['flagPageAttention']=function(){const _0x5040de=_0x5d39ea;document[_0x5040de(0x238)]&&(_0x446856++,document[_0x5040de(0x229)]='('+_0x446856+_0x5040de(0x170)+_0x2bed32);};}function tryEditProfile(){const _0xc55aa7=_0x5617bd,_0x3b7f26={'SPLLY':'flex'};document[_0xc55aa7(0x327)]('editProfileScreen')[_0xc55aa7(0x2d7)]['display']=_0x3b7f26[_0xc55aa7(0x340)];}async function submitEditProfile(){const _0x2ea167=_0x5617bd,_0x1cccd3={'pkhdx':_0x2ea167(0x2d0),'OKhGi':'newPasswordInput','WrlhR':_0x2ea167(0x2ea),'aDzvQ':_0x2ea167(0x154),'hZEOE':_0x2ea167(0x1a3),'POXeL':function(_0x345b98,_0x41aaa4){return _0x345b98(_0x41aaa4);},'KcDNt':_0x2ea167(0xd7),'uHrvZ':function(_0x118c00,_0x38cb89){return _0x118c00(_0x38cb89);},'YafDn':function(_0x1d8eab,_0x5b3b86){return _0x1d8eab!==_0x5b3b86;},'gspGz':_0x2ea167(0x33c),'jbCPC':function(_0x245b68,_0x4571f0){return _0x245b68*_0x4571f0;},'ZXFMn':function(_0x57d4dc,_0x5a15b6){return _0x57d4dc*_0x5a15b6;},'qYYkd':function(_0x36576e,_0xc16ffb){return _0x36576e-_0xc16ffb;},'HBOhU':_0x2ea167(0x14c),'KnOXe':function(_0x1cbefa,_0x2d537d){return _0x1cbefa!==_0x2d537d;},'LXYKA':function(_0x479dd6,_0x3af726){return _0x479dd6(_0x3af726);},'Drbel':_0x2ea167(0x123)},_0xca5eed=document['getElementById'](_0x1cccd3['pkhdx'])[_0x2ea167(0x161)],_0x2b5d9c=document[_0x2ea167(0x327)](_0x1cccd3[_0x2ea167(0x13a)])[_0x2ea167(0x161)],_0x5d960c=document['getElementById'](_0x1cccd3[_0x2ea167(0x168)])[_0x2ea167(0x161)][_0x2ea167(0xcf)](),_0x5a02b3=document[_0x2ea167(0x327)](_0x1cccd3[_0x2ea167(0x111)]);if(!_0xca5eed){_0x5a02b3['innerText']=_0x2ea167(0x13f),_0x5a02b3[_0x2ea167(0x2d7)][_0x2ea167(0x10b)]=_0x1cccd3[_0x2ea167(0x10f)];return;}const _0x2117ab=_0x1cccd3[_0x2ea167(0x26d)](sanitizeUsername,username),_0x161f6e=await db['ref'](_0x2ea167(0xc5)+_0x2117ab)[_0x2ea167(0x134)]();if(!_0x161f6e[_0x2ea167(0x1d6)]()){_0x5a02b3[_0x2ea167(0x177)]=_0x1cccd3[_0x2ea167(0xc7)],_0x5a02b3[_0x2ea167(0x2d7)][_0x2ea167(0x10b)]=_0x1cccd3[_0x2ea167(0x10f)];return;}const _0x3feef8=_0x161f6e['val'](),_0x2418a2=await _0x1cccd3['uHrvZ'](sha256,_0xca5eed);if(_0x1cccd3[_0x2ea167(0x262)](_0x2418a2,_0x3feef8[_0x2ea167(0x24f)])){_0x5a02b3[_0x2ea167(0x177)]=_0x1cccd3[_0x2ea167(0x222)],_0x5a02b3[_0x2ea167(0x2d7)][_0x2ea167(0x10b)]=_0x2ea167(0x1a3);return;}const _0x4a8088={};if(_0x2b5d9c){const _0x2b0c5c=await _0x1cccd3[_0x2ea167(0x26d)](sha256,_0x2b5d9c);_0x4a8088['passwordHash']=_0x2b0c5c;}_0x5d960c!==_0x3feef8[_0x2ea167(0x248)]&&(_0x4a8088[_0x2ea167(0x248)]=_0x5d960c);const _0xfb50e9=Date[_0x2ea167(0x2c1)](),_0x1d4090=_0x1cccd3[_0x2ea167(0x120)](_0x1cccd3[_0x2ea167(0x175)](_0x1cccd3[_0x2ea167(0x175)](0x18,0x3c),0x3c),0x3e8),_0x31d746=_0x1cccd3[_0x2ea167(0x156)](_0xfb50e9,_0x3feef8['lastChanged']||0x0)>_0x1d4090;if(_0x31d746&&_0x1cccd3[_0x2ea167(0x16e)](confirm,_0x1cccd3[_0x2ea167(0x1d5)])){const _0x31c2ad=prompt(_0x2ea167(0x162));_0x31c2ad&&_0x31c2ad['trim']()&&(_0x4a8088[_0x2ea167(0x1cf)]=_0x31c2ad['trim'](),_0x4a8088[_0x2ea167(0x11a)]=(_0x3feef8[_0x2ea167(0x11a)]||[])['concat'](_0x31c2ad[_0x2ea167(0xcf)]()),_0x4a8088[_0x2ea167(0x186)]=_0xfb50e9);}_0x4a8088[_0x2ea167(0x1cf)]&&_0x1cccd3[_0x2ea167(0x313)](_0x4a8088[_0x2ea167(0x1cf)],_0x3feef8['username'])?(await db[_0x2ea167(0x15e)](_0x2ea167(0xc5)+_0x1cccd3[_0x2ea167(0x280)](sanitizeUsername,_0x4a8088[_0x2ea167(0x1cf)]))[_0x2ea167(0x315)]({..._0x3feef8,..._0x4a8088}),await db[_0x2ea167(0x15e)](_0x2ea167(0xc5)+_0x2117ab)['remove'](),username=_0x4a8088['username']):await db[_0x2ea167(0x15e)]('auth/'+_0x2117ab)[_0x2ea167(0x117)](_0x4a8088),_0x1cccd3[_0x2ea167(0x26d)](alert,_0x1cccd3[_0x2ea167(0x1e4)]),location['reload']();}function cancelEditProfile(){const _0x5312cc=_0x5617bd,_0x306bb0={'FHkNw':_0x5312cc(0x219),'lWVKK':'none','xTwih':function(_0x163802,_0x4d1914){return _0x163802(_0x4d1914);},'tLIfd':_0x5312cc(0x27d)};document[_0x5312cc(0x327)](_0x306bb0[_0x5312cc(0xcc)])[_0x5312cc(0x2d7)][_0x5312cc(0x10b)]=_0x306bb0['lWVKK'],_0x306bb0[_0x5312cc(0x180)](showScreen,_0x306bb0[_0x5312cc(0x2b9)]);}function listenForUserList(){const _0x4d0d3b=_0x5617bd,_0x3de57e={'ewbgM':function(_0x30c3ec,_0x340899){return _0x30c3ec(_0x340899);},'AiafC':function(_0x92365c,_0x3dc8d8){return _0x92365c||_0x3dc8d8;}};db[_0x4d0d3b(0x15e)](_0x4d0d3b(0x11b)+roomCode)['on'](_0x4d0d3b(0x161),async _0x27ae97=>{const _0x3536c6=_0x4d0d3b;if(!_0x27ae97[_0x3536c6(0x1d6)]())return;const _0x22c8bb=_0x27ae97[_0x3536c6(0x231)]();await loadRoomRoles(),_0x3de57e[_0x3536c6(0xea)](renderUserLists,_0x22c8bb);let _0x23e1f0=Object[_0x3536c6(0x265)](roomUsers||{}),_0x542c09=Object['keys'](_0x3de57e[_0x3536c6(0x153)](_0x22c8bb,{}));const _0x556307=_0x542c09[_0x3536c6(0x133)](_0x2a10c3=>!_0x23e1f0[_0x3536c6(0x31b)](_0x2a10c3)),_0x35b7d5=_0x23e1f0[_0x3536c6(0x133)](_0xac93d4=>!_0x542c09[_0x3536c6(0x31b)](_0xac93d4));_0x556307['forEach'](_0x58e9e2=>addSystemMessage(_0x58e9e2+'\x20joined\x20the\x20chat')),_0x35b7d5[_0x3536c6(0x2da)](_0x252f44=>addSystemMessage(_0x252f44+_0x3536c6(0x143)));});}function trackPresence(){const _0x1b85cd=_0x5617bd,_0x435dba={'YtrkJ':function(_0x59ec52){return _0x59ec52();},'wgodD':function(_0x21984c,_0x255c7e){return _0x21984c||_0x255c7e;},'EqaQd':function(_0xcc9e5a,_0x106e68){return _0xcc9e5a||_0x106e68;},'TzVDL':_0x1b85cd(0x161)};if(!username||!roomCode)return;const _0x5bea15=sanitizeUsername(username),_0x2ddea2=db[_0x1b85cd(0x15e)](_0x1b85cd(0x11b)+roomCode+'/'+_0x5bea15),_0x1c7339={'username':username,'avatarBase64':_0x435dba[_0x1b85cd(0x14f)](avatarBase64,''),'description':_0x435dba[_0x1b85cd(0x2e3)](userDescription,''),'online':!![],'lastOnline':firebase[_0x1b85cd(0x26f)][_0x1b85cd(0x1ac)][_0x1b85cd(0x2fc)]};db[_0x1b85cd(0x15e)]('admins/'+roomCode+'/'+_0x5bea15)[_0x1b85cd(0x30b)](_0x435dba[_0x1b85cd(0x206)])['then'](_0x3ea149=>{const _0x48145b=_0x1b85cd;_0x3ea149[_0x48145b(0x1d6)]()&&(_0x1c7339['admin']=!![]),_0x2ddea2[_0x48145b(0x315)](_0x1c7339),_0x2ddea2[_0x48145b(0x32d)]()[_0x48145b(0x117)]({'online':![],'lastOnline':Date['now']()}),_0x435dba['YtrkJ'](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x43b968){const _0x4af582=_0x5617bd,_0x1d8978={'TNTFQ':_0x4af582(0x1c3),'wSjsK':_0x4af582(0x1a3),'ltnyX':function(_0x5546f3,_0xdcaa3){return _0x5546f3(_0xdcaa3);},'hbkSx':function(_0x53e383,_0x32d40f){return _0x53e383(_0x32d40f);},'bYGgr':_0x4af582(0x291),'yhlVk':'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.'};if(!_0x43b968[_0x4af582(0x26c)][_0x4af582(0xec)])return;const _0x1ae45f=_0x43b968['files'][0x0],_0xea79a4=new FileReader();_0xea79a4['onloadend']=async()=>{const _0x53c5db=_0x4af582,_0x4a6ccf=_0xea79a4[_0x53c5db(0x2cb)][_0x53c5db(0x1ed)](',')[0x1];document['getElementById'](_0x1d8978[_0x53c5db(0x294)])[_0x53c5db(0x31d)]=_0xea79a4[_0x53c5db(0x2cb)],document[_0x53c5db(0x327)](_0x1d8978[_0x53c5db(0x294)])[_0x53c5db(0x2d7)][_0x53c5db(0x10b)]=_0x1d8978[_0x53c5db(0x2ed)];try{const _0x286434=_0x1d8978[_0x53c5db(0x23c)](sanitizeUsername,username);await db['ref'](_0x53c5db(0xc5)+_0x286434+_0x53c5db(0x1fe))[_0x53c5db(0x315)](_0x4a6ccf),_0x1d8978[_0x53c5db(0x135)](alert,_0x1d8978[_0x53c5db(0xd1)]);}catch(_0x55df28){console[_0x53c5db(0x22a)](_0x55df28),alert(_0x1d8978[_0x53c5db(0x191)]);}},_0xea79a4[_0x4af582(0xc4)](_0x1ae45f);}function muteUser(_0x2cc51b,_0x46345c){const _0x2aa041=_0x5617bd,_0x12d203={'xhLqI':function(_0xfa2f2d,_0x5718e7){return _0xfa2f2d(_0x5718e7);},'qGArK':_0x2aa041(0x1e3),'ZNrpR':function(_0x49571e,_0x3038bb){return _0x49571e(_0x3038bb);},'qBmKp':_0x2aa041(0x344),'hYlVk':function(_0x2838fa,_0x5aae39){return _0x2838fa+_0x5aae39;},'kgYoM':function(_0x2e8390,_0x443788){return _0x2e8390*_0x443788;},'lOvAZ':function(_0x11964a,_0x372c5d){return _0x11964a*_0x372c5d;}};if(_0x12d203[_0x2aa041(0x332)](isProtected,_0x12d203['xhLqI'](sanitizeUsername,_0x2cc51b)))return _0x12d203[_0x2aa041(0x332)](alert,_0x12d203['qGArK']);if(!isRoomAdmin)return _0x12d203[_0x2aa041(0x2f8)](alert,_0x12d203[_0x2aa041(0x105)]);const _0x342bdc=_0x12d203['hYlVk'](Date[_0x2aa041(0x2c1)](),_0x12d203[_0x2aa041(0x1aa)](_0x12d203[_0x2aa041(0x144)](_0x46345c,0x3c),0x3e8));db[_0x2aa041(0x15e)]('muted/'+roomCode+'/'+_0x12d203[_0x2aa041(0x332)](sanitizeUsername,_0x2cc51b))[_0x2aa041(0x315)](_0x342bdc);}function unmuteUser(_0x3306b2){const _0x385783=_0x5617bd,_0x25fba4={'XndMO':function(_0x268b32,_0x4f42c2){return _0x268b32(_0x4f42c2);},'ZAvMC':_0x385783(0x344)};if(!isRoomAdmin)return _0x25fba4[_0x385783(0x150)](alert,_0x25fba4['ZAvMC']);db[_0x385783(0x15e)](_0x385783(0xe4)+roomCode+'/'+sanitizeUsername(_0x3306b2))[_0x385783(0x204)]();}function updateOnlineIndicator(){const _0x381ad4=_0x5617bd,_0x4c88eb={'wFOtF':_0x381ad4(0x1f0)},_0x4d0f4a=document[_0x381ad4(0x327)](_0x4c88eb[_0x381ad4(0x252)]);_0x4d0f4a[_0x381ad4(0x177)]=_0x381ad4(0x286),_0x4d0f4a['style']['color']=_0x381ad4(0x214);}setInterval(updateOnlineIndicator,0xbb8);function _0x2fff(_0x20d3c0,_0x3a074b){const _0x31a8a3=_0x31a8();return _0x2fff=function(_0x2fff4d,_0x1f23ce){_0x2fff4d=_0x2fff4d-0xc3;let _0x291d33=_0x31a8a3[_0x2fff4d];return _0x291d33;},_0x2fff(_0x20d3c0,_0x3a074b);}function viewProfile(_0x38419b){const _0x59ce70=_0x5617bd,_0x33bd7b={'dMnuI':function(_0x277234,_0x47f2ad){return _0x277234(_0x47f2ad);},'iZqRr':_0x59ce70(0xd7),'ZrLZR':_0x59ce70(0x2db),'sjsJv':'No\x20changes\x20yet','Meohg':'Unknown','fyVXQ':_0x59ce70(0x2af),'IYKmd':'block'};db[_0x59ce70(0x15e)](_0x59ce70(0xc5)+_0x38419b)[_0x59ce70(0x134)]()[_0x59ce70(0x10c)](_0x13a050=>{const _0x4eddd0=_0x59ce70;if(!_0x13a050['exists']())return _0x33bd7b[_0x4eddd0(0x1e7)](alert,_0x33bd7b[_0x4eddd0(0x26e)]);const _0xc8662b=_0x13a050[_0x4eddd0(0x231)](),_0x3797c4=(_0x4eddd0(0x12b)+_0xc8662b[_0x4eddd0(0x1cf)]+_0x4eddd0(0x302)+(_0xc8662b['description']||_0x33bd7b[_0x4eddd0(0x1cc)])+_0x4eddd0(0x171)+((_0xc8662b['usernameHistory']||[])[_0x4eddd0(0x1ca)](',\x20')||_0x33bd7b[_0x4eddd0(0x2c2)])+_0x4eddd0(0x24d)+(_0xc8662b[_0x4eddd0(0x186)]?new Date(_0xc8662b[_0x4eddd0(0x186)])[_0x4eddd0(0xdc)]():_0x33bd7b['Meohg'])+_0x4eddd0(0x31e))['trim']();document[_0x4eddd0(0x327)](_0x4eddd0(0x2d5))[_0x4eddd0(0x177)]=_0x3797c4,document[_0x4eddd0(0x327)](_0x33bd7b[_0x4eddd0(0x276)])[_0x4eddd0(0x2d7)][_0x4eddd0(0x10b)]=_0x33bd7b[_0x4eddd0(0x21b)];});}function initUsernameFlow(){const _0x19b636=_0x5617bd,_0x227165={'aqIIE':_0x19b636(0x234),'PPxnz':function(_0x25bc63,_0x1f0e2e){return _0x25bc63(_0x1f0e2e);},'BtPbW':'profileScreen','jEFCi':function(_0x42fa40,_0x248dc8){return _0x42fa40(_0x248dc8);},'OQasI':_0x19b636(0xdd)},_0x5ee69d=localStorage[_0x19b636(0x2e4)](_0x227165['aqIIE']);!_0x5ee69d?_0x227165[_0x19b636(0x1e6)](showScreen,_0x227165[_0x19b636(0x2cc)]):(username=_0x5ee69d,document[_0x19b636(0x327)](_0x19b636(0xd5))['innerText']=username,_0x227165[_0x19b636(0xef)](showScreen,_0x227165['OQasI']));}function closeProfile(){const _0x143b92=_0x5617bd,_0x46ae9b={'BZFil':_0x143b92(0x2af),'fkcCK':_0x143b92(0x275)};document[_0x143b92(0x327)](_0x46ae9b['BZFil'])[_0x143b92(0x2d7)][_0x143b92(0x10b)]=_0x46ae9b[_0x143b92(0x21c)];}function resetWebsiteData(){const _0x2b7c33=_0x5617bd,_0x5195e1={'HXtwp':_0x2b7c33(0x217),'Umnuy':function(_0x174ce2,_0x2c4c8f){return _0x174ce2+_0x2c4c8f;}};try{const _0x323d3a=localStorage['getItem'](_0x5195e1[_0x2b7c33(0x15d)]);localStorage[_0x2b7c33(0x15f)](),sessionStorage[_0x2b7c33(0x15f)](),_0x323d3a&&localStorage['setItem'](_0x5195e1[_0x2b7c33(0x15d)],_0x323d3a);}catch(_0x27fd2a){}(!username||!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x5195e1[_0x2b7c33(0xf1)]('_',Math[_0x2b7c33(0x323)]()[_0x2b7c33(0x2b6)](0x24)[_0x2b7c33(0xed)](0x2,0x9)));}function addAnnouncement(){const _0x57f319=_0x5617bd,_0x571eeb={'kliwP':function(_0x3c2474,_0x3acb51){return _0x3c2474(_0x3acb51);}},_0x38b93d=_0x571eeb[_0x57f319(0x273)](prompt,_0x57f319(0x253));if(!_0x38b93d)return;db['ref'](_0x57f319(0x2e6)+roomCode+_0x57f319(0x239))[_0x57f319(0x315)]({'text':_0x38b93d,'by':username,'timestamp':Date[_0x57f319(0x2c1)]()});}function listenForAnnouncement(){const _0x324710=_0x5617bd,_0x462e93={'ELPpq':_0x324710(0x296),'PGiLC':'value'},_0x2b9091=db[_0x324710(0x15e)](_0x324710(0x2e6)+roomCode+'/announcement');_0x2b9091['on'](_0x462e93[_0x324710(0x13b)],_0x2ed8fd=>{const _0x6290df=_0x324710,_0x1059a1=_0x2ed8fd['val']();if(!_0x1059a1){document[_0x6290df(0x327)](_0x462e93['ELPpq'])['innerText']='';return;}const _0x3ceef9=document['getElementById'](_0x6290df(0x296));_0x3ceef9[_0x6290df(0x177)]=''+_0x1059a1['text'];});}document[_0x5617bd(0x327)]('announcementArea')[_0x5617bd(0x159)](_0x5617bd(0x224),_0x4c99db=>{const _0x31ebd2=_0x5617bd;_0x4c99db['detail']===0x3&&isRoomAdmin&&(confirm(_0x31ebd2(0x106))&&db[_0x31ebd2(0x15e)]('rooms/'+roomCode+_0x31ebd2(0x239))[_0x31ebd2(0x204)]());}),document[_0x5617bd(0x327)](_0x5617bd(0x12a))['addEventListener'](_0x5617bd(0x1a5),()=>{const _0x221409=_0x5617bd,_0x572a0d={'Loiwq':_0x221409(0x12a),'ZprTe':_0x221409(0x1e9)},_0x19cf18=document[_0x221409(0x327)](_0x572a0d[_0x221409(0x342)]);_0x46427b?_0x19cf18[_0x221409(0x2d7)][_0x221409(0x15b)]=_0x572a0d['ZprTe']:_0x19cf18['style'][_0x221409(0x15b)]='';const _0x54140c=_0x19cf18[_0x221409(0x161)][_0x221409(0x285)](),_0x46427b=swearWords[_0x221409(0x2c4)](_0x22137f=>_0x54140c[_0x221409(0x31b)](_0x22137f));_0x46427b?(_0x19cf18[_0x221409(0x2d7)][_0x221409(0x15b)]=_0x572a0d[_0x221409(0x2ca)],sendBtn[_0x221409(0x2cd)]=!![]):(_0x19cf18['style']['border']='',_0x46427b?_0x19cf18[_0x221409(0x2d7)]['border']=_0x572a0d[_0x221409(0x2ca)]:_0x19cf18['style'][_0x221409(0x15b)]='');});function muteUser(_0x130fb7,_0x1f13c2){const _0x22a685=_0x5617bd,_0x26ad19={'ZMKpU':function(_0x12e1cc,_0x3e6b72){return _0x12e1cc(_0x3e6b72);},'HcUqt':function(_0x383002,_0x21054b){return _0x383002*_0x21054b;},'KWMyy':function(_0x2657fc,_0x3ea30a){return _0x2657fc(_0x3ea30a);}},_0x278446=Date[_0x22a685(0x2c1)]()+_0x26ad19[_0x22a685(0x1ad)](_0x26ad19['HcUqt'](_0x1f13c2,0x3c),0x3e8);db[_0x22a685(0x15e)](_0x22a685(0xe4)+roomCode+'/'+_0x26ad19[_0x22a685(0x184)](sanitizeUsername,_0x130fb7))['set']({'muteUntil':_0x278446})[_0x22a685(0x10c)](()=>{const _0x24b6d5=_0x22a685;_0x26ad19[_0x24b6d5(0x1a0)](alert,_0x130fb7+_0x24b6d5(0x17e)+_0x1f13c2+_0x24b6d5(0x321));});}function deleteUserMessages(_0x2f1c58){const _0x5212fe=_0x5617bd,_0x34f929={'gnNVu':function(_0x3973d7,_0x32adcb){return _0x3973d7(_0x32adcb);},'JFoAV':_0x5212fe(0xfc)};db[_0x5212fe(0x15e)](_0x5212fe(0x2e6)+roomCode+_0x5212fe(0x320))[_0x5212fe(0xd2)](_0x34f929['JFoAV'])[_0x5212fe(0x23e)](_0x2f1c58)[_0x5212fe(0x134)]()['then'](_0x163efd=>{const _0x46ade0=_0x5212fe;_0x163efd[_0x46ade0(0x2da)](_0x27dbc8=>{const _0x760539=_0x46ade0;db[_0x760539(0x15e)](_0x760539(0x2e6)+roomCode+_0x760539(0x19d)+_0x27dbc8['key'])[_0x760539(0x204)]();}),_0x34f929['gnNVu'](alert,_0x46ade0(0x2ac)+_0x2f1c58+_0x46ade0(0x21d));});}function pauseRoom(_0x54abdf){const _0x28f191=_0x5617bd,_0x373671={'CpRNA':'pausedOverlay','nGUKj':'block','sticR':_0x28f191(0x275),'NhlQi':_0x28f191(0x161)};db['ref'](_0x28f191(0x2e6)+roomCode+_0x28f191(0x247))['on'](_0x373671[_0x28f191(0x1d8)],_0x34fb85=>{const _0x24d8e2=_0x28f191,_0x1e640a=_0x34fb85['val']();document[_0x24d8e2(0x327)](_0x373671[_0x24d8e2(0x2e7)])['style'][_0x24d8e2(0x10b)]=_0x1e640a?_0x373671[_0x24d8e2(0x330)]:_0x373671[_0x24d8e2(0x299)];});}function canPerformAction(_0x166438){const _0x390962=_0x5617bd,_0x53b24f={'oVlmX':function(_0x51f991,_0x29018e){return _0x51f991===_0x29018e;},'DWnww':_0x390962(0x21a),'nGsRW':function(_0x164bd0,_0x5745c5){return _0x164bd0===_0x5745c5;},'BEvJA':_0x390962(0x28c),'cVLOm':function(_0x20022a,_0x1d6b3a){return _0x20022a===_0x1d6b3a;},'KUdIP':_0x390962(0x11c),'AxDyn':function(_0x1d2657,_0x2df645){return _0x1d2657===_0x2df645;},'MvaSd':'admin','RjPZm':function(_0x2dc4a7,_0x4c2d91){return _0x2dc4a7===_0x4c2d91;},'IFmbA':_0x390962(0x29f),'eOHvP':_0x390962(0x1d7)};if(_0x53b24f[_0x390962(0x195)](role,_0x53b24f[_0x390962(0xe8)]))return!![];if(_0x53b24f[_0x390962(0x2f0)](_0x166438,_0x53b24f[_0x390962(0x1f7)])||_0x53b24f[_0x390962(0x2b7)](_0x166438,_0x53b24f[_0x390962(0x1de)]))return _0x53b24f['AxDyn'](role,_0x53b24f[_0x390962(0x1fc)])||_0x53b24f[_0x390962(0x24e)](role,_0x53b24f['IFmbA']);if(_0x53b24f[_0x390962(0x2f0)](_0x166438,_0x53b24f[_0x390962(0x16f)]))return _0x53b24f['cVLOm'](role,_0x390962(0x29e));return![];}const html=Object[_0x5617bd(0x23b)](roomUsers)[_0x5617bd(0x2d4)](_0x510580=>{const _0x95378b=_0x5617bd,_0x58cc2f={'kbXbq':function(_0x25e9fc,_0x2b37de){return _0x25e9fc(_0x2b37de);},'JENxo':function(_0x435d1b,_0x3b43ec){return _0x435d1b(_0x3b43ec);},'KMIBx':_0x95378b(0x28c),'QhBar':'deleteMessage','UdPOT':function(_0xff026a,_0x230ce3){return _0xff026a===_0x230ce3;},'juhZN':'dev','oEVdh':function(_0x50d1ee,_0x223c82){return _0x50d1ee===_0x223c82;},'QMLuU':_0x95378b(0x29e),'PckFH':function(_0x17790a,_0x735adc){return _0x17790a(_0x735adc);},'rNSed':function(_0xcf55f8,_0x7de14a){return _0xcf55f8(_0x7de14a);}},_0x4fc834=_0x58cc2f[_0x95378b(0x187)](sanitizeUsername,_0x510580[_0x95378b(0x1cf)]),_0x4347a0=[];if(_0x4fc834!==_0x58cc2f[_0x95378b(0x187)](sanitizeUsername,username)){_0x58cc2f['JENxo'](canPerformAction,_0x58cc2f['KMIBx'])&&(_0x4347a0[_0x95378b(0x2a6)](_0x95378b(0x33d)+_0x4fc834+_0x95378b(0xcd)),_0x4347a0['push']('<button\x20onclick=\x22muteUser(\x27'+_0x4fc834+_0x95378b(0x1f5)));_0x58cc2f['kbXbq'](canPerformAction,_0x58cc2f[_0x95378b(0x202)])&&_0x4347a0[_0x95378b(0x2a6)](_0x95378b(0x197)+_0x4fc834+_0x95378b(0x27c));if(_0x58cc2f[_0x95378b(0xf7)](role,_0x58cc2f[_0x95378b(0x1c6)]))_0x4347a0[_0x95378b(0x2a6)](_0x95378b(0x210)+_0x4fc834+_0x95378b(0x28a)),_0x4347a0[_0x95378b(0x2a6)](_0x95378b(0x1ea)+_0x4fc834+_0x95378b(0x176));else _0x58cc2f[_0x95378b(0x30d)](role,_0x58cc2f[_0x95378b(0xf9)])&&_0x4347a0[_0x95378b(0x2a6)](_0x95378b(0x210)+_0x4fc834+_0x95378b(0x28a));}return _0x95378b(0x124)+_0x510580['username']+'\x20'+_0x58cc2f['PckFH'](getRoleTag,_0x58cc2f[_0x95378b(0x2fb)](sanitizeUsername,_0x510580[_0x95378b(0x1cf)]))+_0x95378b(0xe2)+_0x4fc834+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4347a0[_0x95378b(0x1ca)]('')+_0x95378b(0x136)+_0x4fc834+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>';})['join']('');function promoteToModerator(_0x3276c3){const _0x13fcf9=_0x5617bd,_0x11c5f5={'AvjCI':function(_0x16d146,_0x51f26b){return _0x16d146(_0x51f26b);},'Ylmra':function(_0x33ce14,_0x38036a){return _0x33ce14(_0x38036a);},'cYFcj':function(_0x2f9f7b,_0x37ec83){return _0x2f9f7b(_0x37ec83);},'NZVyi':'üö´\x20Cannot\x20promote\x20Developers.','TrQJx':function(_0x2a704f,_0x6e82a1){return _0x2a704f!==_0x6e82a1;},'WLlXz':_0x13fcf9(0x21a),'euacw':function(_0x2a3576,_0x5e4bde){return _0x2a3576!==_0x5e4bde;},'sAffk':_0x13fcf9(0x29e),'KCefF':'Only\x20Devs\x20or\x20Admins\x20can\x20promote.'},_0x2d1829=_0x11c5f5[_0x13fcf9(0x25d)](sanitizeUsername,_0x3276c3);if(_0x11c5f5[_0x13fcf9(0x112)](isProtected,_0x2d1829))return alert(_0x11c5f5[_0x13fcf9(0x1b1)]);if(_0x11c5f5[_0x13fcf9(0x2ae)](role,_0x11c5f5[_0x13fcf9(0x21e)])&&_0x11c5f5[_0x13fcf9(0x2c6)](role,_0x11c5f5[_0x13fcf9(0x10e)])){_0x11c5f5[_0x13fcf9(0x112)](alert,_0x11c5f5['KCefF']);return;}db[_0x13fcf9(0x15e)]('moderators/'+roomCode+'/'+_0x2d1829)[_0x13fcf9(0x315)](!![])[_0x13fcf9(0x10c)](()=>{const _0x4ebdf9=_0x13fcf9;_0x11c5f5[_0x4ebdf9(0x157)](alert,_0x3276c3+_0x4ebdf9(0x110)),_0x11c5f5[_0x4ebdf9(0x112)](addSystemMessage,_0x3276c3+_0x4ebdf9(0x31f));});}function promoteToAdmin(_0x259edb){const _0x5eff44=_0x5617bd,_0x598abe={'DtMCw':function(_0x2956c6,_0x2819d6){return _0x2956c6(_0x2819d6);},'fbZZh':function(_0x142f0a,_0x141548){return _0x142f0a(_0x141548);},'OMSTG':_0x5eff44(0xc3),'kXUdh':function(_0x229e05,_0x1da55d){return _0x229e05!==_0x1da55d;},'PFKiP':_0x5eff44(0x21a),'dipox':function(_0x34e1a7,_0x28681c){return _0x34e1a7(_0x28681c);},'QyJPW':'Only\x20Devs\x20can\x20promote\x20to\x20Admin.'},_0x4a477e=_0x598abe[_0x5eff44(0x1d9)](sanitizeUsername,_0x259edb);if(_0x598abe[_0x5eff44(0x1d9)](isProtected,_0x4a477e))return _0x598abe['fbZZh'](alert,_0x598abe[_0x5eff44(0x13e)]);if(_0x598abe[_0x5eff44(0x1f6)](role,_0x598abe[_0x5eff44(0x1e0)])){_0x598abe[_0x5eff44(0x1f1)](alert,_0x598abe['QyJPW']);return;}db[_0x5eff44(0x15e)](_0x5eff44(0x2f3)+roomCode+'/'+_0x4a477e)[_0x5eff44(0x315)](!![])[_0x5eff44(0x10c)](()=>{const _0xff64d9=_0x5eff44;alert(_0x259edb+_0xff64d9(0xf2)),_0x598abe[_0xff64d9(0x337)](addSystemMessage,_0x259edb+_0xff64d9(0x12e));});}function toggleUserOptions(_0x1917df){const _0x167822=_0x5617bd,_0x37eece={'oYXTT':function(_0x51346a,_0x193d0a){return _0x51346a===_0x193d0a;},'HLaVq':_0x167822(0x21a),'xmVgn':_0x167822(0x29e),'mxczA':'none','oYWbr':'block'};(_0x37eece[_0x167822(0xfb)](role,_0x37eece[_0x167822(0x2b0)])||_0x37eece[_0x167822(0xfb)](role,_0x37eece['xmVgn']))&&controls[_0x167822(0x2a6)](_0x167822(0x260)+safeName+_0x167822(0xd4));const _0x121a72=document[_0x167822(0x327)](_0x167822(0x1d3)+_0x1917df);_0x37eece['oYXTT'](_0x121a72[_0x167822(0x2d7)][_0x167822(0x10b)],_0x37eece[_0x167822(0x102)])?_0x121a72[_0x167822(0x2d7)][_0x167822(0x10b)]=_0x37eece['oYWbr']:_0x121a72['style'][_0x167822(0x10b)]=_0x37eece['mxczA'];}function demoteUser(_0x3f4d2f){const _0x45c48a=_0x5617bd,_0x102a79={'oyaQm':function(_0x23d07a,_0x1943be){return _0x23d07a(_0x1943be);},'OKMsO':function(_0x4a082e,_0x418691){return _0x4a082e(_0x418691);},'qADSq':_0x45c48a(0x328),'tgPmE':_0x45c48a(0x21a),'vSzWD':function(_0x2c1873,_0x3977db){return _0x2c1873===_0x3977db;},'EapFC':_0x45c48a(0x29e),'UGNeR':function(_0x50ee50,_0x5a1b7e){return _0x50ee50(_0x5a1b7e);}};if(_0x102a79[_0x45c48a(0x29c)](isProtected,_0x3f4d2f))return _0x102a79[_0x45c48a(0x325)](alert,_0x102a79[_0x45c48a(0x174)]);if(role===_0x102a79[_0x45c48a(0x218)])db[_0x45c48a(0x15e)](_0x45c48a(0x2f3)+roomCode+'/'+_0x3f4d2f)['remove'](),db[_0x45c48a(0x15e)](_0x45c48a(0x338)+roomCode+'/'+_0x3f4d2f)[_0x45c48a(0x204)](),_0x102a79['oyaQm'](alert,_0x3f4d2f+'\x20demoted\x20to\x20user.');else _0x102a79['vSzWD'](role,_0x102a79[_0x45c48a(0x240)])?(db[_0x45c48a(0x15e)](_0x45c48a(0x338)+roomCode+'/'+_0x3f4d2f)[_0x45c48a(0x204)](),_0x102a79[_0x45c48a(0x325)](alert,_0x3f4d2f+_0x45c48a(0x113))):_0x102a79['UGNeR'](alert,_0x45c48a(0x1ba));}function getRoleTag(_0x4a0071){const _0x2cb634=_0x5617bd,_0x3e1dff={'OqHPJ':function(_0x1b441f,_0x1208da){return _0x1b441f(_0x1208da);}},_0x185b8e=_0x3e1dff[_0x2cb634(0xe0)](sanitizeUsername,_0x4a0071);if(globalDevs['includes'](_0x185b8e))return _0x2cb634(0x305);if(roomAdmins[_0x2cb634(0x31b)](_0x185b8e))return _0x2cb634(0x20a);if(roomModerators['includes'](_0x185b8e))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x4fbb46=_0x5617bd,_0x1f23ba={'VLKbS':function(_0x1642f0,_0x190bdd){return _0x1642f0===_0x190bdd;},'XswDJ':'dev','UVIHT':_0x4fbb46(0x130),'hlDia':_0x4fbb46(0x29e),'WRtNV':_0x4fbb46(0x29f),'ijLBp':_0x4fbb46(0x211)},_0x54ada8=sanitizeUsername(username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x1228a4=await db[_0x4fbb46(0x15e)](_0x1f23ba[_0x4fbb46(0x295)])[_0x4fbb46(0x134)]();_0x1228a4['forEach'](_0x2a4928=>{const _0x43a75e=_0x4fbb46;if(_0x1f23ba['VLKbS'](_0x2a4928[_0x43a75e(0x231)]()[_0x43a75e(0xfe)],_0x1f23ba[_0x43a75e(0xe6)]))globalDevs[_0x43a75e(0x2a6)](_0x2a4928[_0x43a75e(0x22e)]);});const _0x42517b=await db[_0x4fbb46(0x15e)]('admins/'+roomCode)[_0x4fbb46(0x134)]();_0x42517b[_0x4fbb46(0x1d6)]()&&_0x42517b[_0x4fbb46(0x2da)](_0x2a8644=>roomAdmins[_0x4fbb46(0x2a6)](_0x2a8644[_0x4fbb46(0x22e)]));const _0xb2130e=await db[_0x4fbb46(0x15e)](_0x4fbb46(0x338)+roomCode)[_0x4fbb46(0x134)]();_0xb2130e['exists']()&&_0xb2130e['forEach'](_0x40296a=>roomModerators[_0x4fbb46(0x2a6)](_0x40296a[_0x4fbb46(0x22e)]));if(globalDevs[_0x4fbb46(0x31b)](_0x54ada8))role='dev';else{if(roomAdmins[_0x4fbb46(0x31b)](_0x54ada8))role=_0x1f23ba[_0x4fbb46(0x232)];else roomModerators[_0x4fbb46(0x31b)](_0x54ada8)?role=_0x1f23ba[_0x4fbb46(0x188)]:role=_0x1f23ba['ijLBp'];}}async function renderUserLists(_0x12fcc8){const _0x5b694a=_0x5617bd,_0x27b7d7={'Znpjz':function(_0x16d96c,_0x47a72a){return _0x16d96c(_0x47a72a);},'vetJm':function(_0x53e39f,_0x42d837){return _0x53e39f(_0x42d837);},'ceUxw':function(_0xc02cb4,_0x23b60c){return _0xc02cb4(_0x23b60c);},'VZnsA':function(_0xa2cab6,_0x13b830){return _0xa2cab6===_0x13b830;},'epxqx':'dev','ghnxr':_0x5b694a(0x29e),'vtzVl':function(_0x562f5d,_0x1288bd){return _0x562f5d===_0x1288bd;},'YjcpE':function(_0x6bb313,_0x2d3cb8){return _0x6bb313(_0x2d3cb8);},'dwBTq':function(_0x5e7cb4,_0x488a26){return _0x5e7cb4(_0x488a26);},'rOMoy':function(_0x10352c,_0xd55583){return _0x10352c===_0xd55583;},'Awgrg':function(_0x14b13c,_0x577809){return _0x14b13c===_0x577809;},'XSggr':_0x5b694a(0x29f),'nVLXO':'adminControlsSection','AzcNA':_0x5b694a(0x275),'UaUIR':_0x5b694a(0x250),'ByIog':_0x5b694a(0x311)};roomUsers=_0x12fcc8;const _0x1389bd=_0x27b7d7['dwBTq'](sanitizeUsername,username),_0x2d2ac3=_0x27b7d7['rOMoy'](role,_0x27b7d7['epxqx'])||_0x27b7d7[_0x5b694a(0x11f)](role,_0x27b7d7[_0x5b694a(0xf8)])||_0x27b7d7[_0x5b694a(0x1c2)](role,_0x27b7d7[_0x5b694a(0x2a3)]);document['getElementById'](_0x27b7d7[_0x5b694a(0x226)])[_0x5b694a(0x2d7)][_0x5b694a(0x10b)]=_0x2d2ac3?'block':_0x27b7d7['AzcNA'];const _0x36077b=Object[_0x5b694a(0x334)](_0x12fcc8)[_0x5b694a(0x2d4)](async([_0x43b407,_0x1aacf5])=>{const _0x4a8781=_0x5b694a,_0x5d88c7=_0x27b7d7[_0x4a8781(0x348)](sanitizeUsername,_0x1aacf5[_0x4a8781(0x1cf)]||_0x43b407),_0x4995ca=await fetchAvatar(_0x5d88c7),_0x2ae85b=_0x4995ca?_0x4a8781(0xf3)+_0x4995ca+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x1cb0c2=_0x1aacf5['online']?_0x4a8781(0x1f2):_0x4a8781(0x165);return _0x4a8781(0x1fa)+_0x2ae85b+'\x20'+_0x1cb0c2+_0x4a8781(0x288)+_0x5d88c7+_0x4a8781(0x212)+(_0x1aacf5[_0x4a8781(0x1cf)]||_0x43b407)+'</span>\x20'+getRoleTag(_0x5d88c7)+_0x4a8781(0x141);}),_0x4a0f7d=await Promise[_0x5b694a(0x20b)](_0x36077b);document[_0x5b694a(0x327)](_0x27b7d7['UaUIR'])[_0x5b694a(0x17a)]=_0x4a0f7d[_0x5b694a(0x1ca)]('');if(!_0x2d2ac3)return;const _0x193064=Object[_0x5b694a(0x334)](_0x12fcc8)['map'](async([_0x9b3392,_0x182698])=>{const _0x4e6ade=_0x5b694a,_0x1d538f=_0x27b7d7[_0x4e6ade(0x269)](sanitizeUsername,_0x182698[_0x4e6ade(0x1cf)]||_0x9b3392);if(_0x1d538f===_0x1389bd)return'';const _0x4868d7=globalDevs[_0x4e6ade(0x31b)](_0x1d538f),_0x32b8ec=await _0x27b7d7['ceUxw'](fetchAvatar,_0x1d538f),_0x4466cc=_0x32b8ec?_0x4e6ade(0xf3)+_0x32b8ec+_0x4e6ade(0x259):'',_0x5fc674=_0x182698['online']?_0x4e6ade(0x1f2):'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>',_0x20cf46=[];if(!_0x4868d7){(_0x27b7d7['VZnsA'](role,_0x27b7d7[_0x4e6ade(0x193)])||_0x27b7d7[_0x4e6ade(0x1e5)](role,_0x27b7d7[_0x4e6ade(0xf8)])||_0x27b7d7[_0x4e6ade(0x1c2)](role,_0x4e6ade(0x29f)))&&(_0x20cf46[_0x4e6ade(0x2a6)](_0x4e6ade(0x33d)+_0x1d538f+_0x4e6ade(0xcd)),_0x20cf46['push'](_0x4e6ade(0x33d)+_0x1d538f+_0x4e6ade(0x1f5)));(_0x27b7d7['vtzVl'](role,_0x4e6ade(0x21a))||_0x27b7d7[_0x4e6ade(0x1c2)](role,'admin'))&&_0x20cf46[_0x4e6ade(0x2a6)]('<button\x20onclick=\x22deleteUserMessages(\x27'+_0x1d538f+'\x27)\x22>Delete\x20Msgs</button>');if(_0x27b7d7[_0x4e6ade(0x1c2)](role,_0x27b7d7['epxqx']))_0x20cf46[_0x4e6ade(0x2a6)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1d538f+'\x27)\x22>+Mod</button>'),_0x20cf46['push'](_0x4e6ade(0x1ea)+_0x1d538f+_0x4e6ade(0xfa)),_0x20cf46[_0x4e6ade(0x2a6)]('<button\x20onclick=\x22demoteUser(\x27'+_0x1d538f+_0x4e6ade(0xd4));else role===_0x27b7d7[_0x4e6ade(0xf8)]&&(_0x20cf46['push'](_0x4e6ade(0x210)+_0x1d538f+'\x27)\x22>+Mod</button>'),_0x20cf46[_0x4e6ade(0x2a6)](_0x4e6ade(0x260)+_0x1d538f+_0x4e6ade(0xd4)));}return _0x4e6ade(0x215)+_0x4466cc+'\x20'+_0x5fc674+'\x20üîß\x20'+(_0x182698[_0x4e6ade(0x1cf)]||_0x9b3392)+'\x20'+_0x27b7d7[_0x4e6ade(0xd0)](getRoleTag,_0x1d538f)+_0x4e6ade(0x169)+_0x20cf46[_0x4e6ade(0x1ca)]('\x20')+_0x4e6ade(0x1b5);}),_0x12244c=await Promise[_0x5b694a(0x20b)](_0x193064);document[_0x5b694a(0x327)](_0x27b7d7['ByIog'])[_0x5b694a(0x17a)]=_0x12244c['join']('');}async function fetchAvatar(_0xad1bb5){const _0x52fce4=_0x5617bd;if(userAvatars[_0xad1bb5])return userAvatars[_0xad1bb5];const _0x46d3b9=await db['ref']('auth/'+_0xad1bb5)[_0x52fce4(0x134)]();if(_0x46d3b9[_0x52fce4(0x1d6)]()&&_0x46d3b9[_0x52fce4(0x231)]()[_0x52fce4(0x2de)])return userAvatars[_0xad1bb5]=_0x46d3b9['val']()[_0x52fce4(0x2de)],userAvatars[_0xad1bb5];return null;}function sendTyping(){const _0x5342b1=_0x5617bd,_0x5df85a={'Zaunp':function(_0x187b50,_0x8723f9){return _0x187b50(_0x8723f9);},'GPwCl':function(_0x16a16b,_0x3603b6,_0x2fc424){return _0x16a16b(_0x3603b6,_0x2fc424);}},_0x59f1ac=sanitizeUsername(username),_0x5ab019=Date['now']();db[_0x5342b1(0x15e)](_0x5342b1(0xe9)+roomCode+'/'+_0x59f1ac)['set'](_0x5ab019);if(typingTimeout)_0x5df85a[_0x5342b1(0x25a)](clearTimeout,typingTimeout);typingTimeout=_0x5df85a[_0x5342b1(0x2aa)](setTimeout,()=>{const _0x5475a1=_0x5342b1;db['ref'](_0x5475a1(0xe9)+roomCode+'/'+_0x59f1ac)[_0x5475a1(0x204)]();},0xbb8);}function listenForTyping(){const _0x183ce5=_0x5617bd,_0x5af4c9={'DEucA':_0x183ce5(0x284),'DqXnD':_0x183ce5(0x161)};db['ref'](_0x183ce5(0xe9)+roomCode)['on'](_0x5af4c9[_0x183ce5(0x2e1)],_0x3daa04=>{const _0x1eea50=_0x183ce5,_0x3a3324=document[_0x1eea50(0x327)](_0x5af4c9['DEucA']);if(!_0x3daa04['exists']())return _0x3a3324[_0x1eea50(0x177)]='';const _0x5673a5=Date[_0x1eea50(0x2c1)](),_0x3e788b=Object[_0x1eea50(0x334)](_0x3daa04[_0x1eea50(0x231)]())[_0x1eea50(0x133)](([_0x53785c,_0x32686d])=>_0x53785c!==sanitizeUsername(username)&&_0x5673a5-_0x32686d<0x1388)[_0x1eea50(0x2d4)](([_0x4ebcb7])=>_0x4ebcb7);_0x3a3324[_0x1eea50(0x177)]=_0x3e788b['length']?_0x3e788b[_0x1eea50(0x1ca)](',\x20')+_0x1eea50(0x2e8):'';});}function watchMuteStatus(){const _0x245639=_0x5617bd,_0x5d6971={'dHegu':_0x245639(0x12a),'Jgpbl':function(_0x2759e1,_0x36d637){return _0x2759e1===_0x36d637;},'dphSE':_0x245639(0x2ee),'UQvDt':function(_0x4a7e28,_0xd4c90c){return _0x4a7e28>_0xd4c90c;},'WLZbG':_0x245639(0x289),'fctqt':'Type\x20a\x20message...','DkMfo':_0x245639(0x161)},_0x1c493e=db[_0x245639(0x15e)](_0x245639(0xe4)+roomCode+'/'+sanitizeUsername(username));_0x1c493e['on'](_0x5d6971['DkMfo'],_0xb88cb2=>{const _0x1dcaaa=_0x245639,_0x26bffc=document[_0x1dcaaa(0x327)](_0x5d6971[_0x1dcaaa(0x14d)]);if(_0xb88cb2[_0x1dcaaa(0x1d6)]()){const _0xd9d7c0=_0xb88cb2[_0x1dcaaa(0x231)](),_0x234663=_0x5d6971[_0x1dcaaa(0x2ec)](typeof _0xd9d7c0,_0x5d6971[_0x1dcaaa(0x298)])&&_0xd9d7c0[_0x1dcaaa(0x213)]?_0xd9d7c0[_0x1dcaaa(0x213)]:_0xd9d7c0;_0x26bffc['disabled']=_0x5d6971['UQvDt'](_0x234663,Date[_0x1dcaaa(0x2c1)]()),_0x26bffc[_0x1dcaaa(0x129)]=_0x234663>Date[_0x1dcaaa(0x2c1)]()?_0x5d6971[_0x1dcaaa(0x179)]:_0x5d6971[_0x1dcaaa(0x18d)];}else _0x26bffc[_0x1dcaaa(0x2cd)]=![],_0x26bffc[_0x1dcaaa(0x129)]='Type\x20a\x20message...';});}function isProtected(_0x40ba57){const _0x3ca4f5=_0x5617bd;return globalDevs[_0x3ca4f5(0x31b)](_0x40ba57);}function addSystemMessage(_0x379eab){const _0x41822a=_0x5617bd,_0x5144c2={'vavxv':_0x41822a(0x2d2),'UuDKR':'center','YCXrs':_0x41822a(0x246),'zwJKG':_0x41822a(0x12c),'jqlnG':_0x41822a(0x32b),'iTQpN':_0x41822a(0x17c)},_0x4c9d92=document[_0x41822a(0x1ef)](_0x5144c2[_0x41822a(0x1b6)]);_0x4c9d92[_0x41822a(0x2d7)]['textAlign']=_0x5144c2[_0x41822a(0x101)],_0x4c9d92[_0x41822a(0x2d7)][_0x41822a(0x14b)]=_0x5144c2[_0x41822a(0x1f3)],_0x4c9d92['style'][_0x41822a(0x1c0)]=_0x5144c2[_0x41822a(0x268)],_0x4c9d92[_0x41822a(0x2d7)][_0x41822a(0x29d)]=_0x5144c2[_0x41822a(0x18c)],_0x4c9d92[_0x41822a(0x177)]=_0x379eab,document[_0x41822a(0x327)](_0x5144c2[_0x41822a(0x25b)])[_0x41822a(0x2dd)](_0x4c9d92),document[_0x41822a(0x327)](_0x5144c2[_0x41822a(0x25b)])['scrollTop']=document['getElementById'](_0x5144c2[_0x41822a(0x25b)])[_0x41822a(0x244)];}