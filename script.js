const _0x50aeff=_0x49ee;(function(_0x139c91,_0x1386f1){const _0x1bb7f6=_0x49ee,_0x26576e=_0x139c91();while(!![]){try{const _0x49a292=-parseInt(_0x1bb7f6(0x213))/0x1+parseInt(_0x1bb7f6(0x258))/0x2*(-parseInt(_0x1bb7f6(0x267))/0x3)+parseInt(_0x1bb7f6(0x27a))/0x4+-parseInt(_0x1bb7f6(0x26b))/0x5*(-parseInt(_0x1bb7f6(0x215))/0x6)+-parseInt(_0x1bb7f6(0x282))/0x7+parseInt(_0x1bb7f6(0x2ab))/0x8*(parseInt(_0x1bb7f6(0x292))/0x9)+parseInt(_0x1bb7f6(0x21e))/0xa;if(_0x49a292===_0x1386f1)break;else _0x26576e['push'](_0x26576e['shift']());}catch(_0x4b5625){_0x26576e['push'](_0x26576e['shift']());}}}(_0x5476,0xd6b03));const firebaseConfig={'apiKey':_0x50aeff(0x24a),'authDomain':_0x50aeff(0x1dd),'databaseURL':_0x50aeff(0x210),'projectId':_0x50aeff(0x278),'storageBucket':_0x50aeff(0x225),'messagingSenderId':_0x50aeff(0x2a3),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x50aeff(0x249)};firebase[_0x50aeff(0x270)](firebaseConfig);const db=firebase[_0x50aeff(0x1d2)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());let roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math['random']()[_0x50aeff(0x202)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x50aeff(0x263)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x50aeff(0x2a4),MAX_MESSAGES=0xfa,sound=new Audio(_0x50aeff(0x21a));sound[_0x50aeff(0x20d)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x471b9e=_0x50aeff,_0x42d7ad=navigator[_0x471b9e(0x288)]+screen['width']+screen['height'],_0x1c4f91=await sha256(_0x42d7ad);return'_'+_0x1c4f91[_0x471b9e(0x266)](0x0,0x14);}function sha256(_0x199fc7){const _0x2df2f2=_0x50aeff,_0x3d5c4b=new TextEncoder()[_0x2df2f2(0x218)](_0x199fc7);return crypto[_0x2df2f2(0x21f)]['digest'](_0x2df2f2(0x2a2),_0x3d5c4b)[_0x2df2f2(0x1f0)](_0x84a131=>{const _0x1d76f8=_0x2df2f2;return Array[_0x1d76f8(0x1e2)](new Uint8Array(_0x84a131))['map'](_0x30b65b=>_0x30b65b[_0x1d76f8(0x202)](0x10)[_0x1d76f8(0x20f)](0x2,'0'))[_0x1d76f8(0x28f)]('');});}function toggleAuthMode(){const _0x34e84b=_0x50aeff;isRegisterMode=!isRegisterMode,document['getElementById'](_0x34e84b(0x24f))['innerText']=isRegisterMode?'Register':_0x34e84b(0x2a1),document['getElementById'](_0x34e84b(0x238))[_0x34e84b(0x1eb)][_0x34e84b(0x25e)]=isRegisterMode?_0x34e84b(0x1d3):'none',document[_0x34e84b(0x20e)](_0x34e84b(0x1d8))[_0x34e84b(0x1eb)][_0x34e84b(0x25e)]=isRegisterMode?'block':_0x34e84b(0x1da),document[_0x34e84b(0x20e)]('authAvatar')[_0x34e84b(0x1eb)][_0x34e84b(0x25e)]=isRegisterMode?'block':_0x34e84b(0x1da),document[_0x34e84b(0x20e)](_0x34e84b(0x25c))['style'][_0x34e84b(0x25e)]=_0x34e84b(0x1da),document[_0x34e84b(0x20e)](_0x34e84b(0x2ad))[_0x34e84b(0x24d)]=isRegisterMode?_0x34e84b(0x1e1):_0x34e84b(0x2a1),document[_0x34e84b(0x20e)](_0x34e84b(0x1fd))[_0x34e84b(0x1eb)][_0x34e84b(0x25e)]='none';}function previewAvatar(){const _0xb5fcd5=_0x50aeff,_0x563256=document[_0xb5fcd5(0x20e)](_0xb5fcd5(0x274));if(!_0x563256[_0xb5fcd5(0x2af)]['length'])return;const _0x59ce60=new FileReader();_0x59ce60['onloadend']=()=>{const _0x38bd69=_0xb5fcd5;document[_0x38bd69(0x20e)](_0x38bd69(0x25c))['src']=_0x59ce60[_0x38bd69(0x294)],document['getElementById'](_0x38bd69(0x25c))[_0x38bd69(0x1eb)][_0x38bd69(0x25e)]=_0x38bd69(0x1d3);},_0x59ce60[_0xb5fcd5(0x1ef)](_0x563256['files'][0x0]);}async function submitAuth(){const _0x4ec975=_0x50aeff;!deviceId&&(deviceId=await generateDeviceId());const _0x532ca4=document[_0x4ec975(0x20e)](_0x4ec975(0x211))[_0x4ec975(0x2a9)][_0x4ec975(0x237)](),_0x24fd2c=document[_0x4ec975(0x20e)](_0x4ec975(0x1d0))[_0x4ec975(0x2a9)],_0x3255b5=document[_0x4ec975(0x20e)](_0x4ec975(0x238))[_0x4ec975(0x2a9)],_0x4fd23a=document[_0x4ec975(0x20e)](_0x4ec975(0x1fd)),_0x36a0f4=document[_0x4ec975(0x20e)](_0x4ec975(0x1d8))[_0x4ec975(0x2a9)][_0x4ec975(0x237)](),_0x2d2853=document[_0x4ec975(0x20e)](_0x4ec975(0x274));if(!_0x532ca4||!_0x24fd2c||isRegisterMode&&!_0x3255b5){_0x4fd23a[_0x4ec975(0x24d)]='Please\x20fill\x20all\x20fields.',_0x4fd23a[_0x4ec975(0x1eb)][_0x4ec975(0x25e)]=_0x4ec975(0x1d3);return;}const _0x16c508=await sha256(_0x24fd2c),_0x365a1a=db[_0x4ec975(0x1e4)]('auth/'+sanitizeUsername(_0x532ca4));_0x365a1a[_0x4ec975(0x298)]()[_0x4ec975(0x1f0)](_0x3d375f=>{const _0x333772=_0x4ec975;if(isRegisterMode){if(_0x3d375f[_0x333772(0x20a)]()){_0x4fd23a['innerText']=_0x333772(0x2ae),_0x4fd23a['style'][_0x333772(0x25e)]=_0x333772(0x1d3);return;}if(_0x24fd2c!==_0x3255b5){_0x4fd23a[_0x333772(0x24d)]=_0x333772(0x1fb),_0x4fd23a[_0x333772(0x1eb)][_0x333772(0x25e)]=_0x333772(0x1d3);return;}db['ref'](_0x333772(0x254))['orderByChild'](_0x333772(0x241))[_0x333772(0x280)](deviceId)[_0x333772(0x298)]()[_0x333772(0x1f0)](_0x511eb4=>{const _0x4c043e=_0x333772;_0x511eb4[_0x4c043e(0x20a)]()?(_0x4fd23a['innerText']=_0x4c043e(0x257),_0x4fd23a[_0x4c043e(0x1eb)][_0x4c043e(0x25e)]=_0x4c043e(0x1d3)):_0x365a1a[_0x4c043e(0x227)]({'passwordHash':_0x16c508,'deviceId':deviceId})['then'](()=>{username=_0x532ca4,startAfterAuth();});});}else{if(!_0x3d375f[_0x333772(0x20a)]()){_0x4fd23a['innerText']=_0x333772(0x25b),_0x4fd23a[_0x333772(0x1eb)][_0x333772(0x25e)]=_0x333772(0x1d3);return;}if(_0x3d375f[_0x333772(0x212)]()['passwordHash']!==_0x16c508){_0x4fd23a['innerText']='Incorrect\x20password.',_0x4fd23a['style'][_0x333772(0x25e)]=_0x333772(0x1d3);return;}let _0x55a1a0='';if(_0x2d2853[_0x333772(0x2af)][_0x333772(0x250)]){const _0x4717ea=new FileReader();_0x4717ea[_0x333772(0x2a7)]=()=>{const _0x25a6ba=_0x333772;_0x55a1a0=_0x4717ea['result'][_0x25a6ba(0x28d)](',')[0x1],saveNewUser(_0x532ca4,_0x16c508,deviceId,_0x55a1a0,_0x36a0f4);},_0x4717ea[_0x333772(0x1ef)](_0x2d2853[_0x333772(0x2af)][0x0]);}else saveNewUser(_0x532ca4,_0x16c508,deviceId,_0x55a1a0,_0x36a0f4);username=_0x532ca4,startAfterAuth();}});}function saveNewUser(_0x34d694,_0x35533f,_0x39a55c,_0x1a65d8,_0x5c2d13){const _0xaba13=_0x50aeff,_0x23fca0=db[_0xaba13(0x1e4)]('auth/'+sanitizeUsername(_0x34d694));_0x23fca0[_0xaba13(0x227)]({'passwordHash':_0x35533f,'deviceId':_0x39a55c,'avatarBase64':_0x1a65d8,'description':_0x5c2d13,'username':_0x34d694,'lastChanged':Date[_0xaba13(0x263)]()})[_0xaba13(0x1f0)](()=>{username=_0x34d694,startAfterAuth();});}function startAfterAuth(){const _0x486f18=_0x50aeff,_0x1e3123=sanitizeUsername(username);db['ref'](_0x486f18(0x1d7)+_0x1e3123)[_0x486f18(0x298)]()[_0x486f18(0x1f0)](_0x55d2c6=>{const _0x1d4ce0=_0x486f18;if(_0x55d2c6[_0x1d4ce0(0x20a)]()){const _0x492ba1=_0x55d2c6[_0x1d4ce0(0x212)]();avatarBase64=_0x492ba1['avatarBase64']||'',userDescription=_0x492ba1[_0x1d4ce0(0x1f7)]||'';}document['getElementById'](_0x1d4ce0(0x296))[_0x1d4ce0(0x24d)]=username,showScreen(_0x1d4ce0(0x265));});}function checkIfAdmin(){const _0x2a6b9c=_0x50aeff,_0x2da7f9=db['ref'](_0x2a6b9c(0x279)+roomCode+'/'+sanitizeUsername(username));return _0x2da7f9['once']('value')[_0x2a6b9c(0x1f0)](_0xc81902=>{const _0xc3a32c=_0x2a6b9c;isRoomAdmin=_0xc81902[_0xc3a32c(0x20a)]();});}function toggleRecording(){const _0x3b5ecc=_0x50aeff;isRecording?stopRecording():navigator[_0x3b5ecc(0x27c)]['getUserMedia']({'audio':!![]})[_0x3b5ecc(0x1f0)](_0x43cc4a=>{const _0x157135=_0x3b5ecc;mediaRecorder=new MediaRecorder(_0x43cc4a),mediaRecorder[_0x157135(0x22a)](),isRecording=!![],document[_0x157135(0x20e)]('recordBtn')['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x157135(0x293)]=_0x29711b=>audioChunks['push'](_0x29711b['data']),mediaRecorder['onstop']=()=>{const _0x467567=_0x157135;clearTimeout(recordingTimer);const _0xb5a091=new Blob(audioChunks,{'type':_0x467567(0x287)}),_0x5eedd5=new FileReader();_0x5eedd5[_0x467567(0x2a7)]=()=>{const _0x112fda=_0x467567,_0x24296c=_0x5eedd5[_0x112fda(0x294)]['split'](',')[0x1],_0x32b9e9=db[_0x112fda(0x1e4)]()[_0x112fda(0x289)]()[_0x112fda(0x28c)];db[_0x112fda(0x1e4)](_0x112fda(0x228)+roomCode+_0x112fda(0x26d)+_0x32b9e9)['set']({'msg':_0x112fda(0x1e8),'audioBase64':_0x24296c,'sender':username,'senderId':clientId,'timestamp':Date[_0x112fda(0x263)]()});},_0x5eedd5['readAsDataURL'](_0xb5a091);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})['catch'](_0x1cb039=>{const _0x54084c=_0x3b5ecc;alert(_0x54084c(0x1dc));});}function stopRecording(){const _0x3fba05=_0x50aeff;mediaRecorder&&isRecording&&(mediaRecorder['stop'](),isRecording=![],document[_0x3fba05(0x20e)](_0x3fba05(0x240))[_0x3fba05(0x24d)]=_0x3fba05(0x24b));}window[_0x50aeff(0x20b)]=async()=>{cleanupOldRooms(),setupSidebarBackHandler(),setupVisibilityAttention(),resetWebsiteData(),showScreen('authScreen');};function sanitizeUsername(_0x2a1593){const _0x784025=_0x50aeff;return _0x2a1593[_0x784025(0x1e6)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x180562=_0x50aeff,_0x19789d=document[_0x180562(0x20e)](_0x180562(0x21d))[_0x180562(0x2a9)]['trim'](),_0x37a3e0=document[_0x180562(0x20e)]('profileDescriptionInput')[_0x180562(0x2a9)][_0x180562(0x237)](),_0x200913=document['getElementById'](_0x180562(0x290));if(!_0x19789d||!_0x37a3e0){_0x200913['innerText']=_0x180562(0x1e5),_0x200913[_0x180562(0x1eb)][_0x180562(0x25e)]=_0x180562(0x1d3);return;}const _0x3d37e4=sanitizeUsername(_0x19789d),_0x5451e6=db[_0x180562(0x1e4)](_0x180562(0x261)+_0x3d37e4);_0x5451e6[_0x180562(0x1db)](_0x180562(0x2a9))[_0x180562(0x1f0)](_0x21f7b4=>{const _0x53036d=_0x180562;if(_0x21f7b4[_0x53036d(0x20a)]())_0x200913[_0x53036d(0x24d)]=_0x53036d(0x275),_0x200913['style'][_0x53036d(0x25e)]=_0x53036d(0x1d3);else{const _0x3b0e64={'username':_0x19789d,'description':_0x37a3e0,'lastChanged':Date[_0x53036d(0x263)](),'usernameHistory':[_0x19789d]};_0x5451e6[_0x53036d(0x227)](_0x3b0e64,_0x243604=>{const _0x344a81=_0x53036d;_0x243604?(console['error'](_0x344a81(0x219),_0x243604),_0x200913['innerText']=_0x344a81(0x224),_0x200913[_0x344a81(0x1eb)]['display']=_0x344a81(0x1d3)):(localStorage['setItem'](_0x344a81(0x200),_0x19789d),localStorage['setItem'](_0x344a81(0x209),_0x37a3e0),username=_0x19789d,document[_0x344a81(0x20e)]('namePreview')['innerText']=_0x19789d,showScreen('roomChoiceScreen'));});}})['catch'](_0x3c6d30=>{const _0x280988=_0x180562;console['error'](_0x280988(0x1e9),_0x3c6d30),_0x200913['innerText']='⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.',_0x200913[_0x280988(0x1eb)][_0x280988(0x25e)]=_0x280988(0x1d3);});}function saveProfile(_0x13490a,_0x107721,_0x2302aa){const _0x35bbe4=_0x50aeff,_0x521b23=Date['now'](),_0x4ff468=[_0x13490a];db[_0x35bbe4(0x1e4)](_0x35bbe4(0x261)+_0x2302aa)[_0x35bbe4(0x227)]({'username':_0x13490a,'description':_0x107721,'lastChanged':_0x521b23,'usernameHistory':_0x4ff468}),document[_0x35bbe4(0x20e)](_0x35bbe4(0x296))[_0x35bbe4(0x24d)]=_0x13490a,showScreen(_0x35bbe4(0x265));}function _0x49ee(_0x1bfbc2,_0x52b91a){const _0x54767e=_0x5476();return _0x49ee=function(_0x49eef8,_0x24e554){_0x49eef8=_0x49eef8-0x1cf;let _0x54de43=_0x54767e[_0x49eef8];return _0x54de43;},_0x49ee(_0x1bfbc2,_0x52b91a);}function generateRoom(){const _0xc2a781=_0x50aeff;roomCode=genRoomCode(),db[_0xc2a781(0x1e4)](_0xc2a781(0x228)+roomCode)[_0xc2a781(0x227)]({'active':!![],'created':Date['now']()}),startChat();}function joinRoom(){const _0x13b5d3=_0x50aeff,_0x4c4697=roomCode||document[_0x13b5d3(0x20e)](_0x13b5d3(0x27e))[_0x13b5d3(0x2a9)][_0x13b5d3(0x237)]()[_0x13b5d3(0x229)]();if(!_0x4c4697)return alert(_0x13b5d3(0x220));roomCode=_0x4c4697;if(roomCode===STATIC_ROOM){showScreen(_0x13b5d3(0x27f));return;}db[_0x13b5d3(0x1e4)](_0x13b5d3(0x228)+roomCode)['get']()['then'](_0x180fc4=>{const _0x305255=_0x13b5d3;_0x180fc4[_0x305255(0x20a)]()&&_0x180fc4['val']()['active']!==![]?startChat():alert(_0x305255(0x23c));});}function startChat(){const _0x2a6639=_0x50aeff;if(!roomCode||!username)return alert(_0x2a6639(0x1e7)),showScreen(_0x2a6639(0x265));checkIfAdmin()[_0x2a6639(0x1f0)](()=>{const _0x5188f7=_0x2a6639,_0x454a61=sanitizeUsername(username),_0x3ae1cc=db['ref'](_0x5188f7(0x1e3)+roomCode+'/'+_0x454a61),_0x306326={'username':username,'lastOnline':firebase['database'][_0x5188f7(0x205)]['TIMESTAMP'],'online':!![]};db['ref'](_0x5188f7(0x279)+roomCode+'/'+_0x454a61)['once'](_0x5188f7(0x2a9))[_0x5188f7(0x1f0)](_0x554a23=>{const _0x448043=_0x5188f7;_0x554a23[_0x448043(0x20a)]()&&(_0x306326['admin']=!![]),_0x3ae1cc[_0x448043(0x227)](_0x306326,_0x1af708=>{const _0x2f3fba=_0x448043;if(_0x1af708)return alert(_0x2f3fba(0x1f3)),showScreen(_0x2f3fba(0x265));_0x3ae1cc[_0x2f3fba(0x262)]()['update']({'online':![],'lastOnline':Date[_0x2f3fba(0x263)]()}),document[_0x2f3fba(0x20e)](_0x2f3fba(0x203))[_0x2f3fba(0x24d)]=username,roomCode===STATIC_ROOM?document[_0x2f3fba(0x20e)]('roomDisplay')[_0x2f3fba(0x24d)]=_0x2f3fba(0x1f5):document[_0x2f3fba(0x20e)](_0x2f3fba(0x256))['innerText']=roomCode,showScreen(_0x2f3fba(0x1ff)),listenForMessages(),listenForTyping(),startInactivityTimer(),trackPresence(),listenForUserList();});});});}function validateStaticRoomPassword(){const _0x48e8ea=_0x50aeff,_0x2d2c9b=document[_0x48e8ea(0x20e)](_0x48e8ea(0x22f))['value'],_0x378ad9=document[_0x48e8ea(0x20e)](_0x48e8ea(0x268));db['ref'](_0x48e8ea(0x21b))[_0x48e8ea(0x298)]()['then'](_0x4b31f2=>{const _0x413da0=_0x48e8ea,_0x2c1fb8=_0x4b31f2[_0x413da0(0x212)]();_0x2d2c9b===_0x2c1fb8?(_0x378ad9[_0x413da0(0x1eb)]['display']=_0x413da0(0x1da),startChat()):_0x378ad9['style'][_0x413da0(0x25e)]='block';});}const spamTimestamps=[];function _0x5476(){const _0x3d1981=['21656nSUIOB','\x0aHistory:\x0a','authSubmitBtn','Username\x20already\x20exists.','files','lastChanged','authPassword','profileDescriptionInput','database','block','You\x20can\x20change\x20your\x20profile\x20again\x20in\x20','hidden','usernameScreen','auth/','authDescription','admin','none','once','Microphone\x20permission\x20denied.','easy-chatroom.firebaseapp.com','state','online','rooms','Register','from','users/','ref','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','replace','Missing\x20room\x20or\x20user\x20information.','[Voice\x20message]','Error\x20checking\x20username:','avatar_base64','style','Profile\x20not\x20found.','profileScreen','messages','readAsDataURL','then','typing','<img\x20src=\x22data:image/png;base64,','Failed\x20to\x20register\x20user\x20in\x20room.','\x0aLast\x20Changed:\x20','No\x20room\x20code\x20available\x20for\x20private\x20rooms','createElement','description','profileContent','TIMESTAMP','userList','Passwords\x20do\x20not\x20match.','clear','authError','\x20minutes.','chatScreen','chat_username','contains','toString','userDisplay','addEventListener','ServerValue','update','filter','</div>','profile_description','exists','onload','values','volume','getElementById','padStart','https://easy-chatroom-default-rtdb.firebaseio.com','authUsername','val','567264xnblBW','\x0a\x20\x20\x20\x20\x20\x20</li>','10330854oWwrBw','toLocaleTimeString','antispam/','encode','Failed\x20to\x20save\x20profile:','sounds/beep.mp3','gr8stg','antispamBlocked','profileUsernameInput','1326260mAWnfI','subtle','Enter\x20a\x20valid\x20room\x20code','avatarBase64','#00ff88','placeholder','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','easy-chatroom.firebasestorage.app','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>','set','rooms/','toUpperCase','start','received','Admins\x20only.','sidebarAvatarPreview','0123456789','staticPasswordInput','<audio\x20controls\x20src=\x22','keypress','created',';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27','play','audioBase64','<span\x20style=\x22margin-right:8px;\x22>👤</span>','trim','authPasswordConfirm','/typing','popstate','/messages','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','preventDefault','<span\x20style=\x22margin-right:5px;\x22>👤</span>','remove','recordBtn','deviceId','Type\x20a\x20message...','color','<span\x20class=\x22sender-name\x22>','scrollHeight','#888','show','innerHTML','G-QDESJ2WR42','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','🎙️','lastOnline','innerText','toLocaleString','authTitle','length','title','add','muted/','auth','\x20typing...','roomDisplay','Only\x20one\x20account\x20per\x20device\x20allowed.','540428zKXowt','child_added','<small>','Username\x20not\x20found.','authAvatarPreview','userSidebar','display','random','entries','profiles/','onDisconnect','now','flex','roomChoiceScreen','substr','6kKGtjw','passwordError','2-digit','\x0aDescription:\x20','5dhMlsZ','No\x20bio\x20set','/messages/','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','back','initializeApp','forEach','\x20<span\x20style=\x22color:red;\x22>Admin</span>','usernameHistory','authAvatar','❌\x20Username\x20already\x20taken.','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','DOMContentLoaded','easy-chatroom','admins/','3370836EMSHAT','<li\x20style=\x22color:','mediaDevices','<img\x20src=\x22','roomCodeInput','passwordScreen','equalTo','src','5406450VIoKco','/typing/','codeEntryScreen','username','msgInput','audio/webm','userAgent','push','ceil','data:image/png;base64,','key','split','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','join','profileError','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','207luXyXU','ondataavailable','result','ABCDEFGHIJKLMNOPQRSTUVWXYZ','namePreview','data:audio/webm;base64,','get','disabled','sent','map','classList','Session\x20expired.','profileViewer','audioUrl','pushState','Login','SHA-256','985049198428','050BBB66HH','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','visibilitychange','onloadend','getItem','value','antispamBlocked/'];_0x5476=function(){return _0x3d1981;};return _0x5476();}function sendMessage(){const _0x3e87ec=_0x50aeff,_0x4ed52a=document[_0x3e87ec(0x20e)](_0x3e87ec(0x286)),_0x1448c2=_0x4ed52a[_0x3e87ec(0x2a9)]['trim']();if(!_0x1448c2||isBlocked)return;const _0x1e0a88=Date[_0x3e87ec(0x263)]();spamTimestamps[_0x3e87ec(0x289)](_0x1e0a88);const _0x581b0c=spamTimestamps['filter'](_0x511708=>_0x1e0a88-_0x511708<0x1b58);if(_0x581b0c[_0x3e87ec(0x250)]>0x5){isBlocked=!![],_0x4ed52a[_0x3e87ec(0x299)]=!![],_0x4ed52a[_0x3e87ec(0x223)]=_0x3e87ec(0x28e),alert('⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.'),setTimeout(()=>{const _0x38cd4b=_0x3e87ec;isBlocked=![],_0x4ed52a[_0x38cd4b(0x299)]=![],_0x4ed52a['placeholder']=_0x38cd4b(0x242),spamTimestamps['length']=0x0;},0x7530);return;}const _0x358dd7=localStorage['getItem'](_0x3e87ec(0x1ea))||'',_0xbf7533=db[_0x3e87ec(0x1e4)]()[_0x3e87ec(0x289)]()[_0x3e87ec(0x28c)];db['ref'](_0x3e87ec(0x228)+roomCode+_0x3e87ec(0x26d)+_0xbf7533)[_0x3e87ec(0x227)]({'msg':_0x1448c2,'sender':username,'senderId':clientId,'avatarBase64':_0x358dd7,'timestamp':_0x1e0a88}),_0x4ed52a[_0x3e87ec(0x2a9)]='',sendTyping(!![]),lastActivity=_0x1e0a88;}function listenForMessages(){const _0x37d7e2=_0x50aeff,_0x445235=db[_0x37d7e2(0x1e4)](_0x37d7e2(0x228)+roomCode+_0x37d7e2(0x23b)),_0xf19c51=_0x445235['limitToLast'](MAX_MESSAGES);userListReady=!![],_0xf19c51['on'](_0x37d7e2(0x259),_0x486b8d=>{const _0x40cbbf=_0x37d7e2,_0x21d974=_0x486b8d[_0x40cbbf(0x212)](),{senderId:_0x21d14b}=_0x21d974,_0xe5c705=_0x21d14b===clientId;if(!userListReady){pendingMessages['forEach'](({data:_0x28d785,sent:_0x455383,key:_0x47bd62})=>{addMessage(_0x28d785,_0x455383,_0x47bd62);}),pendingMessages=[];return;}const _0x57d42d=_0x21d974[_0x40cbbf(0x29f)]||null,_0x6ea375=_0x21d974[_0x40cbbf(0x235)]||null;addMessage(_0x21d974,_0xe5c705,_0x486b8d['key']),roomCode!==STATIC_ROOM&&db[_0x40cbbf(0x1e4)](_0x40cbbf(0x228)+roomCode+_0x40cbbf(0x26d)+_0x486b8d[_0x40cbbf(0x28c)])[_0x40cbbf(0x23f)](),!_0xe5c705&&(sound[_0x40cbbf(0x234)](),flagPageAttention());});}function addMessage(_0x56f5cb,_0x17930c,_0x44fc57=null){const _0x2b97b1=_0x50aeff,{msg:_0x1b2cca,sender:_0x12871d,senderId:_0x4f111f,timestamp:_0x44bc0a,audioUrl:_0x15fe5d,audioBase64:_0x5569fc,imageBase64:_0x4d810a}=_0x56f5cb,_0x349607=document[_0x2b97b1(0x1f6)]('div');_0x349607[_0x2b97b1(0x29c)]['add']('msg',_0x17930c?_0x2b97b1(0x29a):_0x2b97b1(0x22b));const _0x4520e1=new Date(_0x44bc0a)[_0x2b97b1(0x216)]([],{'hour':_0x2b97b1(0x269),'minute':_0x2b97b1(0x269)}),_0x57783d=sanitizeUsername(_0x12871d),_0xb9c607=roomUsers[_0x57783d]||{},_0x597625=_0xb9c607[_0x2b97b1(0x221)]?_0x2b97b1(0x1f2)+_0xb9c607['avatarBase64']+_0x2b97b1(0x291):_0x2b97b1(0x236);let _0x5e5360=_0x597625+_0x2b97b1(0x244)+_0x12871d+'</span>';_0xb9c607[_0x2b97b1(0x1d9)]&&(_0x5e5360+=_0x2b97b1(0x276));_0x5e5360+='<br>';const _0x4b26a4=_0x1b2cca?.[_0x2b97b1(0x1e6)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');if(_0x15fe5d)_0x5e5360+=_0x2b97b1(0x230)+_0x15fe5d+_0x2b97b1(0x2a5);else{if(_0x5569fc){const _0x1f98cb=_0x2b97b1(0x297)+_0x5569fc;_0x5e5360+='<audio\x20controls\x20src=\x22'+_0x1f98cb+_0x2b97b1(0x2a5);}else{if(_0x4d810a){const _0x285987='data:image/png;base64,'+_0x4d810a;_0x5e5360+=_0x2b97b1(0x27d)+_0x285987+_0x2b97b1(0x26e);}else _0x5e5360+='<div>'+_0x4b26a4+_0x2b97b1(0x208);}}_0x5e5360+=_0x2b97b1(0x25a)+_0x4520e1+'</small>',_0x349607[_0x2b97b1(0x248)]=_0x5e5360;const _0x533d83=document['getElementById'](_0x2b97b1(0x1ee));_0x533d83['appendChild'](_0x349607),_0x533d83['scrollTop']=_0x533d83[_0x2b97b1(0x245)];}function cleanupOldRooms(){const _0x460f44=_0x50aeff;db['ref'](_0x460f44(0x1e0))[_0x460f44(0x1db)](_0x460f44(0x2a9))[_0x460f44(0x1f0)](_0x9903a1=>{const _0xff0f1=_0x460f44,_0x2b9aa9=_0x9903a1[_0xff0f1(0x212)]();if(!_0x2b9aa9)return;const _0x540db5=Date[_0xff0f1(0x263)]();for(const _0x586a73 in _0x2b9aa9){if(_0x586a73===STATIC_ROOM)continue;const _0x2ab202=_0x2b9aa9[_0x586a73];_0x540db5-(_0x2ab202[_0xff0f1(0x232)]||0x0)>0x2*0x3c*0x3e8&&db[_0xff0f1(0x1e4)]('rooms/'+_0x586a73)['remove']();}db[_0xff0f1(0x1e4)]('antispam')[_0xff0f1(0x1db)](_0xff0f1(0x2a9))['then'](_0x159534=>{const _0x169f57=_0xff0f1,_0x54ceb7=_0x159534['val']();if(!_0x54ceb7)return;for(const _0x2ed3b7 in _0x54ceb7){if(_0x2ed3b7!==STATIC_ROOM)db[_0x169f57(0x1e4)](_0x169f57(0x217)+_0x2ed3b7)[_0x169f57(0x23f)]();}}),db['ref'](_0xff0f1(0x21c))['once']('value')['then'](_0xa88cde=>{const _0x3a0b89=_0xff0f1,_0x5f30ce=_0xa88cde['val']();if(!_0x5f30ce)return;for(const _0x5e680d in _0x5f30ce){if(_0x5e680d!==STATIC_ROOM)db[_0x3a0b89(0x1e4)](_0x3a0b89(0x2aa)+_0x5e680d)[_0x3a0b89(0x23f)]();}});});}document['addEventListener'](_0x50aeff(0x277),()=>{const _0x5107a5=_0x50aeff,_0x262722=document[_0x5107a5(0x20e)]('msgInput');_0x262722&&_0x262722[_0x5107a5(0x204)](_0x5107a5(0x231),function(_0x23555b){const _0x199c80=_0x5107a5;_0x23555b[_0x199c80(0x28c)]==='Enter'&&(_0x23555b[_0x199c80(0x23d)](),sendMessage());});});function showScreen(_0x30b96f){const _0x455eaf=_0x50aeff;[_0x455eaf(0x1d6),_0x455eaf(0x265),_0x455eaf(0x284),'chatScreen',_0x455eaf(0x27f),_0x455eaf(0x1ed),_0x455eaf(0x29e),'authScreen']['forEach'](_0x3bc684=>{const _0xc1b4a8=_0x455eaf;document[_0xc1b4a8(0x20e)](_0x3bc684)['style'][_0xc1b4a8(0x25e)]='none';}),document[_0x455eaf(0x20e)](_0x30b96f)['style'][_0x455eaf(0x25e)]=_0x455eaf(0x264);}function genRoomCode(){const _0x17349b=_0x50aeff,_0x15c81a=_0x17349b(0x295),_0x94b196=_0x17349b(0x22e),_0x2f613f=(_0x420047,_0x49614d)=>Array[_0x17349b(0x1e2)]({'length':_0x49614d},()=>_0x420047[Math['floor'](Math[_0x17349b(0x25f)]()*_0x420047['length'])])[_0x17349b(0x28f)]('');return _0x2f613f(_0x94b196,0x3)+_0x2f613f(_0x15c81a,0x3)+_0x2f613f(_0x94b196,0x2)+_0x2f613f(_0x15c81a,0x2);}function startInactivityTimer(){setInterval(()=>{const _0x40199b=_0x49ee;Date[_0x40199b(0x263)]()-lastActivity>0x5*0x3c*0x3e8&&roomCode!==STATIC_ROOM&&(db[_0x40199b(0x1e4)](_0x40199b(0x228)+roomCode)[_0x40199b(0x206)]({'active':![]}),alert(_0x40199b(0x29d)),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x169b46=_0x50aeff;window[_0x169b46(0x204)](_0x169b46(0x23a),()=>{const _0x316afa=_0x169b46,_0x5c6da5=document[_0x316afa(0x20e)](_0x316afa(0x25d));_0x5c6da5?.[_0x316afa(0x29c)][_0x316afa(0x201)](_0x316afa(0x247))&&_0x5c6da5['classList'][_0x316afa(0x23f)](_0x316afa(0x247));});}function toggleSidebar(){const _0x73c62e=_0x50aeff,_0x222191=document['getElementById'](_0x73c62e(0x25d));if(!_0x222191[_0x73c62e(0x29c)][_0x73c62e(0x201)](_0x73c62e(0x247)))_0x222191[_0x73c62e(0x29c)][_0x73c62e(0x252)]('show'),history[_0x73c62e(0x2a0)]({'sidebarOpen':!![]},'');else{_0x222191[_0x73c62e(0x29c)]['remove'](_0x73c62e(0x247));if(history[_0x73c62e(0x1de)]?.['sidebarOpen'])history[_0x73c62e(0x26f)]();}}function setupVisibilityAttention(){const _0x5774d6=_0x50aeff;let _0x31d42f=0x0,_0x219d98=document['title'];document[_0x5774d6(0x204)](_0x5774d6(0x2a6),()=>{const _0x3e8ed5=_0x5774d6;!document[_0x3e8ed5(0x1d5)]&&(document[_0x3e8ed5(0x251)]=_0x219d98,_0x31d42f=0x0);}),window['flagPageAttention']=function(){const _0x35e07c=_0x5774d6;document[_0x35e07c(0x1d5)]&&(_0x31d42f++,document[_0x35e07c(0x251)]='('+_0x31d42f+')\x20New\x20message\x20•\x20'+_0x219d98);};}function tryEditProfile(){const _0x1ca5a7=_0x50aeff,_0x326176=sanitizeUsername(username);db[_0x1ca5a7(0x1e4)](_0x1ca5a7(0x261)+_0x326176)[_0x1ca5a7(0x298)]()[_0x1ca5a7(0x1f0)](_0x1fc717=>{const _0x5a809f=_0x1ca5a7,_0x21c21e=_0x1fc717[_0x5a809f(0x212)]();if(!_0x21c21e)return alert(_0x5a809f(0x1ec));const _0x40dc88=_0x21c21e[_0x5a809f(0x1cf)]||0x0,_0x5190dc=Date[_0x5a809f(0x263)](),_0x3588b1=0x18*0x3c*0x3c*0x3e8;if(_0x5190dc-_0x40dc88<_0x3588b1){const _0x4bf70c=Math[_0x5a809f(0x28a)]((_0x3588b1-(_0x5190dc-_0x40dc88))/(0x3c*0x3e8));alert(_0x5a809f(0x1d4)+_0x4bf70c+_0x5a809f(0x1fe));}else showScreen(_0x5a809f(0x1ed)),document['getElementById'](_0x5a809f(0x21d))[_0x5a809f(0x2a9)]=username,document['getElementById'](_0x5a809f(0x1d1))[_0x5a809f(0x2a9)]=_0x21c21e[_0x5a809f(0x1f7)]||'';});}function listenForUserList(){const _0x3d5fe9=_0x50aeff;db[_0x3d5fe9(0x1e4)](_0x3d5fe9(0x1e3)+roomCode)['on']('value',_0x266657=>{const _0x403c96=_0x3d5fe9,_0x194e07=_0x266657[_0x403c96(0x212)]()||{},_0x1993e3=Date[_0x403c96(0x263)]();roomUsers={},Object[_0x403c96(0x260)](_0x194e07)[_0x403c96(0x271)](([_0x20abe8,_0xe9068a])=>{const _0x30c9ae=_0x403c96;roomUsers[sanitizeUsername(_0xe9068a[_0x30c9ae(0x285)])]=_0xe9068a;}),userListReady=!![],pendingMessages['forEach'](({data:_0x363fab,sent:_0x4530bb,key:_0x3c3f9b})=>{addMessage(_0x363fab,_0x4530bb,_0x3c3f9b);}),pendingMessages=[];const _0x19f313=Object[_0x403c96(0x20c)](_0x194e07)[_0x403c96(0x29b)](_0x42e814=>{const _0x155743=_0x403c96,_0x17b712=_0x42e814[_0x155743(0x1df)],_0x487571=_0x1993e3-_0x42e814[_0x155743(0x24c)]<=0x1e*0x3c*0x3e8;if(!_0x17b712&&!_0x487571)return'';const _0x9b1ca7=_0x17b712?_0x155743(0x222):_0x155743(0x246),_0x10fa5b=_0x17b712?'🟢':'🕒',_0x1f8421=_0x42e814['avatarBase64']?_0x155743(0x1f2)+_0x42e814[_0x155743(0x221)]+_0x155743(0x226):_0x155743(0x23e),_0x3c93d6=_0x42e814[_0x155743(0x1d9)]?_0x155743(0x272):'';return _0x155743(0x27b)+_0x9b1ca7+_0x155743(0x233)+sanitizeUsername(_0x42e814[_0x155743(0x285)])+'\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f8421+_0x10fa5b+'\x20'+_0x42e814['username']+_0x3c93d6+_0x155743(0x214);})[_0x403c96(0x28f)]('');document[_0x403c96(0x20e)](_0x403c96(0x1fa))['innerHTML']=_0x19f313;});}function sendTyping(_0x4038fd=![]){const _0x205f98=_0x50aeff;if(isBlocked)return;const _0xf1ca68='rooms/'+roomCode+_0x205f98(0x283)+clientId;_0x4038fd?db['ref'](_0xf1ca68)['remove']():(db[_0x205f98(0x1e4)](_0xf1ca68)[_0x205f98(0x227)](username),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0x3c2463=_0x205f98;db[_0x3c2463(0x1e4)](_0xf1ca68)[_0x3c2463(0x23f)]();},0xbb8));}function listenForTyping(){const _0x456d93=_0x50aeff,_0x29a45c=document[_0x456d93(0x20e)](_0x456d93(0x1f1));db[_0x456d93(0x1e4)](_0x456d93(0x228)+roomCode+_0x456d93(0x239))['on']('value',_0x421da1=>{const _0x2963d7=_0x456d93,_0x51377a=_0x421da1[_0x2963d7(0x212)]();if(!_0x51377a)return _0x29a45c[_0x2963d7(0x24d)]='';const _0x588550=Object[_0x2963d7(0x20c)](_0x51377a)[_0x2963d7(0x207)](_0x3bd573=>_0x3bd573!==username);_0x29a45c[_0x2963d7(0x24d)]=_0x588550[_0x2963d7(0x250)]?_0x588550[_0x2963d7(0x28f)](',\x20')+_0x2963d7(0x255):'';});}function trackPresence(){const _0x18d0c7=_0x50aeff;if(!username||!roomCode)return;const _0x5590a8=sanitizeUsername(username),_0x5be9ef=db[_0x18d0c7(0x1e4)](_0x18d0c7(0x1e3)+roomCode+'/'+_0x5590a8),_0x20786c='',_0x55413e={'username':username,'lastOnline':firebase[_0x18d0c7(0x1d2)][_0x18d0c7(0x205)][_0x18d0c7(0x1f9)],'online':!![],'avatarBase64':_0x20786c};db[_0x18d0c7(0x1e4)](_0x18d0c7(0x279)+roomCode+'/'+_0x5590a8)['once'](_0x18d0c7(0x2a9))['then'](_0x431e60=>{const _0x490872=_0x18d0c7;if(_0x431e60[_0x490872(0x20a)]())_0x55413e['admin']=!![];_0x5be9ef['set'](_0x55413e),_0x5be9ef[_0x490872(0x262)]()[_0x490872(0x206)]({'online':![],'lastOnline':Date[_0x490872(0x263)]()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0xe635bf){const _0x2d34a9=_0x50aeff;if(!_0xe635bf[_0x2d34a9(0x2af)][_0x2d34a9(0x250)])return;const _0x83567a=new FileReader();_0x83567a[_0x2d34a9(0x2a7)]=()=>{const _0x29e6af=_0x2d34a9,_0x334996=_0x83567a['result'][_0x29e6af(0x28d)](',')[0x1],_0x4ff093=document[_0x29e6af(0x20e)](_0x29e6af(0x22d));_0x4ff093[_0x29e6af(0x281)]=_0x29e6af(0x28b)+_0x334996,_0x4ff093[_0x29e6af(0x1eb)][_0x29e6af(0x25e)]=_0x29e6af(0x1d3),trackPresence();},_0x83567a['readAsDataURL'](_0xe635bf['files'][0x0]);}function muteUser(_0x171cd7,_0x5c30e3){const _0x122457=_0x50aeff;if(!isRoomAdmin)return alert(_0x122457(0x22c));const _0x100d9c=Date[_0x122457(0x263)]()+_0x5c30e3*0x3c*0x3e8;db['ref'](_0x122457(0x253)+roomCode+'/'+sanitizeUsername(_0x171cd7))['set'](_0x100d9c);}function unmuteUser(_0x19ff9b){const _0x49b116=_0x50aeff;if(!isRoomAdmin)return alert(_0x49b116(0x22c));db[_0x49b116(0x1e4)](_0x49b116(0x253)+roomCode+'/'+sanitizeUsername(_0x19ff9b))[_0x49b116(0x23f)]();}function updateOnlineIndicator(){const _0x722647=_0x50aeff,_0x5cefe7=document[_0x722647(0x20e)]('onlineStatus');_0x5cefe7[_0x722647(0x24d)]='●\x20Online',_0x5cefe7['style'][_0x722647(0x243)]='#00ff88';}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x58c2a3){const _0x363ebd=_0x50aeff;db[_0x363ebd(0x1e4)]('profiles/'+_0x58c2a3)['get']()[_0x363ebd(0x1f0)](_0xb84108=>{const _0x2b7638=_0x363ebd;if(!_0xb84108[_0x2b7638(0x20a)]())return;const _0x401ffe=_0xb84108[_0x2b7638(0x212)](),_0x55603e=('\x0aName:\x20'+_0x401ffe[_0x2b7638(0x285)]+_0x2b7638(0x26a)+(_0x401ffe[_0x2b7638(0x1f7)]||_0x2b7638(0x26c))+_0x2b7638(0x2ac)+(_0x401ffe[_0x2b7638(0x273)]||[])[_0x2b7638(0x28f)]('\x0a')+_0x2b7638(0x1f4)+new Date(_0x401ffe[_0x2b7638(0x1cf)])[_0x2b7638(0x24e)]()+'\x0a\x20\x20\x20\x20')['trim']();document['getElementById'](_0x2b7638(0x1f8))[_0x2b7638(0x24d)]=_0x55603e,document[_0x2b7638(0x20e)](_0x2b7638(0x29e))[_0x2b7638(0x1eb)][_0x2b7638(0x25e)]=_0x2b7638(0x1d3);});}function initUsernameFlow(){const _0x2c021b=_0x50aeff,_0x240264=localStorage[_0x2c021b(0x2a8)](_0x2c021b(0x200));!_0x240264?showScreen(_0x2c021b(0x1ed)):(username=_0x240264,document[_0x2c021b(0x20e)]('namePreview')[_0x2c021b(0x24d)]=username,showScreen('roomChoiceScreen'));}function closeProfile(){const _0x5385f4=_0x50aeff;document[_0x5385f4(0x20e)]('profileViewer')['style'][_0x5385f4(0x25e)]=_0x5385f4(0x1da);}function resetWebsiteData(){const _0x3958db=_0x50aeff;try{localStorage['clear'](),sessionStorage[_0x3958db(0x1fc)]();}catch(_0x2907d1){}username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId='_'+Math[_0x3958db(0x25f)]()[_0x3958db(0x202)](0x24)[_0x3958db(0x266)](0x2,0x9);}