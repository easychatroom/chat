const _0x324ba2=_0x3889;(function(_0x155a4d,_0x1c3fce){const _0x2188d4=_0x3889,_0x2c13aa=_0x155a4d();while(!![]){try{const _0x151686=parseInt(_0x2188d4(0x159))/0x1+parseInt(_0x2188d4(0x1d5))/0x2+-parseInt(_0x2188d4(0x18a))/0x3+-parseInt(_0x2188d4(0x1f8))/0x4*(parseInt(_0x2188d4(0x15b))/0x5)+parseInt(_0x2188d4(0x163))/0x6*(parseInt(_0x2188d4(0x1e7))/0x7)+-parseInt(_0x2188d4(0x1db))/0x8*(-parseInt(_0x2188d4(0x1e8))/0x9)+-parseInt(_0x2188d4(0x165))/0xa;if(_0x151686===_0x1c3fce)break;else _0x2c13aa['push'](_0x2c13aa['shift']());}catch(_0x466e3d){_0x2c13aa['push'](_0x2c13aa['shift']());}}}(_0x3c84,0xb1c41));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x324ba2(0x1c0),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x324ba2(0x1c1),'messagingSenderId':_0x324ba2(0x150),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':'G-QDESJ2WR42'};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x324ba2(0x1b8)]();let messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x324ba2(0x1fa)]()[_0x324ba2(0x1c9)](0x24)[_0x324ba2(0x1b9)](0x2,0x9),lastActivity=Date[_0x324ba2(0x174)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x324ba2(0x1ea),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound[_0x324ba2(0x158)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![];function checkIfAdmin(){const _0x426812=_0x324ba2,_0x50b55e=db[_0x426812(0x182)](_0x426812(0x197)+roomCode+'/'+sanitizeUsername(username));return _0x50b55e[_0x426812(0x188)](_0x426812(0x18c))[_0x426812(0x1e3)](_0x170976=>{const _0x5a734c=_0x426812;isRoomAdmin=_0x170976[_0x5a734c(0x1ce)]();});}function toggleRecording(){const _0x10f5b5=_0x324ba2;isRecording?stopRecording():navigator[_0x10f5b5(0x176)][_0x10f5b5(0x1cf)]({'audio':!![]})[_0x10f5b5(0x1e3)](_0x14f2f2=>{const _0x28f0a5=_0x10f5b5;mediaRecorder=new MediaRecorder(_0x14f2f2),mediaRecorder[_0x28f0a5(0x16f)](),isRecording=!![],document[_0x28f0a5(0x17f)]('recordBtn')[_0x28f0a5(0x148)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x2a33c4=>audioChunks[_0x28f0a5(0x1bd)](_0x2a33c4[_0x28f0a5(0x1a3)]),mediaRecorder[_0x28f0a5(0x1b7)]=()=>{const _0xaef9f7=_0x28f0a5;clearTimeout(recordingTimer);const _0xce36c=new Blob(audioChunks,{'type':_0xaef9f7(0x1fb)}),_0x55a48b=new FileReader();_0x55a48b[_0xaef9f7(0x1df)]=()=>{const _0x17a1b3=_0xaef9f7,_0x1cd8ac=_0x55a48b[_0x17a1b3(0x151)][_0x17a1b3(0x1b3)](',')[0x1],_0xda65c0=db[_0x17a1b3(0x182)]()[_0x17a1b3(0x1bd)]()[_0x17a1b3(0x19d)];db[_0x17a1b3(0x182)]('rooms/'+roomCode+_0x17a1b3(0x1fd)+_0xda65c0)[_0x17a1b3(0x1a2)]({'msg':_0x17a1b3(0x1c3),'audioBase64':_0x1cd8ac,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x55a48b['readAsDataURL'](_0xce36c);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})['catch'](_0x32c624=>{const _0x53c62e=_0x10f5b5;alert(_0x53c62e(0x175));});}function stopRecording(){const _0x10f5c0=_0x324ba2;mediaRecorder&&isRecording&&(mediaRecorder[_0x10f5c0(0x1b6)](),isRecording=![],document['getElementById'](_0x10f5c0(0x1e9))[_0x10f5c0(0x148)]='🎙️');}window['onload']=()=>{cleanupOldRooms(),setupSidebarBackHandler(),initUsernameFlow(),setupVisibilityAttention();};function sanitizeUsername(_0x4f63cd){return _0x4f63cd['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x39d167=_0x324ba2,_0x29efd0=document[_0x39d167(0x17f)](_0x39d167(0x1d8))[_0x39d167(0x18c)][_0x39d167(0x1f2)](),_0x30b9c5=document[_0x39d167(0x17f)](_0x39d167(0x183))['value']['trim'](),_0x183309=document[_0x39d167(0x17f)](_0x39d167(0x1cd));if(!_0x29efd0||!_0x30b9c5){_0x183309[_0x39d167(0x148)]=_0x39d167(0x171),_0x183309[_0x39d167(0x155)]['display']=_0x39d167(0x1b5);return;}const _0x146dfe=sanitizeUsername(_0x29efd0),_0x4e6b0c=db[_0x39d167(0x182)]('profiles/'+_0x146dfe);_0x4e6b0c['once'](_0x39d167(0x18c))[_0x39d167(0x1e3)](_0x1a7e41=>{const _0x3a6b0d=_0x39d167;if(_0x1a7e41[_0x3a6b0d(0x1ce)]()){_0x183309[_0x3a6b0d(0x148)]='❌\x20Username\x20already\x20taken.',_0x183309[_0x3a6b0d(0x155)][_0x3a6b0d(0x1f6)]=_0x3a6b0d(0x1b5);return;}});}function saveProfile(_0x1f569f,_0x50e238,_0x1871a0){const _0x2d01ae=_0x324ba2,_0x579cd=Date[_0x2d01ae(0x174)](),_0x470794=[_0x1f569f];db['ref']('profiles/'+_0x1871a0)['set']({'username':_0x1f569f,'description':_0x50e238,'lastChanged':_0x579cd,'usernameHistory':_0x470794}),localStorage[_0x2d01ae(0x1cb)](_0x2d01ae(0x1ee),_0x1f569f),localStorage['setItem']('profile_description',_0x50e238),document[_0x2d01ae(0x17f)](_0x2d01ae(0x1be))['innerText']=_0x1f569f,showScreen('roomChoiceScreen');}function generateRoom(){const _0x42ee26=_0x324ba2;roomCode=genRoomCode(),db[_0x42ee26(0x182)](_0x42ee26(0x166)+roomCode)['set']({'active':!![],'created':Date[_0x42ee26(0x174)]()}),startChat();}function joinRoom(){const _0x3b480f=_0x324ba2,_0x7df8b4=roomCode||document[_0x3b480f(0x17f)]('roomCodeInput')['value']['trim']()[_0x3b480f(0x1fc)]();if(!_0x7df8b4)return alert(_0x3b480f(0x149));roomCode=_0x7df8b4;if(roomCode===STATIC_ROOM){showScreen(_0x3b480f(0x1af));return;}db[_0x3b480f(0x182)](_0x3b480f(0x166)+roomCode)['get']()[_0x3b480f(0x1e3)](_0xe7ab10=>{const _0x444c77=_0x3b480f;_0xe7ab10[_0x444c77(0x1ce)]()&&_0xe7ab10['val']()[_0x444c77(0x16c)]!==![]?startChat():alert('Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}function startChat(){const _0xf3148=_0x324ba2;if(!roomCode||!username)return alert('Missing\x20room\x20or\x20user\x20information.'),showScreen(_0xf3148(0x14e));checkIfAdmin()[_0xf3148(0x1e3)](()=>{const _0x2529dc=_0xf3148,_0x369df1=sanitizeUsername(username),_0x5ee62d=db[_0x2529dc(0x182)](_0x2529dc(0x1e4)+roomCode+'/'+_0x369df1),_0x2a5413={'username':username,'lastOnline':firebase[_0x2529dc(0x1b8)][_0x2529dc(0x1b0)]['TIMESTAMP'],'online':!![]};db[_0x2529dc(0x182)]('admins/'+roomCode+'/'+_0x369df1)[_0x2529dc(0x188)](_0x2529dc(0x18c))[_0x2529dc(0x1e3)](_0x5ec583=>{const _0x18d05e=_0x2529dc;_0x5ec583['exists']()&&(_0x2a5413[_0x18d05e(0x17b)]=!![]),_0x5ee62d['set'](_0x2a5413,_0x741586=>{const _0x3c2ea0=_0x18d05e;if(_0x741586)return alert(_0x3c2ea0(0x164)),showScreen(_0x3c2ea0(0x14e));_0x5ee62d['onDisconnect']()[_0x3c2ea0(0x16d)]({'online':![],'lastOnline':Date[_0x3c2ea0(0x174)]()}),document[_0x3c2ea0(0x17f)](_0x3c2ea0(0x1a0))[_0x3c2ea0(0x148)]=username,roomCode===STATIC_ROOM?document[_0x3c2ea0(0x17f)](_0x3c2ea0(0x19a))[_0x3c2ea0(0x148)]='No\x20room\x20code\x20available\x20for\x20private\x20rooms':document['getElementById'](_0x3c2ea0(0x19a))['innerText']=roomCode,showScreen(_0x3c2ea0(0x15d)),listenForMessages(),listenForTyping(),startInactivityTimer(),trackPresence(),listenForUserList();});});});}function validateStaticRoomPassword(){const _0x446682=_0x324ba2,_0x3a2e0b=document[_0x446682(0x17f)](_0x446682(0x1ed))[_0x446682(0x18c)],_0x4fb14c=document[_0x446682(0x17f)]('passwordError');db[_0x446682(0x182)](_0x446682(0x14a))['get']()[_0x446682(0x1e3)](_0x5a77f4=>{const _0x279e73=_0x446682,_0x353dfa=_0x5a77f4[_0x279e73(0x1d7)]();_0x3a2e0b===_0x353dfa?(_0x4fb14c[_0x279e73(0x155)][_0x279e73(0x1f6)]=_0x279e73(0x1d4),startChat()):_0x4fb14c[_0x279e73(0x155)][_0x279e73(0x1f6)]='block';});}function sendMessage(){const _0x4f6a92=_0x324ba2,_0x49f172=document[_0x4f6a92(0x17f)](_0x4f6a92(0x180)),_0x57d169=_0x49f172[_0x4f6a92(0x18c)]['trim']();if(!_0x57d169)return;const _0x2acb3e=Date[_0x4f6a92(0x174)](),_0x121460=sanitizeUsername(username);db[_0x4f6a92(0x182)](_0x4f6a92(0x1a9)+roomCode+'/'+_0x121460)[_0x4f6a92(0x188)]('value')[_0x4f6a92(0x1e3)](_0x5dea6c=>{const _0x10ffa0=_0x4f6a92,_0x54cd3f=_0x5dea6c[_0x10ffa0(0x1d7)]();if(_0x54cd3f&&_0x2acb3e<_0x54cd3f){const _0x1490c0=Math[_0x10ffa0(0x1ab)]((_0x54cd3f-_0x2acb3e)/0x3e8);alert('⛔\x20You\x27re\x20blocked\x20for\x20'+_0x1490c0+_0x10ffa0(0x195));return;}const _0x4f5456=db[_0x10ffa0(0x182)](_0x10ffa0(0x1a6)+roomCode+'/'+sanitizeUsername(username));_0x4f5456['once'](_0x10ffa0(0x18c))[_0x10ffa0(0x1e3)](_0x4b2a70=>{const _0x278a88=_0x10ffa0,_0x1ca579=_0x4b2a70['val']();if(_0x1ca579&&Date[_0x278a88(0x174)]()<_0x1ca579){const _0xcd145a=Math['ceil']((_0x1ca579-Date[_0x278a88(0x174)]())/0x3e8);return alert(_0x278a88(0x1bc)+_0xcd145a+'\x20seconds.');}});const _0x79b3af=db[_0x10ffa0(0x182)](_0x10ffa0(0x16a)+roomCode+'/'+_0x121460);_0x79b3af['once'](_0x10ffa0(0x18c))[_0x10ffa0(0x1e3)](_0x5d0764=>{const _0x1d589a=_0x10ffa0,_0x48cde4=_0x5d0764[_0x1d589a(0x1d7)]()||[],_0x5373f2=[..._0x48cde4,_0x2acb3e][_0x1d589a(0x173)](_0x43e629=>_0x2acb3e-_0x43e629<0xbb8);if(_0x5373f2[_0x1d589a(0x1f4)]>=0x5){alert(_0x1d589a(0x1a8)),db[_0x1d589a(0x182)]('antispamBlocked/'+roomCode+'/'+_0x121460)[_0x1d589a(0x1a2)](_0x2acb3e+0x7530);const _0x270046=db['ref'](_0x1d589a(0x166)+roomCode+_0x1d589a(0x184));_0x270046[_0x1d589a(0x1a5)](_0x1d589a(0x1bb))['equalTo'](clientId)['limitToLast'](0x5)['once']('value',_0x47c4ac=>{const _0x2c0f86=_0x1d589a;_0x47c4ac[_0x2c0f86(0x177)](_0x28c1f4=>{const _0x1881c6=_0x2c0f86;_0x270046['child'](_0x28c1f4[_0x1881c6(0x19d)])['remove']();});}),_0x79b3af[_0x1d589a(0x1a2)]([]);return;}_0x79b3af[_0x1d589a(0x1a2)](_0x5373f2);const _0x424f60=localStorage[_0x1d589a(0x189)]('avatar_base64')||'',_0x2e6c46=db[_0x1d589a(0x182)]()['push']()[_0x1d589a(0x19d)];db['ref'](_0x1d589a(0x166)+roomCode+_0x1d589a(0x1fd)+_0x2e6c46)[_0x1d589a(0x1a2)]({'msg':_0x57d169,'sender':username,'senderId':clientId,'avatarBase64':_0x424f60,'timestamp':_0x2acb3e}),_0x49f172[_0x1d589a(0x18c)]='',sendTyping(!![]),lastActivity=_0x2acb3e;});});}function listenForMessages(){const _0x55cbf3=_0x324ba2,_0x288a37=db['ref']('rooms/'+roomCode+_0x55cbf3(0x184)),_0x2f6ada=_0x288a37[_0x55cbf3(0x192)](MAX_MESSAGES);_0x2f6ada['on'](_0x55cbf3(0x1bf),_0x166e4f=>{const _0xce0750=_0x55cbf3,_0x2078e5=_0x166e4f[_0xce0750(0x1d7)](),{msg:_0x20718b,sender:_0x14fd97,senderId:_0x201c30,timestamp:_0x333a02}=_0x2078e5,_0x4bb669=_0x201c30===clientId,_0x15eb25=_0x2078e5['audioUrl']||null,_0x4d1a05=_0x2078e5[_0xce0750(0x16e)]||null;addMessage(_0x2078e5,_0x4bb669,_0x166e4f[_0xce0750(0x19d)]),roomCode!==STATIC_ROOM&&db[_0xce0750(0x182)]('rooms/'+roomCode+_0xce0750(0x1fd)+_0x166e4f[_0xce0750(0x19d)])[_0xce0750(0x1aa)](),!_0x4bb669&&(sound[_0xce0750(0x1c5)](),flagPageAttention());});}function addMessage(_0x203c76,_0x2a26a4,_0x22233e=null){const _0x29ea84=_0x324ba2,{msg:_0x9b1b77,sender:_0x58f047,senderId:_0x15bc9d,timestamp:_0x7c7cce,audioUrl:_0x2f1213,audioBase64:_0x3dd010,imageBase64:_0x3510e7,avatarBase64:_0x2b2f18}=_0x203c76,_0x4afa58=document[_0x29ea84(0x1f5)](_0x29ea84(0x1ec));_0x4afa58[_0x29ea84(0x1d1)][_0x29ea84(0x1eb)]('msg',_0x2a26a4?_0x29ea84(0x1ca):_0x29ea84(0x17d));const _0x4d557a=new Date(_0x7c7cce)['toLocaleTimeString']([],{'hour':_0x29ea84(0x1a4),'minute':'2-digit'}),_0x4eb439=_0x2b2f18?_0x29ea84(0x1a1)+_0x2b2f18+_0x29ea84(0x1d0):'<span\x20style=\x22margin-right:8px;\x22>👤</span>';let _0x5c89aa=_0x9b1b77?.[_0x29ea84(0x19e)](new RegExp('@'+username+'\x5cb','gi'),_0x29ea84(0x1c2)),_0x241672=_0x4eb439+_0x29ea84(0x187)+_0x58f047+'</span>';_0x2a26a4?_0x241672+='<small>'+_0x4d557a+'\x20·\x20✓✓</small>':_0x241672+='<small>'+_0x4d557a+_0x29ea84(0x1ef);if(_0x2f1213)_0x241672+='<audio\x20controls\x20src=\x22'+_0x2f1213+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x3dd010){const _0x11fb39=_0x29ea84(0x1e6)+_0x3dd010;_0x241672+=_0x29ea84(0x1e1)+_0x11fb39+_0x29ea84(0x15f);}else{if(_0x3510e7){const _0x2f2776=_0x29ea84(0x190)+_0x3510e7;_0x241672+=_0x29ea84(0x1f9)+_0x2f2776+'\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x241672+=_0x29ea84(0x1b2)+_0x5c89aa+_0x29ea84(0x1dc);}}_0x4afa58[_0x29ea84(0x181)]=_0x241672;const _0x153b6d=_0x4afa58['querySelector'](_0x29ea84(0x1a7));_0x153b6d&&db[_0x29ea84(0x182)](_0x29ea84(0x197)+roomCode+'/'+sanitizeUsername(_0x58f047))[_0x29ea84(0x188)](_0x29ea84(0x18c))[_0x29ea84(0x1e3)](_0x785e29=>{const _0x577344=_0x29ea84;_0x785e29[_0x577344(0x1ce)]()&&(_0x153b6d[_0x577344(0x181)]+=_0x577344(0x1d2));});const _0x58e6cc=document[_0x29ea84(0x17f)]('messages');_0x58e6cc['appendChild'](_0x4afa58),_0x58e6cc[_0x29ea84(0x14d)]=_0x58e6cc['scrollHeight'];}function cleanupOldRooms(){const _0x3ce50a=_0x324ba2;db['ref']('rooms')[_0x3ce50a(0x188)](_0x3ce50a(0x18c))['then'](_0x1670b5=>{const _0x1f70a8=_0x3ce50a,_0x5313e1=_0x1670b5[_0x1f70a8(0x1d7)]();if(!_0x5313e1)return;const _0x22f418=Date['now']();for(const _0x17469e in _0x5313e1){if(_0x17469e===STATIC_ROOM)continue;const _0x44fdf8=_0x5313e1[_0x17469e];_0x22f418-(_0x44fdf8[_0x1f70a8(0x1c4)]||0x0)>0x2*0x3c*0x3e8&&db[_0x1f70a8(0x182)](_0x1f70a8(0x166)+_0x17469e)[_0x1f70a8(0x1aa)]();}db[_0x1f70a8(0x182)]('antispam')[_0x1f70a8(0x188)]('value')['then'](_0x58d5fd=>{const _0x5a1a55=_0x1f70a8,_0x2e96ab=_0x58d5fd['val']();if(!_0x2e96ab)return;for(const _0x4bb4a4 in _0x2e96ab){if(_0x4bb4a4!==STATIC_ROOM)db[_0x5a1a55(0x182)](_0x5a1a55(0x16a)+_0x4bb4a4)[_0x5a1a55(0x1aa)]();}}),db['ref']('antispamBlocked')['once'](_0x1f70a8(0x18c))['then'](_0x287332=>{const _0x4e99e4=_0x1f70a8,_0x39298c=_0x287332[_0x4e99e4(0x1d7)]();if(!_0x39298c)return;for(const _0x13fe8d in _0x39298c){if(_0x13fe8d!==STATIC_ROOM)db[_0x4e99e4(0x182)](_0x4e99e4(0x1a9)+_0x13fe8d)['remove']();}});});}document['addEventListener'](_0x324ba2(0x196),()=>{const _0x454b76=_0x324ba2,_0x1f86c5=document[_0x454b76(0x17f)]('msgInput');_0x1f86c5&&_0x1f86c5[_0x454b76(0x162)](_0x454b76(0x154),function(_0x33fba4){const _0x5dff58=_0x454b76;_0x33fba4[_0x5dff58(0x19d)]===_0x5dff58(0x1ad)&&(_0x33fba4[_0x5dff58(0x193)](),sendMessage());});});function showScreen(_0x29ffe4){const _0x574840=_0x324ba2;[_0x574840(0x17c),_0x574840(0x14e),_0x574840(0x1c7),'chatScreen',_0x574840(0x1af),_0x574840(0x179),_0x574840(0x194)][_0x574840(0x177)](_0x2e1b3e=>{const _0x308a30=_0x574840;document[_0x308a30(0x17f)](_0x2e1b3e)[_0x308a30(0x155)][_0x308a30(0x1f6)]=_0x308a30(0x1d4);}),document[_0x574840(0x17f)](_0x29ffe4)[_0x574840(0x155)][_0x574840(0x1f6)]='flex';}function genRoomCode(){const _0x4f0326=_0x324ba2,_0x3c1028=_0x4f0326(0x17a),_0x4e2cec='0123456789',_0x413db9=(_0x1ec20b,_0x38484e)=>Array[_0x4f0326(0x19b)]({'length':_0x38484e},()=>_0x1ec20b[Math[_0x4f0326(0x199)](Math[_0x4f0326(0x1fa)]()*_0x1ec20b[_0x4f0326(0x1f4)])])[_0x4f0326(0x198)]('');return _0x413db9(_0x4e2cec,0x3)+_0x413db9(_0x3c1028,0x3)+_0x413db9(_0x4e2cec,0x2)+_0x413db9(_0x3c1028,0x2);}function startInactivityTimer(){setInterval(()=>{const _0x1e8986=_0x3889;Date[_0x1e8986(0x174)]()-lastActivity>0x5*0x3c*0x3e8&&roomCode!==STATIC_ROOM&&(db['ref']('rooms/'+roomCode)[_0x1e8986(0x16d)]({'active':![]}),alert('Session\x20expired.'),location[_0x1e8986(0x15a)]());},0x7530);}function setupSidebarBackHandler(){const _0x45c7d1=_0x324ba2;window[_0x45c7d1(0x162)]('popstate',()=>{const _0x380dd3=_0x45c7d1,_0x833682=document[_0x380dd3(0x17f)](_0x380dd3(0x18f));_0x833682?.[_0x380dd3(0x1d1)][_0x380dd3(0x1de)]('show')&&_0x833682[_0x380dd3(0x1d1)][_0x380dd3(0x1aa)](_0x380dd3(0x1e5));});}function _0x3c84(){const _0x2af901=['985049198428','result','lastOnline','avatar_base64','keypress','style','●\x20Online','get','volume','1421580ibWOQA','reload','205PTdwdz','profiles/','chatScreen','avatarBase64','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','online','\x0a\x20\x20\x20\x20','addEventListener','17466KaaqOG','Failed\x20to\x20register\x20user\x20in\x20room.','7396780ALGohU','rooms/','profileContent','/typing/','toLocaleTimeString','antispam/','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','active','update','audioBase64','start','/typing','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.',';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27','filter','now','Microphone\x20permission\x20denied.','mediaDevices','forEach','\x0aHistory:\x0a','profileScreen','ABCDEFGHIJKLMNOPQRSTUVWXYZ','admin','usernameScreen','received','usernameHistory','getElementById','msgInput','innerHTML','ref','profileDescriptionInput','/messages','sidebarOpen','<li\x20style=\x22color:','<span\x20class=\x22sender-name\x22>','once','getItem','1840143LrmHwk','hidden','value','src','TIMESTAMP','userSidebar','data:image/png;base64,','pushState','limitToLast','preventDefault','profileViewer','s\x20due\x20to\x20spam.\x20Please\x20wait.','DOMContentLoaded','admins/','join','floor','roomDisplay','from','map','key','replace','\x20minutes.','userDisplay','<img\x20src=\x22data:image/png;base64,','set','data','2-digit','orderByChild','muted/','.sender-name','🚫\x20You\x27ve\x20been\x20blocked\x20for\x2030\x20seconds\x20due\x20to\x20spamming.','antispamBlocked/','remove','ceil','username','Enter','\x0a\x20\x20\x20\x20\x20\x20</li>','passwordScreen','ServerValue','visibilitychange','<div>','split','lastChanged','block','stop','onstop','database','substr','title','senderId','You\x27re\x20muted\x20for\x20another\x20','push','namePreview','child_added','easy-chatroom.firebaseapp.com','easy-chatroom.firebasestorage.app','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','[Voice\x20message]','created','play','No\x20bio\x20set','codeEntryScreen','\x20<span\x20style=\x22color:red;\x22>Admin</span>','toString','sent','setItem','userList','profileError','exists','getUserMedia','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','classList','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','#00ff88','none','139752RChNfJ','description','val','profileUsernameInput','files','onlineStatus','8504AFUZqw','</div>','color','contains','onloadend','toLocaleString','<audio\x20controls\x20src=\x22','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>','then','users/','show','data:audio/webm;base64,','3360oKnhKr','1881HytIHi','recordBtn','050BBB66HH','add','div','staticPasswordInput','chat_username','</small>','Admins\x20only.','\x0aDescription:\x20','trim',')\x20New\x20message\x20•\x20','length','createElement','display','<span\x20style=\x22margin-right:5px;\x22>👤</span>','100460SpTJPp','<img\x20src=\x22','random','audio/webm','toUpperCase','/messages/','innerText','Enter\x20a\x20valid\x20room\x20code','gr8stg','values','Profile\x20not\x20found.','scrollTop','roomChoiceScreen','typing'];_0x3c84=function(){return _0x2af901;};return _0x3c84();}function toggleSidebar(){const _0x3241ac=_0x324ba2,_0x1046dc=document[_0x3241ac(0x17f)]('userSidebar');if(!_0x1046dc[_0x3241ac(0x1d1)][_0x3241ac(0x1de)](_0x3241ac(0x1e5)))_0x1046dc[_0x3241ac(0x1d1)]['add'](_0x3241ac(0x1e5)),history[_0x3241ac(0x191)]({'sidebarOpen':!![]},'');else{_0x1046dc[_0x3241ac(0x1d1)]['remove'](_0x3241ac(0x1e5));if(history['state']?.[_0x3241ac(0x185)])history['back']();}}function setupVisibilityAttention(){const _0x447125=_0x324ba2;let _0x5b3032=0x0,_0xee9f65=document[_0x447125(0x1ba)];document[_0x447125(0x162)](_0x447125(0x1b1),()=>{const _0x58eb28=_0x447125;!document[_0x58eb28(0x18b)]&&(document[_0x58eb28(0x1ba)]=_0xee9f65,_0x5b3032=0x0);}),window['flagPageAttention']=function(){const _0x51b270=_0x447125;document['hidden']&&(_0x5b3032++,document[_0x51b270(0x1ba)]='('+_0x5b3032+_0x51b270(0x1f3)+_0xee9f65);};}function tryEditProfile(){const _0x3bccb3=_0x324ba2,_0x37beae=sanitizeUsername(username);db[_0x3bccb3(0x182)](_0x3bccb3(0x15c)+_0x37beae)['get']()[_0x3bccb3(0x1e3)](_0x49a73e=>{const _0x1fad03=_0x3bccb3,_0x5beab8=_0x49a73e['val']();if(!_0x5beab8)return alert(_0x1fad03(0x14c));const _0x252294=_0x5beab8[_0x1fad03(0x1b4)]||0x0,_0x57317a=Date[_0x1fad03(0x174)](),_0x3a7956=0x18*0x3c*0x3c*0x3e8;if(_0x57317a-_0x252294<_0x3a7956){const _0x3927d2=Math['ceil']((_0x3a7956-(_0x57317a-_0x252294))/(0x3c*0x3e8));alert('You\x20can\x20change\x20your\x20profile\x20again\x20in\x20'+_0x3927d2+_0x1fad03(0x19f));}else showScreen(_0x1fad03(0x179)),document[_0x1fad03(0x17f)](_0x1fad03(0x1d8))[_0x1fad03(0x18c)]=username,document[_0x1fad03(0x17f)](_0x1fad03(0x183))['value']=_0x5beab8[_0x1fad03(0x1d6)]||'';});}function _0x3889(_0x8eda0d,_0xfe8d51){const _0x3c8430=_0x3c84();return _0x3889=function(_0x388967,_0x43ef7b){_0x388967=_0x388967-0x148;let _0x2559a4=_0x3c8430[_0x388967];return _0x2559a4;},_0x3889(_0x8eda0d,_0xfe8d51);}function listenForUserList(){const _0xacfb39=_0x324ba2;db[_0xacfb39(0x182)](_0xacfb39(0x1e4)+roomCode)['on'](_0xacfb39(0x18c),_0x1828b2=>{const _0x178b67=_0xacfb39,_0x48234b=_0x1828b2[_0x178b67(0x1d7)]()||{},_0x146ead=Date['now'](),_0x3337aa=Object[_0x178b67(0x14b)](_0x48234b)[_0x178b67(0x19c)](_0x10a66d=>{const _0x4096cd=_0x178b67,_0xb65f66=_0x10a66d[_0x4096cd(0x160)],_0x5d1855=_0x146ead-_0x10a66d[_0x4096cd(0x152)]<=0x1e*0x3c*0x3e8;if(!_0xb65f66&&!_0x5d1855)return'';const _0x58ae08=_0xb65f66?_0x4096cd(0x1d3):'#888',_0x2f7099=_0xb65f66?'🟢':'🕒',_0x46f63f=new Date(_0x10a66d[_0x4096cd(0x152)])[_0x4096cd(0x169)]([],{'hour':_0x4096cd(0x1a4),'minute':_0x4096cd(0x1a4)}),_0x1f3f98=_0x10a66d[_0x4096cd(0x15e)]?_0x4096cd(0x1a1)+_0x10a66d[_0x4096cd(0x15e)]+_0x4096cd(0x1e2):_0x4096cd(0x1f7),_0x13c58b=_0x10a66d[_0x4096cd(0x17b)]?_0x4096cd(0x1c8):'';return _0x4096cd(0x186)+_0x58ae08+_0x4096cd(0x172)+sanitizeUsername(_0x10a66d[_0x4096cd(0x1ac)])+_0x4096cd(0x16b)+_0x1f3f98+_0x2f7099+'\x20'+_0x10a66d[_0x4096cd(0x1ac)]+_0x13c58b+_0x4096cd(0x1ae);})['join']('');document[_0x178b67(0x17f)](_0x178b67(0x1cc))[_0x178b67(0x181)]=_0x3337aa;});}function sendTyping(_0x1a98e2=![]){const _0x4e8ac4=_0x324ba2,_0x2745f0=_0x4e8ac4(0x166)+roomCode+_0x4e8ac4(0x168)+clientId;_0x1a98e2?db['ref'](_0x2745f0)[_0x4e8ac4(0x1aa)]():(db[_0x4e8ac4(0x182)](_0x2745f0)['set'](username),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0xd56c26=_0x4e8ac4;db[_0xd56c26(0x182)](_0x2745f0)[_0xd56c26(0x1aa)]();},0xbb8));}function listenForTyping(){const _0x356ce7=_0x324ba2,_0xddc773=document['getElementById'](_0x356ce7(0x14f));db[_0x356ce7(0x182)](_0x356ce7(0x166)+roomCode+_0x356ce7(0x170))['on'](_0x356ce7(0x18c),_0x4ce151=>{const _0x2ad1d0=_0x356ce7,_0x4e9925=_0x4ce151[_0x2ad1d0(0x1d7)]();if(!_0x4e9925)return _0xddc773[_0x2ad1d0(0x148)]='';const _0x302b9a=Object[_0x2ad1d0(0x14b)](_0x4e9925)[_0x2ad1d0(0x173)](_0xf8550f=>_0xf8550f!==username);_0xddc773[_0x2ad1d0(0x148)]=_0x302b9a['length']?_0x302b9a[_0x2ad1d0(0x198)](',\x20')+'\x20typing...':'';});}function trackPresence(){const _0x3f3f8c=_0x324ba2;if(!username||!roomCode)return;const _0x1ba457=sanitizeUsername(username),_0x516c1e=db[_0x3f3f8c(0x182)](_0x3f3f8c(0x1e4)+roomCode+'/'+_0x1ba457),_0x20edfe=localStorage[_0x3f3f8c(0x189)](_0x3f3f8c(0x153))||'',_0x1aca85={'username':username,'lastOnline':firebase[_0x3f3f8c(0x1b8)][_0x3f3f8c(0x1b0)][_0x3f3f8c(0x18e)],'online':!![],'avatarBase64':_0x20edfe};db[_0x3f3f8c(0x182)]('admins/'+roomCode+'/'+_0x1ba457)[_0x3f3f8c(0x188)]('value')[_0x3f3f8c(0x1e3)](_0x48f9f1=>{const _0x484a38=_0x3f3f8c;if(_0x48f9f1[_0x484a38(0x1ce)]())_0x1aca85[_0x484a38(0x17b)]=!![];_0x516c1e[_0x484a38(0x1a2)](_0x1aca85),_0x516c1e['onDisconnect']()[_0x484a38(0x16d)]({'online':![],'lastOnline':Date[_0x484a38(0x174)]()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0xcd5355){const _0x131d19=_0x324ba2;if(!_0xcd5355[_0x131d19(0x1d9)][_0x131d19(0x1f4)])return;const _0xe71217=new FileReader();_0xe71217[_0x131d19(0x1df)]=()=>{const _0x454308=_0x131d19,_0x12ddbd=_0xe71217['result'][_0x454308(0x1b3)](',')[0x1];localStorage[_0x454308(0x1cb)](_0x454308(0x153),_0x12ddbd);const _0x3ac834=document[_0x454308(0x17f)]('sidebarAvatarPreview');_0x3ac834[_0x454308(0x18d)]='data:image/png;base64,'+_0x12ddbd,_0x3ac834[_0x454308(0x155)][_0x454308(0x1f6)]=_0x454308(0x1b5),trackPresence();},_0xe71217['readAsDataURL'](_0xcd5355[_0x131d19(0x1d9)][0x0]);}function muteUser(_0x2c467b,_0x41e609){const _0xf3b719=_0x324ba2;if(!isRoomAdmin)return alert(_0xf3b719(0x1f0));const _0x3bdf45=Date[_0xf3b719(0x174)]()+_0x41e609*0x3c*0x3e8;db[_0xf3b719(0x182)](_0xf3b719(0x1a6)+roomCode+'/'+sanitizeUsername(_0x2c467b))[_0xf3b719(0x1a2)](_0x3bdf45);}function unmuteUser(_0x525f43){const _0x25c61c=_0x324ba2;if(!isRoomAdmin)return alert(_0x25c61c(0x1f0));db[_0x25c61c(0x182)](_0x25c61c(0x1a6)+roomCode+'/'+sanitizeUsername(_0x525f43))[_0x25c61c(0x1aa)]();}function updateOnlineIndicator(){const _0x2e6c78=_0x324ba2,_0x507b43=document[_0x2e6c78(0x17f)](_0x2e6c78(0x1da));_0x507b43[_0x2e6c78(0x148)]=_0x2e6c78(0x156),_0x507b43[_0x2e6c78(0x155)][_0x2e6c78(0x1dd)]=_0x2e6c78(0x1d3);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x3c6052){const _0x476e75=_0x324ba2;db[_0x476e75(0x182)]('profiles/'+_0x3c6052)[_0x476e75(0x157)]()[_0x476e75(0x1e3)](_0x545a06=>{const _0x4d63ae=_0x476e75;if(!_0x545a06[_0x4d63ae(0x1ce)]())return;const _0x46d5d9=_0x545a06['val'](),_0x554637=('\x0aName:\x20'+_0x46d5d9[_0x4d63ae(0x1ac)]+_0x4d63ae(0x1f1)+(_0x46d5d9[_0x4d63ae(0x1d6)]||_0x4d63ae(0x1c6))+_0x4d63ae(0x178)+(_0x46d5d9[_0x4d63ae(0x17e)]||[])[_0x4d63ae(0x198)]('\x0a')+'\x0aLast\x20Changed:\x20'+new Date(_0x46d5d9[_0x4d63ae(0x1b4)])[_0x4d63ae(0x1e0)]()+_0x4d63ae(0x161))[_0x4d63ae(0x1f2)]();document['getElementById'](_0x4d63ae(0x167))['innerText']=_0x554637,document['getElementById'](_0x4d63ae(0x194))[_0x4d63ae(0x155)][_0x4d63ae(0x1f6)]=_0x4d63ae(0x1b5);});}function initUsernameFlow(){const _0x4ab53d=_0x324ba2,_0x83cdf3=localStorage[_0x4ab53d(0x189)](_0x4ab53d(0x1ee));!_0x83cdf3?showScreen(_0x4ab53d(0x179)):(username=_0x83cdf3,document[_0x4ab53d(0x17f)](_0x4ab53d(0x1be))['innerText']=username,showScreen('roomChoiceScreen'));}function closeProfile(){const _0x27924a=_0x324ba2;document[_0x27924a(0x17f)]('profileViewer')[_0x27924a(0x155)][_0x27924a(0x1f6)]=_0x27924a(0x1d4);}