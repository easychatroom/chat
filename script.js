const _0x1534a5=_0xd91b;(function(_0x2b3bb5,_0x4b8833){const _0x238fd7=_0xd91b,_0x30bfe5=_0x2b3bb5();while(!![]){try{const _0x18b66a=-parseInt(_0x238fd7(0x4a0))/0x1+-parseInt(_0x238fd7(0x39f))/0x2*(-parseInt(_0x238fd7(0x459))/0x3)+-parseInt(_0x238fd7(0x312))/0x4*(parseInt(_0x238fd7(0x4d5))/0x5)+-parseInt(_0x238fd7(0x1fa))/0x6+-parseInt(_0x238fd7(0x1c7))/0x7*(parseInt(_0x238fd7(0x1fd))/0x8)+-parseInt(_0x238fd7(0x2f5))/0x9+parseInt(_0x238fd7(0x469))/0xa;if(_0x18b66a===_0x4b8833)break;else _0x30bfe5['push'](_0x30bfe5['shift']());}catch(_0x481e87){_0x30bfe5['push'](_0x30bfe5['shift']());}}}(_0x1885,0xb0a70));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x1534a5(0x492),'projectId':_0x1534a5(0x4f6),'storageBucket':_0x1534a5(0x4ff),'messagingSenderId':_0x1534a5(0x497),'appId':_0x1534a5(0x3cf),'measurementId':_0x1534a5(0x3e0)};let lastVerificationCode=null;firebase['initializeApp'](firebaseConfig);const messaging=firebase[_0x1534a5(0x242)](),db=firebase[_0x1534a5(0x23a)]();let deviceId=null;((async()=>{const _0x4cfbf0={'vghNw':function(_0x1d95b4){return _0x1d95b4();}};deviceId=await _0x4cfbf0['vghNw'](generateDeviceId);})());const swearWords=[_0x1534a5(0x294),_0x1534a5(0x2d8),_0x1534a5(0x4f8),_0x1534a5(0x4cc),_0x1534a5(0x2a9),_0x1534a5(0x2c1),'cunt',_0x1534a5(0x303),_0x1534a5(0x460),_0x1534a5(0x494),_0x1534a5(0x423),'cabron',_0x1534a5(0x2e3),'porra',_0x1534a5(0x25a),_0x1534a5(0x33f),'puta',_0x1534a5(0x421),'otario',_0x1534a5(0x2a1),_0x1534a5(0x3c2),_0x1534a5(0x36b),_0x1534a5(0x1ef),_0x1534a5(0x2d6),_0x1534a5(0x269),'putang\x20ina'],style=document[_0x1534a5(0x3dd)](_0x1534a5(0x1cd));style[_0x1534a5(0x1fc)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a';let userDescription='',avatarBase64='';document[_0x1534a5(0x4bb)][_0x1534a5(0x4a6)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x1534a5(0x2c2)]()[_0x1534a5(0x1bf)](0x24)[_0x1534a5(0x376)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x1534a5(0x1e0),MAX_MESSAGES=0xfa,sound=new Audio(_0x1534a5(0x3da));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3c91b2=_0x1534a5,_0x753a51={'lYsKO':function(_0x50d5ad,_0x2a2304){return _0x50d5ad+_0x2a2304;},'CUBiB':function(_0x195a33,_0x49ff53){return _0x195a33(_0x49ff53);}},_0x42ea2d=_0x753a51[_0x3c91b2(0x22f)](navigator['userAgent']+screen['width'],screen[_0x3c91b2(0x429)]),_0x480bbc=await _0x753a51['CUBiB'](sha256,_0x42ea2d);return'_'+_0x480bbc[_0x3c91b2(0x376)](0x0,0x14);}function sha256(_0x3f6c3b){const _0x3df722=_0x1534a5,_0x312931={'eYfQg':_0x3df722(0x211)},_0x31ceef=new TextEncoder()[_0x3df722(0x289)](_0x3f6c3b);return crypto[_0x3df722(0x412)][_0x3df722(0x26c)](_0x312931[_0x3df722(0x299)],_0x31ceef)[_0x3df722(0x3bb)](_0x54fd3d=>{const _0x81e904=_0x3df722;return Array['from'](new Uint8Array(_0x54fd3d))[_0x81e904(0x264)](_0x42e4b8=>_0x42e4b8['toString'](0x10)[_0x81e904(0x261)](0x2,'0'))[_0x81e904(0x240)]('');});}function toggleNotifications(){const _0x5bcbb5=_0x1534a5,_0x57d7a6={'tLWmy':_0x5bcbb5(0x3d7),'yFdot':_0x5bcbb5(0x4c1),'mkCod':_0x5bcbb5(0x1c1),'qCTEX':function(_0x4c8c84,_0x490b13){return _0x4c8c84!==_0x490b13;}};_0x57d7a6[_0x5bcbb5(0x29b)](Notification[_0x5bcbb5(0x21d)],_0x57d7a6[_0x5bcbb5(0x279)])?Notification[_0x5bcbb5(0x3b6)]()[_0x5bcbb5(0x3bb)](_0x1cddef=>{const _0x26c6fe=_0x5bcbb5;_0x1cddef===_0x57d7a6[_0x26c6fe(0x279)]&&(notificationsEnabled=!![],localStorage['setItem'](_0x57d7a6[_0x26c6fe(0x306)],_0x57d7a6[_0x26c6fe(0x25b)]),document['getElementById'](_0x26c6fe(0x1e5))[_0x26c6fe(0x445)]=_0x26c6fe(0x470));}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x5bcbb5(0x49c)](_0x57d7a6[_0x5bcbb5(0x306)],notificationsEnabled?_0x57d7a6['mkCod']:_0x5bcbb5(0x480)),document[_0x5bcbb5(0x33e)]('notifToggleBtn')[_0x5bcbb5(0x445)]=notificationsEnabled?_0x5bcbb5(0x470):_0x5bcbb5(0x2b3));}function toggleAuthMode(){const _0x4990cc=_0x1534a5,_0x24b08c={'jwUfF':'authTitle','EAMjL':'Login','UjQlV':'authEmail','hiOwZ':_0x4990cc(0x200),'ILAiR':_0x4990cc(0x388),'AMYZr':_0x4990cc(0x28c),'FHegm':'authPasswordConfirm','UzPIK':'authAvatar','YwatG':'authAvatarPreview','qsTpJ':_0x4990cc(0x336),'eDoUC':_0x4990cc(0x370),'bmMkj':_0x4990cc(0x3ea),'CPmmp':_0x4990cc(0x290),'ZTwHe':'toggleAuthMode','arhMn':'Already\x20have\x20an\x20account?\x20Login','CSzRf':_0x4990cc(0x1df)};isRegisterMode=!isRegisterMode,document[_0x4990cc(0x33e)](_0x24b08c['jwUfF'])[_0x4990cc(0x445)]=isRegisterMode?_0x4990cc(0x353):_0x24b08c[_0x4990cc(0x45e)],document[_0x4990cc(0x33e)](_0x24b08c[_0x4990cc(0x292)])[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=isRegisterMode?_0x24b08c[_0x4990cc(0x414)]:_0x24b08c[_0x4990cc(0x2bc)],document['getElementById']('sendCodeBtn')[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=isRegisterMode?_0x24b08c[_0x4990cc(0x414)]:_0x24b08c['ILAiR'],document['getElementById'](_0x24b08c[_0x4990cc(0x48e)])[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=isRegisterMode?_0x4990cc(0x200):_0x24b08c[_0x4990cc(0x2bc)],document['getElementById'](_0x24b08c[_0x4990cc(0x28d)])[_0x4990cc(0x1cd)]['display']=isRegisterMode?_0x24b08c['hiOwZ']:_0x4990cc(0x388),document[_0x4990cc(0x33e)](_0x4990cc(0x1d2))['style']['display']=isRegisterMode?_0x24b08c[_0x4990cc(0x414)]:_0x24b08c['ILAiR'],document[_0x4990cc(0x33e)](_0x24b08c[_0x4990cc(0x2a8)])[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=isRegisterMode?_0x4990cc(0x200):_0x24b08c[_0x4990cc(0x2bc)],document[_0x4990cc(0x33e)](_0x24b08c[_0x4990cc(0x205)])['style']['display']=_0x24b08c[_0x4990cc(0x2bc)],document['getElementById'](_0x24b08c[_0x4990cc(0x3c5)])[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=_0x4990cc(0x200),document[_0x4990cc(0x33e)](_0x24b08c['eDoUC'])[_0x4990cc(0x445)]=isRegisterMode?_0x24b08c[_0x4990cc(0x491)]:_0x24b08c[_0x4990cc(0x45e)],document['getElementById'](_0x24b08c[_0x4990cc(0x384)])[_0x4990cc(0x1cd)][_0x4990cc(0x43e)]=_0x24b08c['ILAiR'],document['getElementById'](_0x24b08c[_0x4990cc(0x4de)])[_0x4990cc(0x445)]=isRegisterMode?_0x24b08c[_0x4990cc(0x2e2)]:_0x24b08c[_0x4990cc(0x1e7)];}function previewAvatar(){const _0x5eb95a=_0x1534a5,_0x36ab6f={'vWmSM':_0x5eb95a(0x22b),'aWKSV':_0x5eb95a(0x200),'HoZWg':_0x5eb95a(0x38e)},_0x3115c7=document['getElementById'](_0x36ab6f[_0x5eb95a(0x25c)]);if(!_0x3115c7[_0x5eb95a(0x4c7)][_0x5eb95a(0x4e6)])return;const _0x20901f=new FileReader();_0x20901f[_0x5eb95a(0x30f)]=()=>{const _0x38dfc6=_0x5eb95a;document[_0x38dfc6(0x33e)](_0x36ab6f[_0x38dfc6(0x3df)])[_0x38dfc6(0x400)]=_0x20901f[_0x38dfc6(0x4ad)],document[_0x38dfc6(0x33e)](_0x36ab6f[_0x38dfc6(0x3df)])[_0x38dfc6(0x1cd)]['display']=_0x36ab6f[_0x38dfc6(0x372)];},_0x20901f[_0x5eb95a(0x4bc)](_0x3115c7[_0x5eb95a(0x4c7)][0x0]);}async function sendVerificationCode(){const _0xebe4df=_0x1534a5,_0x5b8154={'AZOjO':'authEmail','niUkI':_0xebe4df(0x336),'MehtF':_0xebe4df(0x388),'ZGNsj':function(_0x114165,_0x393f04){return _0x114165||_0x393f04;},'AqvrN':_0xebe4df(0x373),'HKcYs':'block','fAgAw':function(_0x5be5cf,_0x2d4b22){return _0x5be5cf*_0x2d4b22;},'jjdQP':function(_0x4593ad,_0x5b5bfa){return _0x4593ad*_0x5b5bfa;},'ByQbS':function(_0x4a67cb,_0x49ad41){return _0x4a67cb>=_0x49ad41;},'nsTDF':function(_0x3beb26,_0x10827d){return _0x3beb26-_0x10827d;},'eWtBN':function(_0x10ae0a,_0xb43fcf){return _0x10ae0a*_0xb43fcf;},'hPBjS':function(_0x59591b,_0x5f2325){return _0x59591b<_0x5f2325;},'WsEej':function(_0x51870c,_0x26a57b){return _0x51870c/_0x26a57b;},'cKRAm':function(_0x33dee4,_0x25ff8f){return _0x33dee4-_0x25ff8f;},'GgLjE':function(_0x3511a9,_0x55c7b5){return _0x3511a9+_0x55c7b5;},'VgocI':function(_0x18d5e0,_0x4942ca){return _0x18d5e0*_0x4942ca;},'ztLtd':_0xebe4df(0x2bf),'ToIPQ':function(_0xa84e14,_0xb2fe11){return _0xa84e14(_0xb2fe11);},'BflXl':_0xebe4df(0x3b5),'AKeNK':_0xebe4df(0x1f1),'EsOad':_0xebe4df(0x453),'hkfaS':'c1EG9jBJFQSM_dFHY','PIZMJ':_0xebe4df(0x3b3)},_0x3b70c5=document[_0xebe4df(0x33e)](_0x5b8154['AZOjO'])[_0xebe4df(0x40b)]['trim']()[_0xebe4df(0x47c)](),_0x433603=document[_0xebe4df(0x33e)](_0x5b8154[_0xebe4df(0x23e)])['value'][_0xebe4df(0x466)](),_0x3cfd8f=document[_0xebe4df(0x33e)]('authError');_0x3cfd8f[_0xebe4df(0x1cd)]['display']=_0x5b8154['MehtF'];if(_0x5b8154[_0xebe4df(0x4d1)](!_0x3b70c5,!_0x433603)){_0x3cfd8f[_0xebe4df(0x445)]=_0x5b8154['AqvrN'],_0x3cfd8f[_0xebe4df(0x1cd)][_0xebe4df(0x43e)]=_0x5b8154['HKcYs'];return;}const _0x3ccff1=_0x3b70c5[_0xebe4df(0x1d4)](/[.#$\[\]]/g,'_'),_0x1b7319=db[_0xebe4df(0x39b)]('verificationTracker/'+_0x3ccff1),_0x4cb0da=await _0x1b7319[_0xebe4df(0x352)](),_0x2f0e0c=Date[_0xebe4df(0x23d)](),_0x5f2900=_0x5b8154[_0xebe4df(0x31a)](0x18*0x3c*0x3c,0x3e8),_0x468fad=_0x5b8154['jjdQP'](0xa*0x3c,0x3e8);let _0xb2ed4f=[];if(_0x4cb0da[_0xebe4df(0x4cb)]()){const _0x221105=_0x4cb0da[_0xebe4df(0x31b)]();_0xb2ed4f=_0x221105[_0xebe4df(0x28f)]||[],_0xb2ed4f=_0xb2ed4f['filter'](_0x34e22a=>_0x2f0e0c-_0x34e22a<0x2*_0x5f2900);if(_0x5b8154['ByQbS'](_0xb2ed4f['length'],0x3)&&_0x5b8154[_0xebe4df(0x4a5)](_0x2f0e0c,_0xb2ed4f[0x2])<_0x5b8154['eWtBN'](0x2,_0x5f2900)){_0x3cfd8f[_0xebe4df(0x445)]='❌\x20Too\x20many\x20attempts.\x20Try\x20again\x20in\x202\x20days.',_0x3cfd8f[_0xebe4df(0x1cd)]['display']=_0x5b8154[_0xebe4df(0x2da)];return;}const _0x3adbba=_0x221105[_0xebe4df(0x4fd)]||0x0;if(_0x5b8154[_0xebe4df(0x44a)](_0x5b8154['nsTDF'](_0x2f0e0c,_0x3adbba),_0x468fad)){const _0xef5e93=Math['ceil'](_0x5b8154['WsEej'](_0x5b8154[_0xebe4df(0x214)](_0x468fad,_0x2f0e0c-_0x3adbba),0xea60));_0x3cfd8f[_0xebe4df(0x445)]=_0xebe4df(0x33d)+_0xef5e93+_0xebe4df(0x368),_0x3cfd8f[_0xebe4df(0x1cd)][_0xebe4df(0x43e)]=_0x5b8154[_0xebe4df(0x2da)];return;}}const _0x5999eb=Math[_0xebe4df(0x243)](_0x5b8154[_0xebe4df(0x4e9)](0x186a0,_0x5b8154['VgocI'](Math['random'](),0xdbba0)))[_0xebe4df(0x1bf)](),_0x139f65=await db['ref'](_0xebe4df(0x236))[_0xebe4df(0x2c0)](_0xebe4df(0x40b)),_0x59fc48=_0x139f65['val']()||{},_0x1faba9=Object['values'](_0x59fc48)[_0xebe4df(0x405)](_0x78d490=>_0x78d490[_0xebe4df(0x307)]?.['toLowerCase']()===_0x3b70c5);if(_0x1faba9){_0x3cfd8f['innerText']=_0xebe4df(0x4e3),_0x3cfd8f[_0xebe4df(0x1cd)][_0xebe4df(0x43e)]=_0x5b8154['HKcYs'];return;}lastVerificationCode=_0x5999eb;try{const _0x464b65=_0x5b8154[_0xebe4df(0x1d3)][_0xebe4df(0x3b8)]('|');let _0x1b3732=0x0;while(!![]){switch(_0x464b65[_0x1b3732++]){case'0':await _0x1b7319[_0xebe4df(0x268)]({'lastSent':_0x2f0e0c,'attempts':_0xb2ed4f});continue;case'1':_0xb2ed4f['push'](_0x2f0e0c);continue;case'2':_0x5b8154[_0xebe4df(0x1d0)](alert,_0x5b8154[_0xebe4df(0x1f5)]);continue;case'3':await emailjs[_0xebe4df(0x482)](_0x5b8154[_0xebe4df(0x389)],_0x5b8154['EsOad'],{'to_email':_0x3b70c5,'to_name':_0x433603,'message':_0x5999eb},_0x5b8154[_0xebe4df(0x437)]);continue;case'4':document[_0xebe4df(0x33e)](_0xebe4df(0x28c))[_0xebe4df(0x1cd)][_0xebe4df(0x43e)]=_0x5b8154[_0xebe4df(0x2da)];continue;}break;}}catch(_0x51698d){_0x3cfd8f[_0xebe4df(0x445)]=_0x5b8154[_0xebe4df(0x473)],_0x3cfd8f[_0xebe4df(0x1cd)][_0xebe4df(0x43e)]=_0x5b8154[_0xebe4df(0x2da)],console[_0xebe4df(0x495)](_0x51698d);}}async function submitAuth(){const _0x307b46=_0x1534a5,_0x46415f={'ggjsV':_0x307b46(0x24e),'gZdXp':_0x307b46(0x454),'sDwpH':_0x307b46(0x290),'UEIyT':_0x307b46(0x200),'lOOFx':function(_0x239293,_0x33d6bb){return _0x239293!==_0x33d6bb;},'jCzQP':'Passwords\x20do\x20not\x20match.','OlQVJ':function(_0x3bd728,_0x23f8a7){return _0x3bd728!==_0x23f8a7;},'xsOLw':_0x307b46(0x220),'MlDNx':function(_0x342722,_0x48f409){return _0x342722(_0x48f409);},'kGaFo':function(_0x3df185,_0x280d79){return _0x3df185+_0x280d79;},'DwqTm':'users/','cMDcQ':_0x307b46(0x3fe),'AyPcN':_0x307b46(0x32a),'dEfnU':function(_0x5ccb0d,_0x540057){return _0x5ccb0d===_0x540057;},'QAFGV':_0x307b46(0x255),'qjckY':'Incorrect\x20password.','Ffloo':_0x307b46(0x446),'HtBMI':'Username\x20or\x20email\x20not\x20found.','VXBxV':_0x307b46(0x42d),'bLwhE':'authUsername','CsIpR':function(_0x3925be,_0xa1a7bf){return _0x3925be||_0xa1a7bf;},'iJXbK':_0x307b46(0x4c0),'hDiCK':_0x307b46(0x2a6),'ggpcB':_0x307b46(0x308),'dMqYy':_0x307b46(0x29e),'KBPtZ':_0x307b46(0x425),'dnJbJ':function(_0x1454f8,_0x327193){return _0x1454f8||_0x327193;},'AqrqV':'No\x20bio\x20set.','tvyqa':function(_0x37d47a){return _0x37d47a();},'KHHHl':'auth/email-already-in-use','jWmWq':_0x307b46(0x2f7),'XuRyM':_0x307b46(0x2e5)},_0x27e5f9=document[_0x307b46(0x33e)](_0x307b46(0x362))[_0x307b46(0x40b)][_0x307b46(0x466)](),_0x33658e=document[_0x307b46(0x33e)](_0x307b46(0x336))[_0x307b46(0x40b)][_0x307b46(0x466)](),_0x383d59=document[_0x307b46(0x33e)](_0x46415f[_0x307b46(0x4be)])[_0x307b46(0x40b)][_0x307b46(0x466)](),_0x4ed63f=document['getElementById'](_0x46415f[_0x307b46(0x4f1)])[_0x307b46(0x40b)][_0x307b46(0x466)](),_0x4fbe09=document[_0x307b46(0x33e)]('authVerificationCode')[_0x307b46(0x40b)]['trim'](),_0x500331=document['getElementById'](_0x46415f['sDwpH']);_0x500331[_0x307b46(0x1cd)][_0x307b46(0x43e)]=_0x307b46(0x388);if(isRegisterMode){if(!_0x27e5f9||!_0x33658e||!_0x383d59||!_0x4ed63f||!_0x4fbe09){_0x500331[_0x307b46(0x445)]='Fill\x20all\x20fields.',_0x500331[_0x307b46(0x1cd)][_0x307b46(0x43e)]=_0x46415f[_0x307b46(0x1e1)];return;}if(_0x46415f[_0x307b46(0x297)](_0x383d59,_0x4ed63f)){_0x500331[_0x307b46(0x445)]=_0x46415f[_0x307b46(0x3a6)],_0x500331[_0x307b46(0x1cd)][_0x307b46(0x43e)]=_0x46415f[_0x307b46(0x1e1)];return;}if(_0x46415f[_0x307b46(0x4b3)](_0x4fbe09,lastVerificationCode)){_0x500331[_0x307b46(0x445)]=_0x46415f[_0x307b46(0x3eb)],_0x500331[_0x307b46(0x1cd)]['display']=_0x46415f[_0x307b46(0x1e1)];return;}try{const _0x18eb57=await firebase[_0x307b46(0x236)]()[_0x307b46(0x4a1)](_0x27e5f9,_0x383d59),_0x3ff91f=_0x18eb57['user'],_0x35493d=_0x46415f[_0x307b46(0x257)](sanitizeUsername,_0x33658e);await db[_0x307b46(0x39b)](_0x46415f[_0x307b46(0x4c5)](_0x46415f[_0x307b46(0x2b0)],_0x35493d))[_0x307b46(0x268)]({'username':_0x33658e,'email':_0x27e5f9,'createdAt':Date[_0x307b46(0x23d)]()}),await firebase[_0x307b46(0x236)]()['signOut'](),_0x46415f['MlDNx'](alert,_0x46415f['cMDcQ']),toggleAuthMode();}catch(_0x204e2a){console[_0x307b46(0x27b)]('Firebase\x20login\x20error:',_0x204e2a);let _0x5c2046=_0x46415f[_0x307b46(0x430)];if(_0x46415f['dEfnU'](_0x204e2a[_0x307b46(0x488)],_0x46415f[_0x307b46(0x3be)]))_0x5c2046=_0x46415f['qjckY'];else{if(_0x204e2a[_0x307b46(0x488)]===_0x46415f[_0x307b46(0x3bc)])_0x5c2046=_0x46415f[_0x307b46(0x3af)];else _0x46415f[_0x307b46(0x1ec)](_0x204e2a[_0x307b46(0x488)],_0x307b46(0x3ec))&&(_0x5c2046=_0x46415f[_0x307b46(0x46a)]);}_0x500331[_0x307b46(0x445)]=_0x5c2046,_0x500331[_0x307b46(0x1cd)]['display']=_0x46415f['UEIyT'];}}else{const _0x54a298=document[_0x307b46(0x33e)](_0x46415f[_0x307b46(0x26b)])[_0x307b46(0x40b)][_0x307b46(0x466)]();if(_0x46415f[_0x307b46(0x4b2)](!_0x54a298,!_0x383d59)){_0x500331['innerText']=_0x46415f[_0x307b46(0x1ee)],_0x500331['style'][_0x307b46(0x43e)]=_0x46415f['UEIyT'];return;}try{let _0x23e08a='',_0x21064d=null;const _0x347738=/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x307b46(0x45c)](_0x54a298);if(_0x347738){const _0x37a7ef=await db[_0x307b46(0x39b)](_0x46415f[_0x307b46(0x1e6)])[_0x307b46(0x2c0)](_0x307b46(0x40b)),_0x53c3a0=_0x37a7ef[_0x307b46(0x31b)](),_0x45f0e0=Object[_0x307b46(0x1d5)](_0x53c3a0)[_0x307b46(0x233)](_0x3b589f=>_0x3b589f[_0x307b46(0x307)]===_0x54a298);if(!_0x45f0e0)throw new Error(_0x46415f[_0x307b46(0x49a)]);_0x23e08a=_0x45f0e0[_0x307b46(0x307)],username=_0x45f0e0[_0x307b46(0x394)];}else{_0x21064d=await db[_0x307b46(0x39b)](_0x46415f['DwqTm']+sanitizeUsername(_0x54a298))[_0x307b46(0x352)]();if(!_0x21064d[_0x307b46(0x4cb)]())throw new Error(_0x46415f[_0x307b46(0x4ae)]);_0x23e08a=_0x21064d[_0x307b46(0x31b)]()[_0x307b46(0x307)],username=_0x21064d[_0x307b46(0x31b)]()[_0x307b46(0x394)];}const _0x27803f=await firebase[_0x307b46(0x236)]()['signInWithEmailAndPassword'](_0x23e08a,_0x383d59),_0x567919=_0x27803f[_0x307b46(0x425)],_0x547f65={'username':sanitizedUsername,'passwordHash':hashedPassword,'deviceId':deviceId,'role':_0x46415f[_0x307b46(0x31e)],'avatarBase64':_0x46415f[_0x307b46(0x230)](avatarBase64,''),'description':userDescription||_0x46415f[_0x307b46(0x302)],'lastChanged':Date['now'](),'usernameHistory':[sanitizedUsername]};await db[_0x307b46(0x39b)](_0x307b46(0x227)+sanitizedUsername)[_0x307b46(0x268)](_0x547f65),_0x46415f[_0x307b46(0x2bb)](startAfterAuth);}catch(_0x2af0fe){console[_0x307b46(0x27b)](_0x307b46(0x2f6),_0x2af0fe);let _0x4600a5=_0x307b46(0x248);if(_0x46415f[_0x307b46(0x1ec)](_0x2af0fe[_0x307b46(0x488)],_0x46415f[_0x307b46(0x380)]))_0x4600a5=_0x46415f[_0x307b46(0x1e4)];else _0x2af0fe[_0x307b46(0x488)]===_0x46415f[_0x307b46(0x4ba)]&&(_0x4600a5=_0x307b46(0x2f8));_0x500331['innerText']=_0x4600a5,_0x500331[_0x307b46(0x1cd)][_0x307b46(0x43e)]=_0x46415f[_0x307b46(0x1e1)];}}}async function saveNewUser(_0x308740,_0x4f768e,_0x3d6c85,_0x12d4d6,_0x31d48a){const _0xe4e9ed=_0x1534a5,_0x398d79={'dKpxE':function(_0x35a270,_0x4ad4c6){return _0x35a270(_0x4ad4c6);},'LbUgP':_0xe4e9ed(0x425),'QcEwY':function(_0x270e74,_0xb25dc5){return _0x270e74||_0xb25dc5;},'lnofD':function(_0xf9be04,_0x5013ea){return _0xf9be04||_0x5013ea;},'pPTrF':function(_0x3e074c){return _0x3e074c();}},_0x29ed6f=db['ref']('auth/'+_0x398d79[_0xe4e9ed(0x31f)](sanitizeUsername,_0x308740)),_0x3bebe9={'username':_0x308740,'passwordHash':_0x4f768e,'role':_0x398d79[_0xe4e9ed(0x213)],'deviceId':_0x3d6c85,'description':_0x398d79[_0xe4e9ed(0x1c0)](_0x31d48a,''),'avatarBase64':_0x398d79['lnofD'](_0x12d4d6,''),'usernameHistory':[_0x308740],'lastChanged':Date['now']()};await _0x29ed6f['set'](_0x3bebe9),username=_0x308740,_0x12d4d6=_0x3bebe9[_0xe4e9ed(0x485)],userDescription=_0x3bebe9[_0xe4e9ed(0x345)],_0x398d79[_0xe4e9ed(0x24b)](startAfterAuth);}async function startAfterAuth(){const _0x5ef5f8=_0x1534a5,_0x3cd471={'brrhe':function(_0x408fac,_0x51c517){return _0x408fac(_0x51c517);},'VvfCJ':'user','FJvne':_0x5ef5f8(0x216),'WhjhN':function(_0x423d4f,_0x5b7390){return _0x423d4f+_0x5b7390;},'dMgpr':function(_0x19ab8c){return _0x19ab8c();},'gOZpN':_0x5ef5f8(0x457),'sxPYQ':function(_0x3bedc5,_0x1bdf65){return _0x3bedc5(_0x1bdf65);},'KwzOx':_0x5ef5f8(0x323)},_0x55a6ef=_0x3cd471[_0x5ef5f8(0x348)](sanitizeUsername,username),_0x1ae9aa=db[_0x5ef5f8(0x39b)]('auth/'+_0x55a6ef),_0x4222c7=await _0x1ae9aa[_0x5ef5f8(0x352)]();if(_0x4222c7['exists']()){const _0x270133=_0x4222c7[_0x5ef5f8(0x31b)]();username=_0x270133[_0x5ef5f8(0x394)],userDescription=_0x270133[_0x5ef5f8(0x345)]||'',avatarBase64=_0x270133['avatarBase64']||'',role=_0x270133['role']||_0x3cd471['VvfCJ'];if(avatarBase64){const _0x5f1d61=document[_0x5ef5f8(0x33e)](_0x3cd471[_0x5ef5f8(0x22e)]);_0x5f1d61[_0x5ef5f8(0x400)]=_0x3cd471[_0x5ef5f8(0x1c4)](_0x5ef5f8(0x3c6),avatarBase64),_0x5f1d61[_0x5ef5f8(0x1cd)]['display']='block';}}else console[_0x5ef5f8(0x27b)](_0x5ef5f8(0x327));await _0x3cd471['dMgpr'](loadRoomRoles),document['getElementById'](_0x3cd471['gOZpN'])[_0x5ef5f8(0x445)]=username,_0x3cd471[_0x5ef5f8(0x483)](showScreen,_0x3cd471[_0x5ef5f8(0x500)]);}function toggleRecording(){const _0x165e81=_0x1534a5,_0x41ee16={'KETBD':function(_0x21e5d6,_0x464728){return _0x21e5d6&&_0x464728;},'hhVKD':function(_0x3408ca){return _0x3408ca();},'LbpAr':function(_0x5b5b36,_0xb9d5fb,_0x571e73){return _0x5b5b36(_0xb9d5fb,_0x571e73);},'SOMJp':function(_0x1ff5d2,_0x1c9f49){return _0x1ff5d2(_0x1c9f49);}};isRecording?_0x41ee16['hhVKD'](stopRecording):navigator[_0x165e81(0x4b8)][_0x165e81(0x20d)]({'audio':!![]})['then'](_0x37473b=>{const _0x1814c1=_0x165e81,_0xf7fc13={'JIwSp':'audio/webm','csWob':function(_0x4bc6c4,_0xe542fa){const _0x4b4446=_0xd91b;return _0x41ee16[_0x4b4446(0x2cc)](_0x4bc6c4,_0xe542fa);},'XKYdO':function(_0x3a70c6){const _0x519b80=_0xd91b;return _0x41ee16[_0x519b80(0x26f)](_0x3a70c6);}};mediaRecorder=new MediaRecorder(_0x37473b),mediaRecorder[_0x1814c1(0x475)](),isRecording=!![],document['getElementById'](_0x1814c1(0x3c0))[_0x1814c1(0x445)]='⏹️',audioChunks=[],mediaRecorder[_0x1814c1(0x382)]=_0x296242=>audioChunks[_0x1814c1(0x278)](_0x296242[_0x1814c1(0x272)]),mediaRecorder[_0x1814c1(0x47b)]=()=>{const _0x6ecb0e=_0x1814c1;clearTimeout(recordingTimer);const _0x528284=new Blob(audioChunks,{'type':_0xf7fc13[_0x6ecb0e(0x38f)]}),_0xd8cd44=new FileReader();_0xd8cd44[_0x6ecb0e(0x30f)]=()=>{const _0x24696d=_0x6ecb0e,_0x4dad5e=_0xd8cd44['result'][_0x24696d(0x3b8)](',')[0x1],_0x4ff353=db[_0x24696d(0x39b)]()['push']()[_0x24696d(0x350)];db[_0x24696d(0x39b)](_0x24696d(0x49f)+roomCode+'/messages/'+_0x4ff353)[_0x24696d(0x268)]({'msg':_0x24696d(0x258),'audioBase64':_0x4dad5e,'sender':username,'senderId':clientId,'timestamp':Date[_0x24696d(0x23d)]()});},_0xd8cd44[_0x6ecb0e(0x4bc)](_0x528284);},recordingTimer=_0x41ee16[_0x1814c1(0x2fc)](setTimeout,()=>{const _0x608de4=_0x1814c1;_0xf7fc13[_0x608de4(0x3f1)](mediaRecorder,isRecording)&&_0xf7fc13['XKYdO'](stopRecording);},0x4e20);})['catch'](_0x12dfc7=>{const _0x5ee305=_0x165e81;_0x41ee16[_0x5ee305(0x1c5)](alert,_0x5ee305(0x326));});}function stopRecording(){const _0x4c10b9=_0x1534a5,_0x4f9415={'FXROo':function(_0x2cd747,_0x33f199){return _0x2cd747&&_0x33f199;},'RyVIk':'recordBtn','AfDdj':_0x4c10b9(0x2d9)};_0x4f9415[_0x4c10b9(0x283)](mediaRecorder,isRecording)&&(mediaRecorder[_0x4c10b9(0x224)](),isRecording=![],document[_0x4c10b9(0x33e)](_0x4f9415[_0x4c10b9(0x3aa)])['innerText']=_0x4f9415[_0x4c10b9(0x390)]);}window[_0x1534a5(0x287)]=async()=>{const _0x254849=_0x1534a5,_0x30e03={'aFRWa':function(_0x1f84f7){return _0x1f84f7();},'qzXfS':function(_0x3c66ba){return _0x3c66ba();},'nhkXy':_0x254849(0x4c1),'UtExK':function(_0x1fd0ad,_0x42b5a4){return _0x1fd0ad===_0x42b5a4;},'kKwXD':_0x254849(0x1c1),'XoMOE':function(_0x2002d2,_0x58bf15){return _0x2002d2(_0x58bf15);}};_0x30e03[_0x254849(0x20f)](cleanupOldRooms),_0x30e03[_0x254849(0x358)](setupSidebarBackHandler),_0x30e03[_0x254849(0x358)](setupVisibilityAttention),_0x30e03[_0x254849(0x358)](resetWebsiteData);const _0x41bb7a=localStorage[_0x254849(0x39d)](_0x30e03[_0x254849(0x46e)]);notificationsEnabled=_0x30e03[_0x254849(0x1ea)](_0x41bb7a,_0x30e03['kKwXD']),isRegisterMode=![],_0x30e03[_0x254849(0x358)](toggleAuthMode),_0x30e03[_0x254849(0x3f9)](showScreen,'authScreen');};function sanitizeUsername(_0xb8267a){return _0xb8267a['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5bad48=_0x1534a5,_0x3a35b8={'hiwgY':_0x5bad48(0x424),'cWhkL':_0x5bad48(0x2e7),'iVGZD':function(_0x5f4f0a,_0x332ebd){return _0x5f4f0a(_0x332ebd);},'QeHEs':'roomChoiceScreen','LhtIT':_0x5bad48(0x457),'KskJc':_0x5bad48(0x200),'xpnoC':_0x5bad48(0x328),'pttIY':_0x5bad48(0x34c),'HXABE':_0x5bad48(0x207),'usoff':function(_0x6c90c9,_0x2fed5c){return _0x6c90c9||_0x2fed5c;},'vitTA':_0x5bad48(0x39a),'BqPRA':_0x5bad48(0x40b)},_0x4c7006=document['getElementById'](_0x3a35b8[_0x5bad48(0x398)])[_0x5bad48(0x40b)][_0x5bad48(0x466)](),_0xcd71ac=document[_0x5bad48(0x33e)](_0x5bad48(0x2b8))['value'][_0x5bad48(0x466)](),_0x5424fd=document[_0x5bad48(0x33e)](_0x3a35b8[_0x5bad48(0x1e3)]);if(_0x3a35b8[_0x5bad48(0x296)](!_0x4c7006,!_0xcd71ac)){_0x5424fd[_0x5bad48(0x445)]=_0x3a35b8['vitTA'],_0x5424fd[_0x5bad48(0x1cd)][_0x5bad48(0x43e)]=_0x3a35b8['KskJc'];return;}const _0x2747de=sanitizeUsername(_0x4c7006),_0x2e4ca1=db['ref'](_0x5bad48(0x474)+_0x2747de);_0x2e4ca1[_0x5bad48(0x2c0)](_0x3a35b8['BqPRA'])[_0x5bad48(0x3bb)](_0x5bfdc4=>{const _0x5b8aeb=_0x5bad48,_0x3fbfce={'wOgAt':_0x3a35b8[_0x5b8aeb(0x260)],'EJuwQ':_0x3a35b8[_0x5b8aeb(0x40c)],'NhFVZ':_0x5b8aeb(0x34b),'ImqpW':function(_0x322f3f,_0xe61c9c){const _0x3e7502=_0x5b8aeb;return _0x3a35b8[_0x3e7502(0x441)](_0x322f3f,_0xe61c9c);},'QgzOl':_0x3a35b8[_0x5b8aeb(0x41e)],'rHtCf':_0x5b8aeb(0x2a0),'UGwzD':_0x3a35b8[_0x5b8aeb(0x4f5)]};if(_0x5bfdc4[_0x5b8aeb(0x4cb)]())_0x5424fd[_0x5b8aeb(0x445)]=_0x5b8aeb(0x2b6),_0x5424fd[_0x5b8aeb(0x1cd)][_0x5b8aeb(0x43e)]=_0x3a35b8['KskJc'];else{const _0x114592={'username':_0x4c7006,'description':_0xcd71ac,'lastChanged':Date['now'](),'usernameHistory':[_0x4c7006]};_0x2e4ca1['set'](_0x114592,_0x2e4fff=>{const _0x156c64=_0x5b8aeb;if(_0x2e4fff)console[_0x156c64(0x495)](_0x3fbfce[_0x156c64(0x34e)],_0x2e4fff),_0x5424fd[_0x156c64(0x445)]='⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.',_0x5424fd['style'][_0x156c64(0x43e)]=_0x156c64(0x200);else{const _0x194e2d=_0x3fbfce[_0x156c64(0x4e0)][_0x156c64(0x3b8)]('|');let _0x4af744=0x0;while(!![]){switch(_0x194e2d[_0x4af744++]){case'0':localStorage['setItem'](_0x3fbfce[_0x156c64(0x24c)],_0xcd71ac);continue;case'1':_0x3fbfce[_0x156c64(0x3f8)](showScreen,_0x3fbfce[_0x156c64(0x48f)]);continue;case'2':username=_0x4c7006;continue;case'3':localStorage[_0x156c64(0x49c)](_0x3fbfce[_0x156c64(0x371)],_0x4c7006);continue;case'4':document[_0x156c64(0x33e)](_0x3fbfce['UGwzD'])[_0x156c64(0x445)]=_0x4c7006;continue;}break;}}});}})[_0x5bad48(0x41f)](_0x2e3114=>{const _0x345f41=_0x5bad48;console['error'](_0x3a35b8[_0x345f41(0x4fb)],_0x2e3114),_0x5424fd['innerText']=_0x345f41(0x286),_0x5424fd['style']['display']=_0x3a35b8['KskJc'];});}function saveProfile(_0x5d64eb,_0x510254,_0x43040c){const _0x311ec3=_0x1534a5,_0x2f174d={'tqDGf':function(_0x491871,_0x2d3b1c){return _0x491871(_0x2d3b1c);},'xGFyR':_0x311ec3(0x323)},_0x59b9d3=Date['now'](),_0x24e055=[_0x5d64eb];db[_0x311ec3(0x39b)](_0x311ec3(0x474)+_0x43040c)[_0x311ec3(0x268)]({'username':_0x5d64eb,'description':_0x510254,'lastChanged':_0x59b9d3,'usernameHistory':_0x24e055}),document[_0x311ec3(0x33e)]('namePreview')['innerText']=_0x5d64eb,_0x2f174d[_0x311ec3(0x263)](showScreen,_0x2f174d[_0x311ec3(0x271)]);}function generateRoom(){const _0x1961d8=_0x1534a5,_0x5e163d={'rbsDr':function(_0x2f0019){return _0x2f0019();}};roomCode=_0x5e163d[_0x1961d8(0x3b2)](genRoomCode),db[_0x1961d8(0x39b)](_0x1961d8(0x49f)+roomCode)['set']({'active':!![],'created':Date[_0x1961d8(0x23d)]()}),_0x5e163d[_0x1961d8(0x3b2)](startChat);}function joinRoom(){const _0x20af97=_0x1534a5,_0x4b791b={'JpPvp':function(_0x4d71cc){return _0x4d71cc();},'ZZwWR':function(_0x15baac,_0x321424){return _0x15baac(_0x321424);},'AvobA':_0x20af97(0x4b9),'kHiTZ':function(_0x343ead,_0x37d4f9){return _0x343ead(_0x37d4f9);},'ijNVB':function(_0x47a8fb,_0x5cade5){return _0x47a8fb===_0x5cade5;},'gqcrZ':'passwordScreen','bdYkx':function(_0x3fdff3,_0x4adb51){return _0x3fdff3+_0x4adb51;},'WMkNn':'rooms/'},_0xbf5407=roomCode||document[_0x20af97(0x33e)](_0x4b791b[_0x20af97(0x26a)])[_0x20af97(0x40b)][_0x20af97(0x466)]()[_0x20af97(0x43b)]();if(!_0xbf5407)return _0x4b791b[_0x20af97(0x3dc)](alert,_0x20af97(0x37b));roomCode=_0xbf5407;if(_0x4b791b['ijNVB'](roomCode,STATIC_ROOM)){_0x4b791b[_0x20af97(0x45b)](showScreen,_0x4b791b[_0x20af97(0x2b4)]);return;}db[_0x20af97(0x39b)](_0x4b791b[_0x20af97(0x4da)](_0x4b791b['WMkNn'],roomCode))['get']()[_0x20af97(0x3bb)](_0x41196d=>{const _0x4072fe=_0x20af97;_0x41196d[_0x4072fe(0x4cb)]()&&_0x41196d['val']()[_0x4072fe(0x342)]!==![]?_0x4b791b['JpPvp'](startChat):_0x4b791b[_0x4072fe(0x45b)](alert,_0x4072fe(0x1cc));});}async function startChat(){const _0x342fa5=_0x1534a5,_0x25bdb0={'qVZyS':_0x342fa5(0x2b9),'gHOWd':function(_0x10fffd,_0x5a3587){return _0x10fffd(_0x5a3587);},'PaXIU':_0x342fa5(0x365),'uWnbG':function(_0x30b21a){return _0x30b21a();},'GpeGZ':function(_0x43f7bc){return _0x43f7bc();},'MfuXV':_0x342fa5(0x361),'Ysjvj':_0x342fa5(0x2c6),'ZkRsS':function(_0x590d06,_0x4bd8d4){return _0x590d06(_0x4bd8d4);},'tBlkL':_0x342fa5(0x323),'JCUXi':_0x342fa5(0x216),'cbQDb':function(_0x457a44,_0xad65d8){return _0x457a44+_0xad65d8;},'eQIWS':_0x342fa5(0x3c6),'qkAWt':_0x342fa5(0x200),'rYTWy':_0x342fa5(0x1cb),'LqQwS':function(_0xc38f1a,_0x430d14){return _0xc38f1a(_0x430d14);},'uigHJ':_0x342fa5(0x44e),'AeEJg':'system','NCeqz':'click','abKid':function(_0x189ac2){return _0x189ac2();},'UseLq':_0x342fa5(0x236),'tRizx':_0x342fa5(0x4ed),'GxIXP':_0x342fa5(0x375),'LcCpX':function(_0x2cfdf7){return _0x2cfdf7();},'zJnhI':function(_0x4a51c1){return _0x4a51c1();},'krODr':function(_0x6f43fe){return _0x6f43fe();},'IbtHR':function(_0x282178,_0x3248ce){return _0x282178(_0x3248ce);}};if(!roomCode||!username)return alert(_0x25bdb0[_0x342fa5(0x1eb)]),_0x25bdb0['ZkRsS'](showScreen,_0x342fa5(0x323));_0x25bdb0[_0x342fa5(0x1e2)](listenForPauseState),_0x25bdb0[_0x342fa5(0x27f)](listenForUserList),await loadRoomRoles(),_0x25bdb0[_0x342fa5(0x1fb)](listenForAnnouncement);const _0x353da7=_0x25bdb0[_0x342fa5(0x420)](sanitizeUsername,username),_0xd38ef8=db['ref']('users/'+roomCode+'/'+_0x353da7),_0x5e9da8={'username':username,'online':!![],'lastOnline':firebase[_0x342fa5(0x23a)]['ServerValue'][_0x342fa5(0x366)]};_0xd38ef8['set'](_0x5e9da8,_0x23cd9b=>{const _0x2d54a6=_0x342fa5,_0x2b7278={'KDlPi':_0x25bdb0['MfuXV']};if(_0x23cd9b)return alert(_0x25bdb0[_0x2d54a6(0x449)]),_0x25bdb0[_0x2d54a6(0x4f4)](showScreen,_0x25bdb0['tBlkL']);const _0x49b91a=document[_0x2d54a6(0x33e)](_0x25bdb0['JCUXi']);avatarBase64&&(_0x49b91a[_0x2d54a6(0x400)]=_0x25bdb0[_0x2d54a6(0x2c9)](_0x25bdb0['eQIWS'],avatarBase64),_0x49b91a[_0x2d54a6(0x1cd)][_0x2d54a6(0x43e)]=_0x25bdb0['qkAWt']);document[_0x2d54a6(0x33e)](_0x25bdb0['rYTWy'])[_0x2d54a6(0x1fc)]=username+'\x20'+_0x25bdb0[_0x2d54a6(0x2a2)](getRoleTag,_0x353da7),document[_0x2d54a6(0x33e)](_0x25bdb0[_0x2d54a6(0x2dd)])[_0x2d54a6(0x445)]=roomCode===STATIC_ROOM?_0x2d54a6(0x32d):roomCode,_0x25bdb0[_0x2d54a6(0x24a)](updateAnnouncementVisibility);const _0x386772=db['ref']()[_0x2d54a6(0x278)]()[_0x2d54a6(0x350)];db[_0x2d54a6(0x39b)](_0x2d54a6(0x49f)+roomCode+_0x2d54a6(0x37a)+_0x386772)[_0x2d54a6(0x268)]({'msg':username+_0x2d54a6(0x3de),'sender':_0x25bdb0[_0x2d54a6(0x2f4)],'senderId':_0x2d54a6(0x204),'timestamp':Date['now']()}),_0x25bdb0['gHOWd'](showScreen,_0x2d54a6(0x344)),document['getElementById']('announcementArea')[_0x2d54a6(0x4df)](_0x25bdb0[_0x2d54a6(0x351)],_0xceeacc=>{const _0x27627b=_0x2d54a6;_0xceeacc['detail']===0x3&&(role===_0x27627b(0x2ef)||role===_0x25bdb0[_0x27627b(0x346)])&&(_0x25bdb0[_0x27627b(0x36d)](confirm,_0x25bdb0[_0x27627b(0x1ca)])&&db['ref'](_0x27627b(0x49f)+roomCode+_0x27627b(0x349))[_0x27627b(0x2aa)]()[_0x27627b(0x3bb)](()=>{const _0x4bba72=_0x27627b;document['getElementById'](_0x2b7278[_0x4bba72(0x2f0)])[_0x4bba72(0x445)]='';}));}),listenForMessages(),listenForTyping(),_0x25bdb0[_0x2d54a6(0x24a)](startInactivityTimer),_0x25bdb0['GpeGZ'](trackPresence),_0x25bdb0[_0x2d54a6(0x478)](watchProfileChanges),_0x25bdb0[_0x2d54a6(0x393)](watchMuteStatus),_0x25bdb0[_0x2d54a6(0x393)](startSidebarSyncLoop);const _0x9bbe0e=()=>{const _0x147297=_0x2d54a6,_0x5509fa={'CvTzB':function(_0xa71a68,_0x259ee3){const _0x19b271=_0xd91b;return _0x25bdb0[_0x19b271(0x36d)](_0xa71a68,_0x259ee3);},'YUCwY':function(_0x5244df){return _0x25bdb0['uWnbG'](_0x5244df);}};_0x25bdb0[_0x147297(0x478)](loadRoomRoles)[_0x147297(0x3bb)](()=>{const _0x894c16=_0x147297;_0x5509fa[_0x894c16(0x40d)](renderUserLists,roomUsers),_0x5509fa[_0x894c16(0x465)](updateAnnouncementVisibility);});};db[_0x2d54a6(0x39b)](_0x25bdb0[_0x2d54a6(0x381)])['on'](_0x25bdb0[_0x2d54a6(0x285)],_0x9bbe0e),db[_0x2d54a6(0x39b)](_0x25bdb0[_0x2d54a6(0x381)])['on'](_0x2d54a6(0x45f),_0x9bbe0e);});}function updateAnnouncementVisibility(){const _0x41bc95=_0x1534a5,_0x26337a={'qqJdf':function(_0x4d6a77,_0x1c65f0){return _0x4d6a77===_0x1c65f0;},'FjTKH':_0x41bc95(0x2ef),'XKZaG':_0x41bc95(0x2b9),'KUyTX':_0x41bc95(0x200),'oivUg':_0x41bc95(0x388)},_0x493b95=document[_0x41bc95(0x33e)](_0x41bc95(0x4db));_0x26337a[_0x41bc95(0x1f7)](role,_0x26337a['FjTKH'])||role===_0x26337a[_0x41bc95(0x3d1)]?_0x493b95['style'][_0x41bc95(0x43e)]=_0x26337a[_0x41bc95(0x27d)]:_0x493b95[_0x41bc95(0x1cd)][_0x41bc95(0x43e)]=_0x26337a[_0x41bc95(0x20a)];}function watchProfileChanges(){const _0x214cb2=_0x1534a5,_0x5a9100={'kZbpj':_0x214cb2(0x425),'CHEzG':_0x214cb2(0x216),'LPvCQ':function(_0x6cd5b0,_0x298bf0){return _0x6cd5b0+_0x298bf0;},'cXsep':_0x214cb2(0x3c6),'eavwm':function(_0x4fc116,_0xff85a5){return _0x4fc116(_0xff85a5);}},_0x8184e8=sanitizeUsername(username);db['ref']('auth/'+_0x8184e8)['on'](_0x214cb2(0x40b),_0x42b64a=>{const _0x1c65ed=_0x214cb2;if(!_0x42b64a['exists']())return;const _0x23fe1d=_0x42b64a['val']();userDescription=_0x23fe1d[_0x1c65ed(0x345)]||'',avatarBase64=_0x23fe1d[_0x1c65ed(0x485)]||'',role=_0x23fe1d['role']||_0x5a9100['kZbpj'];if(avatarBase64){const _0x35a018=document[_0x1c65ed(0x33e)](_0x5a9100[_0x1c65ed(0x304)]);!_0x35a018[_0x1c65ed(0x400)]['includes'](avatarBase64)&&(_0x35a018[_0x1c65ed(0x400)]=_0x5a9100['LPvCQ'](_0x5a9100['cXsep'],avatarBase64),_0x35a018[_0x1c65ed(0x1cd)][_0x1c65ed(0x43e)]=_0x1c65ed(0x200));}_0x5a9100[_0x1c65ed(0x275)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x37adb5){const _0x4849c6=_0x1534a5,_0x18e63f={'mSjKP':function(_0x4e4b88,_0x138732){return _0x4e4b88<_0x138732;},'YBeNC':function(_0x499a52,_0x1b161b){return _0x499a52-_0x1b161b;},'pfiJn':function(_0x160ee2,_0xad4b8){return _0x160ee2(_0xad4b8);},'xaKJX':_0x4849c6(0x2cf),'RhDrf':function(_0x1453fb,_0x53de5d){return _0x1453fb>_0x53de5d;},'GeSir':function(_0x1238fe,_0x1ff728){return _0x1238fe*_0x1ff728;}},_0x5b891b=Date[_0x4849c6(0x23d)]();if(_0x18e63f[_0x4849c6(0x3b9)](_0x18e63f[_0x4849c6(0x392)](_0x5b891b,lastImageTime),0x2710)){_0x18e63f[_0x4849c6(0x2d3)](alert,_0x18e63f['xaKJX']);return;}lastImageTime=_0x5b891b;const _0x33b931=_0x37adb5[_0x4849c6(0x4c7)][0x0];if(!_0x33b931||_0x18e63f['RhDrf'](_0x33b931[_0x4849c6(0x274)],_0x18e63f['GeSir'](0x2,0x400)*0x400)){_0x18e63f[_0x4849c6(0x2d3)](alert,_0x4849c6(0x338));return;}const _0x41a006=new FileReader();_0x41a006[_0x4849c6(0x30f)]=()=>{const _0xa888d8=_0x4849c6,_0x118583=_0x41a006['result'][_0xa888d8(0x3b8)](',')[0x1],_0x7c7af=db[_0xa888d8(0x39b)]()['push']()['key'];db[_0xa888d8(0x39b)](_0xa888d8(0x49f)+roomCode+_0xa888d8(0x37a)+_0x7c7af)[_0xa888d8(0x268)]({'imageBase64':_0x118583,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x41a006['readAsDataURL'](_0x33b931);}async function fetchProfile(_0x8af0df){const _0x175f4d=_0x1534a5,_0x3e2f2d=await db[_0x175f4d(0x39b)](_0x175f4d(0x227)+_0x8af0df)['get']();if(!_0x3e2f2d[_0x175f4d(0x4cb)]())return null;return _0x3e2f2d[_0x175f4d(0x31b)]();}function validateStaticRoomPassword(){const _0x26e7d0=_0x1534a5,_0x28b71f={'JJuUY':'passwordError','ARYAC':'Incorrect\x20password','hArlp':_0x26e7d0(0x200),'LRwOx':function(_0xad2680,_0x369d7a){return _0xad2680(_0x369d7a);},'wchqQ':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','QAuOO':_0x26e7d0(0x3e2)},_0x15bd12=document[_0x26e7d0(0x33e)](_0x28b71f[_0x26e7d0(0x3fa)])[_0x26e7d0(0x40b)][_0x26e7d0(0x466)]();if(!_0x15bd12){alert('Please\x20enter\x20the\x20password.');return;}db['ref']('gr8stg/'+STATIC_ROOM)[_0x26e7d0(0x352)]()[_0x26e7d0(0x3bb)](_0x1c8116=>{const _0x33e542=_0x26e7d0;if(!_0x1c8116['exists']()){alert(_0x33e542(0x234));return;}const _0x1b0356=_0x1c8116['val']();_0x15bd12===_0x1b0356?(roomCode=STATIC_ROOM,startChat()):(document[_0x33e542(0x33e)](_0x28b71f[_0x33e542(0x4a8)])[_0x33e542(0x445)]=_0x28b71f[_0x33e542(0x442)],document[_0x33e542(0x33e)](_0x28b71f[_0x33e542(0x4a8)])[_0x33e542(0x1cd)]['display']=_0x28b71f['hArlp']);})[_0x26e7d0(0x41f)](_0xae7af7=>{const _0x10a6df=_0x26e7d0;console[_0x10a6df(0x495)](_0xae7af7),_0x28b71f[_0x10a6df(0x244)](alert,_0x28b71f[_0x10a6df(0x2e1)]);});}function listenForPauseState(){const _0x2c2d57=_0x1534a5,_0x50fdcd={'mlKNv':function(_0x49a783,_0x249fd2){return _0x49a783===_0x249fd2;},'Gykyt':_0x2c2d57(0x281),'rfKcp':_0x2c2d57(0x200),'VavPv':_0x2c2d57(0x388),'GVQCJ':_0x2c2d57(0x40b)};db[_0x2c2d57(0x39b)](_0x2c2d57(0x337)+roomCode+_0x2c2d57(0x435))['on'](_0x50fdcd[_0x2c2d57(0x22c)],_0x2a666c=>{const _0x97b7c9=_0x2c2d57,_0x12e5a9=_0x2a666c['exists']()&&_0x50fdcd[_0x97b7c9(0x27c)](_0x2a666c[_0x97b7c9(0x31b)](),!![]);document['getElementById'](_0x50fdcd[_0x97b7c9(0x321)])['style'][_0x97b7c9(0x43e)]=_0x12e5a9?_0x50fdcd[_0x97b7c9(0x479)]:_0x50fdcd['VavPv'];});}const spamTimestamps=[];async function sendMessage(){const _0x41e731=_0x1534a5,_0x328b92={'HxrYq':function(_0xa37b69,_0x20334a){return _0xa37b69(_0x20334a);},'VUQCq':function(_0x4ab1f5,_0xbaf808){return _0x4ab1f5===_0xbaf808;},'GkvGM':function(_0x2532cb,_0x147256){return _0x2532cb>_0x147256;},'kxdiM':_0x41e731(0x208),'DKbiv':function(_0x3f38d6,_0x81434c){return _0x3f38d6!==_0x81434c;},'QZifP':_0x41e731(0x2b9),'slDzt':_0x41e731(0x45a),'PsNgh':function(_0x5c539f,_0xf49db4){return _0x5c539f||_0xf49db4;},'UEFJu':function(_0x40033a,_0x4daffc){return _0x40033a(_0x4daffc);},'NyvPx':function(_0x466ccb,_0x2d0a8a){return _0x466ccb>_0x2d0a8a;},'JBrzg':_0x41e731(0x284),'mILRJ':function(_0x68e90a,_0x486f42,_0xe2f5f9){return _0x68e90a(_0x486f42,_0xe2f5f9);},'BOKHn':_0x41e731(0x219),'vfCsc':_0x41e731(0x3d6),'uVQLH':_0x41e731(0x3e3)},_0x4e07f4=await db[_0x41e731(0x39b)]('roomStates/'+roomCode+'/paused')[_0x41e731(0x352)](),_0x105c45=await db[_0x41e731(0x39b)](_0x41e731(0x49d)+roomCode+'/'+_0x328b92[_0x41e731(0x432)](sanitizeUsername,username))[_0x41e731(0x352)]();if(_0x105c45['exists']()){const _0x24fa6e=_0x105c45['val'](),_0x1d37fd=_0x328b92['VUQCq'](typeof _0x24fa6e,_0x41e731(0x250))&&_0x24fa6e[_0x41e731(0x3e9)]?_0x24fa6e[_0x41e731(0x3e9)]:_0x24fa6e;if(_0x328b92[_0x41e731(0x4f7)](_0x1d37fd,Date[_0x41e731(0x23d)]())){alert(_0x328b92['kxdiM']);return;}}if(_0x4e07f4['exists']()&&_0x328b92[_0x41e731(0x42e)](_0x4e07f4['val'](),!![])&&_0x328b92[_0x41e731(0x487)](role,_0x328b92['QZifP'])){alert(_0x41e731(0x245));return;}const _0x2dbe72=document[_0x41e731(0x33e)](_0x328b92['slDzt']),_0x266394=_0x2dbe72[_0x41e731(0x40b)][_0x41e731(0x466)]();if(_0x328b92[_0x41e731(0x2e0)](!_0x266394,isBlocked))return;const _0x409e4a=Date[_0x41e731(0x23d)](),_0x582b63=_0x266394['toLowerCase'](),_0x40a1f2=swearWords[_0x41e731(0x405)](_0x52af1a=>_0x582b63[_0x41e731(0x24f)](_0x52af1a));if(_0x40a1f2){_0x328b92[_0x41e731(0x44c)](alert,_0x41e731(0x2cd));return;}spamTimestamps['push'](_0x409e4a);const _0x27ead6=spamTimestamps[_0x41e731(0x206)](_0x446fc7=>_0x409e4a-_0x446fc7<0x1b58);if(_0x328b92[_0x41e731(0x502)](_0x27ead6[_0x41e731(0x4e6)],0x5)){const _0x1250d5=_0x328b92[_0x41e731(0x395)][_0x41e731(0x3b8)]('|');let _0x1955da=0x0;while(!![]){switch(_0x1250d5[_0x1955da++]){case'0':_0x2dbe72[_0x41e731(0x2d0)]=!![];continue;case'1':_0x328b92['mILRJ'](setTimeout,()=>{const _0x9a44=_0x41e731;isBlocked=![],_0x2dbe72[_0x9a44(0x2d0)]=![],_0x2dbe72[_0x9a44(0x1da)]=_0x9a44(0x1f9),spamTimestamps[_0x9a44(0x4e6)]=0x0;},0x7530);continue;case'2':isBlocked=!![];continue;case'3':_0x328b92[_0x41e731(0x44c)](alert,_0x328b92[_0x41e731(0x489)]);continue;case'4':return;case'5':_0x2dbe72[_0x41e731(0x1da)]=_0x41e731(0x46d);continue;}break;}}const _0x392069=_0x266394[_0x41e731(0x329)](/(.)\1{14,}/);if(_0x392069){alert(_0x328b92[_0x41e731(0x501)]);return;}const _0x5054e5=localStorage[_0x41e731(0x39d)](_0x328b92[_0x41e731(0x436)])||'',_0x26a50d=db['ref']()[_0x41e731(0x278)]()['key'];db[_0x41e731(0x39b)](_0x41e731(0x49f)+roomCode+_0x41e731(0x37a)+_0x26a50d)[_0x41e731(0x268)]({'msg':_0x266394,'sender':username,'senderId':clientId,'avatarBase64':_0x5054e5,'timestamp':_0x409e4a}),_0x2dbe72[_0x41e731(0x40b)]='',sendTyping(!![]),lastActivity=_0x409e4a;}function listenForMessages(){const _0x256023=_0x1534a5,_0x2fc128={'uEqPg':function(_0x127166,_0x22eeb8){return _0x127166===_0x22eeb8;},'pPsJL':function(_0x1f9066,_0x530b14,_0x3625bf,_0x4aae86){return _0x1f9066(_0x530b14,_0x3625bf,_0x4aae86);},'Pfaki':function(_0x2a87c4,_0xbc1026){return _0x2a87c4!==_0xbc1026;},'dEChi':function(_0x168778){return _0x168778();},'WjkGS':function(_0xdf30b9,_0x299b7d){return _0xdf30b9&&_0x299b7d;},'soeMZ':_0x256023(0x3d7),'qglrI':_0x256023(0x3f2),'yaeFL':_0x256023(0x247),'PBMeH':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','zuSck':function(_0x26c725,_0x28de12){return _0x26c725||_0x28de12;},'ZaLeA':function(_0x3f5e6c,_0x59c2ff){return _0x3f5e6c>_0x59c2ff;},'JmVYw':function(_0x3b9963,_0x3a82a0){return _0x3b9963-_0x3a82a0;},'UcAiD':'child_added','OuanG':_0x256023(0x40b)},_0x5af893=db[_0x256023(0x39b)]('rooms/'+roomCode+'/messages'),_0x34fa2b=_0x5af893[_0x256023(0x2ec)](MAX_MESSAGES);userListReady=!![],_0x34fa2b['on'](_0x2fc128[_0x256023(0x23b)],_0xda8109=>{const _0x2757d0=_0x256023,_0x2c8457=_0xda8109['val'](),{senderId:_0x5ee293}=_0x2c8457,_0x5791c5=_0x2fc128[_0x2757d0(0x1d9)](_0x5ee293,clientId);if(!userListReady){pendingMessages[_0x2757d0(0x1c9)](({data:_0x151269,sent:_0x7c8ba5,key:_0x4eb6d4})=>{addMessage(_0x151269,_0x7c8ba5,_0x4eb6d4);}),pendingMessages=[];return;}const _0x387edf=_0x2c8457[_0x2757d0(0x32e)]||null,_0x576fe5=_0x2c8457[_0x2757d0(0x3cc)]||null;_0x2fc128[_0x2757d0(0x1dd)](addMessage,_0x2c8457,_0x5791c5,_0xda8109[_0x2757d0(0x350)]);if(_0x2fc128[_0x2757d0(0x467)](roomCode,STATIC_ROOM)&&_0x2fc128[_0x2757d0(0x467)](_0x2c8457[_0x2757d0(0x2eb)],_0x2757d0(0x204))){}!_0x5791c5&&(sound[_0x2757d0(0x1c2)](),_0x2fc128[_0x2757d0(0x4b5)](flagPageAttention));if(_0x2fc128[_0x2757d0(0x4e1)](notificationsEnabled,!_0x5791c5)&&Notification[_0x2757d0(0x21d)]===_0x2fc128[_0x2757d0(0x1be)]){const _0x354309=_0x2c8457[_0x2757d0(0x2ed)]||(_0x2c8457[_0x2757d0(0x3cc)]?_0x2fc128['qglrI']:_0x2c8457[_0x2757d0(0x359)]?'[Image]':_0x2fc128[_0x2757d0(0x252)]);new Notification(_0x2757d0(0x3a4)+_0x2c8457[_0x2757d0(0x2eb)],{'body':_0x354309,'icon':_0x2fc128[_0x2757d0(0x409)]});}}),_0x5af893[_0x256023(0x2c0)](_0x2fc128[_0x256023(0x317)])[_0x256023(0x3bb)](_0x49f30d=>{const _0x4d6f81=_0x256023,_0x5c0882=_0x49f30d['val'](),_0x2dd02a=Object[_0x4d6f81(0x232)](_0x2fc128[_0x4d6f81(0x314)](_0x5c0882,{}));if(_0x2fc128[_0x4d6f81(0x231)](_0x2dd02a[_0x4d6f81(0x4e6)],MAX_MESSAGES)){const _0x56c41d=_0x2fc128['JmVYw'](_0x2dd02a[_0x4d6f81(0x4e6)],MAX_MESSAGES),_0x80cc40=_0x2dd02a[_0x4d6f81(0x1c3)]((_0x153512,_0x122185)=>_0x5c0882[_0x153512][_0x4d6f81(0x343)]-_0x5c0882[_0x122185][_0x4d6f81(0x343)])[_0x4d6f81(0x4e2)](0x0,_0x56c41d);_0x80cc40[_0x4d6f81(0x1c9)](_0x3c58bc=>{const _0x4006c0=_0x4d6f81;db[_0x4006c0(0x39b)](_0x4006c0(0x49f)+roomCode+'/messages/'+_0x3c58bc)['remove']();});}}),db[_0x256023(0x39b)](_0x256023(0x49f)+roomCode+_0x256023(0x4f3))['on'](_0x256023(0x444),_0x482842=>{const _0x2341a9=_0x256023,_0x3604a1=_0x482842[_0x2341a9(0x350)],_0x39aeec=document[_0x2341a9(0x1f8)](_0x2341a9(0x41a)+_0x3604a1+'\x22]');if(_0x39aeec)_0x39aeec[_0x2341a9(0x2aa)]();});}function stackNotification(_0x2909c5,_0xb93c8){const _0x582278=_0x1534a5,_0x24c926={'WCuJp':function(_0x555af3,_0x173384){return _0x555af3(_0x173384);},'NhyIa':function(_0x434573,_0xa1260b,_0x5e16d3){return _0x434573(_0xa1260b,_0x5e16d3);}};notificationStack[_0x582278(0x278)]({'sender':_0x2909c5,'content':_0xb93c8}),_0x24c926[_0x582278(0x48d)](clearTimeout,notificationTimer),notificationTimer=_0x24c926[_0x582278(0x4af)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x4592f5=_0x1534a5,_0x4414db={'IunYk':function(_0x2958c9,_0x450df5){return _0x2958c9||_0x450df5;},'pUgds':function(_0x400689,_0x161301){return _0x400689===_0x161301;},'WHdeu':function(_0x359f91,_0x266eb5,_0xc308d2){return _0x359f91(_0x266eb5,_0xc308d2);}};if(!notificationStack[_0x4592f5(0x4e6)]||Notification['permission']!=='granted')return;const _0x4a18f8=[...new Set(notificationStack[_0x4592f5(0x264)](_0x31b999=>_0x31b999[_0x4592f5(0x2eb)]))],_0x20a36c=_0x4414db[_0x4592f5(0x3c8)](roomCode,_0x4592f5(0x3e4)),_0x4a3d53=_0x4414db[_0x4592f5(0x443)](_0x4a18f8[_0x4592f5(0x4e6)],0x1)?_0x4592f5(0x25f)+_0x4a18f8[0x0]+_0x4592f5(0x419)+_0x20a36c+':\x20'+notificationStack[0x0][_0x4592f5(0x202)]:_0x4592f5(0x4e7)+_0x4a18f8[_0x4592f5(0x240)](',\x20')+'\x20in\x20room\x20'+_0x20a36c;_0x4414db['WHdeu'](setTimeout,()=>{const _0x2ddb00=_0x4592f5;new Notification(_0x2ddb00(0x355),{'body':_0x4a3d53,'icon':_0x2ddb00(0x318)});},0x64);}async function addMessage(_0xbe1e36,_0x2fb4a6,_0x910f0b=null){const _0x466a36=_0x1534a5,_0x9b920f={'dTteb':function(_0x53333e,_0x48a0c3,_0x12d158){return _0x53333e(_0x48a0c3,_0x12d158);},'fjdMl':'pointer','fHTcV':_0x466a36(0x37f),'NCMsS':'flex','HgdkL':_0x466a36(0x37c),'JXWrV':'center','dRijO':_0x466a36(0x1f3),'MhaVg':function(_0x522887,_0x4cc3a8,_0x124df1){return _0x522887(_0x4cc3a8,_0x124df1);},'EzXiq':function(_0x2b337b,_0x160763){return _0x2b337b>_0x160763;},'cKmsD':function(_0x378999,_0x2f7d99){return _0x378999===_0x2f7d99;},'rxDrW':function(_0x4bbab9,_0x42a5da){return _0x4bbab9(_0x42a5da);},'CeTqV':_0x466a36(0x1ce),'qelGX':'div','UQHoH':function(_0xeb72a7,_0x4d23a9){return _0xeb72a7===_0x4d23a9;},'sssBP':'system','SKSFW':_0x466a36(0x2b1),'jlEbb':_0x466a36(0x3ab),'wuHOS':_0x466a36(0x340),'HBFDh':_0x466a36(0x356),'DwKar':_0x466a36(0x3b4),'sqbhI':_0x466a36(0x2ed),'NQceF':'received','qCTLR':_0x466a36(0x221),'NjZUv':_0x466a36(0x3c7),'teDhc':function(_0x2585b2,_0x2f2615){return _0x2585b2(_0x2f2615);},'cacEC':_0x466a36(0x3e1),'eKZvN':_0x466a36(0x315),'PbEMz':_0x466a36(0x388),'KDYbE':_0x466a36(0x324),'RLBmk':'#222','yUSJn':'18px','kwOSm':'0px','ofNCo':'160px','VJcSN':_0x466a36(0x46f),'Vjtta':_0x466a36(0x309),'wKTmz':_0x466a36(0x229),'HsQxv':_0x466a36(0x262),'VHDGI':'0\x202px\x206px\x20rgba(0,0,0,0.5)','ZDAbv':_0x466a36(0x2df),'juhJv':_0x466a36(0x1d1),'Zpfyn':_0x466a36(0x417),'KySUR':_0x466a36(0x1bd),'knYPg':_0x466a36(0x40b),'ZWjnY':_0x466a36(0x2ef),'mvYIK':'moderator'},{msg:_0x3b7d84,sender:_0x228827,senderId:_0x1c46a4,timestamp:_0x380880,audioUrl:_0x170376,audioBase64:_0x332f59,imageBase64:_0x5e8e69}=_0xbe1e36,_0x3c69fd=_0x9b920f[_0x466a36(0x3b7)](sanitizeUsername,_0x228827),_0x2e144=document[_0x466a36(0x3dd)](_0x9b920f['qelGX']);if(_0x9b920f[_0x466a36(0x238)](_0xbe1e36[_0x466a36(0x2eb)],_0x9b920f['sssBP'])){const _0x9d394e=document[_0x466a36(0x3dd)](_0x9b920f['qelGX']);_0x9d394e[_0x466a36(0x217)]=_0x9b920f[_0x466a36(0x3cd)],_0x9d394e[_0x466a36(0x2a4)]['msgId']=_0x910f0b||_0xbe1e36['timestamp'],_0x9d394e[_0x466a36(0x2a4)]['timestamp']=_0xbe1e36[_0x466a36(0x343)],_0x9d394e[_0x466a36(0x1cd)][_0x466a36(0x253)]='center',_0x9d394e[_0x466a36(0x1cd)][_0x466a36(0x4c9)]=_0x9b920f[_0x466a36(0x22a)],_0x9d394e[_0x466a36(0x1cd)][_0x466a36(0x484)]=_0x9b920f[_0x466a36(0x1de)],_0x9d394e[_0x466a36(0x1cd)][_0x466a36(0x31d)]=_0x9b920f[_0x466a36(0x471)],_0x9d394e['innerText']=_0xbe1e36[_0x466a36(0x2ed)];const _0x567a1e=document['getElementById'](_0x9b920f[_0x466a36(0x486)]);_0x567a1e[_0x466a36(0x4a6)](_0x9d394e);const _0x30893c=Array[_0x466a36(0x1fe)](_0x567a1e[_0x466a36(0x3fd)]);_0x30893c[_0x466a36(0x1c3)]((_0x380a7f,_0x312c0f)=>{const _0x323afc=_0x466a36;return(+_0x380a7f[_0x323afc(0x2a4)]['timestamp']||0x0)-(+_0x312c0f[_0x323afc(0x2a4)]['timestamp']||0x0);}),_0x567a1e[_0x466a36(0x1fc)]='',_0x30893c[_0x466a36(0x1c9)](_0x16b736=>_0x567a1e[_0x466a36(0x4a6)](_0x16b736)),_0x567a1e[_0x466a36(0x313)]=_0x567a1e[_0x466a36(0x408)];return;}_0x2e144[_0x466a36(0x396)][_0x466a36(0x1d6)](_0x9b920f[_0x466a36(0x3ee)],_0x2fb4a6?_0x466a36(0x401):_0x9b920f[_0x466a36(0x347)]),_0x2e144[_0x466a36(0x1cd)][_0x466a36(0x43a)]=_0x9b920f[_0x466a36(0x3bd)];_0x910f0b&&(_0x2e144[_0x466a36(0x2a4)]['msgId']=_0x910f0b);const _0x52ea7b=new Date(_0x380880)[_0x466a36(0x3b0)]([],{'hour':_0x9b920f[_0x466a36(0x43c)],'minute':_0x9b920f[_0x466a36(0x43c)]}),_0x1e75b9=_0x9b920f[_0x466a36(0x3b7)](getRoleTag,_0x3c69fd),_0x37014c=await _0x9b920f['teDhc'](fetchAvatar,_0x3c69fd),_0x341776=_0x37014c?_0x466a36(0x36a)+_0x37014c+_0x466a36(0x498):'',_0x187949=_0x341776+_0x466a36(0x4a3)+_0x228827+'\x20'+_0x1e75b9+_0x466a36(0x333),_0x31f9be=_0x3b7d84?.[_0x466a36(0x1d4)](new RegExp('@'+username+'\x5cb','gi'),_0x466a36(0x4d6));let _0x240eda=_0x187949+_0x466a36(0x2ba);if(_0x170376)_0x240eda+=_0x466a36(0x223)+_0x170376+_0x466a36(0x34a);else{if(_0x332f59){const _0x5712c3='data:audio/webm;base64,'+_0x332f59;_0x240eda+=_0x466a36(0x223)+_0x5712c3+_0x466a36(0x34a);}else{if(_0x5e8e69){const _0xb0e737=_0x466a36(0x3c6)+_0x5e8e69;_0x240eda+=_0x466a36(0x3d3)+_0xb0e737+_0x466a36(0x434);}else{const _0x473905=_0x31f9be['replace'](/(https?:\/\/[^\s]+)/g,_0x4f69e3=>{const _0x559e8f=_0x466a36;return _0x559e8f(0x4ce)+_0x4f69e3+_0x559e8f(0x45d)+_0x4f69e3+_0x559e8f(0x3f7);});_0x240eda+=_0x466a36(0x226)+_0x473905+_0x466a36(0x4ee);}}}_0x240eda+='<small>'+_0x52ea7b+'</small>',_0x2e144[_0x466a36(0x1fc)]=_0x240eda;const _0x7dd98f=document[_0x466a36(0x3dd)](_0x9b920f[_0x466a36(0x383)]);_0x7dd98f['className']='reaction-box',_0x7dd98f[_0x466a36(0x1cd)][_0x466a36(0x2af)]=_0x466a36(0x262),_0x7dd98f[_0x466a36(0x1cd)][_0x466a36(0x4c9)]=_0x9b920f[_0x466a36(0x4dc)],_0x2e144['appendChild'](_0x7dd98f);const _0x22ca73=document[_0x466a36(0x3dd)](_0x9b920f['qelGX']);_0x22ca73[_0x466a36(0x217)]=_0x9b920f[_0x466a36(0x2f2)];const _0x3c4f5d=['❤️','😂','😮','😢','👎','💀','🤯'];_0x22ca73[_0x466a36(0x1fc)]=_0x3c4f5d['map'](_0x127b47=>_0x466a36(0x36c)+_0x127b47+'</button>')[_0x466a36(0x240)](''),_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x43e)]=_0x9b920f['PbEMz'],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x43a)]=_0x9b920f[_0x466a36(0x2bd)],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x418)]=_0x9b920f[_0x466a36(0x1d8)],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x2d7)]=_0x466a36(0x37d),_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x4eb)]=_0x466a36(0x3a2),_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x4c9)]=_0x9b920f[_0x466a36(0x3a7)],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x4a9)]='-45px',_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x1e9)]=_0x9b920f[_0x466a36(0x38b)],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x40f)]='10',_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x490)]=_0x9b920f[_0x466a36(0x27e)],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x222)]=_0x9b920f['VJcSN'],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x2d2)]=_0x9b920f[_0x466a36(0x3ce)],_0x22ca73['style'][_0x466a36(0x43e)]=_0x9b920f['wKTmz'],_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x42f)]=_0x466a36(0x2ca),_0x22ca73[_0x466a36(0x1cd)][_0x466a36(0x4d7)]=_0x9b920f[_0x466a36(0x4aa)],_0x22ca73['style'][_0x466a36(0x4c8)]=_0x9b920f[_0x466a36(0x30a)],Array[_0x466a36(0x1fe)](_0x22ca73[_0x466a36(0x3fd)])['forEach'](_0x4638cd=>{const _0x561fd4=_0x466a36,_0x222952={'tUuhw':function(_0x5c4870,_0x352a00,_0x2f57d1){const _0x3b2521=_0xd91b;return _0x9b920f[_0x3b2521(0x386)](_0x5c4870,_0x352a00,_0x2f57d1);}};_0x4638cd[_0x561fd4(0x1cd)]['cursor']=_0x9b920f[_0x561fd4(0x3f4)],_0x4638cd[_0x561fd4(0x4d3)]=_0x18f2b8=>{const _0x8bebba=_0x561fd4;_0x18f2b8[_0x8bebba(0x44d)]();const _0x337a81=_0x4638cd[_0x8bebba(0x2dc)];_0x222952[_0x8bebba(0x2b7)](reactToMessage,_0x910f0b,_0x337a81);};}),Array[_0x466a36(0x1fe)](_0x22ca73[_0x466a36(0x3fd)])[_0x466a36(0x1c9)](_0x270815=>{const _0x16572c=_0x466a36,_0x28705e=_0x9b920f['fHTcV'][_0x16572c(0x3b8)]('|');let _0x169632=0x0;while(!![]){switch(_0x28705e[_0x169632++]){case'0':_0x270815['style'][_0x16572c(0x429)]='32px';continue;case'1':_0x270815[_0x16572c(0x1cd)][_0x16572c(0x43e)]=_0x9b920f[_0x16572c(0x316)];continue;case'2':_0x270815[_0x16572c(0x1cd)][_0x16572c(0x3ff)]=_0x9b920f[_0x16572c(0x4c6)];continue;case'3':_0x270815['style'][_0x16572c(0x363)]=_0x9b920f[_0x16572c(0x4bd)];continue;case'4':_0x270815['style'][_0x16572c(0x4c9)]='20px';continue;case'5':_0x270815[_0x16572c(0x1cd)][_0x16572c(0x411)]=_0x9b920f[_0x16572c(0x4bd)];continue;}break;}}),_0x2e144[_0x466a36(0x4a6)](_0x22ca73),_0x22ca73[_0x466a36(0x1cd)]['display']=_0x9b920f['PbEMz'];let _0x4d6ad5;_0x2e144[_0x466a36(0x4df)](_0x9b920f['ZDAbv'],()=>{const _0x182171=_0x466a36;_0x4d6ad5=_0x9b920f[_0x182171(0x386)](setTimeout,()=>{const _0x117dab=_0x182171;_0x22ca73[_0x117dab(0x1cd)][_0x117dab(0x43e)]=_0x9b920f[_0x117dab(0x3ed)];},0x5dc);}),_0x2e144[_0x466a36(0x4df)](_0x9b920f[_0x466a36(0x311)],()=>{const _0x60640e=_0x466a36;clearTimeout(_0x4d6ad5),_0x22ca73[_0x60640e(0x1cd)][_0x60640e(0x43e)]='none';});let _0x3cf9c5;_0x2e144[_0x466a36(0x4df)](_0x9b920f[_0x466a36(0x32b)],()=>{const _0x57e03e=_0x466a36;_0x3cf9c5=_0x9b920f[_0x57e03e(0x30b)](setTimeout,()=>{_0x22ca73['style']['display']=_0x9b920f['dRijO'];},0x5dc);}),_0x2e144[_0x466a36(0x4df)](_0x9b920f[_0x466a36(0x427)],()=>clearTimeout(_0x3cf9c5));_0x910f0b&&db[_0x466a36(0x39b)](_0x466a36(0x49f)+roomCode+_0x466a36(0x37a)+_0x910f0b+'/reactions')['on'](_0x9b920f['knYPg'],_0x530f3e=>{const _0x1e8f35=_0x466a36;if(!_0x530f3e[_0x1e8f35(0x4cb)]()){_0x7dd98f[_0x1e8f35(0x1fc)]='';return;}const _0x7708bf=_0x530f3e['val']();let _0x40e4b8='';Object[_0x1e8f35(0x1db)](_0x7708bf)['forEach'](([_0x5912f6,_0x5b2239])=>{const _0x2abef4=_0x1e8f35;Array[_0x2abef4(0x461)](_0x5b2239)&&_0x9b920f[_0x2abef4(0x201)](_0x5b2239['length'],0x0)&&(_0x40e4b8+='<span\x20style=\x22margin-right:6px;\x22>'+_0x5912f6+'\x20'+_0x5b2239[_0x2abef4(0x4e6)]+_0x2abef4(0x333));}),_0x7dd98f[_0x1e8f35(0x1fc)]=_0x40e4b8;});if(['dev',_0x9b920f[_0x466a36(0x34f)],_0x9b920f['mvYIK']][_0x466a36(0x24f)](role)){let _0x1972d6=0x0;_0x2e144['addEventListener'](_0x466a36(0x4fc),()=>{const _0x59a06f=_0x466a36;_0x1972d6++,_0x9b920f[_0x59a06f(0x341)](_0x1972d6,0x3)&&(_0x9b920f[_0x59a06f(0x3b7)](confirm,_0x9b920f[_0x59a06f(0x3cb)])&&(db['ref'](_0x59a06f(0x49f)+roomCode+_0x59a06f(0x37a)+_0x910f0b)[_0x59a06f(0x2aa)](),_0x2e144[_0x59a06f(0x2aa)]())),_0x9b920f[_0x59a06f(0x30b)](setTimeout,()=>_0x1972d6=0x0,0x5dc);});}const _0x35f528=document[_0x466a36(0x33e)]('messages');_0x35f528[_0x466a36(0x4a6)](_0x2e144),_0x35f528[_0x466a36(0x313)]=_0x35f528['scrollHeight'];}function cleanupOldRooms(){const _0x79b78a=_0x1534a5,_0x30990e={'oAgAk':function(_0x2db47a,_0x43dea2){return _0x2db47a!==_0x43dea2;},'aohZZ':function(_0x4acc6b,_0x1def45){return _0x4acc6b>_0x1def45;},'eejIO':function(_0x13dd48,_0x2e3661){return _0x13dd48-_0x2e3661;},'mfWck':function(_0x1513a8,_0x693469){return _0x1513a8*_0x693469;},'bgqiw':function(_0x11e13a,_0x4e23ce){return _0x11e13a+_0x4e23ce;},'yfySu':_0x79b78a(0x49f),'skGuc':_0x79b78a(0x2fd),'vMzmh':_0x79b78a(0x4c3),'jPduY':'value','bMjSa':_0x79b78a(0x455)};db[_0x79b78a(0x39b)](_0x30990e[_0x79b78a(0x4e8)])[_0x79b78a(0x2c0)](_0x30990e['jPduY'])[_0x79b78a(0x3bb)](_0x339ca3=>{const _0x7a7f6=_0x79b78a,_0x2467c8={'ZnYOC':function(_0x985e46,_0x1d168d){const _0x125b31=_0xd91b;return _0x30990e[_0x125b31(0x331)](_0x985e46,_0x1d168d);}},_0x175a04=_0x339ca3[_0x7a7f6(0x31b)]();if(!_0x175a04)return;const _0x287d79=Date[_0x7a7f6(0x23d)]();for(const _0x126f9c in _0x175a04){if(_0x126f9c===STATIC_ROOM)continue;const _0x381768=_0x175a04[_0x126f9c];_0x30990e['aohZZ'](_0x30990e[_0x7a7f6(0x4fa)](_0x287d79,_0x381768[_0x7a7f6(0x1c6)]||0x0),_0x30990e[_0x7a7f6(0x4ec)](_0x30990e['mfWck'](0x2,0x3c),0x3e8))&&db[_0x7a7f6(0x39b)](_0x30990e[_0x7a7f6(0x20b)](_0x30990e['yfySu'],_0x126f9c))[_0x7a7f6(0x2aa)]();}db['ref'](_0x30990e[_0x7a7f6(0x4b0)])['once'](_0x7a7f6(0x40b))['then'](_0x2d8068=>{const _0x5262e1=_0x7a7f6,_0x546cbf=_0x2d8068['val']();if(!_0x546cbf)return;for(const _0xaaaab9 in _0x546cbf){if(_0x30990e['oAgAk'](_0xaaaab9,STATIC_ROOM))db['ref'](_0x5262e1(0x239)+_0xaaaab9)[_0x5262e1(0x2aa)]();}}),db[_0x7a7f6(0x39b)](_0x30990e['vMzmh'])[_0x7a7f6(0x2c0)](_0x30990e[_0x7a7f6(0x477)])[_0x7a7f6(0x3bb)](_0x20bccc=>{const _0x22fea7=_0x7a7f6,_0x269b0e=_0x20bccc[_0x22fea7(0x31b)]();if(!_0x269b0e)return;for(const _0xa4ca8 in _0x269b0e){if(_0x2467c8[_0x22fea7(0x413)](_0xa4ca8,STATIC_ROOM))db[_0x22fea7(0x39b)](_0x22fea7(0x41b)+_0xa4ca8)[_0x22fea7(0x2aa)]();}});});}document[_0x1534a5(0x4df)](_0x1534a5(0x3db),()=>{const _0x31282f=_0x1534a5,_0xccc5c4={'rspIK':function(_0x2d955d,_0x30ee02){return _0x2d955d===_0x30ee02;},'nHTIh':'Enter','yfcXg':function(_0xda693f){return _0xda693f();},'ByLHh':_0x31282f(0x45a),'SLeGx':_0x31282f(0x367)},_0x3b8a80=document[_0x31282f(0x33e)](_0xccc5c4[_0x31282f(0x468)]);_0x3b8a80&&_0x3b8a80[_0x31282f(0x4df)](_0xccc5c4[_0x31282f(0x3f3)],function(_0x3c069d){const _0x458090=_0x31282f;_0xccc5c4[_0x458090(0x293)](_0x3c069d[_0x458090(0x350)],_0xccc5c4[_0x458090(0x237)])&&(_0x3c069d[_0x458090(0x32f)](),_0xccc5c4['yfcXg'](sendMessage));});});function showScreen(_0x576f90){const _0x2f38b9=_0x1534a5,_0x582eb0={'uJoJr':_0x2f38b9(0x388),'ocZGP':_0x2f38b9(0x28e),'bFxTR':_0x2f38b9(0x4bf),'RaERE':_0x2f38b9(0x344),'cbKyd':_0x2f38b9(0x2e8),'IzDKV':'profileScreen','daPUz':_0x2f38b9(0x25e),'lBDrU':_0x2f38b9(0x4a7),'PZfdH':'editProfileScreen','RlRWR':_0x2f38b9(0x4fe)};[_0x582eb0[_0x2f38b9(0x385)],_0x2f38b9(0x323),_0x582eb0[_0x2f38b9(0x2b2)],_0x582eb0[_0x2f38b9(0x320)],_0x582eb0[_0x2f38b9(0x3e5)],_0x582eb0['IzDKV'],_0x582eb0[_0x2f38b9(0x378)],_0x582eb0[_0x2f38b9(0x2fb)],_0x582eb0['PZfdH']][_0x2f38b9(0x1c9)](_0x43b4db=>{const _0x32926b=_0x2f38b9;document[_0x32926b(0x33e)](_0x43b4db)[_0x32926b(0x1cd)][_0x32926b(0x43e)]=_0x582eb0[_0x32926b(0x212)];}),document[_0x2f38b9(0x33e)](_0x576f90)[_0x2f38b9(0x1cd)]['display']=_0x582eb0[_0x2f38b9(0x30d)];}function genRoomCode(){const _0x4fedb9=_0x1534a5,_0x221353={'OPwbh':_0x4fedb9(0x4a4),'TyMxR':_0x4fedb9(0x29f),'tUvgZ':function(_0x1ea9af,_0x204b15){return _0x1ea9af+_0x204b15;},'zLyrk':function(_0x5de855,_0x5608ca){return _0x5de855+_0x5608ca;},'hKTrH':function(_0xb2302f,_0x57b35f){return _0xb2302f+_0x57b35f;},'CsXAE':function(_0x4800aa,_0x514ca1,_0x5b17bc){return _0x4800aa(_0x514ca1,_0x5b17bc);},'SgdPm':function(_0x4018b5,_0xfb4be2,_0x2d9ca9){return _0x4018b5(_0xfb4be2,_0x2d9ca9);},'kwQtB':function(_0x2330c0,_0x10bc92,_0x20ac90){return _0x2330c0(_0x10bc92,_0x20ac90);}},_0x24f342=_0x221353[_0x4fedb9(0x35a)],_0x4cd65e=_0x221353['TyMxR'],_0x13047f=(_0xdb1379,_0x125f5b)=>Array[_0x4fedb9(0x1fe)]({'length':_0x125f5b},()=>_0xdb1379[Math[_0x4fedb9(0x243)](Math['random']()*_0xdb1379['length'])])[_0x4fedb9(0x240)]('');return _0x221353[_0x4fedb9(0x4b7)](_0x221353[_0x4fedb9(0x1f6)](_0x221353['hKTrH'](_0x221353['CsXAE'](_0x13047f,_0x4cd65e,0x3),_0x221353['SgdPm'](_0x13047f,_0x24f342,0x3)),_0x221353[_0x4fedb9(0x4d0)](_0x13047f,_0x4cd65e,0x2)),_0x221353[_0x4fedb9(0x2d4)](_0x13047f,_0x24f342,0x2));}function _0xd91b(_0x587ed9,_0x2da8a9){const _0x188586=_0x1885();return _0xd91b=function(_0xd91b6,_0x27140f){_0xd91b6=_0xd91b6-0x1bd;let _0x225385=_0x188586[_0xd91b6];return _0x225385;},_0xd91b(_0x587ed9,_0x2da8a9);}function startInactivityTimer(){const _0x179e04=_0x1534a5,_0x1c1988={'pToxR':function(_0x569844,_0x291226){return _0x569844>_0x291226;},'zuuPJ':function(_0x15e0a9,_0x47621c){return _0x15e0a9-_0x47621c;},'lrOPq':function(_0x45d56c,_0x279903){return _0x45d56c*_0x279903;},'wkzAy':function(_0x2e9afc,_0x334baa){return _0x2e9afc+_0x334baa;},'UfbJe':_0x179e04(0x49f),'RIZlw':'Session\x20expired.','kfnkZ':function(_0x1fce5b,_0xaa01af,_0x32130b){return _0x1fce5b(_0xaa01af,_0x32130b);}};_0x1c1988['kfnkZ'](setInterval,()=>{const _0xbce9df=_0x179e04;_0x1c1988[_0xbce9df(0x42a)](_0x1c1988[_0xbce9df(0x36e)](Date[_0xbce9df(0x23d)](),lastActivity),_0x1c1988[_0xbce9df(0x259)](0x5*0x3c,0x3e8))&&roomCode!==STATIC_ROOM&&(db[_0xbce9df(0x39b)](_0x1c1988['wkzAy'](_0x1c1988[_0xbce9df(0x273)],roomCode))[_0xbce9df(0x377)]({'active':![]}),alert(_0x1c1988[_0xbce9df(0x4c2)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x1c3914=_0x1534a5,_0x50f74e={'lPFgi':_0x1c3914(0x43d),'tBsnn':_0x1c3914(0x4b4),'GcCqk':_0x1c3914(0x33c)};window[_0x1c3914(0x4df)](_0x50f74e[_0x1c3914(0x2f3)],()=>{const _0x4d83d9=_0x1c3914,_0x4ac293=document[_0x4d83d9(0x33e)](_0x50f74e['lPFgi']);_0x4ac293?.['classList'][_0x4d83d9(0x4d2)](_0x50f74e[_0x4d83d9(0x46c)])&&_0x4ac293[_0x4d83d9(0x396)][_0x4d83d9(0x2aa)](_0x50f74e[_0x4d83d9(0x46c)]);});}function toggleSidebar(){const _0x191e49=_0x1534a5,_0x341c78={'dqNmf':_0x191e49(0x43d),'RleKd':_0x191e49(0x4b4)},_0x3db622=document['getElementById'](_0x341c78[_0x191e49(0x282)]);if(!_0x3db622[_0x191e49(0x396)][_0x191e49(0x4d2)](_0x341c78[_0x191e49(0x47f)]))_0x3db622[_0x191e49(0x396)]['add'](_0x341c78[_0x191e49(0x47f)]),history[_0x191e49(0x2a3)]({'sidebarOpen':!![]},'');else{_0x3db622['classList'][_0x191e49(0x2aa)](_0x341c78[_0x191e49(0x47f)]);if(history['state']?.[_0x191e49(0x456)])history[_0x191e49(0x387)]();}}function setupVisibilityAttention(){const _0x27a574=_0x1534a5,_0x8e0e5a={'lSofi':_0x27a574(0x4e4)};let _0x24ab1a=0x0,_0x21b23d=document[_0x27a574(0x2ff)];document[_0x27a574(0x4df)](_0x8e0e5a[_0x27a574(0x310)],()=>{const _0x575c0c=_0x27a574;!document[_0x575c0c(0x4d9)]&&(document['title']=_0x21b23d,_0x24ab1a=0x0);}),window['flagPageAttention']=function(){const _0xdb2ba4=_0x27a574;document[_0xdb2ba4(0x4d9)]&&(_0x24ab1a++,document[_0xdb2ba4(0x2ff)]='('+_0x24ab1a+_0xdb2ba4(0x21b)+_0x21b23d);};}function tryEditProfile(){const _0xb6ff28={'ELjGW':function(_0x467901,_0x3179e7){return _0x467901(_0x3179e7);},'LGGAK':'editProfileScreen'};_0xb6ff28['ELjGW'](showScreen,_0xb6ff28['LGGAK']);}async function submitEditProfile(){const _0x5ea6fe=_0x1534a5,_0x1095a9={'DYHRZ':_0x5ea6fe(0x3e7),'DmwYk':'editBioInput','OPNXz':_0x5ea6fe(0x1cf),'hjmnM':_0x5ea6fe(0x200),'sAxVC':function(_0x3a9b69,_0x199e19){return _0x3a9b69(_0x199e19);},'uqdmx':_0x5ea6fe(0x3d5),'KjpSg':function(_0x4652c5,_0x4e3fbf){return _0x4652c5!==_0x4e3fbf;},'AMQPq':_0x5ea6fe(0x48b),'maPxE':function(_0x497203,_0x5af85a){return _0x497203(_0x5af85a);},'yfszo':function(_0x574053,_0x1820b4){return _0x574053*_0x1820b4;},'Aekef':function(_0x3f390b,_0xc6c189){return _0x3f390b*_0xc6c189;},'eMZJH':function(_0x455753,_0x44febd){return _0x455753>_0x44febd;},'nXfHj':function(_0xbded4e,_0x3bb13b){return _0xbded4e-_0x3bb13b;},'Dnuxi':function(_0x2bdba5,_0x3355c7){return _0x2bdba5(_0x3355c7);},'IOlEy':_0x5ea6fe(0x33a),'otfzL':_0x5ea6fe(0x47e)},_0x3295f2=document[_0x5ea6fe(0x33e)](_0x1095a9[_0x5ea6fe(0x3a8)])[_0x5ea6fe(0x40b)],_0xbdcec4=document['getElementById'](_0x5ea6fe(0x29d))['value'],_0xc87ce0=document[_0x5ea6fe(0x33e)](_0x1095a9[_0x5ea6fe(0x29c)])[_0x5ea6fe(0x40b)]['trim'](),_0x23e797=document[_0x5ea6fe(0x33e)](_0x5ea6fe(0x39e));if(!_0x3295f2){_0x23e797['innerText']=_0x1095a9[_0x5ea6fe(0x288)],_0x23e797['style'][_0x5ea6fe(0x43e)]=_0x1095a9['hjmnM'];return;}const _0x46d052=_0x1095a9[_0x5ea6fe(0x404)](sanitizeUsername,username),_0x1e1e68=await db[_0x5ea6fe(0x39b)]('auth/'+_0x46d052)[_0x5ea6fe(0x352)]();if(!_0x1e1e68[_0x5ea6fe(0x4cb)]()){_0x23e797[_0x5ea6fe(0x445)]=_0x1095a9[_0x5ea6fe(0x325)],_0x23e797['style']['display']=_0x1095a9[_0x5ea6fe(0x298)];return;}const _0x230801=_0x1e1e68[_0x5ea6fe(0x31b)](),_0x11b6f5=await _0x1095a9[_0x5ea6fe(0x404)](sha256,_0x3295f2);if(_0x1095a9[_0x5ea6fe(0x433)](_0x11b6f5,_0x230801[_0x5ea6fe(0x4d4)])){_0x23e797[_0x5ea6fe(0x445)]=_0x1095a9[_0x5ea6fe(0x332)],_0x23e797[_0x5ea6fe(0x1cd)][_0x5ea6fe(0x43e)]=_0x5ea6fe(0x200);return;}const _0x5994be={};if(_0xbdcec4){const _0x6293c6=await _0x1095a9['maPxE'](sha256,_0xbdcec4);_0x5994be[_0x5ea6fe(0x4d4)]=_0x6293c6;}_0x1095a9[_0x5ea6fe(0x433)](_0xc87ce0,_0x230801[_0x5ea6fe(0x345)])&&(_0x5994be[_0x5ea6fe(0x345)]=_0xc87ce0);const _0x213e3e=Date[_0x5ea6fe(0x23d)](),_0x3c0a77=_0x1095a9[_0x5ea6fe(0x29a)](_0x1095a9[_0x5ea6fe(0x481)](0x18*0x3c,0x3c),0x3e8),_0x3ac296=_0x1095a9[_0x5ea6fe(0x295)](_0x1095a9[_0x5ea6fe(0x4ca)](_0x213e3e,_0x230801[_0x5ea6fe(0x3ca)]||0x0),_0x3c0a77);if(_0x3ac296&&_0x1095a9[_0x5ea6fe(0x265)](confirm,_0x1095a9[_0x5ea6fe(0x3ad)])){const _0x27718f=_0x1095a9[_0x5ea6fe(0x2c3)](prompt,_0x1095a9[_0x5ea6fe(0x3b1)]);_0x27718f&&_0x27718f['trim']()&&(_0x5994be[_0x5ea6fe(0x394)]=_0x27718f[_0x5ea6fe(0x466)](),_0x5994be[_0x5ea6fe(0x3c3)]=(_0x230801[_0x5ea6fe(0x3c3)]||[])[_0x5ea6fe(0x20c)](_0x27718f[_0x5ea6fe(0x466)]()),_0x5994be['lastChanged']=_0x213e3e);}_0x5994be[_0x5ea6fe(0x394)]&&_0x5994be[_0x5ea6fe(0x394)]!==_0x230801[_0x5ea6fe(0x394)]?(await db[_0x5ea6fe(0x39b)]('auth/'+sanitizeUsername(_0x5994be[_0x5ea6fe(0x394)]))[_0x5ea6fe(0x268)]({..._0x230801,..._0x5994be}),await db[_0x5ea6fe(0x39b)](_0x5ea6fe(0x227)+_0x46d052)[_0x5ea6fe(0x2aa)](),username=_0x5994be['username']):await db['ref'](_0x5ea6fe(0x227)+_0x46d052)['update'](_0x5994be),_0x1095a9['maPxE'](alert,_0x5ea6fe(0x251)),location['reload']();}function cancelEditProfile(){const _0x5ee890=_0x1534a5,_0x45e23a={'yHAvZ':function(_0x1d7f8f,_0x1f05e3){return _0x1d7f8f(_0x1f05e3);},'gxgPw':_0x5ee890(0x344)};document[_0x5ee890(0x33e)](_0x5ee890(0x374))[_0x5ee890(0x1cd)][_0x5ee890(0x43e)]=_0x5ee890(0x388),_0x45e23a[_0x5ee890(0x463)](showScreen,_0x45e23a[_0x5ee890(0x266)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0xa1c2fa=_0x1534a5,_0xced81e={'nBCPH':function(_0x2a0563,_0x178e17){return _0x2a0563(_0x178e17);},'ofwvV':'value'};db[_0xa1c2fa(0x39b)]('users/'+roomCode)['on'](_0xced81e[_0xa1c2fa(0x43f)],async _0x474673=>{const _0x293b41=_0xa1c2fa;if(!_0x474673['exists']())return;const _0x12d4bc=_0x474673[_0x293b41(0x31b)]();for(const _0xb18f25 in previousUsers){if(!_0x12d4bc[_0xb18f25])_0x12d4bc[_0xb18f25]=previousUsers[_0xb18f25];}renderUserLists(_0x12d4bc),previousUsers=_0x12d4bc,await loadRoomRoles(),_0xced81e[_0x293b41(0x3f5)](renderUserLists,_0x12d4bc);});}function trackPresence(){const _0x5173c0=_0x1534a5,_0x1fd078={'inqhJ':function(_0xcc9755){return _0xcc9755();},'jPvUE':_0x5173c0(0x204),'slsCs':function(_0xa45ed8,_0x1b4c4b){return _0xa45ed8(_0x1b4c4b);},'sznxC':function(_0x3a491f,_0x3bc3b3){return _0x3a491f||_0x3bc3b3;}};if(!username||!roomCode)return;const _0x2100a8=_0x1fd078[_0x5173c0(0x2e4)](sanitizeUsername,username),_0xdca6ef=db[_0x5173c0(0x39b)](_0x5173c0(0x399)+roomCode+'/'+_0x2100a8),_0x46d629={'username':username,'avatarBase64':avatarBase64||'','description':_0x1fd078['sznxC'](userDescription,''),'online':!![],'lastOnline':firebase[_0x5173c0(0x23a)][_0x5173c0(0x28a)][_0x5173c0(0x366)]};_0xdca6ef[_0x5173c0(0x2c0)](_0x5173c0(0x40b))['then'](_0x4c2cec=>{const _0x56c1a8=_0x5173c0,_0x43ef80={'RNuEq':function(_0x55a38e){return _0x1fd078['inqhJ'](_0x55a38e);},'RoGdW':_0x1fd078['jPvUE']},_0x2b156f=_0x4c2cec[_0x56c1a8(0x31b)]()?.[_0x56c1a8(0x4f0)];_0xdca6ef[_0x56c1a8(0x268)](_0x46d629)['then'](()=>{const _0x2c5e88=_0x56c1a8;_0x43ef80[_0x2c5e88(0x48a)](updateOnlineIndicator);if(!_0x2b156f){const _0x126c70=db[_0x2c5e88(0x39b)]()[_0x2c5e88(0x278)]()['key'];db[_0x2c5e88(0x39b)](_0x2c5e88(0x49f)+roomCode+_0x2c5e88(0x37a)+_0x126c70)[_0x2c5e88(0x268)]({'msg':username+_0x2c5e88(0x3de),'sender':_0x43ef80[_0x2c5e88(0x21a)],'senderId':_0x2c5e88(0x204),'timestamp':Date['now']()});}_0xdca6ef['onDisconnect']()[_0x2c5e88(0x377)]({'online':![],'lastOnline':Date[_0x2c5e88(0x23d)]()});});});}function uploadSidebarAvatar(_0x136373){const _0x38b30d=_0x1534a5,_0x1b4fae={'gVpeJ':_0x38b30d(0x216),'gfyXY':_0x38b30d(0x200),'mufxg':function(_0x4ecf85,_0x3bd9b5){return _0x4ecf85(_0x3bd9b5);},'CLKZj':function(_0x4cdd16,_0x2965b8){return _0x4cdd16(_0x2965b8);},'UKggG':'✅\x20Profile\x20picture\x20updated!','qfkcZ':_0x38b30d(0x277)};if(!_0x136373[_0x38b30d(0x4c7)][_0x38b30d(0x4e6)])return;const _0xc0591=_0x136373['files'][0x0],_0x58fc66=new FileReader();_0x58fc66['onloadend']=async()=>{const _0x26c850=_0x38b30d,_0x5e1099=_0x58fc66[_0x26c850(0x4ad)][_0x26c850(0x3b8)](',')[0x1];document[_0x26c850(0x33e)](_0x1b4fae[_0x26c850(0x322)])[_0x26c850(0x400)]=_0x58fc66['result'],document['getElementById'](_0x26c850(0x216))[_0x26c850(0x1cd)][_0x26c850(0x43e)]=_0x1b4fae[_0x26c850(0x48c)];try{const _0x12c4e8=_0x1b4fae[_0x26c850(0x407)](sanitizeUsername,username);await db['ref'](_0x26c850(0x227)+_0x12c4e8+_0x26c850(0x335))[_0x26c850(0x268)](_0x5e1099),_0x1b4fae[_0x26c850(0x27a)](alert,_0x1b4fae[_0x26c850(0x2ee)]);}catch(_0x5abd85){console['error'](_0x5abd85),alert(_0x1b4fae[_0x26c850(0x21e)]);}},_0x58fc66['readAsDataURL'](_0xc0591);}function muteUser(_0xd32ad9,_0x10a45c){const _0x2305ce=_0x1534a5,_0x41b595={'nFWpQ':function(_0x1567a0,_0x157399){return _0x1567a0(_0x157399);},'CqveT':function(_0x498dc3,_0x42c7ae){return _0x498dc3+_0x42c7ae;},'YPfqS':function(_0x4b03d1,_0x435d19){return _0x4b03d1*_0x435d19;}},_0x5a9e9e=_0x41b595[_0x2305ce(0x49e)](Date[_0x2305ce(0x23d)](),_0x41b595[_0x2305ce(0x1f4)](_0x41b595[_0x2305ce(0x1f4)](_0x10a45c,0x3c),0x3e8));db['ref'](_0x2305ce(0x49d)+roomCode+'/'+sanitizeUsername(_0xd32ad9))[_0x2305ce(0x268)]({'muteUntil':_0x5a9e9e})['then'](()=>{const _0x281c27=_0x2305ce;_0x41b595[_0x281c27(0x203)](alert,_0xd32ad9+'\x20muted\x20for\x20'+_0x10a45c+_0x281c27(0x2ad)),_0x41b595['nFWpQ'](addSystemMessage,_0xd32ad9+_0x281c27(0x2fa)+_0x10a45c+_0x281c27(0x464));});}function unmuteUser(_0x1d031f){const _0x3afd3a=_0x1534a5,_0x127af6={'FGxZB':function(_0xa842e0,_0xccc64e){return _0xa842e0(_0xccc64e);},'XfBOd':_0x3afd3a(0x3a3),'dieGT':function(_0x26f270,_0x5202f1){return _0x26f270(_0x5202f1);}};if(!isRoomAdmin)return _0x127af6[_0x3afd3a(0x2db)](alert,_0x127af6['XfBOd']);db[_0x3afd3a(0x39b)]('muted/'+roomCode+'/'+_0x127af6['dieGT'](sanitizeUsername,_0x1d031f))['remove']();}function updateOnlineIndicator(){const _0x1bb2b5=_0x1534a5,_0x490ba3={'BGKtF':_0x1bb2b5(0x4dd),'bBNQY':_0x1bb2b5(0x3bf)},_0x126a35=document['getElementById'](_0x490ba3[_0x1bb2b5(0x2a7)]);_0x126a35[_0x1bb2b5(0x445)]=_0x490ba3[_0x1bb2b5(0x254)],_0x126a35[_0x1bb2b5(0x1cd)][_0x1bb2b5(0x484)]=_0x1bb2b5(0x38a);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x13a925){const _0x331520=_0x1534a5,_0x474bc3={'ZvslG':function(_0x5169bb,_0x55860d,_0x238700){return _0x5169bb(_0x55860d,_0x238700);},'SdcmM':_0x331520(0x3d5),'yZIqd':function(_0x25d348,_0x5d8233){return _0x25d348(_0x5d8233);}},_0x5e74ea=_0x474bc3[_0x331520(0x38d)](sanitizeUsername,_0x13a925);db[_0x331520(0x39b)](_0x331520(0x227)+_0x5e74ea)[_0x331520(0x352)]()[_0x331520(0x3bb)](async _0x3fb673=>{const _0x3b7252=_0x331520;if(_0x3fb673[_0x3b7252(0x4cb)]()){const _0x1e4a50=_0x3fb673['val']();_0x474bc3['ZvslG'](showProfileViewer,_0x1e4a50,_0x5e74ea);}else{const _0x564b62=await db[_0x3b7252(0x39b)](_0x3b7252(0x474)+_0x5e74ea)[_0x3b7252(0x352)]();if(_0x564b62['exists']()){const _0x4c9a56=_0x564b62[_0x3b7252(0x31b)]();showProfileViewer(_0x4c9a56,_0x5e74ea);}else alert(_0x474bc3[_0x3b7252(0x241)]);}});}function showProfileViewer(_0x34f409,_0x43a023){const _0x31d1f1=_0x1534a5,_0x56fb81={'hOyBG':_0x31d1f1(0x403),'QfjRK':_0x31d1f1(0x24d),'ydRRC':_0x31d1f1(0x2e6),'XKQUP':_0x31d1f1(0x35c),'AIIIL':function(_0x4ac660,_0x242e4a){return _0x4ac660+_0x242e4a;},'VBAVs':_0x31d1f1(0x3c6),'puCwo':_0x31d1f1(0x200),'XYsYN':_0x31d1f1(0x388),'oQmGQ':_0x31d1f1(0x25e)},_0x396459=(_0x31d1f1(0x32c)+(_0x34f409[_0x31d1f1(0x394)]||_0x43a023)+_0x31d1f1(0x2be)+(_0x34f409['description']||_0x56fb81['hOyBG'])+'\x0aUsername\x20History:\x20'+((_0x34f409[_0x31d1f1(0x3c3)]||[])['join'](',\x20')||_0x56fb81[_0x31d1f1(0x256)])+_0x31d1f1(0x3d2)+(_0x34f409['lastChanged']?new Date(_0x34f409[_0x31d1f1(0x3ca)])[_0x31d1f1(0x46b)]():_0x56fb81[_0x31d1f1(0x4ef)])+_0x31d1f1(0x3c4))[_0x31d1f1(0x466)]();document['getElementById']('profileContent')[_0x31d1f1(0x445)]=_0x396459,_0x34f409[_0x31d1f1(0x485)]?(document[_0x31d1f1(0x33e)](_0x56fb81[_0x31d1f1(0x44b)])[_0x31d1f1(0x400)]=_0x56fb81['AIIIL'](_0x56fb81[_0x31d1f1(0x25d)],_0x34f409[_0x31d1f1(0x485)]),document[_0x31d1f1(0x33e)]('profileViewerAvatar')[_0x31d1f1(0x1cd)][_0x31d1f1(0x43e)]=_0x56fb81[_0x31d1f1(0x3a9)]):document[_0x31d1f1(0x33e)](_0x56fb81[_0x31d1f1(0x44b)])['style'][_0x31d1f1(0x43e)]=_0x56fb81[_0x31d1f1(0x235)],document[_0x31d1f1(0x33e)](_0x56fb81['oQmGQ'])[_0x31d1f1(0x1cd)]['display']=_0x31d1f1(0x200);}function initUsernameFlow(){const _0x1df40a=_0x1534a5,_0x493303={'zPKZN':_0x1df40a(0x2a0),'jmeOk':function(_0x13e1a9,_0x10982e){return _0x13e1a9(_0x10982e);},'UnKbs':'profileScreen','NJhLF':'namePreview'},_0xddab09=localStorage[_0x1df40a(0x39d)](_0x493303[_0x1df40a(0x1f0)]);!_0xddab09?_0x493303['jmeOk'](showScreen,_0x493303[_0x1df40a(0x450)]):(username=_0xddab09,document[_0x1df40a(0x33e)](_0x493303[_0x1df40a(0x2f9)])[_0x1df40a(0x445)]=username,showScreen(_0x1df40a(0x323)));}function closeProfile(){const _0x5a25ba=_0x1534a5,_0x19fa7a={'pzzbC':_0x5a25ba(0x25e),'lHmmn':_0x5a25ba(0x388)};document[_0x5a25ba(0x33e)](_0x19fa7a[_0x5a25ba(0x225)])[_0x5a25ba(0x1cd)]['display']=_0x19fa7a['lHmmn'];}function resetWebsiteData(){const _0x2dcceb=_0x1534a5,_0x120f1b={'BpZmN':_0x2dcceb(0x4c1),'LUeqw':function(_0x5cdc08,_0x93ab7e){return _0x5cdc08||_0x93ab7e;},'lqgPW':function(_0x4f54b2,_0x42f3a2){return _0x4f54b2+_0x42f3a2;}};try{const _0x53f67b=localStorage[_0x2dcceb(0x39d)](_0x120f1b[_0x2dcceb(0x364)]);localStorage[_0x2dcceb(0x1dc)](),sessionStorage[_0x2dcceb(0x1dc)](),_0x53f67b&&localStorage[_0x2dcceb(0x49c)](_0x120f1b[_0x2dcceb(0x364)],_0x53f67b);}catch(_0x3d178d){}_0x120f1b[_0x2dcceb(0x2f1)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x120f1b[_0x2dcceb(0x426)]('_',Math[_0x2dcceb(0x2c2)]()[_0x2dcceb(0x1bf)](0x24)[_0x2dcceb(0x376)](0x2,0x9)));}function addAnnouncement(){const _0x4b659c=_0x1534a5,_0x306c16={'cvHOP':function(_0x264559,_0x1021ef){return _0x264559(_0x1021ef);},'UcDiT':_0x4b659c(0x3d4)},_0x582268=_0x306c16[_0x4b659c(0x493)](prompt,_0x306c16[_0x4b659c(0x35b)]);if(!_0x582268)return;db[_0x4b659c(0x39b)](_0x4b659c(0x49f)+roomCode+_0x4b659c(0x349))[_0x4b659c(0x268)]({'text':_0x582268,'by':username,'timestamp':Date[_0x4b659c(0x23d)]()});}function listenForAnnouncement(){const _0x29ca2d=_0x1534a5,_0x6a0326={'hlHzm':_0x29ca2d(0x361),'TmtaV':_0x29ca2d(0x40b)},_0x2ea0b5=db[_0x29ca2d(0x39b)](_0x29ca2d(0x49f)+roomCode+'/announcement');_0x2ea0b5['on'](_0x6a0326[_0x29ca2d(0x41c)],_0x5c7440=>{const _0x48071d=_0x29ca2d,_0x3e9c85=_0x5c7440[_0x48071d(0x31b)]();if(!_0x3e9c85){document[_0x48071d(0x33e)](_0x6a0326[_0x48071d(0x476)])[_0x48071d(0x445)]='';return;}const _0x3d1cf2=document[_0x48071d(0x33e)](_0x6a0326[_0x48071d(0x476)]);_0x3d1cf2[_0x48071d(0x445)]=''+_0x3e9c85['text'];});}document['getElementById']('announcementArea')[_0x1534a5(0x4df)]('click',_0x1397f9=>{const _0x3fa8ec=_0x1534a5,_0xf5a882={'SlJRX':function(_0x3360f3,_0x38c9fc){return _0x3360f3(_0x38c9fc);},'zgCXK':'Remove\x20Announcement?'};_0x1397f9[_0x3fa8ec(0x1c8)]===0x3&&isRoomAdmin&&(_0xf5a882[_0x3fa8ec(0x431)](confirm,_0xf5a882['zgCXK'])&&db['ref'](_0x3fa8ec(0x49f)+roomCode+'/announcement')['remove']());}),document['getElementById'](_0x1534a5(0x45a))[_0x1534a5(0x4df)](_0x1534a5(0x47a),()=>{const _0x479654=_0x1534a5,_0x57e711={'rlkyk':_0x479654(0x45a),'UuMmG':_0x479654(0x31c)},_0x582263=document[_0x479654(0x33e)](_0x57e711[_0x479654(0x2ce)]);_0x2214a1?_0x582263[_0x479654(0x1cd)][_0x479654(0x360)]=_0x57e711[_0x479654(0x228)]:_0x582263[_0x479654(0x1cd)][_0x479654(0x360)]='';const _0x407fa8=_0x582263[_0x479654(0x40b)][_0x479654(0x47c)](),_0x2214a1=swearWords['some'](_0x4c8a9b=>_0x407fa8['includes'](_0x4c8a9b));_0x2214a1?(_0x582263['style'][_0x479654(0x360)]=_0x57e711['UuMmG'],sendBtn['disabled']=!![]):(_0x582263[_0x479654(0x1cd)]['border']='',_0x2214a1?_0x582263[_0x479654(0x1cd)][_0x479654(0x360)]=_0x479654(0x31c):_0x582263[_0x479654(0x1cd)][_0x479654(0x360)]='');});function muteUser(_0x57d4c4,_0x34ed38){const _0x3eca51=_0x1534a5,_0x4a02ac={'Wlcuh':function(_0xc9e6c3,_0x37b784){return _0xc9e6c3(_0x37b784);},'EwZxx':function(_0x345859,_0x3321e2){return _0x345859+_0x3321e2;},'hwedq':function(_0x256f40,_0x4dd60e){return _0x256f40*_0x4dd60e;}},_0x3311f9=_0x4a02ac['EwZxx'](Date[_0x3eca51(0x23d)](),_0x4a02ac['hwedq'](_0x34ed38,0x3c)*0x3e8);db['ref'](_0x3eca51(0x49d)+roomCode+'/'+sanitizeUsername(_0x57d4c4))[_0x3eca51(0x268)]({'muteUntil':_0x3311f9})[_0x3eca51(0x3bb)](()=>{const _0x24d613=_0x3eca51;_0x4a02ac[_0x24d613(0x39c)](alert,_0x57d4c4+_0x24d613(0x448)+_0x34ed38+'\x20minutes.');});}function deleteUserMessages(_0x2af02f){const _0x15b5e4=_0x1534a5,_0x21a125={'KQGAA':function(_0x1f26a2,_0x378230){return _0x1f26a2(_0x378230);},'EYuDi':'sender'};db[_0x15b5e4(0x39b)]('rooms/'+roomCode+_0x15b5e4(0x4f3))['orderByChild'](_0x21a125['EYuDi'])[_0x15b5e4(0x3c9)](_0x2af02f)[_0x15b5e4(0x352)]()['then'](_0x48aaa6=>{const _0x3deaf5=_0x15b5e4;_0x48aaa6[_0x3deaf5(0x1c9)](_0x5328ae=>{const _0x3da461=_0x3deaf5;db[_0x3da461(0x39b)]('rooms/'+roomCode+'/messages/'+_0x5328ae['key'])[_0x3da461(0x2aa)]();}),_0x21a125['KQGAA'](alert,_0x3deaf5(0x42c)+_0x2af02f+'\x20deleted.');});}function pauseRoom(_0x2e836a){const _0x5cd9f8=_0x1534a5,_0x2899db={'KSpUC':'pausedOverlay','SNlOt':_0x5cd9f8(0x200),'RWyMf':_0x5cd9f8(0x388)};db['ref']('rooms/'+roomCode+_0x5cd9f8(0x435))['on']('value',_0x4a5b46=>{const _0x51c508=_0x5cd9f8,_0x36d93c=_0x4a5b46[_0x51c508(0x31b)]();document[_0x51c508(0x33e)](_0x2899db[_0x51c508(0x3d9)])['style'][_0x51c508(0x43e)]=_0x36d93c?_0x2899db[_0x51c508(0x2c5)]:_0x2899db['RWyMf'];});}function canPerformAction(_0xd14629){const _0xff729b=_0x1534a5,_0x282398={'KCOKd':function(_0x5b5ca2,_0x1b702e){return _0x5b5ca2===_0x1b702e;},'IzwHO':function(_0x626a37,_0x3571b2){return _0x626a37===_0x3571b2;},'DoQBa':_0xff729b(0x3d8),'fdYyH':'admin','MRBgv':function(_0x5d8f0a,_0x32c266){return _0x5d8f0a===_0x32c266;},'QYyNB':function(_0x2be539,_0x2a38b4){return _0x2be539===_0x2a38b4;},'xSIDh':_0xff729b(0x3e8),'sIniP':function(_0x58b61c,_0x3c3cfb){return _0x58b61c===_0x3c3cfb;},'GRFad':_0xff729b(0x339),'iLsfL':function(_0x36b2bf,_0x373a2d){return _0x36b2bf===_0x373a2d;},'CDeWS':_0xff729b(0x2a5),'juTUC':function(_0x34b1f4,_0x4594f9){return _0x34b1f4===_0x4594f9;},'SjMdS':function(_0x13b1e0,_0x387f61){return _0x13b1e0===_0x387f61;}},_0xb6ff92='1|2|4|3|0'[_0xff729b(0x3b8)]('|');let _0x2c5441=0x0;while(!![]){switch(_0xb6ff92[_0x2c5441++]){case'0':return![];case'1':if(_0x282398[_0xff729b(0x391)](role,'dev'))return!![];continue;case'2':if(_0x282398['IzwHO'](_0xd14629,_0x282398[_0xff729b(0x3e6)]))return role===_0x282398[_0xff729b(0x472)]||_0x282398['MRBgv'](role,_0xff729b(0x270))||_0x282398['QYyNB'](role,_0x282398[_0xff729b(0x209)]);continue;case'3':if(_0x282398[_0xff729b(0x3a1)](_0xd14629,_0x282398[_0xff729b(0x3ac)]))return role===_0x282398[_0xff729b(0x472)];continue;case'4':if(_0x282398[_0xff729b(0x2fe)](_0xd14629,_0x282398[_0xff729b(0x416)])||_0x282398[_0xff729b(0x3a0)](_0xd14629,_0x282398[_0xff729b(0x3ac)]))return _0x282398[_0xff729b(0x3c1)](role,_0x282398['fdYyH']);continue;}break;}}const html=Object[_0x1534a5(0x1d5)](roomUsers)[_0x1534a5(0x264)](_0x2f4e91=>{const _0x5b7d25=_0x1534a5,_0x4fb484={'Hayow':function(_0x1be640,_0x4abdd2){return _0x1be640(_0x4abdd2);},'MSkhO':function(_0x565208,_0x1e385b){return _0x565208!==_0x1e385b;},'pHVlM':function(_0x508f65,_0x5ace78){return _0x508f65(_0x5ace78);},'cZrKr':_0x5b7d25(0x3d8),'rfMhl':function(_0xf19df7,_0x2e724f){return _0xf19df7(_0x2e724f);},'iFvIz':_0x5b7d25(0x2b9),'AWHUc':'admin'},_0x43f412=_0x4fb484['Hayow'](sanitizeUsername,_0x2f4e91[_0x5b7d25(0x394)]),_0x4da336=[];if(_0x4fb484[_0x5b7d25(0x21c)](_0x43f412,sanitizeUsername(username))){_0x4fb484[_0x5b7d25(0x496)](canPerformAction,_0x4fb484[_0x5b7d25(0x35f)])&&(_0x4da336['push'](_0x5b7d25(0x37e)+_0x43f412+_0x5b7d25(0x4d8)),_0x4da336[_0x5b7d25(0x278)](_0x5b7d25(0x37e)+_0x43f412+_0x5b7d25(0x218)));_0x4fb484[_0x5b7d25(0x451)](canPerformAction,_0x5b7d25(0x2a5))&&_0x4da336['push']('<button\x20onclick=\x22deleteUserMessages(\x27'+_0x43f412+_0x5b7d25(0x26e));if(role===_0x4fb484['iFvIz'])_0x4da336[_0x5b7d25(0x278)](_0x5b7d25(0x21f)+_0x43f412+_0x5b7d25(0x2ac)),_0x4da336[_0x5b7d25(0x278)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x43f412+_0x5b7d25(0x447));else role===_0x4fb484[_0x5b7d25(0x406)]&&_0x4da336[_0x5b7d25(0x278)](_0x5b7d25(0x21f)+_0x43f412+_0x5b7d25(0x2ac));}return _0x5b7d25(0x4c4)+_0x2f4e91[_0x5b7d25(0x394)]+'\x20'+_0x4fb484[_0x5b7d25(0x451)](getRoleTag,_0x4fb484[_0x5b7d25(0x496)](sanitizeUsername,_0x2f4e91[_0x5b7d25(0x394)]))+_0x5b7d25(0x35d)+_0x43f412+_0x5b7d25(0x2c7)+_0x4da336[_0x5b7d25(0x240)]('')+_0x5b7d25(0x2ea)+_0x43f412+_0x5b7d25(0x40e);})['join']('');function promoteToModerator(_0xe4a11b){const _0x2d5351=_0x1534a5,_0x2087e9={'BTEfW':function(_0x590ad3,_0x3916a5){return _0x590ad3(_0x3916a5);},'nSoaK':function(_0x4ebcc2,_0x343192){return _0x4ebcc2(_0x343192);},'CqTdx':function(_0x2916ca,_0x326dc5){return _0x2916ca(_0x326dc5);},'SAIji':_0x2d5351(0x2c4),'EBnYM':function(_0x17e90b,_0x14f8f8){return _0x17e90b!==_0x14f8f8;},'Hgzex':_0x2d5351(0x2b9),'QVnUT':_0x2d5351(0x2ef),'sLusQ':'Only\x20Devs\x20or\x20Admins\x20can\x20promote.'},_0x2d1645=_0x2087e9[_0x2d5351(0x2c8)](sanitizeUsername,_0xe4a11b);if(_0x2087e9[_0x2d5351(0x2d5)](isProtected,_0x2d1645))return alert(_0x2087e9['SAIji']);if(_0x2087e9[_0x2d5351(0x439)](role,_0x2087e9[_0x2d5351(0x4cf)])&&role!==_0x2087e9['QVnUT']){_0x2087e9['CqTdx'](alert,_0x2087e9['sLusQ']);return;}db['ref'](_0x2d5351(0x42b)+roomCode+'/'+_0x2d1645)[_0x2d5351(0x268)](!![])['then'](()=>{const _0x34bc14=_0x2d5351;_0x2087e9[_0x34bc14(0x2d5)](alert,_0xe4a11b+_0x34bc14(0x305)),_0x2087e9[_0x34bc14(0x210)](addSystemMessage,_0xe4a11b+_0x34bc14(0x357));});}function promoteToAdmin(_0x5136bf){const _0x337b06=_0x1534a5,_0x4c5c02={'Qqapu':function(_0x539f6b,_0x1d484a){return _0x539f6b(_0x1d484a);},'aDeDI':function(_0x423d7e,_0xbc88ea){return _0x423d7e(_0xbc88ea);},'WPtNJ':function(_0x272074,_0x405b31){return _0x272074(_0x405b31);},'IQsbV':_0x337b06(0x2c4),'KSZHx':'dev','tLqYh':_0x337b06(0x2d1)},_0x38c484=_0x4c5c02[_0x337b06(0x3a5)](sanitizeUsername,_0x5136bf);if(isProtected(_0x38c484))return _0x4c5c02[_0x337b06(0x3a5)](alert,_0x4c5c02[_0x337b06(0x4b1)]);if(role!==_0x4c5c02[_0x337b06(0x319)]){_0x4c5c02['WPtNJ'](alert,_0x4c5c02[_0x337b06(0x3fc)]);return;}db[_0x337b06(0x39b)](_0x337b06(0x47d)+roomCode+'/'+_0x38c484)[_0x337b06(0x268)](!![])[_0x337b06(0x3bb)](()=>{const _0x21babc=_0x337b06;_0x4c5c02[_0x21babc(0x3f0)](alert,_0x5136bf+'\x20promoted\x20to\x20Admin!'),_0x4c5c02[_0x21babc(0x301)](addSystemMessage,_0x5136bf+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x1e62f7){const _0x374a9c=_0x1534a5,_0xde6bef={'ENaWH':function(_0x131a70,_0x37200f){return _0x131a70===_0x37200f;},'vfsuT':'admin','RDjlU':_0x374a9c(0x388),'VGYKt':'block'};(_0xde6bef[_0x374a9c(0x369)](role,_0x374a9c(0x2b9))||_0xde6bef[_0x374a9c(0x369)](role,_0xde6bef['vfsuT']))&&controls[_0x374a9c(0x278)](_0x374a9c(0x41d)+safeName+_0x374a9c(0x499));const _0x458eee=document[_0x374a9c(0x33e)]('userOptions-'+_0x1e62f7);_0xde6bef[_0x374a9c(0x369)](_0x458eee[_0x374a9c(0x1cd)][_0x374a9c(0x43e)],_0xde6bef[_0x374a9c(0x3d0)])?_0x458eee['style'][_0x374a9c(0x43e)]=_0xde6bef[_0x374a9c(0x4f9)]:_0x458eee[_0x374a9c(0x1cd)][_0x374a9c(0x43e)]=_0x374a9c(0x388);}function demoteUser(_0x3a7c2a){const _0x3e8da3=_0x1534a5,_0x23a208={'XKhXG':function(_0x5f1592,_0x50a229){return _0x5f1592(_0x50a229);},'KSSMP':function(_0x4e4412,_0x552746){return _0x4e4412(_0x552746);},'VzVSd':'🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','lYfjv':function(_0x352d78,_0xb72177){return _0x352d78===_0xb72177;},'VVAkf':_0x3e8da3(0x2b9),'Ccbey':function(_0x39d167,_0x19a657){return _0x39d167===_0x19a657;},'YfUTe':_0x3e8da3(0x2ef)};if(_0x23a208[_0x3e8da3(0x2cb)](isProtected,_0x3a7c2a))return _0x23a208[_0x3e8da3(0x334)](alert,_0x23a208[_0x3e8da3(0x20e)]);if(_0x23a208[_0x3e8da3(0x4ea)](role,_0x23a208[_0x3e8da3(0x35e)]))db[_0x3e8da3(0x39b)](_0x3e8da3(0x47d)+roomCode+'/'+_0x3a7c2a)[_0x3e8da3(0x2aa)](),db[_0x3e8da3(0x39b)](_0x3e8da3(0x42b)+roomCode+'/'+_0x3a7c2a)[_0x3e8da3(0x2aa)](),_0x23a208[_0x3e8da3(0x334)](alert,_0x3a7c2a+_0x3e8da3(0x410)),_0x23a208[_0x3e8da3(0x2cb)](addSystemMessage,_0x3a7c2a+_0x3e8da3(0x28b));else _0x23a208[_0x3e8da3(0x1ed)](role,_0x23a208[_0x3e8da3(0x1ff)])?(db[_0x3e8da3(0x39b)](_0x3e8da3(0x42b)+roomCode+'/'+_0x3a7c2a)[_0x3e8da3(0x2aa)](),_0x23a208[_0x3e8da3(0x2cb)](alert,_0x3a7c2a+_0x3e8da3(0x410)),_0x23a208[_0x3e8da3(0x334)](addSystemMessage,_0x3a7c2a+_0x3e8da3(0x28b))):_0x23a208[_0x3e8da3(0x334)](alert,_0x3e8da3(0x23c));}function getRoleTag(_0x884970){const _0x28a576=_0x1534a5,_0x5c428b={'lgDyq':function(_0x160714,_0x1af625){return _0x160714(_0x1af625);}},_0x1b0b3c=_0x5c428b[_0x28a576(0x1f2)](sanitizeUsername,_0x884970);if(globalDevs[_0x28a576(0x24f)](_0x1b0b3c))return _0x28a576(0x379);if(roomAdmins[_0x28a576(0x24f)](_0x1b0b3c))return _0x28a576(0x438);if(roomModerators['includes'](_0x1b0b3c))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x3979a2=_0x1534a5,_0x55fbcf={'UfexA':function(_0x3e9b21,_0x1cb85d){return _0x3e9b21===_0x1cb85d;},'zNxkq':_0x3979a2(0x2ef),'XVrEh':'moderator','ICLwp':'user'},_0x1edbf5=sanitizeUsername(username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0xc453ec=await db[_0x3979a2(0x39b)](_0x3979a2(0x236))['get']();_0xc453ec['forEach'](_0x12229b=>{const _0x3d8ee2=_0x3979a2;if(_0x55fbcf[_0x3d8ee2(0x267)](_0x12229b[_0x3d8ee2(0x31b)]()['role'],_0x3d8ee2(0x2b9)))globalDevs[_0x3d8ee2(0x278)](_0x12229b[_0x3d8ee2(0x350)]);});const _0x5d5f58=await db[_0x3979a2(0x39b)](_0x3979a2(0x47d)+roomCode)['get']();_0x5d5f58[_0x3979a2(0x4cb)]()&&_0x5d5f58[_0x3979a2(0x1c9)](_0x5a9dc3=>roomAdmins['push'](_0x5a9dc3[_0x3979a2(0x350)]));const _0x5992f5=await db['ref'](_0x3979a2(0x42b)+roomCode)[_0x3979a2(0x352)]();_0x5992f5['exists']()&&_0x5992f5[_0x3979a2(0x1c9)](_0x3e2299=>roomModerators[_0x3979a2(0x278)](_0x3e2299[_0x3979a2(0x350)]));if(globalDevs['includes'](_0x1edbf5))role=_0x3979a2(0x2b9);else{if(roomAdmins['includes'](_0x1edbf5))role=_0x55fbcf[_0x3979a2(0x4cd)];else roomModerators[_0x3979a2(0x24f)](_0x1edbf5)?role=_0x55fbcf[_0x3979a2(0x4a2)]:role=_0x55fbcf[_0x3979a2(0x38c)];}}async function renderUserLists(_0x452373){const _0x5008d7=_0x1534a5,_0x4c31ac={'tIEUs':function(_0x36bf34,_0x4e513b){return _0x36bf34(_0x4e513b);},'vliHL':function(_0x4ef533,_0x37abaa){return _0x4ef533===_0x37abaa;},'WwPhh':'mod','JqsTB':_0x5008d7(0x270),'pJJGc':_0x5008d7(0x2ef),'YUhmh':_0x5008d7(0x2b9),'BXkQT':'adminControlsSection','Ujyru':_0x5008d7(0x200),'TrEIp':'none','slgqk':_0x5008d7(0x36f),'siRMz':_0x5008d7(0x2b5)};roomUsers=_0x452373;const _0x591bd6=sanitizeUsername(username),_0x5e4675=[_0x4c31ac['YUhmh'],_0x4c31ac['pJJGc'],_0x4c31ac['JqsTB'],_0x4c31ac[_0x5008d7(0x215)]][_0x5008d7(0x24f)](role);document['getElementById'](_0x4c31ac[_0x5008d7(0x3ba)])[_0x5008d7(0x1cd)]['display']=_0x5e4675?_0x4c31ac['Ujyru']:_0x4c31ac['TrEIp'];const _0x551aec=Object['entries'](_0x452373)['map'](async([_0x57560d,_0x62715f])=>{const _0x1c166b=_0x5008d7,_0x4846aa=sanitizeUsername(_0x62715f[_0x1c166b(0x394)]||_0x57560d),_0x25f923=await _0x4c31ac[_0x1c166b(0x2ab)](fetchAvatar,_0x4846aa),_0x23f5c1=_0x25f923?_0x1c166b(0x36a)+_0x25f923+_0x1c166b(0x34d):'',_0x15e389=_0x62715f[_0x1c166b(0x4f0)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return _0x1c166b(0x3ae)+_0x23f5c1+'\x20'+_0x15e389+_0x1c166b(0x40a)+_0x4846aa+'\x27)\x22>'+(_0x62715f[_0x1c166b(0x394)]||_0x57560d)+'</span>\x20'+getRoleTag(_0x4846aa)+_0x1c166b(0x1d7);});document['getElementById'](_0x4c31ac[_0x5008d7(0x2de)])['innerHTML']=(await Promise['all'](_0x551aec))['join']('');if(!_0x5e4675)return;const _0x3ccac6=Object[_0x5008d7(0x1db)](_0x452373)['map'](async([_0x9cf488,_0x450c6d])=>{const _0x183b02=_0x5008d7,_0x4e8d2a=_0x4c31ac[_0x183b02(0x2ab)](sanitizeUsername,_0x450c6d[_0x183b02(0x394)]||_0x9cf488);if(_0x4c31ac[_0x183b02(0x354)](_0x4e8d2a,_0x591bd6))return'';const _0x1ab410=globalDevs['includes'](_0x4e8d2a),_0x482360=await fetchAvatar(_0x4e8d2a),_0x9830fa=_0x482360?'<img\x20src=\x22data:image/png;base64,'+_0x482360+_0x183b02(0x34d):'',_0x24cb67=_0x450c6d[_0x183b02(0x4f0)]?_0x183b02(0x4e5):_0x183b02(0x4ac),_0x2c7b32=[];if(!_0x1ab410){[_0x4c31ac['WwPhh'],_0x4c31ac[_0x183b02(0x249)],'admin',_0x183b02(0x2b9)][_0x183b02(0x24f)](role)&&(_0x2c7b32[_0x183b02(0x278)]('<button\x20onclick=\x22muteUser(\x27'+_0x4e8d2a+'\x27,\x201)\x22>Mute\x201m</button>'),_0x2c7b32['push'](_0x183b02(0x37e)+_0x4e8d2a+_0x183b02(0x4d8)),_0x2c7b32[_0x183b02(0x278)]('<button\x20onclick=\x22muteUser(\x27'+_0x4e8d2a+_0x183b02(0x218)));if(role==='dev')_0x2c7b32[_0x183b02(0x278)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x4e8d2a+_0x183b02(0x3f6)),_0x2c7b32[_0x183b02(0x278)](_0x183b02(0x402)+_0x4e8d2a+_0x183b02(0x291)),_0x2c7b32[_0x183b02(0x278)](_0x183b02(0x41d)+_0x4e8d2a+_0x183b02(0x499));else _0x4c31ac[_0x183b02(0x354)](role,_0x4c31ac['pJJGc'])&&(_0x2c7b32['push'](_0x183b02(0x21f)+_0x4e8d2a+_0x183b02(0x3f6)),_0x2c7b32['push'](_0x183b02(0x41d)+_0x4e8d2a+'\x27)\x22>Demote</button>'));}return _0x183b02(0x452)+_0x9830fa+'\x20'+_0x24cb67+_0x183b02(0x246)+(_0x450c6d[_0x183b02(0x394)]||_0x9cf488)+'\x20'+getRoleTag(_0x4e8d2a)+_0x183b02(0x3fb)+_0x2c7b32[_0x183b02(0x240)]('\x20')+_0x183b02(0x3ef);});document[_0x5008d7(0x33e)](_0x4c31ac[_0x5008d7(0x1e8)])[_0x5008d7(0x1fc)]=(await Promise[_0x5008d7(0x2ae)](_0x3ccac6))[_0x5008d7(0x240)]('');}function updateAnnouncementVisibility(){const _0x3dbcce=_0x1534a5,_0xd6196e={'yngdi':_0x3dbcce(0x4db),'qgIys':function(_0x154365,_0x265bdb){return _0x154365===_0x265bdb;},'LdUVG':_0x3dbcce(0x2ef),'eWHfa':'dev','Gatvi':_0x3dbcce(0x200)},_0x1ded5c=document[_0x3dbcce(0x33e)](_0xd6196e[_0x3dbcce(0x4b6)]);_0xd6196e[_0x3dbcce(0x23f)](role,_0xd6196e['LdUVG'])||role===_0xd6196e[_0x3dbcce(0x422)]?_0x1ded5c[_0x3dbcce(0x1cd)][_0x3dbcce(0x43e)]=_0xd6196e[_0x3dbcce(0x280)]:_0x1ded5c['style'][_0x3dbcce(0x43e)]='none';}async function fetchAvatar(_0x1159fe){const _0xfe714=_0x1534a5;if(userAvatars[_0x1159fe])return userAvatars[_0x1159fe];const _0x502073=await db[_0xfe714(0x39b)](_0xfe714(0x227)+_0x1159fe)[_0xfe714(0x352)]();if(_0x502073['exists']()&&_0x502073[_0xfe714(0x31b)]()[_0xfe714(0x485)])return userAvatars[_0x1159fe]=_0x502073['val']()[_0xfe714(0x485)],userAvatars[_0x1159fe];return null;}function sendTyping(){const _0x5f485a=_0x1534a5,_0x4dae27={'CKLLT':function(_0x524dbb,_0x405992){return _0x524dbb(_0x405992);},'LAXEK':function(_0x4f431e,_0x18bde0){return _0x4f431e(_0x18bde0);},'InDwu':function(_0x1ce4ca,_0x57edb3,_0x393a0e){return _0x1ce4ca(_0x57edb3,_0x393a0e);}},_0x4566dd=_0x4dae27[_0x5f485a(0x462)](sanitizeUsername,username),_0x1fc038=Date[_0x5f485a(0x23d)]();db['ref'](_0x5f485a(0x33b)+roomCode+'/'+_0x4566dd)[_0x5f485a(0x268)](_0x1fc038);if(typingTimeout)_0x4dae27['LAXEK'](clearTimeout,typingTimeout);typingTimeout=_0x4dae27[_0x5f485a(0x300)](setTimeout,()=>{const _0xda7204=_0x5f485a;db[_0xda7204(0x39b)](_0xda7204(0x33b)+roomCode+'/'+_0x4566dd)[_0xda7204(0x2aa)]();},0x1f4);}function listenForTyping(){const _0x3a2344=_0x1534a5,_0x1efd57={'xpqAv':'typing','wLwcq':_0x3a2344(0x40b)};db[_0x3a2344(0x39b)](_0x3a2344(0x33b)+roomCode)['on'](_0x1efd57['wLwcq'],_0x14283b=>{const _0x1a2dcd=_0x3a2344,_0x8b307=document[_0x1a2dcd(0x33e)](_0x1efd57[_0x1a2dcd(0x49b)]);if(!_0x14283b[_0x1a2dcd(0x4cb)]())return _0x8b307['innerText']='';const _0x342b9c=Date[_0x1a2dcd(0x23d)](),_0x58d139=Object[_0x1a2dcd(0x1db)](_0x14283b['val']())['filter'](([_0xe7c61,_0xfac8d6])=>_0xe7c61!==sanitizeUsername(username)&&_0x342b9c-_0xfac8d6<0x1388)['map'](([_0x182545])=>_0x182545);_0x8b307[_0x1a2dcd(0x445)]=_0x58d139['length']?_0x58d139[_0x1a2dcd(0x240)](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x51b806=_0x1534a5,_0x3a6e26={'kdUoX':function(_0x18ab1b,_0x19f7b5){return _0x18ab1b>_0x19f7b5;},'UlgTv':function(_0x2f4fa7,_0x8620e8){return _0x2f4fa7(_0x8620e8);},'RAnTw':_0x51b806(0x45a),'EytxY':'Type\x20a\x20message...','oNrzY':function(_0x5c7a1d,_0x3ff64f){return _0x5c7a1d===_0x3ff64f;},'cbYsg':_0x51b806(0x250),'OPIYh':function(_0x5bbb37,_0x1a817e){return _0x5bbb37>_0x1a817e;},'NmDug':_0x51b806(0x208),'SRufr':function(_0xa2515b,_0x5abe98,_0x234bf1){return _0xa2515b(_0x5abe98,_0x234bf1);},'mWzsK':function(_0x1ab043,_0x398b31){return _0x1ab043(_0x398b31);}},_0x28e3ff=db[_0x51b806(0x39b)](_0x51b806(0x49d)+roomCode+'/'+_0x3a6e26[_0x51b806(0x276)](sanitizeUsername,username));let _0x170bf9;_0x28e3ff['on'](_0x51b806(0x40b),_0x131254=>{const _0x29b6ee=_0x51b806,_0x38e5b1={'uHCgU':function(_0x5b1e1e,_0x5c88cf){const _0x3d6008=_0xd91b;return _0x3a6e26[_0x3d6008(0x22d)](_0x5b1e1e,_0x5c88cf);}};_0x3a6e26[_0x29b6ee(0x4ab)](clearInterval,_0x170bf9);const _0xebc4aa=document[_0x29b6ee(0x33e)](_0x3a6e26[_0x29b6ee(0x458)]);if(!_0x131254['exists']()){_0xebc4aa[_0x29b6ee(0x2d0)]=![],_0xebc4aa[_0x29b6ee(0x1da)]=_0x3a6e26['EytxY'];return;}const _0x97b249=_0x131254[_0x29b6ee(0x31b)](),_0x3a8b75=_0x3a6e26[_0x29b6ee(0x4f2)](typeof _0x97b249,_0x3a6e26[_0x29b6ee(0x30e)])&&_0x97b249['muteUntil']?_0x97b249[_0x29b6ee(0x3e9)]:_0x97b249;_0x3a6e26['OPIYh'](_0x3a8b75,Date[_0x29b6ee(0x23d)]())?(_0xebc4aa['disabled']=!![],_0xebc4aa[_0x29b6ee(0x1da)]=_0x3a6e26[_0x29b6ee(0x26d)],_0x170bf9=_0x3a6e26[_0x29b6ee(0x415)](setInterval,()=>{const _0x53e5a4=_0x29b6ee;_0x38e5b1[_0x53e5a4(0x2e9)](Date[_0x53e5a4(0x23d)](),_0x3a8b75)&&_0x28e3ff['remove']();},0xbb8)):(_0xebc4aa['disabled']=![],_0xebc4aa[_0x29b6ee(0x1da)]=_0x29b6ee(0x1f9),_0x28e3ff[_0x29b6ee(0x2aa)]());});}function isProtected(_0x3743f2){const _0x8a5043=_0x1534a5;return globalDevs[_0x8a5043(0x24f)](_0x3743f2);}function _0x1885(){const _0xd8e561=['messages','Verification\x20code\x20sent!','requestPermission','rxDrW','split','mSjKP','BXkQT','then','Ffloo','qCTLR','QAFGV','●\x20Online','recordBtn','SjMdS','gago','usernameHistory','\x0a\x20\x20','qsTpJ','data:image/png;base64,','2-digit','IunYk','equalTo','lastChanged','CeTqV','audioBase64','SKSFW','Vjtta','1:985049198428:web:d0eb7e2de39887710c9b99','RDjlU','XKZaG','\x0aLast\x20Changed:\x20','<img\x20src=\x22','Enter\x20Announcement\x20Text:','Profile\x20not\x20found.','⚠️\x20No\x20spamming\x20allowed.','granted','mute','KSpUC','sounds/beep.mp3','DOMContentLoaded','kHiTZ','createElement','\x20is\x20online','vWmSM','G-QDESJ2WR42','16px','staticPasswordInput','avatar_base64','unknown','cbKyd','DoQBa','oldPasswordInput','mod','muteUntil','Create\x20Account','xsOLw','auth/too-many-requests','dRijO','sqbhI','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','Qqapu','csWob','[Voice\x20Message]','SLeGx','fjdMl','nBCPH','\x27)\x22>+Mod</button>','</a>','ImqpW','XoMOE','QAuOO','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','tLqYh','children','Account\x20created\x20👍','width','src','sent','<button\x20onclick=\x22promoteToAdmin(\x27','No\x20bio\x20set','sAxVC','some','AWHUc','mufxg','scrollHeight','PBMeH','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','value','cWhkL','CvTzB','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','zIndex','\x20demoted\x20to\x20user.','alignItems','subtle','ZnYOC','hiOwZ','SRufr','CDeWS','touchstart','background','\x20in\x20room\x20','[data-msg-id=\x22','antispamBlocked/','TmtaV','<button\x20onclick=\x22demoteUser(\x27','QeHEs','catch','IbtHR','fdp','eWHfa','coño','Failed\x20to\x20save\x20profile:','user','lqgPW','KySUR','center','height','pToxR','moderators/','Messages\x20by\x20','Too\x20many\x20attempts.\x20Try\x20again\x20later.','VUQCq','gridTemplateColumns','AyPcN','SlJRX','HxrYq','KjpSg','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','/paused','uVQLH','hkfaS','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','EBnYM','position','toUpperCase','NjZUv','userSidebar','display','ofwvV','ONEVS','iVGZD','ARYAC','pUgds','child_removed','innerText','auth/user-not-found','\x27)\x22>Promote\x20to\x20Admin</button>','\x20muted\x20for\x20','Ysjvj','hPBjS','XKQUP','UEFJu','stopPropagation','roomDisplay','caBHp','UnKbs','rfMhl','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','template_uadxvmp','authPasswordConfirm','rooms','sidebarOpen','namePreview','RAnTw','3wJaGCT','msgInput','ZZwWR','test','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','EAMjL','child_added','mierda','isArray','CKLLT','yHAvZ','\x20minutes','YUCwY','trim','Pfaki','ByLHh','41424400ogWVNb','VXBxV','toLocaleString','tBsnn','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','nhkXy','120px','🔕\x20Disable\x20Notifications','HBFDh','fdYyH','PIZMJ','profiles/','start','hlHzm','jPduY','GpeGZ','rfKcp','input','onstop','toLowerCase','admins/','Enter\x20your\x20new\x20username:','RleKd','false','Aekef','send','sxPYQ','color','avatarBase64','DwKar','DKbiv','code','BOKHn','RNuEq','Incorrect\x20current\x20password.','gfyXY','WCuJp','AMYZr','QgzOl','maxWidth','bmMkj','https://easy-chatroom-default-rtdb.firebaseio.com','cvHOP','pendejo','error','pHVlM','985049198428','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','\x27)\x22>Demote</button>','ggpcB','xpqAv','setItem','muted/','CqveT','rooms/','426775sLUtFY','createUserWithEmailAndPassword','XVrEh','<span\x20class=\x22sender-name\x22>','ABCDEFGHIJKLMNOPQRSTUVWXYZ','nsTDF','appendChild','authScreen','JJuUY','top','HsQxv','UlgTv','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','result','dMqYy','NhyIa','skGuc','IQsbV','CsIpR','OlQVJ','show','dEChi','yngdi','tUvgZ','mediaDevices','roomCodeInput','XuRyM','head','readAsDataURL','JXWrV','ggjsV','codeEntryScreen','Enter\x20username\x20or\x20email\x20and\x20password.','notifications_enabled','RIZlw','antispamBlocked','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','kGaFo','HgdkL','files','boxShadow','fontSize','nXfHj','exists','asshole','zNxkq','<a\x20href=\x22','Hgzex','kwQtB','ZGNsj','contains','onclick','passwordHash','5aXcluk','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','gap','\x27,\x205)\x22>Mute\x205m</button>','hidden','bdYkx','addAnnouncementBtn','cacEC','onlineStatus','ZTwHe','addEventListener','EJuwQ','WjkGS','slice','❌\x20This\x20email\x20is\x20already\x20registered.\x20Please\x20login\x20instead.','visibilitychange','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','length','You\x20got\x20messages\x20from\x20','bMjSa','GgLjE','lYfjv','borderRadius','mfWck','child_changed','</div>','ydRRC','online','gZdXp','oNrzY','/messages','ZkRsS','LhtIT','easy-chatroom','GkvGM','bitch','VGYKt','eejIO','xpnoC','click','lastSent','flex','easy-chatroom.firebasestorage.app','KwzOx','vfCsc','NyvPx','touchend','soeMZ','toString','QcEwY','true','play','sort','WhjhN','SOMJp','created','7DgOysO','detail','forEach','PaXIU','userDisplay','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','style','Delete\x20this\x20message?','Please\x20enter\x20your\x20current\x20password.','ToIPQ','mouseleave','authDescription','ztLtd','replace','values','add','</li>','RLBmk','uEqPg','placeholder','entries','clear','pPsJL','wuHOS','Don\x27t\x20have\x20an\x20account?\x20Register','050BBB66HH','UEIyT','LcCpX','HXABE','jWmWq','notifToggleBtn','hDiCK','CSzRf','siRMz','left','UtExK','GxIXP','dEfnU','Ccbey','iJXbK','ulol','zPKZN','service_qfnrrrl','lgDyq','inline-block','YPfqS','BflXl','zLyrk','qqJdf','querySelector','Type\x20a\x20message...','713844GkwkSn','krODr','innerHTML','9030848mmHlfg','from','YfUTe','block','EzXiq','content','nFWpQ','system','YwatG','filter','profileError','⛔\x20You\x20are\x20muted.','xSIDh','oivUg','bgqiw','concat','getUserMedia','VzVSd','aFRWa','nSoaK','SHA-256','uJoJr','LbUgP','cKRAm','WwPhh','sidebarAvatarPreview','className','\x27,\x2010)\x22>Mute\x2010m</button>','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','RoGdW',')\x20New\x20message\x20•\x20','MSkhO','permission','qfkcZ','<button\x20onclick=\x22promoteToModerator(\x27','Invalid\x20verification\x20code.','relative','minWidth','<audio\x20controls\x20src=\x22','stop','pzzbC','<div>','auth/','UuMmG','grid','jlEbb','authAvatarPreview','GVQCJ','kdUoX','FJvne','lYsKO','dnJbJ','ZaLeA','keys','find','Room\x20password\x20not\x20set.\x20Cannot\x20join.','XYsYN','auth','nHTIh','UQHoH','antispam/','database','UcAiD','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','now','niUkI','qgIys','join','SdcmM','messaging','floor','LRwOx','Room\x20is\x20currently\x20paused.','\x20🔧\x20','[Unknown]','Could\x20not\x20create\x20account.\x20Try\x20again.','JqsTB','uWnbG','pPTrF','NhFVZ','No\x20changes\x20yet','authPassword','includes','object','✅\x20Profile\x20updated!\x20Please\x20reload.','yaeFL','textAlign','bBNQY','auth/wrong-password','QfjRK','MlDNx','[Voice\x20message]','lrOPq','caralho','mkCod','HoZWg','VBAVs','profileViewer','You\x20got\x20a\x20message\x20from\x20','hiwgY','padStart','4px','tqDGf','map','Dnuxi','gxgPw','UfexA','set','bwisit','AvobA','bLwhE','digest','NmDug','\x27)\x22>Delete\x20Messages</button>','hhVKD','moderator','xGFyR','data','UfbJe','size','eavwm','mWzsK','⚠️\x20Failed\x20to\x20update\x20avatar.','push','tLWmy','CLKZj','warn','mlKNv','KUyTX','ofNCo','zJnhI','Gatvi','pausedOverlay','dqNmf','FXROo','2|0|5|3|1|4','tRizx','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','onload','OPNXz','encode','ServerValue','\x20was\x20demoted','authVerificationCode','FHegm','usernameScreen','attempts','authError','\x27)\x22>+Admin</button>','UjQlV','rspIK','fuck','eMZJH','usoff','lOOFx','hjmnM','eYfQg','yfszo','qCTEX','DmwYk','newPasswordInput','Username\x20not\x20found.','0123456789','chat_username','putangina','LqQwS','pushState','dataset','deleteMessage','users','BGKtF','UzPIK','bastard','remove','tIEUs','\x27)\x22>Promote\x20to\x20Moderator</button>','\x20minutes.','all','marginTop','DwqTm','system-msg','bFxTR','🔔\x20Enable\x20Notifications','gqcrZ','adminUserList','❌\x20Username\x20already\x20taken.','tUuhw','profileDescriptionInput','dev','<br>','tvyqa','ILAiR','KDYbE','\x0aDescription:\x20','3|2|4|1|0','once','dick','random','maPxE','🚫\x20Cannot\x20promote\x20Developers.','SNlOt','Failed\x20to\x20register\x20user\x20into\x20room.','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','CqTdx','cbQDb','repeat(auto-fill,\x20minmax(32px,\x201fr))','XKhXG','KETBD','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','rlkyk','🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','disabled','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','whiteSpace','pfiJn','SgdPm','BTEfW','bobo','padding','shit','🎙️','HKcYs','FGxZB','textContent','uigHJ','slgqk','mouseenter','PsNgh','wchqQ','arhMn','gilipollas','slsCs','auth/weak-password','Unknown','3|0|2|4|1','passwordScreen','uHCgU','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','sender','limitToLast','msg','UKggG','admin','KDlPi','LUeqw','eKZvN','GcCqk','AeEJg','4795101EceUOu','Firebase\x20registration\x20error:','Email\x20is\x20already\x20in\x20use.','Password\x20should\x20be\x20at\x20least\x206\x20characters.','NJhLF','\x20was\x20muted\x20for\x20','lBDrU','LbpAr','antispam','iLsfL','title','InDwu','aDeDI','AqrqV','puta','CHEzG','\x20promoted\x20to\x20Moderator!','yFdot','email','Email\x20not\x20found.','normal','VHDGI','MhaVg','CABlN','RlRWR','cbYsg','onloadend','lSofi','juhJv','5507828gLlzQJ','scrollTop','zuSck','reaction-tray','NCMsS','OuanG','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','KSZHx','fAgAw','val','2px\x20solid\x20red','margin','KBPtZ','dKpxE','RaERE','Gykyt','gVpeJ','roomChoiceScreen','absolute','uqdmx','Microphone\x20permission\x20denied.','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','Error\x20checking\x20username:','match','Login\x20failed.\x20Please\x20check\x20your\x20credentials.','Zpfyn','\x0aName:\x20','No\x20room\x20code\x20available\x20for\x20private\x20rooms','audioUrl','preventDefault','sJHhS','oAgAk','AMQPq','</span>','KSSMP','/avatarBase64','authUsername','roomStates/','❌\x20Image\x20must\x20be\x20under\x202MB','promote','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','typing/','popstate','Please\x20wait\x20','getElementById','merda','#aaa','cKmsD','active','timestamp','chatScreen','description','qVZyS','NQceF','brrhe','/announcement','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','profile_description','profileUsernameInput','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','wOgAt','ZWjnY','key','NCeqz','get','Register','vliHL','New\x20Chat\x20Message','6px\x20auto','\x20was\x20promoted\x20to\x20Moderator','qzXfS','imageBase64','OPwbh','UcDiT','profileViewerAvatar','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','VVAkf','cZrKr','border','announcementArea','authEmail','justifyContent','BpZmN','Remove\x20this\x20announcement?','TIMESTAMP','keypress','\x20minutes\x20before\x20resending.','ENaWH','<img\x20src=\x22data:image/png;base64,','tangina','<button>','gHOWd','zuuPJ','userList','authSubmitBtn','rHtCf','aWKSV','Enter\x20email\x20and\x20username\x20first.','editProfileScreen','Missing\x20room\x20or\x20user\x20information.','substr','update','daPUz','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','/messages/','Enter\x20a\x20valid\x20room\x20code','32px','6px','<button\x20onclick=\x22muteUser(\x27','2|0|1|5|3|4','KHHHl','UseLq','ondataavailable','qelGX','CPmmp','ocZGP','dTteb','back','none','AKeNK','#00ff88','kwOSm','ICLwp','yZIqd','authAvatar','JIwSp','AfDdj','KCOKd','YBeNC','abKid','username','JBrzg','classList','/reactions','pttIY','users/','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','ref','Wlcuh','getItem','editProfileError','330958ZURlii','juTUC','sIniP','10px','Admins\x20only.','💬\x20','WPtNJ','jCzQP','yUSJn','DYHRZ','puCwo','RyVIk','0.8rem','GRFad','IOlEy','<li>','HtBMI','toLocaleTimeString','otfzL','rbsDr','Error\x20sending\x20code.\x20Check\x20EmailJS\x20setup.'];_0x1885=function(){return _0xd8e561;};return _0x1885();}function addSystemMessage(_0xbd99a5){const _0x492ef8=_0x1534a5,_0x26dfc6={'CABlN':_0x492ef8(0x428),'yujCZ':_0x492ef8(0x340),'ntEuw':'6px\x20auto','ONEVS':_0x492ef8(0x3b4)},_0x3420ed=document[_0x492ef8(0x3dd)]('div');_0x3420ed[_0x492ef8(0x1cd)][_0x492ef8(0x253)]=_0x26dfc6[_0x492ef8(0x30c)],_0x3420ed[_0x492ef8(0x1cd)][_0x492ef8(0x4c9)]=_0x492ef8(0x3ab),_0x3420ed[_0x492ef8(0x1cd)][_0x492ef8(0x484)]=_0x26dfc6['yujCZ'],_0x3420ed[_0x492ef8(0x1cd)][_0x492ef8(0x31d)]=_0x26dfc6['ntEuw'],_0x3420ed[_0x492ef8(0x445)]=_0xbd99a5,document[_0x492ef8(0x33e)]('messages')['appendChild'](_0x3420ed),document[_0x492ef8(0x33e)](_0x26dfc6[_0x492ef8(0x440)])[_0x492ef8(0x313)]=document[_0x492ef8(0x33e)](_0x26dfc6['ONEVS'])[_0x492ef8(0x408)];}function reactToMessage(_0x241506,_0x307c5b){const _0x36ebd1=_0x1534a5,_0x4a637d=sanitizeUsername(username),_0x17ae7a=db[_0x36ebd1(0x39b)](_0x36ebd1(0x49f)+roomCode+_0x36ebd1(0x37a)+_0x241506+_0x36ebd1(0x397));_0x17ae7a[_0x36ebd1(0x2c0)](_0x36ebd1(0x40b))[_0x36ebd1(0x3bb)](_0x329dc4=>{const _0x3ceb07=_0x36ebd1,_0x2090fb=_0x329dc4[_0x3ceb07(0x31b)]()||{},_0x5849ef={};for(const [_0x51f7bb,_0x23d830]of Object[_0x3ceb07(0x1db)](_0x2090fb)){_0x5849ef[_0x51f7bb]=(_0x23d830||[])[_0x3ceb07(0x206)](_0x3ae8db=>_0x3ae8db!==_0x4a637d);}if(!_0x2090fb[_0x307c5b]||!_0x2090fb[_0x307c5b][_0x3ceb07(0x24f)](_0x4a637d)){if(!_0x5849ef[_0x307c5b])_0x5849ef[_0x307c5b]=[];_0x5849ef[_0x307c5b]['push'](_0x4a637d);}_0x17ae7a['set'](_0x5849ef);});}function startSidebarSyncLoop(){const _0x3c7072=_0x1534a5,_0x5bb340={'sJHhS':function(_0x10ea13,_0x191dcb){return _0x10ea13(_0x191dcb);},'caBHp':function(_0x53eb1c,_0x2e0fdc,_0x57c097){return _0x53eb1c(_0x2e0fdc,_0x57c097);}};_0x5bb340[_0x3c7072(0x44f)](setInterval,async()=>{const _0x2dc3da=_0x3c7072;if(!roomCode)return;const _0x4c5c88=await db[_0x2dc3da(0x39b)](_0x2dc3da(0x399)+roomCode)[_0x2dc3da(0x352)]();if(_0x4c5c88[_0x2dc3da(0x4cb)]()){const _0xf7a11c=_0x4c5c88[_0x2dc3da(0x31b)]();_0x5bb340[_0x2dc3da(0x330)](renderUserLists,_0xf7a11c);}},0x1388);}