const _0x4235f2=_0x20c4;(function(_0x50d2cf,_0x152de9){const _0x8840df=_0x20c4,_0x5f1039=_0x50d2cf();while(!![]){try{const _0x509119=parseInt(_0x8840df(0x33b))/0x1+parseInt(_0x8840df(0x387))/0x2+parseInt(_0x8840df(0x41e))/0x3+parseInt(_0x8840df(0x152))/0x4+parseInt(_0x8840df(0x26e))/0x5+parseInt(_0x8840df(0x127))/0x6+-parseInt(_0x8840df(0x364))/0x7*(parseInt(_0x8840df(0x1dc))/0x8);if(_0x509119===_0x152de9)break;else _0x5f1039['push'](_0x5f1039['shift']());}catch(_0x1aeec2){_0x5f1039['push'](_0x5f1039['shift']());}}}(_0x4125,0x2f674));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x4235f2(0x1ee),'databaseURL':_0x4235f2(0x272),'projectId':_0x4235f2(0x34e),'storageBucket':_0x4235f2(0x2bd),'messagingSenderId':_0x4235f2(0x426),'appId':_0x4235f2(0x259),'measurementId':'G-QDESJ2WR42'};let lastVerificationCode=null;firebase[_0x4235f2(0x366)](firebaseConfig);const messaging=firebase[_0x4235f2(0x2cc)](),db=firebase[_0x4235f2(0x28b)]();let deviceId=null;((async()=>{const _0x19e02b=_0x4235f2,_0xb20717={'qrXDT':function(_0x581a6c){return _0x581a6c();}};deviceId=await _0xb20717[_0x19e02b(0x421)](generateDeviceId);})());const swearWords=['fuck',_0x4235f2(0x275),_0x4235f2(0x3cd),_0x4235f2(0x3b3),'bastard',_0x4235f2(0x186),_0x4235f2(0x120),'puta','mierda',_0x4235f2(0x2cb),_0x4235f2(0x156),_0x4235f2(0x2ab),_0x4235f2(0x16b),_0x4235f2(0x2d0),'caralho',_0x4235f2(0x3f7),_0x4235f2(0x1fa),'fdp',_0x4235f2(0x1e6),_0x4235f2(0x168),_0x4235f2(0x322),_0x4235f2(0x228),'ulol',_0x4235f2(0x26a),_0x4235f2(0x1c5),_0x4235f2(0x3c3)],style=document[_0x4235f2(0x22e)]('style');style[_0x4235f2(0x218)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document[_0x4235f2(0x179)][_0x4235f2(0x17c)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x4235f2(0x3d6)]()['toString'](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x4235f2(0x148)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x4235f2(0x130));sound[_0x4235f2(0x3e4)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x326cf5=_0x4235f2,_0x10d8dc={'qQuCh':function(_0xbc2167,_0x1c2631){return _0xbc2167+_0x1c2631;},'VleRf':function(_0x52398a,_0x18f817){return _0x52398a(_0x18f817);}},_0x35ec0e=_0x10d8dc['qQuCh'](_0x10d8dc[_0x326cf5(0x396)](navigator[_0x326cf5(0x294)],screen['width']),screen[_0x326cf5(0x2be)]),_0x5bced5=await _0x10d8dc[_0x326cf5(0x34a)](sha256,_0x35ec0e);return'_'+_0x5bced5['substr'](0x0,0x14);}function sha256(_0x128b81){const _0x422968=_0x4235f2,_0x4f7623={'zmskg':_0x422968(0x3fa)},_0x337d1c=new TextEncoder()[_0x422968(0x41c)](_0x128b81);return crypto['subtle'][_0x422968(0x313)](_0x4f7623['zmskg'],_0x337d1c)['then'](_0x13b2b6=>{const _0x6d8f3e=_0x422968;return Array[_0x6d8f3e(0x2ff)](new Uint8Array(_0x13b2b6))[_0x6d8f3e(0x1c2)](_0x55439c=>_0x55439c[_0x6d8f3e(0x367)](0x10)[_0x6d8f3e(0x206)](0x2,'0'))[_0x6d8f3e(0x2a1)]('');});}function toggleNotifications(){const _0xe12e67=_0x4235f2,_0x19311c={'EqJFk':function(_0x34f438,_0x1051df){return _0x34f438===_0x1051df;},'HrnKY':_0xe12e67(0x30e),'tNtej':_0xe12e67(0x35f),'SYjNP':_0xe12e67(0x269),'yrHUT':_0xe12e67(0x295),'RGQgL':function(_0x150d41,_0x5e176d){return _0x150d41!==_0x5e176d;},'ZWNKv':_0xe12e67(0x23c),'fTUjW':_0xe12e67(0x3e2),'rIYMt':_0xe12e67(0x21f)};_0x19311c[_0xe12e67(0x230)](Notification[_0xe12e67(0x26d)],_0xe12e67(0x30e))?Notification['requestPermission']()[_0xe12e67(0x3e7)](_0x24083a=>{const _0x17bdae=_0xe12e67;_0x19311c[_0x17bdae(0x173)](_0x24083a,_0x19311c[_0x17bdae(0x30b)])&&(notificationsEnabled=!![],localStorage[_0x17bdae(0x166)](_0x19311c[_0x17bdae(0x1eb)],_0x17bdae(0x23c)),document['getElementById'](_0x19311c[_0x17bdae(0x1ab)])[_0x17bdae(0x1cb)]=_0x19311c[_0x17bdae(0x290)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem']('notifications_enabled',notificationsEnabled?_0x19311c['ZWNKv']:_0x19311c[_0xe12e67(0x175)]),document[_0xe12e67(0x16d)](_0x19311c[_0xe12e67(0x1ab)])[_0xe12e67(0x1cb)]=notificationsEnabled?_0x19311c[_0xe12e67(0x290)]:_0x19311c[_0xe12e67(0x2a8)]);}function toggleAuthMode(){const _0x52eb49=_0x4235f2,_0x361fd4={'zBjXG':_0x52eb49(0x201),'WYbOc':_0x52eb49(0x2d2),'EfIHE':_0x52eb49(0x383),'Jngxl':_0x52eb49(0x370),'sYhtE':_0x52eb49(0x2e6),'DxHSd':_0x52eb49(0x2ac),'ToZTb':_0x52eb49(0x374),'ZDylK':_0x52eb49(0x235),'iGMNV':_0x52eb49(0x267),'nnVaB':_0x52eb49(0x23d),'RMwTj':_0x52eb49(0x1a6),'mENGs':_0x52eb49(0x213),'dQOjF':'Already\x20have\x20an\x20account?\x20Login','SBmJN':_0x52eb49(0x298)};isRegisterMode=!isRegisterMode,document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x138)])[_0x52eb49(0x1cb)]=isRegisterMode?_0x361fd4['WYbOc']:_0x361fd4['EfIHE'],document[_0x52eb49(0x16d)](_0x361fd4['Jngxl'])[_0x52eb49(0x3fd)][_0x52eb49(0x274)]=isRegisterMode?_0x361fd4['sYhtE']:_0x361fd4[_0x52eb49(0x2f7)],document['getElementById']('sendCodeBtn')[_0x52eb49(0x3fd)][_0x52eb49(0x274)]=isRegisterMode?_0x52eb49(0x2e6):_0x52eb49(0x2ac),document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x305)])[_0x52eb49(0x3fd)]['display']=isRegisterMode?_0x361fd4[_0x52eb49(0x429)]:_0x361fd4[_0x52eb49(0x2f7)],document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x150)])['style']['display']=isRegisterMode?_0x361fd4[_0x52eb49(0x429)]:_0x361fd4[_0x52eb49(0x2f7)],document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x3b1)])['style'][_0x52eb49(0x274)]=isRegisterMode?_0x52eb49(0x2e6):_0x361fd4[_0x52eb49(0x2f7)],document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x22d)])[_0x52eb49(0x3fd)]['display']=isRegisterMode?_0x361fd4[_0x52eb49(0x429)]:_0x52eb49(0x2ac),document[_0x52eb49(0x16d)](_0x52eb49(0x149))[_0x52eb49(0x3fd)][_0x52eb49(0x274)]=_0x52eb49(0x2ac),document[_0x52eb49(0x16d)](_0x52eb49(0x33c))[_0x52eb49(0x3fd)]['display']=_0x361fd4['sYhtE'],document[_0x52eb49(0x16d)]('authSubmitBtn')[_0x52eb49(0x1cb)]=isRegisterMode?'Create\x20Account':_0x52eb49(0x383),document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x257)])['style']['display']=_0x361fd4[_0x52eb49(0x2f7)],document[_0x52eb49(0x16d)](_0x361fd4[_0x52eb49(0x25e)])[_0x52eb49(0x1cb)]=isRegisterMode?_0x361fd4[_0x52eb49(0x3e3)]:_0x361fd4[_0x52eb49(0x41d)];}function previewAvatar(){const _0x16d003=_0x4235f2,_0x41b418={'CzHkT':_0x16d003(0x149),'Pdsoj':'authAvatar'},_0x11d0db=document[_0x16d003(0x16d)](_0x41b418[_0x16d003(0x253)]);if(!_0x11d0db[_0x16d003(0x3b2)][_0x16d003(0x32d)])return;const _0x712049=new FileReader();_0x712049[_0x16d003(0x2b2)]=()=>{const _0xeb3de3=_0x16d003;document['getElementById'](_0x41b418[_0xeb3de3(0x28a)])[_0xeb3de3(0x3eb)]=_0x712049[_0xeb3de3(0x3f2)],document[_0xeb3de3(0x16d)](_0x41b418['CzHkT'])[_0xeb3de3(0x3fd)][_0xeb3de3(0x274)]=_0xeb3de3(0x2e6);},_0x712049[_0x16d003(0x423)](_0x11d0db['files'][0x0]);}async function sendVerificationCode(){const _0x5cc647=_0x4235f2,_0x2167cb={'rmYDQ':_0x5cc647(0x370),'nOKIe':_0x5cc647(0x1a6),'dwpvL':_0x5cc647(0x2ac),'ynbvt':function(_0x2b2676,_0x7fe9cb){return _0x2b2676||_0x7fe9cb;},'DawgR':'Enter\x20email\x20and\x20username\x20first.','NAglJ':_0x5cc647(0x2e6),'cRVpJ':function(_0x5c36d6,_0xc56a1e){return _0x5c36d6+_0xc56a1e;},'IPAFZ':function(_0x211d2d,_0x53d9b2){return _0x211d2d*_0x53d9b2;},'Sszuf':_0x5cc647(0x340),'JGCnC':function(_0x591996,_0x1b3331){return _0x591996(_0x1b3331);},'FBiGV':'authVerificationCode','JBeGR':_0x5cc647(0x1f7)},_0x59aa01=document[_0x5cc647(0x16d)](_0x2167cb[_0x5cc647(0x38e)])['value']['trim'](),_0xcba983=document[_0x5cc647(0x16d)](_0x5cc647(0x33c))[_0x5cc647(0x3a1)][_0x5cc647(0x3cf)](),_0xeb6cf2=document['getElementById'](_0x2167cb[_0x5cc647(0x1f5)]);_0xeb6cf2['style'][_0x5cc647(0x274)]=_0x2167cb[_0x5cc647(0x329)];if(_0x2167cb[_0x5cc647(0x145)](!_0x59aa01,!_0xcba983)){_0xeb6cf2[_0x5cc647(0x1cb)]=_0x2167cb[_0x5cc647(0x11e)],_0xeb6cf2[_0x5cc647(0x3fd)][_0x5cc647(0x274)]=_0x2167cb['NAglJ'];return;}const _0x325955=Math[_0x5cc647(0x2a4)](_0x2167cb['cRVpJ'](0x186a0,_0x2167cb['IPAFZ'](Math[_0x5cc647(0x3d6)](),0xdbba0)))['toString']();lastVerificationCode=_0x325955;try{await emailjs['send'](_0x2167cb[_0x5cc647(0x2ed)],_0x5cc647(0x2a5),{'to_email':_0x59aa01,'to_name':_0xcba983,'message':_0x325955},_0x5cc647(0x36d)),_0x2167cb[_0x5cc647(0x27f)](alert,_0x5cc647(0x299)),document[_0x5cc647(0x16d)](_0x2167cb['FBiGV'])[_0x5cc647(0x3fd)]['display']=_0x2167cb[_0x5cc647(0x3c6)];}catch(_0x3d80eb){_0xeb6cf2['innerText']=_0x2167cb[_0x5cc647(0x2d8)],_0xeb6cf2['style']['display']=_0x2167cb[_0x5cc647(0x3c6)],console['error'](_0x3d80eb);}}function _0x4125(){const _0x21c393=['promote','iGMNV','files','asshole','inline-block','click','edVGS','DCJeq','uWBAK','nXLhk','Room\x20is\x20currently\x20paused.','admins/','zxJdk','ryKEd','VlkbG','XXhAX','Invalid\x20verification\x20code.','guLJT','YhYed','putang\x20ina','/announcement','PYyJE','NAglJ','Type\x20a\x20message...','gmqPo','yxCmr','gridTemplateColumns','xCnaM','limitToLast','bitch','zOfru','trim','lHscV','32px','object','padding','push','HTVMw','random','lvVKU','mTtIp','\x20muted\x20for\x20','16px','absolute','ZGSOH','rGXeE','ctCtv','Ccogt','mediaDevices','VzoDt','false','dQOjF','volume','children','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','then','</span>','Messages\x20by\x20','JnnWI','src','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','center','iQmqv','PJYKQ','[Voice\x20message]','gwprN','result','userSidebar','ohkkE','roomStates/','auth/','merda','ABDxt','audioUrl','SHA-256','text','VWOyl','style','Xmvdd','profileDescriptionInput','YJxuv','DgJkO','Please\x20enter\x20your\x20current\x20password.','forEach','fqCuq','TaGWi','cBqMB','SuJhh','mdHci','mVbqf','bxetw','[Unknown]','ziqyV','qBPfX','siyfi','get','YETjK','remove','textContent','authScreen','UZHZg','\x20was\x20muted\x20for\x20','Fslmn','cursor','passwordError','\x27)\x22>Promote\x20to\x20Admin</button>','AfIzc','AOaMQ','encode','SBmJN','132321cHsrXA','addAnnouncementBtn','oiTac','qrXDT','RyzPh','readAsDataURL','filter','xiNqQ','985049198428','xYyTr','disabled','sYhtE','messages','MDJpb','fGQOG','lBnLB','gap','[Image]','<button\x20onclick=\x22muteUser(\x27','\x27)\x22>','jfxqX','match','SkZxU','TSFcK','WRYVw','oCMwy','UNBhN','sender','DawgR','\x27)\x22>+Mod</button>','cunt','CQOol','msg','roomDisplay','admin','GnADc','scrollHeight','1486380SfOego','tnReR','moderators/','20px','size','flex','\x27,\x2010)\x22>Mute\x2010m</button>','❌\x20Username\x20already\x20taken.','Ksvrr','sounds/beep.mp3','yHtZs','hjgrN','aQOWk','detail','antispamBlocked/','normal','Failed\x20to\x20register\x20user\x20into\x20room.','zBjXG','AVttJ','ref','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','timestamp','ZlCqC','izMTP','PNBMU','ntyZs','DiTjV','Dslea','userOptions-','sent','ynbvt','mVkzN','profileContent','now','authAvatarPreview','<button\x20onclick=\x22promoteToModerator(\x27','BpmLP','JlMbY','className','Enter','cEdGa','ZDylK','HYlTN','1020428scshpm','onstop','<button\x20onclick=\x22deleteUserMessages(\x27','hbImO','coño','authPassword','lQjpc','aaTAu','entries','smOBY','cMSqw','<a\x20href=\x22','NHEPc','TIMESTAMP','xLAtm','iszoS','1|4|2|3|5|0','\x20promoted\x20to\x20Moderator!','gr8stg/','unknown','setItem','oXkFO','putangina','ePWhX','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','gilipollas','users','getElementById','hmfJx','profileError','\x27)\x22>Demote</button>','qCHPM','wnGmA','EqJFk','NLAte','fTUjW','codeEntryScreen','EPaXS','description','head','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','YzLZi','appendChild','getUserMedia','yxqOP','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','hkwgf','eUupz','stopPropagation','LzYVM','VrzoR','auth','dick','aaTEu','mod','onclick','elicl','lqYwV','oldPasswordInput','add','saHCd','reaction-tray','audioBase64','adminUserList','aUKDN','yZSMc','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','blhXn','jCSsB','fontSize','user','LhzuX','eGBSU','WOyGx','width','KMZDe','sort','profile_description','DOMContentLoaded','sYCEs','YQJOb','\x20🔧\x20','uqYJO','child_changed','authError','orderByChild','ukZIi','nODiW','data:image/png;base64,','SYjNP','\x20minutes.','ErMPJ','pZkYK','RZYfe','Profile\x20not\x20found.','FPizD','SFWhY','FwFft','typing/','replace','BcSgV','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','announcementArea','\x20was\x20promoted\x20to\x20Admin','Error\x20checking\x20username:','QMHlF','Email\x20not\x20verified.','PxIXj','audio/webm','uNxxt','avatar_base64','<button\x20onclick=\x22promoteToAdmin(\x27','map','muted/','QPcpA','bwisit','-45px','Fqbvl','toLocaleTimeString','vPbkS','FRvse','innerText','tOjVR','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','SunFH','antispamBlocked','RWycw','dPGeV','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','TtcjV','quSxX','online','passwordHash','\x27)\x22>Promote\x20to\x20Moderator</button>','YJOMA','OASip','Peuxy','QjnXq','808VHKfsr','typing','smEPz','stop','LMURO','EioBv','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','mute','edosH','ozApk','otario','oCJCV','PdUWW','pBQVV','state','tNtej','HPuzY','<li>','easy-chatroom.firebaseapp.com','borderRadius','Admins\x20only.','ZHuoO','placeholder','dNRiW','uNuBn','nOKIe','/paused','Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.','\x20in\x20room\x20','update','puta','play','adminControlsSection','sidebarOpen','left','aasIL','all','authTitle','jOmTC','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','RodIR','⛔\x20You\x20are\x20muted.','padStart','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','touchstart','mouseleave','\x0aDescription:\x20','hXtCJ','lLMxg','ortoF','HndmN','find','border','KumZT','OPlpj','toggleAuthMode','XGIlH','dNWAD','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','/messages/','innerHTML','contains','zMFhD','yNuwK','Pkgsq','Enter\x20a\x20valid\x20room\x20code','jiEoK','🔔\x20Enable\x20Notifications','0px','\x20is\x20online','pgvfm','editProfileScreen','EYKeZ','LLFZS','\x0aUsername\x20History:\x20','fhlxI','tangina','qFgvC','WATxZ','PqNYb','clear','nnVaB','createElement','ekduk','RGQgL','FyexK','\x20demoted\x20to\x20user.','evFBo','hidden','authPasswordConfirm','CJXrn','VxLen','profiles/','AmzGV','hYDEt','</a>','true','authAvatar','/messages','ServerValue','Microphone\x20permission\x20denied.','No\x20room\x20code\x20available\x20for\x20private\x20rooms','usernameHistory','\x20is\x20typing...','preventDefault','XoXaf','moderator','toLowerCase','<img\x20src=\x22data:image/png;base64,','split','getItem','aBtmF','KadaU','4px','✅\x20Profile\x20picture\x20updated!','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','<br>','\x27)\x22>+Admin</button>','eRIiU','Pdsoj','No\x20changes\x20yet','<small>','SQzeZ','RMwTj','imageBase64','1:985049198428:web:d0eb7e2de39887710c9b99','pausedOverlay','Remove\x20this\x20announcement?','ondataavailable','chat_username','mENGs','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','kbihJ','rooms/','qGNLC','qFCOX','muteUntil','IvqYO','roomChoiceScreen','authDescription','\x20minutes','notifToggleBtn','bobo','ZOMHS','color','permission','554385lToDNr','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','ANbgi','visibilitychange','https://easy-chatroom-default-rtdb.firebaseio.com','system-msg','display','shit','hilYF','mOHOb','marginTop','hPVbw','HhWRR','child_removed','LiaaH','upEOX','Enter\x20username\x20or\x20email\x20and\x20password.','JGCnC','profileScreen','yGjxT','ZyZsj','muXBO','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','YusKd','classList','2|0|3|1|4','SexMJ','margin','CzHkT','database','MMIlP','\x0a\x20\x20\x20\x20','position','Missing\x20room\x20or\x20user\x20information.','yrHUT','Room\x20password\x20not\x20set.\x20Cannot\x20join.','deleteMessage',')\x20New\x20message\x20•\x20','userAgent','🔕\x20Disable\x20Notifications','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','UYAQN','Don\x27t\x20have\x20an\x20account?\x20Register','Verification\x20code\x20sent!','hEuPG','LmnlV','JfzIX','ayKQL','show','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','/avatarBase64','join','BEyzp','LyjSq','floor','template_uadxvmp','profileViewer','div','rIYMt','yytJL','grid','cabron','none','role','tUwWF','Enter\x20Announcement\x20Text:','SsTog','nZuER','onloadend','maxWidth','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','roomCodeInput','onDisconnect','#aaa','NiNRV','SjCCj','vOTsl','equalTo','passwordScreen','easy-chatroom.firebasestorage.app','height','msgInput','XXimU','sidebarAvatarPreview','signInWithEmailAndPassword','kEJQg','0\x202px\x206px\x20rgba(0,0,0,0.5)','\x27,\x201)\x22>Mute\x201m</button>','msgId','ZSvXP','No\x20bio\x20set','TAUHN','\x20was\x20promoted\x20to\x20Moderator','pendejo','messaging','SCwjV','GYEne','YgkjE','porra','fHEmS','Register','QInxz','system','EpTZX','qtOTu','nzHBt','JBeGR','⚠️\x20No\x20spamming\x20allowed.','XPZui','aKDDV','pushState','BHvOh','6px\x20auto','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','New\x20Chat\x20Message','JEhYw','WMJao','qWZmw','#00ff88','once','block','fQfCc','uxfvT','cReXQ','lkxdr','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','RHvaB','Sszuf','substr','njgvb','sRpjI','nsVxz','sKUut','●\x20Online','LlgHh','xPpXY','Iqxfl','DxHSd','0.8rem','Delete\x20this\x20message?','LBePQ','wbuhC','GLkVz','wEIUX','6px','from','lzEYs','\x0aLast\x20Changed:\x20','DqRyr','qYAyM','VKuaN','ToZTb','zryYM','rooms','title','cSrvh','OgopT','HrnKY','GUQJD','Account\x20created!\x20You\x20may\x20now\x20login.','granted','</li>','includes','rAodx','\x20deleted.','digest','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','</div>','antispam/','values','riYGg','relative','Passwords\x20do\x20not\x20match.','concat','WLOxp','UprHD','uGLTq','lastChanged','oywEI','160px','gago','XnUdF','Fill\x20all\x20fields.','[Voice\x20Message]','key','doFsX','minWidth','dwpvL','HgOLj','</button>','start','length','exists','dev','\x27)\x22>Delete\x20Messages</button>','Remove\x20Announcement?','catch','mTiuy','nIatL','\x27,\x205)\x22>Mute\x205m</button>','gNVMx','HWxBj','popstate','Please\x20enter\x20the\x20password.','BPnea','65900dgUkDv','authUsername','input','background','NMTJC','service_qfnrrrl','kKasz','voOhi','usernameScreen','jeJKZ','slice','jCRGr','ZjMnV','SFWHz','\x20promoted\x20to\x20Admin!','VleRf','mlENe','<span\x20class=\x22sender-name\x22>','Unknown','easy-chatroom','KxXYJ','UWcwL','OxMYg','Gqmlj','hTKyK','keypress','top','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','ODvib','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','gJWnN','ygNqo','back','jxfiN','nfUIx','kqGnp','notifications_enabled','zEgBV','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','sLqyk','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','57169Pwtzrl','NuNSw','initializeApp','toString','AXZhO','ardQd','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','test','<audio\x20controls\x20src=\x22','c1EG9jBJFQSM_dFHY','profileUsernameInput','userDisplay','authEmail','❌\x20Image\x20must\x20be\x20under\x202MB','<img\x20src=\x22','PuGWB','authVerificationCode','bwNwZ','2-digit','<span\x20style=\x22margin-right:6px;\x22>','chatScreen','RQFqh','val','chyFx','whiteSpace','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','username','avatarBase64','dataset','LzwsZ','mouseenter','Login','/reactions','raKyz','NWUwE','590620jjmUAG','AupZY','qnsyc','child_added','vBVsC','scrollTop','0123456789','rmYDQ','SteMf','qaFAW','error','✅\x20Profile\x20updated!\x20Please\x20reload.','VbwRs','querySelector','set','qQuCh','🎙️','recordBtn','namePreview','userList','isArray','justifyContent','jlGGP','addEventListener','18px','Incorrect\x20current\x20password.','value','HXeKr','pointer','dDoni','⚠️\x20Failed\x20to\x20update\x20avatar.','alignItems','received','dggWo','pwIZk','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','<button\x20onclick=\x22demoteUser(\x27','email','emailVerified','users/','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'];_0x4125=function(){return _0x21c393;};return _0x4125();}async function submitAuth(){const _0x5f3a0d=_0x4235f2,_0x7393c6={'TSFcK':_0x5f3a0d(0x33c),'ABDxt':_0x5f3a0d(0x157),'WoyIy':_0x5f3a0d(0x374),'vYezG':_0x5f3a0d(0x2ac),'YQJOb':function(_0x39ee48,_0x3e0483){return _0x39ee48||_0x3e0483;},'muXBO':_0x5f3a0d(0x324),'ZyZsj':function(_0x18133f,_0x23a8de){return _0x18133f!==_0x23a8de;},'JnnWI':_0x5f3a0d(0x31a),'PNBMU':_0x5f3a0d(0x2e6),'BPnea':_0x5f3a0d(0x3c0),'CQOol':function(_0x5ccb9f,_0xb6bd98){return _0x5ccb9f+_0xb6bd98;},'FPizD':function(_0xc1e6b7,_0x47311d){return _0xc1e6b7(_0x47311d);},'ewgqj':_0x5f3a0d(0x30d),'bwNwZ':function(_0x38a4d9){return _0x38a4d9();},'BZvNO':_0x5f3a0d(0x27e),'HGeUc':_0x5f3a0d(0x16c),'PdUWW':_0x5f3a0d(0x3a1),'xYyTr':_0x5f3a0d(0x3ae),'bxetw':function(_0x381211,_0x15bddb){return _0x381211(_0x15bddb);},'ygNqo':'Username\x20not\x20found.'},_0x39b46c=document[_0x5f3a0d(0x16d)](_0x5f3a0d(0x370))[_0x5f3a0d(0x3a1)][_0x5f3a0d(0x3cf)](),_0x29e7ea=document[_0x5f3a0d(0x16d)](_0x7393c6['TSFcK'])[_0x5f3a0d(0x3a1)][_0x5f3a0d(0x3cf)](),_0x23d0ff=document[_0x5f3a0d(0x16d)](_0x7393c6[_0x5f3a0d(0x3f8)])[_0x5f3a0d(0x3a1)]['trim'](),_0x90280b=document[_0x5f3a0d(0x16d)](_0x5f3a0d(0x235))[_0x5f3a0d(0x3a1)]['trim'](),_0x379a00=document[_0x5f3a0d(0x16d)](_0x7393c6['WoyIy'])[_0x5f3a0d(0x3a1)][_0x5f3a0d(0x3cf)](),_0x375aff=document['getElementById'](_0x5f3a0d(0x1a6));_0x375aff[_0x5f3a0d(0x3fd)][_0x5f3a0d(0x274)]=_0x7393c6['vYezG'];if(isRegisterMode){if(_0x7393c6[_0x5f3a0d(0x1a2)](!_0x39b46c,!_0x29e7ea)||!_0x23d0ff||!_0x90280b||!_0x379a00){_0x375aff[_0x5f3a0d(0x1cb)]=_0x7393c6[_0x5f3a0d(0x283)],_0x375aff[_0x5f3a0d(0x3fd)][_0x5f3a0d(0x274)]=_0x5f3a0d(0x2e6);return;}if(_0x7393c6[_0x5f3a0d(0x282)](_0x23d0ff,_0x90280b)){_0x375aff['innerText']=_0x7393c6[_0x5f3a0d(0x3ea)],_0x375aff[_0x5f3a0d(0x3fd)][_0x5f3a0d(0x274)]=_0x7393c6[_0x5f3a0d(0x13f)];return;}if(_0x7393c6['ZyZsj'](_0x379a00,lastVerificationCode)){_0x375aff[_0x5f3a0d(0x1cb)]=_0x7393c6[_0x5f3a0d(0x33a)],_0x375aff['style'][_0x5f3a0d(0x274)]=_0x7393c6[_0x5f3a0d(0x13f)];return;}try{const _0x9ab060=await firebase[_0x5f3a0d(0x185)]()['createUserWithEmailAndPassword'](_0x39b46c,_0x23d0ff),_0xd82d76=_0x9ab060[_0x5f3a0d(0x198)],_0xd15fc4=sanitizeUsername(_0x29e7ea);await db['ref'](_0x7393c6[_0x5f3a0d(0x121)]('users/',_0xd15fc4))[_0x5f3a0d(0x395)]({'username':_0x29e7ea,'email':_0x39b46c,'createdAt':Date[_0x5f3a0d(0x148)]()}),await firebase[_0x5f3a0d(0x185)]()['signOut'](),_0x7393c6[_0x5f3a0d(0x1b1)](alert,_0x7393c6['ewgqj']),_0x7393c6[_0x5f3a0d(0x375)](toggleAuthMode);}catch(_0x552fc5){_0x375aff[_0x5f3a0d(0x1cb)]=_0x552fc5['message'],_0x375aff[_0x5f3a0d(0x3fd)][_0x5f3a0d(0x274)]=_0x7393c6[_0x5f3a0d(0x13f)];}}else{const _0x2a543a=document['getElementById'](_0x7393c6[_0x5f3a0d(0x435)])[_0x5f3a0d(0x3a1)][_0x5f3a0d(0x3cf)]();if(!_0x2a543a||!_0x23d0ff){_0x375aff['innerText']=_0x7393c6['BZvNO'],_0x375aff[_0x5f3a0d(0x3fd)]['display']=_0x5f3a0d(0x2e6);return;}try{let _0x283419='',_0x7e7809=null;const _0xa358ae=/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x5f3a0d(0x36b)](_0x2a543a);if(_0xa358ae){const _0x40c0c7=await db[_0x5f3a0d(0x13a)](_0x7393c6['HGeUc'])[_0x5f3a0d(0x2e5)](_0x7393c6[_0x5f3a0d(0x1e8)]),_0x497ad3=_0x40c0c7[_0x5f3a0d(0x37a)](),_0x233175=Object['values'](_0x497ad3)[_0x5f3a0d(0x20f)](_0x4930e5=>_0x4930e5[_0x5f3a0d(0x3ac)]===_0x2a543a);if(!_0x233175)throw new Error('Email\x20not\x20found.');_0x283419=_0x233175[_0x5f3a0d(0x3ac)],username=_0x233175[_0x5f3a0d(0x37e)];}else{_0x7e7809=await db[_0x5f3a0d(0x13a)](_0x7393c6[_0x5f3a0d(0x427)]+_0x7393c6[_0x5f3a0d(0x40a)](sanitizeUsername,_0x2a543a))[_0x5f3a0d(0x40f)]();if(!_0x7e7809['exists']())throw new Error(_0x7393c6[_0x5f3a0d(0x35a)]);_0x283419=_0x7e7809[_0x5f3a0d(0x37a)]()[_0x5f3a0d(0x3ac)],username=_0x7e7809[_0x5f3a0d(0x37a)]()[_0x5f3a0d(0x37e)];}const _0x11d193=await firebase[_0x5f3a0d(0x185)]()[_0x5f3a0d(0x2c2)](_0x283419,_0x23d0ff),_0x366b75=_0x11d193[_0x5f3a0d(0x198)];if(!_0x366b75[_0x5f3a0d(0x3ad)]){await firebase[_0x5f3a0d(0x185)]()['signOut']();throw new Error(_0x5f3a0d(0x1bc));}_0x7393c6[_0x5f3a0d(0x375)](startAfterAuth);}catch(_0x896a23){_0x375aff[_0x5f3a0d(0x1cb)]=_0x896a23['message'],_0x375aff[_0x5f3a0d(0x3fd)]['display']=_0x7393c6[_0x5f3a0d(0x13f)];}}}async function saveNewUser(_0x78b6ee,_0x3fc712,_0x9f0598,_0x241b57,_0x35afb2){const _0x3293f9=_0x4235f2,_0x70aca0={'fGQOG':function(_0x8f6365,_0x1dbe63){return _0x8f6365(_0x1dbe63);},'ardQd':_0x3293f9(0x198),'OASip':function(_0x54a60a,_0x5e83f7){return _0x54a60a||_0x5e83f7;},'BpmLP':function(_0x18005a){return _0x18005a();}},_0x30cd82=db[_0x3293f9(0x13a)]('auth/'+_0x70aca0[_0x3293f9(0x42c)](sanitizeUsername,_0x78b6ee)),_0x36d018={'username':_0x78b6ee,'passwordHash':_0x3fc712,'role':_0x70aca0[_0x3293f9(0x369)],'deviceId':_0x9f0598,'description':_0x70aca0[_0x3293f9(0x1d9)](_0x35afb2,''),'avatarBase64':_0x70aca0[_0x3293f9(0x1d9)](_0x241b57,''),'usernameHistory':[_0x78b6ee],'lastChanged':Date[_0x3293f9(0x148)]()};await _0x30cd82[_0x3293f9(0x395)](_0x36d018),username=_0x78b6ee,_0x241b57=_0x36d018[_0x3293f9(0x37f)],userDescription=_0x36d018['description'],_0x70aca0[_0x3293f9(0x14b)](startAfterAuth);}async function startAfterAuth(){const _0x513c53=_0x4235f2,_0x288da8={'nsVxz':_0x513c53(0x2c1),'LzYVM':_0x513c53(0x1aa),'cMSqw':_0x513c53(0x2e6),'jiEoK':_0x513c53(0x216),'ttGFO':function(_0x3de672){return _0x3de672();},'jAmXE':_0x513c53(0x399),'jCRGr':_0x513c53(0x266)},_0x5b3ac6=sanitizeUsername(username),_0x85eb07=db['ref'](_0x513c53(0x3f6)+_0x5b3ac6),_0x9dfc8f=await _0x85eb07['get']();if(_0x9dfc8f[_0x513c53(0x32e)]()){const _0x1068f3=_0x9dfc8f[_0x513c53(0x37a)]();username=_0x1068f3[_0x513c53(0x37e)],userDescription=_0x1068f3[_0x513c53(0x178)]||'',avatarBase64=_0x1068f3[_0x513c53(0x37f)]||'',role=_0x1068f3['role']||_0x513c53(0x198);if(avatarBase64){const _0x50e4ea=document['getElementById'](_0x288da8[_0x513c53(0x2f1)]);_0x50e4ea[_0x513c53(0x3eb)]=_0x288da8[_0x513c53(0x183)]+avatarBase64,_0x50e4ea[_0x513c53(0x3fd)]['display']=_0x288da8[_0x513c53(0x15c)];}}else console['warn'](_0x288da8[_0x513c53(0x21e)]);await _0x288da8['ttGFO'](loadRoomRoles),document[_0x513c53(0x16d)](_0x288da8['jAmXE'])['innerText']=username,showScreen(_0x288da8[_0x513c53(0x346)]);}function toggleRecording(){const _0x4a3e2b=_0x4235f2,_0x3fd0ce={'mOHOb':function(_0x36d73f,_0x3a1ce3){return _0x36d73f(_0x3a1ce3);},'XXimU':_0x4a3e2b(0x1be),'Fqbvl':function(_0x2b8f02){return _0x2b8f02();},'hTKyK':_0x4a3e2b(0x398),'mVbqf':function(_0x1d1d78,_0x204764,_0x3e5cac){return _0x1d1d78(_0x204764,_0x3e5cac);},'PrSYS':function(_0x125dbf){return _0x125dbf();}};isRecording?_0x3fd0ce['PrSYS'](stopRecording):navigator[_0x4a3e2b(0x3e0)][_0x4a3e2b(0x17d)]({'audio':!![]})['then'](_0x1f3380=>{const _0x4be1fd=_0x4a3e2b;mediaRecorder=new MediaRecorder(_0x1f3380),mediaRecorder[_0x4be1fd(0x32c)](),isRecording=!![],document[_0x4be1fd(0x16d)](_0x3fd0ce[_0x4be1fd(0x353)])[_0x4be1fd(0x1cb)]='⏹️',audioChunks=[],mediaRecorder[_0x4be1fd(0x25c)]=_0x33be6a=>audioChunks['push'](_0x33be6a['data']),mediaRecorder[_0x4be1fd(0x153)]=()=>{const _0x24dff4=_0x4be1fd;_0x3fd0ce['mOHOb'](clearTimeout,recordingTimer);const _0x48c707=new Blob(audioChunks,{'type':_0x3fd0ce[_0x24dff4(0x2c0)]}),_0x54bcd2=new FileReader();_0x54bcd2['onloadend']=()=>{const _0x5ce42b=_0x24dff4,_0x1a2676=_0x54bcd2['result']['split'](',')[0x1],_0x42a940=db[_0x5ce42b(0x13a)]()['push']()['key'];db[_0x5ce42b(0x13a)](_0x5ce42b(0x261)+roomCode+'/messages/'+_0x42a940)[_0x5ce42b(0x395)]({'msg':_0x5ce42b(0x3f0),'audioBase64':_0x1a2676,'sender':username,'senderId':clientId,'timestamp':Date[_0x5ce42b(0x148)]()});},_0x54bcd2[_0x24dff4(0x423)](_0x48c707);},recordingTimer=_0x3fd0ce[_0x4be1fd(0x409)](setTimeout,()=>{const _0x251d8f=_0x4be1fd;mediaRecorder&&isRecording&&_0x3fd0ce[_0x251d8f(0x1c7)](stopRecording);},0x4e20);})[_0x4a3e2b(0x332)](_0xdeac61=>{const _0x59b8a0=_0x4a3e2b;_0x3fd0ce[_0x59b8a0(0x277)](alert,_0x59b8a0(0x240));});}function stopRecording(){const _0x2b725e=_0x4235f2,_0x430379={'EpTZX':function(_0x2cada4,_0x81db44){return _0x2cada4&&_0x81db44;},'PxIXj':_0x2b725e(0x398)};_0x430379[_0x2b725e(0x2d5)](mediaRecorder,isRecording)&&(mediaRecorder[_0x2b725e(0x1df)](),isRecording=![],document[_0x2b725e(0x16d)](_0x430379[_0x2b725e(0x1bd)])['innerText']=_0x2b725e(0x397));}window['onload']=async()=>{const _0x28d0b2=_0x4235f2,_0x11f863={'awgsM':function(_0x3e1ee2){return _0x3e1ee2();},'yglZd':function(_0x1f947c,_0x42cde5){return _0x1f947c===_0x42cde5;},'jalmw':_0x28d0b2(0x23c),'lHscV':function(_0x28c6ff,_0x52b308){return _0x28c6ff(_0x52b308);}};_0x11f863['awgsM'](cleanupOldRooms),setupSidebarBackHandler(),setupVisibilityAttention(),resetWebsiteData();const _0x2a0532=localStorage['getItem']('notifications_enabled');notificationsEnabled=_0x11f863['yglZd'](_0x2a0532,_0x11f863['jalmw']),isRegisterMode=![],toggleAuthMode(),_0x11f863[_0x28d0b2(0x3d0)](showScreen,_0x28d0b2(0x413));};function sanitizeUsername(_0x475462){return _0x475462['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x2dd229=_0x4235f2,_0x39a8ef={'upEOX':'Failed\x20to\x20save\x20profile:','cSrvh':'⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','YusKd':_0x2dd229(0x2e6),'WqxiQ':_0x2dd229(0x19f),'gJWnN':function(_0x517081,_0x39ef18){return _0x517081(_0x39ef18);},'EiJHt':_0x2dd229(0x399),'JlMbY':_0x2dd229(0x1ba),'kPFFJ':_0x2dd229(0x314),'KadaU':_0x2dd229(0x3ff)},_0x1f8f36=document['getElementById'](_0x2dd229(0x36e))['value'][_0x2dd229(0x3cf)](),_0x4c40ed=document[_0x2dd229(0x16d)](_0x39a8ef[_0x2dd229(0x24c)])['value'][_0x2dd229(0x3cf)](),_0x213f28=document[_0x2dd229(0x16d)](_0x2dd229(0x16f));if(!_0x1f8f36||!_0x4c40ed){_0x213f28[_0x2dd229(0x1cb)]=_0x2dd229(0x17a),_0x213f28[_0x2dd229(0x3fd)][_0x2dd229(0x274)]=_0x39a8ef[_0x2dd229(0x285)];return;}const _0x45bcc9=_0x39a8ef['gJWnN'](sanitizeUsername,_0x1f8f36),_0x4fdba7=db[_0x2dd229(0x13a)](_0x2dd229(0x238)+_0x45bcc9);_0x4fdba7[_0x2dd229(0x2e5)](_0x2dd229(0x3a1))[_0x2dd229(0x3e7)](_0x4f369d=>{const _0x5a606c=_0x2dd229,_0x3c8b6c={'PYyJE':_0x39a8ef[_0x5a606c(0x27d)],'EFDFj':_0x39a8ef[_0x5a606c(0x309)],'GYEne':_0x39a8ef[_0x5a606c(0x285)],'VKuaN':_0x39a8ef['WqxiQ'],'voOhi':_0x5a606c(0x25d),'xKBFW':function(_0x488b60,_0x2bc9ed){const _0x22489d=_0x5a606c;return _0x39a8ef[_0x22489d(0x359)](_0x488b60,_0x2bc9ed);},'hPVbw':_0x39a8ef['EiJHt']};if(_0x4f369d['exists']())_0x213f28['innerText']=_0x5a606c(0x12e),_0x213f28[_0x5a606c(0x3fd)]['display']=_0x39a8ef['YusKd'];else{const _0x35be73={'username':_0x1f8f36,'description':_0x4c40ed,'lastChanged':Date[_0x5a606c(0x148)](),'usernameHistory':[_0x1f8f36]};_0x4fdba7[_0x5a606c(0x395)](_0x35be73,_0x491a93=>{const _0x287a51=_0x5a606c;if(_0x491a93)console[_0x287a51(0x391)](_0x3c8b6c[_0x287a51(0x3c5)],_0x491a93),_0x213f28['innerText']=_0x3c8b6c['EFDFj'],_0x213f28['style'][_0x287a51(0x274)]=_0x3c8b6c[_0x287a51(0x2ce)];else{const _0x5f4c4e='1|0|2|4|3'[_0x287a51(0x249)]('|');let _0x50bb24=0x0;while(!![]){switch(_0x5f4c4e[_0x50bb24++]){case'0':localStorage['setItem'](_0x3c8b6c[_0x287a51(0x304)],_0x4c40ed);continue;case'1':localStorage[_0x287a51(0x166)](_0x3c8b6c[_0x287a51(0x342)],_0x1f8f36);continue;case'2':username=_0x1f8f36;continue;case'3':_0x3c8b6c['xKBFW'](showScreen,_0x287a51(0x266));continue;case'4':document['getElementById'](_0x3c8b6c[_0x287a51(0x279)])[_0x287a51(0x1cb)]=_0x1f8f36;continue;}break;}}});}})[_0x2dd229(0x332)](_0x3b1899=>{const _0x5a9a0b=_0x2dd229;console[_0x5a9a0b(0x391)](_0x39a8ef[_0x5a9a0b(0x14c)],_0x3b1899),_0x213f28[_0x5a9a0b(0x1cb)]=_0x39a8ef['kPFFJ'],_0x213f28[_0x5a9a0b(0x3fd)][_0x5a9a0b(0x274)]=_0x39a8ef[_0x5a9a0b(0x285)];});}function saveProfile(_0xb2e95f,_0x497e5e,_0x2f48aa){const _0x20d375=_0x4235f2,_0x3f54dd={'LyjSq':_0x20d375(0x399),'VlkbG':function(_0x2d14f7,_0x2b20e7){return _0x2d14f7(_0x2b20e7);},'jCSsB':_0x20d375(0x266)},_0x222a7f=Date[_0x20d375(0x148)](),_0x14490b=[_0xb2e95f];db['ref'](_0x20d375(0x238)+_0x2f48aa)[_0x20d375(0x395)]({'username':_0xb2e95f,'description':_0x497e5e,'lastChanged':_0x222a7f,'usernameHistory':_0x14490b}),document['getElementById'](_0x3f54dd[_0x20d375(0x2a3)])[_0x20d375(0x1cb)]=_0xb2e95f,_0x3f54dd[_0x20d375(0x3be)](showScreen,_0x3f54dd[_0x20d375(0x196)]);}function generateRoom(){const _0xe9c8ad=_0x4235f2,_0x26d0a0={'KRvPs':function(_0x550eb7,_0x584309){return _0x550eb7+_0x584309;}};roomCode=genRoomCode(),db[_0xe9c8ad(0x13a)](_0x26d0a0['KRvPs'](_0xe9c8ad(0x261),roomCode))[_0xe9c8ad(0x395)]({'active':!![],'created':Date[_0xe9c8ad(0x148)]()}),startChat();}function joinRoom(){const _0x4ebdbc=_0x4235f2,_0x531a5c={'mTtIp':function(_0x5a420d,_0x2fffa3){return _0x5a420d(_0x2fffa3);},'HPuzY':'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','ohkkE':_0x4ebdbc(0x21d),'LzwsZ':function(_0x5c2983,_0xb466f9){return _0x5c2983(_0xb466f9);},'hbImO':_0x4ebdbc(0x2bc),'zQjFA':function(_0x2ffb41,_0x324631){return _0x2ffb41+_0x324631;}},_0x5272c9=roomCode||document['getElementById'](_0x4ebdbc(0x2b5))[_0x4ebdbc(0x3a1)][_0x4ebdbc(0x3cf)]()['toUpperCase']();if(!_0x5272c9)return _0x531a5c[_0x4ebdbc(0x3d8)](alert,_0x531a5c[_0x4ebdbc(0x3f4)]);roomCode=_0x5272c9;if(roomCode===STATIC_ROOM){_0x531a5c[_0x4ebdbc(0x381)](showScreen,_0x531a5c[_0x4ebdbc(0x155)]);return;}db[_0x4ebdbc(0x13a)](_0x531a5c['zQjFA'](_0x4ebdbc(0x261),roomCode))[_0x4ebdbc(0x40f)]()[_0x4ebdbc(0x3e7)](_0x2bc59a=>{const _0x56c5d2=_0x4ebdbc;_0x2bc59a[_0x56c5d2(0x32e)]()&&_0x2bc59a['val']()['active']!==![]?startChat():_0x531a5c[_0x56c5d2(0x3d8)](alert,_0x531a5c[_0x56c5d2(0x1ec)]);});}async function startChat(){const _0xb58134=_0x4235f2,_0x4dccbe={'kEJQg':function(_0x219770){return _0x219770();},'OPlpj':function(_0x19f9e5,_0x1ec807){return _0x19f9e5===_0x1ec807;},'MDJpb':'admin','cReXQ':function(_0x3cfd56,_0x2c43b6){return _0x3cfd56===_0x2c43b6;},'xcpsu':_0xb58134(0x32f),'EkusU':function(_0xd8ce30,_0x569a41){return _0xd8ce30(_0x569a41);},'kKasz':_0xb58134(0x137),'lzEYs':'sidebarAvatarPreview','VlSiT':_0xb58134(0x1aa),'ZjMnV':_0xb58134(0x2e6),'EYKeZ':_0xb58134(0x36f),'mLjMq':function(_0x485d45,_0x80e4d5){return _0x485d45(_0x80e4d5);},'eUupz':function(_0x325f90,_0x265300){return _0x325f90===_0x265300;},'XPZui':_0xb58134(0x241),'gwprN':_0xb58134(0x2d4),'SteMf':function(_0x4d885c,_0x3f5b6d){return _0x4d885c(_0x3f5b6d);},'oUvEa':_0xb58134(0x378),'mTiuy':_0xb58134(0x1b8),'hmfJx':_0xb58134(0x3b5),'cEdGa':function(_0x435d87){return _0x435d87();},'ozApk':function(_0x28c76f){return _0x28c76f();},'KMZDe':_0xb58134(0x185),'PqNYb':_0xb58134(0x1a5),'RWycw':function(_0x51c07f,_0x4714f8){return _0x51c07f(_0x4714f8);},'wbuhC':_0xb58134(0x28f),'PuGWB':'roomChoiceScreen','ntyZs':function(_0x3662a2){return _0x3662a2();},'iQmqv':function(_0x13ebc5,_0x92607){return _0x13ebc5(_0x92607);}};if(!roomCode||!username)return _0x4dccbe[_0xb58134(0x1d0)](alert,_0x4dccbe[_0xb58134(0x2fb)]),_0x4dccbe['SteMf'](showScreen,_0x4dccbe[_0xb58134(0x373)]);listenForPauseState(),_0x4dccbe[_0xb58134(0x1e5)](listenForUserList),await _0x4dccbe[_0xb58134(0x140)](loadRoomRoles),_0x4dccbe[_0xb58134(0x1e5)](listenForAnnouncement);const _0x17ba61=_0x4dccbe[_0xb58134(0x3ee)](sanitizeUsername,username),_0x19d7f9=db[_0xb58134(0x13a)]('users/'+roomCode+'/'+_0x17ba61),_0x592867={'username':username,'online':!![],'lastOnline':firebase[_0xb58134(0x28b)][_0xb58134(0x23f)][_0xb58134(0x15f)]};_0x19d7f9[_0xb58134(0x395)](_0x592867,_0x3a9cd3=>{const _0x334c60=_0xb58134,_0x2deb45={'fLEPR':function(_0x338980,_0x451612){const _0x21cc28=_0x20c4;return _0x4dccbe[_0x21cc28(0x212)](_0x338980,_0x451612);},'GUQJD':function(_0x168cbd,_0xbce73){const _0x546b3b=_0x20c4;return _0x4dccbe[_0x546b3b(0x212)](_0x168cbd,_0xbce73);},'sKUut':_0x4dccbe[_0x334c60(0x42b)],'XUIFF':function(_0x4c5285,_0x3b2b76){const _0x54c6ad=_0x334c60;return _0x4dccbe[_0x54c6ad(0x2e9)](_0x4c5285,_0x3b2b76);},'vPbkS':_0x4dccbe['xcpsu'],'AmzGV':function(_0x4f82f0,_0x1f5aae){return _0x4dccbe['EkusU'](_0x4f82f0,_0x1f5aae);},'YJOMA':_0x334c60(0x25b)};if(_0x3a9cd3)return alert(_0x4dccbe[_0x334c60(0x341)]),_0x4dccbe['EkusU'](showScreen,_0x334c60(0x266));const _0x1d0cd3=document[_0x334c60(0x16d)](_0x4dccbe[_0x334c60(0x300)]);avatarBase64&&(_0x1d0cd3[_0x334c60(0x3eb)]=_0x4dccbe['VlSiT']+avatarBase64,_0x1d0cd3[_0x334c60(0x3fd)]['display']=_0x4dccbe[_0x334c60(0x347)]);document[_0x334c60(0x16d)](_0x4dccbe[_0x334c60(0x224)])[_0x334c60(0x218)]=username+'\x20'+_0x4dccbe['mLjMq'](getRoleTag,_0x17ba61),document['getElementById'](_0x334c60(0x123))['innerText']=_0x4dccbe[_0x334c60(0x181)](roomCode,STATIC_ROOM)?_0x4dccbe[_0x334c60(0x2da)]:roomCode,updateAnnouncementVisibility();const _0x1eb86e=db[_0x334c60(0x13a)]()['push']()[_0x334c60(0x326)];db[_0x334c60(0x13a)]('rooms/'+roomCode+'/messages/'+_0x1eb86e)[_0x334c60(0x395)]({'msg':username+'\x20is\x20online','sender':_0x4dccbe[_0x334c60(0x3f1)],'senderId':_0x334c60(0x2d4),'timestamp':Date['now']()}),_0x4dccbe[_0x334c60(0x38f)](showScreen,_0x4dccbe['oUvEa']),document[_0x334c60(0x16d)](_0x4dccbe[_0x334c60(0x333)])[_0x334c60(0x39e)](_0x4dccbe[_0x334c60(0x16e)],_0x434256=>{const _0x5a9f73=_0x334c60;_0x2deb45['fLEPR'](_0x434256[_0x5a9f73(0x134)],0x3)&&(_0x2deb45[_0x5a9f73(0x30c)](role,_0x2deb45[_0x5a9f73(0x2f2)])||_0x2deb45['XUIFF'](role,_0x2deb45[_0x5a9f73(0x1c9)]))&&(_0x2deb45[_0x5a9f73(0x239)](confirm,_0x2deb45[_0x5a9f73(0x1d8)])&&db[_0x5a9f73(0x13a)](_0x5a9f73(0x261)+roomCode+_0x5a9f73(0x3c4))[_0x5a9f73(0x411)]()[_0x5a9f73(0x3e7)](()=>{const _0x262db1=_0x5a9f73;document[_0x262db1(0x16d)](_0x262db1(0x1b8))[_0x262db1(0x1cb)]='';}));}),listenForMessages(),_0x4dccbe[_0x334c60(0x14f)](listenForTyping),_0x4dccbe[_0x334c60(0x14f)](startInactivityTimer),_0x4dccbe[_0x334c60(0x1e5)](trackPresence),_0x4dccbe[_0x334c60(0x1e5)](watchProfileChanges),_0x4dccbe[_0x334c60(0x2c3)](watchMuteStatus),startSidebarSyncLoop();const _0x1bd25d=()=>{const _0x376ed4=_0x334c60,_0x3b637a={'XOLPK':function(_0x5365fc,_0x527a04){return _0x5365fc(_0x527a04);},'CJXrn':function(_0x396bea){return _0x396bea();}};_0x4dccbe['kEJQg'](loadRoomRoles)[_0x376ed4(0x3e7)](()=>{const _0x2f9514=_0x376ed4;_0x3b637a['XOLPK'](renderUserLists,roomUsers),_0x3b637a[_0x2f9514(0x236)](updateAnnouncementVisibility);});};db[_0x334c60(0x13a)](_0x4dccbe[_0x334c60(0x19d)])['on'](_0x4dccbe[_0x334c60(0x22b)],_0x1bd25d),db['ref'](_0x4dccbe[_0x334c60(0x19d)])['on']('child_added',_0x1bd25d);});}function updateAnnouncementVisibility(){const _0x3d53d8=_0x4235f2,_0x72e14d={'HXeKr':_0x3d53d8(0x41f),'SCwjV':_0x3d53d8(0x124),'DqRyr':'dev','NHEPc':_0x3d53d8(0x2e6),'yytJL':'none'},_0x155d11=document[_0x3d53d8(0x16d)](_0x72e14d[_0x3d53d8(0x3a2)]);role===_0x72e14d[_0x3d53d8(0x2cd)]||role===_0x72e14d[_0x3d53d8(0x302)]?_0x155d11['style']['display']=_0x72e14d[_0x3d53d8(0x15e)]:_0x155d11[_0x3d53d8(0x3fd)]['display']=_0x72e14d[_0x3d53d8(0x2a9)];}function watchProfileChanges(){const _0x5c0891=_0x4235f2,_0x1224ad={'rouez':_0x5c0891(0x198),'SjCCj':_0x5c0891(0x2c1),'CCsRt':'data:image/png;base64,','VxLen':_0x5c0891(0x2e6),'wnGmA':function(_0x7864b3,_0x111ef1){return _0x7864b3(_0x111ef1);},'MQsne':function(_0x56da02,_0x2a6774){return _0x56da02(_0x2a6774);},'Fslmn':'value'},_0x1b920f=_0x1224ad['MQsne'](sanitizeUsername,username);db[_0x5c0891(0x13a)](_0x5c0891(0x3f6)+_0x1b920f)['on'](_0x1224ad[_0x5c0891(0x416)],_0x499de0=>{const _0x1dba87=_0x5c0891;if(!_0x499de0[_0x1dba87(0x32e)]())return;const _0x238b7b=_0x499de0[_0x1dba87(0x37a)]();userDescription=_0x238b7b['description']||'',avatarBase64=_0x238b7b[_0x1dba87(0x37f)]||'',role=_0x238b7b[_0x1dba87(0x2ad)]||_0x1224ad['rouez'];if(avatarBase64){const _0x30d340=document[_0x1dba87(0x16d)](_0x1224ad[_0x1dba87(0x2b9)]);!_0x30d340[_0x1dba87(0x3eb)]['includes'](avatarBase64)&&(_0x30d340[_0x1dba87(0x3eb)]=_0x1224ad['CCsRt']+avatarBase64,_0x30d340[_0x1dba87(0x3fd)]['display']=_0x1224ad[_0x1dba87(0x237)]);}_0x1224ad[_0x1dba87(0x172)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x360745){const _0x4a8169=_0x4235f2,_0x79e302={'UprHD':function(_0x172a86,_0x49eaf7){return _0x172a86<_0x49eaf7;},'EPaXS':function(_0x4b2274,_0x7d51e3){return _0x4b2274(_0x7d51e3);},'AXZhO':'🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','LiaaH':function(_0x4fa045,_0x2acb0c){return _0x4fa045>_0x2acb0c;},'aaTAu':function(_0x547073,_0x1ae9ff){return _0x547073*_0x1ae9ff;},'SFWhY':function(_0x534fff,_0x51cf43){return _0x534fff*_0x51cf43;},'ZHuoO':function(_0x2dc262,_0x4b06a6){return _0x2dc262(_0x4b06a6);},'UwcyG':_0x4a8169(0x371)},_0x2a3ee1=Date['now']();if(_0x79e302[_0x4a8169(0x31d)](_0x2a3ee1-lastImageTime,0x2710)){_0x79e302[_0x4a8169(0x177)](alert,_0x79e302[_0x4a8169(0x368)]);return;}lastImageTime=_0x2a3ee1;const _0x5a560e=_0x360745['files'][0x0];if(!_0x5a560e||_0x79e302[_0x4a8169(0x27c)](_0x5a560e[_0x4a8169(0x12b)],_0x79e302[_0x4a8169(0x159)](_0x79e302[_0x4a8169(0x1b2)](0x2,0x400),0x400))){_0x79e302[_0x4a8169(0x1f1)](alert,_0x79e302['UwcyG']);return;}const _0x5aed03=new FileReader();_0x5aed03[_0x4a8169(0x2b2)]=()=>{const _0x7cddf5=_0x4a8169,_0x3f20d9=_0x5aed03['result'][_0x7cddf5(0x249)](',')[0x1],_0x474847=db[_0x7cddf5(0x13a)]()[_0x7cddf5(0x3d4)]()[_0x7cddf5(0x326)];db['ref'](_0x7cddf5(0x261)+roomCode+_0x7cddf5(0x217)+_0x474847)['set']({'imageBase64':_0x3f20d9,'sender':username,'senderId':clientId,'timestamp':Date[_0x7cddf5(0x148)]()});},_0x5aed03[_0x4a8169(0x423)](_0x5a560e);}async function fetchProfile(_0x371f18){const _0x4a14fc=_0x4235f2,_0x4157c8=await db[_0x4a14fc(0x13a)](_0x4a14fc(0x3f6)+_0x371f18)[_0x4a14fc(0x40f)]();if(!_0x4157c8['exists']())return null;return _0x4157c8[_0x4a14fc(0x37a)]();}function validateStaticRoomPassword(){const _0x2ecb2e=_0x4235f2,_0x536263={'yNuwK':_0x2ecb2e(0x291),'NiNRV':function(_0x2f0851,_0x3b0a98){return _0x2f0851===_0x3b0a98;},'BEyzp':function(_0x1bcad6){return _0x1bcad6();},'njgvb':'Incorrect\x20password','SkZxU':_0x2ecb2e(0x2e6),'KxXYJ':function(_0x57b46c,_0x28447a){return _0x57b46c(_0x28447a);},'yHtZs':'staticPasswordInput','xwiBc':function(_0x10f816,_0x4f7517){return _0x10f816(_0x4f7517);},'Ccogt':_0x2ecb2e(0x339)},_0x2cca82=document['getElementById'](_0x536263[_0x2ecb2e(0x131)])[_0x2ecb2e(0x3a1)][_0x2ecb2e(0x3cf)]();if(!_0x2cca82){_0x536263['xwiBc'](alert,_0x536263[_0x2ecb2e(0x3df)]);return;}db[_0x2ecb2e(0x13a)](_0x2ecb2e(0x164)+STATIC_ROOM)[_0x2ecb2e(0x40f)]()['then'](_0x2b928c=>{const _0x90edd7=_0x2ecb2e;if(!_0x2b928c['exists']()){alert(_0x536263[_0x90edd7(0x21b)]);return;}const _0x5d4b85=_0x2b928c[_0x90edd7(0x37a)]();_0x536263[_0x90edd7(0x2b8)](_0x2cca82,_0x5d4b85)?(roomCode=STATIC_ROOM,_0x536263[_0x90edd7(0x2a2)](startChat)):(document[_0x90edd7(0x16d)](_0x90edd7(0x418))[_0x90edd7(0x1cb)]=_0x536263[_0x90edd7(0x2ef)],document[_0x90edd7(0x16d)]('passwordError')['style'][_0x90edd7(0x274)]=_0x536263[_0x90edd7(0x434)]);})['catch'](_0x506b04=>{const _0x288773=_0x2ecb2e;console[_0x288773(0x391)](_0x506b04),_0x536263[_0x288773(0x34f)](alert,_0x288773(0x203));});}function listenForPauseState(){const _0x14b463=_0x4235f2,_0x4afb59={'siyfi':function(_0x418b71,_0x388cfe){return _0x418b71===_0x388cfe;},'jOmTC':_0x14b463(0x25a),'cItCe':_0x14b463(0x2e6)};db[_0x14b463(0x13a)](_0x14b463(0x3f5)+roomCode+_0x14b463(0x1f6))['on'](_0x14b463(0x3a1),_0x118077=>{const _0x556437=_0x14b463,_0x55b6a1=_0x118077[_0x556437(0x32e)]()&&_0x4afb59[_0x556437(0x40e)](_0x118077[_0x556437(0x37a)](),!![]);document[_0x556437(0x16d)](_0x4afb59[_0x556437(0x202)])[_0x556437(0x3fd)][_0x556437(0x274)]=_0x55b6a1?_0x4afb59['cItCe']:_0x556437(0x2ac);});}const spamTimestamps=[];async function sendMessage(){const _0x42c71e=_0x4235f2,_0x5c45aa={'LVxwE':_0x42c71e(0x3c7),'mVkzN':function(_0x2b3d3f,_0x1ce608){return _0x2b3d3f(_0x1ce608);},'LBePQ':_0x42c71e(0x3d2),'MiBFA':function(_0x4c9b6f,_0x198f0f){return _0x4c9b6f>_0x198f0f;},'pGykm':_0x42c71e(0x205),'GuXre':function(_0x2a489d,_0x2f1b0d){return _0x2a489d===_0x2f1b0d;},'MMIlP':function(_0x4d7b26,_0xb1d354){return _0x4d7b26!==_0xb1d354;},'IPAWT':_0x42c71e(0x2bf),'YETjK':function(_0x109ce2,_0x536ee6){return _0x109ce2||_0x536ee6;},'fqCuq':function(_0x1efd21,_0x2c9a9d){return _0x1efd21(_0x2c9a9d);},'srBpG':_0x42c71e(0x26f),'kKCCJ':function(_0x393a7e,_0x1ffe6e){return _0x393a7e>_0x1ffe6e;},'ziqyV':function(_0x494ec6,_0x2fd0f0,_0x2b33f9){return _0x494ec6(_0x2fd0f0,_0x2b33f9);},'edosH':function(_0x162012,_0x317523){return _0x162012(_0x317523);},'XpTOU':_0x42c71e(0x37d),'lkxdr':_0x42c71e(0x2d9),'Ksvrr':_0x42c71e(0x1c0),'nODiW':function(_0x3c9978,_0x507104){return _0x3c9978(_0x507104);}},_0x3c462a=await db['ref'](_0x42c71e(0x3f5)+roomCode+_0x42c71e(0x1f6))[_0x42c71e(0x40f)](),_0xc9d470=await db[_0x42c71e(0x13a)](_0x42c71e(0x1c3)+roomCode+'/'+_0x5c45aa[_0x42c71e(0x146)](sanitizeUsername,username))[_0x42c71e(0x40f)]();if(_0xc9d470['exists']()){const _0x11c2c9=_0xc9d470[_0x42c71e(0x37a)](),_0x43d4ff=typeof _0x11c2c9===_0x5c45aa[_0x42c71e(0x2fa)]&&_0x11c2c9[_0x42c71e(0x264)]?_0x11c2c9[_0x42c71e(0x264)]:_0x11c2c9;if(_0x5c45aa['MiBFA'](_0x43d4ff,Date[_0x42c71e(0x148)]())){_0x5c45aa[_0x42c71e(0x146)](alert,_0x5c45aa['pGykm']);return;}}if(_0x3c462a[_0x42c71e(0x32e)]()&&_0x5c45aa['GuXre'](_0x3c462a[_0x42c71e(0x37a)](),!![])&&_0x5c45aa[_0x42c71e(0x28c)](role,_0x42c71e(0x32f))){_0x5c45aa[_0x42c71e(0x146)](alert,_0x42c71e(0x3ba));return;}const _0x1e2bce=document[_0x42c71e(0x16d)](_0x5c45aa['IPAWT']),_0x2bff30=_0x1e2bce['value']['trim']();if(_0x5c45aa[_0x42c71e(0x410)](!_0x2bff30,isBlocked))return;const _0x59802c=Date[_0x42c71e(0x148)](),_0x5920ba=_0x2bff30[_0x42c71e(0x247)](),_0x3f0590=swearWords['some'](_0x4d4870=>_0x5920ba[_0x42c71e(0x310)](_0x4d4870));if(_0x3f0590){_0x5c45aa[_0x42c71e(0x404)](alert,_0x5c45aa['srBpG']);return;}spamTimestamps[_0x42c71e(0x3d4)](_0x59802c);const _0x178783=spamTimestamps[_0x42c71e(0x424)](_0x2f6b54=>_0x59802c-_0x2f6b54<0x1b58);if(_0x5c45aa['kKCCJ'](_0x178783[_0x42c71e(0x32d)],0x5)){const _0x3b0794='4|1|3|5|2|0'[_0x42c71e(0x249)]('|');let _0x32118c=0x0;while(!![]){switch(_0x3b0794[_0x32118c++]){case'0':return;case'1':_0x1e2bce[_0x42c71e(0x428)]=!![];continue;case'2':_0x5c45aa[_0x42c71e(0x40c)](setTimeout,()=>{const _0x26d629=_0x42c71e;isBlocked=![],_0x1e2bce['disabled']=![],_0x1e2bce[_0x26d629(0x1f2)]=_0x5c45aa['LVxwE'],spamTimestamps[_0x26d629(0x32d)]=0x0;},0x7530);continue;case'3':_0x1e2bce[_0x42c71e(0x1f2)]=_0x42c71e(0x1e2);continue;case'4':isBlocked=!![];continue;case'5':_0x5c45aa[_0x42c71e(0x1e4)](alert,_0x5c45aa['XpTOU']);continue;}break;}}const _0x3892a3=_0x2bff30[_0x42c71e(0x433)](/(.)\1{14,}/);if(_0x3892a3){_0x5c45aa['fqCuq'](alert,_0x5c45aa[_0x42c71e(0x2ea)]);return;}const _0x3fdd48=localStorage[_0x42c71e(0x24a)](_0x5c45aa[_0x42c71e(0x12f)])||'',_0x40d39b=db[_0x42c71e(0x13a)]()[_0x42c71e(0x3d4)]()[_0x42c71e(0x326)];db[_0x42c71e(0x13a)](_0x42c71e(0x261)+roomCode+_0x42c71e(0x217)+_0x40d39b)[_0x42c71e(0x395)]({'msg':_0x2bff30,'sender':username,'senderId':clientId,'avatarBase64':_0x3fdd48,'timestamp':_0x59802c}),_0x1e2bce[_0x42c71e(0x3a1)]='',_0x5c45aa[_0x42c71e(0x1a9)](sendTyping,!![]),lastActivity=_0x59802c;}function listenForMessages(){const _0x192702=_0x4235f2,_0x3d3bad={'FwFft':function(_0x5cd632,_0x3b259d,_0x318cd6,_0x10dd0d){return _0x5cd632(_0x3b259d,_0x318cd6,_0x10dd0d);},'DqMCi':function(_0x10aee3,_0x5dd187){return _0x10aee3===_0x5dd187;},'hjgrN':function(_0x561a46,_0x57e1b1,_0x4efc9f,_0x43437f){return _0x561a46(_0x57e1b1,_0x4efc9f,_0x43437f);},'qFgvC':function(_0x26dd5f,_0xadf1e4){return _0x26dd5f!==_0xadf1e4;},'GLkVz':_0x192702(0x2d4),'SFWHz':function(_0x4d71f2){return _0x4d71f2();},'YJxuv':function(_0x33bb2b,_0x11e1c3){return _0x33bb2b===_0x11e1c3;},'uGLTq':_0x192702(0x30e),'evFBo':_0x192702(0x325),'AupZY':_0x192702(0x40b),'dPGeV':_0x192702(0x3ec),'dNRiW':function(_0x46d883,_0x38b872){return _0x46d883||_0x38b872;},'miWCO':function(_0x3b822a,_0x3e0179){return _0x3b822a>_0x3e0179;},'aaTEu':function(_0x4364a7,_0x3b8432){return _0x4364a7-_0x3b8432;},'YhYed':_0x192702(0x38a),'JEhYw':_0x192702(0x3a1),'lvVKU':_0x192702(0x27b)},_0x428d90=db['ref'](_0x192702(0x261)+roomCode+_0x192702(0x23e)),_0x1a70fb=_0x428d90[_0x192702(0x3cc)](MAX_MESSAGES);userListReady=!![],_0x1a70fb['on'](_0x3d3bad[_0x192702(0x3c2)],_0x5e0b42=>{const _0x54f775=_0x192702,_0x2cc93d={'smEPz':function(_0x21b080,_0xc95c2d,_0x1f3f80,_0x39655f){const _0x3655e0=_0x20c4;return _0x3d3bad[_0x3655e0(0x1b3)](_0x21b080,_0xc95c2d,_0x1f3f80,_0x39655f);}},_0x8de86=_0x5e0b42[_0x54f775(0x37a)](),{senderId:_0xd4edc7}=_0x8de86,_0x1cad87=_0x3d3bad['DqMCi'](_0xd4edc7,clientId);if(!userListReady){pendingMessages[_0x54f775(0x403)](({data:_0xb0a52b,sent:_0x1e3e74,key:_0x17895a})=>{const _0x12656c=_0x54f775;_0x2cc93d[_0x12656c(0x1de)](addMessage,_0xb0a52b,_0x1e3e74,_0x17895a);}),pendingMessages=[];return;}const _0x184df0=_0x8de86[_0x54f775(0x3f9)]||null,_0xb89a1f=_0x8de86['audioBase64']||null;_0x3d3bad[_0x54f775(0x132)](addMessage,_0x8de86,_0x1cad87,_0x5e0b42[_0x54f775(0x326)]);if(_0x3d3bad[_0x54f775(0x229)](roomCode,STATIC_ROOM)&&_0x3d3bad[_0x54f775(0x229)](_0x8de86['sender'],_0x3d3bad[_0x54f775(0x2fc)])){}!_0x1cad87&&(sound[_0x54f775(0x1fb)](),_0x3d3bad[_0x54f775(0x348)](flagPageAttention));if(notificationsEnabled&&!_0x1cad87&&_0x3d3bad[_0x54f775(0x400)](Notification[_0x54f775(0x26d)],_0x3d3bad[_0x54f775(0x31e)])){const _0x3b9994=_0x8de86[_0x54f775(0x122)]||(_0x8de86[_0x54f775(0x190)]?_0x3d3bad[_0x54f775(0x233)]:_0x8de86[_0x54f775(0x258)]?_0x54f775(0x42f):_0x3d3bad[_0x54f775(0x388)]);new Notification('💬\x20'+_0x8de86[_0x54f775(0x11d)],{'body':_0x3b9994,'icon':_0x3d3bad[_0x54f775(0x1d1)]});}}),_0x428d90['once'](_0x3d3bad[_0x192702(0x2e1)])[_0x192702(0x3e7)](_0x3792df=>{const _0x10e1e=_0x192702,_0x3c3908=_0x3792df['val'](),_0x18945e=Object['keys'](_0x3d3bad[_0x10e1e(0x1f3)](_0x3c3908,{}));if(_0x3d3bad['miWCO'](_0x18945e[_0x10e1e(0x32d)],MAX_MESSAGES)){const _0x897939=_0x3d3bad[_0x10e1e(0x187)](_0x18945e[_0x10e1e(0x32d)],MAX_MESSAGES),_0x14df46=_0x18945e[_0x10e1e(0x19e)]((_0x5afc35,_0xbbe816)=>_0x3c3908[_0x5afc35][_0x10e1e(0x13c)]-_0x3c3908[_0xbbe816][_0x10e1e(0x13c)])[_0x10e1e(0x345)](0x0,_0x897939);_0x14df46[_0x10e1e(0x403)](_0x54417b=>{const _0x43a9b6=_0x10e1e;db['ref'](_0x43a9b6(0x261)+roomCode+_0x43a9b6(0x217)+_0x54417b)['remove']();});}}),db['ref'](_0x192702(0x261)+roomCode+'/messages')['on'](_0x3d3bad[_0x192702(0x3d7)],_0x4aa6ab=>{const _0x4ed7dc=_0x192702,_0x1cc531=_0x4aa6ab[_0x4ed7dc(0x326)],_0x8c2115=document[_0x4ed7dc(0x394)]('[data-msg-id=\x22'+_0x1cc531+'\x22]');if(_0x8c2115)_0x8c2115[_0x4ed7dc(0x411)]();});}function stackNotification(_0x1d7856,_0xacf82){const _0x26430b=_0x4235f2,_0x7b038e={'fhlxI':function(_0x4dc29b,_0x332e10){return _0x4dc29b(_0x332e10);},'yxqOP':function(_0x2e5c1b,_0x3419a9,_0x1f67c1){return _0x2e5c1b(_0x3419a9,_0x1f67c1);}};notificationStack['push']({'sender':_0x1d7856,'content':_0xacf82}),_0x7b038e[_0x26430b(0x227)](clearTimeout,notificationTimer),notificationTimer=_0x7b038e[_0x26430b(0x17e)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x59e0ad=_0x4235f2,_0x587e8f={'TtcjV':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','ANbgi':'granted','yGjxT':function(_0x36082d,_0x154bcd){return _0x36082d||_0x154bcd;},'dfWye':_0x59e0ad(0x165),'tUwWF':function(_0x18c114,_0x11fd0e,_0x39abb2){return _0x18c114(_0x11fd0e,_0x39abb2);}};if(!notificationStack['length']||Notification[_0x59e0ad(0x26d)]!==_0x587e8f[_0x59e0ad(0x270)])return;const _0x409cd6=[...new Set(notificationStack['map'](_0x4db021=>_0x4db021[_0x59e0ad(0x11d)]))],_0x1ad809=_0x587e8f[_0x59e0ad(0x281)](roomCode,_0x587e8f['dfWye']),_0x2dce9f=_0x409cd6[_0x59e0ad(0x32d)]===0x1?'You\x20got\x20a\x20message\x20from\x20'+_0x409cd6[0x0]+_0x59e0ad(0x1f8)+_0x1ad809+':\x20'+notificationStack[0x0]['content']:'You\x20got\x20messages\x20from\x20'+_0x409cd6[_0x59e0ad(0x2a1)](',\x20')+_0x59e0ad(0x1f8)+_0x1ad809;_0x587e8f[_0x59e0ad(0x2ae)](setTimeout,()=>{const _0x20c4de=_0x59e0ad;new Notification(_0x20c4de(0x2e0),{'body':_0x2dce9f,'icon':_0x587e8f[_0x20c4de(0x1d3)]});},0x64);}async function addMessage(_0x49884a,_0xf7cd91,_0xcc9aa3=null){const _0x44ab35=_0x4235f2,_0x500840={'qnsyc':function(_0x4986ae,_0x3ea457){return _0x4986ae-_0x3ea457;},'OZdsZ':function(_0x223c3a,_0x51c909,_0x2ecc47){return _0x223c3a(_0x51c909,_0x2ecc47);},'BHvOh':_0x44ab35(0x3a3),'xLAtm':_0x44ab35(0x162),'JJuwh':'flex','oiTac':_0x44ab35(0x3d1),'ekduk':'center','edVGS':function(_0x177e0b,_0x3d6bdd){return _0x177e0b(_0x3d6bdd);},'KumZT':'none','HYlTN':function(_0x1d8644,_0x5a9b2,_0x5544a2){return _0x1d8644(_0x5a9b2,_0x5544a2);},'Gqmlj':function(_0x4687f1,_0x528f85){return _0x4687f1>_0x528f85;},'raKyz':function(_0x40845a,_0x52a141){return _0x40845a===_0x52a141;},'DCJeq':function(_0x2adbe6,_0x3ac50b){return _0x2adbe6(_0x3ac50b);},'QMHlF':function(_0x49105a,_0x2060f9,_0x10d4b6){return _0x49105a(_0x2060f9,_0x10d4b6);},'IiwyM':function(_0x10fa1b,_0x281856){return _0x10fa1b(_0x281856);},'qtOTu':'div','dZXOJ':_0x44ab35(0x2d4),'oCJCV':_0x44ab35(0x273),'xiNqQ':_0x44ab35(0x2b7),'eGBSU':'msg','WOyGx':_0x44ab35(0x144),'ODvib':_0x44ab35(0x3a7),'VWOyl':_0x44ab35(0x319),'pZkYK':_0x44ab35(0x376),'ZSvXP':function(_0x181d0c,_0x3cc40d){return _0x181d0c(_0x3cc40d);},'WpUsq':'reaction-box','suUHG':_0x44ab35(0x24d),'ENAht':_0x44ab35(0x3da),'OxMYg':_0x44ab35(0x18f),'QInxz':_0x44ab35(0x3db),'SQzeZ':_0x44ab35(0x2fe),'HndmN':'10px','WMJao':_0x44ab35(0x1c6),'LyJVl':_0x44ab35(0x220),'kqGnp':_0x44ab35(0x321),'NMTJC':_0x44ab35(0x2aa),'aijBB':_0x44ab35(0x2c4),'XXhAX':_0x44ab35(0x209),'RZYfe':_0x44ab35(0x208),'jeZqk':'touchend','mbEWe':'dev','guLJT':_0x44ab35(0x124),'dggWo':_0x44ab35(0x246),'GwGnz':_0x44ab35(0x3b5)},{msg:_0x3d44fe,sender:_0x13478a,senderId:_0x57714b,timestamp:_0x55c0a5,audioUrl:_0x275338,audioBase64:_0x70a353,imageBase64:_0x498a35}=_0x49884a,_0x40e02b=_0x500840['IiwyM'](sanitizeUsername,_0x13478a),_0x30d3d5=document[_0x44ab35(0x22e)](_0x500840[_0x44ab35(0x2d6)]);if(_0x500840[_0x44ab35(0x385)](_0x49884a[_0x44ab35(0x11d)],_0x500840['dZXOJ'])){const _0x1a8eb1=document[_0x44ab35(0x22e)](_0x500840[_0x44ab35(0x2d6)]);_0x1a8eb1[_0x44ab35(0x14d)]=_0x500840[_0x44ab35(0x1e7)],_0x1a8eb1[_0x44ab35(0x380)]['msgId']=_0xcc9aa3||_0x49884a[_0x44ab35(0x13c)],_0x1a8eb1[_0x44ab35(0x380)]['timestamp']=_0x49884a[_0x44ab35(0x13c)],_0x1a8eb1[_0x44ab35(0x3fd)]['textAlign']=_0x500840['ekduk'],_0x1a8eb1['style'][_0x44ab35(0x197)]=_0x44ab35(0x2f8),_0x1a8eb1['style'][_0x44ab35(0x26c)]=_0x500840[_0x44ab35(0x425)],_0x1a8eb1[_0x44ab35(0x3fd)][_0x44ab35(0x289)]=_0x44ab35(0x2de),_0x1a8eb1[_0x44ab35(0x1cb)]=_0x49884a[_0x44ab35(0x122)];const _0x132a05=document[_0x44ab35(0x16d)](_0x44ab35(0x42a));_0x132a05[_0x44ab35(0x17c)](_0x1a8eb1);const _0x6be338=Array[_0x44ab35(0x2ff)](_0x132a05[_0x44ab35(0x3e5)]);_0x6be338[_0x44ab35(0x19e)]((_0x2ec9ca,_0x4513b1)=>{const _0x5e9b96=_0x44ab35;return _0x500840[_0x5e9b96(0x389)](+_0x2ec9ca['dataset'][_0x5e9b96(0x13c)]||0x0,+_0x4513b1[_0x5e9b96(0x380)][_0x5e9b96(0x13c)]||0x0);}),_0x132a05[_0x44ab35(0x218)]='',_0x6be338[_0x44ab35(0x403)](_0x1e69b3=>_0x132a05[_0x44ab35(0x17c)](_0x1e69b3)),_0x132a05[_0x44ab35(0x38c)]=_0x132a05[_0x44ab35(0x126)];return;}_0x30d3d5[_0x44ab35(0x286)][_0x44ab35(0x18d)](_0x500840[_0x44ab35(0x19a)],_0xf7cd91?_0x500840[_0x44ab35(0x19b)]:_0x500840[_0x44ab35(0x357)]),_0x30d3d5[_0x44ab35(0x3fd)][_0x44ab35(0x28e)]=_0x500840[_0x44ab35(0x3fc)];_0xcc9aa3&&(_0x30d3d5['dataset'][_0x44ab35(0x2c6)]=_0xcc9aa3);const _0x406790=new Date(_0x55c0a5)[_0x44ab35(0x1c8)]([],{'hour':'2-digit','minute':_0x500840[_0x44ab35(0x1ae)]}),_0x3bb5f3=_0x500840[_0x44ab35(0x2c7)](getRoleTag,_0x40e02b),_0x5d7922=await fetchAvatar(_0x40e02b),_0x2995c5=_0x5d7922?_0x44ab35(0x248)+_0x5d7922+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x4e3c75=_0x2995c5+_0x44ab35(0x34c)+_0x13478a+'\x20'+_0x3bb5f3+_0x44ab35(0x3e8),_0x5db049=_0x3d44fe?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x44ab35(0x3e6));let _0x3b7af1=_0x4e3c75+_0x44ab35(0x250);if(_0x275338)_0x3b7af1+='<audio\x20controls\x20src=\x22'+_0x275338+_0x44ab35(0x296);else{if(_0x70a353){const _0x553b50='data:audio/webm;base64,'+_0x70a353;_0x3b7af1+=_0x44ab35(0x36c)+_0x553b50+_0x44ab35(0x296);}else{if(_0x498a35){const _0x4e801c=_0x44ab35(0x1aa)+_0x498a35;_0x3b7af1+=_0x44ab35(0x372)+_0x4e801c+_0x44ab35(0x1cd);}else{const _0x22e150=_0x5db049[_0x44ab35(0x1b5)](/(https?:\/\/[^\s]+)/g,_0x3f560e=>{const _0x539c23=_0x44ab35;return _0x539c23(0x15d)+_0x3f560e+_0x539c23(0x3aa)+_0x3f560e+_0x539c23(0x23b);});_0x3b7af1+='<div>'+_0x22e150+_0x44ab35(0x315);}}}_0x3b7af1+=_0x44ab35(0x255)+_0x406790+'</small>',_0x30d3d5[_0x44ab35(0x218)]=_0x3b7af1;const _0x5cff63=document['createElement'](_0x500840[_0x44ab35(0x2d6)]);_0x5cff63[_0x44ab35(0x14d)]=_0x500840['WpUsq'],_0x5cff63[_0x44ab35(0x3fd)][_0x44ab35(0x278)]=_0x500840['suUHG'],_0x5cff63['style'][_0x44ab35(0x197)]=_0x500840['ENAht'],_0x30d3d5['appendChild'](_0x5cff63);const _0xcf7c18=document[_0x44ab35(0x22e)]('div');_0xcf7c18[_0x44ab35(0x14d)]=_0x500840[_0x44ab35(0x351)];const _0x5024e5=['❤️','😂','😮','😢','👎','💀','🤯'];_0xcf7c18[_0x44ab35(0x218)]=_0x5024e5[_0x44ab35(0x1c2)](_0x117479=>'<button>'+_0x117479+_0x44ab35(0x32b))[_0x44ab35(0x2a1)](''),_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x274)]=_0x500840[_0x44ab35(0x211)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x28e)]=_0x500840[_0x44ab35(0x2d3)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x33e)]='#222',_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x3d3)]=_0x500840[_0x44ab35(0x256)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x1ef)]=_0x500840[_0x44ab35(0x20e)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x197)]=_0x44ab35(0x39f),_0xcf7c18['style'][_0x44ab35(0x355)]=_0x500840[_0x44ab35(0x2e2)],_0xcf7c18['style'][_0x44ab35(0x1fe)]=_0x500840['LyJVl'],_0xcf7c18[_0x44ab35(0x3fd)]['zIndex']='10',_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x2b3)]=_0x500840[_0x44ab35(0x35e)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x328)]='120px',_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x37c)]=_0x44ab35(0x136),_0xcf7c18[_0x44ab35(0x3fd)]['display']=_0x500840[_0x44ab35(0x33f)],_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x3ca)]='repeat(auto-fill,\x20minmax(32px,\x201fr))',_0xcf7c18[_0x44ab35(0x3fd)][_0x44ab35(0x42e)]=_0x44ab35(0x24d),_0xcf7c18[_0x44ab35(0x3fd)]['boxShadow']=_0x500840['aijBB'],Array[_0x44ab35(0x2ff)](_0xcf7c18[_0x44ab35(0x3e5)])[_0x44ab35(0x403)](_0x36fd9e=>{const _0x13428a=_0x44ab35;_0x36fd9e[_0x13428a(0x3fd)][_0x13428a(0x417)]=_0x500840[_0x13428a(0x2dd)],_0x36fd9e[_0x13428a(0x189)]=_0x16dd76=>{const _0x21fa37=_0x13428a;_0x16dd76[_0x21fa37(0x182)]();const _0x28fe9f=_0x36fd9e[_0x21fa37(0x412)];_0x500840['OZdsZ'](reactToMessage,_0xcc9aa3,_0x28fe9f);};}),Array[_0x44ab35(0x2ff)](_0xcf7c18[_0x44ab35(0x3e5)])[_0x44ab35(0x403)](_0x4a1f1e=>{const _0x3f4c07=_0x44ab35,_0x33e053=_0x500840[_0x3f4c07(0x160)]['split']('|');let _0x2820b7=0x0;while(!![]){switch(_0x33e053[_0x2820b7++]){case'0':_0x4a1f1e['style'][_0x3f4c07(0x197)]=_0x3f4c07(0x12a);continue;case'1':_0x4a1f1e[_0x3f4c07(0x3fd)][_0x3f4c07(0x19c)]=_0x3f4c07(0x3d1);continue;case'2':_0x4a1f1e['style'][_0x3f4c07(0x274)]=_0x500840['JJuwh'];continue;case'3':_0x4a1f1e[_0x3f4c07(0x3fd)][_0x3f4c07(0x3a6)]=_0x3f4c07(0x3ed);continue;case'4':_0x4a1f1e[_0x3f4c07(0x3fd)][_0x3f4c07(0x2be)]=_0x500840[_0x3f4c07(0x420)];continue;case'5':_0x4a1f1e['style'][_0x3f4c07(0x39c)]=_0x500840[_0x3f4c07(0x22f)];continue;}break;}}),_0x30d3d5['appendChild'](_0xcf7c18),_0xcf7c18['style'][_0x44ab35(0x274)]=_0x500840['KumZT'];let _0x27069a;_0x30d3d5[_0x44ab35(0x39e)](_0x44ab35(0x382),()=>{_0x27069a=setTimeout(()=>{const _0x3ac2a3=_0x20c4;_0xcf7c18['style'][_0x3ac2a3(0x274)]=_0x3ac2a3(0x3b4);},0x5dc);}),_0x30d3d5['addEventListener'](_0x500840[_0x44ab35(0x3bf)],()=>{const _0x1da73b=_0x44ab35;_0x500840[_0x1da73b(0x3b6)](clearTimeout,_0x27069a),_0xcf7c18[_0x1da73b(0x3fd)][_0x1da73b(0x274)]=_0x500840[_0x1da73b(0x211)];});let _0x57566c;_0x30d3d5['addEventListener'](_0x500840[_0x44ab35(0x1af)],()=>{const _0x3fdb71=_0x44ab35,_0x4e1ff0={'SunFH':_0x3fdb71(0x3b4)};_0x57566c=_0x500840[_0x3fdb71(0x151)](setTimeout,()=>{const _0x65670c=_0x3fdb71;_0xcf7c18[_0x65670c(0x3fd)][_0x65670c(0x274)]=_0x4e1ff0[_0x65670c(0x1ce)];},0x5dc);}),_0x30d3d5[_0x44ab35(0x39e)](_0x500840['jeZqk'],()=>clearTimeout(_0x57566c));_0xcc9aa3&&db['ref'](_0x44ab35(0x261)+roomCode+'/messages/'+_0xcc9aa3+_0x44ab35(0x384))['on'](_0x44ab35(0x3a1),_0x48bdb0=>{const _0x114236=_0x44ab35,_0x34ac7d={'wEIUX':function(_0x1f930a,_0x527227){const _0x24cf66=_0x20c4;return _0x500840[_0x24cf66(0x352)](_0x1f930a,_0x527227);}};if(!_0x48bdb0[_0x114236(0x32e)]()){_0x5cff63[_0x114236(0x218)]='';return;}const _0x44d5b8=_0x48bdb0[_0x114236(0x37a)]();let _0x296fbf='';Object[_0x114236(0x15a)](_0x44d5b8)[_0x114236(0x403)](([_0x2081bc,_0x589f28])=>{const _0x4a69f7=_0x114236;Array[_0x4a69f7(0x39b)](_0x589f28)&&_0x34ac7d[_0x4a69f7(0x2fd)](_0x589f28[_0x4a69f7(0x32d)],0x0)&&(_0x296fbf+=_0x4a69f7(0x377)+_0x2081bc+'\x20'+_0x589f28[_0x4a69f7(0x32d)]+_0x4a69f7(0x3e8));}),_0x5cff63[_0x114236(0x218)]=_0x296fbf;});if([_0x500840['mbEWe'],_0x500840[_0x44ab35(0x3c1)],_0x500840[_0x44ab35(0x3a8)]][_0x44ab35(0x310)](role)){let _0xf479cb=0x0;_0x30d3d5[_0x44ab35(0x39e)](_0x500840['GwGnz'],()=>{const _0x1028ac=_0x44ab35;_0xf479cb++,_0x500840['raKyz'](_0xf479cb,0x3)&&(_0x500840[_0x1028ac(0x3b7)](confirm,_0x1028ac(0x2f9))&&(db['ref'](_0x1028ac(0x261)+roomCode+'/messages/'+_0xcc9aa3)[_0x1028ac(0x411)](),_0x30d3d5[_0x1028ac(0x411)]())),_0x500840[_0x1028ac(0x1bb)](setTimeout,()=>_0xf479cb=0x0,0x5dc);});}const _0x22e1b1=document[_0x44ab35(0x16d)]('messages');_0x22e1b1[_0x44ab35(0x17c)](_0x30d3d5),_0x22e1b1[_0x44ab35(0x38c)]=_0x22e1b1['scrollHeight'];}function cleanupOldRooms(){const _0x5d6328=_0x4235f2,_0x2ba7f3={'XkpAs':function(_0x4d7a4e,_0x304ebb){return _0x4d7a4e!==_0x304ebb;},'XGIlH':function(_0x1409f7,_0x2a50c8){return _0x1409f7-_0x2a50c8;},'DgJkO':function(_0x23f424,_0x347dca){return _0x23f424*_0x347dca;},'aUKDN':_0x5d6328(0x261),'HSPav':'antispam','HWxBj':_0x5d6328(0x3a1),'aasIL':_0x5d6328(0x1cf),'XCvpt':_0x5d6328(0x307)};db[_0x5d6328(0x13a)](_0x2ba7f3['XCvpt'])[_0x5d6328(0x2e5)]('value')[_0x5d6328(0x3e7)](_0x27eba3=>{const _0x19290f=_0x5d6328,_0x39e029={'XoXaf':function(_0x1924f6,_0x393bb9){return _0x2ba7f3['XkpAs'](_0x1924f6,_0x393bb9);},'QPcpA':function(_0x257cf3,_0x1b067c){return _0x257cf3!==_0x1b067c;}},_0xc0dac4=_0x27eba3['val']();if(!_0xc0dac4)return;const _0x539ff9=Date[_0x19290f(0x148)]();for(const _0x151852 in _0xc0dac4){if(_0x151852===STATIC_ROOM)continue;const _0x224570=_0xc0dac4[_0x151852];_0x2ba7f3[_0x19290f(0x214)](_0x539ff9,_0x224570['created']||0x0)>_0x2ba7f3[_0x19290f(0x401)](0x2,0x3c)*0x3e8&&db[_0x19290f(0x13a)](_0x2ba7f3[_0x19290f(0x192)]+_0x151852)[_0x19290f(0x411)]();}db[_0x19290f(0x13a)](_0x2ba7f3['HSPav'])[_0x19290f(0x2e5)](_0x2ba7f3[_0x19290f(0x337)])[_0x19290f(0x3e7)](_0x1c1f13=>{const _0x52e0d8=_0x19290f,_0x34876b=_0x1c1f13['val']();if(!_0x34876b)return;for(const _0x5e2460 in _0x34876b){if(_0x39e029[_0x52e0d8(0x245)](_0x5e2460,STATIC_ROOM))db[_0x52e0d8(0x13a)](_0x52e0d8(0x316)+_0x5e2460)[_0x52e0d8(0x411)]();}}),db[_0x19290f(0x13a)](_0x2ba7f3[_0x19290f(0x1ff)])[_0x19290f(0x2e5)](_0x2ba7f3[_0x19290f(0x337)])[_0x19290f(0x3e7)](_0x3540ea=>{const _0x37be01=_0x19290f,_0x4af4c4=_0x3540ea[_0x37be01(0x37a)]();if(!_0x4af4c4)return;for(const _0x1831df in _0x4af4c4){if(_0x39e029[_0x37be01(0x1c4)](_0x1831df,STATIC_ROOM))db[_0x37be01(0x13a)](_0x37be01(0x135)+_0x1831df)[_0x37be01(0x411)]();}});});}function _0x20c4(_0x304a32,_0x3832c2){const _0x4125f8=_0x4125();return _0x20c4=function(_0x20c4a3,_0x298b79){_0x20c4a3=_0x20c4a3-0x11a;let _0x3880bb=_0x4125f8[_0x20c4a3];return _0x3880bb;},_0x20c4(_0x304a32,_0x3832c2);}document['addEventListener'](_0x4235f2(0x1a0),()=>{const _0x17b05e=_0x4235f2,_0x38ff70={'tNtKo':function(_0x7c2b99,_0x11d7c2){return _0x7c2b99===_0x11d7c2;},'hYDEt':_0x17b05e(0x14e),'saHCd':function(_0x337d8a){return _0x337d8a();},'sjUBf':_0x17b05e(0x2bf),'HhWRR':_0x17b05e(0x354)},_0x3ada24=document[_0x17b05e(0x16d)](_0x38ff70['sjUBf']);_0x3ada24&&_0x3ada24['addEventListener'](_0x38ff70[_0x17b05e(0x27a)],function(_0x199b4e){const _0x3b85c9=_0x17b05e;_0x38ff70['tNtKo'](_0x199b4e[_0x3b85c9(0x326)],_0x38ff70[_0x3b85c9(0x23a)])&&(_0x199b4e[_0x3b85c9(0x244)](),_0x38ff70[_0x3b85c9(0x18e)](sendMessage));});});function showScreen(_0x1dab0d){const _0xe2c93b=_0x4235f2,_0x8aa8db={'dNWAD':_0xe2c93b(0x343),'KrbzM':_0xe2c93b(0x266),'RHvaB':_0xe2c93b(0x176),'spOpT':_0xe2c93b(0x280),'aBtmF':'authScreen','uNxxt':_0xe2c93b(0x12c)};[_0x8aa8db[_0xe2c93b(0x215)],_0x8aa8db['KrbzM'],_0x8aa8db[_0xe2c93b(0x2ec)],_0xe2c93b(0x378),_0xe2c93b(0x2bc),_0x8aa8db['spOpT'],'profileViewer',_0x8aa8db[_0xe2c93b(0x24b)],'editProfileScreen']['forEach'](_0x172144=>{const _0x38c2ec=_0xe2c93b;document[_0x38c2ec(0x16d)](_0x172144)['style'][_0x38c2ec(0x274)]=_0x38c2ec(0x2ac);}),document[_0xe2c93b(0x16d)](_0x1dab0d)[_0xe2c93b(0x3fd)][_0xe2c93b(0x274)]=_0x8aa8db[_0xe2c93b(0x1bf)];}function genRoomCode(){const _0x49b544=_0x4235f2,_0x278d9f={'chyFx':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','qCHPM':_0x49b544(0x38d),'xPpXY':function(_0x7f5ad9,_0x5ea7f9){return _0x7f5ad9+_0x5ea7f9;},'WRYVw':function(_0x7d292,_0x57f8a3,_0x454f8d){return _0x7d292(_0x57f8a3,_0x454f8d);}},_0x3828e3=_0x278d9f[_0x49b544(0x37b)],_0x3c3a78=_0x278d9f[_0x49b544(0x171)],_0x352810=(_0x4e1281,_0x295cd1)=>Array[_0x49b544(0x2ff)]({'length':_0x295cd1},()=>_0x4e1281[Math[_0x49b544(0x2a4)](Math[_0x49b544(0x3d6)]()*_0x4e1281['length'])])['join']('');return _0x278d9f[_0x49b544(0x2f5)](_0x278d9f[_0x49b544(0x2f5)](_0x278d9f['WRYVw'](_0x352810,_0x3c3a78,0x3)+_0x278d9f[_0x49b544(0x11a)](_0x352810,_0x3828e3,0x3),_0x278d9f[_0x49b544(0x11a)](_0x352810,_0x3c3a78,0x2)),_0x352810(_0x3828e3,0x2));}function startInactivityTimer(){const _0x147bce=_0x4235f2,_0x35faa7={'lBnLB':function(_0x378763,_0x5c5916){return _0x378763-_0x5c5916;},'qWZmw':function(_0x4c6369,_0x4bc33a){return _0x4c6369*_0x4bc33a;},'hkwgf':function(_0x45a42b,_0x269939){return _0x45a42b!==_0x269939;},'oCMwy':'rooms/','SsTog':function(_0x4580c2,_0x33c7e3){return _0x4580c2(_0x33c7e3);},'aKDDV':'Session\x20expired.','nIatL':function(_0x1e968c,_0x205fbc,_0x4862a1){return _0x1e968c(_0x205fbc,_0x4862a1);}};_0x35faa7[_0x147bce(0x334)](setInterval,()=>{const _0x247946=_0x147bce;_0x35faa7[_0x247946(0x42d)](Date['now'](),lastActivity)>_0x35faa7[_0x247946(0x2e3)](_0x35faa7['qWZmw'](0x5,0x3c),0x3e8)&&_0x35faa7[_0x247946(0x180)](roomCode,STATIC_ROOM)&&(db[_0x247946(0x13a)](_0x35faa7[_0x247946(0x11b)]+roomCode)['update']({'active':![]}),_0x35faa7[_0x247946(0x2b0)](alert,_0x35faa7[_0x247946(0x2db)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0xe3fc2c=_0x4235f2,_0x12237d={'uxfvT':_0xe3fc2c(0x3f3),'Xmvdd':_0xe3fc2c(0x29e)};window[_0xe3fc2c(0x39e)](_0xe3fc2c(0x338),()=>{const _0x5e61ad=_0xe3fc2c,_0x442d02=document['getElementById'](_0x12237d[_0x5e61ad(0x2e8)]);_0x442d02?.[_0x5e61ad(0x286)][_0x5e61ad(0x219)](_0x12237d['Xmvdd'])&&_0x442d02[_0x5e61ad(0x286)]['remove'](_0x12237d[_0x5e61ad(0x3fe)]);});}function toggleSidebar(){const _0x55b080=_0x4235f2,_0x21866d={'tapPi':_0x55b080(0x3f3),'vrcsJ':'show'},_0x4bf8bf=document[_0x55b080(0x16d)](_0x21866d['tapPi']);if(!_0x4bf8bf[_0x55b080(0x286)][_0x55b080(0x219)]('show'))_0x4bf8bf[_0x55b080(0x286)]['add'](_0x21866d['vrcsJ']),history[_0x55b080(0x2dc)]({'sidebarOpen':!![]},'');else{_0x4bf8bf[_0x55b080(0x286)][_0x55b080(0x411)](_0x21866d['vrcsJ']);if(history[_0x55b080(0x1ea)]?.[_0x55b080(0x1fd)])history[_0x55b080(0x35b)]();}}function setupVisibilityAttention(){const _0x5114c8=_0x4235f2,_0x5e6285={'jeJKZ':_0x5114c8(0x271)};let _0x344cae=0x0,_0x48719f=document[_0x5114c8(0x308)];document[_0x5114c8(0x39e)](_0x5e6285[_0x5114c8(0x344)],()=>{const _0xf030bc=_0x5114c8;!document[_0xf030bc(0x234)]&&(document[_0xf030bc(0x308)]=_0x48719f,_0x344cae=0x0);}),window['flagPageAttention']=function(){const _0x4182d9=_0x5114c8;document['hidden']&&(_0x344cae++,document[_0x4182d9(0x308)]='('+_0x344cae+_0x4182d9(0x293)+_0x48719f);};}function tryEditProfile(){const _0x192057=_0x4235f2,_0x196a4d={'lqYwV':function(_0x5e53ce,_0x3e2781){return _0x5e53ce(_0x3e2781);},'GrUWm':_0x192057(0x223)};_0x196a4d[_0x192057(0x18b)](showScreen,_0x196a4d['GrUWm']);}async function submitEditProfile(){const _0xd801d0=_0x4235f2,_0x489541={'GnADc':_0xd801d0(0x18c),'cBqMB':'newPasswordInput','EiSti':'editBioInput','qaFAW':'editProfileError','JtRAP':_0xd801d0(0x402),'oXkFO':function(_0x377ff1,_0x244938){return _0x377ff1(_0x244938);},'DiTjV':_0xd801d0(0x1b0),'SexMJ':_0xd801d0(0x3a0),'TaGWi':'block','dDoni':function(_0xae7abc,_0x44fce3){return _0xae7abc!==_0x44fce3;},'ryKEd':function(_0x50ed03,_0x36ed5e){return _0x50ed03*_0x36ed5e;},'JGLYI':function(_0x3f2eb7,_0x380af6){return _0x3f2eb7*_0x380af6;},'HgOLj':function(_0x20e9ac,_0x453f85){return _0x20e9ac-_0x453f85;},'mdHci':_0xd801d0(0x1d2),'yxCmr':_0xd801d0(0x392)},_0xc808ed=document[_0xd801d0(0x16d)](_0x489541[_0xd801d0(0x125)])[_0xd801d0(0x3a1)],_0x21f167=document[_0xd801d0(0x16d)](_0x489541[_0xd801d0(0x406)])[_0xd801d0(0x3a1)],_0x5d0cb9=document[_0xd801d0(0x16d)](_0x489541['EiSti'])[_0xd801d0(0x3a1)][_0xd801d0(0x3cf)](),_0x3885ec=document[_0xd801d0(0x16d)](_0x489541[_0xd801d0(0x390)]);if(!_0xc808ed){_0x3885ec['innerText']=_0x489541['JtRAP'],_0x3885ec[_0xd801d0(0x3fd)]['display']=_0xd801d0(0x2e6);return;}const _0x50d672=_0x489541[_0xd801d0(0x167)](sanitizeUsername,username),_0x354d00=await db[_0xd801d0(0x13a)](_0xd801d0(0x3f6)+_0x50d672)[_0xd801d0(0x40f)]();if(!_0x354d00['exists']()){_0x3885ec['innerText']=_0x489541[_0xd801d0(0x141)],_0x3885ec[_0xd801d0(0x3fd)][_0xd801d0(0x274)]='block';return;}const _0x4440a9=_0x354d00[_0xd801d0(0x37a)](),_0x533514=await sha256(_0xc808ed);if(_0x533514!==_0x4440a9[_0xd801d0(0x1d6)]){_0x3885ec[_0xd801d0(0x1cb)]=_0x489541[_0xd801d0(0x288)],_0x3885ec[_0xd801d0(0x3fd)][_0xd801d0(0x274)]=_0x489541[_0xd801d0(0x405)];return;}const _0x4924eb={};if(_0x21f167){const _0x329697=await _0x489541[_0xd801d0(0x167)](sha256,_0x21f167);_0x4924eb['passwordHash']=_0x329697;}_0x489541[_0xd801d0(0x3a4)](_0x5d0cb9,_0x4440a9['description'])&&(_0x4924eb[_0xd801d0(0x178)]=_0x5d0cb9);const _0x58555f=Date['now'](),_0x15868a=_0x489541[_0xd801d0(0x3bd)](_0x489541[_0xd801d0(0x3bd)](_0x489541['JGLYI'](0x18,0x3c),0x3c),0x3e8),_0x2797bd=_0x489541[_0xd801d0(0x32a)](_0x58555f,_0x4440a9['lastChanged']||0x0)>_0x15868a;if(_0x2797bd&&_0x489541['oXkFO'](confirm,_0x489541[_0xd801d0(0x408)])){const _0x3ac923=_0x489541[_0xd801d0(0x167)](prompt,'Enter\x20your\x20new\x20username:');_0x3ac923&&_0x3ac923[_0xd801d0(0x3cf)]()&&(_0x4924eb['username']=_0x3ac923[_0xd801d0(0x3cf)](),_0x4924eb['usernameHistory']=(_0x4440a9[_0xd801d0(0x242)]||[])[_0xd801d0(0x31b)](_0x3ac923[_0xd801d0(0x3cf)]()),_0x4924eb['lastChanged']=_0x58555f);}_0x4924eb[_0xd801d0(0x37e)]&&_0x489541[_0xd801d0(0x3a4)](_0x4924eb[_0xd801d0(0x37e)],_0x4440a9[_0xd801d0(0x37e)])?(await db[_0xd801d0(0x13a)]('auth/'+_0x489541[_0xd801d0(0x167)](sanitizeUsername,_0x4924eb[_0xd801d0(0x37e)]))[_0xd801d0(0x395)]({..._0x4440a9,..._0x4924eb}),await db[_0xd801d0(0x13a)](_0xd801d0(0x3f6)+_0x50d672)['remove'](),username=_0x4924eb[_0xd801d0(0x37e)]):await db[_0xd801d0(0x13a)](_0xd801d0(0x3f6)+_0x50d672)[_0xd801d0(0x1f9)](_0x4924eb),alert(_0x489541[_0xd801d0(0x3c9)]),location['reload']();}function cancelEditProfile(){const _0x1208c9=_0x4235f2,_0x574981={'vBVsC':_0x1208c9(0x223),'RodIR':_0x1208c9(0x2ac),'LlgHh':function(_0x44bbbe,_0x4eb867){return _0x44bbbe(_0x4eb867);},'hXtCJ':'chatScreen'};document[_0x1208c9(0x16d)](_0x574981[_0x1208c9(0x38b)])[_0x1208c9(0x3fd)][_0x1208c9(0x274)]=_0x574981[_0x1208c9(0x204)],_0x574981[_0x1208c9(0x2f4)](showScreen,_0x574981[_0x1208c9(0x20b)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x1e9500=_0x4235f2,_0x1b35af={'WLOxp':function(_0x1fad70,_0x34abaa){return _0x1fad70(_0x34abaa);},'fHEmS':_0x1e9500(0x3a1)};db[_0x1e9500(0x13a)](_0x1e9500(0x3ae)+roomCode)['on'](_0x1b35af[_0x1e9500(0x2d1)],async _0x1c2b65=>{const _0x1b7f5c=_0x1e9500;if(!_0x1c2b65['exists']())return;const _0x5426e2=_0x1c2b65[_0x1b7f5c(0x37a)]();for(const _0x5b1d97 in previousUsers){if(!_0x5426e2[_0x5b1d97])_0x5426e2[_0x5b1d97]=previousUsers[_0x5b1d97];}_0x1b35af[_0x1b7f5c(0x31c)](renderUserLists,_0x5426e2),previousUsers=_0x5426e2,await loadRoomRoles(),renderUserLists(_0x5426e2);});}function trackPresence(){const _0x55538d=_0x4235f2,_0x1aaf67={'VrzoR':function(_0x4a6bd5){return _0x4a6bd5();},'elicl':_0x55538d(0x2d4),'XnUdF':function(_0x587a8d,_0x221ad2){return _0x587a8d(_0x221ad2);},'RQFqh':function(_0x418925,_0x32c12c){return _0x418925||_0x32c12c;},'THYju':'value'};if(!username||!roomCode)return;const _0x132fe9=_0x1aaf67[_0x55538d(0x323)](sanitizeUsername,username),_0x2fe051=db[_0x55538d(0x13a)](_0x55538d(0x3ae)+roomCode+'/'+_0x132fe9),_0x195ef0={'username':username,'avatarBase64':_0x1aaf67[_0x55538d(0x379)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x55538d(0x28b)][_0x55538d(0x23f)][_0x55538d(0x15f)]};_0x2fe051[_0x55538d(0x2e5)](_0x1aaf67['THYju'])[_0x55538d(0x3e7)](_0x3e9db4=>{const _0x127c21=_0x55538d,_0xef1906={'ERMLE':function(_0x544f1b){const _0x419ac3=_0x20c4;return _0x1aaf67[_0x419ac3(0x184)](_0x544f1b);},'zOfru':_0x1aaf67[_0x127c21(0x18a)]},_0x5a55f4=_0x3e9db4[_0x127c21(0x37a)]()?.['online'];_0x2fe051[_0x127c21(0x395)](_0x195ef0)['then'](()=>{const _0x330bb0=_0x127c21;_0xef1906['ERMLE'](updateOnlineIndicator);if(!_0x5a55f4){const _0x9f6afd=db['ref']()[_0x330bb0(0x3d4)]()['key'];db[_0x330bb0(0x13a)](_0x330bb0(0x261)+roomCode+'/messages/'+_0x9f6afd)['set']({'msg':username+_0x330bb0(0x221),'sender':_0xef1906[_0x330bb0(0x3ce)],'senderId':'system','timestamp':Date['now']()});}_0x2fe051[_0x330bb0(0x2b6)]()['update']({'online':![],'lastOnline':Date[_0x330bb0(0x148)]()});});});}function uploadSidebarAvatar(_0x353f27){const _0x13427a=_0x4235f2,_0xc1740a={'auKuy':_0x13427a(0x2c1),'Pnnwk':_0x13427a(0x2e6),'TAUHN':function(_0x4a33df,_0x4a5e59){return _0x4a33df(_0x4a5e59);},'ZOMHS':function(_0x12b577,_0x2f8c56){return _0x12b577(_0x2f8c56);},'yYtrf':function(_0x52bf86,_0x49e7fc){return _0x52bf86(_0x49e7fc);},'Iqxfl':_0x13427a(0x3a5)};if(!_0x353f27[_0x13427a(0x3b2)][_0x13427a(0x32d)])return;const _0x1a5f70=_0x353f27[_0x13427a(0x3b2)][0x0],_0x224e65=new FileReader();_0x224e65['onloadend']=async()=>{const _0x4eca03=_0x13427a,_0x1713eb=_0x224e65[_0x4eca03(0x3f2)][_0x4eca03(0x249)](',')[0x1];document[_0x4eca03(0x16d)](_0xc1740a['auKuy'])[_0x4eca03(0x3eb)]=_0x224e65[_0x4eca03(0x3f2)],document[_0x4eca03(0x16d)](_0x4eca03(0x2c1))[_0x4eca03(0x3fd)][_0x4eca03(0x274)]=_0xc1740a['Pnnwk'];try{const _0x518eaf=_0xc1740a[_0x4eca03(0x2c9)](sanitizeUsername,username);await db[_0x4eca03(0x13a)](_0x4eca03(0x3f6)+_0x518eaf+_0x4eca03(0x2a0))[_0x4eca03(0x395)](_0x1713eb),_0xc1740a[_0x4eca03(0x26b)](alert,_0x4eca03(0x24e));}catch(_0x56b2a8){console[_0x4eca03(0x391)](_0x56b2a8),_0xc1740a['yYtrf'](alert,_0xc1740a[_0x4eca03(0x2f6)]);}},_0x224e65[_0x13427a(0x423)](_0x1a5f70);}function muteUser(_0x38da04,_0x1069d7){const _0x43f688=_0x4235f2,_0x3ac323={'PJYKQ':function(_0x5ae580,_0x2f453e){return _0x5ae580(_0x2f453e);},'RyzPh':function(_0x2eca72,_0x5ca54a){return _0x2eca72+_0x5ca54a;},'sRpjI':function(_0x1b0d71,_0x13a230){return _0x1b0d71*_0x13a230;},'rGXeE':function(_0x3ddc78,_0x1b60d3){return _0x3ddc78(_0x1b60d3);}},_0x1cdefa=_0x3ac323[_0x43f688(0x422)](Date['now'](),_0x3ac323[_0x43f688(0x2f0)](_0x3ac323[_0x43f688(0x2f0)](_0x1069d7,0x3c),0x3e8));db['ref'](_0x43f688(0x1c3)+roomCode+'/'+_0x3ac323[_0x43f688(0x3dd)](sanitizeUsername,_0x38da04))[_0x43f688(0x395)]({'muteUntil':_0x1cdefa})[_0x43f688(0x3e7)](()=>{const _0x4b1fce=_0x43f688;alert(_0x38da04+_0x4b1fce(0x3d9)+_0x1069d7+'\x20minutes.'),_0x3ac323[_0x4b1fce(0x3ef)](addSystemMessage,_0x38da04+_0x4b1fce(0x415)+_0x1069d7+_0x4b1fce(0x268));});}function unmuteUser(_0x50690f){const _0x189f67=_0x4235f2,_0x5bc241={'ErMPJ':function(_0x144f3e,_0x792016){return _0x144f3e(_0x792016);},'QjnXq':_0x189f67(0x1f0),'quSxX':function(_0x2503bd,_0x2e7085){return _0x2503bd(_0x2e7085);}};if(!isRoomAdmin)return _0x5bc241[_0x189f67(0x1ad)](alert,_0x5bc241[_0x189f67(0x1db)]);db['ref'](_0x189f67(0x1c3)+roomCode+'/'+_0x5bc241[_0x189f67(0x1d4)](sanitizeUsername,_0x50690f))[_0x189f67(0x411)]();}function updateOnlineIndicator(){const _0x890a65=_0x4235f2,_0x1203e1={'tOjVR':'onlineStatus','YzLZi':_0x890a65(0x2e4)},_0x4bb3b8=document[_0x890a65(0x16d)](_0x1203e1[_0x890a65(0x1cc)]);_0x4bb3b8[_0x890a65(0x1cb)]=_0x890a65(0x2f3),_0x4bb3b8[_0x890a65(0x3fd)][_0x890a65(0x26c)]=_0x1203e1[_0x890a65(0x17b)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x484d49){const _0x6a99c0=_0x4235f2,_0x592ecc={'Pkgsq':function(_0x24a5db,_0x233116){return _0x24a5db(_0x233116);},'fQfCc':_0x6a99c0(0x1b0),'ZlKkZ':_0x6a99c0(0x34d),'ayKQL':_0x6a99c0(0x147),'zryYM':_0x6a99c0(0x2a6)};db[_0x6a99c0(0x13a)](_0x6a99c0(0x3f6)+_0x484d49)[_0x6a99c0(0x40f)]()[_0x6a99c0(0x3e7)](_0x29dc6a=>{const _0x57b4a5=_0x6a99c0;if(!_0x29dc6a[_0x57b4a5(0x32e)]())return _0x592ecc[_0x57b4a5(0x21c)](alert,_0x592ecc[_0x57b4a5(0x2e7)]);const _0xd57979=_0x29dc6a['val'](),_0x585c1f=('\x0aName:\x20'+_0xd57979[_0x57b4a5(0x37e)]+_0x57b4a5(0x20a)+(_0xd57979[_0x57b4a5(0x178)]||_0x57b4a5(0x2c8))+_0x57b4a5(0x226)+((_0xd57979['usernameHistory']||[])['join'](',\x20')||_0x57b4a5(0x254))+_0x57b4a5(0x301)+(_0xd57979[_0x57b4a5(0x31f)]?new Date(_0xd57979[_0x57b4a5(0x31f)])['toLocaleString']():_0x592ecc['ZlKkZ'])+_0x57b4a5(0x28d))[_0x57b4a5(0x3cf)]();document[_0x57b4a5(0x16d)](_0x592ecc[_0x57b4a5(0x29d)])[_0x57b4a5(0x1cb)]=_0x585c1f,document[_0x57b4a5(0x16d)](_0x592ecc[_0x57b4a5(0x306)])[_0x57b4a5(0x3fd)]['display']='block';});}function initUsernameFlow(){const _0x459a61=_0x4235f2,_0x1643e8={'HTVMw':_0x459a61(0x25d),'UNBhN':function(_0x276ad6,_0x426232){return _0x276ad6(_0x426232);},'nXLhk':_0x459a61(0x280),'jLpOa':_0x459a61(0x399),'zEgBV':_0x459a61(0x266)},_0x1dd8d3=localStorage[_0x459a61(0x24a)](_0x1643e8[_0x459a61(0x3d5)]);!_0x1dd8d3?_0x1643e8[_0x459a61(0x11c)](showScreen,_0x1643e8[_0x459a61(0x3b9)]):(username=_0x1dd8d3,document['getElementById'](_0x1643e8['jLpOa'])[_0x459a61(0x1cb)]=username,_0x1643e8['UNBhN'](showScreen,_0x1643e8[_0x459a61(0x360)]));}function closeProfile(){const _0x435a4e=_0x4235f2;document[_0x435a4e(0x16d)]('profileViewer')[_0x435a4e(0x3fd)][_0x435a4e(0x274)]=_0x435a4e(0x2ac);}function resetWebsiteData(){const _0x25fc76=_0x4235f2,_0x1905fd={'pgvfm':_0x25fc76(0x35f),'zxJdk':function(_0x76c537,_0x46d4ec){return _0x76c537||_0x46d4ec;},'pwIZk':'2|4|3|0|1'};try{const _0x2b2ecf=localStorage['getItem'](_0x1905fd[_0x25fc76(0x222)]);localStorage[_0x25fc76(0x22c)](),sessionStorage[_0x25fc76(0x22c)](),_0x2b2ecf&&localStorage['setItem'](_0x1905fd[_0x25fc76(0x222)],_0x2b2ecf);}catch(_0x1d914a){}if(_0x1905fd[_0x25fc76(0x3bc)](!username,!roomCode)){const _0x211c23=_0x1905fd[_0x25fc76(0x3a9)][_0x25fc76(0x249)]('|');let _0x40850b=0x0;while(!![]){switch(_0x211c23[_0x40850b++]){case'0':pendingMessages=[];continue;case'1':clientId='_'+Math[_0x25fc76(0x3d6)]()['toString'](0x24)[_0x25fc76(0x2ee)](0x2,0x9);continue;case'2':username=null;continue;case'3':isRoomAdmin=![];continue;case'4':roomCode=null;continue;}break;}}}function addAnnouncement(){const _0x37f471=_0x4235f2,_0x4169c3={'yZSMc':function(_0x2d4c5b,_0x69782){return _0x2d4c5b(_0x69782);}},_0x2324c2=_0x4169c3[_0x37f471(0x193)](prompt,_0x37f471(0x2af));if(!_0x2324c2)return;db[_0x37f471(0x13a)](_0x37f471(0x261)+roomCode+_0x37f471(0x3c4))[_0x37f471(0x395)]({'text':_0x2324c2,'by':username,'timestamp':Date[_0x37f471(0x148)]()});}function listenForAnnouncement(){const _0x58b02b=_0x4235f2,_0x31af88={'ZlCqC':_0x58b02b(0x1b8),'eRIiU':_0x58b02b(0x3a1)},_0x12d876=db[_0x58b02b(0x13a)](_0x58b02b(0x261)+roomCode+'/announcement');_0x12d876['on'](_0x31af88[_0x58b02b(0x252)],_0x51a470=>{const _0x285098=_0x58b02b,_0x62f1c7=_0x51a470[_0x285098(0x37a)]();if(!_0x62f1c7){document[_0x285098(0x16d)](_0x31af88[_0x285098(0x13d)])[_0x285098(0x1cb)]='';return;}const _0x47733f=document[_0x285098(0x16d)](_0x31af88['ZlCqC']);_0x47733f[_0x285098(0x1cb)]=''+_0x62f1c7[_0x285098(0x3fb)];});}document[_0x4235f2(0x16d)]('announcementArea')[_0x4235f2(0x39e)](_0x4235f2(0x3b5),_0x2d96a7=>{const _0x475b3d=_0x4235f2,_0x162a4a={'AVttJ':function(_0x4da9e5,_0x5276f8){return _0x4da9e5===_0x5276f8;},'izMTP':_0x475b3d(0x331)};_0x162a4a[_0x475b3d(0x139)](_0x2d96a7[_0x475b3d(0x134)],0x3)&&isRoomAdmin&&(confirm(_0x162a4a[_0x475b3d(0x13e)])&&db['ref']('rooms/'+roomCode+_0x475b3d(0x3c4))[_0x475b3d(0x411)]());}),document[_0x4235f2(0x16d)](_0x4235f2(0x2bf))[_0x4235f2(0x39e)](_0x4235f2(0x33d),()=>{const _0x16ffcc=_0x4235f2,_0xd76e99={'LMURO':'2px\x20solid\x20red'},_0x3e3f4b=document['getElementById']('msgInput');_0x123866?_0x3e3f4b[_0x16ffcc(0x3fd)]['border']='2px\x20solid\x20red':_0x3e3f4b['style'][_0x16ffcc(0x210)]='';const _0x1c5bbe=_0x3e3f4b[_0x16ffcc(0x3a1)][_0x16ffcc(0x247)](),_0x123866=swearWords['some'](_0x2cd768=>_0x1c5bbe['includes'](_0x2cd768));_0x123866?(_0x3e3f4b[_0x16ffcc(0x3fd)][_0x16ffcc(0x210)]=_0xd76e99[_0x16ffcc(0x1e0)],sendBtn[_0x16ffcc(0x428)]=!![]):(_0x3e3f4b[_0x16ffcc(0x3fd)][_0x16ffcc(0x210)]='',_0x123866?_0x3e3f4b['style'][_0x16ffcc(0x210)]=_0xd76e99['LMURO']:_0x3e3f4b[_0x16ffcc(0x3fd)][_0x16ffcc(0x210)]='');});function muteUser(_0x4e24f4,_0x1b139a){const _0x2d79fc=_0x4235f2,_0x46edc4={'qYAyM':function(_0x2f0f44,_0x14ff0d){return _0x2f0f44(_0x14ff0d);},'uqYJO':function(_0x37fb9f,_0x342c96){return _0x37fb9f+_0x342c96;},'UWcwL':function(_0x5c3dad,_0x19cd9c){return _0x5c3dad*_0x19cd9c;},'bFEga':function(_0x133fb6,_0x2ad029){return _0x133fb6*_0x2ad029;},'OLcqt':function(_0x204a2c,_0x24b84a){return _0x204a2c(_0x24b84a);}},_0x3033d3=_0x46edc4[_0x2d79fc(0x1a4)](Date['now'](),_0x46edc4[_0x2d79fc(0x350)](_0x46edc4['bFEga'](_0x1b139a,0x3c),0x3e8));db[_0x2d79fc(0x13a)](_0x2d79fc(0x1c3)+roomCode+'/'+_0x46edc4['OLcqt'](sanitizeUsername,_0x4e24f4))['set']({'muteUntil':_0x3033d3})[_0x2d79fc(0x3e7)](()=>{const _0x1187ea=_0x2d79fc;_0x46edc4[_0x1187ea(0x303)](alert,_0x4e24f4+_0x1187ea(0x3d9)+_0x1b139a+_0x1187ea(0x1ac));});}function deleteUserMessages(_0x1e81ad){const _0x2b2d1d=_0x4235f2;db[_0x2b2d1d(0x13a)]('rooms/'+roomCode+'/messages')[_0x2b2d1d(0x1a7)](_0x2b2d1d(0x11d))[_0x2b2d1d(0x2bb)](_0x1e81ad)['get']()['then'](_0x1ad1f2=>{const _0x1f1d57=_0x2b2d1d;_0x1ad1f2[_0x1f1d57(0x403)](_0x552ffe=>{const _0x168a75=_0x1f1d57;db['ref'](_0x168a75(0x261)+roomCode+_0x168a75(0x217)+_0x552ffe['key'])['remove']();}),alert(_0x1f1d57(0x3e9)+_0x1e81ad+_0x1f1d57(0x312));});}function pauseRoom(_0x3695d3){const _0x1b0cff=_0x4235f2,_0x48152f={'nfUIx':_0x1b0cff(0x25a),'ZGSOH':_0x1b0cff(0x2e6),'nZuER':_0x1b0cff(0x2ac),'fLEpZ':_0x1b0cff(0x3a1)};db[_0x1b0cff(0x13a)](_0x1b0cff(0x261)+roomCode+_0x1b0cff(0x1f6))['on'](_0x48152f['fLEpZ'],_0x10b242=>{const _0x85c29a=_0x1b0cff,_0x1886ef=_0x10b242[_0x85c29a(0x37a)]();document['getElementById'](_0x48152f[_0x85c29a(0x35d)])[_0x85c29a(0x3fd)][_0x85c29a(0x274)]=_0x1886ef?_0x48152f[_0x85c29a(0x3dc)]:_0x48152f[_0x85c29a(0x2b1)];});}function canPerformAction(_0x4701a7){const _0x2bbf15=_0x4235f2,_0xd0c005={'NWUwE':function(_0x165510,_0x19aaa0){return _0x165510===_0x19aaa0;},'hbziA':'mute','uNuBn':'admin','zMFhD':_0x2bbf15(0x246),'tnReR':function(_0x154a38,_0x31269f){return _0x154a38===_0x31269f;},'QuXrI':_0x2bbf15(0x188),'Dslea':_0x2bbf15(0x3b0),'NuNSw':_0x2bbf15(0x32f),'qHWvO':function(_0x2d51ce,_0x2bee01){return _0x2d51ce===_0x2bee01;}},_0x5ce775=_0x2bbf15(0x287)[_0x2bbf15(0x249)]('|');let _0x5bbdef=0x0;while(!![]){switch(_0x5ce775[_0x5bbdef++]){case'0':if(_0xd0c005[_0x2bbf15(0x386)](_0x4701a7,_0xd0c005['hbziA']))return role===_0xd0c005[_0x2bbf15(0x1f4)]||role===_0xd0c005[_0x2bbf15(0x21a)]||_0xd0c005[_0x2bbf15(0x128)](role,_0xd0c005['QuXrI']);continue;case'1':if(_0xd0c005[_0x2bbf15(0x128)](_0x4701a7,_0xd0c005[_0x2bbf15(0x142)]))return role===_0xd0c005[_0x2bbf15(0x1f4)];continue;case'2':if(_0xd0c005['NWUwE'](role,_0xd0c005[_0x2bbf15(0x365)]))return!![];continue;case'3':if(_0xd0c005[_0x2bbf15(0x386)](_0x4701a7,_0x2bbf15(0x292))||_0x4701a7===_0xd0c005[_0x2bbf15(0x142)])return _0xd0c005['qHWvO'](role,_0xd0c005['uNuBn']);continue;case'4':return![];}break;}}const html=Object[_0x4235f2(0x317)](roomUsers)['map'](_0x310b1c=>{const _0x59473e=_0x4235f2,_0x3ee873={'vOTsl':function(_0x599220,_0x3721a7){return _0x599220(_0x3721a7);},'LLFZS':function(_0x288c3d,_0x6958fc){return _0x288c3d!==_0x6958fc;},'uWBAK':function(_0x3d757d,_0xbfa184){return _0x3d757d(_0xbfa184);},'lQjpc':'deleteMessage','mlENe':function(_0x1713dd,_0x5e2b01){return _0x1713dd===_0x5e2b01;}},_0x59353d=_0x3ee873['vOTsl'](sanitizeUsername,_0x310b1c[_0x59473e(0x37e)]),_0x169c87=[];if(_0x3ee873[_0x59473e(0x225)](_0x59353d,_0x3ee873[_0x59473e(0x3b8)](sanitizeUsername,username))){_0x3ee873[_0x59473e(0x3b8)](canPerformAction,_0x59473e(0x1e3))&&(_0x169c87[_0x59473e(0x3d4)](_0x59473e(0x430)+_0x59353d+_0x59473e(0x335)),_0x169c87['push']('<button\x20onclick=\x22muteUser(\x27'+_0x59353d+_0x59473e(0x12d)));_0x3ee873['vOTsl'](canPerformAction,_0x3ee873[_0x59473e(0x158)])&&_0x169c87[_0x59473e(0x3d4)](_0x59473e(0x154)+_0x59353d+_0x59473e(0x330));if(_0x3ee873[_0x59473e(0x34b)](role,_0x59473e(0x32f)))_0x169c87[_0x59473e(0x3d4)](_0x59473e(0x14a)+_0x59353d+_0x59473e(0x1d7)),_0x169c87[_0x59473e(0x3d4)](_0x59473e(0x1c1)+_0x59353d+_0x59473e(0x419));else role===_0x59473e(0x124)&&_0x169c87[_0x59473e(0x3d4)](_0x59473e(0x14a)+_0x59353d+_0x59473e(0x1d7));}return _0x59473e(0x3af)+_0x310b1c[_0x59473e(0x37e)]+'\x20'+_0x3ee873['uWBAK'](getRoleTag,_0x3ee873[_0x59473e(0x2ba)](sanitizeUsername,_0x310b1c[_0x59473e(0x37e)]))+_0x59473e(0x36a)+_0x59353d+_0x59473e(0x363)+_0x169c87[_0x59473e(0x2a1)]('')+_0x59473e(0x284)+_0x59353d+_0x59473e(0x24f);})['join']('');function promoteToModerator(_0xf8dcc3){const _0x7c9d62=_0x4235f2,_0x5ee9e2={'AfIzc':function(_0xf1c0a7,_0x65ae8f){return _0xf1c0a7(_0x65ae8f);},'doFsX':function(_0x207443,_0x1ed4d3){return _0x207443(_0x1ed4d3);},'FMgnQ':function(_0x25eb41,_0x2a4ccc){return _0x25eb41(_0x2a4ccc);},'ePWhX':function(_0x4e6425,_0x547285){return _0x4e6425(_0x547285);},'aievY':function(_0x262142,_0x5f286e){return _0x262142!==_0x5f286e;},'VBtzJ':_0x7c9d62(0x32f),'ZcuUB':function(_0x5d6a9d,_0x596dcf){return _0x5d6a9d!==_0x596dcf;},'qFCOX':_0x7c9d62(0x124),'sLqyk':function(_0x3abcca,_0x33e20f){return _0x3abcca(_0x33e20f);}},_0xcedd7d=_0x5ee9e2[_0x7c9d62(0x327)](sanitizeUsername,_0xf8dcc3);if(_0x5ee9e2['FMgnQ'](isProtected,_0xcedd7d))return _0x5ee9e2[_0x7c9d62(0x169)](alert,'🚫\x20Cannot\x20promote\x20Developers.');if(_0x5ee9e2['aievY'](role,_0x5ee9e2['VBtzJ'])&&_0x5ee9e2['ZcuUB'](role,_0x5ee9e2[_0x7c9d62(0x263)])){_0x5ee9e2[_0x7c9d62(0x362)](alert,_0x7c9d62(0x2eb));return;}db[_0x7c9d62(0x13a)](_0x7c9d62(0x129)+roomCode+'/'+_0xcedd7d)['set'](!![])[_0x7c9d62(0x3e7)](()=>{const _0x14c16d=_0x7c9d62;_0x5ee9e2[_0x14c16d(0x41a)](alert,_0xf8dcc3+_0x14c16d(0x163)),_0x5ee9e2[_0x14c16d(0x41a)](addSystemMessage,_0xf8dcc3+_0x14c16d(0x2ca));});}function promoteToAdmin(_0xf33817){const _0x109bc8=_0x4235f2,_0x33c465={'HnbGo':function(_0x142ac4,_0x14696f){return _0x142ac4(_0x14696f);},'sYCEs':function(_0x340da9,_0x429314){return _0x340da9(_0x429314);},'nzHBt':function(_0x19ad66,_0xc5154a){return _0x19ad66(_0xc5154a);},'MWnAX':'🚫\x20Cannot\x20promote\x20Developers.','SuJhh':function(_0x52dd13,_0xe5f1ab){return _0x52dd13!==_0xe5f1ab;},'smOBY':_0x109bc8(0x32f),'aQOWk':function(_0x1cac46,_0x2fd6fb){return _0x1cac46(_0x2fd6fb);},'lLMxg':_0x109bc8(0x194)},_0x3084e5=_0x33c465[_0x109bc8(0x1a1)](sanitizeUsername,_0xf33817);if(_0x33c465[_0x109bc8(0x2d7)](isProtected,_0x3084e5))return alert(_0x33c465['MWnAX']);if(_0x33c465[_0x109bc8(0x407)](role,_0x33c465[_0x109bc8(0x15b)])){_0x33c465[_0x109bc8(0x133)](alert,_0x33c465[_0x109bc8(0x20c)]);return;}db[_0x109bc8(0x13a)]('admins/'+roomCode+'/'+_0x3084e5)[_0x109bc8(0x395)](!![])['then'](()=>{const _0x1267e1=_0x109bc8;_0x33c465['HnbGo'](alert,_0xf33817+_0x1267e1(0x349)),_0x33c465['sYCEs'](addSystemMessage,_0xf33817+_0x1267e1(0x1b9));});}function toggleUserOptions(_0x4a18f9){const _0xacecbd=_0x4235f2,_0x12ba4d={'IvqYO':function(_0xfbd1a7,_0x217562){return _0xfbd1a7===_0x217562;},'AOaMQ':_0xacecbd(0x124),'blhXn':_0xacecbd(0x2ac)};(role===_0xacecbd(0x32f)||_0x12ba4d[_0xacecbd(0x265)](role,_0x12ba4d[_0xacecbd(0x41b)]))&&controls['push'](_0xacecbd(0x3ab)+safeName+_0xacecbd(0x170));const _0x390ea7=document[_0xacecbd(0x16d)](_0xacecbd(0x143)+_0x4a18f9);_0x12ba4d[_0xacecbd(0x265)](_0x390ea7[_0xacecbd(0x3fd)][_0xacecbd(0x274)],_0x12ba4d['blhXn'])?_0x390ea7[_0xacecbd(0x3fd)]['display']=_0xacecbd(0x2e6):_0x390ea7[_0xacecbd(0x3fd)][_0xacecbd(0x274)]=_0x12ba4d[_0xacecbd(0x195)];}function demoteUser(_0x2eaccf){const _0x15c1d5=_0x4235f2,_0x3052aa={'jlGGP':function(_0x477329,_0x36eab6){return _0x477329(_0x36eab6);},'hilYF':function(_0x4324cb,_0x34f350){return _0x4324cb(_0x34f350);},'Peuxy':function(_0x5731d5,_0x414ca3){return _0x5731d5===_0x414ca3;},'OgopT':_0x15c1d5(0x124),'oNGma':function(_0x139455,_0x44bc9e){return _0x139455(_0x44bc9e);},'ozpaz':_0x15c1d5(0x207)};if(isProtected(_0x2eaccf))return _0x3052aa[_0x15c1d5(0x39d)](alert,_0x15c1d5(0x2b4));if(role==='dev')db[_0x15c1d5(0x13a)](_0x15c1d5(0x3bb)+roomCode+'/'+_0x2eaccf)['remove'](),db[_0x15c1d5(0x13a)](_0x15c1d5(0x129)+roomCode+'/'+_0x2eaccf)[_0x15c1d5(0x411)](),_0x3052aa[_0x15c1d5(0x276)](alert,_0x2eaccf+_0x15c1d5(0x232)),_0x3052aa[_0x15c1d5(0x39d)](addSystemMessage,_0x2eaccf+'\x20was\x20demoted');else _0x3052aa[_0x15c1d5(0x1da)](role,_0x3052aa[_0x15c1d5(0x30a)])?(db[_0x15c1d5(0x13a)](_0x15c1d5(0x129)+roomCode+'/'+_0x2eaccf)[_0x15c1d5(0x411)](),_0x3052aa['oNGma'](alert,_0x2eaccf+_0x15c1d5(0x232)),_0x3052aa[_0x15c1d5(0x276)](addSystemMessage,_0x2eaccf+'\x20was\x20demoted')):_0x3052aa[_0x15c1d5(0x276)](alert,_0x3052aa['ozpaz']);}function getRoleTag(_0x23417e){const _0x36a11c=_0x4235f2,_0x670d08={'omomC':function(_0x5adb45,_0x449724){return _0x5adb45(_0x449724);}},_0x23dda8=_0x670d08['omomC'](sanitizeUsername,_0x23417e);if(globalDevs[_0x36a11c(0x310)](_0x23dda8))return _0x36a11c(0x361);if(roomAdmins[_0x36a11c(0x310)](_0x23dda8))return _0x36a11c(0x2df);if(roomModerators['includes'](_0x23dda8))return _0x36a11c(0x358);return'';}async function loadRoomRoles(){const _0x4fec0f=_0x4235f2,_0x2a1cb4={'BZndw':function(_0x1c555f,_0x5c0e80){return _0x1c555f===_0x5c0e80;},'xCnaM':_0x4fec0f(0x32f),'lHhsQ':function(_0x454789,_0x3db9d2){return _0x454789(_0x3db9d2);},'jfxqX':_0x4fec0f(0x185),'UYAQN':'admin','fhTgq':_0x4fec0f(0x246),'qGNLC':_0x4fec0f(0x198)},_0xa4936=_0x2a1cb4['lHhsQ'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x2a01ff=await db[_0x4fec0f(0x13a)](_0x2a1cb4[_0x4fec0f(0x432)])[_0x4fec0f(0x40f)]();_0x2a01ff['forEach'](_0x257a1b=>{const _0x23e958=_0x4fec0f;if(_0x2a1cb4['BZndw'](_0x257a1b['val']()[_0x23e958(0x2ad)],_0x2a1cb4[_0x23e958(0x3cb)]))globalDevs[_0x23e958(0x3d4)](_0x257a1b[_0x23e958(0x326)]);});const _0x43c7a5=await db[_0x4fec0f(0x13a)](_0x4fec0f(0x3bb)+roomCode)[_0x4fec0f(0x40f)]();_0x43c7a5[_0x4fec0f(0x32e)]()&&_0x43c7a5['forEach'](_0x89837f=>roomAdmins[_0x4fec0f(0x3d4)](_0x89837f[_0x4fec0f(0x326)]));const _0x35de6e=await db['ref']('moderators/'+roomCode)['get']();_0x35de6e[_0x4fec0f(0x32e)]()&&_0x35de6e['forEach'](_0x58893b=>roomModerators[_0x4fec0f(0x3d4)](_0x58893b['key']));if(globalDevs[_0x4fec0f(0x310)](_0xa4936))role=_0x4fec0f(0x32f);else{if(roomAdmins['includes'](_0xa4936))role=_0x2a1cb4[_0x4fec0f(0x297)];else roomModerators[_0x4fec0f(0x310)](_0xa4936)?role=_0x2a1cb4['fhTgq']:role=_0x2a1cb4[_0x4fec0f(0x262)];}}async function renderUserLists(_0x282b49){const _0xe3bfd7=_0x4235f2,_0x2b8fe8={'pBQVV':function(_0x3831e2,_0x3e4485){return _0x3831e2(_0x3e4485);},'jxfiN':_0xe3bfd7(0x246),'oywEI':'admin','FyexK':_0xe3bfd7(0x32f),'LmnlV':function(_0x439f9a,_0x39013a){return _0x439f9a===_0x39013a;},'NLAte':'mod','AdYFN':_0xe3bfd7(0x1fc),'rAodx':_0xe3bfd7(0x2e6),'ortoF':_0xe3bfd7(0x39a),'VzoDt':_0xe3bfd7(0x191)};roomUsers=_0x282b49;const _0x5b4777=_0x2b8fe8['pBQVV'](sanitizeUsername,username),_0x56d7eb=[_0x2b8fe8[_0xe3bfd7(0x231)],_0xe3bfd7(0x124),_0x2b8fe8[_0xe3bfd7(0x35c)],_0x2b8fe8[_0xe3bfd7(0x174)]][_0xe3bfd7(0x310)](role);document['getElementById'](_0x2b8fe8['AdYFN'])[_0xe3bfd7(0x3fd)][_0xe3bfd7(0x274)]=_0x56d7eb?_0x2b8fe8[_0xe3bfd7(0x311)]:_0xe3bfd7(0x2ac);const _0x4cc140=Object['entries'](_0x282b49)[_0xe3bfd7(0x1c2)](async([_0x3047f1,_0x3d79e5])=>{const _0x4e9eef=_0xe3bfd7,_0x363e7b=_0x2b8fe8['pBQVV'](sanitizeUsername,_0x3d79e5['username']||_0x3047f1),_0x20cbb8=await _0x2b8fe8[_0x4e9eef(0x1e9)](fetchAvatar,_0x363e7b),_0x41599a=_0x20cbb8?_0x4e9eef(0x248)+_0x20cbb8+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x65536f=_0x3d79e5[_0x4e9eef(0x1d5)]?_0x4e9eef(0x25f):_0x4e9eef(0x13b);return _0x4e9eef(0x1ed)+_0x41599a+'\x20'+_0x65536f+_0x4e9eef(0x356)+_0x363e7b+_0x4e9eef(0x431)+(_0x3d79e5['username']||_0x3047f1)+'</span>\x20'+_0x2b8fe8['pBQVV'](getRoleTag,_0x363e7b)+_0x4e9eef(0x30f);});document[_0xe3bfd7(0x16d)](_0x2b8fe8[_0xe3bfd7(0x20d)])['innerHTML']=(await Promise[_0xe3bfd7(0x200)](_0x4cc140))['join']('');if(!_0x56d7eb)return;const _0x2053f0=Object['entries'](_0x282b49)[_0xe3bfd7(0x1c2)](async([_0x5c923f,_0x592d1b])=>{const _0x25ee00=_0xe3bfd7,_0x42151c=sanitizeUsername(_0x592d1b[_0x25ee00(0x37e)]||_0x5c923f);if(_0x42151c===_0x5b4777)return'';const _0x5d165f=globalDevs[_0x25ee00(0x310)](_0x42151c),_0x73069c=await _0x2b8fe8[_0x25ee00(0x1e9)](fetchAvatar,_0x42151c),_0x3ebc7c=_0x73069c?'<img\x20src=\x22data:image/png;base64,'+_0x73069c+_0x25ee00(0x17f):'',_0x3e5735=_0x592d1b[_0x25ee00(0x1d5)]?_0x25ee00(0x25f):_0x25ee00(0x13b),_0x270716=[];if(!_0x5d165f){[_0x25ee00(0x188),_0x2b8fe8[_0x25ee00(0x35c)],_0x2b8fe8[_0x25ee00(0x320)],_0x2b8fe8[_0x25ee00(0x231)]][_0x25ee00(0x310)](role)&&(_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x430)+_0x42151c+_0x25ee00(0x2c5)),_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x430)+_0x42151c+_0x25ee00(0x335)),_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x430)+_0x42151c+_0x25ee00(0x12d)));if(_0x2b8fe8[_0x25ee00(0x29b)](role,_0x2b8fe8[_0x25ee00(0x231)]))_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x14a)+_0x42151c+'\x27)\x22>+Mod</button>'),_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x1c1)+_0x42151c+_0x25ee00(0x251)),_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x3ab)+_0x42151c+_0x25ee00(0x170));else _0x2b8fe8[_0x25ee00(0x29b)](role,_0x25ee00(0x124))&&(_0x270716[_0x25ee00(0x3d4)](_0x25ee00(0x14a)+_0x42151c+_0x25ee00(0x11f)),_0x270716['push']('<button\x20onclick=\x22demoteUser(\x27'+_0x42151c+_0x25ee00(0x170)));}return _0x25ee00(0x29f)+_0x3ebc7c+'\x20'+_0x3e5735+_0x25ee00(0x1a3)+(_0x592d1b['username']||_0x5c923f)+'\x20'+getRoleTag(_0x42151c)+_0x25ee00(0x16a)+_0x270716[_0x25ee00(0x2a1)]('\x20')+_0x25ee00(0x1b7);});document[_0xe3bfd7(0x16d)](_0x2b8fe8[_0xe3bfd7(0x3e1)])[_0xe3bfd7(0x218)]=(await Promise[_0xe3bfd7(0x200)](_0x2053f0))[_0xe3bfd7(0x2a1)]('');}function updateAnnouncementVisibility(){const _0x5646df=_0x4235f2,_0x4da6e2={'WATxZ':_0x5646df(0x41f),'EioBv':_0x5646df(0x124),'qBPfX':function(_0x387b56,_0x268064){return _0x387b56===_0x268064;},'gNVMx':_0x5646df(0x32f),'kbihJ':_0x5646df(0x2e6),'VbwRs':_0x5646df(0x2ac)},_0xa5dd23=document[_0x5646df(0x16d)](_0x4da6e2[_0x5646df(0x22a)]);role===_0x4da6e2[_0x5646df(0x1e1)]||_0x4da6e2[_0x5646df(0x40d)](role,_0x4da6e2[_0x5646df(0x336)])?_0xa5dd23['style'][_0x5646df(0x274)]=_0x4da6e2[_0x5646df(0x260)]:_0xa5dd23[_0x5646df(0x3fd)][_0x5646df(0x274)]=_0x4da6e2[_0x5646df(0x393)];}async function fetchAvatar(_0x3fc6ab){const _0x2e15eb=_0x4235f2;if(userAvatars[_0x3fc6ab])return userAvatars[_0x3fc6ab];const _0x5becc8=await db[_0x2e15eb(0x13a)](_0x2e15eb(0x3f6)+_0x3fc6ab)['get']();if(_0x5becc8['exists']()&&_0x5becc8['val']()[_0x2e15eb(0x37f)])return userAvatars[_0x3fc6ab]=_0x5becc8[_0x2e15eb(0x37a)]()['avatarBase64'],userAvatars[_0x3fc6ab];return null;}function sendTyping(){const _0x3694ca=_0x4235f2,_0x8d39d5={'hEuPG':function(_0x2eb9ac,_0x3dc14e){return _0x2eb9ac(_0x3dc14e);},'Ybibg':function(_0x24eb27,_0x938d57,_0x2cd4b3){return _0x24eb27(_0x938d57,_0x2cd4b3);}},_0x2b160a=sanitizeUsername(username),_0x702646=Date[_0x3694ca(0x148)]();db[_0x3694ca(0x13a)](_0x3694ca(0x1b4)+roomCode+'/'+_0x2b160a)[_0x3694ca(0x395)](_0x702646);if(typingTimeout)_0x8d39d5[_0x3694ca(0x29a)](clearTimeout,typingTimeout);typingTimeout=_0x8d39d5['Ybibg'](setTimeout,()=>{const _0x3cb90d=_0x3694ca;db[_0x3cb90d(0x13a)](_0x3cb90d(0x1b4)+roomCode+'/'+_0x2b160a)[_0x3cb90d(0x411)]();},0x1f4);}function listenForTyping(){const _0x4a091c=_0x4235f2,_0x10c7cd={'JfzIX':_0x4a091c(0x1dd)};db[_0x4a091c(0x13a)](_0x4a091c(0x1b4)+roomCode)['on']('value',_0x138652=>{const _0x29447c=_0x4a091c,_0x575882=document[_0x29447c(0x16d)](_0x10c7cd[_0x29447c(0x29c)]);if(!_0x138652['exists']())return _0x575882[_0x29447c(0x1cb)]='';const _0x4ad233=Date['now'](),_0x37c944=Object[_0x29447c(0x15a)](_0x138652[_0x29447c(0x37a)]())[_0x29447c(0x424)](([_0x225bd8,_0x159169])=>_0x225bd8!==sanitizeUsername(username)&&_0x4ad233-_0x159169<0x1388)[_0x29447c(0x1c2)](([_0xa1c56c])=>_0xa1c56c);_0x575882[_0x29447c(0x1cb)]=_0x37c944[_0x29447c(0x32d)]?_0x37c944[_0x29447c(0x2a1)](',\x20')+_0x29447c(0x243):'';});}function watchMuteStatus(){const _0x3535d6=_0x4235f2,_0x51b5d9={'riYGg':function(_0x26b413,_0x1fc3df){return _0x26b413>_0x1fc3df;},'FRvse':_0x3535d6(0x2bf),'oDNcG':function(_0x244e92,_0x174393){return _0x244e92===_0x174393;},'UZHZg':function(_0x3fbdbb,_0x3ad22a){return _0x3fbdbb>_0x3ad22a;},'qawrR':'⛔\x20You\x20are\x20muted.','OKgSu':'Type\x20a\x20message...','BcSgV':function(_0x1b03a2,_0x2b5aa8){return _0x1b03a2(_0x2b5aa8);},'iPQBP':'value'},_0x18cc61=db[_0x3535d6(0x13a)]('muted/'+roomCode+'/'+_0x51b5d9[_0x3535d6(0x1b6)](sanitizeUsername,username));let _0x4faf02;_0x18cc61['on'](_0x51b5d9['iPQBP'],_0x53eda1=>{const _0x292d9e=_0x3535d6;clearInterval(_0x4faf02);const _0x1da029=document[_0x292d9e(0x16d)](_0x51b5d9[_0x292d9e(0x1ca)]);if(!_0x53eda1[_0x292d9e(0x32e)]()){_0x1da029[_0x292d9e(0x428)]=![],_0x1da029[_0x292d9e(0x1f2)]=_0x292d9e(0x3c7);return;}const _0x19730a=_0x53eda1['val'](),_0x1688d7=_0x51b5d9['oDNcG'](typeof _0x19730a,_0x292d9e(0x3d2))&&_0x19730a[_0x292d9e(0x264)]?_0x19730a[_0x292d9e(0x264)]:_0x19730a;_0x51b5d9[_0x292d9e(0x414)](_0x1688d7,Date[_0x292d9e(0x148)]())?(_0x1da029[_0x292d9e(0x428)]=!![],_0x1da029[_0x292d9e(0x1f2)]=_0x51b5d9['qawrR'],_0x4faf02=setInterval(()=>{const _0x4b1903=_0x292d9e;_0x51b5d9[_0x4b1903(0x318)](Date['now'](),_0x1688d7)&&_0x18cc61[_0x4b1903(0x411)]();},0xbb8)):(_0x1da029['disabled']=![],_0x1da029['placeholder']=_0x51b5d9['OKgSu'],_0x18cc61['remove']());});}function isProtected(_0x290c2d){const _0x40fbf4=_0x4235f2;return globalDevs[_0x40fbf4(0x310)](_0x290c2d);}function addSystemMessage(_0x11b6fa){const _0xaf36c6=_0x4235f2,_0x2f574d={'gMxWh':_0xaf36c6(0x3ed),'LhezV':_0xaf36c6(0x2f8),'YgkjE':_0xaf36c6(0x2b7),'gmqPo':_0xaf36c6(0x2de),'LhzuX':'messages'},_0x372f38=document[_0xaf36c6(0x22e)](_0xaf36c6(0x2a7));_0x372f38[_0xaf36c6(0x3fd)]['textAlign']=_0x2f574d['gMxWh'],_0x372f38['style'][_0xaf36c6(0x197)]=_0x2f574d['LhezV'],_0x372f38['style'][_0xaf36c6(0x26c)]=_0x2f574d[_0xaf36c6(0x2cf)],_0x372f38['style']['margin']=_0x2f574d[_0xaf36c6(0x3c8)],_0x372f38[_0xaf36c6(0x1cb)]=_0x11b6fa,document['getElementById'](_0x2f574d[_0xaf36c6(0x199)])[_0xaf36c6(0x17c)](_0x372f38),document[_0xaf36c6(0x16d)](_0x2f574d[_0xaf36c6(0x199)])[_0xaf36c6(0x38c)]=document['getElementById'](_0x2f574d[_0xaf36c6(0x199)])[_0xaf36c6(0x126)];}function reactToMessage(_0x28db1a,_0x314088){const _0x4d87b8=_0x4235f2,_0x3dfa32={'iszoS':function(_0x12031e,_0x349e7f){return _0x12031e(_0x349e7f);},'ctCtv':_0x4d87b8(0x3a1)},_0x492640=_0x3dfa32[_0x4d87b8(0x161)](sanitizeUsername,username),_0x5ba5c9=db[_0x4d87b8(0x13a)](_0x4d87b8(0x261)+roomCode+_0x4d87b8(0x217)+_0x28db1a+_0x4d87b8(0x384));_0x5ba5c9['once'](_0x3dfa32[_0x4d87b8(0x3de)])[_0x4d87b8(0x3e7)](_0x1df9fc=>{const _0xec9c7=_0x4d87b8,_0x516604=_0x1df9fc['val']()||{},_0x2b2362={};for(const [_0x37accb,_0x1d0df6]of Object[_0xec9c7(0x15a)](_0x516604)){_0x2b2362[_0x37accb]=(_0x1d0df6||[])[_0xec9c7(0x424)](_0x3265d8=>_0x3265d8!==_0x492640);}if(!_0x516604[_0x314088]||!_0x516604[_0x314088][_0xec9c7(0x310)](_0x492640)){if(!_0x2b2362[_0x314088])_0x2b2362[_0x314088]=[];_0x2b2362[_0x314088]['push'](_0x492640);}_0x5ba5c9[_0xec9c7(0x395)](_0x2b2362);});}function startSidebarSyncLoop(){const _0x4b0614={'ukZIi':function(_0x1fda58,_0x3791f1){return _0x1fda58(_0x3791f1);},'EMwqg':function(_0x73f269,_0x21d2b8,_0x4d5978){return _0x73f269(_0x21d2b8,_0x4d5978);}};_0x4b0614['EMwqg'](setInterval,async()=>{const _0x47108c=_0x20c4;if(!roomCode)return;const _0x1edeb0=await db['ref'](_0x47108c(0x3ae)+roomCode)['get']();if(_0x1edeb0[_0x47108c(0x32e)]()){const _0x69e8c5=_0x1edeb0['val']();_0x4b0614[_0x47108c(0x1a8)](renderUserLists,_0x69e8c5);}},0x1388);}