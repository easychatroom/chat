const _0x55562d=_0x5252;(function(_0x1948a3,_0x558ecc){const _0x10c90e=_0x5252,_0x279006=_0x1948a3();while(!![]){try{const _0x3f6b54=parseInt(_0x10c90e(0x316))/0x1+-parseInt(_0x10c90e(0x301))/0x2*(parseInt(_0x10c90e(0x44a))/0x3)+-parseInt(_0x10c90e(0x439))/0x4*(-parseInt(_0x10c90e(0x34a))/0x5)+parseInt(_0x10c90e(0x3d6))/0x6+parseInt(_0x10c90e(0x293))/0x7*(-parseInt(_0x10c90e(0x341))/0x8)+parseInt(_0x10c90e(0x3e1))/0x9+-parseInt(_0x10c90e(0x2ba))/0xa*(parseInt(_0x10c90e(0x295))/0xb);if(_0x3f6b54===_0x558ecc)break;else _0x279006['push'](_0x279006['shift']());}catch(_0x472858){_0x279006['push'](_0x279006['shift']());}}}(_0xfb07,0x5e872));const firebaseConfig={'apiKey':_0x55562d(0x3a5),'authDomain':_0x55562d(0x2a5),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x55562d(0x338),'messagingSenderId':_0x55562d(0x42d),'appId':_0x55562d(0x321),'measurementId':_0x55562d(0x3ed)};firebase[_0x55562d(0x243)](firebaseConfig);const db=firebase['database']();let deviceId=null;((async()=>{const _0x224548={'qRpAB':function(_0x529ba2){return _0x529ba2();}};deviceId=await _0x224548['qRpAB'](generateDeviceId);})());const swearWords=['fuck',_0x55562d(0x255),_0x55562d(0x2bb),_0x55562d(0x298),_0x55562d(0x24f),'dick',_0x55562d(0x32f),_0x55562d(0x478),_0x55562d(0x2c0),'pendejo',_0x55562d(0x399),_0x55562d(0x3f3),_0x55562d(0x277),_0x55562d(0x480),'caralho',_0x55562d(0x33f),_0x55562d(0x478),'fdp',_0x55562d(0x3f8),'putangina',_0x55562d(0x384),_0x55562d(0x3f2),_0x55562d(0x3bd),_0x55562d(0x3db),_0x55562d(0x2cc),'putang\x20ina'],userAvatars={};function _0x5252(_0x4ec3a7,_0x597bb9){const _0xfb073e=_0xfb07();return _0x5252=function(_0x52524a,_0x53f18e){_0x52524a=_0x52524a-0x1f0;let _0x2b7aa3=_0xfb073e[_0x52524a];return _0x2b7aa3;},_0x5252(_0x4ec3a7,_0x597bb9);}let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x55562d(0x2e0)]()[_0x55562d(0x24b)](0x24)[_0x55562d(0x311)](0x2,0x9),lastActivity=Date[_0x55562d(0x250)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3e0e2d=_0x55562d,_0x563ca8={'sgnsv':function(_0x28d279,_0x1d3533){return _0x28d279+_0x1d3533;},'mxZPW':function(_0x58a7e6,_0x256863){return _0x58a7e6(_0x256863);}},_0xadc722=_0x563ca8[_0x3e0e2d(0x35b)](_0x563ca8[_0x3e0e2d(0x35b)](navigator[_0x3e0e2d(0x394)],screen[_0x3e0e2d(0x276)]),screen['height']),_0x435e91=await _0x563ca8['mxZPW'](sha256,_0xadc722);return _0x563ca8[_0x3e0e2d(0x35b)]('_',_0x435e91[_0x3e0e2d(0x311)](0x0,0x14));}function sha256(_0x10f671){const _0x1f4c19=_0x55562d,_0x5e3ba9={'TDpws':_0x1f4c19(0x28d)},_0x16e642=new TextEncoder()[_0x1f4c19(0x352)](_0x10f671);return crypto[_0x1f4c19(0x30e)][_0x1f4c19(0x305)](_0x5e3ba9[_0x1f4c19(0x208)],_0x16e642)[_0x1f4c19(0x3dd)](_0x11a71a=>{const _0x44c966=_0x1f4c19;return Array[_0x44c966(0x309)](new Uint8Array(_0x11a71a))[_0x44c966(0x3a7)](_0x2c27e9=>_0x2c27e9[_0x44c966(0x24b)](0x10)[_0x44c966(0x23d)](0x2,'0'))['join']('');});}function toggleNotifications(){const _0xf8ace0=_0x55562d,_0x445f95={'TdBJO':function(_0x1e7ee6,_0x29022c){return _0x1e7ee6===_0x29022c;},'zMaPd':_0xf8ace0(0x313),'yqVWY':_0xf8ace0(0x417),'PMtQU':_0xf8ace0(0x457),'nVdXi':function(_0x5f5e09,_0x4fc9bb){return _0x5f5e09!==_0x4fc9bb;},'drseT':_0xf8ace0(0x310)};_0x445f95[_0xf8ace0(0x44d)](Notification[_0xf8ace0(0x274)],_0x445f95['zMaPd'])?Notification[_0xf8ace0(0x272)]()['then'](_0x15e025=>{const _0x2933d5=_0xf8ace0;_0x445f95[_0x2933d5(0x261)](_0x15e025,_0x445f95[_0x2933d5(0x3d8)])&&(notificationsEnabled=!![],localStorage[_0x2933d5(0x35e)](_0x445f95[_0x2933d5(0x2c9)],'true'),document[_0x2933d5(0x3d7)]('notifToggleBtn')[_0x2933d5(0x328)]=_0x445f95[_0x2933d5(0x220)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0xf8ace0(0x35e)](_0x445f95[_0xf8ace0(0x2c9)],notificationsEnabled?_0xf8ace0(0x47b):_0xf8ace0(0x45f)),document['getElementById'](_0xf8ace0(0x3e0))[_0xf8ace0(0x328)]=notificationsEnabled?_0x445f95[_0xf8ace0(0x220)]:_0x445f95[_0xf8ace0(0x3d1)]);}function toggleAuthMode(){const _0x41fc80=_0x55562d,_0xd3bca0={'jXfcd':_0x41fc80(0x477),'Cgvqr':_0x41fc80(0x1f4),'ecHMm':_0x41fc80(0x405),'HxSeh':_0x41fc80(0x2c5),'ervtG':'authError','DyhtG':_0x41fc80(0x3d3),'YsAqB':_0x41fc80(0x2c4),'VOgeg':_0x41fc80(0x2f1),'uKBDf':_0x41fc80(0x413),'evTUe':'authDescription','XZDDS':_0x41fc80(0x22d)},_0x38496f=_0xd3bca0[_0x41fc80(0x2dd)]['split']('|');let _0x4b0a12=0x0;while(!![]){switch(_0x38496f[_0x4b0a12++]){case'0':document[_0x41fc80(0x3d7)]('authPasswordConfirm')[_0x41fc80(0x330)][_0x41fc80(0x3fc)]=isRegisterMode?_0xd3bca0[_0x41fc80(0x23c)]:_0x41fc80(0x2c5);continue;case'1':document['getElementById'](_0xd3bca0['ecHMm'])[_0x41fc80(0x330)]['display']=_0xd3bca0[_0x41fc80(0x25b)];continue;case'2':document[_0x41fc80(0x3d7)](_0xd3bca0[_0x41fc80(0x385)])[_0x41fc80(0x330)][_0x41fc80(0x3fc)]=_0x41fc80(0x2c5);continue;case'3':isRegisterMode=!isRegisterMode;continue;case'4':document[_0x41fc80(0x3d7)](_0xd3bca0[_0x41fc80(0x26a)])[_0x41fc80(0x328)]=isRegisterMode?_0xd3bca0['YsAqB']:_0xd3bca0[_0x41fc80(0x256)];continue;case'5':document['getElementById'](_0xd3bca0['uKBDf'])[_0x41fc80(0x328)]=isRegisterMode?_0xd3bca0[_0x41fc80(0x284)]:_0x41fc80(0x2f1);continue;case'6':document[_0x41fc80(0x3d7)](_0xd3bca0[_0x41fc80(0x1fd)])[_0x41fc80(0x330)][_0x41fc80(0x3fc)]=isRegisterMode?_0xd3bca0[_0x41fc80(0x23c)]:_0xd3bca0[_0x41fc80(0x25b)];continue;case'7':document[_0x41fc80(0x3d7)](_0xd3bca0[_0x41fc80(0x466)])['style'][_0x41fc80(0x3fc)]=isRegisterMode?_0xd3bca0['Cgvqr']:_0xd3bca0[_0x41fc80(0x25b)];continue;}break;}}function previewAvatar(){const _0x8bb986=_0x55562d,_0x5cfae4={'XYxAx':'authAvatarPreview','MNBtF':_0x8bb986(0x22d)},_0xf24ebd=document[_0x8bb986(0x3d7)](_0x5cfae4[_0x8bb986(0x3ab)]);if(!_0xf24ebd[_0x8bb986(0x3d2)]['length'])return;const _0x1afb45=new FileReader();_0x1afb45[_0x8bb986(0x3ca)]=()=>{const _0x9687e0=_0x8bb986;document['getElementById'](_0x5cfae4['XYxAx'])[_0x9687e0(0x26f)]=_0x1afb45[_0x9687e0(0x31b)],document[_0x9687e0(0x3d7)](_0x5cfae4[_0x9687e0(0x355)])[_0x9687e0(0x330)][_0x9687e0(0x3fc)]='block';},_0x1afb45[_0x8bb986(0x3e6)](_0xf24ebd[_0x8bb986(0x3d2)][0x0]);}async function submitAuth(){const _0x1362d2=_0x55562d,_0x510ec1={'OCtck':function(_0xf0753e,_0x58d52d){return _0xf0753e||_0x58d52d;},'UYHLv':_0x1362d2(0x254),'bkwIq':function(_0x4d4d3e){return _0x4d4d3e();},'RZRhk':_0x1362d2(0x3b8),'yXhWF':'authPassword','rTBeB':_0x1362d2(0x379),'KsyeD':_0x1362d2(0x22d),'RUind':_0x1362d2(0x409),'DhUwO':function(_0x45d658,_0x50a2a1){return _0x45d658||_0x50a2a1;},'AlNEd':_0x1362d2(0x41b),'tBOeo':_0x1362d2(0x1f4),'VrllX':function(_0xe771c2,_0x38d2d8){return _0xe771c2(_0x38d2d8);},'sDwur':_0x1362d2(0x28f),'jwqsb':_0x1362d2(0x42c),'CUqqJ':'4|5|1|0|3|2','oSuNu':function(_0x5c5984){return _0x5c5984();},'CdisV':function(_0x388a2a,_0x77c8b7){return _0x388a2a||_0x77c8b7;},'VlMDO':function(_0x4a7ceb,_0x486803){return _0x4a7ceb!==_0x486803;},'EJdfl':_0x1362d2(0x263),'WqNZq':function(_0x47aef7){return _0x47aef7();}},_0x35e359=document[_0x1362d2(0x3d7)](_0x510ec1[_0x1362d2(0x468)])[_0x1362d2(0x401)][_0x1362d2(0x343)](),_0x3425f5=document['getElementById'](_0x510ec1[_0x1362d2(0x325)])['value'][_0x1362d2(0x343)](),_0x269a41=document['getElementById'](_0x510ec1[_0x1362d2(0x3b1)])['value'][_0x1362d2(0x343)](),_0x2b983a=document[_0x1362d2(0x3d7)](_0x1362d2(0x22a))[_0x1362d2(0x401)][_0x1362d2(0x343)](),_0x555860=document['getElementById'](_0x510ec1[_0x1362d2(0x393)]),_0x34f7c4=document['getElementById'](_0x510ec1[_0x1362d2(0x2bc)]);_0x34f7c4['style'][_0x1362d2(0x3fc)]='none';if(_0x510ec1[_0x1362d2(0x21f)](!_0x35e359,!_0x3425f5)){_0x34f7c4['innerText']=_0x510ec1['AlNEd'],_0x34f7c4[_0x1362d2(0x330)][_0x1362d2(0x3fc)]=_0x510ec1[_0x1362d2(0x359)];return;}const _0x4876c2=_0x510ec1[_0x1362d2(0x283)](sanitizeUsername,_0x35e359),_0x1f9671=db[_0x1362d2(0x3a9)]('auth/'+_0x4876c2),_0x1ce8a2=await _0x1f9671[_0x1362d2(0x386)]();if(isRegisterMode){if(_0x1ce8a2[_0x1362d2(0x377)]()){_0x34f7c4[_0x1362d2(0x328)]=_0x510ec1['sDwur'],_0x34f7c4[_0x1362d2(0x330)][_0x1362d2(0x3fc)]=_0x510ec1[_0x1362d2(0x359)];return;}if(_0x3425f5!==_0x269a41){_0x34f7c4[_0x1362d2(0x328)]=_0x510ec1[_0x1362d2(0x2e2)],_0x34f7c4[_0x1362d2(0x330)][_0x1362d2(0x3fc)]=_0x510ec1[_0x1362d2(0x359)];return;}const _0x3ff803=await _0x510ec1[_0x1362d2(0x283)](sha256,_0x3425f5),_0x382560=await _0x510ec1[_0x1362d2(0x31c)](generateDeviceId);if(_0x555860[_0x1362d2(0x3d2)][_0x1362d2(0x1f7)]){const _0xb19198=_0x555860['files'][0x0],_0x463db4=new FileReader();_0x463db4[_0x1362d2(0x3ca)]=async()=>{const _0x134577=_0x1362d2,_0x3ef1e7=_0x463db4[_0x134577(0x31b)][_0x134577(0x22f)](',')[0x1];await _0x1f9671[_0x134577(0x465)]({'username':_0x35e359,'passwordHash':_0x3ff803,'description':_0x510ec1[_0x134577(0x3c3)](_0x2b983a,''),'avatarBase64':_0x3ef1e7,'role':_0x510ec1[_0x134577(0x3fd)],'deviceId':_0x382560,'usernameHistory':[_0x35e359],'lastChanged':Date[_0x134577(0x250)]()}),username=_0x35e359,userDescription=_0x2b983a,avatarBase64=_0x3ef1e7,role=_0x510ec1[_0x134577(0x3fd)],_0x510ec1['bkwIq'](startAfterAuth);},_0x463db4[_0x1362d2(0x3e6)](_0xb19198);}else{const _0x33224d=_0x510ec1[_0x1362d2(0x39c)][_0x1362d2(0x22f)]('|');let _0x3ee556=0x0;while(!![]){switch(_0x33224d[_0x3ee556++]){case'0':avatarBase64='';continue;case'1':userDescription=_0x2b983a;continue;case'2':_0x510ec1[_0x1362d2(0x42f)](startAfterAuth);continue;case'3':role=_0x1362d2(0x254);continue;case'4':await _0x1f9671['set']({'username':_0x35e359,'passwordHash':_0x3ff803,'description':_0x510ec1[_0x1362d2(0x300)](_0x2b983a,''),'avatarBase64':'','role':_0x510ec1[_0x1362d2(0x3fd)],'deviceId':_0x382560,'usernameHistory':[_0x35e359],'lastChanged':Date[_0x1362d2(0x250)]()});continue;case'5':username=_0x35e359;continue;}break;}}}else{if(!_0x1ce8a2[_0x1362d2(0x377)]()){_0x34f7c4[_0x1362d2(0x328)]=_0x1362d2(0x347),_0x34f7c4[_0x1362d2(0x330)][_0x1362d2(0x3fc)]=_0x510ec1[_0x1362d2(0x359)];return;}const _0x4578a1=_0x1ce8a2[_0x1362d2(0x236)](),_0x3f2207=await _0x510ec1[_0x1362d2(0x283)](sha256,_0x3425f5);if(_0x510ec1[_0x1362d2(0x294)](_0x3f2207,_0x4578a1[_0x1362d2(0x376)])){_0x34f7c4[_0x1362d2(0x328)]=_0x510ec1[_0x1362d2(0x23b)],_0x34f7c4['style'][_0x1362d2(0x3fc)]=_0x1362d2(0x1f4);return;}username=_0x35e359;if(_0x4578a1['description'])userDescription=_0x4578a1[_0x1362d2(0x24c)];if(_0x4578a1[_0x1362d2(0x3c6)])avatarBase64=_0x4578a1[_0x1362d2(0x3c6)];if(_0x4578a1[_0x1362d2(0x33c)])role=_0x4578a1['role'];else role=_0x510ec1[_0x1362d2(0x3fd)];_0x510ec1[_0x1362d2(0x2a9)](startAfterAuth);}}async function saveNewUser(_0x27f35f,_0x5a451e,_0x3146f7,_0x5295ca,_0x568662){const _0x2ea739=_0x55562d,_0x48ace6={'DWJEz':function(_0x42a433,_0x6e839c){return _0x42a433(_0x6e839c);},'AnpbJ':'user','GyIei':function(_0x1bb2a1,_0x428d69){return _0x1bb2a1||_0x428d69;},'XsfFi':function(_0x35e936,_0x109035){return _0x35e936||_0x109035;},'KbiEU':function(_0x180242){return _0x180242();}},_0x4eb654=db[_0x2ea739(0x3a9)]('auth/'+_0x48ace6[_0x2ea739(0x46c)](sanitizeUsername,_0x27f35f)),_0x1ff491={'username':_0x27f35f,'passwordHash':_0x5a451e,'role':_0x48ace6[_0x2ea739(0x2cd)],'deviceId':_0x3146f7,'description':_0x48ace6[_0x2ea739(0x388)](_0x568662,''),'avatarBase64':_0x48ace6[_0x2ea739(0x22c)](_0x5295ca,''),'usernameHistory':[_0x27f35f],'lastChanged':Date[_0x2ea739(0x250)]()};await _0x4eb654[_0x2ea739(0x465)](_0x1ff491),username=_0x27f35f,_0x5295ca=_0x1ff491[_0x2ea739(0x3c6)],userDescription=_0x1ff491[_0x2ea739(0x24c)],_0x48ace6[_0x2ea739(0x281)](startAfterAuth);}async function startAfterAuth(){const _0x114f63=_0x55562d,_0x181920={'iCQBz':function(_0x5f2f32,_0x3eaff9){return _0x5f2f32(_0x3eaff9);},'YreEa':_0x114f63(0x254),'YkTSn':function(_0x22537a,_0x2e3989){return _0x22537a+_0x2e3989;},'yOIYw':_0x114f63(0x415),'zDdxz':_0x114f63(0x1f4),'gIZzO':_0x114f63(0x40b),'zMZLT':function(_0x1ae760){return _0x1ae760();},'pPURy':_0x114f63(0x2ae)},_0x8ecd98=_0x181920['iCQBz'](sanitizeUsername,username),_0x4dc7ab=db[_0x114f63(0x3a9)]('auth/'+_0x8ecd98),_0x17d3f1=await _0x4dc7ab[_0x114f63(0x386)]();if(_0x17d3f1['exists']()){const _0x311aae=_0x17d3f1[_0x114f63(0x236)]();username=_0x311aae[_0x114f63(0x2fd)],userDescription=_0x311aae[_0x114f63(0x24c)]||'',avatarBase64=_0x311aae[_0x114f63(0x3c6)]||'',role=_0x311aae[_0x114f63(0x33c)]||_0x181920[_0x114f63(0x2db)];if(avatarBase64){const _0x1f2dd3=document[_0x114f63(0x3d7)]('sidebarAvatarPreview');_0x1f2dd3['src']=_0x181920[_0x114f63(0x3ac)](_0x181920[_0x114f63(0x428)],avatarBase64),_0x1f2dd3[_0x114f63(0x330)][_0x114f63(0x3fc)]=_0x181920[_0x114f63(0x455)];}}else console[_0x114f63(0x1f9)](_0x181920[_0x114f63(0x2be)]);await _0x181920[_0x114f63(0x3a1)](loadRoomRoles),document[_0x114f63(0x3d7)](_0x181920['pPURy'])['innerText']=username,showScreen(_0x114f63(0x2c7));}function toggleRecording(){const _0x48dc78=_0x55562d,_0x37fe05={'xtdfB':_0x48dc78(0x2e9),'LHunM':function(_0x5403e4,_0x12d733){return _0x5403e4(_0x12d733);},'wGpAF':'audio/webm','AYXYg':function(_0x2700aa,_0x4041d7){return _0x2700aa&&_0x4041d7;},'Wjtam':function(_0x3ecd6a){return _0x3ecd6a();},'dLBRp':'recordBtn','uBACn':function(_0x1c1221,_0x42f430,_0x3b1719){return _0x1c1221(_0x42f430,_0x3b1719);},'eSWsD':function(_0x302c63,_0xafb215){return _0x302c63(_0xafb215);},'JPTsG':_0x48dc78(0x431)};isRecording?stopRecording():navigator[_0x48dc78(0x2cb)][_0x48dc78(0x357)]({'audio':!![]})[_0x48dc78(0x3dd)](_0x158fa=>{const _0xc8b253=_0x48dc78;mediaRecorder=new MediaRecorder(_0x158fa),mediaRecorder[_0xc8b253(0x42e)](),isRecording=!![],document[_0xc8b253(0x3d7)](_0x37fe05[_0xc8b253(0x332)])[_0xc8b253(0x328)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x38b99b=>audioChunks[_0xc8b253(0x3b5)](_0x38b99b[_0xc8b253(0x315)]),mediaRecorder[_0xc8b253(0x326)]=()=>{const _0x414eda=_0xc8b253,_0x3be660={'caXdv':_0x37fe05[_0x414eda(0x23a)]};_0x37fe05[_0x414eda(0x350)](clearTimeout,recordingTimer);const _0x54a93c=new Blob(audioChunks,{'type':_0x37fe05[_0x414eda(0x2f7)]}),_0x27d81e=new FileReader();_0x27d81e[_0x414eda(0x3ca)]=()=>{const _0xc216b1=_0x414eda,_0x947e5c=_0x27d81e['result'][_0xc216b1(0x22f)](',')[0x1],_0xf23bae=db[_0xc216b1(0x3a9)]()[_0xc216b1(0x3b5)]()['key'];db[_0xc216b1(0x3a9)](_0xc216b1(0x3ef)+roomCode+_0xc216b1(0x3b3)+_0xf23bae)[_0xc216b1(0x465)]({'msg':_0x3be660['caXdv'],'audioBase64':_0x947e5c,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x27d81e[_0x414eda(0x3e6)](_0x54a93c);},recordingTimer=_0x37fe05[_0xc8b253(0x40f)](setTimeout,()=>{const _0x408deb=_0xc8b253;_0x37fe05[_0x408deb(0x2a3)](mediaRecorder,isRecording)&&_0x37fe05['Wjtam'](stopRecording);},0x4e20);})['catch'](_0x55118f=>{const _0x1fe03e=_0x48dc78;_0x37fe05[_0x1fe03e(0x25a)](alert,_0x37fe05[_0x1fe03e(0x2b3)]);});}function stopRecording(){const _0x42cebf=_0x55562d,_0x401a95={'HgGJF':function(_0xa46a5f,_0x3bff31){return _0xa46a5f&&_0x3bff31;},'eswdi':_0x42cebf(0x3d5),'smjXW':_0x42cebf(0x43c)};_0x401a95[_0x42cebf(0x200)](mediaRecorder,isRecording)&&(mediaRecorder['stop'](),isRecording=![],document[_0x42cebf(0x3d7)](_0x401a95[_0x42cebf(0x2d0)])['innerText']=_0x401a95[_0x42cebf(0x425)]);}window[_0x55562d(0x35d)]=async()=>{const _0xa26d96=_0x55562d,_0xbbc106={'MPPMP':function(_0x1f15f5){return _0x1f15f5();},'zljdb':_0xa26d96(0x417),'XeLJQ':function(_0x34f93f,_0x3bad50){return _0x34f93f===_0x3bad50;},'qQScm':'true','AZXOO':_0xa26d96(0x3ad)};cleanupOldRooms(),setupSidebarBackHandler(),_0xbbc106[_0xa26d96(0x2cf)](setupVisibilityAttention),_0xbbc106['MPPMP'](resetWebsiteData);const _0x35951a=localStorage['getItem'](_0xbbc106[_0xa26d96(0x2d3)]);notificationsEnabled=_0xbbc106[_0xa26d96(0x475)](_0x35951a,_0xbbc106['qQScm']),showScreen(_0xbbc106['AZXOO']);};function sanitizeUsername(_0xbf96d0){const _0xd9a706=_0x55562d;return _0xbf96d0[_0xd9a706(0x3c4)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x2b399d=_0x55562d,_0x1d0db3={'lNvUJ':_0x2b399d(0x329),'xliZZ':_0x2b399d(0x1f4),'qEjrM':_0x2b399d(0x44b),'kYQCv':_0x2b399d(0x3a4),'FBzKw':'Error\x20checking\x20username:','XpWRk':_0x2b399d(0x342),'sBGmK':_0x2b399d(0x39f),'CRLWp':function(_0x41690c,_0x3c847e){return _0x41690c||_0x3c847e;},'KUvJM':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','hQLMW':function(_0x5350f5,_0x5f1e6d){return _0x5350f5(_0x5f1e6d);},'vKvHX':_0x2b399d(0x401)},_0x5dd884=document[_0x2b399d(0x3d7)]('profileUsernameInput')[_0x2b399d(0x401)][_0x2b399d(0x343)](),_0x26619f=document[_0x2b399d(0x3d7)](_0x1d0db3['XpWRk'])[_0x2b399d(0x401)][_0x2b399d(0x343)](),_0x1a0c3b=document[_0x2b399d(0x3d7)](_0x1d0db3['sBGmK']);if(_0x1d0db3[_0x2b399d(0x248)](!_0x5dd884,!_0x26619f)){_0x1a0c3b[_0x2b399d(0x328)]=_0x1d0db3[_0x2b399d(0x446)],_0x1a0c3b[_0x2b399d(0x330)]['display']=_0x1d0db3[_0x2b399d(0x3f7)];return;}const _0x12e410=_0x1d0db3['hQLMW'](sanitizeUsername,_0x5dd884),_0x1a05ba=db[_0x2b399d(0x3a9)](_0x2b399d(0x244)+_0x12e410);_0x1a05ba['once'](_0x1d0db3['vKvHX'])[_0x2b399d(0x3dd)](_0x3390e7=>{const _0x411163=_0x2b399d,_0x50fbd4={'rLEpV':_0x411163(0x44c),'KSjXu':_0x1d0db3['lNvUJ'],'brqmu':_0x1d0db3[_0x411163(0x3f7)],'jZkpK':_0x411163(0x231),'KaUgO':_0x1d0db3[_0x411163(0x312)],'PGABU':function(_0x4da299,_0x3157ae){return _0x4da299(_0x3157ae);},'xAtms':_0x411163(0x2c7)};if(_0x3390e7[_0x411163(0x377)]())_0x1a0c3b[_0x411163(0x328)]=_0x1d0db3[_0x411163(0x3cd)],_0x1a0c3b[_0x411163(0x330)]['display']=_0x411163(0x1f4);else{const _0x59dd0f={'username':_0x5dd884,'description':_0x26619f,'lastChanged':Date['now'](),'usernameHistory':[_0x5dd884]};_0x1a05ba['set'](_0x59dd0f,_0x29c50d=>{const _0x532a39=_0x411163;if(_0x29c50d)console['error'](_0x50fbd4[_0x532a39(0x334)],_0x29c50d),_0x1a0c3b['innerText']=_0x50fbd4[_0x532a39(0x3da)],_0x1a0c3b[_0x532a39(0x330)][_0x532a39(0x3fc)]=_0x50fbd4['brqmu'];else{const _0x94ece4=_0x532a39(0x462)['split']('|');let _0x2e08ed=0x0;while(!![]){switch(_0x94ece4[_0x2e08ed++]){case'0':document[_0x532a39(0x3d7)](_0x532a39(0x2ae))[_0x532a39(0x328)]=_0x5dd884;continue;case'1':localStorage['setItem'](_0x50fbd4['jZkpK'],_0x26619f);continue;case'2':localStorage['setItem'](_0x50fbd4[_0x532a39(0x2f3)],_0x5dd884);continue;case'3':_0x50fbd4[_0x532a39(0x1fb)](showScreen,_0x50fbd4[_0x532a39(0x2d1)]);continue;case'4':username=_0x5dd884;continue;}break;}}});}})[_0x2b399d(0x25e)](_0x361788=>{const _0x100811=_0x2b399d;console[_0x100811(0x3c5)](_0x1d0db3['FBzKw'],_0x361788),_0x1a0c3b[_0x100811(0x328)]=_0x100811(0x2b9),_0x1a0c3b[_0x100811(0x330)]['display']=_0x1d0db3[_0x100811(0x3f7)];});}function saveProfile(_0x2b7fa8,_0x161b66,_0x2d2218){const _0x1a2169=_0x55562d,_0x1d6726={'dmdfA':'namePreview','zbRPP':function(_0x52c9d1,_0x255db2){return _0x52c9d1(_0x255db2);},'UnaFv':_0x1a2169(0x2c7)},_0x541fa2=Date['now'](),_0x59eeaf=[_0x2b7fa8];db['ref'](_0x1a2169(0x244)+_0x2d2218)[_0x1a2169(0x465)]({'username':_0x2b7fa8,'description':_0x161b66,'lastChanged':_0x541fa2,'usernameHistory':_0x59eeaf}),document['getElementById'](_0x1d6726[_0x1a2169(0x35c)])['innerText']=_0x2b7fa8,_0x1d6726[_0x1a2169(0x233)](showScreen,_0x1d6726['UnaFv']);}function generateRoom(){const _0x543e63=_0x55562d,_0xfb6584={'bnhqI':function(_0x11dc70){return _0x11dc70();},'aUhFd':function(_0x335f40,_0x4590a7){return _0x335f40+_0x4590a7;},'PQenz':_0x543e63(0x3ef),'haQNG':function(_0x374dae){return _0x374dae();}};roomCode=_0xfb6584[_0x543e63(0x38b)](genRoomCode),db[_0x543e63(0x3a9)](_0xfb6584['aUhFd'](_0xfb6584[_0x543e63(0x25c)],roomCode))[_0x543e63(0x465)]({'active':!![],'created':Date[_0x543e63(0x250)]()}),_0xfb6584['haQNG'](startChat);}function joinRoom(){const _0x458ecf=_0x55562d,_0x5cc1e1={'GTQRb':function(_0x34bf7a,_0x27e4a6){return _0x34bf7a!==_0x27e4a6;},'vJsLm':function(_0x51c0d0){return _0x51c0d0();},'gLRRP':'roomCodeInput','kPRjH':_0x458ecf(0x444),'EpjmQ':function(_0xe26919,_0x3adbeb){return _0xe26919===_0x3adbeb;},'GuVio':function(_0x4d8bd9,_0x3d3315){return _0x4d8bd9(_0x3d3315);},'NQshU':function(_0x5ab323,_0x23b504){return _0x5ab323+_0x23b504;}},_0x500bbd=roomCode||document['getElementById'](_0x5cc1e1[_0x458ecf(0x288)])[_0x458ecf(0x401)][_0x458ecf(0x343)]()[_0x458ecf(0x3f9)]();if(!_0x500bbd)return alert(_0x5cc1e1[_0x458ecf(0x47c)]);roomCode=_0x500bbd;if(_0x5cc1e1[_0x458ecf(0x31a)](roomCode,STATIC_ROOM)){_0x5cc1e1[_0x458ecf(0x373)](showScreen,'passwordScreen');return;}db[_0x458ecf(0x3a9)](_0x5cc1e1[_0x458ecf(0x308)]('rooms/',roomCode))['get']()[_0x458ecf(0x3dd)](_0x40950c=>{const _0x4e9051=_0x458ecf;_0x40950c['exists']()&&_0x5cc1e1['GTQRb'](_0x40950c[_0x4e9051(0x236)]()[_0x4e9051(0x423)],![])?_0x5cc1e1[_0x4e9051(0x22e)](startChat):alert(_0x4e9051(0x3e5));});}async function startChat(){const _0x21e42b=_0x55562d,_0x518c7d={'duTrp':function(_0x2f555d,_0x388f93){return _0x2f555d===_0x388f93;},'CtzrG':_0x21e42b(0x2f8),'tusUG':_0x21e42b(0x3c0),'iRwtN':_0x21e42b(0x207),'BTOwm':function(_0x3daa2a,_0x2e7963){return _0x3daa2a(_0x2e7963);},'VhMme':_0x21e42b(0x257),'nuXnz':function(_0x375a17,_0x3b28f3){return _0x375a17(_0x3b28f3);},'EchDf':_0x21e42b(0x2c7),'tyNer':'sidebarAvatarPreview','MelMZ':function(_0xf6dc54,_0x5c4fff){return _0xf6dc54+_0x5c4fff;},'LIpnt':_0x21e42b(0x415),'ZrgKL':'block','NgKBL':_0x21e42b(0x29c),'ilGdQ':_0x21e42b(0x265),'oLccb':_0x21e42b(0x1fe),'aDXan':_0x21e42b(0x41f),'csIDP':_0x21e42b(0x2c5),'VZjGB':_0x21e42b(0x403),'Cmxhr':_0x21e42b(0x35a),'AHuYS':_0x21e42b(0x438),'FvLyR':_0x21e42b(0x36a),'eaCIv':function(_0xd120f0){return _0xd120f0();},'sOLyy':function(_0x20f694){return _0x20f694();},'WyBSD':function(_0x58b10c,_0x5e0b71){return _0x58b10c||_0x5e0b71;},'UtIqX':'Missing\x20room\x20or\x20user\x20information.','KXMhb':function(_0x2e67aa,_0x2c4216){return _0x2e67aa(_0x2c4216);},'bIyHG':function(_0xc782ec){return _0xc782ec();},'bidid':function(_0x149579){return _0x149579();},'pzvwZ':function(_0x3d5c3f,_0x171587){return _0x3d5c3f(_0x171587);}};if(_0x518c7d[_0x21e42b(0x476)](!roomCode,!username))return _0x518c7d[_0x21e42b(0x2df)](alert,_0x518c7d[_0x21e42b(0x299)]),_0x518c7d[_0x21e42b(0x346)](showScreen,_0x21e42b(0x2c7));_0x518c7d['bIyHG'](listenForPauseState),_0x518c7d[_0x21e42b(0x32b)](listenForUserList),await _0x518c7d[_0x21e42b(0x259)](loadRoomRoles),_0x518c7d[_0x21e42b(0x372)](listenForAnnouncement);const _0x239ca9=_0x518c7d['pzvwZ'](sanitizeUsername,username),_0x5390e1=db['ref'](_0x21e42b(0x217)+roomCode+'/'+_0x239ca9),_0x215453={'username':username,'online':!![],'lastOnline':firebase[_0x21e42b(0x3ce)][_0x21e42b(0x3ec)][_0x21e42b(0x410)]};_0x5390e1[_0x21e42b(0x465)](_0x215453,_0x551ba4=>{const _0x135d9c=_0x21e42b;if(_0x551ba4)return _0x518c7d[_0x135d9c(0x2a6)](alert,_0x518c7d[_0x135d9c(0x252)]),_0x518c7d[_0x135d9c(0x2df)](showScreen,_0x518c7d[_0x135d9c(0x38a)]);const _0x3074ac=document[_0x135d9c(0x3d7)](_0x518c7d[_0x135d9c(0x43a)]);avatarBase64&&(_0x3074ac[_0x135d9c(0x26f)]=_0x518c7d[_0x135d9c(0x32a)](_0x518c7d['LIpnt'],avatarBase64),_0x3074ac[_0x135d9c(0x330)][_0x135d9c(0x3fc)]=_0x518c7d[_0x135d9c(0x41c)]);document[_0x135d9c(0x3d7)](_0x135d9c(0x3a0))[_0x135d9c(0x323)]=username+'\x20'+_0x518c7d['BTOwm'](getRoleTag,_0x239ca9),document[_0x135d9c(0x3d7)](_0x518c7d['NgKBL'])[_0x135d9c(0x328)]=_0x518c7d[_0x135d9c(0x3b0)](roomCode,STATIC_ROOM)?_0x518c7d[_0x135d9c(0x2ef)]:roomCode;[_0x518c7d[_0x135d9c(0x3a6)],_0x135d9c(0x3c0),_0x518c7d['oLccb']]['includes'](role)?document[_0x135d9c(0x3d7)](_0x518c7d[_0x135d9c(0x278)])[_0x135d9c(0x330)]['display']='block':document[_0x135d9c(0x3d7)](_0x518c7d[_0x135d9c(0x278)])['style'][_0x135d9c(0x3fc)]=_0x518c7d[_0x135d9c(0x3dc)];const _0x4d0836=db[_0x135d9c(0x3a9)]()[_0x135d9c(0x3b5)]()[_0x135d9c(0x36d)];db['ref'](_0x135d9c(0x3ef)+roomCode+'/messages/'+_0x4d0836)['set']({'msg':username+_0x135d9c(0x2ff),'sender':_0x135d9c(0x403),'senderId':_0x518c7d[_0x135d9c(0x2e8)],'timestamp':Date['now']()}),showScreen(_0x518c7d[_0x135d9c(0x46b)]);const _0x4ced80=document[_0x135d9c(0x3d7)](_0x518c7d[_0x135d9c(0x46e)]);_0x4ced80[_0x135d9c(0x303)](_0x518c7d['FvLyR'],_0x1b356b=>{const _0xdab0b7=_0x135d9c;_0x1b356b[_0xdab0b7(0x337)]===0x3&&(_0x518c7d[_0xdab0b7(0x3b0)](role,_0x518c7d[_0xdab0b7(0x3a6)])||role===_0x518c7d['tusUG'])&&(confirm(_0x518c7d[_0xdab0b7(0x2a1)])&&db[_0xdab0b7(0x3a9)]('rooms/'+roomCode+_0xdab0b7(0x20a))['remove']()[_0xdab0b7(0x3dd)](()=>{const _0x1420c9=_0xdab0b7;_0x4ced80[_0x1420c9(0x328)]='';}));}),_0x518c7d[_0x135d9c(0x432)](listenForMessages),listenForTyping(),_0x518c7d['sOLyy'](startInactivityTimer),_0x518c7d[_0x135d9c(0x432)](trackPresence),watchProfileChanges(),_0x518c7d[_0x135d9c(0x432)](watchMuteStatus);});}function watchProfileChanges(){const _0x2f3629=_0x55562d,_0x53fc5b={'XeuVy':function(_0x119ef6,_0x35e6a3){return _0x119ef6+_0x35e6a3;},'WABwG':_0x2f3629(0x415),'irqqd':'block','tzvaa':function(_0x98c171,_0x3711c3){return _0x98c171(_0x3711c3);},'WPZtW':_0x2f3629(0x401)},_0x3a96b5=_0x53fc5b[_0x2f3629(0x39a)](sanitizeUsername,username);db[_0x2f3629(0x3a9)](_0x2f3629(0x43d)+_0x3a96b5)['on'](_0x53fc5b[_0x2f3629(0x2d7)],_0x519246=>{const _0x1b3ae5=_0x2f3629;if(!_0x519246[_0x1b3ae5(0x377)]())return;const _0x3597ba=_0x519246[_0x1b3ae5(0x236)]();userDescription=_0x3597ba[_0x1b3ae5(0x24c)]||'',avatarBase64=_0x3597ba[_0x1b3ae5(0x3c6)]||'',role=_0x3597ba['role']||_0x1b3ae5(0x254);if(avatarBase64){const _0x357af6=document['getElementById'](_0x1b3ae5(0x1fc));!_0x357af6[_0x1b3ae5(0x26f)][_0x1b3ae5(0x345)](avatarBase64)&&(_0x357af6['src']=_0x53fc5b[_0x1b3ae5(0x383)](_0x53fc5b[_0x1b3ae5(0x1fa)],avatarBase64),_0x357af6[_0x1b3ae5(0x330)]['display']=_0x53fc5b[_0x1b3ae5(0x469)]);}_0x53fc5b[_0x1b3ae5(0x39a)](renderUserLists,roomUsers);});}function uploadImage(_0x4d7520){const _0x5da9ef=_0x55562d,_0x238480={'UTBxj':function(_0x1cff92,_0x49b52f){return _0x1cff92>_0x49b52f;},'XecVW':function(_0x43555a,_0x2bbd93){return _0x43555a*_0x2bbd93;},'SuThG':_0x5da9ef(0x27b)},_0x18783c=_0x4d7520[_0x5da9ef(0x3d2)][0x0];if(!_0x18783c||_0x238480[_0x5da9ef(0x2e1)](_0x18783c[_0x5da9ef(0x2ce)],_0x238480['XecVW'](0x2,0x400)*0x400)){alert(_0x238480[_0x5da9ef(0x2ec)]);return;}const _0x44a732=new FileReader();_0x44a732[_0x5da9ef(0x3ca)]=()=>{const _0x3944c5=_0x5da9ef,_0x38703e=_0x44a732[_0x3944c5(0x31b)][_0x3944c5(0x22f)](',')[0x1],_0x4a6b68=db[_0x3944c5(0x3a9)]()[_0x3944c5(0x3b5)]()['key'];db[_0x3944c5(0x3a9)](_0x3944c5(0x3ef)+roomCode+_0x3944c5(0x3b3)+_0x4a6b68)[_0x3944c5(0x465)]({'imageBase64':_0x38703e,'sender':username,'senderId':clientId,'timestamp':Date[_0x3944c5(0x250)]()});},_0x44a732[_0x5da9ef(0x3e6)](_0x18783c);}async function fetchProfile(_0x15a4ec){const _0x1d84f9=_0x55562d,_0xb76bf7=await db[_0x1d84f9(0x3a9)](_0x1d84f9(0x43d)+_0x15a4ec)[_0x1d84f9(0x386)]();if(!_0xb76bf7[_0x1d84f9(0x377)]())return null;return _0xb76bf7[_0x1d84f9(0x236)]();}function validateStaticRoomPassword(){const _0xa7226c=_0x55562d,_0x6921ab={'MoLsN':function(_0x362a8c,_0xea11c4){return _0x362a8c(_0xea11c4);},'FiaUf':_0xa7226c(0x275),'gqYCd':function(_0x44cadc,_0x30f728){return _0x44cadc===_0x30f728;},'mPjdJ':function(_0x57295e){return _0x57295e();},'agCBJ':_0xa7226c(0x227),'MIaGr':_0xa7226c(0x3d0),'qtoYy':'block','KABIG':function(_0x47a3b1,_0x3b27d9){return _0x47a3b1(_0x3b27d9);},'TNauP':_0xa7226c(0x467),'NDNIQ':'Please\x20enter\x20the\x20password.'},_0x4fe9d3=document[_0xa7226c(0x3d7)](_0xa7226c(0x2e4))[_0xa7226c(0x401)]['trim']();if(!_0x4fe9d3){_0x6921ab['KABIG'](alert,_0x6921ab[_0xa7226c(0x290)]);return;}db[_0xa7226c(0x3a9)](_0xa7226c(0x3de)+STATIC_ROOM)[_0xa7226c(0x386)]()[_0xa7226c(0x3dd)](_0x351042=>{const _0x37b2fc=_0xa7226c;if(!_0x351042[_0x37b2fc(0x377)]()){_0x6921ab[_0x37b2fc(0x21c)](alert,_0x6921ab['FiaUf']);return;}const _0x3c095d=_0x351042[_0x37b2fc(0x236)]();_0x6921ab['gqYCd'](_0x4fe9d3,_0x3c095d)?(roomCode=STATIC_ROOM,_0x6921ab[_0x37b2fc(0x21e)](startChat)):(document[_0x37b2fc(0x3d7)](_0x6921ab[_0x37b2fc(0x324)])[_0x37b2fc(0x328)]=_0x6921ab['MIaGr'],document['getElementById'](_0x6921ab[_0x37b2fc(0x324)])[_0x37b2fc(0x330)][_0x37b2fc(0x3fc)]=_0x6921ab['qtoYy']);})['catch'](_0x4b3e2d=>{const _0x1c3440=_0xa7226c;console[_0x1c3440(0x3c5)](_0x4b3e2d),_0x6921ab[_0x1c3440(0x237)](alert,_0x6921ab[_0x1c3440(0x40c)]);});}function listenForPauseState(){const _0x4acae0=_0x55562d,_0x36c619={'jLQEx':function(_0x5acbce,_0x31813f){return _0x5acbce===_0x31813f;},'rsVZN':_0x4acae0(0x287),'hdkzl':_0x4acae0(0x2c5)};db[_0x4acae0(0x3a9)](_0x4acae0(0x427)+roomCode+_0x4acae0(0x302))['on'](_0x4acae0(0x401),_0x1948fb=>{const _0x414c4d=_0x4acae0,_0x346824=_0x1948fb[_0x414c4d(0x377)]()&&_0x36c619[_0x414c4d(0x36e)](_0x1948fb[_0x414c4d(0x236)](),!![]);document[_0x414c4d(0x3d7)](_0x36c619[_0x414c4d(0x41d)])[_0x414c4d(0x330)][_0x414c4d(0x3fc)]=_0x346824?_0x414c4d(0x1f4):_0x36c619['hdkzl'];});}const spamTimestamps=[];async function sendMessage(){const _0x530117=_0x55562d,_0x2211b9={'JhXeE':_0x530117(0x390),'liWkC':function(_0x447882,_0x5d0ca0){return _0x447882(_0x5d0ca0);},'jBGMv':function(_0x4f6c2d,_0x739db8){return _0x4f6c2d===_0x739db8;},'HfJQz':function(_0x5ae74e,_0x58f097){return _0x5ae74e>_0x58f097;},'JBeMT':function(_0x1de673,_0x28c20e){return _0x1de673!==_0x28c20e;},'tJSIy':'dev','rjgQX':function(_0x2b8f29,_0x27e400){return _0x2b8f29||_0x27e400;},'ZMwVk':_0x530117(0x358),'pMlnk':'⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','HDGix':function(_0x300056,_0x556445,_0x257409){return _0x300056(_0x556445,_0x257409);},'ldCSY':_0x530117(0x20e)},_0xe6f72c=await db[_0x530117(0x3a9)](_0x530117(0x427)+roomCode+_0x530117(0x302))[_0x530117(0x386)](),_0x548740=await db[_0x530117(0x3a9)](_0x530117(0x228)+roomCode+'/'+_0x2211b9['liWkC'](sanitizeUsername,username))[_0x530117(0x386)]();if(_0x548740['exists']()){const _0x264d7a=_0x548740[_0x530117(0x236)](),_0x5bdd35=_0x2211b9[_0x530117(0x39b)](typeof _0x264d7a,_0x530117(0x339))&&_0x264d7a[_0x530117(0x2d4)]?_0x264d7a[_0x530117(0x2d4)]:_0x264d7a;if(_0x2211b9[_0x530117(0x442)](_0x5bdd35,Date[_0x530117(0x250)]())){_0x2211b9[_0x530117(0x2ab)](alert,_0x530117(0x369));return;}}if(_0xe6f72c['exists']()&&_0x2211b9[_0x530117(0x39b)](_0xe6f72c['val'](),!![])&&_0x2211b9[_0x530117(0x433)](role,_0x2211b9[_0x530117(0x395)])){alert(_0x530117(0x3c7));return;}const _0xd91e9b=document[_0x530117(0x3d7)]('msgInput'),_0x891b4b=_0xd91e9b[_0x530117(0x401)][_0x530117(0x343)]();if(_0x2211b9[_0x530117(0x2b6)](!_0x891b4b,isBlocked))return;const _0x443fb8=Date[_0x530117(0x250)](),_0x55bf20=_0x891b4b[_0x530117(0x25f)](),_0x4192e0=swearWords['some'](_0x4e400f=>_0x55bf20['includes'](_0x4e400f));if(_0x4192e0){alert(_0x530117(0x246));return;}spamTimestamps[_0x530117(0x3b5)](_0x443fb8);const _0x385c60=spamTimestamps[_0x530117(0x39e)](_0x1cee73=>_0x443fb8-_0x1cee73<0x1b58);if(_0x2211b9['HfJQz'](_0x385c60[_0x530117(0x1f7)],0x5)){const _0x519ade=_0x2211b9['ZMwVk'][_0x530117(0x22f)]('|');let _0x3d5270=0x0;while(!![]){switch(_0x519ade[_0x3d5270++]){case'0':alert(_0x2211b9[_0x530117(0x29a)]);continue;case'1':_0x2211b9[_0x530117(0x353)](setTimeout,()=>{const _0x478738=_0x530117;isBlocked=![],_0xd91e9b[_0x478738(0x2de)]=![],_0xd91e9b[_0x478738(0x1f6)]=_0x2211b9['JhXeE'],spamTimestamps[_0x478738(0x1f7)]=0x0;},0x7530);continue;case'2':return;case'3':_0xd91e9b[_0x530117(0x2de)]=!![];continue;case'4':_0xd91e9b[_0x530117(0x1f6)]=_0x2211b9[_0x530117(0x2d9)];continue;case'5':isBlocked=!![];continue;}break;}}const _0x5ba6e5=localStorage[_0x530117(0x268)](_0x530117(0x43e))||'',_0x344c79=db['ref']()[_0x530117(0x3b5)]()[_0x530117(0x36d)];db[_0x530117(0x3a9)](_0x530117(0x3ef)+roomCode+_0x530117(0x3b3)+_0x344c79)[_0x530117(0x465)]({'msg':_0x891b4b,'sender':username,'senderId':clientId,'avatarBase64':_0x5ba6e5,'timestamp':_0x443fb8}),_0xd91e9b[_0x530117(0x401)]='',sendTyping(!![]),lastActivity=_0x443fb8;}function listenForMessages(){const _0x123427=_0x55562d,_0x484121={'jnKwR':function(_0x1f457c,_0x28e54a){return _0x1f457c===_0x28e54a;},'qkeVp':function(_0x2ab6f4,_0x1323e7){return _0x2ab6f4!==_0x1323e7;},'PEwty':function(_0x5ec4ef){return _0x5ec4ef();},'Dbwyy':function(_0x5e1d5a,_0x2c626b){return _0x5e1d5a&&_0x2c626b;},'YuFLP':_0x123427(0x313),'yUOnf':'[Voice\x20Message]','sJMHU':_0x123427(0x271),'vgxjQ':_0x123427(0x3cb),'aWPSo':'child_added'},_0x5a91c6=db[_0x123427(0x3a9)](_0x123427(0x3ef)+roomCode+_0x123427(0x238)),_0x3472b0=_0x5a91c6[_0x123427(0x307)](MAX_MESSAGES);userListReady=!![],_0x3472b0['on'](_0x484121[_0x123427(0x40a)],_0x38b286=>{const _0x56a4fa=_0x123427,_0x17e222=_0x38b286[_0x56a4fa(0x236)](),{senderId:_0x3952de}=_0x17e222,_0x90a178=_0x484121[_0x56a4fa(0x235)](_0x3952de,clientId);if(!userListReady){pendingMessages[_0x56a4fa(0x21d)](({data:_0x16f2ec,sent:_0x4025dc,key:_0x3a7917})=>{addMessage(_0x16f2ec,_0x4025dc,_0x3a7917);}),pendingMessages=[];return;}const _0x20a0df=_0x17e222['audioUrl']||null,_0x263989=_0x17e222['audioBase64']||null;addMessage(_0x17e222,_0x90a178,_0x38b286['key']);_0x484121['qkeVp'](roomCode,STATIC_ROOM)&&_0x484121['qkeVp'](_0x17e222['sender'],'system')&&db[_0x56a4fa(0x3a9)](_0x56a4fa(0x3ef)+roomCode+_0x56a4fa(0x3b3)+_0x38b286[_0x56a4fa(0x36d)])[_0x56a4fa(0x464)]();!_0x90a178&&(sound[_0x56a4fa(0x24e)](),_0x484121[_0x56a4fa(0x20b)](flagPageAttention));if(_0x484121[_0x56a4fa(0x420)](notificationsEnabled,!_0x90a178)){if(document[_0x56a4fa(0x240)]&&_0x484121[_0x56a4fa(0x235)](Notification[_0x56a4fa(0x274)],_0x484121['YuFLP'])){const _0x5e3639=_0x17e222['msg']||(_0x17e222[_0x56a4fa(0x3c9)]?_0x484121[_0x56a4fa(0x40d)]:_0x17e222[_0x56a4fa(0x20d)]?_0x484121[_0x56a4fa(0x2d8)]:_0x56a4fa(0x21b));new Notification(_0x56a4fa(0x3ba)+_0x17e222[_0x56a4fa(0x2a4)],{'body':_0x5e3639,'icon':_0x484121[_0x56a4fa(0x453)]});}}});}function stackNotification(_0x318c50,_0x4f2e59){const _0x4755ef=_0x55562d,_0x3b3908={'EAQST':function(_0x4415ca){return _0x4415ca();},'YQpPt':function(_0x9c87a7,_0x321372){return _0x9c87a7(_0x321372);},'zSJIO':function(_0x157d05,_0x330416,_0x148a9a){return _0x157d05(_0x330416,_0x148a9a);}};notificationStack[_0x4755ef(0x3b5)]({'sender':_0x318c50,'content':_0x4f2e59}),_0x3b3908['YQpPt'](clearTimeout,notificationTimer),notificationTimer=_0x3b3908[_0x4755ef(0x2da)](setTimeout,()=>{const _0x37e76f=_0x4755ef;_0x3b3908[_0x37e76f(0x225)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x1eecd4=_0x55562d,_0xbfb1e0={'VpMyl':_0x1eecd4(0x43b),'kcROu':_0x1eecd4(0x3cb),'QoefM':function(_0x15d7fb,_0x3d3318){return _0x15d7fb!==_0x3d3318;},'fbjJN':'unknown','tnOka':function(_0x41f3ea,_0x198aee){return _0x41f3ea===_0x198aee;},'njLAG':function(_0x441173,_0xec1dc7,_0x2d9cca){return _0x441173(_0xec1dc7,_0x2d9cca);}};if(!notificationStack['length']||_0xbfb1e0['QoefM'](Notification[_0x1eecd4(0x274)],'granted'))return;const _0x29da0c=[...new Set(notificationStack[_0x1eecd4(0x3a7)](_0x200ffc=>_0x200ffc[_0x1eecd4(0x2a4)]))],_0x193c82=roomCode||_0xbfb1e0['fbjJN'],_0x5e9163=_0xbfb1e0[_0x1eecd4(0x247)](_0x29da0c[_0x1eecd4(0x1f7)],0x1)?'You\x20got\x20a\x20message\x20from\x20'+_0x29da0c[0x0]+'\x20in\x20room\x20'+_0x193c82+':\x20'+notificationStack[0x0][_0x1eecd4(0x448)]:'You\x20got\x20messages\x20from\x20'+_0x29da0c[_0x1eecd4(0x2f4)](',\x20')+'\x20in\x20room\x20'+_0x193c82;_0xbfb1e0[_0x1eecd4(0x206)](setTimeout,()=>{const _0x142500=_0x1eecd4;new Notification(_0xbfb1e0[_0x142500(0x411)],{'body':_0x5e9163,'icon':_0xbfb1e0[_0x142500(0x239)]});},0x64);}async function addMessage(_0x180faa,_0x439f7b,_0x5d4d31=null){const _0x49a0ac=_0x55562d,_0x2e2e3e={'tfTeU':function(_0x4940d9,_0x31c1d0){return _0x4940d9===_0x31c1d0;},'origq':function(_0x51b72b,_0x2dc2c0){return _0x51b72b(_0x2dc2c0);},'DdiLC':'Delete\x20this\x20message?','XrRwD':function(_0x5ca450,_0x1e470d,_0x5dd6c6){return _0x5ca450(_0x1e470d,_0x5dd6c6);},'PnBCY':'div','nvUWe':_0x49a0ac(0x443),'bKJuQ':'msg','sdbEf':_0x49a0ac(0x234),'DHaIl':_0x49a0ac(0x35f),'BFFwy':_0x49a0ac(0x2b5),'hEiBl':function(_0x4b20e1,_0x25afd4){return _0x4b20e1(_0x25afd4);},'tJCvn':_0x49a0ac(0x3c0),'WrSVw':_0x49a0ac(0x2f8),'eBGPQ':'moderator','Xkgrm':_0x49a0ac(0x36a),'uCEyq':_0x49a0ac(0x47e)},{msg:_0xf1b73b,sender:_0x14115b,senderId:_0x5bc19f,timestamp:_0x2d1f3b,audioUrl:_0x179cfd,audioBase64:_0x5e1b78,imageBase64:_0x41350e}=_0x180faa,_0x1b2385=sanitizeUsername(_0x14115b),_0x4c95ec=document[_0x49a0ac(0x34e)](_0x2e2e3e[_0x49a0ac(0x30a)]);if(_0x180faa[_0x49a0ac(0x2a4)]===_0x49a0ac(0x403)){const _0x59f71a=document[_0x49a0ac(0x34e)](_0x2e2e3e[_0x49a0ac(0x30a)]);_0x59f71a[_0x49a0ac(0x330)][_0x49a0ac(0x374)]=_0x49a0ac(0x398),_0x59f71a['style']['fontSize']=_0x49a0ac(0x360),_0x59f71a[_0x49a0ac(0x330)][_0x49a0ac(0x414)]=_0x49a0ac(0x320),_0x59f71a[_0x49a0ac(0x330)]['margin']=_0x2e2e3e['nvUWe'],_0x59f71a[_0x49a0ac(0x328)]=_0x180faa[_0x49a0ac(0x2c2)];const _0x563ea0=document[_0x49a0ac(0x3d7)]('messages');_0x563ea0[_0x49a0ac(0x366)](_0x59f71a),_0x563ea0['scrollTop']=_0x563ea0[_0x49a0ac(0x463)];return;}_0x4c95ec[_0x49a0ac(0x23e)]['add'](_0x2e2e3e['bKJuQ'],_0x439f7b?_0x2e2e3e[_0x49a0ac(0x314)]:_0x2e2e3e[_0x49a0ac(0x289)]);const _0x543944=new Date(_0x2d1f3b)[_0x49a0ac(0x45d)]([],{'hour':_0x2e2e3e[_0x49a0ac(0x203)],'minute':_0x2e2e3e['BFFwy']}),_0x1ef848=_0x2e2e3e[_0x49a0ac(0x396)](getRoleTag,_0x1b2385),_0x3d3dae=await fetchAvatar(_0x1b2385),_0x3b10ab=_0x3d3dae?_0x49a0ac(0x3b9)+_0x3d3dae+_0x49a0ac(0x441):'',_0x3e7b00=_0x3b10ab+_0x49a0ac(0x365)+_0x14115b+'\x20'+_0x1ef848+_0x49a0ac(0x22b),_0x224b2d=_0xf1b73b?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x342e16=_0x3e7b00+_0x49a0ac(0x2f6);if(_0x179cfd)_0x342e16+=_0x49a0ac(0x471)+_0x179cfd+_0x49a0ac(0x460);else{if(_0x5e1b78){const _0x46ffee=_0x49a0ac(0x216)+_0x5e1b78;_0x342e16+='<audio\x20controls\x20src=\x22'+_0x46ffee+_0x49a0ac(0x460);}else{if(_0x41350e){const _0x25e536=_0x49a0ac(0x415)+_0x41350e;_0x342e16+=_0x49a0ac(0x426)+_0x25e536+_0x49a0ac(0x30b);}else _0x342e16+=_0x49a0ac(0x2e7)+_0x224b2d+'</div>';}}_0x342e16+=_0x49a0ac(0x2b4)+_0x543944+'</small>',_0x4c95ec[_0x49a0ac(0x323)]=_0x342e16;if([_0x2e2e3e[_0x49a0ac(0x3b2)],_0x2e2e3e[_0x49a0ac(0x3df)],_0x2e2e3e[_0x49a0ac(0x402)]]['includes'](role)){let _0x1b764c=0x0;_0x4c95ec[_0x49a0ac(0x303)](_0x2e2e3e[_0x49a0ac(0x336)],()=>{const _0x2f32e1=_0x49a0ac;_0x1b764c++,_0x2e2e3e[_0x2f32e1(0x391)](_0x1b764c,0x3)&&(_0x2e2e3e[_0x2f32e1(0x296)](confirm,_0x2e2e3e['DdiLC'])&&(db[_0x2f32e1(0x3a9)]('rooms/'+roomCode+_0x2f32e1(0x3b3)+_0x5d4d31)[_0x2f32e1(0x464)](),_0x4c95ec['remove']())),_0x2e2e3e[_0x2f32e1(0x249)](setTimeout,()=>_0x1b764c=0x0,0x1f4);});}const _0xb5ea3c=document[_0x49a0ac(0x3d7)](_0x2e2e3e[_0x49a0ac(0x297)]);_0xb5ea3c[_0x49a0ac(0x366)](_0x4c95ec),_0xb5ea3c['scrollTop']=_0xb5ea3c[_0x49a0ac(0x463)];}function cleanupOldRooms(){const _0x4a3dd7=_0x55562d,_0x222d74={'kTHzk':function(_0x359545,_0x2daa3b){return _0x359545>_0x2daa3b;},'zCWIc':function(_0x3dfbcc,_0x108ce2){return _0x3dfbcc-_0x108ce2;},'YVjnw':function(_0xd9871e,_0xa0a3b0){return _0xd9871e*_0xa0a3b0;},'YxSsU':_0x4a3dd7(0x3ef),'XkNcn':_0x4a3dd7(0x401),'jBhVx':'antispamBlocked','duRTT':'rooms'};db[_0x4a3dd7(0x3a9)](_0x222d74[_0x4a3dd7(0x3bc)])[_0x4a3dd7(0x3b6)](_0x222d74[_0x4a3dd7(0x2a2)])['then'](_0x24e175=>{const _0x50221b=_0x4a3dd7,_0x593aa2=_0x24e175[_0x50221b(0x236)]();if(!_0x593aa2)return;const _0x369360=Date[_0x50221b(0x250)]();for(const _0x1469e0 in _0x593aa2){if(_0x1469e0===STATIC_ROOM)continue;const _0x466d64=_0x593aa2[_0x1469e0];_0x222d74[_0x50221b(0x223)](_0x222d74[_0x50221b(0x29e)](_0x369360,_0x466d64[_0x50221b(0x440)]||0x0),_0x222d74[_0x50221b(0x280)](0x2*0x3c,0x3e8))&&db[_0x50221b(0x3a9)](_0x222d74[_0x50221b(0x27c)]+_0x1469e0)[_0x50221b(0x464)]();}db[_0x50221b(0x3a9)](_0x50221b(0x28c))['once'](_0x222d74[_0x50221b(0x2a2)])['then'](_0x5b9ec8=>{const _0x2205d6=_0x50221b,_0x430d86=_0x5b9ec8['val']();if(!_0x430d86)return;for(const _0x43e080 in _0x430d86){if(_0x43e080!==STATIC_ROOM)db[_0x2205d6(0x3a9)](_0x2205d6(0x20f)+_0x43e080)[_0x2205d6(0x464)]();}}),db['ref'](_0x222d74[_0x50221b(0x340)])[_0x50221b(0x3b6)](_0x222d74[_0x50221b(0x2a2)])[_0x50221b(0x3dd)](_0x2d3a0a=>{const _0x155ea1=_0x50221b,_0x292d4e=_0x2d3a0a['val']();if(!_0x292d4e)return;for(const _0x10db4c in _0x292d4e){if(_0x10db4c!==STATIC_ROOM)db[_0x155ea1(0x3a9)](_0x155ea1(0x418)+_0x10db4c)['remove']();}});});}document[_0x55562d(0x303)](_0x55562d(0x24a),()=>{const _0x311cf0=_0x55562d,_0x58982e={'jaZsJ':function(_0x1052a6,_0x245556){return _0x1052a6===_0x245556;},'wHyqy':function(_0xf67d2f){return _0xf67d2f();},'wfHJg':_0x311cf0(0x43f)},_0x227b22=document['getElementById'](_0x58982e[_0x311cf0(0x421)]);_0x227b22&&_0x227b22['addEventListener']('keypress',function(_0x459e15){const _0x532656=_0x311cf0;_0x58982e[_0x532656(0x2b0)](_0x459e15[_0x532656(0x36d)],_0x532656(0x344))&&(_0x459e15['preventDefault'](),_0x58982e[_0x532656(0x45b)](sendMessage));});});function showScreen(_0x44cca6){const _0x39271e=_0x55562d,_0x1d521f={'cFZQc':'none','cjTgT':_0x39271e(0x30f),'wNogd':_0x39271e(0x35a),'ZsuaO':_0x39271e(0x204),'yoCiJ':_0x39271e(0x3ad),'nFktN':_0x39271e(0x461)};[_0x39271e(0x2a0),_0x39271e(0x2c7),_0x1d521f[_0x39271e(0x21a)],_0x1d521f[_0x39271e(0x1f5)],_0x1d521f[_0x39271e(0x29f)],'profileScreen','profileViewer',_0x1d521f[_0x39271e(0x3a8)],_0x1d521f[_0x39271e(0x458)]][_0x39271e(0x21d)](_0x3f6522=>{const _0x33637e=_0x39271e;document['getElementById'](_0x3f6522)[_0x33637e(0x330)][_0x33637e(0x3fc)]=_0x1d521f[_0x33637e(0x39d)];}),document[_0x39271e(0x3d7)](_0x44cca6)['style'][_0x39271e(0x3fc)]='flex';}function genRoomCode(){const _0x53739d=_0x55562d,_0x209103={'fzowU':_0x53739d(0x34d),'cffgq':function(_0x520b4c,_0x2e94e1){return _0x520b4c+_0x2e94e1;},'WoqNn':function(_0x5c4b73,_0x419d82){return _0x5c4b73+_0x419d82;},'Eqdjy':function(_0x55bc18,_0x494bdd,_0x24bd95){return _0x55bc18(_0x494bdd,_0x24bd95);},'XJYZP':function(_0x193cc5,_0x12f7a2,_0x4949cf){return _0x193cc5(_0x12f7a2,_0x4949cf);}},_0x182458=_0x209103[_0x53739d(0x3f1)],_0x3e55ad=_0x53739d(0x218),_0x2b9e1f=(_0x5008e4,_0x2b1156)=>Array[_0x53739d(0x309)]({'length':_0x2b1156},()=>_0x5008e4[Math['floor'](Math[_0x53739d(0x2e0)]()*_0x5008e4[_0x53739d(0x1f7)])])[_0x53739d(0x2f4)]('');return _0x209103[_0x53739d(0x387)](_0x209103[_0x53739d(0x1f8)](_0x209103[_0x53739d(0x1f8)](_0x209103['Eqdjy'](_0x2b9e1f,_0x3e55ad,0x3),_0x2b9e1f(_0x182458,0x3)),_0x209103[_0x53739d(0x2c1)](_0x2b9e1f,_0x3e55ad,0x2)),_0x209103[_0x53739d(0x3eb)](_0x2b9e1f,_0x182458,0x2));}function startInactivityTimer(){const _0x283f22=_0x55562d,_0x29f28c={'rcCKK':function(_0x58ad36,_0x5a4ccd){return _0x58ad36>_0x5a4ccd;},'lOqmM':function(_0xa07125,_0x4309a6){return _0xa07125-_0x4309a6;},'RUEXQ':function(_0x13f355,_0x56d122){return _0x13f355*_0x56d122;},'YygHL':function(_0x302d5c,_0x1e8bdb){return _0x302d5c!==_0x1e8bdb;},'GCjpH':function(_0xb09025,_0x1924c1){return _0xb09025+_0x1924c1;},'XFfBP':'rooms/','XmULR':function(_0x5a65ba,_0x4e741c){return _0x5a65ba(_0x4e741c);},'qhqBG':_0x283f22(0x389),'tgLtU':function(_0xabeee6,_0x4c5296,_0x394de0){return _0xabeee6(_0x4c5296,_0x394de0);}};_0x29f28c[_0x283f22(0x2d6)](setInterval,()=>{const _0x1b7c09=_0x283f22;_0x29f28c[_0x1b7c09(0x31d)](_0x29f28c[_0x1b7c09(0x1f2)](Date[_0x1b7c09(0x250)](),lastActivity),_0x29f28c[_0x1b7c09(0x3e7)](_0x29f28c[_0x1b7c09(0x3e7)](0x5,0x3c),0x3e8))&&_0x29f28c[_0x1b7c09(0x210)](roomCode,STATIC_ROOM)&&(db['ref'](_0x29f28c['GCjpH'](_0x29f28c[_0x1b7c09(0x2d5)],roomCode))[_0x1b7c09(0x31f)]({'active':![]}),_0x29f28c[_0x1b7c09(0x286)](alert,_0x29f28c[_0x1b7c09(0x34c)]),location[_0x1b7c09(0x222)]());},0x7530);}function setupSidebarBackHandler(){const _0x2d09ce=_0x55562d,_0x24f2b5={'lgfbM':_0x2d09ce(0x25d)};window[_0x2d09ce(0x303)](_0x2d09ce(0x371),()=>{const _0x14fe99=_0x2d09ce,_0x1c94e6=document[_0x14fe99(0x3d7)](_0x14fe99(0x38e));_0x1c94e6?.[_0x14fe99(0x23e)]['contains'](_0x24f2b5[_0x14fe99(0x3fa)])&&_0x1c94e6['classList'][_0x14fe99(0x464)](_0x24f2b5[_0x14fe99(0x3fa)]);});}function toggleSidebar(){const _0x410421=_0x55562d,_0x24c355={'kMGjG':'show'},_0x537d92=document[_0x410421(0x3d7)](_0x410421(0x38e));if(!_0x537d92[_0x410421(0x23e)][_0x410421(0x380)](_0x24c355[_0x410421(0x34b)]))_0x537d92[_0x410421(0x23e)]['add'](_0x410421(0x25d)),history['pushState']({'sidebarOpen':!![]},'');else{_0x537d92[_0x410421(0x23e)][_0x410421(0x464)](_0x24c355[_0x410421(0x34b)]);if(history[_0x410421(0x2fe)]?.[_0x410421(0x37c)])history[_0x410421(0x3c2)]();}}function setupVisibilityAttention(){const _0x28afc7=_0x55562d;let _0x220e85=0x0,_0x1994d6=document[_0x28afc7(0x2ee)];document[_0x28afc7(0x303)](_0x28afc7(0x253),()=>{const _0x31fccd=_0x28afc7;!document[_0x31fccd(0x240)]&&(document[_0x31fccd(0x2ee)]=_0x1994d6,_0x220e85=0x0);}),window[_0x28afc7(0x2b1)]=function(){const _0x57b5c6=_0x28afc7;document[_0x57b5c6(0x240)]&&(_0x220e85++,document[_0x57b5c6(0x2ee)]='('+_0x220e85+_0x57b5c6(0x3fb)+_0x1994d6);};}function tryEditProfile(){const _0x16d104=_0x55562d,_0x57f8a3={'HuSNx':_0x16d104(0x221)};document[_0x16d104(0x3d7)](_0x16d104(0x461))[_0x16d104(0x330)]['display']=_0x57f8a3[_0x16d104(0x47f)];}async function submitEditProfile(){const _0x373502=_0x55562d,_0x4b4bb6={'nDyXV':_0x373502(0x3e9),'AkPfA':_0x373502(0x445),'dbVvP':_0x373502(0x28e),'KJXpE':_0x373502(0x1f4),'vhyNy':function(_0x58bd42,_0x1c61eb){return _0x58bd42(_0x1c61eb);},'BYExu':'Profile\x20not\x20found.','twvSZ':function(_0x3b84cb,_0x3a6fb7){return _0x3b84cb(_0x3a6fb7);},'JaQNT':function(_0xa4fb12,_0x1bc941){return _0xa4fb12!==_0x1bc941;},'ZlXEm':function(_0x1ec4ce,_0x5d4536){return _0x1ec4ce*_0x5d4536;},'lveoB':function(_0x883cbb,_0x459552){return _0x883cbb>_0x459552;},'fEgBf':function(_0x4b448f,_0x40a768){return _0x4b448f-_0x40a768;},'SplNA':'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','omJWT':_0x373502(0x42b),'LMUMo':function(_0x20c6d2,_0x4ba0e2){return _0x20c6d2!==_0x4ba0e2;},'OoLPP':function(_0x536341,_0x556f2e){return _0x536341(_0x556f2e);},'LENjO':_0x373502(0x264)},_0xc4f8e=document[_0x373502(0x3d7)](_0x373502(0x424))[_0x373502(0x401)],_0x2d8553=document[_0x373502(0x3d7)](_0x4b4bb6[_0x373502(0x212)])['value'],_0x4e81cb=document[_0x373502(0x3d7)](_0x4b4bb6['AkPfA'])[_0x373502(0x401)][_0x373502(0x343)](),_0x52fc5b=document[_0x373502(0x3d7)](_0x4b4bb6[_0x373502(0x473)]);if(!_0xc4f8e){_0x52fc5b[_0x373502(0x328)]=_0x373502(0x435),_0x52fc5b[_0x373502(0x330)][_0x373502(0x3fc)]=_0x4b4bb6[_0x373502(0x3af)];return;}const _0x515d8d=_0x4b4bb6[_0x373502(0x382)](sanitizeUsername,username),_0x3adebb=await db[_0x373502(0x3a9)]('auth/'+_0x515d8d)[_0x373502(0x386)]();if(!_0x3adebb[_0x373502(0x377)]()){_0x52fc5b[_0x373502(0x328)]=_0x4b4bb6[_0x373502(0x3a2)],_0x52fc5b[_0x373502(0x330)]['display']=_0x4b4bb6['KJXpE'];return;}const _0x22115a=_0x3adebb[_0x373502(0x236)](),_0x1913be=await _0x4b4bb6[_0x373502(0x47a)](sha256,_0xc4f8e);if(_0x4b4bb6['JaQNT'](_0x1913be,_0x22115a[_0x373502(0x376)])){_0x52fc5b['innerText']=_0x373502(0x3cf),_0x52fc5b['style'][_0x373502(0x3fc)]=_0x4b4bb6[_0x373502(0x3af)];return;}const _0x2a3b5e={};if(_0x2d8553){const _0x5a05f2=await _0x4b4bb6[_0x373502(0x47a)](sha256,_0x2d8553);_0x2a3b5e[_0x373502(0x376)]=_0x5a05f2;}_0x4b4bb6['JaQNT'](_0x4e81cb,_0x22115a[_0x373502(0x24c)])&&(_0x2a3b5e[_0x373502(0x24c)]=_0x4e81cb);const _0x461db5=Date['now'](),_0x416031=_0x4b4bb6[_0x373502(0x454)](_0x4b4bb6['ZlXEm'](0x18,0x3c),0x3c)*0x3e8,_0x1077da=_0x4b4bb6['lveoB'](_0x4b4bb6['fEgBf'](_0x461db5,_0x22115a['lastChanged']||0x0),_0x416031);if(_0x1077da&&_0x4b4bb6[_0x373502(0x382)](confirm,_0x4b4bb6[_0x373502(0x2ad)])){const _0x3193f4=_0x4b4bb6[_0x373502(0x382)](prompt,_0x4b4bb6[_0x373502(0x333)]);_0x3193f4&&_0x3193f4[_0x373502(0x343)]()&&(_0x2a3b5e[_0x373502(0x2fd)]=_0x3193f4['trim'](),_0x2a3b5e[_0x373502(0x3d9)]=(_0x22115a[_0x373502(0x3d9)]||[])[_0x373502(0x470)](_0x3193f4[_0x373502(0x343)]()),_0x2a3b5e[_0x373502(0x291)]=_0x461db5);}_0x2a3b5e['username']&&_0x4b4bb6[_0x373502(0x229)](_0x2a3b5e[_0x373502(0x2fd)],_0x22115a[_0x373502(0x2fd)])?(await db[_0x373502(0x3a9)](_0x373502(0x43d)+_0x4b4bb6[_0x373502(0x2c3)](sanitizeUsername,_0x2a3b5e[_0x373502(0x2fd)]))['set']({..._0x22115a,..._0x2a3b5e}),await db[_0x373502(0x3a9)](_0x373502(0x43d)+_0x515d8d)[_0x373502(0x464)](),username=_0x2a3b5e[_0x373502(0x2fd)]):await db[_0x373502(0x3a9)]('auth/'+_0x515d8d)[_0x373502(0x31f)](_0x2a3b5e),alert(_0x4b4bb6[_0x373502(0x322)]),location[_0x373502(0x222)]();}function cancelEditProfile(){const _0x39f776=_0x55562d,_0x1bc5dd={'HBBxR':'editProfileScreen','SAyVI':_0x39f776(0x2c5),'fCckd':function(_0x3d8b57,_0x378914){return _0x3d8b57(_0x378914);},'GmZkV':_0x39f776(0x35a)};document[_0x39f776(0x3d7)](_0x1bc5dd['HBBxR'])['style'][_0x39f776(0x3fc)]=_0x1bc5dd['SAyVI'],_0x1bc5dd[_0x39f776(0x36b)](showScreen,_0x1bc5dd[_0x39f776(0x242)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={};function listenForUserList(){const _0x567a6b=_0x55562d,_0x255297={'vCDKY':function(_0x2cc196,_0x5503ff){return _0x2cc196!==_0x5503ff;},'qsyrh':function(_0x294e9f,_0x53f931){return _0x294e9f!==_0x53f931;},'RRcFH':_0x567a6b(0x28a),'SxzUo':_0x567a6b(0x33b),'qPiVi':_0x567a6b(0x403),'TlAwt':function(_0x485902){return _0x485902();},'VXZNW':function(_0x2b4546,_0x4ff846){return _0x2b4546(_0x4ff846);},'XOehV':_0x567a6b(0x401)};db[_0x567a6b(0x3a9)](_0x567a6b(0x217)+roomCode)['on'](_0x255297[_0x567a6b(0x36f)],async _0x4f0933=>{const _0x721d59=_0x567a6b;if(!_0x4f0933['exists']())return;const _0x9a04d7=_0x4f0933[_0x721d59(0x236)]();for(const [_0x2fd3b6,_0x46dd30]of Object[_0x721d59(0x2c8)](_0x9a04d7)){const _0x254039=_0x46dd30[_0x721d59(0x28a)]===!![],_0x46888d=cachedOnlineStatus[_0x2fd3b6];if(_0x255297['vCDKY'](_0x46888d,undefined)&&_0x255297[_0x721d59(0x26c)](_0x46888d,_0x254039)){const _0x134102=db['ref']()[_0x721d59(0x3b5)]()[_0x721d59(0x36d)];db[_0x721d59(0x3a9)](_0x721d59(0x3ef)+roomCode+_0x721d59(0x3b3)+_0x134102)['set']({'msg':(_0x46dd30[_0x721d59(0x2fd)]||_0x2fd3b6)+'\x20is\x20'+(_0x254039?_0x255297[_0x721d59(0x232)]:_0x255297[_0x721d59(0x459)]),'sender':_0x255297[_0x721d59(0x3d4)],'senderId':_0x721d59(0x403),'timestamp':Date[_0x721d59(0x250)]()});}cachedOnlineStatus[_0x2fd3b6]=_0x254039;}await _0x255297['TlAwt'](loadRoomRoles),_0x255297['VXZNW'](renderUserLists,_0x9a04d7);});}function trackPresence(){const _0xd8a5bb=_0x55562d,_0x4f8821={'tYESh':function(_0x5aebe8){return _0x5aebe8();},'YPAQU':function(_0x73e840,_0x57b810){return _0x73e840||_0x57b810;},'qyzxP':function(_0x41d7b8,_0x169f0b){return _0x41d7b8(_0x169f0b);}};if(!username||!roomCode)return;const _0x11db03=_0x4f8821[_0xd8a5bb(0x306)](sanitizeUsername,username),_0x29f3d0=db[_0xd8a5bb(0x3a9)](_0xd8a5bb(0x217)+roomCode+'/'+_0x11db03),_0x2fdf34={'username':username,'avatarBase64':_0x4f8821[_0xd8a5bb(0x3b7)](avatarBase64,''),'description':_0x4f8821['YPAQU'](userDescription,''),'online':!![],'lastOnline':firebase[_0xd8a5bb(0x3ce)][_0xd8a5bb(0x3ec)][_0xd8a5bb(0x410)]};db[_0xd8a5bb(0x3a9)](_0xd8a5bb(0x3e2)+roomCode+'/'+_0x11db03)[_0xd8a5bb(0x3b6)](_0xd8a5bb(0x401))[_0xd8a5bb(0x3dd)](_0x51c6b6=>{const _0x2caf23=_0xd8a5bb,_0x105655=_0x2caf23(0x3ff)[_0x2caf23(0x22f)]('|');let _0x23d35b=0x0;while(!![]){switch(_0x105655[_0x23d35b++]){case'0':_0x51c6b6[_0x2caf23(0x377)]()&&(_0x2fdf34[_0x2caf23(0x2f8)]=!![]);continue;case'1':_0x4f8821[_0x2caf23(0x422)](updateOnlineIndicator);continue;case'2':_0x29f3d0[_0x2caf23(0x465)](_0x2fdf34);continue;case'3':_0x29f3d0['onDisconnect']()[_0x2caf23(0x465)]({'username':username,'avatarBase64':_0x4f8821[_0x2caf23(0x3b7)](avatarBase64,''),'description':_0x4f8821[_0x2caf23(0x3b7)](userDescription,''),'online':![],'lastOnline':Date[_0x2caf23(0x250)]()});continue;case'4':_0x29f3d0[_0x2caf23(0x3bf)]()['update']({'online':![],'lastOnline':Date[_0x2caf23(0x250)]()});continue;}break;}});}function uploadSidebarAvatar(_0x3c02a9){const _0x2a2735=_0x55562d,_0x44db8e={'gbXDF':'sidebarAvatarPreview','hCwxE':'block','shvnq':function(_0x18c33c,_0x32fdce){return _0x18c33c(_0x32fdce);},'OMbmm':'✅\x20Profile\x20picture\x20updated!','lcNwz':'⚠️\x20Failed\x20to\x20update\x20avatar.'};if(!_0x3c02a9[_0x2a2735(0x3d2)][_0x2a2735(0x1f7)])return;const _0x389463=_0x3c02a9[_0x2a2735(0x3d2)][0x0],_0x3f2f3d=new FileReader();_0x3f2f3d['onloadend']=async()=>{const _0x222c01=_0x2a2735,_0x303a99=_0x3f2f3d[_0x222c01(0x31b)]['split'](',')[0x1];document[_0x222c01(0x3d7)](_0x44db8e[_0x222c01(0x46d)])[_0x222c01(0x26f)]=_0x3f2f3d[_0x222c01(0x31b)],document[_0x222c01(0x3d7)](_0x44db8e[_0x222c01(0x46d)])[_0x222c01(0x330)][_0x222c01(0x3fc)]=_0x44db8e['hCwxE'];try{const _0x2e3b83=sanitizeUsername(username);await db[_0x222c01(0x3a9)](_0x222c01(0x43d)+_0x2e3b83+'/avatarBase64')['set'](_0x303a99),_0x44db8e[_0x222c01(0x349)](alert,_0x44db8e[_0x222c01(0x2a7)]);}catch(_0x3ca63c){console[_0x222c01(0x3c5)](_0x3ca63c),alert(_0x44db8e[_0x222c01(0x407)]);}},_0x3f2f3d[_0x2a2735(0x3e6)](_0x389463);}function muteUser(_0x1323b5,_0x36f65b){const _0x1788f3=_0x55562d,_0x2071fe={'osBfG':function(_0x1c4435,_0x18b922){return _0x1c4435(_0x18b922);},'AuRyd':function(_0xae6745,_0x496f75){return _0xae6745+_0x496f75;}},_0xa19513=_0x2071fe['AuRyd'](Date[_0x1788f3(0x250)](),_0x36f65b*0x3c*0x3e8);db[_0x1788f3(0x3a9)]('muted/'+roomCode+'/'+sanitizeUsername(_0x1323b5))['set']({'muteUntil':_0xa19513})[_0x1788f3(0x3dd)](()=>{const _0x24f67a=_0x1788f3;alert(_0x1323b5+_0x24f67a(0x37d)+_0x36f65b+_0x24f67a(0x367)),_0x2071fe[_0x24f67a(0x370)](addSystemMessage,_0x1323b5+'\x20was\x20muted\x20for\x20'+_0x36f65b+_0x24f67a(0x31e));});}function unmuteUser(_0x928b75){const _0x2707ad=_0x55562d,_0x7b0ab9={'PlJOG':function(_0x2fc07a,_0x52cc3b){return _0x2fc07a(_0x52cc3b);},'vmnQi':_0x2707ad(0x479),'otnqg':function(_0x5b8e0b,_0x55cfce){return _0x5b8e0b(_0x55cfce);}};if(!isRoomAdmin)return _0x7b0ab9[_0x2707ad(0x26e)](alert,_0x7b0ab9['vmnQi']);db[_0x2707ad(0x3a9)](_0x2707ad(0x228)+roomCode+'/'+_0x7b0ab9['otnqg'](sanitizeUsername,_0x928b75))['remove']();}function updateOnlineIndicator(){const _0x4e5d15=_0x55562d,_0x2f8424={'nQPZO':'onlineStatus','mVMTY':_0x4e5d15(0x37e),'UOxwx':_0x4e5d15(0x45a)},_0xb66952=document[_0x4e5d15(0x3d7)](_0x2f8424[_0x4e5d15(0x2f5)]);_0xb66952[_0x4e5d15(0x328)]=_0x2f8424[_0x4e5d15(0x20c)],_0xb66952['style'][_0x4e5d15(0x414)]=_0x2f8424['UOxwx'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x1ac1ea){const _0x49fecd=_0x55562d,_0x934172={'WkOkU':_0x49fecd(0x28b),'adnLn':_0x49fecd(0x273),'axndk':_0x49fecd(0x2e6),'DDqyw':_0x49fecd(0x219),'nRqox':_0x49fecd(0x32c)};db[_0x49fecd(0x3a9)](_0x49fecd(0x43d)+_0x1ac1ea)[_0x49fecd(0x386)]()[_0x49fecd(0x3dd)](_0x511143=>{const _0x487089=_0x49fecd;if(!_0x511143[_0x487089(0x377)]())return alert(_0x934172[_0x487089(0x34f)]);const _0x1b8117=_0x511143['val'](),_0x3c8849=(_0x487089(0x292)+_0x1b8117[_0x487089(0x2fd)]+_0x487089(0x335)+(_0x1b8117[_0x487089(0x24c)]||_0x934172[_0x487089(0x241)])+'\x0aUsername\x20History:\x20'+((_0x1b8117[_0x487089(0x3d9)]||[])[_0x487089(0x2f4)](',\x20')||_0x934172[_0x487089(0x3fe)])+_0x487089(0x279)+(_0x1b8117[_0x487089(0x291)]?new Date(_0x1b8117['lastChanged'])[_0x487089(0x2bf)]():_0x934172['DDqyw'])+_0x487089(0x45e))[_0x487089(0x343)]();document[_0x487089(0x3d7)](_0x934172[_0x487089(0x211)])[_0x487089(0x328)]=_0x3c8849,document[_0x487089(0x3d7)](_0x487089(0x3aa))[_0x487089(0x330)]['display']='block';});}function initUsernameFlow(){const _0x361c26=_0x55562d,_0x3e90d4={'yDObT':_0x361c26(0x44b),'gPGqc':function(_0x52dde2,_0x2eff90){return _0x52dde2(_0x2eff90);},'ZyHCm':_0x361c26(0x26b),'Ucfig':_0x361c26(0x2ae),'ctVCc':function(_0x3ffffe,_0x5e3e24){return _0x3ffffe(_0x5e3e24);},'csoaK':_0x361c26(0x2c7)},_0x442101=localStorage[_0x361c26(0x268)](_0x3e90d4[_0x361c26(0x44e)]);!_0x442101?_0x3e90d4[_0x361c26(0x419)](showScreen,_0x3e90d4['ZyHCm']):(username=_0x442101,document[_0x361c26(0x3d7)](_0x3e90d4['Ucfig'])['innerText']=username,_0x3e90d4[_0x361c26(0x368)](showScreen,_0x3e90d4[_0x361c26(0x318)]));}function closeProfile(){const _0x1f8cee=_0x55562d,_0x22890a={'xPNqx':_0x1f8cee(0x3aa),'bfbkD':_0x1f8cee(0x2c5)};document[_0x1f8cee(0x3d7)](_0x22890a['xPNqx'])[_0x1f8cee(0x330)][_0x1f8cee(0x3fc)]=_0x22890a[_0x1f8cee(0x3f6)];}function resetWebsiteData(){const _0x58cb2e=_0x55562d,_0x4b17a2={'SEfoK':_0x58cb2e(0x417),'QBbTh':function(_0x571483,_0x5bb4c8){return _0x571483||_0x5bb4c8;},'hSDOy':function(_0x3d1e24,_0xb6519){return _0x3d1e24+_0xb6519;}};try{const _0x5d29a1=localStorage[_0x58cb2e(0x268)](_0x4b17a2[_0x58cb2e(0x224)]);localStorage['clear'](),sessionStorage[_0x58cb2e(0x3ea)](),_0x5d29a1&&localStorage[_0x58cb2e(0x35e)](_0x4b17a2[_0x58cb2e(0x224)],_0x5d29a1);}catch(_0x113ede){}_0x4b17a2[_0x58cb2e(0x408)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x4b17a2[_0x58cb2e(0x3b4)]('_',Math[_0x58cb2e(0x2e0)]()[_0x58cb2e(0x24b)](0x24)['substr'](0x2,0x9)));}function addAnnouncement(){const _0x1b2d42=_0x55562d,_0x197849={'lOSRf':function(_0x2e4a05,_0x2f35a8){return _0x2e4a05(_0x2f35a8);},'DXgfC':'Enter\x20Announcement\x20Text:'},_0x476e0d=_0x197849[_0x1b2d42(0x205)](prompt,_0x197849['DXgfC']);if(!_0x476e0d)return;db[_0x1b2d42(0x3a9)]('rooms/'+roomCode+_0x1b2d42(0x20a))[_0x1b2d42(0x465)]({'text':_0x476e0d,'by':username,'timestamp':Date[_0x1b2d42(0x250)]()});}function listenForAnnouncement(){const _0x5e96df=_0x55562d,_0x2a92c1={'oqMZU':_0x5e96df(0x438),'ZlKXT':_0x5e96df(0x401)},_0xf1ef4c=db[_0x5e96df(0x3a9)]('rooms/'+roomCode+_0x5e96df(0x20a));_0xf1ef4c['on'](_0x2a92c1['ZlKXT'],_0x4c4d66=>{const _0x5b7172=_0x5e96df,_0x49e5d5=_0x4c4d66['val']();if(!_0x49e5d5){document[_0x5b7172(0x3d7)](_0x2a92c1[_0x5b7172(0x33e)])[_0x5b7172(0x328)]='';return;}const _0x5d040c=document[_0x5b7172(0x3d7)](_0x2a92c1[_0x5b7172(0x33e)]);_0x5d040c[_0x5b7172(0x328)]=''+_0x49e5d5['text'];});}document[_0x55562d(0x3d7)]('announcementArea')[_0x55562d(0x303)](_0x55562d(0x36a),_0x1da827=>{const _0x59abad=_0x55562d,_0x1213d1={'zffzc':function(_0x4accb2,_0x14e293){return _0x4accb2(_0x14e293);}};_0x1da827[_0x59abad(0x337)]===0x3&&isRoomAdmin&&(_0x1213d1[_0x59abad(0x24d)](confirm,_0x59abad(0x456))&&db['ref'](_0x59abad(0x3ef)+roomCode+_0x59abad(0x20a))['remove']());}),document[_0x55562d(0x3d7)](_0x55562d(0x43f))['addEventListener'](_0x55562d(0x3be),()=>{const _0xbaf104=_0x55562d,_0x28297b={'oMggG':_0xbaf104(0x43f),'Avggd':_0xbaf104(0x40e)},_0xc418b1=document[_0xbaf104(0x3d7)](_0x28297b['oMggG']);_0x2e1538?_0xc418b1[_0xbaf104(0x330)][_0xbaf104(0x33a)]=_0xbaf104(0x40e):_0xc418b1[_0xbaf104(0x330)]['border']='';const _0x3730cf=_0xc418b1[_0xbaf104(0x401)][_0xbaf104(0x25f)](),_0x2e1538=swearWords[_0xbaf104(0x3f0)](_0x540f3e=>_0x3730cf[_0xbaf104(0x345)](_0x540f3e));_0x2e1538?(_0xc418b1['style'][_0xbaf104(0x33a)]=_0x28297b['Avggd'],sendBtn[_0xbaf104(0x2de)]=!![]):(_0xc418b1[_0xbaf104(0x330)]['border']='',_0x2e1538?_0xc418b1['style']['border']=_0x28297b['Avggd']:_0xc418b1['style']['border']='');});function muteUser(_0x1f9e7c,_0x64fc4){const _0x2bb39f=_0x55562d,_0x4544f6={'DerkY':function(_0x4bde7b,_0x2b5a41){return _0x4bde7b(_0x2b5a41);},'bFbKO':function(_0x225ed1,_0x49ea0e){return _0x225ed1+_0x49ea0e;},'gzdUk':function(_0x1f3162,_0x518a57){return _0x1f3162*_0x518a57;},'eDaGo':function(_0xa0c3c8,_0x1b5453){return _0xa0c3c8*_0x1b5453;}},_0x39a9c3=_0x4544f6[_0x2bb39f(0x41e)](Date[_0x2bb39f(0x250)](),_0x4544f6['gzdUk'](_0x4544f6[_0x2bb39f(0x2e5)](_0x64fc4,0x3c),0x3e8));db[_0x2bb39f(0x3a9)]('muted/'+roomCode+'/'+_0x4544f6['DerkY'](sanitizeUsername,_0x1f9e7c))[_0x2bb39f(0x465)]({'muteUntil':_0x39a9c3})['then'](()=>{const _0xefc8a4=_0x2bb39f;_0x4544f6[_0xefc8a4(0x1f0)](alert,_0x1f9e7c+_0xefc8a4(0x37d)+_0x64fc4+_0xefc8a4(0x367));});}function deleteUserMessages(_0x2b6275){const _0x1d09f1=_0x55562d,_0xfeb5f7={'wnTYz':function(_0x10e4eb,_0x504f6f){return _0x10e4eb(_0x504f6f);},'QwXor':_0x1d09f1(0x2a4)};db['ref']('rooms/'+roomCode+_0x1d09f1(0x238))[_0x1d09f1(0x41a)](_0xfeb5f7['QwXor'])['equalTo'](_0x2b6275)[_0x1d09f1(0x386)]()['then'](_0x22cc9a=>{const _0x35b6c7=_0x1d09f1;_0x22cc9a['forEach'](_0x41b9da=>{const _0x3e3c76=_0x5252;db[_0x3e3c76(0x3a9)](_0x3e3c76(0x3ef)+roomCode+_0x3e3c76(0x3b3)+_0x41b9da[_0x3e3c76(0x36d)])[_0x3e3c76(0x464)]();}),_0xfeb5f7['wnTYz'](alert,_0x35b6c7(0x2e3)+_0x2b6275+_0x35b6c7(0x354));});}function pauseRoom(_0x4d86e1){const _0x1562ab=_0x55562d,_0x43c501={'FRdzn':_0x1562ab(0x287),'TnSUE':_0x1562ab(0x1f4),'psoKC':'none','gPWtT':_0x1562ab(0x401)};db[_0x1562ab(0x3a9)](_0x1562ab(0x3ef)+roomCode+'/paused')['on'](_0x43c501['gPWtT'],_0x4158b1=>{const _0x128c89=_0x1562ab,_0x3c5d1e=_0x4158b1[_0x128c89(0x236)]();document[_0x128c89(0x3d7)](_0x43c501[_0x128c89(0x37a)])[_0x128c89(0x330)][_0x128c89(0x3fc)]=_0x3c5d1e?_0x43c501[_0x128c89(0x2dc)]:_0x43c501['psoKC'];});}function canPerformAction(_0x3b7c16){const _0x473aa0=_0x55562d,_0x3eced5={'wAlQu':function(_0x55cf5f,_0x56f30){return _0x55cf5f===_0x56f30;},'LoxLn':'dev','StqOS':_0x473aa0(0x2f0),'MdfoU':'deleteMessage','YaYpM':function(_0x3ba7df,_0x3e135d){return _0x3ba7df===_0x3e135d;},'ooovw':_0x473aa0(0x1fe),'kFSnZ':function(_0x1e7d07,_0x391808){return _0x1e7d07===_0x391808;},'bQJsC':_0x473aa0(0x434),'parMk':_0x473aa0(0x2f8)};if(_0x3eced5['wAlQu'](role,_0x3eced5[_0x473aa0(0x30d)]))return!![];if(_0x3eced5['wAlQu'](_0x3b7c16,_0x3eced5['StqOS'])||_0x3eced5[_0x473aa0(0x2fa)](_0x3b7c16,_0x3eced5[_0x473aa0(0x285)]))return _0x3eced5['YaYpM'](role,'admin')||_0x3eced5[_0x473aa0(0x3c1)](role,_0x3eced5[_0x473aa0(0x2af)]);if(_0x3eced5[_0x473aa0(0x363)](_0x3b7c16,_0x3eced5[_0x473aa0(0x269)]))return _0x3eced5[_0x473aa0(0x3c1)](role,_0x3eced5['parMk']);return![];}const html=Object[_0x55562d(0x331)](roomUsers)[_0x55562d(0x3a7)](_0x34a7eb=>{const _0x19b50d=_0x55562d,_0x554642={'ksiqk':function(_0x173773,_0x568c7a){return _0x173773(_0x568c7a);},'ygmHV':function(_0x57ceeb,_0x47c2c2){return _0x57ceeb(_0x47c2c2);},'iyXkE':_0x19b50d(0x2f0),'FDHeM':_0x19b50d(0x38d),'tyAHW':function(_0x5a0d29,_0x4366ee){return _0x5a0d29===_0x4366ee;},'UqMDE':_0x19b50d(0x3c0),'srTcB':_0x19b50d(0x2f8),'YnFgg':function(_0x2cd6c8,_0x91900){return _0x2cd6c8(_0x91900);}},_0x571d1c=_0x554642[_0x19b50d(0x2d2)](sanitizeUsername,_0x34a7eb[_0x19b50d(0x2fd)]),_0x3dc425=[];if(_0x571d1c!==_0x554642[_0x19b50d(0x437)](sanitizeUsername,username)){_0x554642[_0x19b50d(0x437)](canPerformAction,_0x554642['iyXkE'])&&(_0x3dc425[_0x19b50d(0x3b5)](_0x19b50d(0x226)+_0x571d1c+_0x19b50d(0x430)),_0x3dc425[_0x19b50d(0x3b5)](_0x19b50d(0x226)+_0x571d1c+_0x19b50d(0x317)));_0x554642[_0x19b50d(0x437)](canPerformAction,_0x554642[_0x19b50d(0x2ed)])&&_0x3dc425[_0x19b50d(0x3b5)](_0x19b50d(0x27d)+_0x571d1c+_0x19b50d(0x2b8));if(_0x554642[_0x19b50d(0x38f)](role,_0x554642[_0x19b50d(0x1ff)]))_0x3dc425['push'](_0x19b50d(0x258)+_0x571d1c+_0x19b50d(0x472)),_0x3dc425[_0x19b50d(0x3b5)](_0x19b50d(0x251)+_0x571d1c+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x554642[_0x19b50d(0x38f)](role,_0x554642[_0x19b50d(0x2a8)])&&_0x3dc425[_0x19b50d(0x3b5)](_0x19b50d(0x258)+_0x571d1c+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x19b50d(0x304)+_0x34a7eb['username']+'\x20'+_0x554642[_0x19b50d(0x2d2)](getRoleTag,_0x554642['YnFgg'](sanitizeUsername,_0x34a7eb['username']))+_0x19b50d(0x327)+_0x571d1c+_0x19b50d(0x30c)+_0x3dc425[_0x19b50d(0x2f4)]('')+_0x19b50d(0x2fb)+_0x571d1c+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>';})[_0x55562d(0x2f4)]('');function promoteToModerator(_0xc2dc1f){const _0x181d06=_0x55562d,_0x3e2539={'mucOP':function(_0x172b6b,_0x2c780e){return _0x172b6b(_0x2c780e);},'eHAdb':function(_0x4b0723,_0x599ae9){return _0x4b0723(_0x599ae9);},'OydLP':function(_0x575155,_0x41f431){return _0x575155(_0x41f431);},'TgnFF':function(_0x2da688,_0x2f0220){return _0x2da688(_0x2f0220);},'ZRNat':_0x181d06(0x2fc),'WBzxV':function(_0x349a2a,_0x1f2998){return _0x349a2a!==_0x1f2998;},'TpkTh':function(_0x53d948,_0x358091){return _0x53d948!==_0x358091;},'auETw':_0x181d06(0x37b)},_0x4ec7c7=_0x3e2539[_0x181d06(0x356)](sanitizeUsername,_0xc2dc1f);if(isProtected(_0x4ec7c7))return _0x3e2539['TgnFF'](alert,_0x3e2539[_0x181d06(0x27a)]);if(_0x3e2539[_0x181d06(0x2eb)](role,'dev')&&_0x3e2539[_0x181d06(0x2bd)](role,'admin')){_0x3e2539[_0x181d06(0x2f9)](alert,_0x3e2539[_0x181d06(0x214)]);return;}db[_0x181d06(0x3a9)](_0x181d06(0x375)+roomCode+'/'+_0x4ec7c7)[_0x181d06(0x465)](!![])[_0x181d06(0x3dd)](()=>{const _0x3d9486=_0x181d06;_0x3e2539['mucOP'](alert,_0xc2dc1f+_0x3d9486(0x436)),_0x3e2539[_0x3d9486(0x3ee)](addSystemMessage,_0xc2dc1f+_0x3d9486(0x416));});}function _0xfb07(){const _0x523118=['dmdfA','onload','setItem','received','0.8rem','HipTz','SQxDP','kFSnZ','akqJD','<span\x20class=\x22sender-name\x22>','appendChild','\x20minutes.','ctVCc','⛔\x20You\x20are\x20muted.','click','fCckd','typing','key','jLQEx','XOehV','osBfG','popstate','bidid','GuVio','textAlign','moderators/','passwordHash','exists','NssnH','authPasswordConfirm','FRdzn','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','sidebarOpen','\x20muted\x20for\x20','●\x20Online','QkZZU','contains','MKutT','vhyNy','XeuVy','gago','ervtG','get','cffgq','GyIei','Session\x20expired.','EchDf','bnhqI','RjhSP','deleteMessage','userSidebar','tyAHW','Type\x20a\x20message...','tfTeU','\x27)\x22>','KsyeD','userAgent','tJSIy','hEiBl','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','center','coño','tzvaa','jBGMv','CUqqJ','cFZQc','filter','profileError','userDisplay','zMZLT','BYExu','\x27)\x22>+Mod</button>','❌\x20Username\x20already\x20taken.','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','CtzrG','map','yoCiJ','ref','profileViewer','MNBtF','YkTSn','authScreen','PnTrW','KJXpE','duTrp','rTBeB','tJCvn','/messages/','hSDOy','push','once','YPAQU','authUsername','<img\x20src=\x22data:image/png;base64,','💬\x20','auth','duRTT','ulol','input','onDisconnect','dev','YaYpM','back','OCtck','replace','error','avatarBase64','Room\x20is\x20currently\x20paused.','div','audioBase64','onloadend','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','</li>','kYQCv','database','Incorrect\x20current\x20password.','Incorrect\x20password','drseT','files','authSubmitBtn','qPiVi','recordBtn','4567530yHpCXB','getElementById','zMaPd','usernameHistory','KSjXu','bobo','csIDP','then','gr8stg/','WrSVw','notifToggleBtn','1056852aUKCde','admins/','\x20is\x20typing...','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','readAsDataURL','RUEXQ','xKJJM','newPasswordInput','clear','Eqdjy','ServerValue','G-QDESJ2WR42','eHAdb','rooms/','some','fzowU','tangina','cabron','WmBPt','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','bfbkD','xliZZ','otario','toUpperCase','lgfbM',')\x20New\x20message\x20•\x20','display','UYHLv','axndk','0|4|2|3|1','wwpcU','value','eBGPQ','system','xjpXx','authAvatarPreview','\x20demoted\x20to\x20user.','lcNwz','QBbTh','authError','aWPSo','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','TNauP','yUOnf','2px\x20solid\x20red','uBACn','TIMESTAMP','VpMyl','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','authTitle','color','data:image/png;base64,','\x20was\x20promoted\x20to\x20Moderator','notifications_enabled','antispamBlocked/','gPGqc','orderByChild','Please\x20fill\x20in\x20all\x20fields.','ZrgKL','rsVZN','bFbKO','addAnnouncementBtn','Dbwyy','wfHJg','tYESh','active','oldPasswordInput','smjXW','<img\x20src=\x22','roomStates/','yOIYw','scrollTop','jCAbo','Enter\x20your\x20new\x20username:','Passwords\x20do\x20not\x20match.','985049198428','start','oSuNu','\x27,\x205)\x22>Mute\x205m</button>','Microphone\x20permission\x20denied.','eaCIv','JBeMT','promote','Please\x20enter\x20your\x20current\x20password.','\x20promoted\x20to\x20Moderator!','ygmHV','announcementArea','92EjYYIt','tyNer','New\x20Chat\x20Message','🎙️','auth/','avatar_base64','msgInput','created','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','HfJQz','6px\x20auto','Enter\x20a\x20valid\x20room\x20code','editBioInput','KUvJM','<button\x20onclick=\x22demoteUser(\x27','content','qUKCF','3Fpqqwt','chat_username','Failed\x20to\x20save\x20profile:','nVdXi','yDObT','all','axIOM','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','EZOLP','vgxjQ','ZlXEm','zDdxz','Remove\x20Announcement?','🔕\x20Disable\x20Notifications','nFktN','SxzUo','#00ff88','wHyqy','DDUoM','toLocaleTimeString','\x0a\x20\x20\x20\x20','false','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','editProfileScreen','2|1|4|0|3','scrollHeight','remove','set','XZDDS','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','RZRhk','irqqd','xYQwf','Cmxhr','DWJEz','gbXDF','AHuYS','IvNqu','concat','<audio\x20controls\x20src=\x22','\x27)\x22>Promote\x20to\x20Moderator</button>','dbVvP','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','XeLJQ','WyBSD','3|5|0|6|7|1|4|2','puta','Admins\x20only.','twvSZ','true','kPRjH','adminUserList','messages','HuSNx','porra','DerkY','adminControlsSection','lOqmM','JVyqV','block','wNogd','placeholder','length','WoqNn','warn','WABwG','PGABU','sidebarAvatarPreview','evTUe','moderator','UqMDE','HgGJF','kdlsT','BMEzG','BFFwy','passwordScreen','lOSRf','njLAG','Remove\x20this\x20announcement?','TDpws','acqAh','/announcement','PEwty','mVMTY','imageBase64','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','antispam/','YygHL','nRqox','nDyXV','PeavD','auETw','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','data:audio/webm;base64,','users/','0123456789','Unknown','cjTgT','[Unknown]','MoLsN','forEach','mPjdJ','DhUwO','PMtQU','flex','reload','kTHzk','SEfoK','EAQST','<button\x20onclick=\x22muteUser(\x27','passwordError','muted/','LMUMo','authDescription','</span>','XsfFi','authAvatar','vJsLm','split','\x20🔧\x20','profile_description','RRcFH','zbRPP','sent','jnKwR','val','KABIG','/messages','kcROu','xtdfB','EJdfl','Cgvqr','padStart','classList','margin','hidden','adnLn','GmZkV','initializeApp','profiles/','HwIGY','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','tnOka','CRLWp','XrRwD','DOMContentLoaded','toString','description','zffzc','play','bastard','now','<button\x20onclick=\x22promoteToAdmin(\x27','VhMme','visibilitychange','user','shit','VOgeg','Failed\x20to\x20register\x20user\x20into\x20room.','<button\x20onclick=\x22promoteToModerator(\x27','sOLyy','eSWsD','HxSeh','PQenz','show','catch','toLowerCase','OQGlL','TdBJO','\x27)\x22>Demote</button>','Incorrect\x20password.','✅\x20Profile\x20updated!\x20Please\x20reload.','No\x20room\x20code\x20available\x20for\x20private\x20rooms','YfbJT','gDeXp','getItem','bQJsC','DyhtG','profileScreen','qsyrh','uGThu','PlJOG','src','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','[Image]','requestPermission','No\x20bio\x20set','permission','Room\x20password\x20not\x20set.\x20Cannot\x20join.','width','gilipollas','aDXan','\x0aLast\x20Changed:\x20','ZRNat','❌\x20Image\x20must\x20be\x20under\x202MB','YxSsU','<button\x20onclick=\x22deleteUserMessages(\x27','userList','yJRTP','YVjnw','KbiEU','fontSize','VrllX','YsAqB','MdfoU','XmULR','pausedOverlay','gLRRP','DHaIl','online','Profile\x20not\x20found.','antispam','SHA-256','editProfileError','Username\x20already\x20exists.','NDNIQ','lastChanged','\x0aName:\x20','14vFWwDV','VlMDO','7924147xMVFEF','origq','uCEyq','asshole','UtIqX','pMlnk','mWqMO','roomDisplay','zUYnb','zCWIc','ZsuaO','usernameScreen','iRwtN','XkNcn','AYXYg','sender','easy-chatroom.firebaseapp.com','BTOwm','OMbmm','srTcB','WqNZq','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','liWkC','userOptions-','SplNA','namePreview','ooovw','jaZsJ','flagPageAttention','\x27,\x201)\x22>Mute\x201m</button>','JPTsG','<small>','2-digit','rjgQX','Wasbq','\x27)\x22>Delete\x20Messages</button>','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','10EyhspR','bitch','RUind','TpkTh','gIZzO','toLocaleString','mierda','XJYZP','msg','OoLPP','Register','none','typing/','roomChoiceScreen','entries','yqVWY','dMQIM','mediaDevices','bwisit','AnpbJ','size','MPPMP','eswdi','xAtms','ksiqk','zljdb','muteUntil','XFfBP','tgLtU','WPZtW','sJMHU','ldCSY','zSJIO','YreEa','TnSUE','jXfcd','disabled','nuXnz','random','UTBxj','jwqsb','Messages\x20by\x20','staticPasswordInput','eDaGo','No\x20changes\x20yet','<div>','VZjGB','[Voice\x20message]','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','WBzxV','SuThG','FDHeM','title','ilGdQ','mute','Login','HbabS','KaUgO','join','nQPZO','<br>','wGpAF','admin','mucOP','wAlQu','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','🚫\x20Cannot\x20promote\x20Developers.','username','state','\x20is\x20online','CdisV','755112WkeQlD','/paused','addEventListener','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','digest','qyzxP','limitToLast','NQshU','from','PnBCY','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','LoxLn','subtle','codeEntryScreen','🔔\x20Enable\x20Notifications','substr','qEjrM','granted','sdbEf','data','376689rVyclQ','\x27,\x2010)\x22>Mute\x2010m</button>','csoaK','OpJGQ','EpjmQ','result','bkwIq','rcCKK','\x20minutes','update','#aaa','1:985049198428:web:d0eb7e2de39887710c9b99','LENjO','innerHTML','agCBJ','yXhWF','onstop','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','innerText','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','MelMZ','bIyHG','profileContent','tOCIL','ItHOH','cunt','style','values','dLBRp','omJWT','rLEpV','\x0aDescription:\x20','Xkgrm','detail','easy-chatroom.firebasestorage.app','object','border','offline','role','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','oqMZU','merda','jBhVx','361376XYyWjo','profileDescriptionInput','trim','Enter','includes','KXMhb','Account\x20not\x20found.','bLxMC','shvnq','69585QbyIdF','kMGjG','qhqBG','ABCDEFGHIJKLMNOPQRSTUVWXYZ','createElement','WkOkU','LHunM','tOQeS','encode','HDGix','\x20deleted.','XYxAx','OydLP','getUserMedia','5|3|4|0|1|2','tBOeo','chatScreen','sgnsv'];_0xfb07=function(){return _0x523118;};return _0xfb07();}function promoteToAdmin(_0x1bced8){const _0x4f1fe7=_0x55562d,_0x442017={'EZOLP':function(_0x4d3d69,_0x10072f){return _0x4d3d69(_0x10072f);},'mWqMO':function(_0x5dbeef,_0x17f9f8){return _0x5dbeef(_0x17f9f8);},'vcywb':'🚫\x20Cannot\x20promote\x20Developers.','tOCIL':function(_0x3f1a72,_0x172426){return _0x3f1a72!==_0x172426;},'FmLGc':_0x4f1fe7(0x3c0)},_0x350a8e=_0x442017[_0x4f1fe7(0x452)](sanitizeUsername,_0x1bced8);if(_0x442017['EZOLP'](isProtected,_0x350a8e))return _0x442017[_0x4f1fe7(0x29b)](alert,_0x442017['vcywb']);if(_0x442017[_0x4f1fe7(0x32d)](role,_0x442017['FmLGc'])){alert(_0x4f1fe7(0x474));return;}db[_0x4f1fe7(0x3a9)](_0x4f1fe7(0x3e2)+roomCode+'/'+_0x350a8e)[_0x4f1fe7(0x465)](!![])[_0x4f1fe7(0x3dd)](()=>{const _0x2dc35c=_0x4f1fe7;_0x442017[_0x2dc35c(0x452)](alert,_0x1bced8+'\x20promoted\x20to\x20Admin!'),_0x442017[_0x2dc35c(0x452)](addSystemMessage,_0x1bced8+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x5be6d9){const _0x1ca15e=_0x55562d,_0xdf00c9={'PeavD':_0x1ca15e(0x3c0),'HTtjK':'admin','RsfUM':function(_0x456238,_0x2eeca6){return _0x456238===_0x2eeca6;},'bLxMC':_0x1ca15e(0x2c5),'yJRTP':_0x1ca15e(0x1f4)};(role===_0xdf00c9[_0x1ca15e(0x213)]||role===_0xdf00c9['HTtjK'])&&controls['push'](_0x1ca15e(0x447)+safeName+'\x27)\x22>Demote</button>');const _0x577f86=document[_0x1ca15e(0x3d7)](_0x1ca15e(0x2ac)+_0x5be6d9);_0xdf00c9['RsfUM'](_0x577f86[_0x1ca15e(0x330)][_0x1ca15e(0x3fc)],_0xdf00c9['bLxMC'])?_0x577f86['style']['display']=_0xdf00c9[_0x1ca15e(0x27f)]:_0x577f86[_0x1ca15e(0x330)][_0x1ca15e(0x3fc)]=_0xdf00c9[_0x1ca15e(0x348)];}function demoteUser(_0x59c812){const _0x59bc9d=_0x55562d,_0x5d3107={'akqJD':function(_0x1113f5,_0x570ddc){return _0x1113f5(_0x570ddc);},'dMQIM':_0x59bc9d(0x2aa),'SQxDP':function(_0x3ff32f,_0x23d6f9){return _0x3ff32f===_0x23d6f9;},'Wasbq':_0x59bc9d(0x3c0),'xKJJM':function(_0x57bfe0,_0x295933){return _0x57bfe0===_0x295933;},'BMEzG':_0x59bc9d(0x2f8),'acqAh':function(_0x214ebe,_0x14fa9a){return _0x214ebe(_0x14fa9a);},'oxYay':'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(_0x5d3107[_0x59bc9d(0x364)](isProtected,_0x59c812))return _0x5d3107[_0x59bc9d(0x364)](alert,_0x5d3107[_0x59bc9d(0x2ca)]);if(_0x5d3107[_0x59bc9d(0x362)](role,_0x5d3107[_0x59bc9d(0x2b7)]))db[_0x59bc9d(0x3a9)](_0x59bc9d(0x3e2)+roomCode+'/'+_0x59c812)[_0x59bc9d(0x464)](),db[_0x59bc9d(0x3a9)]('moderators/'+roomCode+'/'+_0x59c812)['remove'](),alert(_0x59c812+'\x20demoted\x20to\x20user.');else _0x5d3107[_0x59bc9d(0x3e8)](role,_0x5d3107[_0x59bc9d(0x202)])?(db[_0x59bc9d(0x3a9)](_0x59bc9d(0x375)+roomCode+'/'+_0x59c812)['remove'](),_0x5d3107[_0x59bc9d(0x209)](alert,_0x59c812+_0x59bc9d(0x406))):_0x5d3107[_0x59bc9d(0x209)](alert,_0x5d3107['oxYay']);}function getRoleTag(_0x5ae0e9){const _0x4693fa=_0x55562d,_0x29d365={'qUKCF':function(_0x421918,_0x6c961b){return _0x421918(_0x6c961b);}},_0x2a9d5a=_0x29d365[_0x4693fa(0x449)](sanitizeUsername,_0x5ae0e9);if(globalDevs[_0x4693fa(0x345)](_0x2a9d5a))return _0x4693fa(0x33d);if(roomAdmins[_0x4693fa(0x345)](_0x2a9d5a))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x4693fa(0x345)](_0x2a9d5a))return _0x4693fa(0x451);return'';}async function loadRoomRoles(){const _0x31302d=_0x55562d,_0x215586={'MKutT':_0x31302d(0x3c0),'QkZZU':function(_0x5492ce,_0x1d9bbd){return _0x5492ce(_0x1d9bbd);},'xjpXx':_0x31302d(0x3bb),'kdlsT':_0x31302d(0x2f8),'NssnH':_0x31302d(0x1fe),'DThkZ':'user'},_0x357289=_0x215586[_0x31302d(0x37f)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x5c9f2e=await db[_0x31302d(0x3a9)](_0x215586[_0x31302d(0x404)])['get']();_0x5c9f2e[_0x31302d(0x21d)](_0x4bbf6d=>{const _0x2cd1fa=_0x31302d;if(_0x4bbf6d[_0x2cd1fa(0x236)]()[_0x2cd1fa(0x33c)]===_0x215586[_0x2cd1fa(0x381)])globalDevs[_0x2cd1fa(0x3b5)](_0x4bbf6d[_0x2cd1fa(0x36d)]);});const _0x158b5f=await db['ref'](_0x31302d(0x3e2)+roomCode)[_0x31302d(0x386)]();_0x158b5f[_0x31302d(0x377)]()&&_0x158b5f['forEach'](_0x346991=>roomAdmins['push'](_0x346991[_0x31302d(0x36d)]));const _0x35daeb=await db[_0x31302d(0x3a9)](_0x31302d(0x375)+roomCode)['get']();_0x35daeb[_0x31302d(0x377)]()&&_0x35daeb[_0x31302d(0x21d)](_0x2f376e=>roomModerators[_0x31302d(0x3b5)](_0x2f376e[_0x31302d(0x36d)]));if(globalDevs[_0x31302d(0x345)](_0x357289))role=_0x215586['MKutT'];else{if(roomAdmins[_0x31302d(0x345)](_0x357289))role=_0x215586[_0x31302d(0x201)];else roomModerators[_0x31302d(0x345)](_0x357289)?role=_0x215586[_0x31302d(0x378)]:role=_0x215586['DThkZ'];}}async function renderUserLists(_0x5c3161){const _0x35923c=_0x55562d,_0x49f48a={'yMksp':function(_0x28940c,_0x2dffef){return _0x28940c(_0x2dffef);},'axIOM':function(_0x2303b8,_0x73dff1){return _0x2303b8(_0x73dff1);},'PnTrW':function(_0x1fd72b,_0x1d50c6){return _0x1fd72b(_0x1d50c6);},'RjhSP':function(_0x2ea3e1,_0x88edf3){return _0x2ea3e1===_0x88edf3;},'HbabS':function(_0x1fd78c,_0x415058){return _0x1fd78c(_0x415058);},'IvNqu':function(_0xdb1abb,_0x1e29b8){return _0xdb1abb===_0x1e29b8;},'JVyqV':_0x35923c(0x2f8),'tSfsp':function(_0x1a4ac3,_0x3c0f1a){return _0x1a4ac3===_0x3c0f1a;},'zUYnb':function(_0x35a609,_0x28ec45){return _0x35a609(_0x28ec45);},'jCAbo':_0x35923c(0x3c0),'WmBPt':_0x35923c(0x2c5),'RyGIc':_0x35923c(0x27e)};roomUsers=_0x5c3161;const _0x3e87de=_0x49f48a[_0x35923c(0x29d)](sanitizeUsername,username),_0x20b293=role===_0x49f48a[_0x35923c(0x42a)]||_0x49f48a[_0x35923c(0x38c)](role,_0x35923c(0x2f8))||role==='moderator';document[_0x35923c(0x3d7)](_0x35923c(0x1f1))[_0x35923c(0x330)]['display']=_0x20b293?'block':_0x49f48a[_0x35923c(0x3f4)];const _0x3d4a75=Object['entries'](_0x5c3161)['map'](async([_0xda5a3c,_0x4f2ac0])=>{const _0x1fba81=_0x35923c,_0x1d0d6c=_0x49f48a['yMksp'](sanitizeUsername,_0x4f2ac0[_0x1fba81(0x2fd)]||_0xda5a3c),_0x4d69a9=await _0x49f48a[_0x1fba81(0x450)](fetchAvatar,_0x1d0d6c),_0x2425cc=_0x4d69a9?_0x1fba81(0x3b9)+_0x4d69a9+_0x1fba81(0x215):'',_0x3a91a9=_0x4f2ac0[_0x1fba81(0x28a)]?_0x1fba81(0x270):_0x1fba81(0x412);return'<li>'+_0x2425cc+'\x20'+_0x3a91a9+_0x1fba81(0x3f5)+_0x1d0d6c+_0x1fba81(0x392)+(_0x4f2ac0[_0x1fba81(0x2fd)]||_0xda5a3c)+'</span>\x20'+getRoleTag(_0x1d0d6c)+_0x1fba81(0x3cc);}),_0x510f90=await Promise[_0x35923c(0x44f)](_0x3d4a75);document[_0x35923c(0x3d7)](_0x49f48a['RyGIc'])[_0x35923c(0x323)]=_0x510f90[_0x35923c(0x2f4)]('');if(!_0x20b293)return;const _0x4b03aa=Object[_0x35923c(0x2c8)](_0x5c3161)['map'](async([_0x502445,_0x24a9b8])=>{const _0x23af12=_0x35923c,_0x40e445=_0x49f48a[_0x23af12(0x3ae)](sanitizeUsername,_0x24a9b8[_0x23af12(0x2fd)]||_0x502445);if(_0x49f48a[_0x23af12(0x38c)](_0x40e445,_0x3e87de))return'';const _0x3d1255=globalDevs[_0x23af12(0x345)](_0x40e445),_0x49af4c=await _0x49f48a[_0x23af12(0x2f2)](fetchAvatar,_0x40e445),_0x11f65d=_0x49af4c?'<img\x20src=\x22data:image/png;base64,'+_0x49af4c+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x16ba19=_0x24a9b8[_0x23af12(0x28a)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x23af12(0x412),_0x21e2dd=[];if(!_0x3d1255){(role===_0x23af12(0x3c0)||_0x49f48a[_0x23af12(0x46f)](role,_0x49f48a[_0x23af12(0x1f3)])||role===_0x23af12(0x1fe))&&(_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x226)+_0x40e445+_0x23af12(0x2b2)),_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x226)+_0x40e445+_0x23af12(0x430)),_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x226)+_0x40e445+_0x23af12(0x317)));if(_0x49f48a[_0x23af12(0x46f)](role,_0x23af12(0x3c0)))_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x258)+_0x40e445+_0x23af12(0x3a3)),_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x251)+_0x40e445+'\x27)\x22>+Admin</button>'),_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x447)+_0x40e445+_0x23af12(0x262));else _0x49f48a['tSfsp'](role,_0x49f48a[_0x23af12(0x1f3)])&&(_0x21e2dd[_0x23af12(0x3b5)](_0x23af12(0x258)+_0x40e445+'\x27)\x22>+Mod</button>'),_0x21e2dd['push'](_0x23af12(0x447)+_0x40e445+_0x23af12(0x262)));}return _0x23af12(0x397)+_0x11f65d+'\x20'+_0x16ba19+_0x23af12(0x230)+(_0x24a9b8[_0x23af12(0x2fd)]||_0x502445)+'\x20'+_0x49f48a[_0x23af12(0x29d)](getRoleTag,_0x40e445)+_0x23af12(0x3e4)+_0x21e2dd[_0x23af12(0x2f4)]('\x20')+_0x23af12(0x2ea);}),_0x189492=await Promise[_0x35923c(0x44f)](_0x4b03aa);document[_0x35923c(0x3d7)](_0x35923c(0x47d))[_0x35923c(0x323)]=_0x189492[_0x35923c(0x2f4)]('');}async function fetchAvatar(_0xa5c12){const _0x35bcfd=_0x55562d;if(userAvatars[_0xa5c12])return userAvatars[_0xa5c12];const _0x18f323=await db[_0x35bcfd(0x3a9)](_0x35bcfd(0x43d)+_0xa5c12)[_0x35bcfd(0x386)]();if(_0x18f323[_0x35bcfd(0x377)]()&&_0x18f323[_0x35bcfd(0x236)]()[_0x35bcfd(0x3c6)])return userAvatars[_0xa5c12]=_0x18f323[_0x35bcfd(0x236)]()[_0x35bcfd(0x3c6)],userAvatars[_0xa5c12];return null;}function sendTyping(){const _0x36c25c=_0x55562d,_0x71ad81={'OpJGQ':function(_0x558945,_0x53936a){return _0x558945(_0x53936a);},'NqFUH':function(_0x39d172,_0x36f36,_0x3045b7){return _0x39d172(_0x36f36,_0x3045b7);}},_0xc2889b=_0x71ad81[_0x36c25c(0x319)](sanitizeUsername,username),_0x163dfa=Date[_0x36c25c(0x250)]();db[_0x36c25c(0x3a9)](_0x36c25c(0x2c6)+roomCode+'/'+_0xc2889b)[_0x36c25c(0x465)](_0x163dfa);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=_0x71ad81['NqFUH'](setTimeout,()=>{const _0x31109f=_0x36c25c;db[_0x31109f(0x3a9)](_0x31109f(0x2c6)+roomCode+'/'+_0xc2889b)['remove']();},0xbb8);}function listenForTyping(){const _0x2b0057=_0x55562d,_0x1bbd3f={'wwpcU':_0x2b0057(0x36c),'xYQwf':_0x2b0057(0x401)};db[_0x2b0057(0x3a9)](_0x2b0057(0x2c6)+roomCode)['on'](_0x1bbd3f[_0x2b0057(0x46a)],_0x2a9b96=>{const _0x3b3cc5=_0x2b0057,_0x28a901=document[_0x3b3cc5(0x3d7)](_0x1bbd3f[_0x3b3cc5(0x400)]);if(!_0x2a9b96['exists']())return _0x28a901[_0x3b3cc5(0x328)]='';const _0xebdede=Date[_0x3b3cc5(0x250)](),_0xa94812=Object[_0x3b3cc5(0x2c8)](_0x2a9b96['val']())[_0x3b3cc5(0x39e)](([_0x1ee24e,_0x4d41b1])=>_0x1ee24e!==sanitizeUsername(username)&&_0xebdede-_0x4d41b1<0x1388)['map'](([_0x5e7f7e])=>_0x5e7f7e);_0x28a901[_0x3b3cc5(0x328)]=_0xa94812[_0x3b3cc5(0x1f7)]?_0xa94812[_0x3b3cc5(0x2f4)](',\x20')+_0x3b3cc5(0x3e3):'';});}function watchMuteStatus(){const _0x5b2608=_0x55562d,_0x35204c={'ItHOH':function(_0x42670b,_0x480efd){return _0x42670b===_0x480efd;},'ulRdc':_0x5b2608(0x339),'HwIGY':function(_0xe77e5b,_0x239f7d){return _0xe77e5b>_0x239f7d;},'DDUoM':_0x5b2608(0x369),'mIOmW':'Type\x20a\x20message...','gDeXp':function(_0x20f39f,_0x96951e){return _0x20f39f(_0x96951e);}},_0x3bd15e=db[_0x5b2608(0x3a9)]('muted/'+roomCode+'/'+_0x35204c[_0x5b2608(0x267)](sanitizeUsername,username));_0x3bd15e['on'](_0x5b2608(0x401),_0x2a897f=>{const _0x20f0ea=_0x5b2608,_0x12bc85=document[_0x20f0ea(0x3d7)](_0x20f0ea(0x43f));if(_0x2a897f[_0x20f0ea(0x377)]()){const _0x40c19b=_0x2a897f[_0x20f0ea(0x236)](),_0x1d4d47=_0x35204c[_0x20f0ea(0x32e)](typeof _0x40c19b,_0x35204c['ulRdc'])&&_0x40c19b[_0x20f0ea(0x2d4)]?_0x40c19b[_0x20f0ea(0x2d4)]:_0x40c19b;_0x12bc85[_0x20f0ea(0x2de)]=_0x35204c['HwIGY'](_0x1d4d47,Date[_0x20f0ea(0x250)]()),_0x12bc85[_0x20f0ea(0x1f6)]=_0x35204c[_0x20f0ea(0x245)](_0x1d4d47,Date[_0x20f0ea(0x250)]())?_0x35204c[_0x20f0ea(0x45c)]:_0x35204c['mIOmW'];}else _0x12bc85['disabled']=![],_0x12bc85[_0x20f0ea(0x1f6)]=_0x35204c['mIOmW'];});}function isProtected(_0xfb8b16){const _0x12dbcb=_0x55562d;return globalDevs[_0x12dbcb(0x345)](_0xfb8b16);}function addSystemMessage(_0x4f1d76){const _0xd345e7=_0x55562d,_0x162611={'HipTz':_0xd345e7(0x3c8),'YfbJT':_0xd345e7(0x360),'OQGlL':_0xd345e7(0x320),'tOQeS':_0xd345e7(0x443),'uGThu':_0xd345e7(0x47e)},_0x356de0=document['createElement'](_0x162611[_0xd345e7(0x361)]);_0x356de0[_0xd345e7(0x330)][_0xd345e7(0x374)]='center',_0x356de0[_0xd345e7(0x330)][_0xd345e7(0x282)]=_0x162611[_0xd345e7(0x266)],_0x356de0[_0xd345e7(0x330)][_0xd345e7(0x414)]=_0x162611[_0xd345e7(0x260)],_0x356de0[_0xd345e7(0x330)][_0xd345e7(0x23f)]=_0x162611[_0xd345e7(0x351)],_0x356de0['innerText']=_0x4f1d76,document['getElementById'](_0x162611[_0xd345e7(0x26d)])['appendChild'](_0x356de0),document[_0xd345e7(0x3d7)](_0x162611[_0xd345e7(0x26d)])[_0xd345e7(0x429)]=document[_0xd345e7(0x3d7)](_0x162611[_0xd345e7(0x26d)])[_0xd345e7(0x463)];}