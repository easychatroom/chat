const _0x435961=_0x3eb1;(function(_0x3144d0,_0x3406c0){const _0x3801d8=_0x3eb1,_0x417fee=_0x3144d0();while(!![]){try{const _0x4287bb=parseInt(_0x3801d8(0x10c))/0x1+parseInt(_0x3801d8(0x36f))/0x2+-parseInt(_0x3801d8(0x112))/0x3+parseInt(_0x3801d8(0x319))/0x4*(parseInt(_0x3801d8(0x12f))/0x5)+parseInt(_0x3801d8(0x19c))/0x6*(-parseInt(_0x3801d8(0x3af))/0x7)+-parseInt(_0x3801d8(0x32a))/0x8+-parseInt(_0x3801d8(0x24f))/0x9*(parseInt(_0x3801d8(0x3df))/0xa);if(_0x4287bb===_0x3406c0)break;else _0x417fee['push'](_0x417fee['shift']());}catch(_0x171623){_0x417fee['push'](_0x417fee['shift']());}}}(_0x400f,0xbf297));const firebaseConfig={'apiKey':_0x435961(0x1bf),'authDomain':_0x435961(0x325),'databaseURL':_0x435961(0x3ac),'projectId':_0x435961(0x2ff),'storageBucket':_0x435961(0x39c),'messagingSenderId':_0x435961(0x24a),'appId':_0x435961(0x2ba),'measurementId':_0x435961(0x253)};firebase[_0x435961(0x125)](firebaseConfig);const messaging=firebase['messaging'](),db=firebase['database']();let deviceId=null;((async()=>{const _0xb7bdce={'JghRp':function(_0xebef2f){return _0xebef2f();}};deviceId=await _0xb7bdce['JghRp'](generateDeviceId);})());const swearWords=[_0x435961(0x27b),'shit',_0x435961(0x2ef),_0x435961(0x160),_0x435961(0x364),_0x435961(0x174),'cunt',_0x435961(0x35c),_0x435961(0x284),_0x435961(0x12d),_0x435961(0x213),_0x435961(0x3b3),'gilipollas','porra',_0x435961(0x39f),'merda',_0x435961(0x35c),_0x435961(0x3b6),'otario',_0x435961(0x293),'gago','tangina','ulol',_0x435961(0x1ad),_0x435961(0x3a5),'putang\x20ina'],style=document['createElement'](_0x435961(0x301));style[_0x435961(0x1fe)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document[_0x435961(0x39d)]['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x435961(0x3e6)]()[_0x435961(0x1d4)](0x24)[_0x435961(0x248)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x435961(0x1d6),MAX_MESSAGES=0xfa,sound=new Audio(_0x435961(0x1a1));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x556337=_0x435961,_0x445852={'llQsD':function(_0x18e163,_0x57db64){return _0x18e163+_0x57db64;},'iyGEg':function(_0x15cea2,_0x52b28d){return _0x15cea2+_0x52b28d;}},_0x2f11ea=_0x445852[_0x556337(0x130)](_0x445852[_0x556337(0x28c)](navigator[_0x556337(0x3cb)],screen[_0x556337(0x23b)]),screen['height']),_0x3edf3d=await sha256(_0x2f11ea);return'_'+_0x3edf3d[_0x556337(0x248)](0x0,0x14);}function sha256(_0x3877e2){const _0x13d2bc=_0x435961,_0x48eb24={'eVkLq':_0x13d2bc(0x2e4)},_0x16fd7f=new TextEncoder()[_0x13d2bc(0x10a)](_0x3877e2);return crypto[_0x13d2bc(0x20f)][_0x13d2bc(0x1f7)](_0x48eb24[_0x13d2bc(0x1c1)],_0x16fd7f)['then'](_0x4d1032=>{const _0x2a1857=_0x13d2bc;return Array[_0x2a1857(0x35f)](new Uint8Array(_0x4d1032))['map'](_0x2529a3=>_0x2529a3[_0x2a1857(0x1d4)](0x10)['padStart'](0x2,'0'))['join']('');});}function toggleNotifications(){const _0x2b93b0=_0x435961,_0x183b09={'IcgAR':function(_0x36a2b2,_0x4cc51f){return _0x36a2b2===_0x4cc51f;},'ZpbFr':_0x2b93b0(0x392),'GlZHk':'true','Gykyo':'notifToggleBtn','vyPWr':'üîï\x20Disable\x20Notifications','rnbzl':_0x2b93b0(0x242),'XTKUF':_0x2b93b0(0x1b0)};Notification['permission']!==_0x183b09[_0x2b93b0(0x3ed)]?Notification[_0x2b93b0(0x1e1)]()[_0x2b93b0(0x289)](_0x40589b=>{const _0x2f2190=_0x2b93b0;_0x183b09['IcgAR'](_0x40589b,_0x183b09[_0x2f2190(0x3ed)])&&(notificationsEnabled=!![],localStorage[_0x2f2190(0x177)](_0x2f2190(0x242),_0x183b09['GlZHk']),document[_0x2f2190(0x1f0)](_0x183b09[_0x2f2190(0x3be)])['innerText']=_0x183b09[_0x2f2190(0x285)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x2b93b0(0x177)](_0x183b09[_0x2b93b0(0x2a5)],notificationsEnabled?_0x183b09[_0x2b93b0(0x22d)]:_0x183b09[_0x2b93b0(0x2d8)]),document[_0x2b93b0(0x1f0)](_0x2b93b0(0x32f))[_0x2b93b0(0x3f9)]=notificationsEnabled?_0x2b93b0(0x15d):_0x2b93b0(0x2fb));}function _0x400f(){const _0x131b6b=['5360632zVUDJy','aSyly','contains','now','system','notifToggleBtn','xkNiS','nUFOG','child_added','jBobT','ivbeq','mIPNx','data:audio/webm;base64,','aNntg','<br>','hYNcl','Unknown','role','JEjNT','FneDx','qyxrM','ngKNC','[data-msg-id=\x22','UoWMF','4px','HBvGU','PVmYq','\x27)\x22>Promote\x20to\x20Admin</button>','hahmi','fxOtr','passwordError','profileScreen','nEmEd','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','mod','repeat(auto-fill,\x20minmax(32px,\x201fr))','IHCvW','WuQRZ','mute','authAvatar','\x20is\x20online','authPasswordConfirm','catch','Account\x20not\x20found.','pBrqN','ktmZE','bRpJl','FqbVn','<button\x20onclick=\x22muteUser(\x27','cursor','puta','unmiQ','EHZGJ','from','sender','createElement','back','eevSC','bastard','ZyBcn','created','absolute','onDisconnect','EurIN','BWKAb','<button\x20onclick=\x22demoteUser(\x27','QfTCi','YWEpM','kCHyn','2676158eTRZMv','sTrFb','jeXlr','lastChanged','szhOE','UAgzd','textAlign','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','QxXPA','zzPfF','data','OLPuR','staticPasswordInput','XkJDC','SeBrL','includes','fYtfL','\x27)\x22>Demote</button>','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.',')\x20New\x20message\x20‚Ä¢\x20','No\x20room\x20code\x20available\x20for\x20private\x20rooms','FqUgS','sRerO','AQVkG','RZDUP','rSpAw','losCv','msgId','profileContent','[Unknown]','[Voice\x20Message]','ifCHj','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','/announcement','EcWUm','granted','KSilJ','BzDYa','Jqyaz','HaXAG','warn','mhopV','ondataavailable','acTXk','fliSa','easy-chatroom.firebasestorage.app','head','New\x20Chat\x20Message','caralho','data:image/png;base64,','kmzzq','namePreview','bTiug','VXbeK','bwisit','BhaSC','SVWbm','fvOSh','üéôÔ∏è','minWidth','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','https://easy-chatroom-default-rtdb.firebaseio.com','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','3|0|1|4|2','917yqGzFc','HBrhw','jmYEA','readAsDataURL','cabron','\x27,\x2010)\x22>Mute\x2010m</button>','SYZIQ','fdp','object','userSidebar','cmYAO','once','zIndex','iJETS','top','Gykyo','appendChild','ieGbn','YTOYU','chatScreen','aTXhW','yFmOX','dPfIs','mouseenter','\x20in\x20room\x20','ArsbV','fontSize','addAnnouncementBtn','userAgent','textContent','\x27)\x22>+Admin</button>','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','ref','Qkqwl','<button\x20onclick=\x22deleteUserMessages(\x27','VEzQX','editBioInput','/messages/','auth','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','some','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','oyHyr','TRiHf','<button>','filter','-45px','4951330xsfToM','<small>','GuijG','adminUserList','OyIhk','UdJRf','\x20deleted.','random','remove','dev','üö´\x20Cannot\x20promote\x20Developers.','rooms','2|5|1|0|3|4','lchba','ZpbFr','XlJwL','aKlam','6px\x20auto','BLmJm','replace','ynrUB','yNuEa','<button\x20onclick=\x22promoteToModerator(\x27','QDThk','admin','lTSHx','innerText','IhnyM','\x20muted\x20for\x20','yRfSH','SCHCR','UFIkW','TFsgY','encode','hidden','641439XEAmSu','<button\x20onclick=\x22promoteToAdmin(\x27','XLqRY','RrKuM','\x20was\x20promoted\x20to\x20Moderator','TXzrQ','2120841Tjdoya','roomChoiceScreen','roomCodeInput','‚úÖ\x20Profile\x20picture\x20updated!','qarvC','mouseleave','orderByChild','NJinc','YkisX','wwEhv','username','EreSI','addEventListener','gridTemplateColumns','mediaDevices','zHZAJ','\x0aUsername\x20History:\x20','key','6px','initializeApp','cRlsP','relative','ffJsS','NIzzk','jdpBR','JUJNL','hlvtx','pendejo','CpRbo','5221370kfdnzF','llQsD','16px','qAfxa','ACmEq','mQvCK','Remove\x20Announcement?','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','\x27)\x22>+Mod</button>','error','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','/paused','Remove\x20this\x20announcement?','hczbh','Error\x20checking\x20username:','tShHn','sMSCA','poUFT','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','‚ùå\x20Username\x20already\x20taken.','YPczQ','justifyContent','YPTrf','\x20was\x20demoted','WHWjw','rooms/','DjTPP','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','</button>','NIwiF','whiteSpace','concat','bJkTp','\x0aDescription:\x20','Failed\x20to\x20register\x20user\x20into\x20room.','ruWEj','yHSeO','<img\x20src=\x22data:image/png;base64,','\x20promoted\x20to\x20Moderator!','passwordScreen','llEqv','passwordHash','KsCRd','GMaci','dsybn','üîï\x20Disable\x20Notifications','ZRolS','XHUym','asshole','isArray','QMPmL','preventDefault','ffSgg','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','Iyqdy','</small>','PhPDd','profile_description','getUserMedia','wxqPH','KgoiR','tuaZX','detail','deleteMessage','title','YnrSd','cagaI','match','dick','Login','sGZkZ','setItem','zSKtt','aVLZR','GRXBN','ExMsu','description','‚õî\x20You\x20are\x20muted.','/messages','GQFtF','SRSvo','\x27)\x22>Promote\x20to\x20Moderator</button>','sidebarAvatarPreview','inzhs','bCeui','<audio\x20controls\x20src=\x22','ZizPQ','VyhCE','onstop','userList','typing','scrollTop','üí¨\x20','AyaOQ','div','VkWqz','\x0aName:\x20','trim','typing/','DJCVc','RakTr','sort','HxqsN','reaction-box','PfhdS','cPRML','placeholder','sULEt','16884vHWiQx','Please\x20enter\x20your\x20current\x20password.','Passwords\x20do\x20not\x20match.','You\x20got\x20messages\x20from\x20','oqEZC','sounds/beep.mp3','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','2px\x20solid\x20red','avatarBase64','KToTt','database','audioUrl','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','uignQ','Lybgi','usernameScreen','UEfDD','bobo','update','split','false','block','dbiYw','admins/','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','sfCxF','sidebarOpen','bHPZI','FsqbB','VKVTv','moderator','dyChZ','HxnWu','grid','borderRadius','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','BuBwc','eVkLq','size','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','eMlIs','newPasswordInput','tFppi','clear','toLocaleString','CIJMX','IAHWY','none','</a>','yzxbR','EmLMl','recordBtn','QyQss','Type\x20a\x20message...','inline-block','mGEgG','toString','bOtFQ','050BBB66HH','whSIv','timestamp','epTxY','TIMESTAMP','JcXKc','onlineStatus','NtrRl','onloadend','ijOHA','WokVm','requestPermission','\x20demoted\x20to\x20user.','audio/webm','get','dKBPG','value','profileViewer','\x27,\x205)\x22>Mute\x205m</button>','GfUcj','0px','OgTcF','slice','toLowerCase','zDbhh','toLocaleTimeString','getElementById','exists','\x0aLast\x20Changed:\x20','gyUQy','MRqST','KGhwI','hoefG','digest','padding','wMNPC','dataset','htNfm','lrMLQ','DOMContentLoaded','innerHTML','kIhMK','<a\x20href=\x22','KPjuW','oFLJl','disabled','VWiLt','result','CEoVD','editProfileScreen','</span>\x20','TgKZU','online','MytBb','lPkXn','Ytwle','EkNjG','subtle','No\x20bio\x20set','pausedOverlay','gNzQf','co√±o','ServerValue','Session\x20expired.','GfJWt','VOpUn','YgbtE','Rsxuz','tUlhJ','eNZIt','state','zXuBT','msg','PwQns','VoJLR','touchend','antispam/','active','0123456789','QuwEM','#aaa','FiGsH','position','chat_username','entries','XSYeC','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','GlZHk','WRTRR','jnfGV','sfhsZ','users/','EHzge','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','HkhoH','gwOQW','toUpperCase','dnxxs','map','cbRlN','width','authError','DGwpR','ZJIYl','RtqGI','display','bQEjr','notifications_enabled','uzBSA','woyOB','120px','nyzAl','32px','substr','hmhEZ','985049198428','tCaRU','wUoFW','editProfileError','ukSaN','9FWaIga','cNxut','owmru','color','G-QDESJ2WR42','show','tsHfe','yCIwO','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','gqNIF','antispamBlocked','ySxmz','authScreen','\x20is\x20typing...','‚óè\x20Online','children','child_removed','\x27)\x22>','usernameHistory','You\x20got\x20a\x20message\x20from\x20','</li>','troOH','Zlsuw','rqsYs','gcdny','codeEntryScreen','hYhvQ','CvCms','EtVyP','WzTnY','profiles/','CefKn','\x20minutes.','FwJyT','\x20minutes','BEhYu','5|3|4|0|1|2','reaction-tray','files','val','MEMOl','0.8rem','UWmLQ','VoHMW','fuck','glVAB','eHHYJ','center','content','GsXyh','boxShadow','Incorrect\x20current\x20password.','VitVP','mierda','vyPWr','wbHrt','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','floor','then','prBvQ','\x0a\x20\x20\x20\x20','iyGEg','POMlM','QBivo','CClty','/avatarBase64','ZOCQy','\x27,\x201)\x22>Mute\x201m</button>','putangina','onclick','messages','[Image]','wtzaM','oldPasswordInput','18px','Please\x20fill\x20in\x20all\x20fields.','muted/','uXvPK','className','DFqzS','oeXBG','pushState','20px','iAWUS','audioBase64','xOYLE','rnbzl','join','UUEKq','exTNH','\x27)\x22>Delete\x20Messages</button>','reload','JLIDN','Enter','scrollHeight','10px','gr8stg/','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','<li>','dkRft','stIVj','kZiST','querySelector','xMFVs','Profile\x20not\x20found.','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','ZlivO','1:985049198428:web:d0eb7e2de39887710c9b99','muteUntil','kINxv','all','Delete\x20this\x20message?','click','PwRJQ','announcementArea','touchstart','dlqNm','cUCwT','rgAPf','uraEn','unknown','Rltrc','promote','OTnUF','length','GxSRu','[Voice\x20message]','set','border','GFLQv','Fnmrf','gQUMv','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','push','WWbsl','wmdGJ','pointer','XTKUF','</span>','zZdEi','authTitle','Obbuj','glNCP','xTizq','QBXbk','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','#00ff88','FMUjS','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','SHA-256','src','QdYxN','profileError','auth/','add','KnWsk','TLEqt','Azsuh','sErpG','DSvMn','bitch','Missing\x20room\x20or\x20user\x20information.','forEach','kbxLi','TVhHS','NENlx','classList','YHAMg','ABCDEFGHIJKLMNOPQRSTUVWXYZ','maxWidth','flagPageAttention','Incorrect\x20password','üîî\x20Enable\x20Notifications','HCZMY','user','moderators/','easy-chatroom','YGFLX','style','IMSQn','stop','lcnFB','QQRLe','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','mtSMk','vSDvz','Microphone\x20permission\x20denied.','marginTop','/reactions','zFAcx','DLTSL','pfZJS','UhmUz','limitToLast','margin','authDescription','roomDisplay','jJtew','‚ö†Ô∏è\x20No\x20spamming\x20allowed.','MzDKb','VCWkd','Failed\x20to\x20save\x20profile:','4chqcXL','wLBlL','getItem','VTdiW','msgInput','flex','wpOcu','McvIu','rAgWg','160px','pZMoD','uWnJg','easy-chatroom.firebaseapp.com','1|4|0|2|3|5','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','vyPrY','visibilitychange'];_0x400f=function(){return _0x131b6b;};return _0x400f();}function toggleAuthMode(){const _0x118d73=_0x435961,_0x169135={'xuYhf':_0x118d73(0x2db),'Obbuj':'Register','HCZMY':_0x118d73(0x175),'WHWjw':_0x118d73(0x1b1),'YnrSd':'none','ngKNC':'authDescription','aVLZR':_0x118d73(0x351),'OTnUF':'authAvatarPreview','dyChZ':'authError'};isRegisterMode=!isRegisterMode,document[_0x118d73(0x1f0)](_0x169135['xuYhf'])[_0x118d73(0x3f9)]=isRegisterMode?_0x169135[_0x118d73(0x2dc)]:_0x169135[_0x118d73(0x2fc)],document['getElementById'](_0x118d73(0x353))[_0x118d73(0x301)]['display']=isRegisterMode?_0x169135[_0x118d73(0x148)]:_0x169135[_0x118d73(0x171)],document['getElementById'](_0x169135[_0x118d73(0x33f)])['style'][_0x118d73(0x240)]=isRegisterMode?'block':_0x169135['YnrSd'],document[_0x118d73(0x1f0)](_0x169135[_0x118d73(0x179)])[_0x118d73(0x301)][_0x118d73(0x240)]=isRegisterMode?_0x169135[_0x118d73(0x148)]:_0x118d73(0x1cb),document[_0x118d73(0x1f0)](_0x169135[_0x118d73(0x2ca)])['style'][_0x118d73(0x240)]=_0x118d73(0x1cb),document[_0x118d73(0x1f0)]('authSubmitBtn')[_0x118d73(0x3f9)]=isRegisterMode?_0x169135[_0x118d73(0x2dc)]:_0x169135['HCZMY'],document[_0x118d73(0x1f0)](_0x169135[_0x118d73(0x1bb)])[_0x118d73(0x301)]['display']=_0x169135[_0x118d73(0x171)];}function previewAvatar(){const _0x28b8f7=_0x435961,_0x57d31f={'UoWMF':'authAvatarPreview','HxnWu':_0x28b8f7(0x1b1),'cGupy':_0x28b8f7(0x351)},_0x101039=document[_0x28b8f7(0x1f0)](_0x57d31f['cGupy']);if(!_0x101039[_0x28b8f7(0x275)]['length'])return;const _0x2ce368=new FileReader();_0x2ce368[_0x28b8f7(0x1de)]=()=>{const _0x23b7ea=_0x28b8f7;document[_0x23b7ea(0x1f0)](_0x57d31f[_0x23b7ea(0x341)])[_0x23b7ea(0x2e5)]=_0x2ce368['result'],document[_0x23b7ea(0x1f0)](_0x57d31f['UoWMF'])[_0x23b7ea(0x301)][_0x23b7ea(0x240)]=_0x57d31f[_0x23b7ea(0x1bc)];},_0x2ce368['readAsDataURL'](_0x101039['files'][0x0]);}async function submitAuth(){const _0x2d7369=_0x435961,_0x197be5={'mhopV':function(_0x3c625d,_0x484fd5){return _0x3c625d||_0x484fd5;},'YWEpM':'user','QBXbk':function(_0xeb60fb){return _0xeb60fb();},'JcXKc':'authPassword','FNvLT':'authPasswordConfirm','wbHrt':_0x2d7369(0x312),'fuMbZ':_0x2d7369(0x351),'Qkqwl':_0x2d7369(0x1cb),'Zlsuw':function(_0x5122a4,_0x42b6b4){return _0x5122a4||_0x42b6b4;},'ifCHj':'block','VOpUn':function(_0x876a11,_0x24933e){return _0x876a11(_0x24933e);},'qarvC':'Username\x20already\x20exists.','sMSCA':function(_0x4daead,_0x21d37a){return _0x4daead!==_0x21d37a;},'ffSgg':_0x2d7369(0x19e),'hYNcl':function(_0x44483b){return _0x44483b();},'HaXAG':function(_0x332d2c,_0x352caa){return _0x332d2c||_0x352caa;},'gqNIF':_0x2d7369(0x355),'dKBPG':function(_0x400cf9,_0x1d3a56){return _0x400cf9(_0x1d3a56);},'RZDUP':function(_0xb95237,_0x7b8c68){return _0xb95237!==_0x7b8c68;}},_0x41afa0=document[_0x2d7369(0x1f0)]('authUsername')[_0x2d7369(0x1e6)]['trim'](),_0x4071c5=document[_0x2d7369(0x1f0)](_0x197be5[_0x2d7369(0x1db)])[_0x2d7369(0x1e6)]['trim'](),_0x18ced1=document['getElementById'](_0x197be5['FNvLT'])['value']['trim'](),_0x18826e=document[_0x2d7369(0x1f0)](_0x197be5[_0x2d7369(0x286)])[_0x2d7369(0x1e6)][_0x2d7369(0x191)](),_0x5846fd=document[_0x2d7369(0x1f0)](_0x197be5['fuMbZ']),_0x531b6b=document[_0x2d7369(0x1f0)](_0x2d7369(0x23c));_0x531b6b['style'][_0x2d7369(0x240)]=_0x197be5[_0x2d7369(0x3d0)];if(_0x197be5[_0x2d7369(0x265)](!_0x41afa0,!_0x4071c5)){_0x531b6b['innerText']=_0x2d7369(0x29a),_0x531b6b['style'][_0x2d7369(0x240)]=_0x197be5['ifCHj'];return;}const _0x42b387=_0x197be5[_0x2d7369(0x217)](sanitizeUsername,_0x41afa0),_0x327a95=db['ref'](_0x2d7369(0x2e8)+_0x42b387),_0x3cb716=await _0x327a95[_0x2d7369(0x1e4)]();if(isRegisterMode){if(_0x3cb716['exists']()){_0x531b6b[_0x2d7369(0x3f9)]=_0x197be5[_0x2d7369(0x116)],_0x531b6b[_0x2d7369(0x301)][_0x2d7369(0x240)]=_0x197be5[_0x2d7369(0x38e)];return;}if(_0x197be5[_0x2d7369(0x140)](_0x4071c5,_0x18ced1)){_0x531b6b[_0x2d7369(0x3f9)]=_0x197be5[_0x2d7369(0x164)],_0x531b6b['style'][_0x2d7369(0x240)]=_0x197be5[_0x2d7369(0x38e)];return;}const _0x3d7a4c=await sha256(_0x4071c5),_0x322c1d=await _0x197be5[_0x2d7369(0x339)](generateDeviceId);if(_0x5846fd[_0x2d7369(0x275)]['length']){const _0x2b4de4=_0x5846fd['files'][0x0],_0x1a4003=new FileReader();_0x1a4003['onloadend']=async()=>{const _0x5307c2=_0x2d7369,_0x17271f=_0x1a4003[_0x5307c2(0x205)][_0x5307c2(0x1af)](',')[0x1];await _0x327a95[_0x5307c2(0x2ce)]({'username':_0x41afa0,'passwordHash':_0x3d7a4c,'description':_0x197be5[_0x5307c2(0x398)](_0x18826e,''),'avatarBase64':_0x17271f,'role':_0x197be5['YWEpM'],'deviceId':_0x322c1d,'usernameHistory':[_0x41afa0],'lastChanged':Date[_0x5307c2(0x32d)]()}),username=_0x41afa0,userDescription=_0x18826e,avatarBase64=_0x17271f,role=_0x197be5[_0x5307c2(0x36d)],_0x197be5[_0x5307c2(0x2df)](startAfterAuth);},_0x1a4003[_0x2d7369(0x3b2)](_0x2b4de4);}else{const _0x442061=_0x2d7369(0x326)[_0x2d7369(0x1af)]('|');let _0x1a694f=0x0;while(!![]){switch(_0x442061[_0x1a694f++]){case'0':userDescription=_0x18826e;continue;case'1':await _0x327a95[_0x2d7369(0x2ce)]({'username':_0x41afa0,'passwordHash':_0x3d7a4c,'description':_0x197be5[_0x2d7369(0x396)](_0x18826e,''),'avatarBase64':'','role':_0x197be5[_0x2d7369(0x36d)],'deviceId':_0x322c1d,'usernameHistory':[_0x41afa0],'lastChanged':Date[_0x2d7369(0x32d)]()});continue;case'2':avatarBase64='';continue;case'3':role='user';continue;case'4':username=_0x41afa0;continue;case'5':_0x197be5[_0x2d7369(0x2df)](startAfterAuth);continue;}break;}}}else{if(!_0x3cb716[_0x2d7369(0x1f1)]()){_0x531b6b[_0x2d7369(0x3f9)]=_0x197be5[_0x2d7369(0x258)],_0x531b6b[_0x2d7369(0x301)][_0x2d7369(0x240)]=_0x197be5[_0x2d7369(0x38e)];return;}const _0x400982=_0x3cb716['val'](),_0xfc3da3=await _0x197be5[_0x2d7369(0x1e5)](sha256,_0x4071c5);if(_0x197be5[_0x2d7369(0x387)](_0xfc3da3,_0x400982[_0x2d7369(0x159)])){_0x531b6b['innerText']='Incorrect\x20password.',_0x531b6b[_0x2d7369(0x301)][_0x2d7369(0x240)]=_0x197be5['ifCHj'];return;}username=_0x41afa0;if(_0x400982[_0x2d7369(0x17c)])userDescription=_0x400982['description'];if(_0x400982['avatarBase64'])avatarBase64=_0x400982[_0x2d7369(0x1a4)];if(_0x400982[_0x2d7369(0x33b)])role=_0x400982[_0x2d7369(0x33b)];else role=_0x2d7369(0x2fd);startAfterAuth();}}async function saveNewUser(_0x1aa1f6,_0x131a11,_0x1e838f,_0x1c2856,_0x47d786){const _0x2cfc79=_0x435961,_0x1ed766={'ArsbV':function(_0x11c36b,_0x485771){return _0x11c36b(_0x485771);},'AcDlh':_0x2cfc79(0x2fd),'oqEZC':function(_0x54d74d,_0x5b0015){return _0x54d74d||_0x5b0015;},'eURdE':function(_0x40fbf8){return _0x40fbf8();}},_0x319564=db['ref'](_0x2cfc79(0x2e8)+_0x1ed766[_0x2cfc79(0x3c8)](sanitizeUsername,_0x1aa1f6)),_0x2c0f7c={'username':_0x1aa1f6,'passwordHash':_0x131a11,'role':_0x1ed766['AcDlh'],'deviceId':_0x1e838f,'description':_0x47d786||'','avatarBase64':_0x1ed766[_0x2cfc79(0x1a0)](_0x1c2856,''),'usernameHistory':[_0x1aa1f6],'lastChanged':Date[_0x2cfc79(0x32d)]()};await _0x319564[_0x2cfc79(0x2ce)](_0x2c0f7c),username=_0x1aa1f6,_0x1c2856=_0x2c0f7c[_0x2cfc79(0x1a4)],userDescription=_0x2c0f7c['description'],_0x1ed766['eURdE'](startAfterAuth);}async function startAfterAuth(){const _0x54383c=_0x435961,_0x2351f0={'XlJwL':function(_0x8a1009,_0x74f14d){return _0x8a1009(_0x74f14d);},'sErpG':_0x54383c(0x2fd),'FneDx':_0x54383c(0x182),'FwJyT':function(_0x5e1e84,_0x37f458){return _0x5e1e84+_0x37f458;},'kbxLi':_0x54383c(0x376),'llEqv':function(_0x29a336){return _0x29a336();},'ZOCQy':function(_0x23e6e5,_0x2be413){return _0x23e6e5(_0x2be413);}},_0x5df9e2=_0x2351f0[_0x54383c(0x3ee)](sanitizeUsername,username),_0x3ad865=db[_0x54383c(0x3cf)](_0x54383c(0x2e8)+_0x5df9e2),_0x48d133=await _0x3ad865[_0x54383c(0x1e4)]();if(_0x48d133['exists']()){const _0x513f03=_0x48d133[_0x54383c(0x276)]();username=_0x513f03['username'],userDescription=_0x513f03[_0x54383c(0x17c)]||'',avatarBase64=_0x513f03[_0x54383c(0x1a4)]||'',role=_0x513f03[_0x54383c(0x33b)]||_0x2351f0[_0x54383c(0x2ed)];if(avatarBase64){const _0x28e733=document[_0x54383c(0x1f0)](_0x2351f0[_0x54383c(0x33d)]);_0x28e733[_0x54383c(0x2e5)]=_0x2351f0[_0x54383c(0x270)](_0x54383c(0x3a0),avatarBase64),_0x28e733[_0x54383c(0x301)][_0x54383c(0x240)]='block';}}else console[_0x54383c(0x397)](_0x2351f0[_0x54383c(0x2f2)]);await _0x2351f0[_0x54383c(0x158)](loadRoomRoles),document[_0x54383c(0x1f0)](_0x54383c(0x3a2))['innerText']=username,_0x2351f0[_0x54383c(0x291)](showScreen,_0x54383c(0x113));}function toggleRecording(){const _0x2e9c59=_0x435961,_0x2d273f={'VWiLt':function(_0x139d26){return _0x139d26();},'AHgyR':_0x2e9c59(0x1cf),'dsybn':function(_0x3aeb74,_0x578e20,_0x46725a){return _0x3aeb74(_0x578e20,_0x46725a);},'yzxbR':function(_0x50078b,_0x13f1fe){return _0x50078b(_0x13f1fe);}};isRecording?stopRecording():navigator[_0x2e9c59(0x120)][_0x2e9c59(0x16a)]({'audio':!![]})[_0x2e9c59(0x289)](_0xb6c146=>{const _0x3e6617=_0x2e9c59,_0x2f451a={'poUFT':function(_0x463bb0,_0x7977d0){return _0x463bb0&&_0x7977d0;},'ROyXr':function(_0x2ef5c6){const _0x514276=_0x3eb1;return _0x2d273f[_0x514276(0x204)](_0x2ef5c6);}};mediaRecorder=new MediaRecorder(_0xb6c146),mediaRecorder['start'](),isRecording=!![],document[_0x3e6617(0x1f0)](_0x2d273f['AHgyR'])[_0x3e6617(0x3f9)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x3e6617(0x399)]=_0x5330ea=>audioChunks['push'](_0x5330ea[_0x3e6617(0x379)]),mediaRecorder[_0x3e6617(0x188)]=()=>{const _0x1dc4f7=_0x3e6617;clearTimeout(recordingTimer);const _0x16fb00=new Blob(audioChunks,{'type':_0x1dc4f7(0x1e3)}),_0x4b27f4=new FileReader();_0x4b27f4['onloadend']=()=>{const _0x480a51=_0x1dc4f7,_0x787ef=_0x4b27f4['result'][_0x480a51(0x1af)](',')[0x1],_0x50bce9=db['ref']()['push']()[_0x480a51(0x123)];db[_0x480a51(0x3cf)](_0x480a51(0x149)+roomCode+_0x480a51(0x3d4)+_0x50bce9)[_0x480a51(0x2ce)]({'msg':_0x480a51(0x2cd),'audioBase64':_0x787ef,'sender':username,'senderId':clientId,'timestamp':Date[_0x480a51(0x32d)]()});},_0x4b27f4['readAsDataURL'](_0x16fb00);},recordingTimer=_0x2d273f[_0x3e6617(0x15c)](setTimeout,()=>{const _0x42bbf8=_0x3e6617;_0x2f451a[_0x42bbf8(0x141)](mediaRecorder,isRecording)&&_0x2f451a['ROyXr'](stopRecording);},0x4e20);})['catch'](_0x49732f=>{const _0x3bff12=_0x2e9c59;_0x2d273f[_0x3bff12(0x1cd)](alert,_0x3bff12(0x309));});}function stopRecording(){const _0x1d4093=_0x435961,_0x2c7a8f={'DLTSL':function(_0x1d5038,_0x418eeb){return _0x1d5038&&_0x418eeb;},'EtVyP':_0x1d4093(0x3a9)};_0x2c7a8f[_0x1d4093(0x30d)](mediaRecorder,isRecording)&&(mediaRecorder[_0x1d4093(0x303)](),isRecording=![],document[_0x1d4093(0x1f0)]('recordBtn')[_0x1d4093(0x3f9)]=_0x2c7a8f[_0x1d4093(0x26b)]);}window['onload']=async()=>{const _0x1db578=_0x435961,_0x318ab1={'Lybgi':function(_0x3e2989){return _0x3e2989();},'Iyqdy':function(_0x2c195a){return _0x2c195a();},'TgKZU':function(_0x3a12a8){return _0x3a12a8();},'kINxv':function(_0x47ed23,_0x2351a7){return _0x47ed23===_0x2351a7;},'iDtBA':'true','lcnFB':function(_0x4255b6,_0x10ac5b){return _0x4255b6(_0x10ac5b);},'lrMLQ':_0x1db578(0x25b)};_0x318ab1[_0x1db578(0x1aa)](cleanupOldRooms),_0x318ab1[_0x1db578(0x166)](setupSidebarBackHandler),_0x318ab1[_0x1db578(0x1aa)](setupVisibilityAttention),_0x318ab1[_0x1db578(0x209)](resetWebsiteData);const _0x4d64b1=localStorage[_0x1db578(0x31b)](_0x1db578(0x242));notificationsEnabled=_0x318ab1[_0x1db578(0x2bc)](_0x4d64b1,_0x318ab1['iDtBA']),_0x318ab1[_0x1db578(0x304)](showScreen,_0x318ab1[_0x1db578(0x1fc)]);};function sanitizeUsername(_0x2d743e){return _0x2d743e['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0xae1cda=_0x435961,_0x606fd2={'UhmUz':_0xae1cda(0x318),'KnWsk':_0xae1cda(0x1b1),'tyeyZ':'3|2|4|0|1','Kzxiy':'namePreview','bSyoH':_0xae1cda(0x169),'dbiYw':_0xae1cda(0x143),'QIZoU':_0xae1cda(0x38f),'yFmOX':'profileUsernameInput','IAHWY':'profileDescriptionInput','DzBtK':_0xae1cda(0x2e7),'cUCwT':_0xae1cda(0x165)},_0x33a49a=document[_0xae1cda(0x1f0)](_0x606fd2[_0xae1cda(0x3c4)])[_0xae1cda(0x1e6)][_0xae1cda(0x191)](),_0x3a861d=document[_0xae1cda(0x1f0)](_0x606fd2[_0xae1cda(0x1ca)])['value']['trim'](),_0x52334e=document['getElementById'](_0x606fd2['DzBtK']);if(!_0x33a49a||!_0x3a861d){_0x52334e[_0xae1cda(0x3f9)]=_0x606fd2[_0xae1cda(0x2c4)],_0x52334e[_0xae1cda(0x301)][_0xae1cda(0x240)]=_0x606fd2[_0xae1cda(0x2ea)];return;}const _0x2fe824=sanitizeUsername(_0x33a49a),_0x32cdb6=db['ref']('profiles/'+_0x2fe824);_0x32cdb6[_0xae1cda(0x3ba)](_0xae1cda(0x1e6))[_0xae1cda(0x289)](_0xefa603=>{const _0x65b6a2=_0xae1cda,_0x52fce1={'TRiHf':_0x606fd2[_0x65b6a2(0x30f)],'Fnmrf':_0x65b6a2(0x2b8),'PhPDd':_0x606fd2[_0x65b6a2(0x2ea)],'gyUQy':_0x606fd2['tyeyZ'],'pZMoD':_0x606fd2['Kzxiy'],'DJCVc':_0x606fd2['bSyoH']};if(_0xefa603[_0x65b6a2(0x1f1)]())_0x52334e[_0x65b6a2(0x3f9)]=_0x606fd2[_0x65b6a2(0x1b2)],_0x52334e[_0x65b6a2(0x301)][_0x65b6a2(0x240)]=_0x606fd2[_0x65b6a2(0x2ea)];else{const _0x4b6297={'username':_0x33a49a,'description':_0x3a861d,'lastChanged':Date['now'](),'usernameHistory':[_0x33a49a]};_0x32cdb6[_0x65b6a2(0x2ce)](_0x4b6297,_0x20bd30=>{const _0x12d24d=_0x65b6a2;if(_0x20bd30)console[_0x12d24d(0x138)](_0x52fce1[_0x12d24d(0x3db)],_0x20bd30),_0x52334e['innerText']=_0x52fce1[_0x12d24d(0x2d1)],_0x52334e['style'][_0x12d24d(0x240)]=_0x52fce1[_0x12d24d(0x168)];else{const _0x5c35fb=_0x52fce1[_0x12d24d(0x1f3)][_0x12d24d(0x1af)]('|');let _0x57416e=0x0;while(!![]){switch(_0x5c35fb[_0x57416e++]){case'0':document[_0x12d24d(0x1f0)](_0x52fce1[_0x12d24d(0x323)])['innerText']=_0x33a49a;continue;case'1':showScreen(_0x12d24d(0x113));continue;case'2':localStorage[_0x12d24d(0x177)](_0x52fce1[_0x12d24d(0x193)],_0x3a861d);continue;case'3':localStorage[_0x12d24d(0x177)](_0x12d24d(0x229),_0x33a49a);continue;case'4':username=_0x33a49a;continue;}break;}}});}})[_0xae1cda(0x354)](_0x425fe7=>{const _0x118786=_0xae1cda;console[_0x118786(0x138)](_0x118786(0x13e),_0x425fe7),_0x52334e[_0x118786(0x3f9)]=_0x606fd2['QIZoU'],_0x52334e['style'][_0x118786(0x240)]=_0x606fd2[_0x118786(0x2ea)];});}function saveProfile(_0x2e3ed9,_0x5a1607,_0x4e9402){const _0x5e8011=_0x435961,_0x46fd23={'QyQss':function(_0x91f506,_0x46d99f){return _0x91f506(_0x46d99f);},'lchba':'roomChoiceScreen'},_0x412302=Date[_0x5e8011(0x32d)](),_0x308935=[_0x2e3ed9];db[_0x5e8011(0x3cf)](_0x5e8011(0x26d)+_0x4e9402)[_0x5e8011(0x2ce)]({'username':_0x2e3ed9,'description':_0x5a1607,'lastChanged':_0x412302,'usernameHistory':_0x308935}),document[_0x5e8011(0x1f0)](_0x5e8011(0x3a2))['innerText']=_0x2e3ed9,_0x46fd23[_0x5e8011(0x1d0)](showScreen,_0x46fd23[_0x5e8011(0x3ec)]);}function generateRoom(){const _0x352fba=_0x435961,_0x3bd3e5={'VyhCE':function(_0x1087f1,_0x1aac6f){return _0x1087f1+_0x1aac6f;},'TLEqt':_0x352fba(0x149),'SRSvo':function(_0x4f3dea){return _0x4f3dea();}};roomCode=genRoomCode(),db[_0x352fba(0x3cf)](_0x3bd3e5[_0x352fba(0x187)](_0x3bd3e5[_0x352fba(0x2eb)],roomCode))[_0x352fba(0x2ce)]({'active':!![],'created':Date[_0x352fba(0x32d)]()}),_0x3bd3e5[_0x352fba(0x180)](startChat);}function joinRoom(){const _0x3c638e=_0x435961,_0x11caf3={'bbeGA':function(_0x3ed19b,_0x4f4c15){return _0x3ed19b!==_0x4f4c15;},'xOYLE':function(_0x381162,_0x2ba19e){return _0x381162(_0x2ba19e);},'ojqyQ':_0x3c638e(0x287),'ZizPQ':_0x3c638e(0x114),'SYZIQ':'Enter\x20a\x20valid\x20room\x20code','ZJIYl':function(_0xef152,_0x1bff2c){return _0xef152===_0x1bff2c;},'TVhHS':_0x3c638e(0x157),'XkJDC':function(_0x1192a5,_0x50e71e){return _0x1192a5+_0x50e71e;},'aNntg':_0x3c638e(0x149)},_0x222d43=roomCode||document[_0x3c638e(0x1f0)](_0x11caf3[_0x3c638e(0x186)])[_0x3c638e(0x1e6)][_0x3c638e(0x191)]()[_0x3c638e(0x237)]();if(!_0x222d43)return _0x11caf3[_0x3c638e(0x2a4)](alert,_0x11caf3[_0x3c638e(0x3b5)]);roomCode=_0x222d43;if(_0x11caf3[_0x3c638e(0x23e)](roomCode,STATIC_ROOM)){showScreen(_0x11caf3[_0x3c638e(0x2f3)]);return;}db[_0x3c638e(0x3cf)](_0x11caf3[_0x3c638e(0x37c)](_0x11caf3[_0x3c638e(0x337)],roomCode))[_0x3c638e(0x1e4)]()[_0x3c638e(0x289)](_0x247c80=>{const _0x4689db=_0x3c638e;_0x247c80['exists']()&&_0x11caf3['bbeGA'](_0x247c80[_0x4689db(0x276)]()[_0x4689db(0x223)],![])?startChat():_0x11caf3[_0x4689db(0x2a4)](alert,_0x11caf3['ojqyQ']);});}async function startChat(){const _0x66b783=_0x435961,_0x38a761={'PVmYq':function(_0x3cfd8e,_0x2abfb0){return _0x3cfd8e===_0x2abfb0;},'Ytwle':_0x66b783(0x3f7),'cHqvE':function(_0x5dc1ac,_0xc337aa){return _0x5dc1ac===_0xc337aa;},'lPkXn':function(_0x480fa9,_0xb84b52){return _0x480fa9(_0xb84b52);},'NxgTJ':_0x66b783(0x13c),'YPczQ':function(_0x10e5f9,_0x4ae211){return _0x10e5f9(_0x4ae211);},'SCHCR':function(_0x5ac27f,_0x35000e){return _0x5ac27f(_0x35000e);},'NtrRl':_0x66b783(0x182),'pfZJS':function(_0x4f554b,_0x456715){return _0x4f554b+_0x456715;},'QxXPA':_0x66b783(0x1b1),'KPjuW':'userDisplay','qAfxa':function(_0x38807a,_0x42e30e){return _0x38807a(_0x42e30e);},'CpRbo':_0x66b783(0x313),'GxSRu':function(_0x30783b,_0x5831ad){return _0x30783b===_0x5831ad;},'MzDKb':'dev','iAWUS':'addAnnouncementBtn','HxqsN':_0x66b783(0x1cb),'TeXBQ':_0x66b783(0x32e),'KvogP':'chatScreen','aKlam':'announcementArea','pjlhf':'click','HkhoH':function(_0x331be7){return _0x331be7();},'QdYxN':function(_0x5f2eef){return _0x5f2eef();},'oeXBG':function(_0xea2568){return _0xea2568();},'troOH':_0x66b783(0x3d5),'ySnXD':'child_changed','XSYeC':function(_0xa960b,_0x55d5c4){return _0xa960b||_0x55d5c4;},'GfJWt':_0x66b783(0x2f0),'eCnRM':function(_0x313d32,_0x264780){return _0x313d32(_0x264780);},'TuRtv':_0x66b783(0x113),'nyzAl':function(_0x2f3ab0){return _0x2f3ab0();},'XHUym':function(_0x362876){return _0x362876();}};if(_0x38a761[_0x66b783(0x22b)](!roomCode,!username))return alert(_0x38a761[_0x66b783(0x216)]),_0x38a761['eCnRM'](showScreen,_0x38a761['TuRtv']);_0x38a761[_0x66b783(0x29f)](listenForPauseState),_0x38a761[_0x66b783(0x246)](listenForUserList),await _0x38a761[_0x66b783(0x15f)](loadRoomRoles),listenForAnnouncement();const _0x4fde05=_0x38a761['lPkXn'](sanitizeUsername,username),_0x247d5a=db['ref'](_0x66b783(0x231)+roomCode+'/'+_0x4fde05),_0x4c8991={'username':username,'online':!![],'lastOnline':firebase[_0x66b783(0x1a6)][_0x66b783(0x214)][_0x66b783(0x1da)]};_0x247d5a['set'](_0x4c8991,_0x4dce4f=>{const _0x1f7fcb=_0x66b783;if(_0x4dce4f)return _0x38a761[_0x1f7fcb(0x107)](alert,_0x1f7fcb(0x152)),showScreen('roomChoiceScreen');const _0x3ac5a6=document[_0x1f7fcb(0x1f0)](_0x38a761[_0x1f7fcb(0x1dd)]);avatarBase64&&(_0x3ac5a6[_0x1f7fcb(0x2e5)]=_0x38a761[_0x1f7fcb(0x30e)](_0x1f7fcb(0x3a0),avatarBase64),_0x3ac5a6[_0x1f7fcb(0x301)][_0x1f7fcb(0x240)]=_0x38a761[_0x1f7fcb(0x377)]);document[_0x1f7fcb(0x1f0)](_0x38a761[_0x1f7fcb(0x201)])['innerHTML']=username+'\x20'+_0x38a761[_0x1f7fcb(0x132)](getRoleTag,_0x4fde05),document['getElementById'](_0x38a761[_0x1f7fcb(0x12e)])[_0x1f7fcb(0x3f9)]=_0x38a761[_0x1f7fcb(0x2cc)](roomCode,STATIC_ROOM)?_0x1f7fcb(0x383):roomCode;[_0x1f7fcb(0x3f7),_0x38a761[_0x1f7fcb(0x316)]][_0x1f7fcb(0x37e)](role)?document[_0x1f7fcb(0x1f0)](_0x38a761[_0x1f7fcb(0x2a2)])[_0x1f7fcb(0x301)]['display']=_0x1f7fcb(0x1b1):document[_0x1f7fcb(0x1f0)](_0x1f7fcb(0x3ca))[_0x1f7fcb(0x301)][_0x1f7fcb(0x240)]=_0x38a761[_0x1f7fcb(0x196)];const _0x566cba=db[_0x1f7fcb(0x3cf)]()[_0x1f7fcb(0x2d4)]()[_0x1f7fcb(0x123)];db['ref'](_0x1f7fcb(0x149)+roomCode+_0x1f7fcb(0x3d4)+_0x566cba)[_0x1f7fcb(0x2ce)]({'msg':username+'\x20is\x20online','sender':_0x1f7fcb(0x32e),'senderId':_0x38a761['TeXBQ'],'timestamp':Date[_0x1f7fcb(0x32d)]()}),showScreen(_0x38a761['KvogP']);const _0x571ba9=document[_0x1f7fcb(0x1f0)](_0x38a761[_0x1f7fcb(0x3ef)]);_0x571ba9[_0x1f7fcb(0x11e)](_0x38a761['pjlhf'],_0xa610d7=>{const _0x5b6f12=_0x1f7fcb;_0x38a761[_0x5b6f12(0x344)](_0xa610d7[_0x5b6f12(0x16e)],0x3)&&(_0x38a761[_0x5b6f12(0x344)](role,_0x38a761[_0x5b6f12(0x20d)])||_0x38a761['cHqvE'](role,_0x5b6f12(0x3e8)))&&(_0x38a761[_0x5b6f12(0x20c)](confirm,_0x38a761['NxgTJ'])&&db[_0x5b6f12(0x3cf)](_0x5b6f12(0x149)+roomCode+_0x5b6f12(0x390))['remove']()[_0x5b6f12(0x289)](()=>{const _0x3c3a8b=_0x5b6f12;_0x571ba9[_0x3c3a8b(0x3f9)]='';}));}),_0x38a761['HkhoH'](listenForMessages),listenForTyping(),_0x38a761[_0x1f7fcb(0x2e6)](startInactivityTimer),_0x38a761[_0x1f7fcb(0x29f)](trackPresence),_0x38a761[_0x1f7fcb(0x235)](watchProfileChanges),db[_0x1f7fcb(0x3cf)](_0x38a761[_0x1f7fcb(0x264)])['on'](_0x38a761['ySnXD'],()=>{const _0x19852c=_0x1f7fcb;_0x38a761[_0x19852c(0x144)](renderUserLists,roomUsers);}),watchMuteStatus();});}function watchProfileChanges(){const _0x5329d0=_0x435961,_0x48390a={'VXbeK':_0x5329d0(0x182),'ySxmz':function(_0xbd6604,_0x39d171){return _0xbd6604+_0x39d171;},'NIzzk':_0x5329d0(0x3a0),'lTSHx':_0x5329d0(0x1b1),'EkNjG':function(_0x3f4a6f,_0x29affd){return _0x3f4a6f(_0x29affd);},'hYhvQ':function(_0x353789,_0x56c261){return _0x353789(_0x56c261);},'GAWIL':_0x5329d0(0x1e6)},_0x3fc1c2=_0x48390a[_0x5329d0(0x269)](sanitizeUsername,username);db[_0x5329d0(0x3cf)](_0x5329d0(0x2e8)+_0x3fc1c2)['on'](_0x48390a['GAWIL'],_0x1dea2b=>{const _0x4f6f7b=_0x5329d0;if(!_0x1dea2b['exists']())return;const _0x1b3573=_0x1dea2b[_0x4f6f7b(0x276)]();userDescription=_0x1b3573[_0x4f6f7b(0x17c)]||'',avatarBase64=_0x1b3573['avatarBase64']||'',role=_0x1b3573[_0x4f6f7b(0x33b)]||_0x4f6f7b(0x2fd);if(avatarBase64){const _0x4d97d1=document['getElementById'](_0x48390a[_0x4f6f7b(0x3a4)]);!_0x4d97d1[_0x4f6f7b(0x2e5)]['includes'](avatarBase64)&&(_0x4d97d1['src']=_0x48390a[_0x4f6f7b(0x25a)](_0x48390a[_0x4f6f7b(0x129)],avatarBase64),_0x4d97d1[_0x4f6f7b(0x301)][_0x4f6f7b(0x240)]=_0x48390a[_0x4f6f7b(0x3f8)]);}_0x48390a[_0x4f6f7b(0x20e)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x325f67){const _0x5dcf31=_0x435961,_0x4b2145={'ivdnZ':function(_0x4f373d,_0x26819f){return _0x4f373d<_0x26819f;},'UFIkW':function(_0xb1bc50,_0x4b70ac){return _0xb1bc50-_0x4b70ac;},'zDbhh':function(_0xd39d61,_0x4425e3){return _0xd39d61(_0x4425e3);},'MOozT':'üïí\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','GQFtF':function(_0x29ff45,_0x3a9b0e){return _0x29ff45>_0x3a9b0e;},'rAgWg':function(_0x56e4da,_0x4e913d){return _0x56e4da*_0x4e913d;},'dkRft':function(_0x2bd424,_0x4d8b6b){return _0x2bd424*_0x4d8b6b;},'xMFVs':function(_0xf5f7d3,_0x57d32a){return _0xf5f7d3(_0x57d32a);}},_0x3b4a87=Date['now']();if(_0x4b2145['ivdnZ'](_0x4b2145[_0x5dcf31(0x108)](_0x3b4a87,lastImageTime),0x2710)){_0x4b2145[_0x5dcf31(0x1ee)](alert,_0x4b2145['MOozT']);return;}lastImageTime=_0x3b4a87;const _0x4e6030=_0x325f67[_0x5dcf31(0x275)][0x0];if(!_0x4e6030||_0x4b2145[_0x5dcf31(0x17f)](_0x4e6030[_0x5dcf31(0x1c2)],_0x4b2145[_0x5dcf31(0x321)](_0x4b2145[_0x5dcf31(0x2b2)](0x2,0x400),0x400))){_0x4b2145[_0x5dcf31(0x2b6)](alert,'‚ùå\x20Image\x20must\x20be\x20under\x202MB');return;}const _0x33fd6c=new FileReader();_0x33fd6c[_0x5dcf31(0x1de)]=()=>{const _0x56235f=_0x5dcf31,_0x28248b=_0x33fd6c['result'][_0x56235f(0x1af)](',')[0x1],_0x22b92a=db[_0x56235f(0x3cf)]()['push']()['key'];db[_0x56235f(0x3cf)](_0x56235f(0x149)+roomCode+_0x56235f(0x3d4)+_0x22b92a)[_0x56235f(0x2ce)]({'imageBase64':_0x28248b,'sender':username,'senderId':clientId,'timestamp':Date[_0x56235f(0x32d)]()});},_0x33fd6c['readAsDataURL'](_0x4e6030);}async function fetchProfile(_0x169bc4){const _0x22bbd8=_0x435961,_0x2ba293=await db[_0x22bbd8(0x3cf)]('auth/'+_0x169bc4)[_0x22bbd8(0x1e4)]();if(!_0x2ba293[_0x22bbd8(0x1f1)]())return null;return _0x2ba293[_0x22bbd8(0x276)]();}function validateStaticRoomPassword(){const _0x19e515=_0x435961,_0x28e3a1={'POMlM':function(_0x4e3b09,_0x155da4){return _0x4e3b09(_0x155da4);},'jdpBR':function(_0x31e227,_0x4f0853){return _0x31e227===_0x4f0853;},'nUFOG':function(_0x153d47){return _0x153d47();},'qyxrM':_0x19e515(0x348),'rqsYs':_0x19e515(0x2fa),'dvLpo':_0x19e515(0x1b1),'PwQns':function(_0x14f348,_0x54032e){return _0x14f348(_0x54032e);},'stIVj':_0x19e515(0x234),'qGTgX':_0x19e515(0x37b),'hlvtx':'Please\x20enter\x20the\x20password.'},_0x12e4e7=document[_0x19e515(0x1f0)](_0x28e3a1['qGTgX'])[_0x19e515(0x1e6)][_0x19e515(0x191)]();if(!_0x12e4e7){_0x28e3a1['POMlM'](alert,_0x28e3a1[_0x19e515(0x12c)]);return;}db['ref'](_0x19e515(0x2af)+STATIC_ROOM)[_0x19e515(0x1e4)]()[_0x19e515(0x289)](_0x4e3cbb=>{const _0x361a59=_0x19e515;if(!_0x4e3cbb[_0x361a59(0x1f1)]()){_0x28e3a1[_0x361a59(0x28d)](alert,'Room\x20password\x20not\x20set.\x20Cannot\x20join.');return;}const _0x6d66fd=_0x4e3cbb[_0x361a59(0x276)]();_0x28e3a1[_0x361a59(0x12a)](_0x12e4e7,_0x6d66fd)?(roomCode=STATIC_ROOM,_0x28e3a1[_0x361a59(0x331)](startChat)):(document[_0x361a59(0x1f0)](_0x28e3a1['qyxrM'])[_0x361a59(0x3f9)]=_0x28e3a1[_0x361a59(0x266)],document[_0x361a59(0x1f0)](_0x28e3a1[_0x361a59(0x33e)])[_0x361a59(0x301)]['display']=_0x28e3a1['dvLpo']);})[_0x19e515(0x354)](_0x58e9cc=>{const _0x5c5b19=_0x19e515;console[_0x5c5b19(0x138)](_0x58e9cc),_0x28e3a1[_0x5c5b19(0x21f)](alert,_0x28e3a1[_0x5c5b19(0x2b3)]);});}function listenForPauseState(){const _0x365bc2=_0x435961,_0x1c7189={'glNCP':function(_0x1efcb6,_0x6c1412){return _0x1efcb6===_0x6c1412;},'woyOB':'pausedOverlay','bvIub':_0x365bc2(0x1b1),'kCHyn':_0x365bc2(0x1cb),'KGhwI':'value'};db[_0x365bc2(0x3cf)]('roomStates/'+roomCode+_0x365bc2(0x13b))['on'](_0x1c7189[_0x365bc2(0x1f5)],_0x5a8f00=>{const _0x445ab6=_0x365bc2,_0x4756ad=_0x5a8f00[_0x445ab6(0x1f1)]()&&_0x1c7189[_0x445ab6(0x2dd)](_0x5a8f00['val'](),!![]);document['getElementById'](_0x1c7189[_0x445ab6(0x244)])['style'][_0x445ab6(0x240)]=_0x4756ad?_0x1c7189['bvIub']:_0x1c7189[_0x445ab6(0x36e)];});}const spamTimestamps=[];function _0x3eb1(_0xd4b48d,_0x4af5b3){const _0x400fe1=_0x400f();return _0x3eb1=function(_0x3eb11d,_0x28cc20){_0x3eb11d=_0x3eb11d-0x104;let _0x41f721=_0x400fe1[_0x3eb11d];return _0x41f721;},_0x3eb1(_0xd4b48d,_0x4af5b3);}async function sendMessage(){const _0x5e0c37=_0x435961,_0x39b58a={'kZiST':'Type\x20a\x20message...','EcWUm':function(_0x1e8b9c,_0x296ecc){return _0x1e8b9c(_0x296ecc);},'whSIv':function(_0x36b0f9,_0x225998){return _0x36b0f9===_0x225998;},'eHHYJ':_0x5e0c37(0x3b7),'lMFiN':function(_0x4242a5,_0x104e7b){return _0x4242a5>_0x104e7b;},'EmZQq':_0x5e0c37(0x17d),'QMPmL':function(_0x44e965,_0x1ac888){return _0x44e965!==_0x1ac888;},'sTrFb':'Room\x20is\x20currently\x20paused.','zZdEi':function(_0x5a3bfe,_0x466124){return _0x5a3bfe||_0x466124;},'McvIu':function(_0x48c0f9,_0x1712bb){return _0x48c0f9(_0x1712bb);},'oyHyr':function(_0x2034e8,_0x26bf59){return _0x2034e8>_0x26bf59;},'YdGts':_0x5e0c37(0x273),'XLqRY':_0x5e0c37(0x2d3),'TeLhG':function(_0x1e09d0,_0x25f8a1,_0x2314e3){return _0x1e09d0(_0x25f8a1,_0x2314e3);},'aTXhW':function(_0x46fedb,_0x388894){return _0x46fedb(_0x388894);},'UYOJf':'avatar_base64'},_0x19e3ab=await db['ref']('roomStates/'+roomCode+_0x5e0c37(0x13b))[_0x5e0c37(0x1e4)](),_0x549372=await db['ref']('muted/'+roomCode+'/'+_0x39b58a[_0x5e0c37(0x391)](sanitizeUsername,username))[_0x5e0c37(0x1e4)]();if(_0x549372['exists']()){const _0x2a43e6=_0x549372[_0x5e0c37(0x276)](),_0x65d323=_0x39b58a[_0x5e0c37(0x1d7)](typeof _0x2a43e6,_0x39b58a[_0x5e0c37(0x27d)])&&_0x2a43e6['muteUntil']?_0x2a43e6[_0x5e0c37(0x2bb)]:_0x2a43e6;if(_0x39b58a['lMFiN'](_0x65d323,Date[_0x5e0c37(0x32d)]())){alert(_0x39b58a['EmZQq']);return;}}if(_0x19e3ab[_0x5e0c37(0x1f1)]()&&_0x39b58a[_0x5e0c37(0x1d7)](_0x19e3ab['val'](),!![])&&_0x39b58a[_0x5e0c37(0x162)](role,_0x5e0c37(0x3e8))){alert(_0x39b58a[_0x5e0c37(0x370)]);return;}const _0x10e0ca=document[_0x5e0c37(0x1f0)](_0x5e0c37(0x31d)),_0x340a2c=_0x10e0ca[_0x5e0c37(0x1e6)][_0x5e0c37(0x191)]();if(_0x39b58a[_0x5e0c37(0x2da)](!_0x340a2c,isBlocked))return;const _0x24e34b=Date[_0x5e0c37(0x32d)](),_0x2ff218=_0x340a2c['toLowerCase'](),_0x1e85fd=swearWords[_0x5e0c37(0x3d7)](_0x25b74b=>_0x2ff218[_0x5e0c37(0x37e)](_0x25b74b));if(_0x1e85fd){_0x39b58a[_0x5e0c37(0x320)](alert,_0x5e0c37(0x3ad));return;}spamTimestamps['push'](_0x24e34b);const _0x58c94e=spamTimestamps[_0x5e0c37(0x3dd)](_0x121d51=>_0x24e34b-_0x121d51<0x1b58);if(_0x39b58a[_0x5e0c37(0x3da)](_0x58c94e[_0x5e0c37(0x2cb)],0x5)){const _0x57a5ac=_0x39b58a['YdGts'][_0x5e0c37(0x1af)]('|');let _0x5b3eba=0x0;while(!![]){switch(_0x57a5ac[_0x5b3eba++]){case'0':alert(_0x39b58a[_0x5e0c37(0x10e)]);continue;case'1':_0x39b58a['TeLhG'](setTimeout,()=>{const _0x315d4e=_0x5e0c37;isBlocked=![],_0x10e0ca['disabled']=![],_0x10e0ca['placeholder']=_0x39b58a[_0x315d4e(0x2b4)],spamTimestamps['length']=0x0;},0x7530);continue;case'2':return;case'3':_0x10e0ca[_0x5e0c37(0x203)]=!![];continue;case'4':_0x10e0ca[_0x5e0c37(0x19a)]='‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'5':isBlocked=!![];continue;}break;}}const _0x1c8cf7=_0x340a2c[_0x5e0c37(0x173)](/(.)\1{14,}/);if(_0x1c8cf7){_0x39b58a[_0x5e0c37(0x3c3)](alert,_0x5e0c37(0x315));return;}const _0x31b256=localStorage['getItem'](_0x39b58a['UYOJf'])||'',_0x5179ca=db[_0x5e0c37(0x3cf)]()['push']()[_0x5e0c37(0x123)];db[_0x5e0c37(0x3cf)]('rooms/'+roomCode+_0x5e0c37(0x3d4)+_0x5179ca)[_0x5e0c37(0x2ce)]({'msg':_0x340a2c,'sender':username,'senderId':clientId,'avatarBase64':_0x31b256,'timestamp':_0x24e34b}),_0x10e0ca[_0x5e0c37(0x1e6)]='',sendTyping(!![]),lastActivity=_0x24e34b;}function listenForMessages(){const _0x16dd02=_0x435961,_0x24f652={'VoJLR':function(_0x3f960d,_0x3f27d9,_0x584675,_0x3bf396){return _0x3f960d(_0x3f27d9,_0x584675,_0x3bf396);},'hczbh':function(_0x27961d,_0x5254ce){return _0x27961d!==_0x5254ce;},'LLsXl':function(_0x43140e){return _0x43140e();},'gNzQf':function(_0x3c22f6,_0x14183b){return _0x3c22f6&&_0x14183b;},'exTNH':_0x16dd02(0x392),'Dknpm':_0x16dd02(0x38d),'Rsxuz':_0x16dd02(0x296),'epTxY':_0x16dd02(0x38c),'hmhEZ':_0x16dd02(0x34b),'cagaI':function(_0x153e1a,_0x59a18c){return _0x153e1a>_0x59a18c;},'vSDvz':function(_0x3ce59b,_0x3413f2){return _0x3ce59b-_0x3413f2;},'vyPrY':_0x16dd02(0x332),'WuQRZ':_0x16dd02(0x1e6),'VCWkd':_0x16dd02(0x25f)},_0x14cadb=db[_0x16dd02(0x3cf)]('rooms/'+roomCode+_0x16dd02(0x17e)),_0x451758=_0x14cadb[_0x16dd02(0x310)](MAX_MESSAGES);userListReady=!![],_0x451758['on'](_0x24f652[_0x16dd02(0x328)],_0x301491=>{const _0x58094a=_0x16dd02,_0x488dd7={'NIwiF':function(_0x5737db,_0x1cc9db,_0x1d6908,_0x4533cf){const _0x5aba69=_0x3eb1;return _0x24f652[_0x5aba69(0x220)](_0x5737db,_0x1cc9db,_0x1d6908,_0x4533cf);}},_0x576d67=_0x301491[_0x58094a(0x276)](),{senderId:_0x155109}=_0x576d67,_0x309a25=_0x155109===clientId;if(!userListReady){pendingMessages[_0x58094a(0x2f1)](({data:_0x34f3e4,sent:_0xa97ab2,key:_0x5b5ac5})=>{const _0x2dfc26=_0x58094a;_0x488dd7[_0x2dfc26(0x14d)](addMessage,_0x34f3e4,_0xa97ab2,_0x5b5ac5);}),pendingMessages=[];return;}const _0x20e74c=_0x576d67[_0x58094a(0x1a7)]||null,_0x22eb4a=_0x576d67[_0x58094a(0x2a3)]||null;_0x24f652['VoJLR'](addMessage,_0x576d67,_0x309a25,_0x301491[_0x58094a(0x123)]);if(roomCode!==STATIC_ROOM&&_0x24f652[_0x58094a(0x13d)](_0x576d67[_0x58094a(0x360)],_0x58094a(0x32e))){}!_0x309a25&&(sound['play'](),_0x24f652['LLsXl'](flagPageAttention));if(_0x24f652[_0x58094a(0x212)](notificationsEnabled,!_0x309a25)&&Notification['permission']===_0x24f652[_0x58094a(0x2a8)]){const _0x57808a=_0x576d67[_0x58094a(0x21e)]||(_0x576d67[_0x58094a(0x2a3)]?_0x24f652['Dknpm']:_0x576d67['imageBase64']?_0x24f652[_0x58094a(0x219)]:_0x24f652[_0x58094a(0x1d9)]);new Notification(_0x58094a(0x18c)+_0x576d67['sender'],{'body':_0x57808a,'icon':_0x24f652[_0x58094a(0x249)]});}}),_0x14cadb[_0x16dd02(0x3ba)](_0x24f652[_0x16dd02(0x34f)])['then'](_0x1c2b28=>{const _0x1d6f3b=_0x16dd02,_0x473198=_0x1c2b28[_0x1d6f3b(0x276)](),_0x2220b7=Object['keys'](_0x473198||{});if(_0x24f652[_0x1d6f3b(0x172)](_0x2220b7[_0x1d6f3b(0x2cb)],MAX_MESSAGES)){const _0x330ddb=_0x24f652[_0x1d6f3b(0x308)](_0x2220b7['length'],MAX_MESSAGES),_0xb7fa12=_0x2220b7[_0x1d6f3b(0x195)]((_0x281638,_0x6d76c0)=>_0x473198[_0x281638]['timestamp']-_0x473198[_0x6d76c0][_0x1d6f3b(0x1d8)])[_0x1d6f3b(0x1ec)](0x0,_0x330ddb);_0xb7fa12['forEach'](_0x3c3beb=>{const _0x14bd5c=_0x1d6f3b;db['ref'](_0x14bd5c(0x149)+roomCode+'/messages/'+_0x3c3beb)[_0x14bd5c(0x3e7)]();});}}),db[_0x16dd02(0x3cf)]('rooms/'+roomCode+_0x16dd02(0x17e))['on'](_0x24f652[_0x16dd02(0x317)],_0x99dc13=>{const _0x472b4f=_0x16dd02,_0x1ce0d0=_0x99dc13['key'],_0x43f0cd=document[_0x472b4f(0x2b5)](_0x472b4f(0x340)+_0x1ce0d0+'\x22]');if(_0x43f0cd)_0x43f0cd['remove']();});}function stackNotification(_0x1c3bd3,_0x381314){const _0x1813a8=_0x435961,_0x39907e={'xkNiS':function(_0x2a1bae,_0x5ef7be){return _0x2a1bae(_0x5ef7be);},'pWvhg':function(_0x279974,_0xfc9cc7,_0x33591d){return _0x279974(_0xfc9cc7,_0x33591d);}};notificationStack[_0x1813a8(0x2d4)]({'sender':_0x1c3bd3,'content':_0x381314}),_0x39907e[_0x1813a8(0x330)](clearTimeout,notificationTimer),notificationTimer=_0x39907e['pWvhg'](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0xddfd06=_0x435961,_0x3d0a9e={'inzhs':_0xddfd06(0x39e),'gGLkL':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','fYtfL':function(_0x20b9dd,_0x211a1c){return _0x20b9dd!==_0x211a1c;},'BzDYa':function(_0x48b2a0,_0x3b36a7){return _0x48b2a0||_0x3b36a7;},'IgClE':_0xddfd06(0x2c7),'JLIDN':function(_0x21123b,_0x53dceb,_0x41d350){return _0x21123b(_0x53dceb,_0x41d350);}};if(!notificationStack['length']||_0x3d0a9e[_0xddfd06(0x37f)](Notification['permission'],'granted'))return;const _0x401380=[...new Set(notificationStack[_0xddfd06(0x239)](_0x3d76db=>_0x3d76db[_0xddfd06(0x360)]))],_0x2c8f75=_0x3d0a9e[_0xddfd06(0x394)](roomCode,_0x3d0a9e['IgClE']),_0x1b43f4=_0x401380[_0xddfd06(0x2cb)]===0x1?_0xddfd06(0x262)+_0x401380[0x0]+_0xddfd06(0x3c7)+_0x2c8f75+':\x20'+notificationStack[0x0][_0xddfd06(0x27f)]:_0xddfd06(0x19f)+_0x401380[_0xddfd06(0x2a6)](',\x20')+_0xddfd06(0x3c7)+_0x2c8f75;_0x3d0a9e[_0xddfd06(0x2ab)](setTimeout,()=>{const _0x388f10=_0xddfd06;new Notification(_0x3d0a9e[_0x388f10(0x183)],{'body':_0x1b43f4,'icon':_0x3d0a9e['gGLkL']});},0x64);}async function addMessage(_0x46ac01,_0x22d066,_0x50f156=null){const _0x38de60=_0x435961,_0x3d5dd8={'ffJsS':function(_0x4d271f,_0x3273ac,_0xbe0281){return _0x4d271f(_0x3273ac,_0xbe0281);},'iJETS':_0x38de60(0x3eb),'FsqbB':_0x38de60(0x27e),'PwRJQ':_0x38de60(0x31e),'cbRlN':_0x38de60(0x247),'KToTt':_0x38de60(0x2a1),'NJinc':function(_0x1cbc22,_0x1698e1){return _0x1cbc22(_0x1698e1);},'KSilJ':_0x38de60(0x1cb),'ZgxAG':_0x38de60(0x1d2),'zzPfF':function(_0x36dbbe,_0x27a2a7){return _0x36dbbe>_0x27a2a7;},'FqUgS':function(_0x23cbb6,_0x5ccdbf){return _0x23cbb6===_0x5ccdbf;},'JbrtL':function(_0x3d3e44,_0x5f2383){return _0x3d3e44(_0x5f2383);},'KsCRd':function(_0x384581,_0x392b4f,_0x39591b){return _0x384581(_0x392b4f,_0x39591b);},'Jqyaz':_0x38de60(0x18e),'kppRP':'0.8rem','GPPmc':_0x38de60(0x3f0),'aaVLC':'messages','BEhYu':_0x38de60(0x21e),'dnxxs':'sent','tsHfe':'received','mGEgG':_0x38de60(0x127),'OyIhk':'2-digit','NJzZV':function(_0x30d825,_0x2d0bf8){return _0x30d825(_0x2d0bf8);},'uvsTF':_0x38de60(0x342),'VitVP':_0x38de60(0x131),'yCIwO':_0x38de60(0x274),'aSyly':_0x38de60(0x367),'WRTRR':'#222','zFAcx':_0x38de60(0x124),'KgoiR':_0x38de60(0x2ae),'DGHni':_0x38de60(0x299),'VvkKw':_0x38de60(0x3de),'UdJRf':_0x38de60(0x1ea),'mIPNx':_0x38de60(0x322),'QawwY':'normal','QQRLe':_0x38de60(0x1bd),'IHCvW':_0x38de60(0x34d),'oYQmW':'0\x202px\x206px\x20rgba(0,0,0,0.5)','ACmEq':_0x38de60(0x3c6),'OLPuR':_0x38de60(0x117),'TjDkr':_0x38de60(0x2c2),'MRqST':_0x38de60(0x221),'eMlIs':_0x38de60(0x3e8),'wpOcu':_0x38de60(0x3f7),'fMTbf':'moderator','WXxHP':_0x38de60(0x2bf)},{msg:_0x22261d,sender:_0x58765b,senderId:_0x438028,timestamp:_0x14b43a,audioUrl:_0x4523d0,audioBase64:_0x2005b2,imageBase64:_0x84ace1}=_0x46ac01,_0x5736c2=_0x3d5dd8[_0x38de60(0x119)](sanitizeUsername,_0x58765b),_0x17f94b=document[_0x38de60(0x361)](_0x3d5dd8[_0x38de60(0x395)]);if(_0x46ac01[_0x38de60(0x360)]===_0x38de60(0x32e)){const _0x38cea4=document[_0x38de60(0x361)](_0x3d5dd8[_0x38de60(0x395)]);_0x38cea4['style'][_0x38de60(0x375)]=_0x3d5dd8['FsqbB'],_0x38cea4[_0x38de60(0x301)][_0x38de60(0x3c9)]=_0x3d5dd8['kppRP'],_0x38cea4['style']['color']=_0x38de60(0x226),_0x38cea4['style'][_0x38de60(0x311)]=_0x3d5dd8['GPPmc'],_0x38cea4[_0x38de60(0x3f9)]=_0x46ac01['msg'];const _0x5018fd=document['getElementById'](_0x3d5dd8['aaVLC']);_0x5018fd[_0x38de60(0x3bf)](_0x38cea4),_0x5018fd['scrollTop']=_0x5018fd[_0x38de60(0x2ad)];return;}_0x17f94b[_0x38de60(0x2f5)]['add'](_0x3d5dd8[_0x38de60(0x272)],_0x22d066?_0x3d5dd8[_0x38de60(0x238)]:_0x3d5dd8[_0x38de60(0x255)]),_0x17f94b[_0x38de60(0x301)][_0x38de60(0x228)]=_0x3d5dd8[_0x38de60(0x1d3)];_0x50f156&&(_0x17f94b[_0x38de60(0x1fa)][_0x38de60(0x38a)]=_0x50f156);const _0x49a07a=new Date(_0x14b43a)[_0x38de60(0x1ef)]([],{'hour':_0x3d5dd8[_0x38de60(0x3e3)],'minute':_0x3d5dd8[_0x38de60(0x3e3)]}),_0x1534de=getRoleTag(_0x5736c2),_0x34dfda=await _0x3d5dd8['NJzZV'](fetchAvatar,_0x5736c2),_0x19c97d=_0x34dfda?_0x38de60(0x155)+_0x34dfda+_0x38de60(0x3d6):'',_0x4cae5b=_0x19c97d+'<span\x20class=\x22sender-name\x22>'+_0x58765b+'\x20'+_0x1534de+'</span>',_0x425dcc=_0x22261d?.[_0x38de60(0x3f2)](new RegExp('@'+username+'\x5cb','gi'),_0x38de60(0x139));let _0x696ecb=_0x4cae5b+_0x38de60(0x338);if(_0x4523d0)_0x696ecb+=_0x38de60(0x185)+_0x4523d0+_0x38de60(0x306);else{if(_0x2005b2){const _0x4a4bcb=_0x38de60(0x336)+_0x2005b2;_0x696ecb+=_0x38de60(0x185)+_0x4a4bcb+_0x38de60(0x306);}else{if(_0x84ace1){const _0x205e01='data:image/png;base64,'+_0x84ace1;_0x696ecb+='<img\x20src=\x22'+_0x205e01+_0x38de60(0x2e3);}else{const _0xe86dac=_0x425dcc[_0x38de60(0x3f2)](/(https?:\/\/[^\s]+)/g,_0x38baa8=>{const _0x45fbc7=_0x38de60;return _0x45fbc7(0x200)+_0x38baa8+_0x45fbc7(0x2e0)+_0x38baa8+_0x45fbc7(0x1cc);});_0x696ecb+='<div>'+_0xe86dac+'</div>';}}}_0x696ecb+=_0x38de60(0x3e0)+_0x49a07a+_0x38de60(0x167),_0x17f94b[_0x38de60(0x1fe)]=_0x696ecb;const _0x59d661=document['createElement'](_0x3d5dd8[_0x38de60(0x395)]);_0x59d661[_0x38de60(0x29d)]=_0x38de60(0x197),_0x59d661['style'][_0x38de60(0x30a)]=_0x3d5dd8['uvsTF'],_0x59d661[_0x38de60(0x301)][_0x38de60(0x3c9)]=_0x3d5dd8[_0x38de60(0x283)],_0x17f94b[_0x38de60(0x3bf)](_0x59d661);const _0x10201f=document[_0x38de60(0x361)](_0x38de60(0x18e));_0x10201f['className']=_0x3d5dd8[_0x38de60(0x256)];const _0x2c3dc9=['‚ù§Ô∏è','üòÇ','üòÆ','üò¢','üëé','üíÄ','ü§Ø'];_0x10201f[_0x38de60(0x1fe)]=_0x2c3dc9[_0x38de60(0x239)](_0x4f9119=>_0x38de60(0x3dc)+_0x4f9119+_0x38de60(0x14c))['join'](''),_0x10201f['style'][_0x38de60(0x240)]=_0x3d5dd8['KSilJ'],_0x10201f[_0x38de60(0x301)][_0x38de60(0x228)]=_0x3d5dd8[_0x38de60(0x32b)],_0x10201f['style']['background']=_0x3d5dd8[_0x38de60(0x22e)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x1f8)]=_0x3d5dd8[_0x38de60(0x30c)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x1be)]=_0x3d5dd8[_0x38de60(0x16c)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x3c9)]=_0x3d5dd8['DGHni'],_0x10201f[_0x38de60(0x301)][_0x38de60(0x3bd)]=_0x3d5dd8['VvkKw'],_0x10201f['style']['left']=_0x3d5dd8[_0x38de60(0x3e4)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x3bb)]='10',_0x10201f[_0x38de60(0x301)][_0x38de60(0x2f8)]=_0x3d5dd8[_0x38de60(0x335)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x3aa)]=_0x38de60(0x245),_0x10201f[_0x38de60(0x301)][_0x38de60(0x14e)]=_0x3d5dd8['QawwY'],_0x10201f['style'][_0x38de60(0x240)]=_0x3d5dd8[_0x38de60(0x305)],_0x10201f[_0x38de60(0x301)][_0x38de60(0x11f)]=_0x3d5dd8[_0x38de60(0x34e)],_0x10201f[_0x38de60(0x301)]['gap']=_0x3d5dd8['uvsTF'],_0x10201f['style'][_0x38de60(0x281)]=_0x3d5dd8['oYQmW'],Array['from'](_0x10201f[_0x38de60(0x25e)])[_0x38de60(0x2f1)](_0x2f5e7a=>{const _0x14bff7=_0x38de60,_0x196099={'uignQ':function(_0x1f0057,_0x2989af,_0x5c3506){return _0x3d5dd8['ffJsS'](_0x1f0057,_0x2989af,_0x5c3506);}};_0x2f5e7a[_0x14bff7(0x301)][_0x14bff7(0x35b)]=_0x14bff7(0x2d7),_0x2f5e7a[_0x14bff7(0x294)]=_0x4d2959=>{const _0x479b83=_0x14bff7;_0x4d2959['stopPropagation']();const _0xdfcbc7=_0x2f5e7a[_0x479b83(0x3cc)];_0x196099[_0x479b83(0x1a9)](reactToMessage,_0x50f156,_0xdfcbc7);};}),Array[_0x38de60(0x35f)](_0x10201f['children'])[_0x38de60(0x2f1)](_0x53640f=>{const _0xcfee26=_0x38de60,_0x3549bc=_0x3d5dd8[_0xcfee26(0x3bc)][_0xcfee26(0x1af)]('|');let _0x2605da=0x0;while(!![]){switch(_0x3549bc[_0x2605da++]){case'0':_0x53640f[_0xcfee26(0x301)]['alignItems']=_0x3d5dd8[_0xcfee26(0x1b8)];continue;case'1':_0x53640f[_0xcfee26(0x301)][_0xcfee26(0x240)]=_0x3d5dd8[_0xcfee26(0x2c0)];continue;case'2':_0x53640f['style'][_0xcfee26(0x23b)]=_0x3d5dd8[_0xcfee26(0x23a)];continue;case'3':_0x53640f[_0xcfee26(0x301)][_0xcfee26(0x145)]='center';continue;case'4':_0x53640f[_0xcfee26(0x301)][_0xcfee26(0x3c9)]=_0x3d5dd8[_0xcfee26(0x1a5)];continue;case'5':_0x53640f[_0xcfee26(0x301)]['height']=_0x3d5dd8[_0xcfee26(0x23a)];continue;}break;}}),_0x17f94b[_0x38de60(0x3bf)](_0x10201f),_0x10201f[_0x38de60(0x301)][_0x38de60(0x240)]=_0x3d5dd8[_0x38de60(0x393)];let _0x45a55c;_0x17f94b[_0x38de60(0x11e)](_0x3d5dd8[_0x38de60(0x133)],()=>{const _0x2887c9=_0x38de60;_0x45a55c=_0x3d5dd8[_0x2887c9(0x128)](setTimeout,()=>{const _0x1d9790=_0x2887c9;_0x10201f[_0x1d9790(0x301)][_0x1d9790(0x240)]='inline-block';},0xbb8);}),_0x17f94b['addEventListener'](_0x3d5dd8[_0x38de60(0x37a)],()=>{const _0x452a16=_0x38de60;_0x3d5dd8[_0x452a16(0x119)](clearTimeout,_0x45a55c),_0x10201f[_0x452a16(0x301)]['display']=_0x3d5dd8['KSilJ'];});let _0x22e8cf;_0x17f94b[_0x38de60(0x11e)](_0x3d5dd8['TjDkr'],()=>{const _0x1868a3=_0x38de60;_0x22e8cf=_0x3d5dd8[_0x1868a3(0x128)](setTimeout,()=>{const _0x36d427=_0x1868a3;_0x10201f[_0x36d427(0x301)][_0x36d427(0x240)]=_0x3d5dd8['ZgxAG'];},0xbb8);}),_0x17f94b[_0x38de60(0x11e)](_0x3d5dd8[_0x38de60(0x1f4)],()=>clearTimeout(_0x22e8cf));_0x50f156&&db[_0x38de60(0x3cf)](_0x38de60(0x149)+roomCode+_0x38de60(0x3d4)+_0x50f156+_0x38de60(0x30b))['on']('value',_0x50b28b=>{const _0x52adc1=_0x38de60;if(!_0x50b28b[_0x52adc1(0x1f1)]()){_0x59d661[_0x52adc1(0x1fe)]='';return;}const _0x45202e=_0x50b28b[_0x52adc1(0x276)]();let _0x580024='';Object[_0x52adc1(0x22a)](_0x45202e)['forEach'](([_0x257239,_0x290c78])=>{const _0x2e12d9=_0x52adc1;Array[_0x2e12d9(0x161)](_0x290c78)&&_0x3d5dd8[_0x2e12d9(0x378)](_0x290c78[_0x2e12d9(0x2cb)],0x0)&&(_0x580024+='<span\x20style=\x22margin-right:6px;\x22>'+_0x257239+'\x20'+_0x290c78['length']+_0x2e12d9(0x2d9));}),_0x59d661['innerHTML']=_0x580024;});if([_0x3d5dd8[_0x38de60(0x1c4)],_0x3d5dd8[_0x38de60(0x31f)],_0x3d5dd8['fMTbf']][_0x38de60(0x37e)](role)){let _0x520565=0x0;_0x17f94b[_0x38de60(0x11e)](_0x3d5dd8['WXxHP'],()=>{const _0x2ed374=_0x38de60;_0x520565++,_0x3d5dd8[_0x2ed374(0x384)](_0x520565,0x3)&&(_0x3d5dd8['JbrtL'](confirm,_0x2ed374(0x2be))&&(db[_0x2ed374(0x3cf)](_0x2ed374(0x149)+roomCode+_0x2ed374(0x3d4)+_0x50f156)[_0x2ed374(0x3e7)](),_0x17f94b[_0x2ed374(0x3e7)]())),_0x3d5dd8[_0x2ed374(0x15a)](setTimeout,()=>_0x520565=0x0,0x5dc);});}const _0x5aa8a6=document[_0x38de60(0x1f0)](_0x3d5dd8['aaVLC']);_0x5aa8a6[_0x38de60(0x3bf)](_0x17f94b),_0x5aa8a6[_0x38de60(0x18b)]=_0x5aa8a6['scrollHeight'];}function cleanupOldRooms(){const _0x437d66=_0x435961,_0x27a0aa={'GMaci':function(_0x2b6118,_0x5c0486){return _0x2b6118!==_0x5c0486;},'odVoS':function(_0xbc120e,_0x45beab){return _0xbc120e!==_0x45beab;},'EHZGJ':function(_0xac1ed7,_0x4a5b03){return _0xac1ed7===_0x4a5b03;},'CIJMX':function(_0xfa4224,_0x159b76){return _0xfa4224>_0x159b76;},'uXvPK':function(_0x3dd3ea,_0x46cb35){return _0x3dd3ea-_0x46cb35;},'uzBSA':_0x437d66(0x149),'yraZU':'antispam','rSpAw':_0x437d66(0x259),'oFLJl':_0x437d66(0x1e6),'nEmEd':_0x437d66(0x3ea)};db[_0x437d66(0x3cf)](_0x27a0aa[_0x437d66(0x34a)])['once'](_0x27a0aa[_0x437d66(0x202)])[_0x437d66(0x289)](_0x58ffc1=>{const _0x2eade0=_0x437d66,_0x452bb2={'JJjeP':function(_0x2882ea,_0x498ef3){return _0x27a0aa['odVoS'](_0x2882ea,_0x498ef3);}},_0xa86168=_0x58ffc1[_0x2eade0(0x276)]();if(!_0xa86168)return;const _0x50e4a7=Date[_0x2eade0(0x32d)]();for(const _0x43ad3a in _0xa86168){if(_0x27a0aa[_0x2eade0(0x35e)](_0x43ad3a,STATIC_ROOM))continue;const _0x58823e=_0xa86168[_0x43ad3a];_0x27a0aa[_0x2eade0(0x1c9)](_0x27a0aa[_0x2eade0(0x29c)](_0x50e4a7,_0x58823e[_0x2eade0(0x366)]||0x0),0x2*0x3c*0x3e8)&&db['ref'](_0x27a0aa[_0x2eade0(0x243)]+_0x43ad3a)['remove']();}db[_0x2eade0(0x3cf)](_0x27a0aa['yraZU'])['once'](_0x2eade0(0x1e6))[_0x2eade0(0x289)](_0x428f3c=>{const _0x343204=_0x2eade0,_0x592171=_0x428f3c['val']();if(!_0x592171)return;for(const _0x431559 in _0x592171){if(_0x27a0aa[_0x343204(0x15b)](_0x431559,STATIC_ROOM))db[_0x343204(0x3cf)](_0x343204(0x222)+_0x431559)['remove']();}}),db[_0x2eade0(0x3cf)](_0x27a0aa[_0x2eade0(0x388)])[_0x2eade0(0x3ba)](_0x27a0aa[_0x2eade0(0x202)])[_0x2eade0(0x289)](_0x4000ff=>{const _0x461404=_0x2eade0,_0x2cdfec=_0x4000ff[_0x461404(0x276)]();if(!_0x2cdfec)return;for(const _0x5e5d97 in _0x2cdfec){if(_0x452bb2['JJjeP'](_0x5e5d97,STATIC_ROOM))db['ref']('antispamBlocked/'+_0x5e5d97)[_0x461404(0x3e7)]();}});});}document[_0x435961(0x11e)](_0x435961(0x1fd),()=>{const _0x5170f0=_0x435961,_0x13f88e={'gcdny':function(_0x3d7d63,_0x555e38){return _0x3d7d63===_0x555e38;},'kmzzq':function(_0x4a263d){return _0x4a263d();},'BWKAb':'msgInput','GFLQv':'keypress'},_0x1570ce=document[_0x5170f0(0x1f0)](_0x13f88e[_0x5170f0(0x36a)]);_0x1570ce&&_0x1570ce[_0x5170f0(0x11e)](_0x13f88e[_0x5170f0(0x2d0)],function(_0x4dc3f1){const _0x483628=_0x5170f0;_0x13f88e[_0x483628(0x267)](_0x4dc3f1[_0x483628(0x123)],_0x483628(0x2ac))&&(_0x4dc3f1[_0x483628(0x163)](),_0x13f88e[_0x483628(0x3a1)](sendMessage));});});function showScreen(_0x4396fc){const _0x19ae45=_0x435961,_0x22dd13={'UEfDD':'none','iWKEK':_0x19ae45(0x1ab),'IVdHq':_0x19ae45(0x268),'acTXk':'chatScreen','szhOE':_0x19ae45(0x157),'UWmLQ':_0x19ae45(0x349),'VTdiW':_0x19ae45(0x1e7),'AQVkG':_0x19ae45(0x25b),'IhnyM':_0x19ae45(0x31e)};[_0x22dd13['iWKEK'],_0x19ae45(0x113),_0x22dd13['IVdHq'],_0x22dd13[_0x19ae45(0x39a)],_0x22dd13[_0x19ae45(0x373)],_0x22dd13[_0x19ae45(0x279)],_0x22dd13[_0x19ae45(0x31c)],_0x22dd13[_0x19ae45(0x386)],_0x19ae45(0x207)][_0x19ae45(0x2f1)](_0x462b2a=>{const _0x43af12=_0x19ae45;document[_0x43af12(0x1f0)](_0x462b2a)['style'][_0x43af12(0x240)]=_0x22dd13[_0x43af12(0x1ac)];}),document['getElementById'](_0x4396fc)['style'][_0x19ae45(0x240)]=_0x22dd13[_0x19ae45(0x104)];}function genRoomCode(){const _0x63d93a=_0x435961,_0x3ae9b0={'DjTPP':_0x63d93a(0x2f7),'yHSeO':function(_0x379d3d,_0x23493c){return _0x379d3d+_0x23493c;},'abpsa':function(_0x22f211,_0x5327c9){return _0x22f211+_0x5327c9;},'GuijG':function(_0x3c94f3,_0x110010){return _0x3c94f3+_0x110010;},'RYOat':function(_0x4af381,_0x3003fc,_0x40f0f8){return _0x4af381(_0x3003fc,_0x40f0f8);},'Azsuh':function(_0x411d06,_0x57cc78,_0x27c4dc){return _0x411d06(_0x57cc78,_0x27c4dc);}},_0x3f8cf9=_0x3ae9b0[_0x63d93a(0x14a)],_0x2a2d34=_0x63d93a(0x224),_0x125d6f=(_0x423071,_0x30bcde)=>Array[_0x63d93a(0x35f)]({'length':_0x30bcde},()=>_0x423071[Math[_0x63d93a(0x288)](Math[_0x63d93a(0x3e6)]()*_0x423071['length'])])[_0x63d93a(0x2a6)]('');return _0x3ae9b0[_0x63d93a(0x154)](_0x3ae9b0['abpsa'](_0x3ae9b0[_0x63d93a(0x3e1)](_0x125d6f(_0x2a2d34,0x3),_0x3ae9b0['RYOat'](_0x125d6f,_0x3f8cf9,0x3)),_0x3ae9b0[_0x63d93a(0x2ec)](_0x125d6f,_0x2a2d34,0x2)),_0x3ae9b0['Azsuh'](_0x125d6f,_0x3f8cf9,0x2));}function startInactivityTimer(){const _0x2da071=_0x435961,_0xdbcd09={'flCAb':function(_0xb8620e,_0xcde35b){return _0xb8620e>_0xcde35b;},'ukSaN':function(_0x309d42,_0xf5fda1){return _0x309d42*_0xf5fda1;},'YTOYU':function(_0x838480,_0x5549fc){return _0x838480!==_0x5549fc;},'JEjNT':function(_0x517e2d,_0x3eb8eb){return _0x517e2d+_0x3eb8eb;},'PfhdS':_0x2da071(0x149),'tUlhJ':function(_0x1c40fc,_0x22fba7){return _0x1c40fc(_0x22fba7);},'dPfIs':_0x2da071(0x215),'FrxFK':function(_0x175ea2,_0x10ae1b,_0x1c72df){return _0x175ea2(_0x10ae1b,_0x1c72df);}};_0xdbcd09['FrxFK'](setInterval,()=>{const _0x1f98d5=_0x2da071;_0xdbcd09['flCAb'](Date[_0x1f98d5(0x32d)]()-lastActivity,_0xdbcd09[_0x1f98d5(0x24e)](0x5*0x3c,0x3e8))&&_0xdbcd09[_0x1f98d5(0x3c1)](roomCode,STATIC_ROOM)&&(db[_0x1f98d5(0x3cf)](_0xdbcd09[_0x1f98d5(0x33c)](_0xdbcd09[_0x1f98d5(0x198)],roomCode))[_0x1f98d5(0x1ae)]({'active':![]}),_0xdbcd09[_0x1f98d5(0x21a)](alert,_0xdbcd09[_0x1f98d5(0x3c5)]),location[_0x1f98d5(0x2aa)]());},0x7530);}function setupSidebarBackHandler(){const _0x534e73=_0x435961,_0x1b8d76={'OIcrJ':_0x534e73(0x3b8),'WWbsl':_0x534e73(0x254)};window[_0x534e73(0x11e)]('popstate',()=>{const _0x4a32fa=_0x534e73,_0x11e2fc=document['getElementById'](_0x1b8d76['OIcrJ']);_0x11e2fc?.[_0x4a32fa(0x2f5)][_0x4a32fa(0x32c)](_0x1b8d76[_0x4a32fa(0x2d5)])&&_0x11e2fc[_0x4a32fa(0x2f5)]['remove'](_0x1b8d76['WWbsl']);});}function toggleSidebar(){const _0x38c618=_0x435961,_0x4eb5bf={'kIhMK':_0x38c618(0x3b8),'TFsgY':'show'},_0x123fc9=document[_0x38c618(0x1f0)](_0x4eb5bf[_0x38c618(0x1ff)]);if(!_0x123fc9[_0x38c618(0x2f5)][_0x38c618(0x32c)]('show'))_0x123fc9[_0x38c618(0x2f5)][_0x38c618(0x2e9)](_0x4eb5bf['TFsgY']),history[_0x38c618(0x2a0)]({'sidebarOpen':!![]},'');else{_0x123fc9['classList']['remove'](_0x4eb5bf[_0x38c618(0x109)]);if(history[_0x38c618(0x21c)]?.[_0x38c618(0x1b6)])history[_0x38c618(0x362)]();}}function setupVisibilityAttention(){const _0x2e7d71=_0x435961;let _0x28788c=0x0,_0xa21dae=document['title'];document[_0x2e7d71(0x11e)](_0x2e7d71(0x329),()=>{const _0x41c253=_0x2e7d71;!document[_0x41c253(0x10b)]&&(document['title']=_0xa21dae,_0x28788c=0x0);}),window[_0x2e7d71(0x2f9)]=function(){const _0x442dec=_0x2e7d71;document[_0x442dec(0x10b)]&&(_0x28788c++,document[_0x442dec(0x170)]='('+_0x28788c+_0x442dec(0x382)+_0xa21dae);};}function tryEditProfile(){const _0x47582a=_0x435961,_0xccfcc9={'MytBb':function(_0xcaf0d6,_0x55a66e){return _0xcaf0d6(_0x55a66e);},'QfTCi':'editProfileScreen'};_0xccfcc9[_0x47582a(0x20b)](showScreen,_0xccfcc9[_0x47582a(0x36c)]);}async function submitEditProfile(){const _0x3f7160=_0x435961,_0xd38b8c={'cPRML':_0x3f7160(0x298),'sfCxF':_0x3f7160(0x1c5),'NENlx':_0x3f7160(0x3d3),'BuBwc':_0x3f7160(0x24d),'GfUcj':_0x3f7160(0x1b1),'ruWEj':function(_0x55e0cd,_0x3eb7a1){return _0x55e0cd(_0x3eb7a1);},'htNfm':'Profile\x20not\x20found.','fcGpe':function(_0x1c91e6,_0x470847){return _0x1c91e6(_0x470847);},'RtqGI':function(_0x5e11fa,_0x5b1d9a){return _0x5e11fa!==_0x5b1d9a;},'ktmZE':_0x3f7160(0x282),'eNZIt':function(_0x39cce7,_0x1348e2){return _0x39cce7*_0x1348e2;},'UUEKq':function(_0x4bdf79,_0x5df720){return _0x4bdf79*_0x5df720;},'DFqzS':function(_0x2667a0,_0x2327c6){return _0x2667a0>_0x2327c6;},'pBrqN':function(_0xad7ee0,_0x35d339){return _0xad7ee0-_0x35d339;},'WzTnY':function(_0x4c34bf,_0x5e73b7){return _0x4c34bf(_0x5e73b7);},'FMUjS':'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','jxUAL':function(_0x13fa8c,_0x3eabae){return _0x13fa8c(_0x3eabae);}},_0x2f9fc3=document['getElementById'](_0xd38b8c[_0x3f7160(0x199)])[_0x3f7160(0x1e6)],_0x5e6226=document[_0x3f7160(0x1f0)](_0xd38b8c[_0x3f7160(0x1b5)])[_0x3f7160(0x1e6)],_0x449100=document['getElementById'](_0xd38b8c[_0x3f7160(0x2f4)])[_0x3f7160(0x1e6)][_0x3f7160(0x191)](),_0x42ce4a=document[_0x3f7160(0x1f0)](_0xd38b8c[_0x3f7160(0x1c0)]);if(!_0x2f9fc3){_0x42ce4a[_0x3f7160(0x3f9)]=_0x3f7160(0x19d),_0x42ce4a[_0x3f7160(0x301)][_0x3f7160(0x240)]=_0xd38b8c[_0x3f7160(0x1e9)];return;}const _0x5e5ab4=_0xd38b8c[_0x3f7160(0x153)](sanitizeUsername,username),_0x3c467b=await db['ref']('auth/'+_0x5e5ab4)[_0x3f7160(0x1e4)]();if(!_0x3c467b[_0x3f7160(0x1f1)]()){_0x42ce4a[_0x3f7160(0x3f9)]=_0xd38b8c[_0x3f7160(0x1fb)],_0x42ce4a[_0x3f7160(0x301)][_0x3f7160(0x240)]='block';return;}const _0x42b63f=_0x3c467b[_0x3f7160(0x276)](),_0x25ddd8=await _0xd38b8c['fcGpe'](sha256,_0x2f9fc3);if(_0xd38b8c[_0x3f7160(0x23f)](_0x25ddd8,_0x42b63f[_0x3f7160(0x159)])){_0x42ce4a[_0x3f7160(0x3f9)]=_0xd38b8c[_0x3f7160(0x357)],_0x42ce4a[_0x3f7160(0x301)][_0x3f7160(0x240)]=_0xd38b8c['GfUcj'];return;}const _0x35c8a8={};if(_0x5e6226){const _0x393c72=await sha256(_0x5e6226);_0x35c8a8['passwordHash']=_0x393c72;}_0xd38b8c[_0x3f7160(0x23f)](_0x449100,_0x42b63f[_0x3f7160(0x17c)])&&(_0x35c8a8['description']=_0x449100);const _0x4124b5=Date['now'](),_0x3753d7=_0xd38b8c[_0x3f7160(0x21b)](_0xd38b8c[_0x3f7160(0x2a7)](_0xd38b8c[_0x3f7160(0x21b)](0x18,0x3c),0x3c),0x3e8),_0x1e4cda=_0xd38b8c[_0x3f7160(0x29e)](_0xd38b8c[_0x3f7160(0x356)](_0x4124b5,_0x42b63f[_0x3f7160(0x372)]||0x0),_0x3753d7);if(_0x1e4cda&&_0xd38b8c[_0x3f7160(0x26c)](confirm,_0xd38b8c[_0x3f7160(0x2e2)])){const _0x242c90=_0xd38b8c['jxUAL'](prompt,'Enter\x20your\x20new\x20username:');_0x242c90&&_0x242c90[_0x3f7160(0x191)]()&&(_0x35c8a8[_0x3f7160(0x11c)]=_0x242c90[_0x3f7160(0x191)](),_0x35c8a8[_0x3f7160(0x261)]=(_0x42b63f[_0x3f7160(0x261)]||[])[_0x3f7160(0x14f)](_0x242c90[_0x3f7160(0x191)]()),_0x35c8a8[_0x3f7160(0x372)]=_0x4124b5);}_0x35c8a8[_0x3f7160(0x11c)]&&_0xd38b8c[_0x3f7160(0x23f)](_0x35c8a8['username'],_0x42b63f[_0x3f7160(0x11c)])?(await db[_0x3f7160(0x3cf)](_0x3f7160(0x2e8)+sanitizeUsername(_0x35c8a8[_0x3f7160(0x11c)]))[_0x3f7160(0x2ce)]({..._0x42b63f,..._0x35c8a8}),await db[_0x3f7160(0x3cf)](_0x3f7160(0x2e8)+_0x5e5ab4)[_0x3f7160(0x3e7)](),username=_0x35c8a8[_0x3f7160(0x11c)]):await db[_0x3f7160(0x3cf)]('auth/'+_0x5e5ab4)[_0x3f7160(0x1ae)](_0x35c8a8),alert(_0x3f7160(0x136)),location[_0x3f7160(0x2aa)]();}function cancelEditProfile(){const _0x3239a9=_0x435961,_0x3bb4d8={'tFppi':function(_0x171264,_0x4bde35){return _0x171264(_0x4bde35);},'wmdGJ':_0x3239a9(0x3c2)};document[_0x3239a9(0x1f0)](_0x3239a9(0x207))[_0x3239a9(0x301)][_0x3239a9(0x240)]=_0x3239a9(0x1cb),_0x3bb4d8[_0x3239a9(0x1c6)](showScreen,_0x3bb4d8[_0x3239a9(0x2d6)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x3ccf62=_0x435961,_0x470800={'DsWeC':function(_0xc536ce,_0x4b7182){return _0xc536ce(_0x4b7182);},'EmLMl':function(_0x3a247e){return _0x3a247e();},'tuaZX':function(_0x2ec368,_0x39619a){return _0x2ec368(_0x39619a);},'YPTrf':_0x3ccf62(0x1e6)};db[_0x3ccf62(0x3cf)]('users/'+roomCode)['on'](_0x470800[_0x3ccf62(0x146)],async _0x563b35=>{const _0x6a3a6f=_0x3ccf62;if(!_0x563b35[_0x6a3a6f(0x1f1)]()){_0x470800['DsWeC'](renderUserLists,{});return;}const _0x59e200=_0x563b35[_0x6a3a6f(0x276)]();await _0x470800[_0x6a3a6f(0x1ce)](loadRoomRoles),_0x470800[_0x6a3a6f(0x16d)](renderUserLists,_0x59e200);});}function trackPresence(){const _0x3aa45d=_0x435961,_0x3b9d14={'FiGsH':function(_0x45b5a9){return _0x45b5a9();},'IWDfT':_0x3aa45d(0x32e),'unmiQ':function(_0x1aa272,_0x431464){return _0x1aa272(_0x431464);},'VEzQX':function(_0x1d320c,_0x5bcc0d){return _0x1d320c||_0x5bcc0d;},'yNuEa':function(_0x14adb9,_0x1e4c8e){return _0x14adb9||_0x1e4c8e;}};if(!username||!roomCode)return;const _0xc31c6a=_0x3b9d14[_0x3aa45d(0x35d)](sanitizeUsername,username),_0xfd68c6=db[_0x3aa45d(0x3cf)](_0x3aa45d(0x231)+roomCode+'/'+_0xc31c6a),_0x51e83f={'username':username,'avatarBase64':_0x3b9d14[_0x3aa45d(0x3d2)](avatarBase64,''),'description':_0x3b9d14[_0x3aa45d(0x3f4)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x3aa45d(0x214)][_0x3aa45d(0x1da)]};_0xfd68c6['set'](_0x51e83f)['then'](()=>{const _0x44751c=_0x3aa45d;_0x3b9d14[_0x44751c(0x227)](updateOnlineIndicator);const _0x46e60d=db[_0x44751c(0x3cf)]()[_0x44751c(0x2d4)]()[_0x44751c(0x123)];db[_0x44751c(0x3cf)](_0x44751c(0x149)+roomCode+_0x44751c(0x3d4)+_0x46e60d)['set']({'msg':username+_0x44751c(0x352),'sender':_0x3b9d14['IWDfT'],'senderId':_0x3b9d14['IWDfT'],'timestamp':Date[_0x44751c(0x32d)]()}),_0xfd68c6[_0x44751c(0x368)]()[_0x44751c(0x1ae)]({'online':![],'lastOnline':Date[_0x44751c(0x32d)]()});});}function uploadSidebarAvatar(_0x21b667){const _0x48326e=_0x435961,_0x122af0={'gwOQW':_0x48326e(0x182),'YkisX':function(_0x3380e5,_0x1127e2){return _0x3380e5(_0x1127e2);},'Rltrc':function(_0x337911,_0x3107e2){return _0x337911(_0x3107e2);},'GRXBN':_0x48326e(0x115),'zSKtt':_0x48326e(0x381)};if(!_0x21b667[_0x48326e(0x275)][_0x48326e(0x2cb)])return;const _0x374f14=_0x21b667[_0x48326e(0x275)][0x0],_0x4aad91=new FileReader();_0x4aad91['onloadend']=async()=>{const _0x5456b3=_0x48326e,_0x5708f7=_0x4aad91[_0x5456b3(0x205)][_0x5456b3(0x1af)](',')[0x1];document[_0x5456b3(0x1f0)](_0x122af0['gwOQW'])[_0x5456b3(0x2e5)]=_0x4aad91[_0x5456b3(0x205)],document[_0x5456b3(0x1f0)](_0x122af0[_0x5456b3(0x236)])[_0x5456b3(0x301)][_0x5456b3(0x240)]='block';try{const _0x37a42c=_0x122af0[_0x5456b3(0x11a)](sanitizeUsername,username);await db['ref']('auth/'+_0x37a42c+_0x5456b3(0x290))[_0x5456b3(0x2ce)](_0x5708f7),_0x122af0[_0x5456b3(0x2c8)](alert,_0x122af0[_0x5456b3(0x17a)]);}catch(_0x4d825c){console[_0x5456b3(0x138)](_0x4d825c),_0x122af0[_0x5456b3(0x2c8)](alert,_0x122af0[_0x5456b3(0x178)]);}},_0x4aad91[_0x48326e(0x3b2)](_0x374f14);}function muteUser(_0x19bdd8,_0x3ed246){const _0x4dae66=_0x435961,_0xc9911f={'ZRolS':function(_0x3ac164,_0x6d442d){return _0x3ac164(_0x6d442d);},'sGZkZ':function(_0x575671,_0x4dcce0){return _0x575671+_0x4dcce0;},'uWnJg':function(_0x9f645b,_0x16adce){return _0x9f645b*_0x16adce;},'CClty':function(_0xa10510,_0x4593f6){return _0xa10510*_0x4593f6;}},_0x3899ee=_0xc9911f[_0x4dae66(0x176)](Date['now'](),_0xc9911f[_0x4dae66(0x324)](_0xc9911f[_0x4dae66(0x28f)](_0x3ed246,0x3c),0x3e8));db['ref'](_0x4dae66(0x29b)+roomCode+'/'+_0xc9911f[_0x4dae66(0x15e)](sanitizeUsername,_0x19bdd8))[_0x4dae66(0x2ce)]({'muteUntil':_0x3899ee})[_0x4dae66(0x289)](()=>{const _0x2ca106=_0x4dae66;_0xc9911f['ZRolS'](alert,_0x19bdd8+_0x2ca106(0x105)+_0x3ed246+_0x2ca106(0x26f)),_0xc9911f[_0x2ca106(0x15e)](addSystemMessage,_0x19bdd8+'\x20was\x20muted\x20for\x20'+_0x3ed246+_0x2ca106(0x271));});}function unmuteUser(_0x5957b0){const _0x301666=_0x435961,_0x449840={'DGwpR':function(_0x51440d,_0x1000b1){return _0x51440d(_0x1000b1);},'CEoVD':'Admins\x20only.'};if(!isRoomAdmin)return _0x449840[_0x301666(0x23d)](alert,_0x449840[_0x301666(0x206)]);db[_0x301666(0x3cf)](_0x301666(0x29b)+roomCode+'/'+sanitizeUsername(_0x5957b0))[_0x301666(0x3e7)]();}function updateOnlineIndicator(){const _0x1c51ff=_0x435961,_0x46453f={'PLwlV':_0x1c51ff(0x25d),'qXENP':_0x1c51ff(0x2e1)},_0x9d017d=document[_0x1c51ff(0x1f0)](_0x1c51ff(0x1dc));_0x9d017d[_0x1c51ff(0x3f9)]=_0x46453f['PLwlV'],_0x9d017d[_0x1c51ff(0x301)][_0x1c51ff(0x252)]=_0x46453f['qXENP'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x1c772d){const _0x44b702=_0x435961,_0x383818={'TXzrQ':function(_0xe35c35,_0x421843){return _0xe35c35(_0x421843);},'QuwEM':_0x44b702(0x210),'IMSQn':'No\x20changes\x20yet','WokVm':_0x44b702(0x33a),'cmYAO':_0x44b702(0x38b),'hahmi':_0x44b702(0x1b1)};db['ref']('auth/'+_0x1c772d)[_0x44b702(0x1e4)]()[_0x44b702(0x289)](_0x5472b5=>{const _0x329fd8=_0x44b702;if(!_0x5472b5[_0x329fd8(0x1f1)]())return _0x383818[_0x329fd8(0x111)](alert,_0x329fd8(0x2b7));const _0x56c1c9=_0x5472b5[_0x329fd8(0x276)](),_0x448cea=(_0x329fd8(0x190)+_0x56c1c9[_0x329fd8(0x11c)]+_0x329fd8(0x151)+(_0x56c1c9[_0x329fd8(0x17c)]||_0x383818[_0x329fd8(0x225)])+_0x329fd8(0x122)+((_0x56c1c9[_0x329fd8(0x261)]||[])[_0x329fd8(0x2a6)](',\x20')||_0x383818[_0x329fd8(0x302)])+_0x329fd8(0x1f2)+(_0x56c1c9[_0x329fd8(0x372)]?new Date(_0x56c1c9[_0x329fd8(0x372)])[_0x329fd8(0x1c8)]():_0x383818[_0x329fd8(0x1e0)])+_0x329fd8(0x28b))[_0x329fd8(0x191)]();document[_0x329fd8(0x1f0)](_0x383818[_0x329fd8(0x3b9)])[_0x329fd8(0x3f9)]=_0x448cea,document[_0x329fd8(0x1f0)]('profileViewer')[_0x329fd8(0x301)][_0x329fd8(0x240)]=_0x383818[_0x329fd8(0x346)];});}function initUsernameFlow(){const _0x52da77=_0x435961,_0x416f40={'YHAMg':'chat_username','cNxut':'profileScreen'},_0x141370=localStorage[_0x52da77(0x31b)](_0x416f40[_0x52da77(0x2f6)]);!_0x141370?showScreen(_0x416f40[_0x52da77(0x250)]):(username=_0x141370,document[_0x52da77(0x1f0)](_0x52da77(0x3a2))[_0x52da77(0x3f9)]=username,showScreen(_0x52da77(0x113)));}function closeProfile(){const _0x4b2f35=_0x435961;document[_0x4b2f35(0x1f0)](_0x4b2f35(0x1e7))['style'][_0x4b2f35(0x240)]=_0x4b2f35(0x1cb);}function resetWebsiteData(){const _0xcafdb4=_0x435961,_0x3ddbb1={'hoefG':_0xcafdb4(0x242),'fuIHq':function(_0x45daba,_0x3f730b){return _0x45daba||_0x3f730b;},'UAgzd':function(_0x5849cc,_0x32b075){return _0x5849cc+_0x32b075;}};try{const _0x11289a=localStorage[_0xcafdb4(0x31b)](_0x3ddbb1[_0xcafdb4(0x1f6)]);localStorage[_0xcafdb4(0x1c7)](),sessionStorage['clear'](),_0x11289a&&localStorage[_0xcafdb4(0x177)]('notifications_enabled',_0x11289a);}catch(_0x577282){}if(_0x3ddbb1['fuIHq'](!username,!roomCode)){const _0x19bf82='4|0|3|2|1'[_0xcafdb4(0x1af)]('|');let _0x3e0680=0x0;while(!![]){switch(_0x19bf82[_0x3e0680++]){case'0':roomCode=null;continue;case'1':clientId=_0x3ddbb1[_0xcafdb4(0x374)]('_',Math['random']()[_0xcafdb4(0x1d4)](0x24)[_0xcafdb4(0x248)](0x2,0x9));continue;case'2':pendingMessages=[];continue;case'3':isRoomAdmin=![];continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x24755c=_0x435961,_0x5f32af={'SeBrL':function(_0x2e7703,_0x29dba4){return _0x2e7703(_0x29dba4);}},_0x2b6dd8=_0x5f32af[_0x24755c(0x37d)](prompt,'Enter\x20Announcement\x20Text:');if(!_0x2b6dd8)return;db[_0x24755c(0x3cf)](_0x24755c(0x149)+roomCode+'/announcement')[_0x24755c(0x2ce)]({'text':_0x2b6dd8,'by':username,'timestamp':Date[_0x24755c(0x32d)]()});}function listenForAnnouncement(){const _0x2685e8=_0x435961,_0x4bf1f0={'mdehz':_0x2685e8(0x2c1),'bRpJl':'value'},_0x3a5ba0=db[_0x2685e8(0x3cf)](_0x2685e8(0x149)+roomCode+_0x2685e8(0x390));_0x3a5ba0['on'](_0x4bf1f0[_0x2685e8(0x358)],_0x8e903b=>{const _0x416881=_0x2685e8,_0x58049a=_0x8e903b['val']();if(!_0x58049a){document[_0x416881(0x1f0)](_0x4bf1f0['mdehz'])[_0x416881(0x3f9)]='';return;}const _0x128933=document[_0x416881(0x1f0)](_0x4bf1f0['mdehz']);_0x128933['innerText']=''+_0x58049a['text'];});}document[_0x435961(0x1f0)](_0x435961(0x2c1))['addEventListener'](_0x435961(0x2bf),_0x1f04d8=>{const _0x327e93=_0x435961,_0x4ccefa={'mQvCK':function(_0x331f19,_0x446cdd){return _0x331f19===_0x446cdd;},'jeXlr':function(_0x1a9c3a,_0x449164){return _0x1a9c3a(_0x449164);},'gDpAp':_0x327e93(0x135)};_0x4ccefa[_0x327e93(0x134)](_0x1f04d8[_0x327e93(0x16e)],0x3)&&isRoomAdmin&&(_0x4ccefa[_0x327e93(0x371)](confirm,_0x4ccefa['gDpAp'])&&db['ref'](_0x327e93(0x149)+roomCode+_0x327e93(0x390))[_0x327e93(0x3e7)]());}),document[_0x435961(0x1f0)]('msgInput')[_0x435961(0x11e)]('input',()=>{const _0x45cc9a=_0x435961,_0x2d6be2={'DZhmA':_0x45cc9a(0x31d),'sRerO':_0x45cc9a(0x1a3)},_0x1ab8bb=document[_0x45cc9a(0x1f0)](_0x2d6be2['DZhmA']);_0x390784?_0x1ab8bb[_0x45cc9a(0x301)]['border']=_0x2d6be2[_0x45cc9a(0x385)]:_0x1ab8bb[_0x45cc9a(0x301)]['border']='';const _0x18fab3=_0x1ab8bb['value'][_0x45cc9a(0x1ed)](),_0x390784=swearWords[_0x45cc9a(0x3d7)](_0x2a7833=>_0x18fab3['includes'](_0x2a7833));_0x390784?(_0x1ab8bb[_0x45cc9a(0x301)][_0x45cc9a(0x2cf)]=_0x2d6be2[_0x45cc9a(0x385)],sendBtn['disabled']=!![]):(_0x1ab8bb['style']['border']='',_0x390784?_0x1ab8bb['style']['border']=_0x2d6be2['sRerO']:_0x1ab8bb['style'][_0x45cc9a(0x2cf)]='');});function muteUser(_0x288ca2,_0x591778){const _0xe17b8c=_0x435961,_0x54d360={'SVWbm':function(_0x5431d4,_0x41b7aa){return _0x5431d4(_0x41b7aa);},'CefKn':function(_0x4cd351,_0x1ef088){return _0x4cd351*_0x1ef088;},'sfhsZ':function(_0x11b68f,_0x632efd){return _0x11b68f*_0x632efd;}},_0x2b3fad=Date[_0xe17b8c(0x32d)]()+_0x54d360[_0xe17b8c(0x26e)](_0x54d360[_0xe17b8c(0x230)](_0x591778,0x3c),0x3e8);db[_0xe17b8c(0x3cf)](_0xe17b8c(0x29b)+roomCode+'/'+sanitizeUsername(_0x288ca2))[_0xe17b8c(0x2ce)]({'muteUntil':_0x2b3fad})[_0xe17b8c(0x289)](()=>{const _0x4414cf=_0xe17b8c;_0x54d360[_0x4414cf(0x3a7)](alert,_0x288ca2+_0x4414cf(0x105)+_0x591778+_0x4414cf(0x26f));});}function deleteUserMessages(_0xc8f39f){const _0x30e51f=_0x435961;db[_0x30e51f(0x3cf)]('rooms/'+roomCode+_0x30e51f(0x17e))[_0x30e51f(0x118)](_0x30e51f(0x360))['equalTo'](_0xc8f39f)[_0x30e51f(0x1e4)]()['then'](_0x449c3d=>{const _0x49d14b=_0x30e51f;_0x449c3d['forEach'](_0x30bcea=>{const _0x488f42=_0x3eb1;db[_0x488f42(0x3cf)]('rooms/'+roomCode+_0x488f42(0x3d4)+_0x30bcea['key'])[_0x488f42(0x3e7)]();}),alert('Messages\x20by\x20'+_0xc8f39f+_0x49d14b(0x3e5));});}function pauseRoom(_0x409dc1){const _0x250bb6=_0x435961,_0x5495b3={'QBivo':_0x250bb6(0x1b1),'wUoFW':'value'};db[_0x250bb6(0x3cf)](_0x250bb6(0x149)+roomCode+_0x250bb6(0x13b))['on'](_0x5495b3[_0x250bb6(0x24c)],_0x4e3cff=>{const _0x59d1d3=_0x250bb6,_0xe10ef8=_0x4e3cff[_0x59d1d3(0x276)]();document[_0x59d1d3(0x1f0)](_0x59d1d3(0x211))[_0x59d1d3(0x301)][_0x59d1d3(0x240)]=_0xe10ef8?_0x5495b3[_0x59d1d3(0x28e)]:'none';});}function canPerformAction(_0x4e3c0a){const _0x5d6807=_0x435961,_0x378b1c={'bTiug':function(_0x417656,_0xf34754){return _0x417656===_0xf34754;},'JUJNL':'mute','bCeui':_0x5d6807(0x3f7),'VoHMW':_0x5d6807(0x1ba),'AyaOQ':_0x5d6807(0x34c),'xptpr':function(_0x5a1f61,_0x468eb5){return _0x5a1f61===_0x468eb5;},'losCv':'deleteMessage','DSvMn':_0x5d6807(0x2c9),'wwEhv':function(_0x3bc57c,_0x433225){return _0x3bc57c===_0x433225;},'ijOHA':_0x5d6807(0x3e8)},_0x2ab78a=_0x5d6807(0x3ae)[_0x5d6807(0x1af)]('|');let _0xe288eb=0x0;while(!![]){switch(_0x2ab78a[_0xe288eb++]){case'0':if(_0x378b1c[_0x5d6807(0x3a3)](_0x4e3c0a,_0x378b1c[_0x5d6807(0x12b)]))return _0x378b1c['bTiug'](role,_0x378b1c[_0x5d6807(0x184)])||role===_0x378b1c[_0x5d6807(0x27a)]||role===_0x378b1c[_0x5d6807(0x18d)];continue;case'1':if(_0x378b1c['xptpr'](_0x4e3c0a,_0x378b1c[_0x5d6807(0x389)])||_0x378b1c['bTiug'](_0x4e3c0a,_0x378b1c[_0x5d6807(0x2ee)]))return _0x378b1c[_0x5d6807(0x11b)](role,_0x378b1c['bCeui']);continue;case'2':return![];case'3':if(role===_0x378b1c[_0x5d6807(0x1df)])return!![];continue;case'4':if(_0x378b1c['wwEhv'](_0x4e3c0a,_0x378b1c[_0x5d6807(0x2ee)]))return _0x378b1c['wwEhv'](role,_0x378b1c['bCeui']);continue;}break;}}const html=Object['values'](roomUsers)[_0x435961(0x239)](_0x349fc4=>{const _0x305d59=_0x435961,_0xe1cfc2={'ivbeq':function(_0x5c0a27,_0x32ff2f){return _0x5c0a27(_0x32ff2f);},'jnfGV':function(_0x3b03a1,_0x49c3f7){return _0x3b03a1!==_0x49c3f7;},'BLmJm':_0x305d59(0x350),'xTizq':function(_0x122415,_0x2415de){return _0x122415(_0x2415de);},'OgTcF':function(_0x5e48c4,_0x571437){return _0x5e48c4===_0x571437;},'BhaSC':_0x305d59(0x3f7)},_0x572b88=_0xe1cfc2[_0x305d59(0x334)](sanitizeUsername,_0x349fc4[_0x305d59(0x11c)]),_0x2cdbdb=[];if(_0xe1cfc2[_0x305d59(0x22f)](_0x572b88,_0xe1cfc2[_0x305d59(0x334)](sanitizeUsername,username))){_0xe1cfc2[_0x305d59(0x334)](canPerformAction,_0xe1cfc2[_0x305d59(0x3f1)])&&(_0x2cdbdb['push'](_0x305d59(0x35a)+_0x572b88+'\x27,\x205)\x22>Mute\x205m</button>'),_0x2cdbdb[_0x305d59(0x2d4)](_0x305d59(0x35a)+_0x572b88+_0x305d59(0x3b4)));_0xe1cfc2[_0x305d59(0x2de)](canPerformAction,_0x305d59(0x16f))&&_0x2cdbdb[_0x305d59(0x2d4)](_0x305d59(0x3d1)+_0x572b88+_0x305d59(0x2a9));if(_0xe1cfc2[_0x305d59(0x1eb)](role,_0x305d59(0x3e8)))_0x2cdbdb['push'](_0x305d59(0x3f5)+_0x572b88+_0x305d59(0x181)),_0x2cdbdb[_0x305d59(0x2d4)](_0x305d59(0x10d)+_0x572b88+_0x305d59(0x345));else role===_0xe1cfc2[_0x305d59(0x3a6)]&&_0x2cdbdb[_0x305d59(0x2d4)](_0x305d59(0x3f5)+_0x572b88+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x305d59(0x22c)+_0x349fc4[_0x305d59(0x11c)]+'\x20'+getRoleTag(sanitizeUsername(_0x349fc4[_0x305d59(0x11c)]))+_0x305d59(0x142)+_0x572b88+_0x305d59(0x1c3)+_0x2cdbdb[_0x305d59(0x2a6)]('')+_0x305d59(0x1a8)+_0x572b88+_0x305d59(0x3ce);})[_0x435961(0x2a6)]('');function promoteToModerator(_0x47f7b7){const _0x704444=_0x435961,_0x1019bd={'prBvQ':function(_0x40e341,_0x11ee22){return _0x40e341(_0x11ee22);},'gQUMv':function(_0x562a68,_0x519e93){return _0x562a68(_0x519e93);},'cRlsP':function(_0x57dded,_0x33aebe){return _0x57dded(_0x33aebe);},'jmYEA':function(_0x5ef3ae,_0x3d047f){return _0x5ef3ae(_0x3d047f);},'yRfSH':_0x704444(0x3e9),'bJkTp':function(_0xc6c2bc,_0x11803b){return _0xc6c2bc!==_0x11803b;},'jBobT':'dev','EHzge':function(_0x4e3539,_0x52f690){return _0x4e3539!==_0x52f690;},'wxqPH':_0x704444(0x14b)},_0x3b593d=_0x1019bd[_0x704444(0x126)](sanitizeUsername,_0x47f7b7);if(_0x1019bd[_0x704444(0x126)](isProtected,_0x3b593d))return _0x1019bd[_0x704444(0x3b1)](alert,_0x1019bd[_0x704444(0x106)]);if(_0x1019bd[_0x704444(0x150)](role,_0x1019bd[_0x704444(0x333)])&&_0x1019bd[_0x704444(0x232)](role,'admin')){alert(_0x1019bd[_0x704444(0x16b)]);return;}db[_0x704444(0x3cf)](_0x704444(0x2fe)+roomCode+'/'+_0x3b593d)[_0x704444(0x2ce)](!![])[_0x704444(0x289)](()=>{const _0x560b3c=_0x704444;_0x1019bd[_0x560b3c(0x28a)](alert,_0x47f7b7+_0x560b3c(0x156)),_0x1019bd[_0x560b3c(0x2d2)](addSystemMessage,_0x47f7b7+_0x560b3c(0x110));});}function promoteToAdmin(_0x33dd6c){const _0x5c6f8f=_0x435961,_0x5c8351={'wLBlL':function(_0x52a232,_0x12eae1){return _0x52a232(_0x12eae1);},'mtSMk':function(_0x12f9f4,_0x5ca17e){return _0x12f9f4(_0x5ca17e);},'fliSa':function(_0x15ada5,_0x17ede7){return _0x15ada5!==_0x17ede7;},'ZlivO':_0x5c6f8f(0x3e8),'HnpSz':_0x5c6f8f(0x3d8)},_0x46efbc=_0x5c8351[_0x5c6f8f(0x307)](sanitizeUsername,_0x33dd6c);if(isProtected(_0x46efbc))return alert(_0x5c6f8f(0x3e9));if(_0x5c8351[_0x5c6f8f(0x39b)](role,_0x5c8351[_0x5c6f8f(0x2b9)])){_0x5c8351[_0x5c6f8f(0x31a)](alert,_0x5c8351['HnpSz']);return;}db[_0x5c6f8f(0x3cf)]('admins/'+roomCode+'/'+_0x46efbc)[_0x5c6f8f(0x2ce)](!![])['then'](()=>{const _0x1d3316=_0x5c6f8f;alert(_0x33dd6c+'\x20promoted\x20to\x20Admin!'),_0x5c8351[_0x1d3316(0x31a)](addSystemMessage,_0x33dd6c+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x1bcc5d){const _0x3a8e97=_0x435961,_0x4e3bcb={'QDThk':function(_0x18a6b0,_0x3f5809){return _0x18a6b0===_0x3f5809;},'ZyBcn':_0x3a8e97(0x3e8),'ynrUB':_0x3a8e97(0x3f7),'owmru':_0x3a8e97(0x1cb),'qTeRc':_0x3a8e97(0x1b1)};(_0x4e3bcb[_0x3a8e97(0x3f6)](role,_0x4e3bcb[_0x3a8e97(0x365)])||role===_0x4e3bcb[_0x3a8e97(0x3f3)])&&controls[_0x3a8e97(0x2d4)](_0x3a8e97(0x36b)+safeName+'\x27)\x22>Demote</button>');const _0x45afb1=document[_0x3a8e97(0x1f0)]('userOptions-'+_0x1bcc5d);_0x4e3bcb[_0x3a8e97(0x3f6)](_0x45afb1['style']['display'],_0x4e3bcb[_0x3a8e97(0x251)])?_0x45afb1[_0x3a8e97(0x301)]['display']=_0x4e3bcb['qTeRc']:_0x45afb1[_0x3a8e97(0x301)][_0x3a8e97(0x240)]=_0x3a8e97(0x1cb);}function demoteUser(_0x452272){const _0x2a50f9=_0x435961,_0x15e454={'jJtew':function(_0x5c9b19,_0x35f50f){return _0x5c9b19(_0x35f50f);},'RakTr':function(_0x5115c2,_0x34ab20){return _0x5115c2(_0x34ab20);},'VKVTv':'üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','wMNPC':'dev','RrKuM':function(_0x12d45c,_0x28d491){return _0x12d45c(_0x28d491);},'EWoHW':function(_0x460649,_0x321408){return _0x460649===_0x321408;},'sULEt':function(_0x4a77d0,_0x1b7356){return _0x4a77d0(_0x1b7356);},'EreSI':_0x2a50f9(0x13a)};if(_0x15e454[_0x2a50f9(0x314)](isProtected,_0x452272))return _0x15e454[_0x2a50f9(0x194)](alert,_0x15e454[_0x2a50f9(0x1b9)]);if(role===_0x15e454[_0x2a50f9(0x1f9)])db[_0x2a50f9(0x3cf)](_0x2a50f9(0x1b3)+roomCode+'/'+_0x452272)[_0x2a50f9(0x3e7)](),db[_0x2a50f9(0x3cf)](_0x2a50f9(0x2fe)+roomCode+'/'+_0x452272)[_0x2a50f9(0x3e7)](),_0x15e454[_0x2a50f9(0x10f)](alert,_0x452272+_0x2a50f9(0x1e2)),_0x15e454['RakTr'](addSystemMessage,_0x452272+_0x2a50f9(0x147));else _0x15e454['EWoHW'](role,_0x2a50f9(0x3f7))?(db['ref'](_0x2a50f9(0x2fe)+roomCode+'/'+_0x452272)['remove'](),alert(_0x452272+_0x2a50f9(0x1e2)),_0x15e454[_0x2a50f9(0x314)](addSystemMessage,_0x452272+'\x20was\x20demoted')):_0x15e454[_0x2a50f9(0x19b)](alert,_0x15e454[_0x2a50f9(0x11d)]);}function getRoleTag(_0x43a685){const _0x11b0e0=_0x435961,_0x2b659f={'eevSC':function(_0xe8dece,_0x46ba1e){return _0xe8dece(_0x46ba1e);}},_0x234580=_0x2b659f[_0x11b0e0(0x363)](sanitizeUsername,_0x43a685);if(globalDevs['includes'](_0x234580))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins['includes'](_0x234580))return _0x11b0e0(0x2b0);if(roomModerators[_0x11b0e0(0x37e)](_0x234580))return _0x11b0e0(0x1a2);return'';}async function loadRoomRoles(){const _0x5978a3=_0x435961,_0x45e0f7={'CvCms':function(_0x1654ea,_0x1063de){return _0x1654ea===_0x1063de;},'HBrhw':_0x5978a3(0x3e8),'YGFLX':function(_0x123465,_0x30293a){return _0x123465(_0x30293a);},'cwNEX':_0x5978a3(0x3d5),'rgAPf':'admin','Llyas':_0x5978a3(0x1ba)},_0x9ff57c=_0x45e0f7[_0x5978a3(0x300)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x5758d7=await db[_0x5978a3(0x3cf)](_0x45e0f7['cwNEX'])[_0x5978a3(0x1e4)]();_0x5758d7[_0x5978a3(0x2f1)](_0x311ec9=>{const _0x32df53=_0x5978a3;if(_0x45e0f7[_0x32df53(0x26a)](_0x311ec9[_0x32df53(0x276)]()[_0x32df53(0x33b)],_0x45e0f7[_0x32df53(0x3b0)]))globalDevs[_0x32df53(0x2d4)](_0x311ec9['key']);});const _0x4b1474=await db['ref'](_0x5978a3(0x1b3)+roomCode)[_0x5978a3(0x1e4)]();_0x4b1474[_0x5978a3(0x1f1)]()&&_0x4b1474[_0x5978a3(0x2f1)](_0x31e268=>roomAdmins[_0x5978a3(0x2d4)](_0x31e268[_0x5978a3(0x123)]));const _0x1270b7=await db['ref'](_0x5978a3(0x2fe)+roomCode)[_0x5978a3(0x1e4)]();_0x1270b7[_0x5978a3(0x1f1)]()&&_0x1270b7[_0x5978a3(0x2f1)](_0x1d0948=>roomModerators['push'](_0x1d0948[_0x5978a3(0x123)]));if(globalDevs['includes'](_0x9ff57c))role='dev';else{if(roomAdmins[_0x5978a3(0x37e)](_0x9ff57c))role=_0x45e0f7[_0x5978a3(0x2c5)];else roomModerators[_0x5978a3(0x37e)](_0x9ff57c)?role=_0x45e0f7['Llyas']:role='user';}}async function renderUserLists(_0x52cf01){const _0x40bb41=_0x435961,_0x61e4a6={'fvOSh':function(_0x27c68a,_0x4385a4){return _0x27c68a(_0x4385a4);},'YgbtE':function(_0x367b8e,_0x1bac5d){return _0x367b8e(_0x1bac5d);},'HBvGU':function(_0x172ea6,_0x3236ba){return _0x172ea6===_0x3236ba;},'dlqNm':function(_0x184426,_0x36cd11){return _0x184426(_0x36cd11);},'GsXyh':_0x40bb41(0x3e8),'wtzaM':_0x40bb41(0x3f7),'fxOtr':_0x40bb41(0x34c),'tCaRU':function(_0x5f4280,_0x27250e){return _0x5f4280===_0x27250e;},'EurIN':function(_0x590ac7,_0x12b880){return _0x590ac7(_0x12b880);},'XXhMl':function(_0x25687a,_0x379cc9){return _0x25687a===_0x379cc9;},'tShHn':_0x40bb41(0x1ba),'YMVXE':'block','MEMOl':_0x40bb41(0x1cb),'WwglI':_0x40bb41(0x189),'uraEn':_0x40bb41(0x3e2)};roomUsers=_0x52cf01;const _0x152a6c=_0x61e4a6[_0x40bb41(0x369)](sanitizeUsername,username),_0x23e7f9=_0x61e4a6[_0x40bb41(0x24b)](role,_0x61e4a6[_0x40bb41(0x280)])||_0x61e4a6[_0x40bb41(0x24b)](role,'admin')||_0x61e4a6['XXhMl'](role,_0x61e4a6[_0x40bb41(0x13f)])||role===_0x61e4a6[_0x40bb41(0x347)];document[_0x40bb41(0x1f0)]('adminControlsSection')['style']['display']=_0x23e7f9?_0x61e4a6['YMVXE']:_0x61e4a6[_0x40bb41(0x277)];const _0x4356d0=Object[_0x40bb41(0x22a)](_0x52cf01)[_0x40bb41(0x239)](async([_0x172373,_0x2350c9])=>{const _0x338153=_0x40bb41,_0x3dcb78=_0x61e4a6[_0x338153(0x3a8)](sanitizeUsername,_0x2350c9[_0x338153(0x11c)]||_0x172373),_0x198d40=await _0x61e4a6[_0x338153(0x218)](fetchAvatar,_0x3dcb78),_0x4f121e=_0x198d40?'<img\x20src=\x22data:image/png;base64,'+_0x198d40+_0x338153(0x3ab):'',_0x5b0acb=_0x2350c9[_0x338153(0x20a)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':_0x338153(0x257);return _0x338153(0x2b1)+_0x4f121e+'\x20'+_0x5b0acb+'\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27'+_0x3dcb78+_0x338153(0x260)+(_0x2350c9['username']||_0x172373)+_0x338153(0x208)+_0x61e4a6[_0x338153(0x218)](getRoleTag,_0x3dcb78)+_0x338153(0x263);}),_0x5d2f7f=await Promise[_0x40bb41(0x2bd)](_0x4356d0);document[_0x40bb41(0x1f0)](_0x61e4a6['WwglI'])[_0x40bb41(0x1fe)]=_0x5d2f7f[_0x40bb41(0x2a6)]('');if(!_0x23e7f9)return;const _0xfad98a=Object[_0x40bb41(0x22a)](_0x52cf01)[_0x40bb41(0x239)](async([_0x56f5f9,_0x1dcfb7])=>{const _0x56c31c=_0x40bb41,_0x1b4314=_0x61e4a6[_0x56c31c(0x3a8)](sanitizeUsername,_0x1dcfb7[_0x56c31c(0x11c)]||_0x56f5f9);if(_0x61e4a6[_0x56c31c(0x343)](_0x1b4314,_0x152a6c))return'';const _0x444dd6=globalDevs[_0x56c31c(0x37e)](_0x1b4314),_0x3ace6e=await _0x61e4a6[_0x56c31c(0x2c3)](fetchAvatar,_0x1b4314),_0x136a5c=_0x3ace6e?_0x56c31c(0x155)+_0x3ace6e+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x581387=_0x1dcfb7[_0x56c31c(0x20a)]?_0x56c31c(0x1b4):_0x56c31c(0x257),_0x5c9f85=[];if(!_0x444dd6){(role===_0x61e4a6[_0x56c31c(0x280)]||_0x61e4a6[_0x56c31c(0x343)](role,_0x61e4a6[_0x56c31c(0x297)])||role===_0x56c31c(0x1ba)||_0x61e4a6['HBvGU'](role,_0x61e4a6[_0x56c31c(0x347)]))&&(_0x5c9f85[_0x56c31c(0x2d4)]('<button\x20onclick=\x22muteUser(\x27'+_0x1b4314+_0x56c31c(0x292)),_0x5c9f85[_0x56c31c(0x2d4)](_0x56c31c(0x35a)+_0x1b4314+_0x56c31c(0x1e8)),_0x5c9f85[_0x56c31c(0x2d4)](_0x56c31c(0x35a)+_0x1b4314+_0x56c31c(0x3b4)));if(role===_0x61e4a6[_0x56c31c(0x280)])_0x5c9f85[_0x56c31c(0x2d4)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1b4314+_0x56c31c(0x137)),_0x5c9f85[_0x56c31c(0x2d4)](_0x56c31c(0x10d)+_0x1b4314+_0x56c31c(0x3cd)),_0x5c9f85[_0x56c31c(0x2d4)](_0x56c31c(0x36b)+_0x1b4314+'\x27)\x22>Demote</button>');else _0x61e4a6[_0x56c31c(0x24b)](role,_0x61e4a6[_0x56c31c(0x297)])&&(_0x5c9f85[_0x56c31c(0x2d4)](_0x56c31c(0x3f5)+_0x1b4314+_0x56c31c(0x137)),_0x5c9f85['push'](_0x56c31c(0x36b)+_0x1b4314+_0x56c31c(0x380)));}return _0x56c31c(0x233)+_0x136a5c+'\x20'+_0x581387+'\x20üîß\x20'+(_0x1dcfb7[_0x56c31c(0x11c)]||_0x56f5f9)+'\x20'+_0x61e4a6[_0x56c31c(0x3a8)](getRoleTag,_0x1b4314)+_0x56c31c(0x3d9)+_0x5c9f85['join']('\x20')+_0x56c31c(0x327);}),_0x31dbcf=await Promise[_0x40bb41(0x2bd)](_0xfad98a);document['getElementById'](_0x61e4a6[_0x40bb41(0x2c6)])['innerHTML']=_0x31dbcf[_0x40bb41(0x2a6)]('');}async function fetchAvatar(_0xb851eb){const _0x4ce033=_0x435961;if(userAvatars[_0xb851eb])return userAvatars[_0xb851eb];const _0x209f2b=await db[_0x4ce033(0x3cf)](_0x4ce033(0x2e8)+_0xb851eb)[_0x4ce033(0x1e4)]();if(_0x209f2b['exists']()&&_0x209f2b['val']()[_0x4ce033(0x1a4)])return userAvatars[_0xb851eb]=_0x209f2b[_0x4ce033(0x276)]()['avatarBase64'],userAvatars[_0xb851eb];return null;}function sendTyping(){const _0x2bf7a6=_0x435961,_0x4238f7={'zXuBT':function(_0x42f459,_0x21d719){return _0x42f459(_0x21d719);},'bHPZI':function(_0x38db8c,_0x435ee4,_0x5e1db4){return _0x38db8c(_0x435ee4,_0x5e1db4);}},_0x51f52b=sanitizeUsername(username),_0x4cf0bc=Date['now']();db[_0x2bf7a6(0x3cf)]('typing/'+roomCode+'/'+_0x51f52b)['set'](_0x4cf0bc);if(typingTimeout)_0x4238f7[_0x2bf7a6(0x21d)](clearTimeout,typingTimeout);typingTimeout=_0x4238f7[_0x2bf7a6(0x1b7)](setTimeout,()=>{const _0x53f8c0=_0x2bf7a6;db[_0x53f8c0(0x3cf)](_0x53f8c0(0x192)+roomCode+'/'+_0x51f52b)['remove']();},0x1f4);}function listenForTyping(){const _0x3cf096=_0x435961,_0x411201={'glVAB':'value'};db[_0x3cf096(0x3cf)]('typing/'+roomCode)['on'](_0x411201[_0x3cf096(0x27c)],_0x5a8f6e=>{const _0x162828=_0x3cf096,_0x4ccfbe=document[_0x162828(0x1f0)](_0x162828(0x18a));if(!_0x5a8f6e['exists']())return _0x4ccfbe[_0x162828(0x3f9)]='';const _0x5bdf92=Date[_0x162828(0x32d)](),_0x12675a=Object['entries'](_0x5a8f6e[_0x162828(0x276)]())[_0x162828(0x3dd)](([_0x18cd9e,_0x40e47e])=>_0x18cd9e!==sanitizeUsername(username)&&_0x5bdf92-_0x40e47e<0x1388)[_0x162828(0x239)](([_0x146736])=>_0x146736);_0x4ccfbe[_0x162828(0x3f9)]=_0x12675a[_0x162828(0x2cb)]?_0x12675a[_0x162828(0x2a6)](',\x20')+_0x162828(0x25c):'';});}function watchMuteStatus(){const _0x79d0aa=_0x435961,_0x4a2f68={'ExMsu':_0x79d0aa(0x31d),'zHZAJ':function(_0x487364,_0x177b62){return _0x487364===_0x177b62;},'bQEjr':_0x79d0aa(0x3b7),'NxPQW':function(_0x2a2560,_0x44fdbc){return _0x2a2560>_0x44fdbc;},'QwOiF':function(_0x251079,_0x3b2291){return _0x251079>_0x3b2291;},'YBpee':_0x79d0aa(0x1d1)},_0x2cf061=db[_0x79d0aa(0x3cf)](_0x79d0aa(0x29b)+roomCode+'/'+sanitizeUsername(username));_0x2cf061['on'](_0x79d0aa(0x1e6),_0x12347d=>{const _0x4964df=_0x79d0aa,_0x4675c8=document[_0x4964df(0x1f0)](_0x4a2f68[_0x4964df(0x17b)]);if(_0x12347d['exists']()){const _0x29492f=_0x12347d[_0x4964df(0x276)](),_0x34d282=_0x4a2f68[_0x4964df(0x121)](typeof _0x29492f,_0x4a2f68[_0x4964df(0x241)])&&_0x29492f[_0x4964df(0x2bb)]?_0x29492f[_0x4964df(0x2bb)]:_0x29492f;_0x4675c8[_0x4964df(0x203)]=_0x4a2f68['NxPQW'](_0x34d282,Date[_0x4964df(0x32d)]()),_0x4675c8[_0x4964df(0x19a)]=_0x4a2f68['QwOiF'](_0x34d282,Date[_0x4964df(0x32d)]())?'‚õî\x20You\x20are\x20muted.':_0x4964df(0x1d1);}else _0x4675c8['disabled']=![],_0x4675c8[_0x4964df(0x19a)]=_0x4a2f68['YBpee'];});}function isProtected(_0x261cd4){const _0x1e0019=_0x435961;return globalDevs[_0x1e0019(0x37e)](_0x261cd4);}function addSystemMessage(_0x1a56f0){const _0x348c29=_0x435961,_0x178e3f={'YHLVx':_0x348c29(0x18e),'ZkgEW':_0x348c29(0x27e),'bOtFQ':_0x348c29(0x226),'VkWqz':'messages'},_0x344705=document[_0x348c29(0x361)](_0x178e3f['YHLVx']);_0x344705[_0x348c29(0x301)][_0x348c29(0x375)]=_0x178e3f['ZkgEW'],_0x344705['style'][_0x348c29(0x3c9)]=_0x348c29(0x278),_0x344705[_0x348c29(0x301)]['color']=_0x178e3f[_0x348c29(0x1d5)],_0x344705['style'][_0x348c29(0x311)]='6px\x20auto',_0x344705[_0x348c29(0x3f9)]=_0x1a56f0,document['getElementById'](_0x178e3f[_0x348c29(0x18f)])[_0x348c29(0x3bf)](_0x344705),document[_0x348c29(0x1f0)](_0x348c29(0x295))[_0x348c29(0x18b)]=document[_0x348c29(0x1f0)](_0x178e3f[_0x348c29(0x18f)])[_0x348c29(0x2ad)];}function reactToMessage(_0x51beab,_0x1594e1){const _0x42e24f=_0x435961,_0x308db0={'ieGbn':function(_0x2e4c82,_0x10c4a4){return _0x2e4c82(_0x10c4a4);},'FqbVn':_0x42e24f(0x1e6)},_0x57002d=_0x308db0[_0x42e24f(0x3c0)](sanitizeUsername,username),_0x120847=db[_0x42e24f(0x3cf)]('rooms/'+roomCode+_0x42e24f(0x3d4)+_0x51beab+'/reactions');_0x120847['once'](_0x308db0[_0x42e24f(0x359)])[_0x42e24f(0x289)](_0x55e074=>{const _0x2d98a4=_0x42e24f,_0x5ac8ab=_0x55e074[_0x2d98a4(0x276)]()||{},_0x691193={};for(const [_0x5f1f8b,_0x4f2911]of Object['entries'](_0x5ac8ab)){_0x691193[_0x5f1f8b]=(_0x4f2911||[])[_0x2d98a4(0x3dd)](_0x55c16a=>_0x55c16a!==_0x57002d);}if(!_0x5ac8ab[_0x1594e1]||!_0x5ac8ab[_0x1594e1][_0x2d98a4(0x37e)](_0x57002d)){if(!_0x691193[_0x1594e1])_0x691193[_0x1594e1]=[];_0x691193[_0x1594e1][_0x2d98a4(0x2d4)](_0x57002d);}_0x120847[_0x2d98a4(0x2ce)](_0x691193);});}