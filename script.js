const _0x264001=_0x7742;(function(_0x46576a,_0xe1c799){const _0x103b29=_0x7742,_0x137556=_0x46576a();while(!![]){try{const _0x4b8281=parseInt(_0x103b29(0x1f3))/0x1*(-parseInt(_0x103b29(0x293))/0x2)+parseInt(_0x103b29(0x302))/0x3*(-parseInt(_0x103b29(0x185))/0x4)+parseInt(_0x103b29(0x182))/0x5+-parseInt(_0x103b29(0x20e))/0x6*(parseInt(_0x103b29(0x173))/0x7)+parseInt(_0x103b29(0x291))/0x8+-parseInt(_0x103b29(0x35f))/0x9+-parseInt(_0x103b29(0x14c))/0xa*(-parseInt(_0x103b29(0x2f4))/0xb);if(_0x4b8281===_0xe1c799)break;else _0x137556['push'](_0x137556['shift']());}catch(_0x5c8b5e){_0x137556['push'](_0x137556['shift']());}}}(_0x2be7,0x9c0a4));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x264001(0x2b8),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x264001(0x353),'messagingSenderId':'985049198428','appId':_0x264001(0x30c),'measurementId':_0x264001(0x336)};firebase[_0x264001(0x1d9)](firebaseConfig);const db=firebase[_0x264001(0x1e0)]();let deviceId=null;((async()=>{const _0x292910=_0x264001,_0x58c16b={'tkGCU':function(_0x30009c){return _0x30009c();}};deviceId=await _0x58c16b[_0x292910(0x31d)](generateDeviceId);})());const swearWords=[_0x264001(0x125),'shit',_0x264001(0x1c9),_0x264001(0x312),'bastard',_0x264001(0x2d1),_0x264001(0x1cf),'puta',_0x264001(0x2a9),_0x264001(0x20f),'co√±o','cabron','gilipollas',_0x264001(0x2d6),'caralho','merda',_0x264001(0x2da),_0x264001(0x153),'otario',_0x264001(0x2b2),_0x264001(0x323),_0x264001(0x369),_0x264001(0x142),_0x264001(0x32a),_0x264001(0x1f1),_0x264001(0x337)],userAvatars={};function _0x2be7(){const _0x33d86f=['AnEpR','moderators/','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','NHNsR','PMmeI','0|3|1|4|5|2','contains','ref','set','join','received','9032368XlYhft','Passwords\x20do\x20not\x20match.','2zztLTN','Profile\x20not\x20found.','MYAqd','giYfn','mediaDevices','src','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','BqGpg','nfGkT','then','\x27)\x22>+Mod</button>','DECES','</small>','value','input','uTIWI','TKwYU','muted/','‚úÖ\x20Profile\x20picture\x20updated!','dEKIh','QLIJY','bDHCo','mierda','sounds/beep.mp3','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','GCOOz','TIMESTAMP','digest','aMBDP','ondataavailable','Fnfws','putangina','roomDisplay','yBuwd','twcNM','innerText','fzNyg','easy-chatroom.firebaseapp.com','<button\x20onclick=\x22deleteUserMessages(\x27','messages','<button\x20onclick=\x22promoteToModerator(\x27','bWSAq','bDYpx','QOYeC','<img\x20src=\x22data:image/png;base64,','EQAeO','userAgent','ZSLdd','pKoTs','msgInput','You\x20got\x20messages\x20from\x20','jvXTX','NfRXe','split','WJHDF','entries','authDescription','display','pdcGP','AlhLN','limitToLast','typing/','dick','‚óè\x20Online','aOyTd','editBioInput','CfsdM','porra','dTOEJ','fYpnm','jcMeg','puta','rUVeX','lNFFs','Enter\x20your\x20new\x20username:','gr8stg/','PwHTq','MFReP','OTCyG','aQdpo','XvqlX','Incorrect\x20password','No\x20room\x20code\x20available\x20for\x20private\x20rooms','setItem','IShFm','classList','newPasswordInput','GpawV','No\x20bio\x20set','You\x20are\x20muted.','kBPXu','iZBmW','userList','encode','authAvatarPreview','EBAnJ','duqrz','807620tMGUjf','<audio\x20controls\x20src=\x22','gTdUz','gBcea','\x20muted\x20for\x20','appendChild','LTHbK','\x0aLast\x20Changed:\x20','eqoYt','content','equalTo','Orrsb','authUsername','\x20promoted\x20to\x20Admin!','9864vfGvQS','rVWhD','SUEmL','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','vPJlc','UtCKO','vrAfG','username','RmQKG','flex','1:985049198428:web:d0eb7e2de39887710c9b99','MLeOv','UXPuf','BFJiL','map','addAnnouncementBtn','asshole','cxGTf','oneXG','visibilitychange','SHA-256','popstate','antispam/','orderByChild','WsIiO','div','spCID','tkGCU','DpkGR','qaUki','YbuGJ','lPGwt','QXxgw','gago','/messages','sent','lPQHU','anJns','userSidebar','hrMVH','bobo','keypress','includes','ynvJx','dQRYE','kzmrR','amtGv','Remove\x20Announcement?','OJUes','flagPageAttention','AQyFY','SegIf','G-QDESJ2WR42','putang\x20ina','</div>','get','zqkzy','style','VVuoK','[Unknown\x20Message]','nptrl','\x0aName:\x20','XZsQM','New\x20Chat\x20Message','msg','promote','</span>','jFvCJ','clear','key','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','staticPasswordInput','result','\x27)\x22>Promote\x20to\x20Admin</button>','SMrBp','back','lSbUf','replace','CaVBu','DgnQB','üîï\x20Disable\x20Notifications','easy-chatroom.firebasestorage.app','Doctu','gLWwQ','Enter\x20Announcement\x20Text:','all','hidden','Login','Session\x20expired.','Messages\x20by\x20','AYTLR','sidebarOpen','jfCrb','7759773aaSBJg','\x27)\x22>Promote\x20to\x20Moderator</button>','auth/','now','sqVKq','catch','stop','WoNSW','sidebarAvatarPreview','MIjhY','tangina','profileViewer','SoVjv','mcNaa','IfVko','roomStates/','rxISa','[Voice\x20Message]','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','data:image/png;base64,','onload','XNtyK','fuck','lRLmJ','admins/','TTQpT','state','NoaNT','1|4|2|0|5|3|6|7','rAZgN','ylhGX','authSubmitBtn','error','subtle','fNjTb','child_added','nJscl','vLSPm','IEHGH','show','UKASr','chat_username','2-digit','IhmGe','\x20deleted.','<button\x20onclick=\x22promoteToAdmin(\x27','AbLSX','title','profileError','GhUXv','val','ulol','audioUrl','recordBtn','mjeDu','qYkkK','ORxGC','cWVtS','Cxyim','uxfnq','WOyHl','90pZQlnK','zxyQf','files','admin','Failed\x20to\x20save\x20profile:','UHieT','profiles/','fdp','\x27,\x205)\x22>Mute\x205m</button>','rWgMJ','usernameScreen','scrollHeight','üë§\x20','zsIlK','bOvPC','BOSIQ','hRbhP','notifToggleBtn','/paused','NMUst','push','CijGs','aHzjT','roomCodeInput','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','\x0aUsername\x20History:\x20','Wdndo','authPassword','IhXhb','nEIdR','oQZMH','detail','BfliX','bbyLR','kaeBJ','unknown','QvvEp','dcZof','YliNq','7HuiCsC','pausedOverlay','tpgla','VpFWp','pJgny','lastChanged','LKXlw','ServerValue','EmOtw','tnZZX','BlKIu','oPdzP','Eompe','\x27,\x2010)\x22>Mute\x2010m</button>','concat','4750225yzxycq','KSBFP','DOMContentLoaded','772ZNSxJN','rooms','eamgt','qVuqj','data','Room\x20password\x20not\x20set.\x20Cannot\x20join.','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','height','hdbbR','OcahQ','UPJWo','JeAfj','jqbUv','<span\x20class=\x22sender-name\x22>','CGrGy','ehxLQ','gZlbc','oleyN','wCsxw','vfCIa','KhlbT','qvWrG','You\x20got\x20a\x20message\x20from\x20','profileScreen','qGtfd','MhqSu','gVZGk','permission','dMsEB','ylQKy','sender','granted','hpNyZ','chatScreen','some','WtKaz','toUpperCase','MCpmY','WuNdR','peGHz','uUNdZ','vlAPD','TxTrc','\x27)\x22>Delete\x20Messages</button>','2|3|1|4|0','No\x20changes\x20yet','Admins\x20only.','<div>','üîî\x20Enable\x20Notifications','random','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20üë§\x20','[Voice\x20message]','volume','pkrDR','OwNce','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','lEpcj','border','forEach','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','XeySv','length','toLowerCase','audioBase64','\x20is\x20typing...','üéôÔ∏è','scrollTop','user','bitch','JhlBR','iERuj','vxxvC','authScreen','placeholder','cunt','role','Unknown','gYHBF','authError','vQwkC','<img\x20src=\x22','active','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','TtzPV','initializeApp','wbDPG','innerHTML','srUZh','userDisplay','readAsDataURL','ajBYx','database','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','toLocaleTimeString','\x27)\x22>+Admin</button>','warn','addEventListener','AisiN','XvAVP','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','typing','zyZYM','AIddt','pFeWH','NpOqB','play','Iwqwk','sHBdY','bwisit','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','424911eSZibf','sVAaA','XgPtT','JaeTp','authPasswordConfirm','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','\x20promoted\x20to\x20Moderator!','users/','TTMLV','passwordHash','ogIya','CiGlJ','add','remove','deleteMessage','rooms/','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','<small>','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','qXPwF','description','authAvatar','block','<button\x20onclick=\x22muteUser(\x27','bWrSv','avatarBase64','zLaSj','1074234VOQmSu','pendejo','filter','values','adminControlsSection','yAPEq','usernameHistory','DBLdC','dev','WVspN','fbGFN','jbBII','2px\x20solid\x20red','/avatarBase64','none','cbaFx','KDqwI','ACJWY','bvqxo','/announcement','Please\x20enter\x20the\x20password.','WrFqZ','ZAnwD','nPUHl','fCuoW','onloadend','mute','pushState','jmEeV','passwordScreen','Register','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','tCOUt','VqZVb','toString','kpwJC','exists','Failed\x20to\x20register\x20user\x20into\x20room.','Microphone\x20permission\x20denied.','VBUup','\x20minutes.','avatar_base64','vVLHz','UZrrn','CVpiW','moderator','once','lMfPo','trim','passwordError','MyGNK','onDisconnect','TjKUa','JKHtN','onstop','WKocV','userOptions-','xPItj','Fkvvi','feFiW','announcementArea','PalsH','\x0aDescription:\x20','/messages/','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','cwvJP','click','created','<br>','eKCUN','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','namePreview',')\x20New\x20message\x20‚Ä¢\x20','\x20in\x20room\x20','lybkh','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','antispamBlocked','eQSHi','mmXoe','glnrR','antispamBlocked/','YjFfe','floor','DdnoD','substr','disabled','roomChoiceScreen','onlineStatus','getElementById','FtcJE','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','QNTZv','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','RfUzz','color','start','cLuMr','CyOsT','update','Room\x20is\x20currently\x20paused.','from','KVhcL','PqmoL','#00ff88','<li>','PhnEC','yjsRM','yRQRF','Enter\x20a\x20valid\x20room\x20code','zFFGQ','ABCDEFGHIJKLMNOPQRSTUVWXYZ','QxQxv','ZlKlW','hggaO','ATCkr','wpogw','NypXH','Blmex','GBIKL','editProfileScreen'];_0x2be7=function(){return _0x33d86f;};return _0x2be7();}function _0x7742(_0x79dc80,_0xea40ad){const _0x2be72f=_0x2be7();return _0x7742=function(_0x774226,_0x477d46){_0x774226=_0x774226-0x11a;let _0x1d43a8=_0x2be72f[_0x774226];return _0x1d43a8;},_0x7742(_0x79dc80,_0xea40ad);}let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x264001(0x1b6)]()[_0x264001(0x230)](0x24)[_0x264001(0x262)](0x2,0x9),lastActivity=Date[_0x264001(0x362)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x264001(0x2aa));sound[_0x264001(0x1b9)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x41f08f=_0x264001,_0x27cf2d={'mxfyS':function(_0x2f497e,_0x355b9d){return _0x2f497e+_0x355b9d;},'cxGTf':function(_0x1f6526,_0x74f26f){return _0x1f6526(_0x74f26f);}},_0xaeb892=_0x27cf2d['mxfyS'](_0x27cf2d['mxfyS'](navigator[_0x41f08f(0x2c1)],screen['width']),screen[_0x41f08f(0x18c)]),_0x583682=await _0x27cf2d[_0x41f08f(0x313)](sha256,_0xaeb892);return _0x27cf2d['mxfyS']('_',_0x583682['substr'](0x0,0x14));}function sha256(_0x5696cb){const _0x2a4419=_0x264001,_0x97c3e0=new TextEncoder()[_0x2a4419(0x2f0)](_0x5696cb);return crypto[_0x2a4419(0x130)][_0x2a4419(0x2ae)](_0x2a4419(0x316),_0x97c3e0)[_0x2a4419(0x29c)](_0x366071=>{const _0x1f5535=_0x2a4419;return Array[_0x1f5535(0x272)](new Uint8Array(_0x366071))[_0x1f5535(0x310)](_0x25f419=>_0x25f419[_0x1f5535(0x230)](0x10)['padStart'](0x2,'0'))[_0x1f5535(0x28f)]('');});}function toggleNotifications(){const _0x3dce22=_0x264001,_0x1ba2e7={'ajBYx':function(_0x5c3e0d,_0x5c223f){return _0x5c3e0d===_0x5c223f;},'RfUzz':_0x3dce22(0x1a4),'ACJWY':_0x3dce22(0x15d),'BlKIu':_0x3dce22(0x352),'NypXH':function(_0x3df57b,_0x5e7fda){return _0x3df57b!==_0x5e7fda;},'aOyTd':_0x3dce22(0x1b5)};_0x1ba2e7[_0x3dce22(0x282)](Notification[_0x3dce22(0x1a0)],_0x1ba2e7['RfUzz'])?Notification['requestPermission']()[_0x3dce22(0x29c)](_0x2df714=>{const _0x4b285c=_0x3dce22;_0x1ba2e7[_0x4b285c(0x1df)](_0x2df714,_0x1ba2e7[_0x4b285c(0x26b)])&&(notificationsEnabled=!![],document[_0x4b285c(0x266)](_0x1ba2e7[_0x4b285c(0x21f)])[_0x4b285c(0x2b6)]=_0x1ba2e7[_0x4b285c(0x17d)]);}):(notificationsEnabled=!notificationsEnabled,document['getElementById'](_0x1ba2e7['ACJWY'])['innerText']=notificationsEnabled?_0x3dce22(0x352):_0x1ba2e7[_0x3dce22(0x2d3)]);}function toggleAuthMode(){const _0x516bde=_0x264001,_0x24cc82={'AbLSX':_0x516bde(0x12b),'HuWrj':_0x516bde(0x2cb),'dTOEJ':'block','rUVeX':_0x516bde(0x1f7),'iERuj':_0x516bde(0x21c),'RmQKG':_0x516bde(0x2f1),'MyGNK':'authTitle','SoVjv':_0x516bde(0x22c),'fzNyg':_0x516bde(0x359),'zjZTL':_0x516bde(0x208),'MEspg':'authError'},_0x26b930=_0x24cc82[_0x516bde(0x13d)][_0x516bde(0x2c8)]('|');let _0x2823a6=0x0;while(!![]){switch(_0x26b930[_0x2823a6++]){case'0':document['getElementById'](_0x24cc82['HuWrj'])['style'][_0x516bde(0x2cc)]=isRegisterMode?_0x24cc82[_0x516bde(0x2d7)]:_0x516bde(0x21c);continue;case'1':isRegisterMode=!isRegisterMode;continue;case'2':document[_0x516bde(0x266)](_0x24cc82[_0x516bde(0x2db)])[_0x516bde(0x33b)]['display']=isRegisterMode?_0x24cc82[_0x516bde(0x2d7)]:_0x24cc82[_0x516bde(0x1cb)];continue;case'3':document[_0x516bde(0x266)](_0x24cc82[_0x516bde(0x30a)])[_0x516bde(0x33b)]['display']=_0x24cc82[_0x516bde(0x1cb)];continue;case'4':document['getElementById'](_0x24cc82[_0x516bde(0x240)])[_0x516bde(0x2b6)]=isRegisterMode?_0x24cc82[_0x516bde(0x11b)]:_0x24cc82[_0x516bde(0x2b7)];continue;case'5':document[_0x516bde(0x266)](_0x24cc82['zjZTL'])[_0x516bde(0x33b)][_0x516bde(0x2cc)]=isRegisterMode?_0x24cc82['dTOEJ']:_0x24cc82[_0x516bde(0x1cb)];continue;case'6':document[_0x516bde(0x266)](_0x516bde(0x12e))[_0x516bde(0x2b6)]=isRegisterMode?_0x24cc82['SoVjv']:_0x24cc82[_0x516bde(0x2b7)];continue;case'7':document[_0x516bde(0x266)](_0x24cc82['MEspg'])['style']['display']=_0x24cc82[_0x516bde(0x1cb)];continue;}break;}}function previewAvatar(){const _0x4974a5=_0x264001,_0x53cd90={'gTdUz':_0x4974a5(0x2f1),'uxfnq':'block'},_0x37e8d1=document[_0x4974a5(0x266)](_0x4974a5(0x208));if(!_0x37e8d1[_0x4974a5(0x14e)][_0x4974a5(0x1c2)])return;const _0x290b63=new FileReader();_0x290b63[_0x4974a5(0x227)]=()=>{const _0x2b0e8a=_0x4974a5;document[_0x2b0e8a(0x266)](_0x53cd90['gTdUz'])['src']=_0x290b63[_0x2b0e8a(0x34a)],document[_0x2b0e8a(0x266)](_0x53cd90[_0x2b0e8a(0x2f6)])['style'][_0x2b0e8a(0x2cc)]=_0x53cd90[_0x2b0e8a(0x14a)];},_0x290b63['readAsDataURL'](_0x37e8d1['files'][0x0]);}async function submitAuth(){const _0x3a6bd1=_0x264001,_0x43b1bc={'yRQRF':function(_0x190625,_0x530597){return _0x190625||_0x530597;},'CyOsT':_0x3a6bd1(0x1c8),'xPItj':function(_0x1062cf){return _0x1062cf();},'zxyQf':_0x3a6bd1(0x300),'iAoGf':_0x3a6bd1(0x167),'amtGv':_0x3a6bd1(0x2cb),'vfCIa':_0x3a6bd1(0x1d3),'WrFqZ':'none','wbDPG':'Please\x20fill\x20in\x20all\x20fields.','XvqlX':function(_0x59341a,_0x7d2b52){return _0x59341a(_0x7d2b52);},'ZlKlW':_0x3a6bd1(0x209),'cbaFx':function(_0xc08911,_0x458054){return _0xc08911!==_0x458054;},'ECKUM':_0x3a6bd1(0x292),'UfdKc':'4|0|5|1|3|2','ylhGX':function(_0x282736){return _0x282736();}},_0x5415a8=document[_0x3a6bd1(0x266)](_0x43b1bc[_0x3a6bd1(0x14d)])[_0x3a6bd1(0x2a0)]['trim'](),_0x326946=document['getElementById'](_0x43b1bc['iAoGf'])['value'][_0x3a6bd1(0x23e)](),_0xe55f3b=document[_0x3a6bd1(0x266)](_0x3a6bd1(0x1f7))[_0x3a6bd1(0x2a0)][_0x3a6bd1(0x23e)](),_0x191127=document['getElementById'](_0x43b1bc[_0x3a6bd1(0x330)])[_0x3a6bd1(0x2a0)]['trim'](),_0x387b21=document[_0x3a6bd1(0x266)](_0x3a6bd1(0x208)),_0x38510c=document[_0x3a6bd1(0x266)](_0x43b1bc[_0x3a6bd1(0x198)]);_0x38510c[_0x3a6bd1(0x33b)][_0x3a6bd1(0x2cc)]=_0x43b1bc[_0x3a6bd1(0x223)];if(!_0x5415a8||!_0x326946){_0x38510c['innerText']=_0x43b1bc[_0x3a6bd1(0x1da)],_0x38510c['style'][_0x3a6bd1(0x2cc)]='block';return;}const _0x3c71c9=_0x43b1bc[_0x3a6bd1(0x2e3)](sanitizeUsername,_0x5415a8),_0x18599b=db[_0x3a6bd1(0x28d)]('auth/'+_0x3c71c9),_0x1685d0=await _0x18599b['get']();if(isRegisterMode){if(_0x1685d0[_0x3a6bd1(0x232)]()){_0x38510c[_0x3a6bd1(0x2b6)]='Username\x20already\x20exists.',_0x38510c['style'][_0x3a6bd1(0x2cc)]=_0x43b1bc[_0x3a6bd1(0x27e)];return;}if(_0x43b1bc[_0x3a6bd1(0x21d)](_0x326946,_0xe55f3b)){_0x38510c[_0x3a6bd1(0x2b6)]=_0x43b1bc['ECKUM'],_0x38510c[_0x3a6bd1(0x33b)][_0x3a6bd1(0x2cc)]=_0x43b1bc[_0x3a6bd1(0x27e)];return;}const _0x468e22=await _0x43b1bc[_0x3a6bd1(0x2e3)](sha256,_0x326946),_0x5e9a26=await generateDeviceId();if(_0x387b21[_0x3a6bd1(0x14e)][_0x3a6bd1(0x1c2)]){const _0x4c2665=_0x387b21[_0x3a6bd1(0x14e)][0x0],_0x39da93=new FileReader();_0x39da93[_0x3a6bd1(0x227)]=async()=>{const _0x2d3ff2=_0x3a6bd1,_0x5a22a3=_0x39da93[_0x2d3ff2(0x34a)]['split'](',')[0x1];await _0x18599b[_0x2d3ff2(0x28e)]({'username':_0x5415a8,'passwordHash':_0x468e22,'description':_0x43b1bc[_0x2d3ff2(0x279)](_0x191127,''),'avatarBase64':_0x5a22a3,'role':_0x2d3ff2(0x1c8),'deviceId':_0x5e9a26,'usernameHistory':[_0x5415a8],'lastChanged':Date[_0x2d3ff2(0x362)]()}),username=_0x5415a8,userDescription=_0x191127,avatarBase64=_0x5a22a3,role=_0x43b1bc['CyOsT'],_0x43b1bc[_0x2d3ff2(0x247)](startAfterAuth);},_0x39da93[_0x3a6bd1(0x1de)](_0x4c2665);}else{const _0x27133b=_0x43b1bc['UfdKc'][_0x3a6bd1(0x2c8)]('|');let _0x58495e=0x0;while(!![]){switch(_0x27133b[_0x58495e++]){case'0':username=_0x5415a8;continue;case'1':avatarBase64='';continue;case'2':_0x43b1bc[_0x3a6bd1(0x12d)](startAfterAuth);continue;case'3':role=_0x43b1bc[_0x3a6bd1(0x26f)];continue;case'4':await _0x18599b[_0x3a6bd1(0x28e)]({'username':_0x5415a8,'passwordHash':_0x468e22,'description':_0x191127||'','avatarBase64':'','role':_0x43b1bc['CyOsT'],'deviceId':_0x5e9a26,'usernameHistory':[_0x5415a8],'lastChanged':Date[_0x3a6bd1(0x362)]()});continue;case'5':userDescription=_0x191127;continue;}break;}}}else{if(!_0x1685d0[_0x3a6bd1(0x232)]()){_0x38510c[_0x3a6bd1(0x2b6)]='Account\x20not\x20found.',_0x38510c[_0x3a6bd1(0x33b)][_0x3a6bd1(0x2cc)]=_0x3a6bd1(0x209);return;}const _0x23dfb5=_0x1685d0[_0x3a6bd1(0x141)](),_0x5a7043=await sha256(_0x326946);if(_0x43b1bc[_0x3a6bd1(0x21d)](_0x5a7043,_0x23dfb5[_0x3a6bd1(0x1fc)])){_0x38510c[_0x3a6bd1(0x2b6)]='Incorrect\x20password.',_0x38510c['style'][_0x3a6bd1(0x2cc)]=_0x3a6bd1(0x209);return;}username=_0x5415a8;if(_0x23dfb5[_0x3a6bd1(0x207)])userDescription=_0x23dfb5[_0x3a6bd1(0x207)];if(_0x23dfb5['avatarBase64'])avatarBase64=_0x23dfb5[_0x3a6bd1(0x20c)];if(_0x23dfb5[_0x3a6bd1(0x1d0)])role=_0x23dfb5[_0x3a6bd1(0x1d0)];else role=_0x43b1bc[_0x3a6bd1(0x26f)];_0x43b1bc[_0x3a6bd1(0x12d)](startAfterAuth);}}async function saveNewUser(_0xa80522,_0x13a420,_0x161ec6,_0x19fcb4,_0x1186f8){const _0x41c8fe=_0x264001,_0x5af6c1={'IEHGH':function(_0x316f50,_0xa3b50a){return _0x316f50(_0xa3b50a);},'feFiW':_0x41c8fe(0x1c8),'vKDyy':function(_0x2b3013){return _0x2b3013();}},_0x79f73a=db[_0x41c8fe(0x28d)](_0x41c8fe(0x361)+_0x5af6c1[_0x41c8fe(0x135)](sanitizeUsername,_0xa80522)),_0x3dc3f2={'username':_0xa80522,'passwordHash':_0x13a420,'role':_0x5af6c1[_0x41c8fe(0x249)],'deviceId':_0x161ec6,'description':_0x1186f8||'','avatarBase64':_0x19fcb4||'','usernameHistory':[_0xa80522],'lastChanged':Date[_0x41c8fe(0x362)]()};await _0x79f73a['set'](_0x3dc3f2),username=_0xa80522,_0x19fcb4=_0x3dc3f2[_0x41c8fe(0x20c)],userDescription=_0x3dc3f2[_0x41c8fe(0x207)],_0x5af6c1['vKDyy'](startAfterAuth);}async function startAfterAuth(){const _0x170f48=_0x264001,_0x2cc820={'eqoYt':function(_0x26000c,_0x10abe3){return _0x26000c(_0x10abe3);},'NHNsR':_0x170f48(0x367),'zsIlK':function(_0x2996b2,_0x43e772){return _0x2996b2+_0x43e772;},'yAPEq':_0x170f48(0x122),'XzVcq':_0x170f48(0x209),'BOSIQ':'User\x20profile\x20not\x20found\x20in\x20auth\x20database.','nNtPD':function(_0x30bb23){return _0x30bb23();},'ehxLQ':_0x170f48(0x255),'VqZVb':'roomChoiceScreen'},_0x3f46e9=_0x2cc820['eqoYt'](sanitizeUsername,username),_0x50549a=db['ref'](_0x170f48(0x361)+_0x3f46e9),_0x5ae976=await _0x50549a[_0x170f48(0x339)]();if(_0x5ae976[_0x170f48(0x232)]()){const _0x4c0fde=_0x5ae976['val']();username=_0x4c0fde[_0x170f48(0x309)],userDescription=_0x4c0fde['description']||'',avatarBase64=_0x4c0fde[_0x170f48(0x20c)]||'',role=_0x4c0fde[_0x170f48(0x1d0)]||_0x170f48(0x1c8);if(avatarBase64){const _0x62768c=document[_0x170f48(0x266)](_0x2cc820[_0x170f48(0x289)]);_0x62768c['src']=_0x2cc820[_0x170f48(0x159)](_0x2cc820[_0x170f48(0x213)],avatarBase64),_0x62768c[_0x170f48(0x33b)][_0x170f48(0x2cc)]=_0x2cc820['XzVcq'];}}else console[_0x170f48(0x1e4)](_0x2cc820[_0x170f48(0x15b)]);await _0x2cc820['nNtPD'](loadRoomRoles),document[_0x170f48(0x266)](_0x2cc820[_0x170f48(0x194)])[_0x170f48(0x2b6)]=username,_0x2cc820[_0x170f48(0x2fc)](showScreen,_0x2cc820[_0x170f48(0x22f)]);}function toggleRecording(){const _0xdb5929=_0x264001,_0x2e0291={'ZSLdd':function(_0x2610da,_0x4da50e){return _0x2610da(_0x4da50e);},'XeySv':function(_0x224c7f){return _0x224c7f();},'jvXTX':_0xdb5929(0x144),'QXxgw':function(_0x1dfa25,_0x52cd29,_0x5959fb){return _0x1dfa25(_0x52cd29,_0x5959fb);},'DimuJ':function(_0x529b02,_0x2032d7){return _0x529b02(_0x2032d7);},'XNtyK':function(_0x24dcc5){return _0x24dcc5();}};isRecording?_0x2e0291[_0xdb5929(0x124)](stopRecording):navigator[_0xdb5929(0x297)]['getUserMedia']({'audio':!![]})['then'](_0x4bec8f=>{const _0x4133c6=_0xdb5929,_0x40293d={'ljQKN':function(_0x3469a4,_0x151562){return _0x3469a4&&_0x151562;},'mcNaa':function(_0x325770){const _0x15c0ba=_0x7742;return _0x2e0291[_0x15c0ba(0x1c1)](_0x325770);}};mediaRecorder=new MediaRecorder(_0x4bec8f),mediaRecorder[_0x4133c6(0x26d)](),isRecording=!![],document[_0x4133c6(0x266)](_0x2e0291[_0x4133c6(0x2c6)])[_0x4133c6(0x2b6)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x4133c6(0x2b0)]=_0x3bf9b0=>audioChunks['push'](_0x3bf9b0[_0x4133c6(0x189)]),mediaRecorder[_0x4133c6(0x244)]=()=>{const _0x344a33=_0x4133c6;_0x2e0291[_0x344a33(0x2c2)](clearTimeout,recordingTimer);const _0x452007=new Blob(audioChunks,{'type':'audio/webm'}),_0x23e012=new FileReader();_0x23e012[_0x344a33(0x227)]=()=>{const _0x4938b8=_0x344a33,_0x5f44d3=_0x23e012[_0x4938b8(0x34a)][_0x4938b8(0x2c8)](',')[0x1],_0x5cd548=db[_0x4938b8(0x28d)]()[_0x4938b8(0x160)]()[_0x4938b8(0x347)];db[_0x4938b8(0x28d)](_0x4938b8(0x202)+roomCode+_0x4938b8(0x24d)+_0x5cd548)[_0x4938b8(0x28e)]({'msg':_0x4938b8(0x1b8),'audioBase64':_0x5f44d3,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x23e012[_0x344a33(0x1de)](_0x452007);},recordingTimer=_0x2e0291[_0x4133c6(0x322)](setTimeout,()=>{const _0x5aecf5=_0x4133c6;_0x40293d['ljQKN'](mediaRecorder,isRecording)&&_0x40293d[_0x5aecf5(0x11c)](stopRecording);},0x4e20);})[_0xdb5929(0x364)](_0x54babe=>{const _0x115b85=_0xdb5929;_0x2e0291['DimuJ'](alert,_0x115b85(0x234));});}function stopRecording(){const _0x4c2dd8=_0x264001,_0x284f66={'lPGwt':_0x4c2dd8(0x1c6)};mediaRecorder&&isRecording&&(mediaRecorder[_0x4c2dd8(0x365)](),isRecording=![],document[_0x4c2dd8(0x266)]('recordBtn')['innerText']=_0x284f66[_0x4c2dd8(0x321)]);}window[_0x264001(0x123)]=async()=>{const _0x59c30f=_0x264001,_0x4dc2ee={'uTIWI':_0x59c30f(0x1b1),'sHBdY':function(_0x3d2d1c,_0xb32158){return _0x3d2d1c(_0xb32158);},'bWrSv':function(_0x314331){return _0x314331();},'oPdzP':function(_0x28f4fd){return _0x28f4fd();}},_0x3c5970=_0x4dc2ee[_0x59c30f(0x2a2)][_0x59c30f(0x2c8)]('|');let _0x4508ad=0x0;while(!![]){switch(_0x3c5970[_0x4508ad++]){case'0':_0x4dc2ee[_0x59c30f(0x1f0)](showScreen,_0x59c30f(0x1cd));continue;case'1':_0x4dc2ee[_0x59c30f(0x20b)](setupVisibilityAttention);continue;case'2':_0x4dc2ee[_0x59c30f(0x20b)](cleanupOldRooms);continue;case'3':_0x4dc2ee[_0x59c30f(0x17e)](setupSidebarBackHandler);continue;case'4':resetWebsiteData();continue;}break;}};function sanitizeUsername(_0x513816){const _0x1aaec8=_0x264001;return _0x513816[_0x1aaec8(0x34f)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x145bf5=_0x264001,_0x459c40={'LlOrV':_0x145bf5(0x1e1),'cWVtS':_0x145bf5(0x209),'fNjTb':_0x145bf5(0x138),'TjKUa':'profile_description','DvzWo':function(_0x44952c,_0x1a3233){return _0x44952c(_0x1a3233);},'qYkkK':_0x145bf5(0x264),'fFlKb':_0x145bf5(0x254),'FtcJE':'profileUsernameInput','Wdndo':'profileDescriptionInput','gZlbc':_0x145bf5(0x13f),'dcZof':function(_0x671cc6,_0x152493){return _0x671cc6||_0x152493;},'jbBII':_0x145bf5(0x1e8)},_0x599c29=document['getElementById'](_0x459c40[_0x145bf5(0x267)])[_0x145bf5(0x2a0)][_0x145bf5(0x23e)](),_0x5b0c26=document[_0x145bf5(0x266)](_0x459c40[_0x145bf5(0x166)])[_0x145bf5(0x2a0)]['trim'](),_0x28d4b8=document['getElementById'](_0x459c40[_0x145bf5(0x195)]);if(_0x459c40[_0x145bf5(0x171)](!_0x599c29,!_0x5b0c26)){_0x28d4b8['innerText']=_0x459c40[_0x145bf5(0x219)],_0x28d4b8[_0x145bf5(0x33b)]['display']=_0x459c40[_0x145bf5(0x148)];return;}const _0x2a42ea=_0x459c40['DvzWo'](sanitizeUsername,_0x599c29),_0x558b6a=db[_0x145bf5(0x28d)](_0x145bf5(0x152)+_0x2a42ea);_0x558b6a[_0x145bf5(0x23c)](_0x145bf5(0x2a0))[_0x145bf5(0x29c)](_0x42bcc9=>{const _0x54d4bb=_0x145bf5,_0x958108={'CVpiW':_0x54d4bb(0x150),'NpOqB':_0x459c40['LlOrV'],'JJtRd':_0x459c40[_0x54d4bb(0x148)],'vPJlc':_0x459c40[_0x54d4bb(0x131)],'rxISa':_0x459c40[_0x54d4bb(0x242)],'CGrGy':_0x54d4bb(0x255),'fYnaN':function(_0xad984,_0x48178b){return _0x459c40['DvzWo'](_0xad984,_0x48178b);},'nJscl':_0x459c40[_0x54d4bb(0x146)]};if(_0x42bcc9[_0x54d4bb(0x232)]())_0x28d4b8[_0x54d4bb(0x2b6)]='‚ùå\x20Username\x20already\x20taken.',_0x28d4b8['style']['display']=_0x54d4bb(0x209);else{const _0x6d7a7e={'username':_0x599c29,'description':_0x5b0c26,'lastChanged':Date[_0x54d4bb(0x362)](),'usernameHistory':[_0x599c29]};_0x558b6a['set'](_0x6d7a7e,_0x12f12d=>{const _0x409018=_0x54d4bb;_0x12f12d?(console['error'](_0x958108[_0x409018(0x23a)],_0x12f12d),_0x28d4b8['innerText']=_0x958108[_0x409018(0x1ed)],_0x28d4b8['style']['display']=_0x958108['JJtRd']):(localStorage[_0x409018(0x2e6)](_0x958108[_0x409018(0x306)],_0x599c29),localStorage[_0x409018(0x2e6)](_0x958108[_0x409018(0x11f)],_0x5b0c26),username=_0x599c29,document[_0x409018(0x266)](_0x958108[_0x409018(0x193)])[_0x409018(0x2b6)]=_0x599c29,_0x958108['fYnaN'](showScreen,_0x958108[_0x409018(0x133)]));});}})['catch'](_0x4a51ff=>{const _0x356d9f=_0x145bf5;console[_0x356d9f(0x12f)]('Error\x20checking\x20username:',_0x4a51ff),_0x28d4b8[_0x356d9f(0x2b6)]=_0x459c40['fFlKb'],_0x28d4b8[_0x356d9f(0x33b)][_0x356d9f(0x2cc)]=_0x356d9f(0x209);});}function saveProfile(_0x525296,_0x5c2bef,_0x38aeec){const _0x394a5e=_0x264001,_0x2f1f56={'sqVKq':_0x394a5e(0x255)},_0xcac926=Date['now'](),_0x13445e=[_0x525296];db[_0x394a5e(0x28d)](_0x394a5e(0x152)+_0x38aeec)[_0x394a5e(0x28e)]({'username':_0x525296,'description':_0x5c2bef,'lastChanged':_0xcac926,'usernameHistory':_0x13445e}),document[_0x394a5e(0x266)](_0x2f1f56[_0x394a5e(0x363)])['innerText']=_0x525296,showScreen(_0x394a5e(0x264));}function generateRoom(){const _0x40f21e=_0x264001,_0x43b15c={'MLeOv':function(_0x21f938){return _0x21f938();},'JKHtN':function(_0x20079c,_0x1ba0e7){return _0x20079c+_0x1ba0e7;},'mmXoe':_0x40f21e(0x202)};roomCode=_0x43b15c[_0x40f21e(0x30d)](genRoomCode),db[_0x40f21e(0x28d)](_0x43b15c[_0x40f21e(0x243)](_0x43b15c[_0x40f21e(0x25c)],roomCode))[_0x40f21e(0x28e)]({'active':!![],'created':Date[_0x40f21e(0x362)]()}),_0x43b15c[_0x40f21e(0x30d)](startChat);}function joinRoom(){const _0x3d43a5=_0x264001,_0x992c35={'SUEmL':function(_0x10ed8d){return _0x10ed8d();},'YliNq':function(_0x169f2a,_0x16b983){return _0x169f2a(_0x16b983);},'zFFGQ':_0x3d43a5(0x259),'VPKNM':_0x3d43a5(0x163),'QOYeC':function(_0x14d8cf,_0x1465f0){return _0x14d8cf(_0x1465f0);},'bDYpx':_0x3d43a5(0x27a),'tnZZX':function(_0x433dd1,_0x45b12d){return _0x433dd1(_0x45b12d);},'vjMEw':_0x3d43a5(0x22b)},_0x394237=roomCode||document[_0x3d43a5(0x266)](_0x992c35['VPKNM'])[_0x3d43a5(0x2a0)][_0x3d43a5(0x23e)]()[_0x3d43a5(0x1a9)]();if(!_0x394237)return _0x992c35[_0x3d43a5(0x2be)](alert,_0x992c35[_0x3d43a5(0x2bd)]);roomCode=_0x394237;if(roomCode===STATIC_ROOM){_0x992c35[_0x3d43a5(0x17c)](showScreen,_0x992c35['vjMEw']);return;}db[_0x3d43a5(0x28d)](_0x3d43a5(0x202)+roomCode)[_0x3d43a5(0x339)]()[_0x3d43a5(0x29c)](_0x412622=>{const _0x5e2a83=_0x3d43a5;_0x412622[_0x5e2a83(0x232)]()&&_0x412622[_0x5e2a83(0x141)]()[_0x5e2a83(0x1d6)]!==![]?_0x992c35[_0x5e2a83(0x304)](startChat):_0x992c35[_0x5e2a83(0x172)](alert,_0x992c35[_0x5e2a83(0x27b)]);});}async function startChat(){const _0x38f2d0=_0x264001,_0x21783c={'UXPuf':_0x38f2d0(0x233),'kzmrR':function(_0x1ddf36,_0x96a3f9){return _0x1ddf36(_0x96a3f9);},'AnEpR':_0x38f2d0(0x264),'crIyB':'sidebarAvatarPreview','gLWwQ':function(_0x5ec744,_0x23f13a){return _0x5ec744+_0x23f13a;},'UYnbi':_0x38f2d0(0x122),'fYpnm':'block','spCID':_0x38f2d0(0x1dd),'rWgMJ':function(_0x21449a,_0x33661e){return _0x21449a===_0x33661e;},'yBuwd':function(_0x8da059,_0x4e15ec){return _0x8da059===_0x4e15ec;},'wpogw':_0x38f2d0(0x14f),'nPUHl':function(_0x2e12b9,_0x331402){return _0x2e12b9===_0x331402;},'OTCyG':_0x38f2d0(0x216),'cLuMr':_0x38f2d0(0x311),'Eompe':_0x38f2d0(0x1a6),'aHzjT':function(_0x58f56e){return _0x58f56e();},'UPJWo':function(_0x5e5208,_0x550be0){return _0x5e5208||_0x550be0;},'jqbUv':'Missing\x20room\x20or\x20user\x20information.','oneXG':function(_0x4395ac){return _0x4395ac();},'yNyqh':function(_0x2bf8d1){return _0x2bf8d1();},'jmEeV':function(_0x94abcd){return _0x94abcd();}};if(_0x21783c[_0x38f2d0(0x18f)](!roomCode,!username))return alert(_0x21783c[_0x38f2d0(0x191)]),_0x21783c[_0x38f2d0(0x32f)](showScreen,_0x21783c['AnEpR']);_0x21783c[_0x38f2d0(0x314)](listenForPauseState),_0x21783c[_0x38f2d0(0x314)](listenForUserList),await _0x21783c['yNyqh'](loadRoomRoles),_0x21783c[_0x38f2d0(0x22a)](listenForAnnouncement);const _0x5c0747=sanitizeUsername(username),_0x25c875=db[_0x38f2d0(0x28d)](_0x38f2d0(0x1fa)+roomCode+'/'+_0x5c0747),_0x47ff03={'username':username,'online':!![],'lastOnline':firebase[_0x38f2d0(0x1e0)][_0x38f2d0(0x17a)][_0x38f2d0(0x2ad)]};_0x25c875[_0x38f2d0(0x28e)](_0x47ff03,_0x5127a5=>{const _0x4ead10=_0x38f2d0;if(_0x5127a5)return alert(_0x21783c[_0x4ead10(0x30e)]),_0x21783c[_0x4ead10(0x32f)](showScreen,_0x21783c[_0x4ead10(0x286)]);_0x25c875[_0x4ead10(0x241)]()[_0x4ead10(0x270)]({'online':![],'lastOnline':Date['now']()});const _0x2490d4=document[_0x4ead10(0x266)](_0x21783c['crIyB']);avatarBase64&&(_0x2490d4[_0x4ead10(0x298)]=_0x21783c[_0x4ead10(0x355)](_0x21783c['UYnbi'],avatarBase64),_0x2490d4[_0x4ead10(0x33b)]['display']=_0x21783c[_0x4ead10(0x2d8)]),document[_0x4ead10(0x266)](_0x21783c[_0x4ead10(0x31c)])[_0x4ead10(0x1db)]=username+'\x20'+_0x21783c[_0x4ead10(0x32f)](getRoleTag,_0x5c0747),document[_0x4ead10(0x266)](_0x4ead10(0x2b3))[_0x4ead10(0x2b6)]=_0x21783c[_0x4ead10(0x155)](roomCode,STATIC_ROOM)?_0x4ead10(0x2e5):roomCode,_0x21783c[_0x4ead10(0x2b4)](role,_0x21783c[_0x4ead10(0x281)])||_0x21783c[_0x4ead10(0x225)](role,_0x21783c[_0x4ead10(0x2e1)])?document[_0x4ead10(0x266)](_0x21783c[_0x4ead10(0x26e)])[_0x4ead10(0x33b)][_0x4ead10(0x2cc)]=_0x21783c[_0x4ead10(0x2d8)]:document[_0x4ead10(0x266)]('addAnnouncementBtn')[_0x4ead10(0x33b)][_0x4ead10(0x2cc)]=_0x4ead10(0x21c),showScreen(_0x21783c[_0x4ead10(0x17f)]),_0x21783c[_0x4ead10(0x162)](listenForMessages),_0x21783c[_0x4ead10(0x162)](listenForTyping),_0x21783c['aHzjT'](startInactivityTimer),_0x21783c['aHzjT'](trackPresence);});}async function fetchProfile(_0x24b9df){const _0x2e7360=_0x264001,_0x34374e=await db[_0x2e7360(0x28d)]('auth/'+_0x24b9df)[_0x2e7360(0x339)]();if(!_0x34374e[_0x2e7360(0x232)]())return null;return _0x34374e[_0x2e7360(0x141)]();}function validateStaticRoomPassword(){const _0x5336fd=_0x264001,_0x420887={'twcNM':function(_0x39e70b,_0x29e124){return _0x39e70b(_0x29e124);},'MhqSu':_0x5336fd(0x23f),'IfVko':function(_0x1ac7c9,_0x32364d){return _0x1ac7c9(_0x32364d);},'lEpcj':_0x5336fd(0x24e),'pkrDR':_0x5336fd(0x222)},_0x3858ab=document[_0x5336fd(0x266)](_0x5336fd(0x349))[_0x5336fd(0x2a0)]['trim']();if(!_0x3858ab){_0x420887[_0x5336fd(0x11d)](alert,_0x420887[_0x5336fd(0x1ba)]);return;}db[_0x5336fd(0x28d)](_0x5336fd(0x2de)+STATIC_ROOM)[_0x5336fd(0x339)]()[_0x5336fd(0x29c)](_0x16265c=>{const _0xa8c694=_0x5336fd;if(!_0x16265c[_0xa8c694(0x232)]()){_0x420887[_0xa8c694(0x2b5)](alert,_0xa8c694(0x18a));return;}const _0xd7237b=_0x16265c['val']();_0x3858ab===_0xd7237b?(roomCode=STATIC_ROOM,startChat()):(document[_0xa8c694(0x266)](_0x420887['MhqSu'])[_0xa8c694(0x2b6)]=_0xa8c694(0x2e4),document['getElementById'](_0x420887[_0xa8c694(0x19e)])[_0xa8c694(0x33b)][_0xa8c694(0x2cc)]='block');})[_0x5336fd(0x364)](_0x2c844b=>{const _0x464a39=_0x5336fd;console[_0x464a39(0x12f)](_0x2c844b),_0x420887[_0x464a39(0x11d)](alert,_0x420887[_0x464a39(0x1bd)]);});}function listenForPauseState(){const _0x5b2d08=_0x264001,_0xdb518f={'ynvJx':_0x5b2d08(0x209),'lceNj':_0x5b2d08(0x21c),'KVhcL':'value'};db['ref'](_0x5b2d08(0x11e)+roomCode+_0x5b2d08(0x15e))['on'](_0xdb518f[_0x5b2d08(0x273)],_0x1e4c4a=>{const _0x524cc2=_0x5b2d08,_0x84e395=_0x1e4c4a['exists']()&&_0x1e4c4a[_0x524cc2(0x141)]()===!![];document[_0x524cc2(0x266)](_0x524cc2(0x174))[_0x524cc2(0x33b)]['display']=_0x84e395?_0xdb518f[_0x524cc2(0x32d)]:_0xdb518f['lceNj'];});}const spamTimestamps=[];async function sendMessage(){const _0x143108=_0x264001,_0x1bc82f={'fqqPe':'Type\x20a\x20message...','LTHbK':function(_0x135bd5,_0xa20596){return _0x135bd5>_0xa20596;},'SBwgL':function(_0x15e809,_0x1a549c){return _0x15e809(_0x1a549c);},'KDqwI':_0x143108(0x2ec),'CiGlJ':function(_0x3aee6a,_0x12444d){return _0x3aee6a===_0x12444d;},'aMBDP':function(_0x4cf737,_0x38a6c4){return _0x4cf737!==_0x38a6c4;},'gqqyr':_0x143108(0x216),'PqmoL':function(_0x501093,_0x4730fe){return _0x501093(_0x4730fe);},'kpwJC':'msgInput','yjsRM':function(_0x2acef5,_0x4960d6){return _0x2acef5||_0x4960d6;},'pKoTs':function(_0x1557c0,_0x4e22a6){return _0x1557c0(_0x4e22a6);},'IShFm':_0x143108(0x1f8),'GBIKL':_0x143108(0x28b),'Doctu':_0x143108(0x1d7),'Orrsb':function(_0x73e8c9,_0x2ab8eb,_0x171d81){return _0x73e8c9(_0x2ab8eb,_0x171d81);}},_0x5e056e=await db['ref'](_0x143108(0x2a4)+roomCode+'/'+sanitizeUsername(username))[_0x143108(0x339)](),_0x21a783=await db['ref'](_0x143108(0x11e)+roomCode+_0x143108(0x15e))[_0x143108(0x339)]();if(_0x5e056e['exists']()&&_0x1bc82f[_0x143108(0x2fa)](_0x5e056e['val'](),Date[_0x143108(0x362)]())){_0x1bc82f['SBwgL'](alert,_0x1bc82f[_0x143108(0x21e)]);return;}if(_0x21a783['exists']()&&_0x1bc82f[_0x143108(0x1fe)](_0x21a783[_0x143108(0x141)](),!![])&&_0x1bc82f[_0x143108(0x2af)](role,_0x1bc82f['gqqyr'])){_0x1bc82f[_0x143108(0x274)](alert,_0x143108(0x271));return;}const _0x282066=document[_0x143108(0x266)](_0x1bc82f[_0x143108(0x231)]),_0xe151ee=_0x282066[_0x143108(0x2a0)][_0x143108(0x23e)]();if(_0x1bc82f[_0x143108(0x278)](!_0xe151ee,isBlocked))return;const _0x299b0e=Date[_0x143108(0x362)](),_0x20affd=_0xe151ee[_0x143108(0x1c3)](),_0x312f8b=swearWords[_0x143108(0x1a7)](_0x2ff4e7=>_0x20affd[_0x143108(0x32c)](_0x2ff4e7));if(_0x312f8b){_0x1bc82f[_0x143108(0x2c3)](alert,_0x1bc82f[_0x143108(0x2e7)]);return;}spamTimestamps[_0x143108(0x160)](_0x299b0e);const _0x284bce=spamTimestamps['filter'](_0x5f4815=>_0x299b0e-_0x5f4815<0x1b58);if(_0x1bc82f[_0x143108(0x2fa)](_0x284bce[_0x143108(0x1c2)],0x5)){const _0x3ccb1c=_0x1bc82f[_0x143108(0x284)][_0x143108(0x2c8)]('|');let _0x250238=0x0;while(!![]){switch(_0x3ccb1c[_0x250238++]){case'0':isBlocked=!![];continue;case'1':_0x282066['placeholder']=_0x143108(0x164);continue;case'2':return;case'3':_0x282066[_0x143108(0x263)]=!![];continue;case'4':alert(_0x1bc82f[_0x143108(0x354)]);continue;case'5':_0x1bc82f[_0x143108(0x2ff)](setTimeout,()=>{const _0x150bc2=_0x143108;isBlocked=![],_0x282066['disabled']=![],_0x282066[_0x150bc2(0x1ce)]=_0x1bc82f['fqqPe'],spamTimestamps[_0x150bc2(0x1c2)]=0x0;},0x7530);continue;}break;}}const _0x2c55f5=localStorage['getItem'](_0x143108(0x237))||'',_0x59259e=db[_0x143108(0x28d)]()[_0x143108(0x160)]()[_0x143108(0x347)];db['ref']('rooms/'+roomCode+_0x143108(0x24d)+_0x59259e)[_0x143108(0x28e)]({'msg':_0xe151ee,'sender':username,'senderId':clientId,'avatarBase64':_0x2c55f5,'timestamp':_0x299b0e}),_0x282066[_0x143108(0x2a0)]='',_0x1bc82f[_0x143108(0x2c3)](sendTyping,!![]),lastActivity=_0x299b0e;}function listenForMessages(){const _0x11dfd7=_0x264001,_0x4f6719={'lSbUf':function(_0x5efd08,_0x3b5810,_0x2de0ad,_0x3a455a){return _0x5efd08(_0x3b5810,_0x2de0ad,_0x3a455a);},'poThL':function(_0x498072,_0x2ddeb8){return _0x498072===_0x2ddeb8;},'nfGkT':function(_0x1e5e7c,_0x36501c){return _0x1e5e7c&&_0x36501c;},'VVuoK':function(_0x25beb9,_0x51b3ab,_0x2d0e53){return _0x25beb9(_0x51b3ab,_0x2d0e53);},'VpFWp':_0x11dfd7(0x120),'pFeWH':_0x11dfd7(0x33d)},_0x4b2a03=db[_0x11dfd7(0x28d)](_0x11dfd7(0x202)+roomCode+_0x11dfd7(0x324)),_0x3430b7=_0x4b2a03[_0x11dfd7(0x2cf)](MAX_MESSAGES);userListReady=!![],_0x3430b7['on'](_0x11dfd7(0x132),_0x1b8339=>{const _0x228c4f=_0x11dfd7,_0xc8860a={'JeAfj':function(_0x30b39e,_0x1d1375,_0x69a166,_0x3fdb5d){const _0x558b21=_0x7742;return _0x4f6719[_0x558b21(0x34e)](_0x30b39e,_0x1d1375,_0x69a166,_0x3fdb5d);}},_0x2af886=_0x1b8339[_0x228c4f(0x141)](),{senderId:_0x27b34c}=_0x2af886,_0x40c532=_0x4f6719['poThL'](_0x27b34c,clientId);if(!userListReady){pendingMessages[_0x228c4f(0x1bf)](({data:_0x5e87ef,sent:_0x270311,key:_0x40f359})=>{const _0x1259c5=_0x228c4f;_0xc8860a[_0x1259c5(0x190)](addMessage,_0x5e87ef,_0x270311,_0x40f359);}),pendingMessages=[];return;}const _0x4ce562=_0x2af886[_0x228c4f(0x143)]||null,_0x57f72c=_0x2af886[_0x228c4f(0x1c4)]||null;addMessage(_0x2af886,_0x40c532,_0x1b8339[_0x228c4f(0x347)]),roomCode!==STATIC_ROOM&&db['ref']('rooms/'+roomCode+_0x228c4f(0x24d)+_0x1b8339[_0x228c4f(0x347)])[_0x228c4f(0x200)](),!_0x40c532&&(sound[_0x228c4f(0x1ee)](),flagPageAttention()),_0x4f6719[_0x228c4f(0x29b)](notificationsEnabled,!_0x40c532)&&_0x4f6719[_0x228c4f(0x33c)](stackNotification,_0x2af886[_0x228c4f(0x1a3)],_0x2af886['msg']||(_0x2af886['audioBase64']?_0x4f6719[_0x228c4f(0x176)]:_0x4f6719[_0x228c4f(0x1ec)]));});}function stackNotification(_0x1be17b,_0x239a45){const _0x480071=_0x264001,_0x392e1d={'JaeTp':function(_0x1936a3){return _0x1936a3();},'lPQHU':function(_0x1f4f04,_0x80edbf){return _0x1f4f04(_0x80edbf);}};notificationStack[_0x480071(0x160)]({'sender':_0x1be17b,'content':_0x239a45}),_0x392e1d[_0x480071(0x326)](clearTimeout,notificationTimer),notificationTimer=setTimeout(()=>{const _0x1042ba=_0x480071;_0x392e1d[_0x1042ba(0x1f6)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0xd8e37=_0x264001,_0x3423ba={'lMfPo':_0xd8e37(0x341),'gBcea':_0xd8e37(0x305),'XZsQM':function(_0x17a550,_0xceb218){return _0x17a550!==_0xceb218;},'bWSAq':_0xd8e37(0x1a4),'QgZtc':function(_0xb0515c,_0x3f134d){return _0xb0515c||_0x3f134d;},'jcMeg':_0xd8e37(0x16f),'MYAqd':function(_0xe2b2c3,_0x58e70e){return _0xe2b2c3===_0x58e70e;},'BFJiL':function(_0x1dc383,_0xf842fd,_0x489e07){return _0x1dc383(_0xf842fd,_0x489e07);}};if(!notificationStack[_0xd8e37(0x1c2)]||_0x3423ba[_0xd8e37(0x340)](Notification['permission'],_0x3423ba[_0xd8e37(0x2bc)]))return;const _0x4d308e=[...new Set(notificationStack['map'](_0x2a939d=>_0x2a939d[_0xd8e37(0x1a3)]))],_0x2547c2=_0x3423ba['QgZtc'](roomCode,_0x3423ba[_0xd8e37(0x2d9)]),_0x23d418=_0x3423ba[_0xd8e37(0x295)](_0x4d308e[_0xd8e37(0x1c2)],0x1)?_0xd8e37(0x19b)+_0x4d308e[0x0]+_0xd8e37(0x257)+_0x2547c2+':\x20'+notificationStack[0x0][_0xd8e37(0x2fd)]:_0xd8e37(0x2c5)+_0x4d308e[_0xd8e37(0x28f)](',\x20')+_0xd8e37(0x257)+_0x2547c2;_0x3423ba[_0xd8e37(0x30f)](setTimeout,()=>{const _0x48c3cc=_0xd8e37;new Notification(_0x3423ba[_0x48c3cc(0x23d)],{'body':_0x23d418,'icon':_0x3423ba[_0x48c3cc(0x2f7)]});},0x64);}async function addMessage(_0x3209c1,_0x342202,_0x125f92=null){const _0x525586=_0x264001,_0x343361={'uZuXh':_0x525586(0x31b),'MIjhY':_0x525586(0x290),'eQSHi':_0x525586(0x139),'vrAfG':function(_0x49de2d,_0x27d21c){return _0x49de2d(_0x27d21c);},'BfliX':function(_0x378efc,_0xe061b0){return _0x378efc(_0xe061b0);},'cwvJP':function(_0x5eac27,_0x2fd2b3){return _0x5eac27(_0x2fd2b3);},'AisiN':_0x525586(0x2ba)},{msg:_0x43f5d0,sender:_0x1c1e4e,senderId:_0x1effe4,timestamp:_0x329eb2,audioUrl:_0x22412a,audioBase64:_0x3c5238,imageBase64:_0x29ac5f}=_0x3209c1,_0x452fe8=document['createElement'](_0x343361['uZuXh']);_0x452fe8[_0x525586(0x2e8)][_0x525586(0x1ff)](_0x525586(0x342),_0x342202?_0x525586(0x325):_0x343361[_0x525586(0x368)]);const _0x211b2d=new Date(_0x329eb2)[_0x525586(0x1e2)]([],{'hour':_0x343361['eQSHi'],'minute':_0x343361[_0x525586(0x25b)]}),_0x5ab726=_0x343361[_0x525586(0x308)](getRoleTag,safeSender),_0x5b3101=_0x343361[_0x525586(0x308)](sanitizeUsername,_0x1c1e4e),_0x191527=roomUsers[_0x5b3101]||{},_0x436312=await _0x343361[_0x525586(0x16c)](fetchAvatar,_0x343361[_0x525586(0x24f)](sanitizeUsername,_0x1c1e4e)),_0xa5a543=_0x436312?_0x525586(0x2bf)+_0x436312+_0x525586(0x205):'',_0x5ed069=_0xa5a543+_0x525586(0x192)+_0x1c1e4e+'\x20'+_0x5ab726+_0x525586(0x344);msgEl[_0x525586(0x1db)]=_0x5ed069+'<br>'+text,content+=_0x525586(0x252);const _0x1814b1=_0x43f5d0?.[_0x525586(0x34f)](new RegExp('@'+username+'\x5cb','gi'),_0x525586(0x1f2));if(_0x22412a)content+='<audio\x20controls\x20src=\x22'+_0x22412a+_0x525586(0x1c0);else{if(_0x3c5238){const _0x2fe4d7='data:audio/webm;base64,'+_0x3c5238;content+=_0x525586(0x2f5)+_0x2fe4d7+_0x525586(0x1c0);}else{if(_0x29ac5f){const _0x4e213c=_0x525586(0x122)+_0x29ac5f;content+=_0x525586(0x1d5)+_0x4e213c+_0x525586(0x18b);}else content+=_0x525586(0x1b4)+_0x1814b1+_0x525586(0x338);}}content+=_0x525586(0x204)+_0x211b2d+_0x525586(0x29f),_0x452fe8[_0x525586(0x1db)]=content;const _0x53d317=document['getElementById'](_0x343361[_0x525586(0x1e6)]);_0x53d317[_0x525586(0x2f9)](_0x452fe8),_0x53d317[_0x525586(0x1c7)]=_0x53d317[_0x525586(0x157)];}function cleanupOldRooms(){const _0x357a4e=_0x264001,_0x2d5d44={'nDZDM':function(_0x43466f,_0xbdfd99){return _0x43466f!==_0xbdfd99;},'eUduo':function(_0x341f5f,_0x47d43f){return _0x341f5f===_0x47d43f;},'TKwYU':function(_0xab59b4,_0x20c022){return _0xab59b4>_0x20c022;},'LVqJk':function(_0x1f635e,_0x492442){return _0x1f635e-_0x492442;},'UHieT':function(_0x5a3797,_0x2b5798){return _0x5a3797*_0x2b5798;},'TTMLV':function(_0x5ebcbd,_0x341c88){return _0x5ebcbd+_0x341c88;},'Wcgea':_0x357a4e(0x202),'aQdpo':_0x357a4e(0x2a0),'AYTLR':_0x357a4e(0x25a),'qaUki':_0x357a4e(0x186)};db[_0x357a4e(0x28d)](_0x2d5d44[_0x357a4e(0x31f)])['once'](_0x2d5d44[_0x357a4e(0x2e2)])[_0x357a4e(0x29c)](_0x404da5=>{const _0x7c2094=_0x357a4e,_0x35ef71={'vQwkC':function(_0x16e562,_0x2a922e){return _0x2d5d44['nDZDM'](_0x16e562,_0x2a922e);}},_0xa812d8=_0x404da5[_0x7c2094(0x141)]();if(!_0xa812d8)return;const _0x573643=Date[_0x7c2094(0x362)]();for(const _0x1554e1 in _0xa812d8){if(_0x2d5d44['eUduo'](_0x1554e1,STATIC_ROOM))continue;const _0x44bb5d=_0xa812d8[_0x1554e1];_0x2d5d44[_0x7c2094(0x2a3)](_0x2d5d44['LVqJk'](_0x573643,_0x44bb5d[_0x7c2094(0x251)]||0x0),_0x2d5d44[_0x7c2094(0x151)](_0x2d5d44[_0x7c2094(0x151)](0x2,0x3c),0x3e8))&&db[_0x7c2094(0x28d)](_0x2d5d44[_0x7c2094(0x1fb)](_0x2d5d44['Wcgea'],_0x1554e1))[_0x7c2094(0x200)]();}db[_0x7c2094(0x28d)]('antispam')['once'](_0x2d5d44['aQdpo'])[_0x7c2094(0x29c)](_0x3b0065=>{const _0x471c89=_0x7c2094,_0x120f23=_0x3b0065[_0x471c89(0x141)]();if(!_0x120f23)return;for(const _0x129c6d in _0x120f23){if(_0x129c6d!==STATIC_ROOM)db['ref'](_0x471c89(0x318)+_0x129c6d)[_0x471c89(0x200)]();}}),db[_0x7c2094(0x28d)](_0x2d5d44[_0x7c2094(0x35c)])['once'](_0x2d5d44[_0x7c2094(0x2e2)])[_0x7c2094(0x29c)](_0x534ca6=>{const _0x366fb5=_0x7c2094,_0x3dfb76=_0x534ca6[_0x366fb5(0x141)]();if(!_0x3dfb76)return;for(const _0x16af7a in _0x3dfb76){if(_0x35ef71[_0x366fb5(0x1d4)](_0x16af7a,STATIC_ROOM))db['ref'](_0x366fb5(0x25e)+_0x16af7a)[_0x366fb5(0x200)]();}});});}document['addEventListener'](_0x264001(0x184),()=>{const _0x38086e=_0x264001,_0x162de0={'ejPWy':function(_0x44fc81){return _0x44fc81();},'NHcIO':_0x38086e(0x2c4),'WtKaz':_0x38086e(0x32b)},_0x46ed1a=document['getElementById'](_0x162de0['NHcIO']);_0x46ed1a&&_0x46ed1a[_0x38086e(0x1e5)](_0x162de0[_0x38086e(0x1a8)],function(_0x5bd8ca){const _0x480340=_0x38086e;_0x5bd8ca[_0x480340(0x347)]==='Enter'&&(_0x5bd8ca['preventDefault'](),_0x162de0['ejPWy'](sendMessage));});});function showScreen(_0x418ad6){const _0x32a29c=_0x264001,_0x33630a={'KSBFP':_0x32a29c(0x21c),'hHGUA':_0x32a29c(0x156),'iZBmW':_0x32a29c(0x264),'KhlbT':'codeEntryScreen','giYfn':_0x32a29c(0x1a6),'jFvCJ':_0x32a29c(0x30b)};[_0x33630a['hHGUA'],_0x33630a[_0x32a29c(0x2ee)],_0x33630a[_0x32a29c(0x199)],_0x33630a[_0x32a29c(0x296)],_0x32a29c(0x22b),_0x32a29c(0x19c),_0x32a29c(0x11a),_0x32a29c(0x1cd)][_0x32a29c(0x1bf)](_0x481be6=>{const _0x5436b2=_0x32a29c;document[_0x5436b2(0x266)](_0x481be6)['style'][_0x5436b2(0x2cc)]=_0x33630a[_0x5436b2(0x183)];}),document['getElementById'](_0x418ad6)[_0x32a29c(0x33b)][_0x32a29c(0x2cc)]=_0x33630a[_0x32a29c(0x345)];}function genRoomCode(){const _0x27ed6e=_0x264001,_0x33de3e={'AlhLN':_0x27ed6e(0x27c),'srUZh':'0123456789','rVWhD':function(_0x4499f8,_0x220707){return _0x4499f8+_0x220707;},'UZrrn':function(_0x157da2,_0xaba9ef,_0x3f7f46){return _0x157da2(_0xaba9ef,_0x3f7f46);}},_0x8c5301=_0x33de3e[_0x27ed6e(0x2ce)],_0x42444c=_0x33de3e[_0x27ed6e(0x1dc)],_0x17388f=(_0x45b581,_0x5c4a76)=>Array['from']({'length':_0x5c4a76},()=>_0x45b581[Math[_0x27ed6e(0x260)](Math[_0x27ed6e(0x1b6)]()*_0x45b581[_0x27ed6e(0x1c2)])])[_0x27ed6e(0x28f)]('');return _0x33de3e[_0x27ed6e(0x303)](_0x33de3e[_0x27ed6e(0x303)](_0x33de3e['rVWhD'](_0x33de3e[_0x27ed6e(0x239)](_0x17388f,_0x42444c,0x3),_0x17388f(_0x8c5301,0x3)),_0x17388f(_0x42444c,0x2)),_0x17388f(_0x8c5301,0x2));}function startInactivityTimer(){const _0x2cd4b5=_0x264001,_0xc13969={'NoaNT':function(_0x501dd5,_0x4ed5d0){return _0x501dd5>_0x4ed5d0;},'PMmeI':function(_0xeb399b,_0x866cb9){return _0xeb399b*_0x866cb9;},'XvAVP':function(_0xe01b88,_0x58b35b){return _0xe01b88!==_0x58b35b;},'zyZYM':'rooms/','WKocV':function(_0x5e0169,_0x1cab61){return _0x5e0169(_0x1cab61);},'DpkGR':_0x2cd4b5(0x35a),'GhUXv':function(_0x986fe5,_0x386231,_0x2e6638){return _0x986fe5(_0x386231,_0x2e6638);}};_0xc13969[_0x2cd4b5(0x140)](setInterval,()=>{const _0x20e5da=_0x2cd4b5;_0xc13969[_0x20e5da(0x12a)](Date[_0x20e5da(0x362)]()-lastActivity,_0xc13969[_0x20e5da(0x28a)](0x5*0x3c,0x3e8))&&_0xc13969[_0x20e5da(0x1e7)](roomCode,STATIC_ROOM)&&(db[_0x20e5da(0x28d)](_0xc13969[_0x20e5da(0x1ea)]+roomCode)['update']({'active':![]}),_0xc13969[_0x20e5da(0x245)](alert,_0xc13969[_0x20e5da(0x31e)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x25837a=_0x264001,_0x56f40d={'IhmGe':_0x25837a(0x328),'rAZgN':'show','ZAnwD':_0x25837a(0x317)};window[_0x25837a(0x1e5)](_0x56f40d[_0x25837a(0x224)],()=>{const _0x29c500=_0x25837a,_0xc67b4e=document[_0x29c500(0x266)](_0x56f40d[_0x29c500(0x13a)]);_0xc67b4e?.[_0x29c500(0x2e8)][_0x29c500(0x28c)](_0x29c500(0x136))&&_0xc67b4e[_0x29c500(0x2e8)]['remove'](_0x56f40d[_0x29c500(0x12c)]);});}function toggleSidebar(){const _0x2f690f=_0x264001,_0x5951ea={'Cxyim':_0x2f690f(0x328),'PalsH':_0x2f690f(0x136)},_0x5332e7=document[_0x2f690f(0x266)](_0x5951ea[_0x2f690f(0x149)]);if(!_0x5332e7['classList']['contains'](_0x5951ea[_0x2f690f(0x24b)]))_0x5332e7['classList']['add'](_0x5951ea[_0x2f690f(0x24b)]),history[_0x2f690f(0x229)]({'sidebarOpen':!![]},'');else{_0x5332e7[_0x2f690f(0x2e8)][_0x2f690f(0x200)](_0x2f690f(0x136));if(history[_0x2f690f(0x129)]?.[_0x2f690f(0x35d)])history[_0x2f690f(0x34d)]();}}function setupVisibilityAttention(){const _0x2f656a=_0x264001,_0x296ac1={'EBAnJ':_0x2f656a(0x315)};let _0x4d2480=0x0,_0x5b5b88=document[_0x2f656a(0x13e)];document['addEventListener'](_0x296ac1[_0x2f656a(0x2f2)],()=>{const _0x124851=_0x2f656a;!document[_0x124851(0x358)]&&(document[_0x124851(0x13e)]=_0x5b5b88,_0x4d2480=0x0);}),window[_0x2f656a(0x333)]=function(){const _0x3fd226=_0x2f656a;document[_0x3fd226(0x358)]&&(_0x4d2480++,document[_0x3fd226(0x13e)]='('+_0x4d2480+_0x3fd226(0x256)+_0x5b5b88);};}function tryEditProfile(){const _0x51c2d3=_0x264001,_0x16bdbf={'QxQxv':_0x51c2d3(0x285),'DguEM':_0x51c2d3(0x30b)};document[_0x51c2d3(0x266)](_0x16bdbf[_0x51c2d3(0x27d)])[_0x51c2d3(0x33b)][_0x51c2d3(0x2cc)]=_0x16bdbf['DguEM'];}async function submitEditProfile(){const _0x5e968b=_0x264001,_0x2b78a7={'ylQKy':'oldPasswordInput','LKXlw':_0x5e968b(0x2e9),'glnrR':'editProfileError','qvDLf':'Please\x20enter\x20your\x20current\x20password.','ogIya':'block','QKENH':function(_0x22e871,_0x39c113){return _0x22e871(_0x39c113);},'JhlBR':_0x5e968b(0x294),'OwNce':function(_0x537b89,_0x5c2c0d){return _0x537b89(_0x5c2c0d);},'DECES':function(_0x445e30,_0x25d53e){return _0x445e30!==_0x25d53e;},'vVLHz':'Incorrect\x20current\x20password.','OcahQ':function(_0x45445d,_0x3f5ce2){return _0x45445d(_0x3f5ce2);},'TtzPV':function(_0x31aee9,_0x430bc6){return _0x31aee9*_0x430bc6;},'NfRXe':function(_0x2ffcdf,_0x271aab){return _0x2ffcdf*_0x271aab;},'YLoHk':function(_0x1f9e78,_0x4cb0d9){return _0x1f9e78>_0x4cb0d9;},'Fkvvi':function(_0x473bda,_0x252175){return _0x473bda-_0x252175;},'kBPXu':function(_0x24ccdd,_0x877123){return _0x24ccdd(_0x877123);},'DdnoD':_0x5e968b(0x2dd),'dUXDY':function(_0x4e0074,_0x324b56){return _0x4e0074(_0x324b56);},'nEIdR':_0x5e968b(0x121)},_0x38cdf9=document[_0x5e968b(0x266)](_0x2b78a7[_0x5e968b(0x1a2)])[_0x5e968b(0x2a0)],_0x2c451c=document[_0x5e968b(0x266)](_0x2b78a7[_0x5e968b(0x179)])[_0x5e968b(0x2a0)],_0x210df3=document[_0x5e968b(0x266)](_0x5e968b(0x2d4))[_0x5e968b(0x2a0)][_0x5e968b(0x23e)](),_0x3a3902=document['getElementById'](_0x2b78a7[_0x5e968b(0x25d)]);if(!_0x38cdf9){_0x3a3902[_0x5e968b(0x2b6)]=_0x2b78a7['qvDLf'],_0x3a3902['style'][_0x5e968b(0x2cc)]=_0x2b78a7[_0x5e968b(0x1fd)];return;}const _0x56b3e0=_0x2b78a7['QKENH'](sanitizeUsername,username),_0x17a41c=await db[_0x5e968b(0x28d)](_0x5e968b(0x361)+_0x56b3e0)[_0x5e968b(0x339)]();if(!_0x17a41c['exists']()){_0x3a3902[_0x5e968b(0x2b6)]=_0x2b78a7[_0x5e968b(0x1ca)],_0x3a3902[_0x5e968b(0x33b)][_0x5e968b(0x2cc)]=_0x2b78a7[_0x5e968b(0x1fd)];return;}const _0x45c67c=_0x17a41c[_0x5e968b(0x141)](),_0x556587=await _0x2b78a7[_0x5e968b(0x1bb)](sha256,_0x38cdf9);if(_0x2b78a7['DECES'](_0x556587,_0x45c67c[_0x5e968b(0x1fc)])){_0x3a3902[_0x5e968b(0x2b6)]=_0x2b78a7[_0x5e968b(0x238)],_0x3a3902[_0x5e968b(0x33b)]['display']=_0x2b78a7[_0x5e968b(0x1fd)];return;}const _0x3c2e66={};if(_0x2c451c){const _0x430612=await _0x2b78a7[_0x5e968b(0x18e)](sha256,_0x2c451c);_0x3c2e66[_0x5e968b(0x1fc)]=_0x430612;}_0x2b78a7[_0x5e968b(0x29e)](_0x210df3,_0x45c67c[_0x5e968b(0x207)])&&(_0x3c2e66[_0x5e968b(0x207)]=_0x210df3);const _0x5cbd03=Date[_0x5e968b(0x362)](),_0x1e3174=_0x2b78a7[_0x5e968b(0x1d8)](_0x2b78a7[_0x5e968b(0x2c7)](0x18*0x3c,0x3c),0x3e8),_0x32e72a=_0x2b78a7['YLoHk'](_0x2b78a7[_0x5e968b(0x248)](_0x5cbd03,_0x45c67c[_0x5e968b(0x178)]||0x0),_0x1e3174);if(_0x32e72a&&_0x2b78a7[_0x5e968b(0x2ed)](confirm,'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)')){const _0x4e3663=prompt(_0x2b78a7[_0x5e968b(0x261)]);_0x4e3663&&_0x4e3663['trim']()&&(_0x3c2e66[_0x5e968b(0x309)]=_0x4e3663[_0x5e968b(0x23e)](),_0x3c2e66[_0x5e968b(0x214)]=(_0x45c67c[_0x5e968b(0x214)]||[])[_0x5e968b(0x181)](_0x4e3663[_0x5e968b(0x23e)]()),_0x3c2e66[_0x5e968b(0x178)]=_0x5cbd03);}_0x3c2e66[_0x5e968b(0x309)]&&_0x3c2e66[_0x5e968b(0x309)]!==_0x45c67c[_0x5e968b(0x309)]?(await db[_0x5e968b(0x28d)](_0x5e968b(0x361)+_0x2b78a7['dUXDY'](sanitizeUsername,_0x3c2e66[_0x5e968b(0x309)]))[_0x5e968b(0x28e)]({..._0x45c67c,..._0x3c2e66}),await db[_0x5e968b(0x28d)](_0x5e968b(0x361)+_0x56b3e0)['remove'](),username=_0x3c2e66[_0x5e968b(0x309)]):await db[_0x5e968b(0x28d)](_0x5e968b(0x361)+_0x56b3e0)[_0x5e968b(0x270)](_0x3c2e66),alert(_0x2b78a7[_0x5e968b(0x169)]),location['reload']();}function cancelEditProfile(){const _0x45ccc5=_0x264001,_0x49fc6b={'DgnQB':function(_0x67d8c7,_0x4c2634){return _0x67d8c7(_0x4c2634);},'QLIJY':_0x45ccc5(0x1a6)};document[_0x45ccc5(0x266)](_0x45ccc5(0x285))[_0x45ccc5(0x33b)][_0x45ccc5(0x2cc)]=_0x45ccc5(0x21c),_0x49fc6b[_0x45ccc5(0x351)](showScreen,_0x49fc6b[_0x45ccc5(0x2a7)]);}function listenForUserList(){const _0x55911e=_0x264001,_0x3c9cf5={'hrMVH':function(_0x1ed0d8,_0x1f4f30){return _0x1ed0d8(_0x1f4f30);},'bOvPC':_0x55911e(0x2a0)};db['ref']('users/'+roomCode)['on'](_0x3c9cf5[_0x55911e(0x15a)],async _0x2534f4=>{const _0x36a9eb=_0x55911e;if(!_0x2534f4['exists']())return;const _0x550c1a=_0x2534f4[_0x36a9eb(0x141)]();await loadRoomRoles(),_0x3c9cf5[_0x36a9eb(0x329)](renderUserLists,_0x550c1a);});}function trackPresence(){const _0x107752=_0x264001,_0xa0cd47={'Blmex':function(_0x28b6ed){return _0x28b6ed();},'vlAPD':function(_0x44b1fc,_0x524ca1){return _0x44b1fc(_0x524ca1);},'lybkh':function(_0x244686,_0x25d145){return _0x244686||_0x25d145;}};if(!username||!roomCode)return;const _0x150b5a=_0xa0cd47[_0x107752(0x1ae)](sanitizeUsername,username),_0x5f5c52=db[_0x107752(0x28d)](_0x107752(0x1fa)+roomCode+'/'+_0x150b5a),_0x4f37ce={'username':username,'avatarBase64':_0xa0cd47[_0x107752(0x258)](avatarBase64,''),'description':_0xa0cd47[_0x107752(0x258)](userDescription,''),'online':!![],'lastOnline':firebase[_0x107752(0x1e0)][_0x107752(0x17a)][_0x107752(0x2ad)]};db[_0x107752(0x28d)]('admins/'+roomCode+'/'+_0x150b5a)[_0x107752(0x23c)](_0x107752(0x2a0))[_0x107752(0x29c)](_0x580bc7=>{const _0x4b5425=_0x107752;_0x580bc7[_0x4b5425(0x232)]()&&(_0x4f37ce[_0x4b5425(0x14f)]=!![]),_0x5f5c52['set'](_0x4f37ce),_0x5f5c52[_0x4b5425(0x241)]()[_0x4b5425(0x270)]({'online':![],'lastOnline':Date[_0x4b5425(0x362)]()}),_0xa0cd47[_0x4b5425(0x283)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x4cc42e){const _0x395b69=_0x264001,_0x5fd81c={'tCOUt':'sidebarAvatarPreview','CijGs':_0x395b69(0x209),'WVspN':function(_0x16266e,_0x4909c5){return _0x16266e(_0x4909c5);},'pdcGP':_0x395b69(0x2a5),'OyUNy':'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.'};if(!_0x4cc42e[_0x395b69(0x14e)][_0x395b69(0x1c2)])return;const _0xa475da=_0x4cc42e['files'][0x0],_0x539459=new FileReader();_0x539459[_0x395b69(0x227)]=async()=>{const _0x38ba73=_0x395b69,_0x7f18f8=_0x539459[_0x38ba73(0x34a)][_0x38ba73(0x2c8)](',')[0x1];document[_0x38ba73(0x266)](_0x5fd81c[_0x38ba73(0x22e)])[_0x38ba73(0x298)]=_0x539459[_0x38ba73(0x34a)],document['getElementById'](_0x5fd81c[_0x38ba73(0x22e)])[_0x38ba73(0x33b)][_0x38ba73(0x2cc)]=_0x5fd81c[_0x38ba73(0x161)];try{const _0x274aa6=_0x5fd81c[_0x38ba73(0x217)](sanitizeUsername,username);await db[_0x38ba73(0x28d)](_0x38ba73(0x361)+_0x274aa6+_0x38ba73(0x21b))[_0x38ba73(0x28e)](_0x7f18f8),alert(_0x5fd81c[_0x38ba73(0x2cd)]);}catch(_0xf25720){console[_0x38ba73(0x12f)](_0xf25720),alert(_0x5fd81c['OyUNy']);}},_0x539459[_0x395b69(0x1de)](_0xa475da);}function muteUser(_0x5d38b1,_0x535fdc){const _0x3ed240=_0x264001,_0x4d0a53={'eKCUN':function(_0x25ebc2,_0x5383e3){return _0x25ebc2(_0x5383e3);},'TKqLW':_0x3ed240(0x1b3),'uUNdZ':function(_0x2ecde3,_0xa0cdfe){return _0x2ecde3*_0xa0cdfe;},'qXPwF':function(_0x4864e9,_0x5aec32){return _0x4864e9(_0x5aec32);}};if(!isRoomAdmin)return _0x4d0a53[_0x3ed240(0x253)](alert,_0x4d0a53['TKqLW']);const _0x1bb2ab=Date[_0x3ed240(0x362)]()+_0x4d0a53[_0x3ed240(0x1ad)](_0x535fdc,0x3c)*0x3e8;db[_0x3ed240(0x28d)](_0x3ed240(0x2a4)+roomCode+'/'+_0x4d0a53[_0x3ed240(0x206)](sanitizeUsername,_0x5d38b1))[_0x3ed240(0x28e)](_0x1bb2ab);}function unmuteUser(_0x5e05d){const _0x319e80=_0x264001,_0x9aa956={'YjFfe':function(_0x4cc8da,_0x991698){return _0x4cc8da(_0x991698);},'YNIOt':_0x319e80(0x1b3)};if(!isRoomAdmin)return _0x9aa956[_0x319e80(0x25f)](alert,_0x9aa956['YNIOt']);db[_0x319e80(0x28d)](_0x319e80(0x2a4)+roomCode+'/'+sanitizeUsername(_0x5e05d))[_0x319e80(0x200)]();}function updateOnlineIndicator(){const _0x46f995=_0x264001,_0x4d0828={'SMrBp':_0x46f995(0x265),'SegIf':_0x46f995(0x2d2),'MFReP':_0x46f995(0x275)},_0x4aa1c7=document[_0x46f995(0x266)](_0x4d0828[_0x46f995(0x34c)]);_0x4aa1c7[_0x46f995(0x2b6)]=_0x4d0828[_0x46f995(0x335)],_0x4aa1c7[_0x46f995(0x33b)][_0x46f995(0x26c)]=_0x4d0828[_0x46f995(0x2e0)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x504688){const _0xf61fa9=_0x264001,_0x20a27a={'anJns':'Profile\x20not\x20found.','dQRYE':_0xf61fa9(0x2eb),'gVZGk':_0xf61fa9(0x1b2),'tytzU':_0xf61fa9(0x1d1),'UKASr':'profileContent','wCsxw':_0xf61fa9(0x11a),'duqrz':_0xf61fa9(0x209)};db['ref']('auth/'+_0x504688)['get']()['then'](_0x45d64d=>{const _0x10690d=_0xf61fa9;if(!_0x45d64d[_0x10690d(0x232)]())return alert(_0x20a27a[_0x10690d(0x327)]);const _0x4feb36=_0x45d64d[_0x10690d(0x141)](),_0x3f0678=(_0x10690d(0x33f)+_0x4feb36[_0x10690d(0x309)]+_0x10690d(0x24c)+(_0x4feb36[_0x10690d(0x207)]||_0x20a27a[_0x10690d(0x32e)])+_0x10690d(0x165)+((_0x4feb36[_0x10690d(0x214)]||[])['join'](',\x20')||_0x20a27a[_0x10690d(0x19f)])+_0x10690d(0x2fb)+(_0x4feb36[_0x10690d(0x178)]?new Date(_0x4feb36[_0x10690d(0x178)])['toLocaleString']():_0x20a27a['tytzU'])+'\x0a\x20\x20\x20\x20')['trim']();document[_0x10690d(0x266)](_0x20a27a[_0x10690d(0x137)])[_0x10690d(0x2b6)]=_0x3f0678,document['getElementById'](_0x20a27a[_0x10690d(0x197)])[_0x10690d(0x33b)][_0x10690d(0x2cc)]=_0x20a27a[_0x10690d(0x2f3)];});}function initUsernameFlow(){const _0x44bcf5=_0x264001,_0xd83767={'mjeDu':_0x44bcf5(0x138),'dMsEB':function(_0xe7617b,_0xbbc5a9){return _0xe7617b(_0xbbc5a9);},'EmOtw':_0x44bcf5(0x255),'WuNdR':_0x44bcf5(0x264)},_0x42d685=localStorage['getItem'](_0xd83767[_0x44bcf5(0x145)]);!_0x42d685?_0xd83767[_0x44bcf5(0x1a1)](showScreen,_0x44bcf5(0x19c)):(username=_0x42d685,document[_0x44bcf5(0x266)](_0xd83767[_0x44bcf5(0x17b)])[_0x44bcf5(0x2b6)]=username,_0xd83767[_0x44bcf5(0x1a1)](showScreen,_0xd83767[_0x44bcf5(0x1ab)]));}function closeProfile(){const _0x19b1da=_0x264001,_0x171eee={'ATCkr':'profileViewer'};document[_0x19b1da(0x266)](_0x171eee[_0x19b1da(0x280)])[_0x19b1da(0x33b)][_0x19b1da(0x2cc)]=_0x19b1da(0x21c);}function resetWebsiteData(){const _0x5d2e87=_0x264001,_0x46abab={'qvWrG':function(_0xffa5b6,_0x4b7203){return _0xffa5b6+_0x4b7203;}};try{localStorage[_0x5d2e87(0x346)](),sessionStorage[_0x5d2e87(0x346)]();}catch(_0x263b90){}if(!username||!roomCode){const _0x4623b7='1|3|0|4|2'['split']('|');let _0x305dad=0x0;while(!![]){switch(_0x4623b7[_0x305dad++]){case'0':isRoomAdmin=![];continue;case'1':username=null;continue;case'2':clientId=_0x46abab[_0x5d2e87(0x19a)]('_',Math[_0x5d2e87(0x1b6)]()[_0x5d2e87(0x230)](0x24)[_0x5d2e87(0x262)](0x2,0x9));continue;case'3':roomCode=null;continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x12005d=_0x264001,_0x462240={'CfsdM':function(_0x12e335,_0x4e67c9){return _0x12e335(_0x4e67c9);},'XgPtT':_0x12005d(0x356)},_0x4c692b=_0x462240[_0x12005d(0x2d5)](prompt,_0x462240[_0x12005d(0x1f5)]);if(!_0x4c692b)return;db[_0x12005d(0x28d)]('rooms/'+roomCode+_0x12005d(0x221))[_0x12005d(0x28e)]({'text':_0x4c692b,'by':username,'timestamp':Date[_0x12005d(0x362)]()});}function listenForAnnouncement(){const _0x4fe61c=_0x264001,_0x15282e={'Aqvxl':_0x4fe61c(0x24a),'GCOOz':_0x4fe61c(0x2a0)},_0x3b05bf=db[_0x4fe61c(0x28d)](_0x4fe61c(0x202)+roomCode+_0x4fe61c(0x221));_0x3b05bf['on'](_0x15282e[_0x4fe61c(0x2ac)],_0x5dce71=>{const _0xbd1400=_0x4fe61c,_0x22ea5f=_0x5dce71[_0xbd1400(0x141)]();if(!_0x22ea5f){document[_0xbd1400(0x266)](_0xbd1400(0x24a))[_0xbd1400(0x2b6)]='';return;}const _0x2df85f=document[_0xbd1400(0x266)](_0x15282e['Aqvxl']);_0x2df85f['innerText']=''+_0x22ea5f['text'];});}document[_0x264001(0x266)](_0x264001(0x24a))[_0x264001(0x1e5)](_0x264001(0x250),_0x256222=>{const _0x149f71=_0x264001,_0x531578={'zqkzy':function(_0x18c80e,_0x6c9ed8){return _0x18c80e===_0x6c9ed8;},'VaOgq':function(_0x52de95,_0x21adeb){return _0x52de95(_0x21adeb);},'DompI':_0x149f71(0x331)};_0x531578[_0x149f71(0x33a)](_0x256222[_0x149f71(0x16b)],0x3)&&isRoomAdmin&&(_0x531578['VaOgq'](confirm,_0x531578['DompI'])&&db[_0x149f71(0x28d)](_0x149f71(0x202)+roomCode+_0x149f71(0x221))[_0x149f71(0x200)]());}),document['getElementById'](_0x264001(0x2c4))[_0x264001(0x1e5)](_0x264001(0x2a1),()=>{const _0x197850=_0x264001,_0x349978={'IhXhb':_0x197850(0x2c4),'bDHCo':'sendBtn','saygH':_0x197850(0x21a)},_0x53f464=document[_0x197850(0x266)](_0x349978[_0x197850(0x168)]),_0x124103=document['getElementById'](_0x349978[_0x197850(0x2a8)]),_0x50ac2c=_0x53f464['value'][_0x197850(0x1c3)](),_0xa50934=swearWords[_0x197850(0x1a7)](_0x1602b6=>_0x50ac2c[_0x197850(0x32c)](_0x1602b6));_0xa50934?(_0x53f464[_0x197850(0x33b)][_0x197850(0x1be)]=_0x349978['saygH'],_0x124103[_0x197850(0x263)]=!![]):(_0x53f464[_0x197850(0x33b)][_0x197850(0x1be)]='',_0x124103[_0x197850(0x263)]=![]);});function muteUser(_0x50ac6c,_0x2cb057){const _0x131470=_0x264001,_0x2d8814={'WoNSW':function(_0x362391,_0x26ebfa){return _0x362391+_0x26ebfa;},'lRLmJ':function(_0x134817,_0x324a19){return _0x134817*_0x324a19;},'PHpnC':function(_0x4b16cb,_0x2e5eaf){return _0x4b16cb(_0x2e5eaf);}},_0x54da36=_0x2d8814[_0x131470(0x366)](Date[_0x131470(0x362)](),_0x2d8814[_0x131470(0x126)](_0x2cb057,0x3c)*0x3e8);db[_0x131470(0x28d)](_0x131470(0x2a4)+roomCode+'/'+_0x2d8814['PHpnC'](sanitizeUsername,_0x50ac6c))[_0x131470(0x28e)]({'muteUntil':_0x54da36})['then'](()=>{const _0x231cae=_0x131470;alert(_0x50ac6c+_0x231cae(0x2f8)+_0x2cb057+_0x231cae(0x236));});}function deleteUserMessages(_0x7f1538){const _0xd312ce=_0x264001,_0x72dc64={'bvqxo':function(_0x33aaf1,_0x38942e){return _0x33aaf1(_0x38942e);},'AIddt':_0xd312ce(0x1a3)};db[_0xd312ce(0x28d)](_0xd312ce(0x202)+roomCode+_0xd312ce(0x324))[_0xd312ce(0x319)](_0x72dc64[_0xd312ce(0x1eb)])[_0xd312ce(0x2fe)](_0x7f1538)[_0xd312ce(0x339)]()[_0xd312ce(0x29c)](_0x3cec89=>{const _0xb77500=_0xd312ce;_0x3cec89[_0xb77500(0x1bf)](_0x5e6b3f=>{const _0x3cb24f=_0xb77500;db['ref'](_0x3cb24f(0x202)+roomCode+'/messages/'+_0x5e6b3f[_0x3cb24f(0x347)])[_0x3cb24f(0x200)]();}),_0x72dc64[_0xb77500(0x220)](alert,_0xb77500(0x35b)+_0x7f1538+_0xb77500(0x13b));});}function pauseRoom(_0x1d0ab8){const _0x59b4f4=_0x264001,_0xaaf9ba={'nIINb':'pausedOverlay','WsIiO':_0x59b4f4(0x21c),'UtCKO':_0x59b4f4(0x2a0)};db[_0x59b4f4(0x28d)](_0x59b4f4(0x202)+roomCode+_0x59b4f4(0x15e))['on'](_0xaaf9ba[_0x59b4f4(0x307)],_0x47ab0e=>{const _0x2b4218=_0x59b4f4,_0x418e8a=_0x47ab0e['val']();document[_0x2b4218(0x266)](_0xaaf9ba['nIINb'])['style']['display']=_0x418e8a?_0x2b4218(0x209):_0xaaf9ba[_0x2b4218(0x31a)];});}function canPerformAction(_0x535e71){const _0x2783a1=_0x264001,_0x51317b={'CaVBu':function(_0x1df964,_0x56abc1){return _0x1df964===_0x56abc1;},'WJHDF':function(_0x44a9c7,_0x43556f){return _0x44a9c7===_0x43556f;},'WOyHl':_0x2783a1(0x228),'TYzhG':function(_0x3e662f,_0x568e7e){return _0x3e662f===_0x568e7e;},'nvDTP':_0x2783a1(0x201),'DBLdC':function(_0x3c05e3,_0x40d313){return _0x3c05e3===_0x40d313;},'oQZMH':'admin','eamgt':_0x2783a1(0x23b),'PwHTq':function(_0x4b9384,_0x2e445c){return _0x4b9384===_0x2e445c;},'Fnfws':_0x2783a1(0x343),'hggaO':function(_0x5d0ad9,_0xf7ac5f){return _0x5d0ad9===_0xf7ac5f;}};if(_0x51317b[_0x2783a1(0x350)](role,_0x2783a1(0x216)))return!![];if(_0x51317b[_0x2783a1(0x2c9)](_0x535e71,_0x51317b[_0x2783a1(0x14b)])||_0x51317b['TYzhG'](_0x535e71,_0x51317b['nvDTP']))return _0x51317b[_0x2783a1(0x215)](role,_0x51317b[_0x2783a1(0x16a)])||_0x51317b['TYzhG'](role,_0x51317b[_0x2783a1(0x187)]);if(_0x51317b[_0x2783a1(0x2df)](_0x535e71,_0x51317b[_0x2783a1(0x2b1)]))return _0x51317b[_0x2783a1(0x27f)](role,_0x51317b[_0x2783a1(0x16a)]);return![];}const html=Object[_0x264001(0x211)](activeUsers)['map'](_0xb28278=>{const _0x5774f5=_0x264001,_0xfdc9aa={'qGtfd':function(_0x263e31,_0x15c984){return _0x263e31(_0x15c984);},'aoygn':function(_0x3ea98f,_0x216075){return _0x3ea98f!==_0x216075;},'vxxvC':function(_0xf53119,_0x59e29a){return _0xf53119(_0x59e29a);},'GpawV':_0x5774f5(0x228),'oleyN':function(_0x2a0876,_0x47279a){return _0x2a0876(_0x47279a);},'QNTZv':_0x5774f5(0x201),'QvvEp':function(_0x2575fd,_0x150821){return _0x2575fd===_0x150821;},'OJUes':_0x5774f5(0x216),'BqGpg':_0x5774f5(0x14f),'ORxGC':function(_0x55fa19,_0x59e580){return _0x55fa19(_0x59e580);}},_0x289f20=_0xfdc9aa[_0x5774f5(0x19d)](sanitizeUsername,_0xb28278[_0x5774f5(0x309)]),_0x48f85e=[];if(_0xfdc9aa['aoygn'](_0x289f20,_0xfdc9aa['vxxvC'](sanitizeUsername,username))){_0xfdc9aa[_0x5774f5(0x1cc)](canPerformAction,_0xfdc9aa[_0x5774f5(0x2ea)])&&(_0x48f85e['push'](_0x5774f5(0x20a)+_0x289f20+'\x27,\x205)\x22>Mute\x205m</button>'),_0x48f85e['push'](_0x5774f5(0x20a)+_0x289f20+_0x5774f5(0x180)));_0xfdc9aa[_0x5774f5(0x196)](canPerformAction,_0xfdc9aa[_0x5774f5(0x269)])&&_0x48f85e[_0x5774f5(0x160)](_0x5774f5(0x2b9)+_0x289f20+_0x5774f5(0x1b0));if(_0xfdc9aa[_0x5774f5(0x170)](role,_0xfdc9aa[_0x5774f5(0x332)]))_0x48f85e[_0x5774f5(0x160)](_0x5774f5(0x2bb)+_0x289f20+_0x5774f5(0x360)),_0x48f85e[_0x5774f5(0x160)](_0x5774f5(0x13c)+_0x289f20+_0x5774f5(0x34b));else _0xfdc9aa['QvvEp'](role,_0xfdc9aa[_0x5774f5(0x29a)])&&_0x48f85e[_0x5774f5(0x160)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x289f20+_0x5774f5(0x360));}return _0x5774f5(0x1b7)+_0xb28278[_0x5774f5(0x309)]+'\x20'+_0xfdc9aa[_0x5774f5(0x147)](getRoleTag,_0xfdc9aa[_0x5774f5(0x1cc)](sanitizeUsername,_0xb28278['username']))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x289f20+_0x5774f5(0x2ab)+_0x48f85e[_0x5774f5(0x28f)]('')+_0x5774f5(0x268)+_0x289f20+_0x5774f5(0x1bc);})[_0x264001(0x28f)]('');function promoteToModerator(_0x3cb0a7){const _0x19039=_0x264001,_0x366a49={'gYHBF':function(_0x2e4e4b,_0x64ba7c){return _0x2e4e4b(_0x64ba7c);},'peGHz':function(_0x106aac,_0x4d2143){return _0x106aac!==_0x4d2143;},'uNUhg':function(_0x503ff0,_0x2cd2f5){return _0x503ff0!==_0x2cd2f5;},'IDYOm':_0x19039(0x14f),'bbyLR':function(_0x49b638,_0xfd9d1e){return _0x49b638(_0xfd9d1e);},'TTQpT':function(_0x390ab0,_0x2b085f){return _0x390ab0(_0x2b085f);}};if(_0x366a49[_0x19039(0x1ac)](role,'dev')&&_0x366a49['uNUhg'](role,_0x366a49['IDYOm'])){_0x366a49[_0x19039(0x16d)](alert,'Only\x20Devs\x20or\x20Admins\x20can\x20promote.');return;}db[_0x19039(0x28d)](_0x19039(0x287)+roomCode+'/'+_0x366a49[_0x19039(0x128)](sanitizeUsername,_0x3cb0a7))['set'](!![])[_0x19039(0x29c)](()=>{const _0x36822b=_0x19039;_0x366a49[_0x36822b(0x1d2)](alert,_0x3cb0a7+_0x36822b(0x1f9));});}function promoteToAdmin(_0x17f181){const _0x24e358=_0x264001,_0x56588d={'Iwqwk':function(_0x2517a4,_0x45aa22){return _0x2517a4!==_0x45aa22;},'kaeBJ':_0x24e358(0x216),'jfCrb':function(_0x326639,_0x33a8e9){return _0x326639(_0x33a8e9);}};if(_0x56588d[_0x24e358(0x1ef)](role,_0x56588d[_0x24e358(0x16e)])){_0x56588d[_0x24e358(0x35e)](alert,'Only\x20Devs\x20can\x20promote\x20to\x20Admin.');return;}db[_0x24e358(0x28d)](_0x24e358(0x127)+roomCode+'/'+sanitizeUsername(_0x17f181))[_0x24e358(0x28e)](!![])[_0x24e358(0x29c)](()=>{const _0x1ca289=_0x24e358;alert(_0x17f181+_0x1ca289(0x301));});}function toggleUserOptions(_0x1ab36c){const _0xa83a4c=_0x264001,_0x338247={'nptrl':function(_0x41c7db,_0x4ffc48){return _0x41c7db===_0x4ffc48;},'qVuqj':_0xa83a4c(0x21c)},_0xfd1dee=document['getElementById'](_0xa83a4c(0x246)+_0x1ab36c);_0x338247[_0xa83a4c(0x33e)](_0xfd1dee[_0xa83a4c(0x33b)][_0xa83a4c(0x2cc)],_0x338247[_0xa83a4c(0x188)])?_0xfd1dee[_0xa83a4c(0x33b)]['display']='block':_0xfd1dee[_0xa83a4c(0x33b)][_0xa83a4c(0x2cc)]=_0x338247[_0xa83a4c(0x188)];}function getRoleTag(_0x58833e){const _0x19c8b6=_0x264001,_0x592788={'EQAeO':function(_0x7c23c1,_0x3c9229){return _0x7c23c1(_0x3c9229);}},_0x3600f4=_0x592788[_0x19c8b6(0x2c0)](sanitizeUsername,_0x58833e);if(globalDevs[_0x19c8b6(0x32c)](_0x3600f4))return _0x19c8b6(0x26a);if(roomAdmins[_0x19c8b6(0x32c)](_0x3600f4))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators['includes'](_0x3600f4))return _0x19c8b6(0x203);return'';}async function loadRoomRoles(){const _0xacd1f9=_0x264001,_0x46ccb1={'mEWta':function(_0xd9961d,_0x3f10ab){return _0xd9961d===_0x3f10ab;},'hRbhP':_0xacd1f9(0x216),'AQyFY':function(_0x10b388,_0x45faef){return _0x10b388(_0x45faef);},'Rwdzj':'auth','hpNyZ':_0xacd1f9(0x14f),'IqadA':'user'},_0x45c09c=_0x46ccb1[_0xacd1f9(0x334)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x387d47=await db[_0xacd1f9(0x28d)](_0x46ccb1['Rwdzj'])[_0xacd1f9(0x339)]();_0x387d47[_0xacd1f9(0x1bf)](_0x5119bd=>{const _0x3ba80c=_0xacd1f9;if(_0x46ccb1['mEWta'](_0x5119bd[_0x3ba80c(0x141)]()['role'],_0x46ccb1[_0x3ba80c(0x15c)]))globalDevs['push'](_0x5119bd[_0x3ba80c(0x347)]);});const _0x3574df=await db['ref'](_0xacd1f9(0x127)+roomCode)[_0xacd1f9(0x339)]();_0x3574df['exists']()&&_0x3574df[_0xacd1f9(0x1bf)](_0x1589c5=>roomAdmins[_0xacd1f9(0x160)](_0x1589c5[_0xacd1f9(0x347)]));const _0x2164db=await db[_0xacd1f9(0x28d)]('moderators/'+roomCode)[_0xacd1f9(0x339)]();_0x2164db[_0xacd1f9(0x232)]()&&_0x2164db[_0xacd1f9(0x1bf)](_0x4d0325=>roomModerators[_0xacd1f9(0x160)](_0x4d0325[_0xacd1f9(0x347)]));if(globalDevs[_0xacd1f9(0x32c)](_0x45c09c))role=_0x46ccb1[_0xacd1f9(0x15c)];else{if(roomAdmins[_0xacd1f9(0x32c)](_0x45c09c))role=_0x46ccb1[_0xacd1f9(0x1a5)];else roomModerators[_0xacd1f9(0x32c)](_0x45c09c)?role=_0xacd1f9(0x23b):role=_0x46ccb1['IqadA'];}}async function renderUserLists(_0xf7d882){const _0x253b45=_0x264001,_0xb8609={'pJgny':function(_0x501c9c,_0x2a3c87){return _0x501c9c(_0x2a3c87);},'KGzga':function(_0x485374,_0x43438c){return _0x485374(_0x43438c);},'dEKIh':function(_0x2a503b,_0x5f4bba){return _0x2a503b(_0x5f4bba);},'yzyIS':function(_0x4d8d87,_0x2960ba){return _0x4d8d87===_0x2960ba;},'TxTrc':_0x253b45(0x216),'VBUup':function(_0x33f337,_0x1a7fc9){return _0x33f337===_0x1a7fc9;},'MCpmY':'moderator','lNFFs':function(_0x4e5fa0,_0x5feb70){return _0x4e5fa0===_0x5feb70;},'zLaSj':function(_0x471190,_0x2bf5f9){return _0x471190===_0x2bf5f9;},'fbGFN':function(_0x292b1f,_0x44729c){return _0x292b1f===_0x44729c;},'hdbbR':function(_0x1e3910,_0x30bd8d){return _0x1e3910(_0x30bd8d);},'YbuGJ':function(_0x2ab1e6,_0x2e84b5){return _0x2ab1e6===_0x2e84b5;},'sVAaA':function(_0x1c7b1f,_0x2bd63e){return _0x1c7b1f===_0x2bd63e;},'tpgla':_0x253b45(0x212),'fCuoW':_0x253b45(0x2ef)},_0x540038=sanitizeUsername(username),_0x24d953=role===_0xb8609[_0x253b45(0x1af)]||_0xb8609[_0x253b45(0x320)](role,_0x253b45(0x14f))||_0xb8609[_0x253b45(0x1f4)](role,_0xb8609[_0x253b45(0x1aa)]);document['getElementById'](_0xb8609[_0x253b45(0x175)])['style']['display']=_0x24d953?'block':'none';const _0x18e9e4=Object[_0x253b45(0x2ca)](_0xf7d882)[_0x253b45(0x310)](async([_0x158a4a,_0x20943c])=>{const _0x2829b4=_0x253b45,_0x428a92=_0xb8609[_0x2829b4(0x177)](sanitizeUsername,_0x20943c[_0x2829b4(0x309)]||_0x158a4a),_0x1e5e04=await _0xb8609['pJgny'](fetchAvatar,_0x428a92),_0x167bbd=_0x1e5e04?_0x2829b4(0x2bf)+_0x1e5e04+_0x2829b4(0x22d):'';return _0x2829b4(0x276)+_0x167bbd+_0x2829b4(0x158)+(_0x20943c['username']||_0x158a4a)+'\x20'+_0xb8609['KGzga'](getRoleTag,_0x428a92)+'</li>';}),_0x2105b2=await Promise[_0x253b45(0x357)](_0x18e9e4);document[_0x253b45(0x266)](_0xb8609[_0x253b45(0x226)])['innerHTML']=_0x2105b2[_0x253b45(0x28f)]('');if(!_0x24d953)return;const _0x581f01=Object[_0x253b45(0x2ca)](_0xf7d882)[_0x253b45(0x310)](async([_0x4c45f3,_0x5a5070])=>{const _0x3ff7c2=_0x253b45,_0x42abf7=_0xb8609[_0x3ff7c2(0x2a6)](sanitizeUsername,_0x5a5070['username']||_0x4c45f3);if(_0xb8609['yzyIS'](_0x42abf7,_0x540038))return'';const _0x54bbf0=await _0xb8609[_0x3ff7c2(0x177)](fetchAvatar,_0x42abf7),_0xe6905=_0x54bbf0?'<img\x20src=\x22data:image/png;base64,'+_0x54bbf0+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x3d1bb0=[];(_0xb8609['yzyIS'](role,_0xb8609[_0x3ff7c2(0x1af)])||_0xb8609[_0x3ff7c2(0x235)](role,_0x3ff7c2(0x14f))||_0xb8609[_0x3ff7c2(0x235)](role,_0xb8609[_0x3ff7c2(0x1aa)]))&&(_0x3d1bb0[_0x3ff7c2(0x160)](_0x3ff7c2(0x20a)+_0x42abf7+_0x3ff7c2(0x154)),_0x3d1bb0[_0x3ff7c2(0x160)](_0x3ff7c2(0x20a)+_0x42abf7+_0x3ff7c2(0x180)));(_0xb8609[_0x3ff7c2(0x2dc)](role,_0x3ff7c2(0x216))||role===_0x3ff7c2(0x14f))&&_0x3d1bb0[_0x3ff7c2(0x160)](_0x3ff7c2(0x2b9)+_0x42abf7+'\x27)\x22>Delete\x20Msgs</button>');if(_0xb8609[_0x3ff7c2(0x20d)](role,_0xb8609['TxTrc']))_0x3d1bb0['push'](_0x3ff7c2(0x2bb)+_0x42abf7+_0x3ff7c2(0x29d)),_0x3d1bb0[_0x3ff7c2(0x160)](_0x3ff7c2(0x13c)+_0x42abf7+_0x3ff7c2(0x1e3));else _0xb8609[_0x3ff7c2(0x218)](role,_0x3ff7c2(0x14f))&&_0x3d1bb0[_0x3ff7c2(0x160)](_0x3ff7c2(0x2bb)+_0x42abf7+_0x3ff7c2(0x29d));return _0x3ff7c2(0x299)+_0xe6905+'üîß\x20'+(_0x5a5070[_0x3ff7c2(0x309)]||_0x4c45f3)+'\x20'+_0xb8609[_0x3ff7c2(0x18d)](getRoleTag,_0x42abf7)+_0x3ff7c2(0x288)+_0x3d1bb0['join']('\x20')+_0x3ff7c2(0x348);}),_0x1bfc65=await Promise[_0x253b45(0x357)](_0x581f01);document[_0x253b45(0x266)]('adminUserList')[_0x253b45(0x1db)]=_0x1bfc65[_0x253b45(0x28f)]('');}async function fetchAvatar(_0x7d7c04){const _0x4ecf96=_0x264001;if(userAvatars[_0x7d7c04])return userAvatars[_0x7d7c04];const _0x326f1b=await db[_0x4ecf96(0x28d)]('auth/'+_0x7d7c04)[_0x4ecf96(0x339)]();if(_0x326f1b['exists']()&&_0x326f1b['val']()[_0x4ecf96(0x20c)])return userAvatars[_0x7d7c04]=_0x326f1b['val']()[_0x4ecf96(0x20c)],userAvatars[_0x7d7c04];return null;}function sendTyping(){const _0x5ed68d=_0x264001,_0x4b6bb8={'vLSPm':function(_0x305c18,_0x2cd8e1){return _0x305c18(_0x2cd8e1);}},_0x53d42b=_0x4b6bb8[_0x5ed68d(0x134)](sanitizeUsername,username);db[_0x5ed68d(0x28d)](_0x5ed68d(0x2d0)+roomCode+'/'+_0x53d42b)[_0x5ed68d(0x28e)](Date[_0x5ed68d(0x362)]());}function listenForTyping(){const _0x5abb76=_0x264001,_0x938821={'NMUst':function(_0x57da54,_0xc18e0a){return _0x57da54!==_0xc18e0a;},'PhnEC':_0x5abb76(0x2a0)};db['ref'](_0x5abb76(0x2d0)+roomCode)['on'](_0x938821[_0x5abb76(0x277)],_0x252c12=>{const _0x55ddc6=_0x5abb76,_0x3147c1=document[_0x55ddc6(0x266)](_0x55ddc6(0x1e9));if(!_0x252c12[_0x55ddc6(0x232)]()){_0x3147c1[_0x55ddc6(0x2b6)]='';return;}const _0x350b27=Object[_0x55ddc6(0x2ca)](_0x252c12[_0x55ddc6(0x141)]())[_0x55ddc6(0x210)](([_0x3c0bf7,_0x3a62ae])=>{const _0xd22a6=_0x55ddc6;return _0x938821[_0xd22a6(0x15f)](sanitizeUsername(_0x3c0bf7),sanitizeUsername(username));});_0x350b27[_0x55ddc6(0x1c2)]?_0x3147c1[_0x55ddc6(0x2b6)]=_0x350b27[_0x55ddc6(0x310)](([_0x5d76b8])=>_0x5d76b8)['join'](',\x20')+_0x55ddc6(0x1c5):_0x3147c1[_0x55ddc6(0x2b6)]='';});}