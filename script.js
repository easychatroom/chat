const _0x1e9cbb=_0x4994;(function(_0x1a2eb1,_0x2d1f5a){const _0x16be4b=_0x4994,_0x77c3c2=_0x1a2eb1();while(!![]){try{const _0xd5a874=-parseInt(_0x16be4b(0x416))/0x1*(-parseInt(_0x16be4b(0x3f9))/0x2)+parseInt(_0x16be4b(0x2b2))/0x3+-parseInt(_0x16be4b(0x22e))/0x4*(-parseInt(_0x16be4b(0x261))/0x5)+-parseInt(_0x16be4b(0x40a))/0x6+-parseInt(_0x16be4b(0x3a7))/0x7*(-parseInt(_0x16be4b(0x27d))/0x8)+-parseInt(_0x16be4b(0x2e4))/0x9+parseInt(_0x16be4b(0x3a8))/0xa;if(_0xd5a874===_0x2d1f5a)break;else _0x77c3c2['push'](_0x77c3c2['shift']());}catch(_0x4972f4){_0x77c3c2['push'](_0x77c3c2['shift']());}}}(_0x1738,0x4608d));const firebaseConfig={'apiKey':_0x1e9cbb(0x254),'authDomain':_0x1e9cbb(0x417),'databaseURL':_0x1e9cbb(0x324),'projectId':_0x1e9cbb(0x3b1),'storageBucket':_0x1e9cbb(0x3f4),'messagingSenderId':'985049198428','appId':_0x1e9cbb(0x2ba),'measurementId':'G-QDESJ2WR42'};firebase['initializeApp'](firebaseConfig);const db=firebase['database']();let deviceId=null;((async()=>{const _0x5dee12=_0x1e9cbb,_0x3cc5a9={'BxbhM':function(_0x2832e1){return _0x2832e1();}};deviceId=await _0x3cc5a9[_0x5dee12(0x203)](generateDeviceId);})());const swearWords=['fuck','shit','bitch','asshole',_0x1e9cbb(0x301),_0x1e9cbb(0x2cd),_0x1e9cbb(0x26b),'puta',_0x1e9cbb(0x423),_0x1e9cbb(0x36f),_0x1e9cbb(0x384),_0x1e9cbb(0x2dc),_0x1e9cbb(0x3d8),_0x1e9cbb(0x409),_0x1e9cbb(0x386),_0x1e9cbb(0x358),'puta','fdp',_0x1e9cbb(0x293),_0x1e9cbb(0x361),_0x1e9cbb(0x33b),_0x1e9cbb(0x29d),_0x1e9cbb(0x3b0),_0x1e9cbb(0x3e8),_0x1e9cbb(0x31a),_0x1e9cbb(0x1eb)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math['random']()[_0x1e9cbb(0x3be)](0x24)[_0x1e9cbb(0x31d)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x1e9cbb(0x34d),MAX_MESSAGES=0xfa,sound=new Audio(_0x1e9cbb(0x304));sound[_0x1e9cbb(0x3de)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x159322=_0x1e9cbb,_0x3a894e={'NmtCN':function(_0x4128fc,_0x27672e){return _0x4128fc+_0x27672e;},'VRzul':function(_0x4c33f3,_0x372a82){return _0x4c33f3(_0x372a82);}},_0x367726=_0x3a894e['NmtCN'](navigator[_0x159322(0x31e)]+screen[_0x159322(0x2a8)],screen[_0x159322(0x2f6)]),_0xd16033=await _0x3a894e[_0x159322(0x2bb)](sha256,_0x367726);return _0x3a894e[_0x159322(0x303)]('_',_0xd16033[_0x159322(0x31d)](0x0,0x14));}function sha256(_0x190248){const _0x1b39cc=_0x1e9cbb,_0x4fe413={'npmMD':_0x1b39cc(0x2ff)},_0x3a080e=new TextEncoder()[_0x1b39cc(0x292)](_0x190248);return crypto[_0x1b39cc(0x39c)][_0x1b39cc(0x25b)](_0x4fe413[_0x1b39cc(0x3ce)],_0x3a080e)['then'](_0x392cc2=>{const _0x2299f1=_0x1b39cc;return Array[_0x2299f1(0x3c6)](new Uint8Array(_0x392cc2))[_0x2299f1(0x332)](_0x475e13=>_0x475e13['toString'](0x10)[_0x2299f1(0x27c)](0x2,'0'))[_0x2299f1(0x29b)]('');});}function toggleNotifications(){const _0x54dc54=_0x1e9cbb,_0x4176fe={'PPfUx':function(_0x11d15e,_0x499c68){return _0x11d15e===_0x499c68;},'BNWLE':_0x54dc54(0x256),'vItQv':function(_0x42dfa2,_0x34a403){return _0x42dfa2!==_0x34a403;},'UsiJH':'notifToggleBtn'};_0x4176fe[_0x54dc54(0x406)](Notification[_0x54dc54(0x2bc)],_0x54dc54(0x343))?Notification[_0x54dc54(0x39b)]()[_0x54dc54(0x3f0)](_0xbdc792=>{const _0x343e32=_0x54dc54;_0x4176fe[_0x343e32(0x3dd)](_0xbdc792,_0x343e32(0x343))&&(notificationsEnabled=!![],document['getElementById'](_0x343e32(0x1ef))[_0x343e32(0x1fe)]=_0x4176fe['BNWLE']);}):(notificationsEnabled=!notificationsEnabled,document[_0x54dc54(0x402)](_0x4176fe[_0x54dc54(0x397)])[_0x54dc54(0x1fe)]=notificationsEnabled?_0x54dc54(0x256):_0x54dc54(0x2fb));}function toggleAuthMode(){const _0x95a41e=_0x1e9cbb,_0x1fa272={'mmPat':_0x95a41e(0x395),'xgxvp':_0x95a41e(0x337),'ycsxu':_0x95a41e(0x302),'VhAyr':_0x95a41e(0x263),'bzfHO':_0x95a41e(0x36a),'GhKbN':_0x95a41e(0x262),'mpiox':'Login','ieDpg':_0x95a41e(0x2ab),'jDxyf':'authSubmitBtn','vIEPf':_0x95a41e(0x1ec)},_0x356247=_0x1fa272['mmPat'][_0x95a41e(0x385)]('|');let _0x5951f5=0x0;while(!![]){switch(_0x356247[_0x5951f5++]){case'0':document[_0x95a41e(0x402)](_0x1fa272[_0x95a41e(0x316)])[_0x95a41e(0x3e5)]['display']=isRegisterMode?_0x1fa272[_0x95a41e(0x2af)]:_0x95a41e(0x36a);continue;case'1':document[_0x95a41e(0x402)](_0x1fa272[_0x95a41e(0x206)])['style'][_0x95a41e(0x3e7)]=_0x1fa272[_0x95a41e(0x369)];continue;case'2':document[_0x95a41e(0x402)](_0x1fa272['GhKbN'])[_0x95a41e(0x1fe)]=isRegisterMode?_0x95a41e(0x1ec):_0x1fa272[_0x95a41e(0x1f1)];continue;case'3':document[_0x95a41e(0x402)](_0x95a41e(0x236))['style'][_0x95a41e(0x3e7)]=_0x1fa272['bzfHO'];continue;case'4':document['getElementById'](_0x95a41e(0x234))[_0x95a41e(0x3e5)][_0x95a41e(0x3e7)]=isRegisterMode?'block':_0x95a41e(0x36a);continue;case'5':document[_0x95a41e(0x402)](_0x1fa272['ieDpg'])[_0x95a41e(0x3e5)][_0x95a41e(0x3e7)]=isRegisterMode?_0x1fa272[_0x95a41e(0x2af)]:_0x95a41e(0x36a);continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x95a41e(0x402)](_0x1fa272['jDxyf'])[_0x95a41e(0x1fe)]=isRegisterMode?_0x1fa272[_0x95a41e(0x2fa)]:_0x1fa272[_0x95a41e(0x1f1)];continue;}break;}}function previewAvatar(){const _0x1c126d=_0x1e9cbb,_0x153f7e={'zTEab':_0x1c126d(0x236),'XsOMw':_0x1c126d(0x302)},_0x1e96aa=document['getElementById']('authAvatar');if(!_0x1e96aa['files']['length'])return;const _0x59f327=new FileReader();_0x59f327[_0x1c126d(0x28a)]=()=>{const _0xfe75a5=_0x1c126d;document[_0xfe75a5(0x402)](_0xfe75a5(0x236))[_0xfe75a5(0x2c0)]=_0x59f327[_0xfe75a5(0x307)],document[_0xfe75a5(0x402)](_0x153f7e['zTEab'])[_0xfe75a5(0x3e5)][_0xfe75a5(0x3e7)]=_0x153f7e[_0xfe75a5(0x3cb)];},_0x59f327[_0x1c126d(0x25d)](_0x1e96aa[_0x1c126d(0x38a)][0x0]);}async function submitAuth(){const _0x151878=_0x1e9cbb,_0x1ebf18={'kKGaJ':function(_0x25a205,_0x2094a3){return _0x25a205||_0x2094a3;},'jYVaf':'user','DnMEC':function(_0xa5652){return _0xa5652();},'ppxVm':_0x151878(0x414),'tLAog':_0x151878(0x21c),'jYpYh':_0x151878(0x234),'MBRXh':_0x151878(0x337),'MjSic':_0x151878(0x2ab),'TgAdM':_0x151878(0x263),'fFTDV':_0x151878(0x36a),'dVIqU':function(_0x4d1c22,_0x96dd00){return _0x4d1c22||_0x96dd00;},'fAjvX':_0x151878(0x2ad),'tyMSI':_0x151878(0x302),'vVDPi':_0x151878(0x27f),'ZDZNw':function(_0x5be535,_0x40aa){return _0x5be535!==_0x40aa;},'PLLYh':'0|1|5|3|4|2','mdYMG':'Account\x20not\x20found.','pvLGX':function(_0x63a805,_0x4dc1e3){return _0x63a805!==_0x4dc1e3;},'SJVpq':_0x151878(0x23a)},_0x432fc0=document['getElementById'](_0x1ebf18[_0x151878(0x325)])['value'][_0x151878(0x3b5)](),_0x55667e=document[_0x151878(0x402)](_0x1ebf18['tLAog'])[_0x151878(0x2f5)][_0x151878(0x3b5)](),_0x1e0e7b=document['getElementById'](_0x1ebf18[_0x151878(0x266)])[_0x151878(0x2f5)][_0x151878(0x3b5)](),_0x32ba70=document[_0x151878(0x402)](_0x1ebf18[_0x151878(0x270)])[_0x151878(0x2f5)][_0x151878(0x3b5)](),_0x5d2e83=document[_0x151878(0x402)](_0x1ebf18[_0x151878(0x3c8)]),_0x2a20de=document['getElementById'](_0x1ebf18['TgAdM']);_0x2a20de[_0x151878(0x3e5)][_0x151878(0x3e7)]=_0x1ebf18[_0x151878(0x2ef)];if(_0x1ebf18['dVIqU'](!_0x432fc0,!_0x55667e)){_0x2a20de['innerText']=_0x1ebf18[_0x151878(0x2d3)],_0x2a20de[_0x151878(0x3e5)]['display']=_0x1ebf18[_0x151878(0x3c0)];return;}const _0x15496a=sanitizeUsername(_0x432fc0),_0x25b8fd=db[_0x151878(0x373)](_0x151878(0x340)+_0x15496a),_0x407a23=await _0x25b8fd['get']();if(isRegisterMode){if(_0x407a23['exists']()){_0x2a20de[_0x151878(0x1fe)]=_0x1ebf18[_0x151878(0x353)],_0x2a20de['style'][_0x151878(0x3e7)]=_0x1ebf18['tyMSI'];return;}if(_0x1ebf18[_0x151878(0x222)](_0x55667e,_0x1e0e7b)){_0x2a20de[_0x151878(0x1fe)]=_0x151878(0x3ae),_0x2a20de[_0x151878(0x3e5)]['display']=_0x1ebf18[_0x151878(0x3c0)];return;}const _0x2b833c=await sha256(_0x55667e),_0x28bb6c=await _0x1ebf18[_0x151878(0x398)](generateDeviceId);if(_0x5d2e83[_0x151878(0x38a)][_0x151878(0x364)]){const _0x2acd0c=_0x5d2e83['files'][0x0],_0x3dce7c=new FileReader();_0x3dce7c['onloadend']=async()=>{const _0x530a2a=_0x151878,_0x429351=_0x3dce7c[_0x530a2a(0x307)]['split'](',')[0x1];await _0x25b8fd[_0x530a2a(0x3f6)]({'username':_0x432fc0,'passwordHash':_0x2b833c,'description':_0x1ebf18[_0x530a2a(0x2f7)](_0x32ba70,''),'avatarBase64':_0x429351,'role':_0x1ebf18['jYVaf'],'deviceId':_0x28bb6c,'usernameHistory':[_0x432fc0],'lastChanged':Date['now']()}),username=_0x432fc0,userDescription=_0x32ba70,avatarBase64=_0x429351,role=_0x1ebf18[_0x530a2a(0x348)],_0x1ebf18[_0x530a2a(0x398)](startAfterAuth);},_0x3dce7c[_0x151878(0x25d)](_0x2acd0c);}else{const _0x2c59a1=_0x1ebf18['PLLYh'][_0x151878(0x385)]('|');let _0x278033=0x0;while(!![]){switch(_0x2c59a1[_0x278033++]){case'0':await _0x25b8fd[_0x151878(0x3f6)]({'username':_0x432fc0,'passwordHash':_0x2b833c,'description':_0x32ba70||'','avatarBase64':'','role':_0x151878(0x243),'deviceId':_0x28bb6c,'usernameHistory':[_0x432fc0],'lastChanged':Date[_0x151878(0x26f)]()});continue;case'1':username=_0x432fc0;continue;case'2':startAfterAuth();continue;case'3':avatarBase64='';continue;case'4':role=_0x1ebf18[_0x151878(0x348)];continue;case'5':userDescription=_0x32ba70;continue;}break;}}}else{if(!_0x407a23[_0x151878(0x25f)]()){_0x2a20de[_0x151878(0x1fe)]=_0x1ebf18[_0x151878(0x2e6)],_0x2a20de[_0x151878(0x3e5)]['display']=_0x1ebf18['tyMSI'];return;}const _0x32fc79=_0x407a23[_0x151878(0x33f)](),_0x30c5cd=await sha256(_0x55667e);if(_0x1ebf18['pvLGX'](_0x30c5cd,_0x32fc79[_0x151878(0x33c)])){_0x2a20de[_0x151878(0x1fe)]=_0x1ebf18[_0x151878(0x30e)],_0x2a20de[_0x151878(0x3e5)][_0x151878(0x3e7)]=_0x151878(0x302);return;}username=_0x432fc0;if(_0x32fc79['description'])userDescription=_0x32fc79[_0x151878(0x428)];if(_0x32fc79[_0x151878(0x329)])avatarBase64=_0x32fc79['avatarBase64'];if(_0x32fc79[_0x151878(0x3ed)])role=_0x32fc79[_0x151878(0x3ed)];else role=_0x151878(0x243);_0x1ebf18['DnMEC'](startAfterAuth);}}async function saveNewUser(_0x261dba,_0x28f693,_0x5a4879,_0x5c9c70,_0x1ef699){const _0x5115af=_0x1e9cbb,_0x4be075={'gVHbM':function(_0x20b80a,_0x100352){return _0x20b80a||_0x100352;},'OTRrx':function(_0x331faa){return _0x331faa();}},_0x5cb48b=db[_0x5115af(0x373)]('auth/'+sanitizeUsername(_0x261dba)),_0x520b22={'username':_0x261dba,'passwordHash':_0x28f693,'role':_0x5115af(0x243),'deviceId':_0x5a4879,'description':_0x4be075[_0x5115af(0x396)](_0x1ef699,''),'avatarBase64':_0x5c9c70||'','usernameHistory':[_0x261dba],'lastChanged':Date[_0x5115af(0x26f)]()};await _0x5cb48b[_0x5115af(0x3f6)](_0x520b22),username=_0x261dba,_0x5c9c70=_0x520b22[_0x5115af(0x329)],userDescription=_0x520b22[_0x5115af(0x428)],_0x4be075['OTRrx'](startAfterAuth);}async function startAfterAuth(){const _0x200369=_0x1e9cbb,_0x57be9e={'dgDPY':function(_0x4bb1c5,_0x2f0b77){return _0x4bb1c5(_0x2f0b77);},'YsMaE':_0x200369(0x243),'lJPDR':_0x200369(0x278),'dmPod':function(_0x434312,_0x354d01){return _0x434312+_0x354d01;},'BsoZD':'data:image/png;base64,','clpUx':_0x200369(0x41c),'mfQXE':_0x200369(0x2d0),'LhArS':_0x200369(0x221)},_0x2c1bd9=_0x57be9e[_0x200369(0x3c7)](sanitizeUsername,username),_0x1e78be=db[_0x200369(0x373)](_0x200369(0x340)+_0x2c1bd9),_0x1d568b=await _0x1e78be[_0x200369(0x36e)]();if(_0x1d568b[_0x200369(0x25f)]()){const _0x2a3376=_0x1d568b[_0x200369(0x33f)]();username=_0x2a3376[_0x200369(0x219)],userDescription=_0x2a3376['description']||'',avatarBase64=_0x2a3376[_0x200369(0x329)]||'',role=_0x2a3376['role']||_0x57be9e[_0x200369(0x2a4)];if(avatarBase64){const _0x26bb72=document['getElementById'](_0x57be9e[_0x200369(0x21e)]);_0x26bb72[_0x200369(0x2c0)]=_0x57be9e[_0x200369(0x265)](_0x57be9e[_0x200369(0x2d6)],avatarBase64),_0x26bb72['style'][_0x200369(0x3e7)]='block';}}else console[_0x200369(0x22b)](_0x57be9e[_0x200369(0x3eb)]);await loadRoomRoles(),document[_0x200369(0x402)](_0x57be9e['mfQXE'])[_0x200369(0x1fe)]=username,showScreen(_0x57be9e['LhArS']);}function toggleRecording(){const _0x136e57=_0x1e9cbb,_0x2fc224={'QHErz':_0x136e57(0x3fd),'kRTfi':function(_0x3a5e4f,_0x450c68){return _0x3a5e4f(_0x450c68);},'ADHdK':function(_0x3963a8,_0x5a462c){return _0x3963a8&&_0x5a462c;},'RsUwH':function(_0x511622){return _0x511622();},'kTQJE':_0x136e57(0x422),'kGIig':function(_0x55c76c,_0x35104a){return _0x55c76c(_0x35104a);}};isRecording?stopRecording():navigator[_0x136e57(0x24c)][_0x136e57(0x306)]({'audio':!![]})[_0x136e57(0x3f0)](_0x504029=>{const _0x25ec4e=_0x136e57,_0xdd9a11={'ApDRS':function(_0x5f0613,_0x45c6d2){return _0x2fc224['ADHdK'](_0x5f0613,_0x45c6d2);},'FYjec':function(_0x2d21c2){const _0x25e59a=_0x4994;return _0x2fc224[_0x25e59a(0x2d9)](_0x2d21c2);}};mediaRecorder=new MediaRecorder(_0x504029),mediaRecorder[_0x25ec4e(0x2f1)](),isRecording=!![],document[_0x25ec4e(0x402)](_0x2fc224[_0x25ec4e(0x371)])[_0x25ec4e(0x1fe)]='⏹️',audioChunks=[],mediaRecorder[_0x25ec4e(0x1f4)]=_0x4c8cac=>audioChunks[_0x25ec4e(0x410)](_0x4c8cac[_0x25ec4e(0x32c)]),mediaRecorder['onstop']=()=>{const _0x192d87=_0x25ec4e,_0x4ce881={'dVeVx':_0x2fc224[_0x192d87(0x3a1)]};_0x2fc224['kRTfi'](clearTimeout,recordingTimer);const _0x5159d3=new Blob(audioChunks,{'type':'audio/webm'}),_0xb7dc8e=new FileReader();_0xb7dc8e[_0x192d87(0x28a)]=()=>{const _0x28a95c=_0x192d87,_0x436e2a=_0xb7dc8e['result'][_0x28a95c(0x385)](',')[0x1],_0x478c63=db['ref']()['push']()[_0x28a95c(0x1f7)];db[_0x28a95c(0x373)](_0x28a95c(0x25a)+roomCode+'/messages/'+_0x478c63)['set']({'msg':_0x4ce881['dVeVx'],'audioBase64':_0x436e2a,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0xb7dc8e[_0x192d87(0x25d)](_0x5159d3);},recordingTimer=setTimeout(()=>{const _0x5792d4=_0x25ec4e;_0xdd9a11[_0x5792d4(0x429)](mediaRecorder,isRecording)&&_0xdd9a11[_0x5792d4(0x245)](stopRecording);},0x4e20);})['catch'](_0x99eb44=>{const _0x481ab1=_0x136e57;_0x2fc224['kGIig'](alert,_0x481ab1(0x34f));});}function stopRecording(){const _0x49a7f7=_0x1e9cbb,_0x524b35={'AuDbp':function(_0x20cd15,_0x2e2674){return _0x20cd15&&_0x2e2674;},'QwsQV':_0x49a7f7(0x422)};_0x524b35[_0x49a7f7(0x282)](mediaRecorder,isRecording)&&(mediaRecorder[_0x49a7f7(0x336)](),isRecording=![],document[_0x49a7f7(0x402)](_0x524b35[_0x49a7f7(0x288)])[_0x49a7f7(0x1fe)]=_0x49a7f7(0x2bf));}window['onload']=async()=>{const _0x290241=_0x1e9cbb,_0x15f9cf={'mNqzU':'3|2|4|1|0','SORba':function(_0x111651,_0xea185b){return _0x111651(_0xea185b);},'HzPAp':_0x290241(0x3dc),'NTCbc':function(_0x119bd5){return _0x119bd5();}},_0x17b238=_0x15f9cf[_0x290241(0x381)]['split']('|');let _0x331ec0=0x0;while(!![]){switch(_0x17b238[_0x331ec0++]){case'0':_0x15f9cf[_0x290241(0x3fa)](showScreen,_0x15f9cf['HzPAp']);continue;case'1':resetWebsiteData();continue;case'2':_0x15f9cf[_0x290241(0x1f3)](setupSidebarBackHandler);continue;case'3':_0x15f9cf[_0x290241(0x1f3)](cleanupOldRooms);continue;case'4':_0x15f9cf[_0x290241(0x1f3)](setupVisibilityAttention);continue;}break;}};function sanitizeUsername(_0x7aa0d5){const _0x4ea4a2=_0x1e9cbb;return _0x7aa0d5[_0x4ea4a2(0x387)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x4429ef=_0x1e9cbb,_0x34d64c={'WDPvR':_0x4429ef(0x230),'LWUpt':'4|3|2|0|1','LEYNe':_0x4429ef(0x2d0),'iGqpU':'roomChoiceScreen','VkWgO':'chat_username','ehlfJ':'❌\x20Username\x20already\x20taken.','JSVEf':_0x4429ef(0x302),'BslfG':_0x4429ef(0x1f6),'KPhnH':_0x4429ef(0x408),'yccbS':_0x4429ef(0x37e),'UYLZS':_0x4429ef(0x374),'saVTy':function(_0x138557,_0x46351a){return _0x138557||_0x46351a;},'oaUNb':_0x4429ef(0x411),'oaFqs':_0x4429ef(0x2f5)},_0x1e0a7a=document[_0x4429ef(0x402)](_0x4429ef(0x23e))[_0x4429ef(0x2f5)][_0x4429ef(0x3b5)](),_0x57535c=document[_0x4429ef(0x402)](_0x34d64c['yccbS'])[_0x4429ef(0x2f5)][_0x4429ef(0x3b5)](),_0x2b1c42=document[_0x4429ef(0x402)](_0x34d64c['UYLZS']);if(_0x34d64c[_0x4429ef(0x2c6)](!_0x1e0a7a,!_0x57535c)){_0x2b1c42[_0x4429ef(0x1fe)]=_0x34d64c[_0x4429ef(0x27b)],_0x2b1c42[_0x4429ef(0x3e5)][_0x4429ef(0x3e7)]=_0x4429ef(0x302);return;}const _0x5f4976=sanitizeUsername(_0x1e0a7a),_0x3e874e=db['ref'](_0x4429ef(0x2a0)+_0x5f4976);_0x3e874e[_0x4429ef(0x407)](_0x34d64c[_0x4429ef(0x35d)])[_0x4429ef(0x3f0)](_0x5100de=>{const _0x587492=_0x4429ef;if(_0x5100de[_0x587492(0x25f)]())_0x2b1c42[_0x587492(0x1fe)]=_0x34d64c[_0x587492(0x3a6)],_0x2b1c42[_0x587492(0x3e5)]['display']=_0x34d64c[_0x587492(0x2c4)];else{const _0x45ea8b={'username':_0x1e0a7a,'description':_0x57535c,'lastChanged':Date[_0x587492(0x26f)](),'usernameHistory':[_0x1e0a7a]};_0x3e874e[_0x587492(0x3f6)](_0x45ea8b,_0x6a3172=>{const _0x583979=_0x587492;if(_0x6a3172)console['error'](_0x583979(0x382),_0x6a3172),_0x2b1c42[_0x583979(0x1fe)]=_0x34d64c[_0x583979(0x28c)],_0x2b1c42[_0x583979(0x3e5)][_0x583979(0x3e7)]='block';else{const _0x482697=_0x34d64c['LWUpt'][_0x583979(0x385)]('|');let _0x39978b=0x0;while(!![]){switch(_0x482697[_0x39978b++]){case'0':document[_0x583979(0x402)](_0x34d64c[_0x583979(0x24a)])[_0x583979(0x1fe)]=_0x1e0a7a;continue;case'1':showScreen(_0x34d64c['iGqpU']);continue;case'2':username=_0x1e0a7a;continue;case'3':localStorage[_0x583979(0x2de)](_0x583979(0x23d),_0x57535c);continue;case'4':localStorage[_0x583979(0x2de)](_0x34d64c[_0x583979(0x3e9)],_0x1e0a7a);continue;}break;}}});}})[_0x4429ef(0x23f)](_0x2e49ec=>{const _0x50a6e4=_0x4429ef;console[_0x50a6e4(0x400)](_0x34d64c[_0x50a6e4(0x3bc)],_0x2e49ec),_0x2b1c42[_0x50a6e4(0x1fe)]=_0x34d64c[_0x50a6e4(0x257)],_0x2b1c42[_0x50a6e4(0x3e5)]['display']=_0x34d64c[_0x50a6e4(0x2c4)];});}function saveProfile(_0x112dea,_0x21627d,_0x22c101){const _0x2f776b=_0x1e9cbb,_0x5a2757={'Tdwis':_0x2f776b(0x2d0),'KzUwp':function(_0x319d72,_0x591e73){return _0x319d72(_0x591e73);},'dXPWr':_0x2f776b(0x221)},_0x358a80=Date[_0x2f776b(0x26f)](),_0x2d3935=[_0x112dea];db['ref'](_0x2f776b(0x2a0)+_0x22c101)[_0x2f776b(0x3f6)]({'username':_0x112dea,'description':_0x21627d,'lastChanged':_0x358a80,'usernameHistory':_0x2d3935}),document[_0x2f776b(0x402)](_0x5a2757[_0x2f776b(0x272)])[_0x2f776b(0x1fe)]=_0x112dea,_0x5a2757[_0x2f776b(0x273)](showScreen,_0x5a2757[_0x2f776b(0x2c2)]);}function generateRoom(){const _0x396b0a=_0x1e9cbb,_0x566019={'LLYAr':function(_0xf0d3de){return _0xf0d3de();},'kUCNu':function(_0x5540c3,_0xbc475e){return _0x5540c3+_0xbc475e;},'PfFcq':'rooms/','UeWOv':function(_0x4123d3){return _0x4123d3();}};roomCode=_0x566019[_0x396b0a(0x308)](genRoomCode),db['ref'](_0x566019[_0x396b0a(0x37c)](_0x566019[_0x396b0a(0x23b)],roomCode))[_0x396b0a(0x3f6)]({'active':!![],'created':Date[_0x396b0a(0x26f)]()}),_0x566019[_0x396b0a(0x20f)](startChat);}function joinRoom(){const _0x43d11c=_0x1e9cbb,_0x5d8bb1={'XRymW':function(_0x2b79d0,_0x2db97d){return _0x2b79d0!==_0x2db97d;},'qTcqe':function(_0x1c754f,_0xa3da6){return _0x1c754f(_0xa3da6);},'tPgwy':_0x43d11c(0x2b1),'BCetn':function(_0x5a4125,_0x37901d){return _0x5a4125(_0x37901d);},'fkRnx':_0x43d11c(0x3c3),'IcBoW':_0x43d11c(0x240),'nMvRZ':function(_0x113f42,_0x5b0c58){return _0x113f42+_0x5b0c58;},'YrweU':_0x43d11c(0x25a)},_0x2310f4=roomCode||document[_0x43d11c(0x402)](_0x5d8bb1[_0x43d11c(0x1ea)])['value'][_0x43d11c(0x3b5)]()[_0x43d11c(0x2da)]();if(!_0x2310f4)return _0x5d8bb1[_0x43d11c(0x31f)](alert,_0x5d8bb1[_0x43d11c(0x260)]);roomCode=_0x2310f4;if(roomCode===STATIC_ROOM){_0x5d8bb1[_0x43d11c(0x314)](showScreen,_0x5d8bb1[_0x43d11c(0x3ac)]);return;}db[_0x43d11c(0x373)](_0x5d8bb1[_0x43d11c(0x2a6)](_0x5d8bb1[_0x43d11c(0x2b0)],roomCode))['get']()[_0x43d11c(0x3f0)](_0x2d7e4d=>{const _0x31c52a=_0x43d11c;_0x2d7e4d[_0x31c52a(0x25f)]()&&_0x5d8bb1[_0x31c52a(0x3da)](_0x2d7e4d[_0x31c52a(0x33f)]()['active'],![])?startChat():_0x5d8bb1[_0x31c52a(0x314)](alert,_0x31c52a(0x35a));});}async function startChat(){const _0x513263=_0x1e9cbb,_0x4c112a={'vVZTI':function(_0x4ee7a3,_0x514d9d){return _0x4ee7a3(_0x514d9d);},'mCEpP':_0x513263(0x366),'aBRmA':function(_0x11298c,_0x7db612){return _0x11298c(_0x7db612);},'otpwP':_0x513263(0x221),'CghLB':_0x513263(0x278),'YLhQM':function(_0xa1de86,_0x3dc2c5){return _0xa1de86+_0x3dc2c5;},'yYCXx':_0x513263(0x418),'ClPsz':_0x513263(0x302),'ZyLeX':_0x513263(0x3cc),'sYksx':function(_0x1a9972,_0x16633f){return _0x1a9972===_0x16633f;},'lNjUV':_0x513263(0x2fc),'iMwgR':function(_0x559c04,_0x1f0472){return _0x559c04===_0x1f0472;},'ljpHr':_0x513263(0x32b),'dejDZ':'dev','TYPwE':function(_0x4fdce2,_0x5b04e1){return _0x4fdce2(_0x5b04e1);},'vryuu':_0x513263(0x22f),'mqnMr':function(_0x16c1b5){return _0x16c1b5();},'fzkfm':function(_0x56ff7e){return _0x56ff7e();},'iKYSE':function(_0x30af9d,_0x2f6c7f){return _0x30af9d||_0x2f6c7f;},'OtShH':function(_0x36ddb2,_0x21baf7){return _0x36ddb2(_0x21baf7);},'cMPuF':function(_0x2dae12){return _0x2dae12();}};if(_0x4c112a[_0x513263(0x3e0)](!roomCode,!username))return alert(_0x513263(0x425)),_0x4c112a[_0x513263(0x2dd)](showScreen,_0x4c112a[_0x513263(0x3fb)]);_0x4c112a['cMPuF'](listenForPauseState),listenForUserList(),await loadRoomRoles(),listenForAnnouncement();const _0x4230d7=sanitizeUsername(username),_0x59f3b0=db['ref'](_0x513263(0x29c)+roomCode+'/'+_0x4230d7),_0x26b661={'username':username,'online':!![],'lastOnline':firebase[_0x513263(0x298)][_0x513263(0x3b9)][_0x513263(0x3ea)]};_0x59f3b0[_0x513263(0x3f6)](_0x26b661,_0x3e23f3=>{const _0x5421f8=_0x513263;if(_0x3e23f3)return _0x4c112a[_0x5421f8(0x28d)](alert,_0x4c112a[_0x5421f8(0x211)]),_0x4c112a[_0x5421f8(0x33e)](showScreen,_0x4c112a[_0x5421f8(0x3fb)]);_0x59f3b0[_0x5421f8(0x2e7)]()[_0x5421f8(0x392)]({'online':![],'lastOnline':Date[_0x5421f8(0x26f)]()});const _0x334a45=document['getElementById'](_0x4c112a['CghLB']);avatarBase64&&(_0x334a45[_0x5421f8(0x2c0)]=_0x4c112a[_0x5421f8(0x3a5)](_0x4c112a[_0x5421f8(0x2cc)],avatarBase64),_0x334a45[_0x5421f8(0x3e5)][_0x5421f8(0x3e7)]=_0x4c112a['ClPsz']),document[_0x5421f8(0x402)](_0x4c112a[_0x5421f8(0x367)])[_0x5421f8(0x1ff)]=username+'\x20'+getRoleTag(_0x4230d7),document[_0x5421f8(0x402)](_0x5421f8(0x267))[_0x5421f8(0x1fe)]=_0x4c112a[_0x5421f8(0x208)](roomCode,STATIC_ROOM)?_0x4c112a[_0x5421f8(0x2ea)]:roomCode,_0x4c112a[_0x5421f8(0x315)](role,_0x4c112a['ljpHr'])||role===_0x4c112a[_0x5421f8(0x39f)]?document[_0x5421f8(0x402)](_0x5421f8(0x375))[_0x5421f8(0x3e5)][_0x5421f8(0x3e7)]=_0x4c112a[_0x5421f8(0x321)]:document[_0x5421f8(0x402)](_0x5421f8(0x375))[_0x5421f8(0x3e5)][_0x5421f8(0x3e7)]=_0x5421f8(0x36a),_0x4c112a[_0x5421f8(0x231)](showScreen,_0x4c112a[_0x5421f8(0x3ad)]),_0x4c112a[_0x5421f8(0x393)](listenForMessages),_0x4c112a[_0x5421f8(0x335)](listenForTyping),_0x4c112a[_0x5421f8(0x335)](startInactivityTimer),_0x4c112a['mqnMr'](trackPresence);});}async function fetchProfile(_0x188a19){const _0x2d06cb=_0x1e9cbb,_0x199ef0=await db['ref'](_0x2d06cb(0x340)+_0x188a19)[_0x2d06cb(0x36e)]();if(!_0x199ef0[_0x2d06cb(0x25f)]())return null;return _0x199ef0[_0x2d06cb(0x33f)]();}function validateStaticRoomPassword(){const _0x76f74c=_0x1e9cbb,_0x566c0d={'GTkWs':function(_0x546ce0,_0x3299ff){return _0x546ce0===_0x3299ff;},'NWrVJ':function(_0x5c099f){return _0x5c099f();},'BVoMX':_0x76f74c(0x40d),'RlaIe':_0x76f74c(0x419),'dISwv':'block','fNgZU':function(_0xa3d0c5,_0x3391aa){return _0xa3d0c5(_0x3391aa);},'JjHUM':_0x76f74c(0x3a4),'jSSBj':_0x76f74c(0x2d1),'YmRxw':'Please\x20enter\x20the\x20password.'},_0x4bb3f5=document['getElementById'](_0x566c0d['jSSBj'])[_0x76f74c(0x2f5)]['trim']();if(!_0x4bb3f5){alert(_0x566c0d[_0x76f74c(0x24b)]);return;}db[_0x76f74c(0x373)]('gr8stg/'+STATIC_ROOM)['get']()[_0x76f74c(0x3f0)](_0x32e2f3=>{const _0x2d70fd=_0x76f74c;if(!_0x32e2f3[_0x2d70fd(0x25f)]()){alert('Room\x20password\x20not\x20set.\x20Cannot\x20join.');return;}const _0x462da5=_0x32e2f3[_0x2d70fd(0x33f)]();_0x566c0d[_0x2d70fd(0x35c)](_0x4bb3f5,_0x462da5)?(roomCode=STATIC_ROOM,_0x566c0d[_0x2d70fd(0x3d0)](startChat)):(document[_0x2d70fd(0x402)](_0x566c0d['BVoMX'])[_0x2d70fd(0x1fe)]=_0x566c0d[_0x2d70fd(0x41f)],document['getElementById']('passwordError')[_0x2d70fd(0x3e5)][_0x2d70fd(0x3e7)]=_0x566c0d[_0x2d70fd(0x380)]);})['catch'](_0x2faf64=>{const _0x25f863=_0x76f74c;console[_0x25f863(0x400)](_0x2faf64),_0x566c0d[_0x25f863(0x31b)](alert,_0x566c0d[_0x25f863(0x2c3)]);});}function listenForPauseState(){const _0x53e983=_0x1e9cbb,_0x439b31={'GKnCN':function(_0x45358e,_0x13fc2f){return _0x45358e===_0x13fc2f;},'FMvUr':_0x53e983(0x242),'wzYLT':_0x53e983(0x302),'PEIaX':_0x53e983(0x2f5)};db[_0x53e983(0x373)](_0x53e983(0x3b7)+roomCode+_0x53e983(0x259))['on'](_0x439b31[_0x53e983(0x345)],_0x3003be=>{const _0x44243b=_0x53e983,_0x44a0c6=_0x3003be[_0x44243b(0x25f)]()&&_0x439b31[_0x44243b(0x357)](_0x3003be[_0x44243b(0x33f)](),!![]);document[_0x44243b(0x402)](_0x439b31[_0x44243b(0x20c)])['style'][_0x44243b(0x3e7)]=_0x44a0c6?_0x439b31[_0x44243b(0x21b)]:'none';});}const spamTimestamps=[];async function sendMessage(){const _0x4e47c3=_0x1e9cbb,_0x993213={'nPaCy':'Type\x20a\x20message...','fEgPV':function(_0x548f96,_0x5648e9){return _0x548f96(_0x5648e9);},'yaeTQ':function(_0x317b55,_0x133531){return _0x317b55>_0x133531;},'tQAin':function(_0x40034c,_0x7afd2c){return _0x40034c===_0x7afd2c;},'rpBom':function(_0x381688,_0x2037b1){return _0x381688(_0x2037b1);},'sxSto':_0x4e47c3(0x3d4),'hLFTa':_0x4e47c3(0x2ed),'VZRwL':function(_0xab2ae2,_0x36739e){return _0xab2ae2||_0x36739e;},'PbdvC':_0x4e47c3(0x225),'sGWKz':_0x4e47c3(0x226),'kcImG':function(_0x2c1b96,_0x417aa5,_0xf5212e){return _0x2c1b96(_0x417aa5,_0xf5212e);},'yVDDS':function(_0x4ebfce,_0x30e63e){return _0x4ebfce(_0x30e63e);},'QwSbx':_0x4e47c3(0x27a)},_0x30f917=await db[_0x4e47c3(0x373)](_0x4e47c3(0x29f)+roomCode+'/'+_0x993213['fEgPV'](sanitizeUsername,username))['get'](),_0x214ae5=await db['ref'](_0x4e47c3(0x3b7)+roomCode+_0x4e47c3(0x259))['get']();if(_0x30f917['exists']()&&_0x993213[_0x4e47c3(0x284)](_0x30f917[_0x4e47c3(0x33f)](),Date[_0x4e47c3(0x26f)]())){alert(_0x4e47c3(0x3a9));return;}if(_0x214ae5[_0x4e47c3(0x25f)]()&&_0x993213[_0x4e47c3(0x37a)](_0x214ae5['val'](),!![])&&role!==_0x4e47c3(0x207)){_0x993213[_0x4e47c3(0x370)](alert,_0x993213[_0x4e47c3(0x2b8)]);return;}const _0x1bd774=document[_0x4e47c3(0x402)](_0x993213['hLFTa']),_0x44ccbb=_0x1bd774['value']['trim']();if(_0x993213[_0x4e47c3(0x2a5)](!_0x44ccbb,isBlocked))return;const _0x2a1041=Date[_0x4e47c3(0x26f)](),_0x2f49df=_0x44ccbb[_0x4e47c3(0x22c)](),_0x37a595=swearWords[_0x4e47c3(0x405)](_0x34cf98=>_0x2f49df[_0x4e47c3(0x309)](_0x34cf98));if(_0x37a595){_0x993213[_0x4e47c3(0x359)](alert,_0x993213['PbdvC']);return;}spamTimestamps[_0x4e47c3(0x410)](_0x2a1041);const _0x19520b=spamTimestamps[_0x4e47c3(0x274)](_0x3e38ca=>_0x2a1041-_0x3e38ca<0x1b58);if(_0x19520b['length']>0x5){const _0x1be9ba=_0x993213[_0x4e47c3(0x1fc)][_0x4e47c3(0x385)]('|');let _0x447adf=0x0;while(!![]){switch(_0x1be9ba[_0x447adf++]){case'0':return;case'1':_0x1bd774['disabled']=!![];continue;case'2':_0x993213[_0x4e47c3(0x3a0)](setTimeout,()=>{const _0x59dd5b=_0x4e47c3;isBlocked=![],_0x1bd774[_0x59dd5b(0x2b7)]=![],_0x1bd774[_0x59dd5b(0x35b)]=_0x993213['nPaCy'],spamTimestamps['length']=0x0;},0x7530);continue;case'3':_0x1bd774[_0x4e47c3(0x35b)]=_0x4e47c3(0x350);continue;case'4':isBlocked=!![];continue;case'5':_0x993213[_0x4e47c3(0x3ee)](alert,_0x993213[_0x4e47c3(0x228)]);continue;}break;}}const _0x1ee261=localStorage[_0x4e47c3(0x305)]('avatar_base64')||'',_0xec9e=db[_0x4e47c3(0x373)]()['push']()['key'];db[_0x4e47c3(0x373)](_0x4e47c3(0x25a)+roomCode+_0x4e47c3(0x229)+_0xec9e)[_0x4e47c3(0x3f6)]({'msg':_0x44ccbb,'sender':username,'senderId':clientId,'avatarBase64':_0x1ee261,'timestamp':_0x2a1041}),_0x1bd774[_0x4e47c3(0x2f5)]='',sendTyping(!![]),lastActivity=_0x2a1041;}function listenForMessages(){const _0x25026d=_0x1e9cbb,_0x1268f0={'tVJim':function(_0x8bf56e,_0xa8833e,_0x31064a,_0x16241e){return _0x8bf56e(_0xa8833e,_0x31064a,_0x16241e);},'tPgcy':function(_0xbfb6fd,_0x5ab43e){return _0xbfb6fd===_0x5ab43e;},'Oimbe':function(_0x134b7a,_0x398bd9,_0x19d97e,_0x12b107){return _0x134b7a(_0x398bd9,_0x19d97e,_0x12b107);},'HuwoC':function(_0x1c7203,_0x56cf5e){return _0x1c7203!==_0x56cf5e;},'SwISS':function(_0x3edb00,_0x5b1bbb,_0x36a6fd){return _0x3edb00(_0x5b1bbb,_0x36a6fd);},'lSqyq':_0x25026d(0x275),'iqbQg':'child_added'},_0x101e24=db[_0x25026d(0x373)](_0x25026d(0x25a)+roomCode+_0x25026d(0x3c1)),_0x2d1014=_0x101e24[_0x25026d(0x2b6)](MAX_MESSAGES);userListReady=!![],_0x2d1014['on'](_0x1268f0[_0x25026d(0x2df)],_0x1cdda3=>{const _0xeb22bb=_0x25026d,_0x455966={'GvGGl':function(_0x153467,_0x4a7481,_0x244da2,_0x2b5eab){const _0x8a7ad2=_0x4994;return _0x1268f0[_0x8a7ad2(0x2db)](_0x153467,_0x4a7481,_0x244da2,_0x2b5eab);}},_0x2b61d3=_0x1cdda3[_0xeb22bb(0x33f)](),{senderId:_0x70891}=_0x2b61d3,_0x4c5e80=_0x1268f0[_0xeb22bb(0x35e)](_0x70891,clientId);if(!userListReady){pendingMessages[_0xeb22bb(0x333)](({data:_0xaadebe,sent:_0xc3b9aa,key:_0x579638})=>{const _0x32af56=_0xeb22bb;_0x455966[_0x32af56(0x21f)](addMessage,_0xaadebe,_0xc3b9aa,_0x579638);}),pendingMessages=[];return;}const _0x50d74f=_0x2b61d3[_0xeb22bb(0x2f3)]||null,_0x236cc6=_0x2b61d3['audioBase64']||null;_0x1268f0['Oimbe'](addMessage,_0x2b61d3,_0x4c5e80,_0x1cdda3[_0xeb22bb(0x1f7)]),_0x1268f0[_0xeb22bb(0x300)](roomCode,STATIC_ROOM)&&db[_0xeb22bb(0x373)](_0xeb22bb(0x25a)+roomCode+_0xeb22bb(0x229)+_0x1cdda3[_0xeb22bb(0x1f7)])[_0xeb22bb(0x377)](),!_0x4c5e80&&(sound[_0xeb22bb(0x326)](),flagPageAttention()),notificationsEnabled&&!_0x4c5e80&&_0x1268f0['SwISS'](stackNotification,_0x2b61d3[_0xeb22bb(0x2c1)],_0x2b61d3[_0xeb22bb(0x328)]||(_0x2b61d3['audioBase64']?_0xeb22bb(0x209):_0x1268f0[_0xeb22bb(0x2e8)]));});}function stackNotification(_0x48d7c0,_0x1c60c9){const _0x291c06=_0x1e9cbb,_0x437e0d={'XvgWr':function(_0x2ccc1e){return _0x2ccc1e();},'XbpbF':function(_0x272b2c,_0xfd883f){return _0x272b2c(_0xfd883f);}};notificationStack[_0x291c06(0x410)]({'sender':_0x48d7c0,'content':_0x1c60c9}),_0x437e0d['XbpbF'](clearTimeout,notificationTimer),notificationTimer=setTimeout(()=>{_0x437e0d['XvgWr'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x3493b6=_0x1e9cbb,_0x45e4b3={'Rjdhh':_0x3493b6(0x255),'BomTh':function(_0x3c8401,_0x4f6119){return _0x3c8401!==_0x4f6119;},'XGwTx':_0x3493b6(0x343),'TjefN':function(_0xcc0e99,_0x27a80b){return _0xcc0e99||_0x27a80b;},'eoxDZ':_0x3493b6(0x3ff),'rnEET':function(_0x5e82f8,_0x431227){return _0x5e82f8===_0x431227;},'WJsPZ':function(_0x4821ef,_0x581dfa,_0x328702){return _0x4821ef(_0x581dfa,_0x328702);}};if(!notificationStack[_0x3493b6(0x364)]||_0x45e4b3[_0x3493b6(0x29a)](Notification['permission'],_0x45e4b3[_0x3493b6(0x2ae)]))return;const _0x35577e=[...new Set(notificationStack['map'](_0x54d0e4=>_0x54d0e4[_0x3493b6(0x2c1)]))],_0x5bcea9=_0x45e4b3[_0x3493b6(0x36c)](roomCode,_0x45e4b3['eoxDZ']),_0x1efa8a=_0x45e4b3[_0x3493b6(0x3c2)](_0x35577e[_0x3493b6(0x364)],0x1)?_0x3493b6(0x21d)+_0x35577e[0x0]+_0x3493b6(0x217)+_0x5bcea9+':\x20'+notificationStack[0x0][_0x3493b6(0x2b9)]:_0x3493b6(0x249)+_0x35577e['join'](',\x20')+_0x3493b6(0x217)+_0x5bcea9;_0x45e4b3[_0x3493b6(0x40c)](setTimeout,()=>{const _0x50db47=_0x3493b6;new Notification('New\x20Chat\x20Message',{'body':_0x1efa8a,'icon':_0x45e4b3[_0x50db47(0x215)]});},0x64);}async function addMessage(_0x1fff7f,_0x25ac23,_0xddf536=null){const _0x5e1b55=_0x1e9cbb,_0x43b24b={'HKmdI':function(_0x197e52,_0xa73f76){return _0x197e52(_0xa73f76);},'KIGgE':_0x5e1b55(0x2bd),'FSlXK':_0x5e1b55(0x328),'JjBVl':_0x5e1b55(0x310),'qOuPA':'2-digit','Vfefw':function(_0x1d25ca,_0x36fa45){return _0x1d25ca(_0x36fa45);},'VymBq':_0x5e1b55(0x32e)},{msg:_0x2907cc,sender:_0xd185bc,senderId:_0x17fe3f,timestamp:_0x4428a5,audioUrl:_0x1ec40b,audioBase64:_0x3f3195,imageBase64:_0x56f81d}=_0x1fff7f,_0x36230a=_0x43b24b[_0x5e1b55(0x363)](sanitizeUsername,_0xd185bc),_0x416554=document[_0x5e1b55(0x3e6)](_0x43b24b[_0x5e1b55(0x2c7)]);_0x416554[_0x5e1b55(0x1fa)][_0x5e1b55(0x2e1)](_0x43b24b[_0x5e1b55(0x3e1)],_0x25ac23?_0x5e1b55(0x1fb):_0x43b24b[_0x5e1b55(0x20b)]);const _0x37b974=new Date(_0x4428a5)[_0x5e1b55(0x2c5)]([],{'hour':_0x43b24b[_0x5e1b55(0x277)],'minute':_0x43b24b[_0x5e1b55(0x277)]}),_0xf770d=getRoleTag(_0x36230a),_0x22646a=_0x43b24b['HKmdI'](sanitizeUsername,_0xd185bc),_0x5615b9=roomUsers[_0x22646a]||{},_0x340577=await fetchAvatar(_0x43b24b[_0x5e1b55(0x342)](sanitizeUsername,_0xd185bc)),_0x2babc7=_0x340577?'<img\x20src=\x22data:image/png;base64,'+_0x340577+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x4f658e=_0x2babc7+_0x5e1b55(0x3fc)+_0xd185bc+'\x20'+_0xf770d+_0x5e1b55(0x401);msgEl[_0x5e1b55(0x1ff)]=_0x4f658e+_0x5e1b55(0x2fd)+text,content+='<br>';const _0x17eee7=_0x2907cc?.[_0x5e1b55(0x387)](new RegExp('@'+username+'\x5cb','gi'),_0x5e1b55(0x2a9));if(_0x1ec40b)content+=_0x5e1b55(0x2ee)+_0x1ec40b+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x3f3195){const _0x381168=_0x5e1b55(0x38e)+_0x3f3195;content+=_0x5e1b55(0x2ee)+_0x381168+_0x5e1b55(0x415);}else{if(_0x56f81d){const _0x1da3d6=_0x5e1b55(0x418)+_0x56f81d;content+=_0x5e1b55(0x351)+_0x1da3d6+'\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>';}else content+='<div>'+_0x17eee7+_0x5e1b55(0x3d7);}}content+=_0x5e1b55(0x28b)+_0x37b974+_0x5e1b55(0x3ec),_0x416554['innerHTML']=content;const _0x4f1b7b=document[_0x5e1b55(0x402)](_0x43b24b[_0x5e1b55(0x213)]);_0x4f1b7b[_0x5e1b55(0x232)](_0x416554),_0x4f1b7b['scrollTop']=_0x4f1b7b[_0x5e1b55(0x39e)];}function cleanupOldRooms(){const _0x47cf81=_0x1e9cbb,_0x4836d0={'CwqMl':function(_0x1eef66,_0x18d31c){return _0x1eef66!==_0x18d31c;},'Fafiz':function(_0x28f5c6,_0x12e468){return _0x28f5c6===_0x12e468;},'HCxey':function(_0x40129d,_0x43ab64){return _0x40129d>_0x43ab64;},'glPmx':function(_0x18ec0b,_0x35f953){return _0x18ec0b-_0x35f953;},'nxiRd':function(_0x42bccd,_0x2680e7){return _0x42bccd*_0x2680e7;},'NDTTe':function(_0xbd2994,_0x24f9a4){return _0xbd2994*_0x24f9a4;},'MYxwo':function(_0x115c50,_0x54619e){return _0x115c50+_0x54619e;},'sXyTb':_0x47cf81(0x2f5),'wPVGm':_0x47cf81(0x38d),'lsJqB':_0x47cf81(0x297)};db[_0x47cf81(0x373)](_0x4836d0[_0x47cf81(0x238)])[_0x47cf81(0x407)]('value')[_0x47cf81(0x3f0)](_0x180979=>{const _0xac5779=_0x47cf81,_0x1d45a9={'OTrRx':function(_0x25ccb8,_0x43b70d){return _0x25ccb8!==_0x43b70d;}},_0x4bf6e6=_0x180979[_0xac5779(0x33f)]();if(!_0x4bf6e6)return;const _0x47cee1=Date[_0xac5779(0x26f)]();for(const _0x455d88 in _0x4bf6e6){if(_0x4836d0[_0xac5779(0x235)](_0x455d88,STATIC_ROOM))continue;const _0x9cbebb=_0x4bf6e6[_0x455d88];_0x4836d0[_0xac5779(0x20a)](_0x4836d0[_0xac5779(0x36d)](_0x47cee1,_0x9cbebb[_0xac5779(0x33a)]||0x0),_0x4836d0[_0xac5779(0x3f3)](_0x4836d0[_0xac5779(0x3d5)](0x2,0x3c),0x3e8))&&db[_0xac5779(0x373)](_0x4836d0[_0xac5779(0x204)](_0xac5779(0x25a),_0x455d88))[_0xac5779(0x377)]();}db[_0xac5779(0x373)]('antispam')['once'](_0x4836d0[_0xac5779(0x3d3)])[_0xac5779(0x3f0)](_0x7773be=>{const _0x407698=_0xac5779,_0x4a4d73=_0x7773be['val']();if(!_0x4a4d73)return;for(const _0x1e917a in _0x4a4d73){if(_0x4836d0[_0x407698(0x2e9)](_0x1e917a,STATIC_ROOM))db['ref'](_0x407698(0x223)+_0x1e917a)[_0x407698(0x377)]();}}),db[_0xac5779(0x373)](_0x4836d0[_0xac5779(0x281)])[_0xac5779(0x407)](_0x4836d0['sXyTb'])[_0xac5779(0x3f0)](_0x45dd0b=>{const _0x41cc13=_0xac5779,_0xfec1cf=_0x45dd0b[_0x41cc13(0x33f)]();if(!_0xfec1cf)return;for(const _0x275a44 in _0xfec1cf){if(_0x1d45a9['OTrRx'](_0x275a44,STATIC_ROOM))db[_0x41cc13(0x373)](_0x41cc13(0x3af)+_0x275a44)[_0x41cc13(0x377)]();}});});}function _0x1738(){const _0x3907de=['length','hiYSs','Failed\x20to\x20register\x20user\x20into\x20room.','ZyLeX','mute','bzfHO','none','promote','TjefN','glPmx','get','pendejo','rpBom','kTQJE','bCViP','ref','profileError','addAnnouncementBtn','floor','remove','UryeT','admins/','tQAin','<button\x20onclick=\x22muteUser(\x27','kUCNu','Session\x20expired.','profileDescriptionInput','\x0aDescription:\x20','dISwv','mNqzU','Failed\x20to\x20save\x20profile:','DRMgd','coño','split','caralho','replace','flex','\x27)\x22>Promote\x20to\x20Admin</button>','files','\x27)\x22>Delete\x20Messages</button>','profileContent','antispamBlocked','data:audio/webm;base64,','QeyzY','KNxgH','typing','update','mqnMr','👤\x20','6|2|4|0|5|3|7|1','gVHbM','UsiJH','DnMEC','oCGVF','CYJoO','requestPermission','subtle','Fyeeo','scrollHeight','dejDZ','kcImG','QHErz','ACPqT','YvnpB','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','YLhQM','ehlfJ','186921ZMFKcn','2993320RNpqtD','You\x20are\x20muted.','IfsZY','Remove\x20Announcement?','IcBoW','vryuu','Passwords\x20do\x20not\x20match.','antispamBlocked/','ulol','easy-chatroom','Niayt','keypress','QBdLr','trim','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20','roomStates/','chat_username','ServerValue','Please\x20enter\x20your\x20current\x20password.','editProfileError','BslfG','qAiqc','toString','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','tyMSI','/messages','rnEET','Enter\x20a\x20valid\x20room\x20code','userList','deleteMessage','from','dgDPY','MjSic','lVpfb','ZxUgo','XsOMw','userDisplay','krtVi','npmMD','rGLjt','NWrVJ','oZBIJ','xKyPk','sXyTb','Room\x20is\x20currently\x20paused.','NDTTe','LzNIP','</div>','gilipollas','emcKg','XRymW','lGlNA','authScreen','PPfUx','volume','/avatarBase64','iKYSE','FSlXK','heKzy','asrli','CWwVG','style','createElement','display','bobo','VkWgO','TIMESTAMP','clpUx','</small>','role','yVDDS','\x27,\x205)\x22>Mute\x205m</button>','then','DaYOZ','vCzZi','nxiRd','easy-chatroom.firebasestorage.app','rxwar','set','KTOKF','ncmws','2UVqebX','SORba','otpwP','<span\x20class=\x22sender-name\x22>','[Voice\x20message]','color','unknown','error','</span>','getElementById','Einpp','<button\x20onclick=\x22deleteUserMessages(\x27','some','vItQv','once','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','porra','3046728HJshRg','flagPageAttention','WJsPZ','passwordError','eZpmH','CCpet','push','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','aFPgl','XgLXF','authUsername','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','242908ZnLRSs','easy-chatroom.firebaseapp.com','data:image/png;base64,','Incorrect\x20password','click','PbQEp','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','WOpuV','cXLUf','RlaIe','WyIZw','\x20promoted\x20to\x20Moderator!','recordBtn','mierda','TZntm','Missing\x20room\x20or\x20user\x20information.','xzIIm','mxGlh','description','ApDRS','tPgwy','putang\x20ina','Register','Vizdn','userOptions-','notifToggleBtn','EfYft','mpiox','yPJnU','NTCbc','ondataavailable','usernameHistory','Error\x20checking\x20username:','key','ChbeM','SSDgb','classList','sent','sGWKz','jVYIJ','innerText','innerHTML','title','IZAWp','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','BxbhM','MYxwo','hidden','VhAyr','dev','sYksx','[Voice\x20Message]','HCxey','JjBVl','FMvUr','vGBUl','<button\x20onclick=\x22promoteToAdmin(\x27','UeWOv','jwALU','mCEpP','XDYXk','VymBq','preventDefault','Rjdhh','anwyd','\x20in\x20room\x20','dnZCw','username','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','wzYLT','authPassword','You\x20got\x20a\x20message\x20from\x20','lJPDR','GvGGl','QanCg','roomChoiceScreen','ZDZNw','antispam/','ExUCB','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','4|1|3|5|2|0','ODsHq','QwSbx','/messages/','userSidebar','warn','toLowerCase','state','55788bVccOC','chatScreen','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','TYPwE','appendChild','border','authPasswordConfirm','Fafiz','authAvatarPreview','mfAAX','lsJqB','TZqPu','Incorrect\x20password.','PfFcq','contains','profile_description','profileUsernameInput','catch','passwordScreen','vitVM','pausedOverlay','user','\x20deleted.','FYjec','IUJNL','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','You\x20got\x20messages\x20from\x20','LEYNe','YmRxw','mediaDevices','tPpwc','\x20is\x20typing...','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','entries','ZiMUI','QSRFC','\x27)\x22>Promote\x20to\x20Moderator</button>','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','🔕\x20Disable\x20Notifications','KPhnH','addEventListener','/paused','rooms/','digest','lLXXR','readAsDataURL','\x27)\x22>+Mod</button>','exists','fkRnx','115LMvRJZ','authTitle','authError','No\x20bio\x20set','dmPod','jYpYh','roomDisplay','jRRYL','qwiJO','IfTzr','cunt','mkUky','SqypS','oAEGT','now','MBRXh','Enter\x20your\x20new\x20username:','Tdwis','KzUwp','filter','[Unknown\x20Message]','bbbII','qOuPA','sidebarAvatarPreview','eCOeJ','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','oaUNb','padStart','40SVOEGn','SqTGf','Username\x20already\x20exists.','all','wPVGm','AuDbp','<button\x20onclick=\x22promoteToModerator(\x27','yaeTQ','nvsUP','aqJtV','uSoKC','QwsQV','✅\x20Profile\x20updated!\x20Please\x20reload.','onloadend','<small>','WDPvR','vVZTI','2px\x20solid\x20red','oTOZG','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','clear','encode','otario','vOTwt','XMoEg','wriVD','rooms','database','editProfileScreen','BomTh','join','users/','tangina','cvdDE','muted/','profiles/','DPZDZ','equalTo','WgOYL','YsMaE','VZRwL','nMvRZ','MyrKb','width','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','pushState','authAvatar','#00ff88','Please\x20fill\x20in\x20all\x20fields.','XGwTx','ycsxu','YrweU','roomCodeInput','334506jIzoqQ','ZHKKF','JGpVb','fNyDh','limitToLast','disabled','sxSto','content','1:985049198428:web:d0eb7e2de39887710c9b99','VRzul','permission','div','codeEntryScreen','🎙️','src','sender','dXPWr','JjHUM','JSVEf','toLocaleTimeString','saVTy','KIGgE','gBIBw','usernameScreen','AZxAG','gMdiN','yYCXx','dick','<img\x20src=\x22data:image/png;base64,','values','namePreview','staticPasswordInput','⚠️\x20Failed\x20to\x20update\x20avatar.','fAjvX','yiNgv','show','BsoZD','uEAAV','eqBLD','RsUwH','toUpperCase','tVJim','cabron','OtShH','setItem','iqbQg','input','add','wBBqR','qxsCf','2820501hVDEeR','typing/','mdYMG','onDisconnect','lSqyq','CwqMl','lNjUV','ehdxQ','</li>','msgInput','<audio\x20controls\x20src=\x22','fFTDV','\x20minutes.','start','/announcement','audioUrl','PESxS','value','height','kKGaJ','Incorrect\x20current\x20password.','visibilitychange','vIEPf','🔔\x20Enable\x20Notifications','No\x20room\x20code\x20available\x20for\x20private\x20rooms','<br>','mTZwT','SHA-256','HuwoC','bastard','block','NmtCN','sounds/beep.mp3','getItem','getUserMedia','result','LLYAr','includes','Nyfdh','yqcFx','TFNPD','GADtC','SJVpq','cFBAj','received','🔧\x20','Mzbsc','Profile\x20not\x20found.','qTcqe','iMwgR','xgxvp','PizHy','rHmgs','editBioInput','bwisit','fNgZU','random','substr','userAgent','BCetn','PYeee','ClPsz','\x20promoted\x20to\x20Admin!','MCjTE','https://easy-chatroom-default-rtdb.firebaseio.com','ppxVm','play','lastChanged','msg','avatarBase64','rdxNS','admin','data','myQym','messages','SHsdJ','No\x20changes\x20yet','newPasswordInput','map','forEach','Admins\x20only.','fzkfm','stop','authDescription','profileViewer','goDlQ','created','gago','passwordHash','profileScreen','aBRmA','val','auth/','onlineStatus','Vfefw','granted','vsDLS','PEIaX','\x0aName:\x20','TMcUU','jYVaf','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','YXVGH','GLCnz','moderator','050BBB66HH','✅\x20Profile\x20picture\x20updated!','Microphone\x20permission\x20denied.','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','<img\x20src=\x22','wCaZJ','vVDPi','TUbuH','dJkCj','GRmDO','GKnCN','merda','fEgPV','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','placeholder','GTkWs','oaFqs','tPgcy','Enter\x20Announcement\x20Text:','orderByChild','putangina','ofYJh','HKmdI'];_0x1738=function(){return _0x3907de;};return _0x1738();}document['addEventListener']('DOMContentLoaded',()=>{const _0xdac866=_0x1e9cbb,_0x5c795d={'oMaQU':function(_0x6277e8,_0x3ed31c){return _0x6277e8===_0x3ed31c;},'asrli':'Enter','Fyeeo':_0xdac866(0x2ed),'fNyDh':_0xdac866(0x3b3)},_0x36fa9f=document['getElementById'](_0x5c795d[_0xdac866(0x39d)]);_0x36fa9f&&_0x36fa9f[_0xdac866(0x258)](_0x5c795d[_0xdac866(0x2b5)],function(_0x42d134){const _0x2da316=_0xdac866;_0x5c795d['oMaQU'](_0x42d134['key'],_0x5c795d[_0x2da316(0x3e3)])&&(_0x42d134[_0x2da316(0x214)](),sendMessage());});});function showScreen(_0x123fdd){const _0x54592b=_0x1e9cbb,_0x2a0598={'CFEmu':'none','uDcdu':_0x54592b(0x2c9),'DRMgd':_0x54592b(0x221),'yDVFC':_0x54592b(0x2be),'kdEoa':_0x54592b(0x22f),'WQJnd':_0x54592b(0x33d),'MyrKb':_0x54592b(0x338),'IUJNL':'authScreen','yiNgv':_0x54592b(0x388)};[_0x2a0598['uDcdu'],_0x2a0598[_0x54592b(0x383)],_0x2a0598['yDVFC'],_0x2a0598['kdEoa'],_0x54592b(0x240),_0x2a0598['WQJnd'],_0x2a0598[_0x54592b(0x2a7)],_0x2a0598[_0x54592b(0x246)]][_0x54592b(0x333)](_0x55d9c1=>{const _0x253f70=_0x54592b;document[_0x253f70(0x402)](_0x55d9c1)[_0x253f70(0x3e5)][_0x253f70(0x3e7)]=_0x2a0598['CFEmu'];}),document['getElementById'](_0x123fdd)['style'][_0x54592b(0x3e7)]=_0x2a0598[_0x54592b(0x2d4)];}function genRoomCode(){const _0x2daf15=_0x1e9cbb,_0x1ced3e={'vCzZi':'0123456789','wrLiH':function(_0x51d25b,_0x447a47){return _0x51d25b+_0x447a47;},'aFPgl':function(_0x11eb8c,_0x4ae5d8,_0x594de2){return _0x11eb8c(_0x4ae5d8,_0x594de2);},'krtVi':function(_0x30e993,_0x51c2c8,_0x4f06c8){return _0x30e993(_0x51c2c8,_0x4f06c8);},'vsDLS':function(_0x3738f1,_0x7b321f,_0x161c11){return _0x3738f1(_0x7b321f,_0x161c11);},'rHmgs':function(_0x23562b,_0x20c5da,_0x22be14){return _0x23562b(_0x20c5da,_0x22be14);}},_0x24ff76='ABCDEFGHIJKLMNOPQRSTUVWXYZ',_0x47b5a2=_0x1ced3e[_0x2daf15(0x3f2)],_0x782005=(_0x2443f7,_0x5501da)=>Array[_0x2daf15(0x3c6)]({'length':_0x5501da},()=>_0x2443f7[Math[_0x2daf15(0x376)](Math[_0x2daf15(0x31c)]()*_0x2443f7[_0x2daf15(0x364)])])[_0x2daf15(0x29b)]('');return _0x1ced3e['wrLiH'](_0x1ced3e[_0x2daf15(0x412)](_0x782005,_0x47b5a2,0x3),_0x1ced3e[_0x2daf15(0x3cd)](_0x782005,_0x24ff76,0x3))+_0x1ced3e[_0x2daf15(0x344)](_0x782005,_0x47b5a2,0x2)+_0x1ced3e[_0x2daf15(0x318)](_0x782005,_0x24ff76,0x2);}function startInactivityTimer(){const _0x3fd585=_0x1e9cbb,_0x3bbc91={'PizHy':function(_0x9ddacf,_0x179c62){return _0x9ddacf>_0x179c62;},'eZpmH':function(_0xceee8f,_0x32bdb8){return _0xceee8f-_0x32bdb8;},'oAEGT':function(_0x4de645,_0x42d3ff){return _0x4de645*_0x42d3ff;},'mkUky':function(_0xc5f924,_0xe31b26){return _0xc5f924*_0xe31b26;},'cvdDE':function(_0x56e613,_0x3380cb){return _0x56e613+_0x3380cb;},'WOpuV':_0x3fd585(0x25a),'SDdtV':function(_0x1db919,_0x48183e){return _0x1db919(_0x48183e);},'lVpfb':_0x3fd585(0x37d),'wriVD':function(_0x3acbe1,_0x5470bc,_0x5291a7){return _0x3acbe1(_0x5470bc,_0x5291a7);}};_0x3bbc91[_0x3fd585(0x296)](setInterval,()=>{const _0x1dc99f=_0x3fd585;_0x3bbc91[_0x1dc99f(0x317)](_0x3bbc91[_0x1dc99f(0x40e)](Date['now'](),lastActivity),_0x3bbc91[_0x1dc99f(0x26e)](_0x3bbc91[_0x1dc99f(0x26c)](0x5,0x3c),0x3e8))&&roomCode!==STATIC_ROOM&&(db[_0x1dc99f(0x373)](_0x3bbc91[_0x1dc99f(0x29e)](_0x3bbc91[_0x1dc99f(0x41d)],roomCode))['update']({'active':![]}),_0x3bbc91['SDdtV'](alert,_0x3bbc91[_0x1dc99f(0x3c9)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x3c63f3=_0x1e9cbb,_0x1fafd9={'VjJKf':_0x3c63f3(0x22a),'SSDgb':_0x3c63f3(0x2d5),'uEAAV':'popstate'};window['addEventListener'](_0x1fafd9[_0x3c63f3(0x2d7)],()=>{const _0x36b737=_0x3c63f3,_0xedee1a=document[_0x36b737(0x402)](_0x1fafd9['VjJKf']);_0xedee1a?.['classList'][_0x36b737(0x23c)](_0x1fafd9[_0x36b737(0x1f9)])&&_0xedee1a[_0x36b737(0x1fa)][_0x36b737(0x377)](_0x36b737(0x2d5));});}function toggleSidebar(){const _0x3a04af=_0x1e9cbb,_0x96bea={'VmUlQ':_0x3a04af(0x22a),'ExUCB':_0x3a04af(0x2d5)},_0xe8971a=document[_0x3a04af(0x402)](_0x96bea['VmUlQ']);if(!_0xe8971a[_0x3a04af(0x1fa)]['contains'](_0x96bea[_0x3a04af(0x224)]))_0xe8971a[_0x3a04af(0x1fa)][_0x3a04af(0x2e1)](_0x96bea[_0x3a04af(0x224)]),history[_0x3a04af(0x2aa)]({'sidebarOpen':!![]},'');else{_0xe8971a[_0x3a04af(0x1fa)][_0x3a04af(0x377)](_0x96bea[_0x3a04af(0x224)]);if(history[_0x3a04af(0x22d)]?.['sidebarOpen'])history['back']();}}function setupVisibilityAttention(){const _0xe7a87d=_0x1e9cbb,_0x413a10={'rGLjt':_0xe7a87d(0x2f9)};let _0x581e44=0x0,_0x4c3f99=document[_0xe7a87d(0x200)];document[_0xe7a87d(0x258)](_0x413a10[_0xe7a87d(0x3cf)],()=>{const _0x464ca2=_0xe7a87d;!document[_0x464ca2(0x205)]&&(document[_0x464ca2(0x200)]=_0x4c3f99,_0x581e44=0x0);}),window[_0xe7a87d(0x40b)]=function(){const _0x57f356=_0xe7a87d;document[_0x57f356(0x205)]&&(_0x581e44++,document[_0x57f356(0x200)]='('+_0x581e44+')\x20New\x20message\x20•\x20'+_0x4c3f99);};}function tryEditProfile(){const _0x41e147=_0x1e9cbb,_0x15da7f={'ofYJh':'editProfileScreen','vOTwt':_0x41e147(0x388)};document[_0x41e147(0x402)](_0x15da7f[_0x41e147(0x362)])['style']['display']=_0x15da7f[_0x41e147(0x294)];}async function submitEditProfile(){const _0x3691d1=_0x1e9cbb,_0x9bc93c={'jRRYL':'oldPasswordInput','vVJxR':_0x3691d1(0x331),'goDlQ':_0x3691d1(0x319),'yWhbC':_0x3691d1(0x3bb),'CYJoO':_0x3691d1(0x3ba),'cXLUf':function(_0x5ef9fa,_0x41e77e){return _0x5ef9fa(_0x41e77e);},'GADtC':_0x3691d1(0x302),'PYeee':_0x3691d1(0x2f8),'oZBIJ':function(_0x480cf2,_0x37f32c){return _0x480cf2(_0x37f32c);},'nvsUP':function(_0x3a9008,_0x443865){return _0x3a9008*_0x443865;},'SqypS':function(_0x1fb586,_0x35a2d0){return _0x1fb586*_0x35a2d0;},'bCViP':function(_0x48bd30,_0x529821){return _0x48bd30>_0x529821;},'PbQEp':function(_0x28290c,_0x5d7145){return _0x28290c-_0x5d7145;},'YvnpB':function(_0x3be6bd,_0xd2a9f6){return _0x3be6bd(_0xd2a9f6);},'IZAWp':'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','IfTzr':_0x3691d1(0x271),'lGlNA':function(_0x1d39d4,_0x56b630){return _0x1d39d4!==_0x56b630;}},_0x5a9642=document[_0x3691d1(0x402)](_0x9bc93c[_0x3691d1(0x268)])['value'],_0x553a8d=document['getElementById'](_0x9bc93c['vVJxR'])['value'],_0x91100e=document[_0x3691d1(0x402)](_0x9bc93c[_0x3691d1(0x339)])[_0x3691d1(0x2f5)]['trim'](),_0x56a153=document[_0x3691d1(0x402)](_0x9bc93c['yWhbC']);if(!_0x5a9642){_0x56a153[_0x3691d1(0x1fe)]=_0x9bc93c[_0x3691d1(0x39a)],_0x56a153[_0x3691d1(0x3e5)]['display']=_0x3691d1(0x302);return;}const _0x3ad593=_0x9bc93c[_0x3691d1(0x41e)](sanitizeUsername,username),_0x169ccd=await db[_0x3691d1(0x373)](_0x3691d1(0x340)+_0x3ad593)[_0x3691d1(0x36e)]();if(!_0x169ccd[_0x3691d1(0x25f)]()){_0x56a153['innerText']='Profile\x20not\x20found.',_0x56a153[_0x3691d1(0x3e5)][_0x3691d1(0x3e7)]=_0x9bc93c[_0x3691d1(0x30d)];return;}const _0x1718b6=_0x169ccd['val'](),_0x58d7fb=await _0x9bc93c['cXLUf'](sha256,_0x5a9642);if(_0x58d7fb!==_0x1718b6[_0x3691d1(0x33c)]){_0x56a153[_0x3691d1(0x1fe)]=_0x9bc93c[_0x3691d1(0x320)],_0x56a153['style'][_0x3691d1(0x3e7)]=_0x3691d1(0x302);return;}const _0x1d694e={};if(_0x553a8d){const _0x25d749=await _0x9bc93c[_0x3691d1(0x3d1)](sha256,_0x553a8d);_0x1d694e['passwordHash']=_0x25d749;}_0x91100e!==_0x1718b6[_0x3691d1(0x428)]&&(_0x1d694e[_0x3691d1(0x428)]=_0x91100e);const _0x426a08=Date[_0x3691d1(0x26f)](),_0x8f822b=_0x9bc93c[_0x3691d1(0x285)](_0x9bc93c[_0x3691d1(0x26d)](_0x9bc93c[_0x3691d1(0x285)](0x18,0x3c),0x3c),0x3e8),_0x3c5eae=_0x9bc93c[_0x3691d1(0x372)](_0x9bc93c[_0x3691d1(0x41b)](_0x426a08,_0x1718b6[_0x3691d1(0x327)]||0x0),_0x8f822b);if(_0x3c5eae&&_0x9bc93c[_0x3691d1(0x3a3)](confirm,_0x9bc93c[_0x3691d1(0x201)])){const _0x53cc9d=prompt(_0x9bc93c[_0x3691d1(0x26a)]);_0x53cc9d&&_0x53cc9d[_0x3691d1(0x3b5)]()&&(_0x1d694e[_0x3691d1(0x219)]=_0x53cc9d['trim'](),_0x1d694e[_0x3691d1(0x1f5)]=(_0x1718b6[_0x3691d1(0x1f5)]||[])['concat'](_0x53cc9d['trim']()),_0x1d694e['lastChanged']=_0x426a08);}_0x1d694e[_0x3691d1(0x219)]&&_0x9bc93c[_0x3691d1(0x3db)](_0x1d694e[_0x3691d1(0x219)],_0x1718b6[_0x3691d1(0x219)])?(await db[_0x3691d1(0x373)](_0x3691d1(0x340)+sanitizeUsername(_0x1d694e[_0x3691d1(0x219)]))[_0x3691d1(0x3f6)]({..._0x1718b6,..._0x1d694e}),await db[_0x3691d1(0x373)](_0x3691d1(0x340)+_0x3ad593)[_0x3691d1(0x377)](),username=_0x1d694e[_0x3691d1(0x219)]):await db[_0x3691d1(0x373)](_0x3691d1(0x340)+_0x3ad593)[_0x3691d1(0x392)](_0x1d694e),alert(_0x3691d1(0x289)),location['reload']();}function cancelEditProfile(){const _0x4d3b39=_0x1e9cbb,_0x173517={'tWFSC':_0x4d3b39(0x36a)};document[_0x4d3b39(0x402)](_0x4d3b39(0x299))[_0x4d3b39(0x3e5)]['display']=_0x173517['tWFSC'],showScreen('chatScreen');}function listenForUserList(){const _0x139c6d=_0x1e9cbb,_0xe93932={'lvKuF':function(_0x4461cf){return _0x4461cf();},'SqTGf':function(_0x2b50e9,_0x3463e5){return _0x2b50e9(_0x3463e5);},'hgYJp':_0x139c6d(0x2f5)};db[_0x139c6d(0x373)](_0x139c6d(0x29c)+roomCode)['on'](_0xe93932['hgYJp'],async _0x1844dd=>{const _0x547fa4=_0x139c6d;if(!_0x1844dd['exists']())return;const _0x13bc85=_0x1844dd[_0x547fa4(0x33f)]();await _0xe93932['lvKuF'](loadRoomRoles),_0xe93932[_0x547fa4(0x27e)](renderUserLists,_0x13bc85);});}function trackPresence(){const _0x3ca662=_0x1e9cbb,_0x25c985={'Nyfdh':function(_0x4cef3a,_0x2be3c4){return _0x4cef3a(_0x2be3c4);},'ZiMUI':function(_0x5928cf,_0xfd6764){return _0x5928cf||_0xfd6764;},'LzNIP':function(_0x58019b,_0x509656){return _0x58019b||_0x509656;}};if(!username||!roomCode)return;const _0x3c96f4=_0x25c985[_0x3ca662(0x30a)](sanitizeUsername,username),_0x7309e1=db[_0x3ca662(0x373)](_0x3ca662(0x29c)+roomCode+'/'+_0x3c96f4),_0x249075={'username':username,'avatarBase64':_0x25c985[_0x3ca662(0x251)](avatarBase64,''),'description':_0x25c985[_0x3ca662(0x3d6)](userDescription,''),'online':!![],'lastOnline':firebase[_0x3ca662(0x298)][_0x3ca662(0x3b9)][_0x3ca662(0x3ea)]};db[_0x3ca662(0x373)](_0x3ca662(0x379)+roomCode+'/'+_0x3c96f4)[_0x3ca662(0x407)](_0x3ca662(0x2f5))[_0x3ca662(0x3f0)](_0x1a4806=>{const _0x5311f6=_0x3ca662;_0x1a4806['exists']()&&(_0x249075[_0x5311f6(0x32b)]=!![]),_0x7309e1[_0x5311f6(0x3f6)](_0x249075),_0x7309e1['onDisconnect']()[_0x5311f6(0x392)]({'online':![],'lastOnline':Date[_0x5311f6(0x26f)]()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0x46b08c){const _0x423896=_0x1e9cbb,_0x48df44={'qxsCf':_0x423896(0x278),'SHsdJ':'block','gBIBw':function(_0x2a49a6,_0x5133c3){return _0x2a49a6(_0x5133c3);},'KNxgH':_0x423896(0x34e),'TZntm':function(_0x20131c,_0x4fa706){return _0x20131c(_0x4fa706);},'dJkCj':_0x423896(0x2d2)};if(!_0x46b08c[_0x423896(0x38a)][_0x423896(0x364)])return;const _0x238b09=_0x46b08c[_0x423896(0x38a)][0x0],_0x51f527=new FileReader();_0x51f527['onloadend']=async()=>{const _0x333a2b=_0x423896,_0x1e8307=_0x51f527['result'][_0x333a2b(0x385)](',')[0x1];document['getElementById'](_0x333a2b(0x278))[_0x333a2b(0x2c0)]=_0x51f527[_0x333a2b(0x307)],document['getElementById'](_0x48df44[_0x333a2b(0x2e3)])['style']['display']=_0x48df44[_0x333a2b(0x32f)];try{const _0x2662fb=_0x48df44[_0x333a2b(0x2c8)](sanitizeUsername,username);await db[_0x333a2b(0x373)]('auth/'+_0x2662fb+_0x333a2b(0x3df))[_0x333a2b(0x3f6)](_0x1e8307),_0x48df44[_0x333a2b(0x2c8)](alert,_0x48df44[_0x333a2b(0x390)]);}catch(_0x576140){console['error'](_0x576140),_0x48df44[_0x333a2b(0x424)](alert,_0x48df44[_0x333a2b(0x355)]);}},_0x51f527[_0x423896(0x25d)](_0x238b09);}function muteUser(_0x2dab7f,_0x4ca9d2){const _0x1b45f5=_0x1e9cbb,_0x4a74f0={'TZqPu':function(_0x4b4bb6,_0x2d5d6b){return _0x4b4bb6(_0x2d5d6b);},'MCjTE':_0x1b45f5(0x334),'DPZDZ':function(_0xce403,_0xddb687){return _0xce403+_0xddb687;},'eqBLD':function(_0x550b38,_0x463714){return _0x550b38*_0x463714;}};if(!isRoomAdmin)return _0x4a74f0['TZqPu'](alert,_0x4a74f0[_0x1b45f5(0x323)]);const _0x4f2f68=_0x4a74f0[_0x1b45f5(0x2a1)](Date[_0x1b45f5(0x26f)](),_0x4a74f0[_0x1b45f5(0x2d8)](_0x4a74f0[_0x1b45f5(0x2d8)](_0x4ca9d2,0x3c),0x3e8));db[_0x1b45f5(0x373)](_0x1b45f5(0x29f)+roomCode+'/'+_0x4a74f0[_0x1b45f5(0x239)](sanitizeUsername,_0x2dab7f))[_0x1b45f5(0x3f6)](_0x4f2f68);}function unmuteUser(_0x3fc87d){const _0xea8e2a=_0x1e9cbb,_0x2549b1={'xzIIm':function(_0x4477c4,_0xece6b9){return _0x4477c4(_0xece6b9);},'GRmDO':_0xea8e2a(0x334)};if(!isRoomAdmin)return _0x2549b1[_0xea8e2a(0x426)](alert,_0x2549b1[_0xea8e2a(0x356)]);db[_0xea8e2a(0x373)](_0xea8e2a(0x29f)+roomCode+'/'+_0x2549b1[_0xea8e2a(0x426)](sanitizeUsername,_0x3fc87d))['remove']();}function updateOnlineIndicator(){const _0x2e07da=_0x1e9cbb,_0x3950be={'pfobU':_0x2e07da(0x341),'rxwar':_0x2e07da(0x2ac)},_0x1cd37b=document[_0x2e07da(0x402)](_0x3950be['pfobU']);_0x1cd37b[_0x2e07da(0x1fe)]='●\x20Online',_0x1cd37b[_0x2e07da(0x3e5)][_0x2e07da(0x3fe)]=_0x3950be[_0x2e07da(0x3f5)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x408a47){const _0x369b60=_0x1e9cbb,_0x249bc1={'YXVGH':function(_0x7c8db8,_0xf6b46){return _0x7c8db8(_0xf6b46);},'ODsHq':_0x369b60(0x313),'KTOKF':_0x369b60(0x264),'NUOIw':_0x369b60(0x330),'JMNlx':'Unknown','QeyzY':_0x369b60(0x38c),'qAiqc':'profileViewer','wOMXE':'block'};db[_0x369b60(0x373)]('auth/'+_0x408a47)['get']()[_0x369b60(0x3f0)](_0x506af8=>{const _0x50c9b6=_0x369b60;if(!_0x506af8[_0x50c9b6(0x25f)]())return _0x249bc1[_0x50c9b6(0x34a)](alert,_0x249bc1[_0x50c9b6(0x227)]);const _0x22d484=_0x506af8[_0x50c9b6(0x33f)](),_0x3ccf57=(_0x50c9b6(0x346)+_0x22d484[_0x50c9b6(0x219)]+_0x50c9b6(0x37f)+(_0x22d484[_0x50c9b6(0x428)]||_0x249bc1[_0x50c9b6(0x3f7)])+'\x0aUsername\x20History:\x20'+((_0x22d484['usernameHistory']||[])[_0x50c9b6(0x29b)](',\x20')||_0x249bc1['NUOIw'])+'\x0aLast\x20Changed:\x20'+(_0x22d484[_0x50c9b6(0x327)]?new Date(_0x22d484[_0x50c9b6(0x327)])['toLocaleString']():_0x249bc1['JMNlx'])+'\x0a\x20\x20\x20\x20')[_0x50c9b6(0x3b5)]();document[_0x50c9b6(0x402)](_0x249bc1[_0x50c9b6(0x38f)])[_0x50c9b6(0x1fe)]=_0x3ccf57,document[_0x50c9b6(0x402)](_0x249bc1[_0x50c9b6(0x3bd)])[_0x50c9b6(0x3e5)]['display']=_0x249bc1['wOMXE'];});}function _0x4994(_0x231fec,_0x5ee1e0){const _0x173843=_0x1738();return _0x4994=function(_0x4994bf,_0x5a9ff4){_0x4994bf=_0x4994bf-0x1ea;let _0x8d81f4=_0x173843[_0x4994bf];return _0x8d81f4;},_0x4994(_0x231fec,_0x5ee1e0);}function initUsernameFlow(){const _0x3b2220=_0x1e9cbb,_0x4c03d5={'CCpet':function(_0x22da2b,_0x4eaa51){return _0x22da2b(_0x4eaa51);},'XgLXF':_0x3b2220(0x33d),'AZxAG':_0x3b2220(0x2d0)},_0x17e5af=localStorage[_0x3b2220(0x305)](_0x3b2220(0x3b8));!_0x17e5af?_0x4c03d5['CCpet'](showScreen,_0x4c03d5[_0x3b2220(0x413)]):(username=_0x17e5af,document[_0x3b2220(0x402)](_0x4c03d5[_0x3b2220(0x2ca)])['innerText']=username,_0x4c03d5[_0x3b2220(0x40f)](showScreen,'roomChoiceScreen'));}function closeProfile(){const _0x35fe2a=_0x1e9cbb,_0x523dbb={'jwALU':_0x35fe2a(0x338),'VWIMl':_0x35fe2a(0x36a)};document['getElementById'](_0x523dbb[_0x35fe2a(0x210)])['style'][_0x35fe2a(0x3e7)]=_0x523dbb['VWIMl'];}function resetWebsiteData(){const _0x1f5c5e=_0x1e9cbb,_0x409dd5={'emcKg':function(_0x4cce2f,_0x3d30c6){return _0x4cce2f||_0x3d30c6;},'dnZCw':'3|1|2|4|0','QBdLr':function(_0x1e4d82,_0x515def){return _0x1e4d82+_0x515def;}};try{localStorage[_0x1f5c5e(0x291)](),sessionStorage[_0x1f5c5e(0x291)]();}catch(_0x6dfafe){}if(_0x409dd5[_0x1f5c5e(0x3d9)](!username,!roomCode)){const _0x47503d=_0x409dd5[_0x1f5c5e(0x218)]['split']('|');let _0x25ff90=0x0;while(!![]){switch(_0x47503d[_0x25ff90++]){case'0':clientId=_0x409dd5[_0x1f5c5e(0x3b4)]('_',Math['random']()[_0x1f5c5e(0x3be)](0x24)[_0x1f5c5e(0x31d)](0x2,0x9));continue;case'1':roomCode=null;continue;case'2':isRoomAdmin=![];continue;case'3':username=null;continue;case'4':pendingMessages=[];continue;}break;}}}function addAnnouncement(){const _0x12d01f=_0x1e9cbb,_0x1e9a37={'ChbeM':_0x12d01f(0x35f)},_0x3f0e44=prompt(_0x1e9a37[_0x12d01f(0x1f8)]);if(!_0x3f0e44)return;db[_0x12d01f(0x373)](_0x12d01f(0x25a)+roomCode+_0x12d01f(0x2f2))['set']({'text':_0x3f0e44,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x50b72b=_0x1e9cbb,_0x306e20={'aqJtV':'announcementArea','eCOeJ':'value'},_0x574e19=db[_0x50b72b(0x373)](_0x50b72b(0x25a)+roomCode+_0x50b72b(0x2f2));_0x574e19['on'](_0x306e20[_0x50b72b(0x279)],_0x3fd5ea=>{const _0x566ca9=_0x50b72b,_0x21a298=_0x3fd5ea[_0x566ca9(0x33f)]();if(!_0x21a298){document[_0x566ca9(0x402)](_0x306e20[_0x566ca9(0x286)])[_0x566ca9(0x1fe)]='';return;}const _0x339c2a=document[_0x566ca9(0x402)](_0x306e20['aqJtV']);_0x339c2a[_0x566ca9(0x1fe)]=''+_0x21a298['text'];});}document[_0x1e9cbb(0x402)]('announcementArea')[_0x1e9cbb(0x258)](_0x1e9cbb(0x41a),_0x41eef1=>{const _0x252cb5=_0x1e9cbb,_0x4de84a={'UcfOr':function(_0x2031f6,_0xb9d560){return _0x2031f6(_0xb9d560);},'HSbzh':_0x252cb5(0x3ab)};_0x41eef1['detail']===0x3&&isRoomAdmin&&(_0x4de84a['UcfOr'](confirm,_0x4de84a['HSbzh'])&&db[_0x252cb5(0x373)](_0x252cb5(0x25a)+roomCode+'/announcement')[_0x252cb5(0x377)]());}),document[_0x1e9cbb(0x402)](_0x1e9cbb(0x2ed))[_0x1e9cbb(0x258)](_0x1e9cbb(0x2e0),()=>{const _0x3daff4=_0x1e9cbb,_0x4205fc={'WTulk':_0x3daff4(0x2ed),'AuSDW':_0x3daff4(0x28e)},_0x5284fd=document['getElementById'](_0x4205fc['WTulk']),_0x5b2a50=document[_0x3daff4(0x402)]('sendBtn'),_0x1761eb=_0x5284fd[_0x3daff4(0x2f5)][_0x3daff4(0x22c)](),_0x5f04d0=swearWords[_0x3daff4(0x405)](_0x41c4ea=>_0x1761eb[_0x3daff4(0x309)](_0x41c4ea));_0x5f04d0?(_0x5284fd['style'][_0x3daff4(0x233)]=_0x4205fc['AuSDW'],_0x5b2a50['disabled']=!![]):(_0x5284fd[_0x3daff4(0x3e5)]['border']='',_0x5b2a50['disabled']=![]);});function muteUser(_0x176ab7,_0x2a492b){const _0x13b972=_0x1e9cbb,_0x57ce04={'EzJHI':function(_0x36a703,_0x4d1857){return _0x36a703(_0x4d1857);},'gMdiN':function(_0x5c301c,_0x39d5fc){return _0x5c301c+_0x39d5fc;},'ACPqT':function(_0x4a8f10,_0x5d70fc){return _0x4a8f10*_0x5d70fc;},'XMoEg':function(_0xfbda28,_0x1b5530){return _0xfbda28(_0x1b5530);}},_0x1de242=_0x57ce04[_0x13b972(0x2cb)](Date['now'](),_0x57ce04[_0x13b972(0x3a2)](_0x2a492b*0x3c,0x3e8));db['ref'](_0x13b972(0x29f)+roomCode+'/'+_0x57ce04[_0x13b972(0x295)](sanitizeUsername,_0x176ab7))[_0x13b972(0x3f6)]({'muteUntil':_0x1de242})[_0x13b972(0x3f0)](()=>{const _0x4d458f=_0x13b972;_0x57ce04['EzJHI'](alert,_0x176ab7+'\x20muted\x20for\x20'+_0x2a492b+_0x4d458f(0x2f0));});}function deleteUserMessages(_0x3c0e20){const _0x5d4c90=_0x1e9cbb,_0x281b89={'hiYSs':function(_0x3dec29,_0x37a0ff){return _0x3dec29(_0x37a0ff);}};db['ref'](_0x5d4c90(0x25a)+roomCode+_0x5d4c90(0x3c1))[_0x5d4c90(0x360)](_0x5d4c90(0x2c1))[_0x5d4c90(0x2a2)](_0x3c0e20)[_0x5d4c90(0x36e)]()['then'](_0x3afedf=>{const _0xb54df0=_0x5d4c90;_0x3afedf['forEach'](_0x1b55ef=>{const _0x2c7c8c=_0x4994;db[_0x2c7c8c(0x373)](_0x2c7c8c(0x25a)+roomCode+_0x2c7c8c(0x229)+_0x1b55ef[_0x2c7c8c(0x1f7)])[_0x2c7c8c(0x377)]();}),_0x281b89[_0xb54df0(0x365)](alert,'Messages\x20by\x20'+_0x3c0e20+_0xb54df0(0x244));});}function pauseRoom(_0x21dd6e){const _0x103781=_0x1e9cbb,_0x1b8c15={'TMcUU':'pausedOverlay','UryeT':_0x103781(0x302),'yPJnU':_0x103781(0x36a)};db[_0x103781(0x373)](_0x103781(0x25a)+roomCode+'/paused')['on']('value',_0x1aceeb=>{const _0x1a836d=_0x103781,_0x29cebb=_0x1aceeb[_0x1a836d(0x33f)]();document[_0x1a836d(0x402)](_0x1b8c15[_0x1a836d(0x347)])['style'][_0x1a836d(0x3e7)]=_0x29cebb?_0x1b8c15[_0x1a836d(0x378)]:_0x1b8c15[_0x1a836d(0x1f2)];});}function canPerformAction(_0x11c27a){const _0x47b318=_0x1e9cbb,_0x12869c={'vitVM':function(_0x4bb52c,_0x121cea){return _0x4bb52c===_0x121cea;},'QanCg':function(_0x4d7027,_0x4d41b7){return _0x4d7027===_0x4d41b7;},'TUbuH':_0x47b318(0x368),'agreT':_0x47b318(0x3c5),'mfAAX':_0x47b318(0x32b),'rdxNS':function(_0x547b4b,_0x4ddf22){return _0x547b4b===_0x4ddf22;},'GLCnz':'moderator','qwiJO':function(_0x435497,_0xaac403){return _0x435497===_0xaac403;}};if(_0x12869c[_0x47b318(0x241)](role,_0x47b318(0x207)))return!![];if(_0x12869c[_0x47b318(0x220)](_0x11c27a,_0x12869c[_0x47b318(0x354)])||_0x12869c['vitVM'](_0x11c27a,_0x12869c['agreT']))return role===_0x12869c[_0x47b318(0x237)]||_0x12869c[_0x47b318(0x32a)](role,_0x12869c[_0x47b318(0x34b)]);if(_0x12869c[_0x47b318(0x269)](_0x11c27a,_0x47b318(0x36b)))return _0x12869c[_0x47b318(0x241)](role,_0x12869c[_0x47b318(0x237)]);return![];}const html=Object[_0x1e9cbb(0x2cf)](activeUsers)['map'](_0x4b7d14=>{const _0xb9b36b=_0x1e9cbb,_0x490093={'PESxS':function(_0x43b238,_0x2dbff7){return _0x43b238(_0x2dbff7);},'jVYIJ':function(_0x241966,_0x31b71a){return _0x241966!==_0x31b71a;},'anwyd':_0xb9b36b(0x368),'SQWXk':function(_0x132b1a,_0x3e15f4){return _0x132b1a===_0x3e15f4;},'cFBAj':_0xb9b36b(0x207),'ehdxQ':_0xb9b36b(0x32b),'WgOYL':function(_0xe5e590,_0x4b0613){return _0xe5e590(_0x4b0613);},'xKyPk':function(_0x355bf0,_0x4ed9f7){return _0x355bf0(_0x4ed9f7);}},_0x339493=_0x490093[_0xb9b36b(0x2f4)](sanitizeUsername,_0x4b7d14[_0xb9b36b(0x219)]),_0x569a88=[];if(_0x490093[_0xb9b36b(0x1fd)](_0x339493,sanitizeUsername(username))){_0x490093['PESxS'](canPerformAction,_0x490093[_0xb9b36b(0x216)])&&(_0x569a88[_0xb9b36b(0x410)](_0xb9b36b(0x37b)+_0x339493+_0xb9b36b(0x3ef)),_0x569a88[_0xb9b36b(0x410)]('<button\x20onclick=\x22muteUser(\x27'+_0x339493+'\x27,\x2010)\x22>Mute\x2010m</button>'));canPerformAction('deleteMessage')&&_0x569a88[_0xb9b36b(0x410)](_0xb9b36b(0x404)+_0x339493+_0xb9b36b(0x38b));if(_0x490093['SQWXk'](role,_0x490093[_0xb9b36b(0x30f)]))_0x569a88['push'](_0xb9b36b(0x283)+_0x339493+_0xb9b36b(0x253)),_0x569a88[_0xb9b36b(0x410)](_0xb9b36b(0x20e)+_0x339493+_0xb9b36b(0x389));else _0x490093['SQWXk'](role,_0x490093[_0xb9b36b(0x2eb)])&&_0x569a88[_0xb9b36b(0x410)](_0xb9b36b(0x283)+_0x339493+_0xb9b36b(0x253));}return _0xb9b36b(0x3b6)+_0x4b7d14['username']+'\x20'+_0x490093[_0xb9b36b(0x2a3)](getRoleTag,_0x490093[_0xb9b36b(0x3d2)](sanitizeUsername,_0x4b7d14[_0xb9b36b(0x219)]))+_0xb9b36b(0x290)+_0x339493+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x569a88[_0xb9b36b(0x29b)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x339493+_0xb9b36b(0x202);})[_0x1e9cbb(0x29b)]('');function promoteToModerator(_0x1e6234){const _0x231f03=_0x1e9cbb,_0x1e03b3={'WyIZw':function(_0x363da8,_0x464ee8){return _0x363da8(_0x464ee8);},'yqcFx':function(_0x141b59,_0x4b85f8){return _0x141b59!==_0x4b85f8;},'WfGKr':'dev','IbXil':'admin','EfYft':function(_0x40f198,_0x13849c){return _0x40f198(_0x13849c);},'Niayt':_0x231f03(0x349),'vGBUl':function(_0x540ed8,_0x498f66){return _0x540ed8(_0x498f66);}};if(_0x1e03b3[_0x231f03(0x30b)](role,_0x1e03b3['WfGKr'])&&role!==_0x1e03b3['IbXil']){_0x1e03b3[_0x231f03(0x1f0)](alert,_0x1e03b3[_0x231f03(0x3b2)]);return;}db[_0x231f03(0x373)]('moderators/'+roomCode+'/'+_0x1e03b3[_0x231f03(0x20d)](sanitizeUsername,_0x1e6234))[_0x231f03(0x3f6)](!![])['then'](()=>{const _0x4c3de9=_0x231f03;_0x1e03b3[_0x4c3de9(0x420)](alert,_0x1e6234+_0x4c3de9(0x421));});}function promoteToAdmin(_0xe2777a){const _0x75d462=_0x1e9cbb,_0x57821b={'uSoKC':function(_0x251efb,_0xbb0d05){return _0x251efb!==_0xbb0d05;},'myQym':_0x75d462(0x207),'pRCCy':function(_0x5297b3,_0x31ce51){return _0x5297b3(_0x31ce51);},'mxGlh':_0x75d462(0x247),'mTZwT':function(_0xaa4a18,_0x1facee){return _0xaa4a18(_0x1facee);}};if(_0x57821b[_0x75d462(0x287)](role,_0x57821b[_0x75d462(0x32d)])){_0x57821b['pRCCy'](alert,_0x57821b[_0x75d462(0x427)]);return;}db['ref']('admins/'+roomCode+'/'+_0x57821b[_0x75d462(0x2fe)](sanitizeUsername,_0xe2777a))[_0x75d462(0x3f6)](!![])['then'](()=>{const _0xacf06c=_0x75d462;alert(_0xe2777a+_0xacf06c(0x322));});}function toggleUserOptions(_0x3f6b31){const _0x3d0464=_0x1e9cbb,_0xc406a5={'Mzbsc':'none','tPpwc':_0x3d0464(0x302)},_0x1b0cd2=document[_0x3d0464(0x402)](_0x3d0464(0x1ee)+_0x3f6b31);_0x1b0cd2[_0x3d0464(0x3e5)][_0x3d0464(0x3e7)]===_0xc406a5[_0x3d0464(0x312)]?_0x1b0cd2[_0x3d0464(0x3e5)][_0x3d0464(0x3e7)]=_0xc406a5[_0x3d0464(0x24d)]:_0x1b0cd2[_0x3d0464(0x3e5)][_0x3d0464(0x3e7)]=_0xc406a5[_0x3d0464(0x312)];}function getRoleTag(_0x1fb59c){const _0x2a7e13=_0x1e9cbb,_0x12d876=sanitizeUsername(_0x1fb59c);if(globalDevs[_0x2a7e13(0x309)](_0x12d876))return _0x2a7e13(0x21a);if(roomAdmins[_0x2a7e13(0x309)](_0x12d876))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x2a7e13(0x309)](_0x12d876))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x503de2=_0x1e9cbb,_0x449b75={'DaYOZ':function(_0x183fa8,_0x1ac2bc){return _0x183fa8===_0x1ac2bc;},'ncmws':function(_0x136014,_0x4b6b2b){return _0x136014(_0x4b6b2b);},'IfsZY':'auth','wCaZJ':_0x503de2(0x207),'wBBqR':_0x503de2(0x32b),'QSRFC':_0x503de2(0x243)},_0x5e0b6c=_0x449b75[_0x503de2(0x3f8)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x8fe7f4=await db['ref'](_0x449b75[_0x503de2(0x3aa)])[_0x503de2(0x36e)]();_0x8fe7f4[_0x503de2(0x333)](_0x570a44=>{const _0x4ee606=_0x503de2;if(_0x449b75[_0x4ee606(0x3f1)](_0x570a44[_0x4ee606(0x33f)]()['role'],'dev'))globalDevs[_0x4ee606(0x410)](_0x570a44[_0x4ee606(0x1f7)]);});const _0x59fc8c=await db[_0x503de2(0x373)](_0x503de2(0x379)+roomCode)['get']();_0x59fc8c[_0x503de2(0x25f)]()&&_0x59fc8c[_0x503de2(0x333)](_0x5475e9=>roomAdmins[_0x503de2(0x410)](_0x5475e9[_0x503de2(0x1f7)]));const _0x575ff5=await db[_0x503de2(0x373)]('moderators/'+roomCode)[_0x503de2(0x36e)]();_0x575ff5[_0x503de2(0x25f)]()&&_0x575ff5[_0x503de2(0x333)](_0x37f91e=>roomModerators[_0x503de2(0x410)](_0x37f91e[_0x503de2(0x1f7)]));if(globalDevs[_0x503de2(0x309)](_0x5e0b6c))role=_0x449b75[_0x503de2(0x352)];else{if(roomAdmins[_0x503de2(0x309)](_0x5e0b6c))role=_0x449b75[_0x503de2(0x2e2)];else roomModerators[_0x503de2(0x309)](_0x5e0b6c)?role=_0x503de2(0x34c):role=_0x449b75[_0x503de2(0x252)];}}async function renderUserLists(_0x425f8b){const _0x485248=_0x1e9cbb,_0x30b2c9={'CWwVG':function(_0x4ef6e6,_0x1f2a6a){return _0x4ef6e6(_0x1f2a6a);},'oTOZG':function(_0x226005,_0x14e100){return _0x226005(_0x14e100);},'bbbII':function(_0x5dbaeb,_0x414ebe){return _0x5dbaeb===_0x414ebe;},'XDYXk':_0x485248(0x207),'yASED':_0x485248(0x32b),'oCGVF':_0x485248(0x34c),'ZxUgo':function(_0x52b7d2,_0x56d648){return _0x52b7d2(_0x56d648);},'ZHKKF':function(_0x57fd76,_0x491898){return _0x57fd76===_0x491898;},'yhsIb':_0x485248(0x302),'Einpp':'adminUserList'},_0x235f44=_0x30b2c9[_0x485248(0x3ca)](sanitizeUsername,username),_0x204ec1=_0x30b2c9['bbbII'](role,'dev')||_0x30b2c9[_0x485248(0x2b3)](role,_0x30b2c9['yASED'])||_0x30b2c9[_0x485248(0x2b3)](role,_0x30b2c9[_0x485248(0x399)]);document[_0x485248(0x402)]('adminControlsSection')[_0x485248(0x3e5)][_0x485248(0x3e7)]=_0x204ec1?_0x30b2c9['yhsIb']:_0x485248(0x36a);const _0x23fab0=Object[_0x485248(0x250)](_0x425f8b)[_0x485248(0x332)](async([_0x2e3597,_0x442034])=>{const _0x102ebd=_0x485248,_0x32878c=_0x30b2c9[_0x102ebd(0x3e4)](sanitizeUsername,_0x442034['username']||_0x2e3597),_0x243cf4=await _0x30b2c9[_0x102ebd(0x28f)](fetchAvatar,_0x32878c),_0x3f3d9f=_0x243cf4?_0x102ebd(0x2ce)+_0x243cf4+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'';return'<li>'+_0x3f3d9f+_0x102ebd(0x394)+(_0x442034[_0x102ebd(0x219)]||_0x2e3597)+'\x20'+getRoleTag(_0x32878c)+_0x102ebd(0x2ec);}),_0x360b8e=await Promise[_0x485248(0x280)](_0x23fab0);document['getElementById'](_0x485248(0x3c4))[_0x485248(0x1ff)]=_0x360b8e[_0x485248(0x29b)]('');if(!_0x204ec1)return;const _0x54be55=Object[_0x485248(0x250)](_0x425f8b)[_0x485248(0x332)](async([_0x43e6bb,_0x54c572])=>{const _0x10e5ce=_0x485248,_0x12f0ba=_0x30b2c9[_0x10e5ce(0x28f)](sanitizeUsername,_0x54c572[_0x10e5ce(0x219)]||_0x43e6bb);if(_0x30b2c9[_0x10e5ce(0x276)](_0x12f0ba,_0x235f44))return'';const _0x1ae928=await _0x30b2c9[_0x10e5ce(0x28f)](fetchAvatar,_0x12f0ba),_0x5fe084=_0x1ae928?_0x10e5ce(0x2ce)+_0x1ae928+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x5765d3=[];(role===_0x30b2c9[_0x10e5ce(0x212)]||_0x30b2c9['bbbII'](role,_0x30b2c9['yASED'])||_0x30b2c9[_0x10e5ce(0x276)](role,_0x30b2c9[_0x10e5ce(0x399)]))&&(_0x5765d3[_0x10e5ce(0x410)](_0x10e5ce(0x37b)+_0x12f0ba+_0x10e5ce(0x3ef)),_0x5765d3[_0x10e5ce(0x410)]('<button\x20onclick=\x22muteUser(\x27'+_0x12f0ba+'\x27,\x2010)\x22>Mute\x2010m</button>'));(role===_0x10e5ce(0x207)||_0x30b2c9[_0x10e5ce(0x276)](role,_0x10e5ce(0x32b)))&&_0x5765d3[_0x10e5ce(0x410)](_0x10e5ce(0x404)+_0x12f0ba+'\x27)\x22>Delete\x20Msgs</button>');if(role==='dev')_0x5765d3['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x12f0ba+_0x10e5ce(0x25e)),_0x5765d3['push']('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x12f0ba+'\x27)\x22>+Admin</button>');else role===_0x10e5ce(0x32b)&&_0x5765d3['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x12f0ba+_0x10e5ce(0x25e));return _0x10e5ce(0x24f)+_0x5fe084+_0x10e5ce(0x311)+(_0x54c572['username']||_0x43e6bb)+'\x20'+getRoleTag(_0x12f0ba)+_0x10e5ce(0x248)+_0x5765d3[_0x10e5ce(0x29b)]('\x20')+_0x10e5ce(0x3bf);}),_0x32c6b8=await Promise['all'](_0x54be55);document[_0x485248(0x402)](_0x30b2c9[_0x485248(0x403)])[_0x485248(0x1ff)]=_0x32c6b8[_0x485248(0x29b)]('');}async function fetchAvatar(_0x3d183e){const _0x199653=_0x1e9cbb;if(userAvatars[_0x3d183e])return userAvatars[_0x3d183e];const _0x130844=await db['ref'](_0x199653(0x340)+_0x3d183e)[_0x199653(0x36e)]();if(_0x130844[_0x199653(0x25f)]()&&_0x130844['val']()[_0x199653(0x329)])return userAvatars[_0x3d183e]=_0x130844[_0x199653(0x33f)]()['avatarBase64'],userAvatars[_0x3d183e];return null;}function sendTyping(){const _0x2595df=_0x1e9cbb,_0x3ff90a={'Vizdn':function(_0x537ea2,_0x33a67a){return _0x537ea2(_0x33a67a);}},_0x4169e3=_0x3ff90a[_0x2595df(0x1ed)](sanitizeUsername,username);db[_0x2595df(0x373)](_0x2595df(0x2e5)+roomCode+'/'+_0x4169e3)['set'](Date[_0x2595df(0x26f)]());}function listenForTyping(){const _0x306bd7=_0x1e9cbb,_0x290a84={'JGpVb':function(_0x6376a5,_0x39b619){return _0x6376a5!==_0x39b619;},'TFNPD':function(_0xcac146,_0x1c0465){return _0xcac146(_0x1c0465);}};db['ref'](_0x306bd7(0x2e5)+roomCode)['on'](_0x306bd7(0x2f5),_0x1d87a1=>{const _0x58c61a=_0x306bd7,_0x4c9113={'lLXXR':function(_0x103e58,_0x2ac070){const _0x4f3b98=_0x4994;return _0x290a84[_0x4f3b98(0x2b4)](_0x103e58,_0x2ac070);},'heKzy':function(_0x49b3e9,_0x19affa){const _0x51b925=_0x4994;return _0x290a84[_0x51b925(0x30c)](_0x49b3e9,_0x19affa);}},_0x4fe3f2=document[_0x58c61a(0x402)](_0x58c61a(0x391));if(!_0x1d87a1['exists']()){_0x4fe3f2[_0x58c61a(0x1fe)]='';return;}const _0x1974f4=Object[_0x58c61a(0x250)](_0x1d87a1[_0x58c61a(0x33f)]())[_0x58c61a(0x274)](([_0x2b721e,_0x596539])=>{const _0x3e1f6d=_0x58c61a;return _0x4c9113[_0x3e1f6d(0x25c)](_0x4c9113[_0x3e1f6d(0x3e2)](sanitizeUsername,_0x2b721e),sanitizeUsername(username));});_0x1974f4[_0x58c61a(0x364)]?_0x4fe3f2[_0x58c61a(0x1fe)]=_0x1974f4[_0x58c61a(0x332)](([_0x422cbc])=>_0x422cbc)['join'](',\x20')+_0x58c61a(0x24e):_0x4fe3f2[_0x58c61a(0x1fe)]='';});}