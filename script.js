const _0x236dcf=_0x2e5f;(function(_0x4b2a27,_0x8bab6e){const _0x2c5d98=_0x2e5f,_0x4f0230=_0x4b2a27();while(!![]){try{const _0x50eac5=parseInt(_0x2c5d98(0x28a))/0x1+-parseInt(_0x2c5d98(0x2ca))/0x2+-parseInt(_0x2c5d98(0x17a))/0x3+parseInt(_0x2c5d98(0x29b))/0x4*(-parseInt(_0x2c5d98(0x24d))/0x5)+parseInt(_0x2c5d98(0x22e))/0x6+-parseInt(_0x2c5d98(0x15c))/0x7+parseInt(_0x2c5d98(0x38e))/0x8;if(_0x50eac5===_0x8bab6e)break;else _0x4f0230['push'](_0x4f0230['shift']());}catch(_0x47e4c6){_0x4f0230['push'](_0x4f0230['shift']());}}}(_0x4e14,0x51639));const firebaseConfig={'apiKey':_0x236dcf(0x381),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x236dcf(0x298),'projectId':_0x236dcf(0x2bb),'storageBucket':_0x236dcf(0x236),'messagingSenderId':_0x236dcf(0x39e),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x236dcf(0x1c1)};firebase[_0x236dcf(0x2b4)](firebaseConfig);const db=firebase[_0x236dcf(0x386)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x236dcf(0x2d9),'shit',_0x236dcf(0x255),_0x236dcf(0x1aa),_0x236dcf(0x216),_0x236dcf(0x1b5),'cunt',_0x236dcf(0x2a6),_0x236dcf(0x12c),_0x236dcf(0x2e0),_0x236dcf(0x337),_0x236dcf(0x165),_0x236dcf(0x3a3),_0x236dcf(0x2df),'caralho',_0x236dcf(0x383),_0x236dcf(0x2a6),_0x236dcf(0x262),_0x236dcf(0x1a6),_0x236dcf(0x37a),_0x236dcf(0x340),_0x236dcf(0x1cf),_0x236dcf(0x261),_0x236dcf(0x1a7),'bwisit','putang\x20ina'],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x236dcf(0x14e)]()[_0x236dcf(0x181)](0x24)[_0x236dcf(0x398)](0x2,0x9),lastActivity=Date[_0x236dcf(0x24a)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x236dcf(0x12d),MAX_MESSAGES=0xfa,sound=new Audio(_0x236dcf(0x1ee));sound[_0x236dcf(0x364)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3e1b66=_0x236dcf,_0x5ac50e={'dhvLX':function(_0x21c73a,_0x438268){return _0x21c73a+_0x438268;},'Bzbst':function(_0x5676f8,_0x5a80f3){return _0x5676f8+_0x5a80f3;},'gibmd':function(_0x5a4164,_0x2840dd){return _0x5a4164(_0x2840dd);}},_0x39862f=_0x5ac50e[_0x3e1b66(0x1d7)](_0x5ac50e[_0x3e1b66(0x194)](navigator[_0x3e1b66(0x283)],screen[_0x3e1b66(0x1db)]),screen[_0x3e1b66(0x1d4)]),_0x13c28a=await _0x5ac50e[_0x3e1b66(0x299)](sha256,_0x39862f);return'_'+_0x13c28a[_0x3e1b66(0x398)](0x0,0x14);}function sha256(_0x15f4c7){const _0xb9af74=_0x236dcf,_0x2c6b84={'WNHLf':_0xb9af74(0x253)},_0x525b73=new TextEncoder()[_0xb9af74(0x15f)](_0x15f4c7);return crypto[_0xb9af74(0x338)][_0xb9af74(0x141)](_0x2c6b84[_0xb9af74(0x146)],_0x525b73)['then'](_0x37f49a=>{const _0x289b56=_0xb9af74;return Array[_0x289b56(0x2c8)](new Uint8Array(_0x37f49a))[_0x289b56(0x217)](_0x234fd0=>_0x234fd0[_0x289b56(0x181)](0x10)['padStart'](0x2,'0'))[_0x289b56(0x389)]('');});}function toggleNotifications(){const _0x501ac8=_0x236dcf,_0x1b9863={'oVTLi':function(_0x425056,_0x1037c9){return _0x425056===_0x1037c9;},'DZTbI':_0x501ac8(0x317),'UjLhS':'notifications_enabled','ZAPUj':'true','RroMT':_0x501ac8(0x397),'BXBYd':_0x501ac8(0x30e),'vCucf':'🔔\x20Enable\x20Notifications'};Notification[_0x501ac8(0x319)]!==_0x1b9863[_0x501ac8(0x2d4)]?Notification['requestPermission']()[_0x501ac8(0x2b2)](_0x59b569=>{const _0x293220=_0x501ac8;_0x1b9863[_0x293220(0x306)](_0x59b569,_0x1b9863['DZTbI'])&&(notificationsEnabled=!![],localStorage[_0x293220(0x28d)](_0x1b9863['UjLhS'],_0x1b9863[_0x293220(0x16c)]),document['getElementById']('notifToggleBtn')[_0x293220(0x147)]=_0x293220(0x30e));}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x501ac8(0x28d)]('notifications_enabled',notificationsEnabled?_0x1b9863['ZAPUj']:'false'),document[_0x501ac8(0x33a)](_0x1b9863['RroMT'])[_0x501ac8(0x147)]=notificationsEnabled?_0x1b9863[_0x501ac8(0x139)]:_0x1b9863[_0x501ac8(0x1df)]);}function toggleAuthMode(){const _0x515b7a=_0x236dcf,_0xd2cec8={'WUXeU':_0x515b7a(0x2af),'izCpC':'Register','PVPrT':_0x515b7a(0x231),'LcQTx':_0x515b7a(0x269),'ajZqM':'none','qLhYR':_0x515b7a(0x244),'HqJOs':_0x515b7a(0x313),'fxuti':_0x515b7a(0x279),'ThmYL':_0x515b7a(0x2e7)},_0x37f4ae=_0xd2cec8[_0x515b7a(0x2f1)][_0x515b7a(0x1d1)]('|');let _0x3d14f9=0x0;while(!![]){switch(_0x37f4ae[_0x3d14f9++]){case'0':document[_0x515b7a(0x33a)]('authSubmitBtn')[_0x515b7a(0x147)]=isRegisterMode?_0xd2cec8[_0x515b7a(0x212)]:_0xd2cec8[_0x515b7a(0x1fa)];continue;case'1':document[_0x515b7a(0x33a)](_0xd2cec8['LcQTx'])['style'][_0x515b7a(0x1a2)]=isRegisterMode?_0x515b7a(0x313):_0xd2cec8[_0x515b7a(0x1ff)];continue;case'2':document['getElementById'](_0xd2cec8[_0x515b7a(0x135)])[_0x515b7a(0x2db)][_0x515b7a(0x1a2)]=_0xd2cec8['ajZqM'];continue;case'3':document[_0x515b7a(0x33a)](_0x515b7a(0x34d))[_0x515b7a(0x2db)][_0x515b7a(0x1a2)]=isRegisterMode?_0xd2cec8['HqJOs']:_0xd2cec8['ajZqM'];continue;case'4':document[_0x515b7a(0x33a)](_0xd2cec8[_0x515b7a(0x399)])[_0x515b7a(0x2db)][_0x515b7a(0x1a2)]=_0xd2cec8[_0x515b7a(0x1ff)];continue;case'5':document[_0x515b7a(0x33a)]('authTitle')[_0x515b7a(0x147)]=isRegisterMode?_0xd2cec8['izCpC']:_0xd2cec8['PVPrT'];continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x515b7a(0x33a)](_0xd2cec8[_0x515b7a(0x393)])[_0x515b7a(0x2db)][_0x515b7a(0x1a2)]=isRegisterMode?_0xd2cec8[_0x515b7a(0x282)]:_0xd2cec8[_0x515b7a(0x1ff)];continue;}break;}}function previewAvatar(){const _0x53503b=_0x236dcf,_0x1f8614={'FEXcP':_0x53503b(0x279),'nzfem':_0x53503b(0x313),'RbTmV':'authAvatar'},_0x10ff70=document[_0x53503b(0x33a)](_0x1f8614[_0x53503b(0x166)]);if(!_0x10ff70[_0x53503b(0x21e)][_0x53503b(0x241)])return;const _0x3c06c2=new FileReader();_0x3c06c2[_0x53503b(0x2e2)]=()=>{const _0x50173c=_0x53503b;document['getElementById'](_0x1f8614[_0x50173c(0x1bc)])[_0x50173c(0x37c)]=_0x3c06c2[_0x50173c(0x177)],document['getElementById'](_0x1f8614['FEXcP'])[_0x50173c(0x2db)][_0x50173c(0x1a2)]=_0x1f8614[_0x50173c(0x160)];},_0x3c06c2[_0x53503b(0x2cc)](_0x10ff70['files'][0x0]);}async function submitAuth(){const _0x6690a8=_0x236dcf,_0x9e106d={'OQmvz':_0x6690a8(0x2d8),'HhTnp':function(_0x38dab2){return _0x38dab2();},'PszUN':'authUsername','zbThh':_0x6690a8(0x200),'xQkNV':_0x6690a8(0x269),'pTkNz':'authAvatar','yqFsE':_0x6690a8(0x353),'CEopc':function(_0x8cd7d1,_0x18cc66){return _0x8cd7d1||_0x18cc66;},'YxBqK':_0x6690a8(0x313),'JIaGL':function(_0x1080ff,_0x35dc86){return _0x1080ff(_0x35dc86);},'gurcG':_0x6690a8(0x228),'CbcJy':_0x6690a8(0x2cd),'OQIuJ':function(_0x5407aa){return _0x5407aa();},'WMaGf':_0x6690a8(0x227),'ZvQXr':function(_0x5b92d3,_0x2b5e7a){return _0x5b92d3||_0x2b5e7a;},'HEEof':function(_0x409445,_0x3044a0){return _0x409445!==_0x3044a0;},'WPNFr':_0x6690a8(0x28c),'iycfY':function(_0x232033){return _0x232033();}},_0x156a72=document[_0x6690a8(0x33a)](_0x9e106d[_0x6690a8(0x234)])[_0x6690a8(0x168)]['trim'](),_0x325c96=document['getElementById'](_0x9e106d[_0x6690a8(0x124)])[_0x6690a8(0x168)]['trim'](),_0x4c2446=document[_0x6690a8(0x33a)](_0x6690a8(0x2e7))[_0x6690a8(0x168)]['trim'](),_0x48ae08=document[_0x6690a8(0x33a)](_0x9e106d[_0x6690a8(0x287)])[_0x6690a8(0x168)][_0x6690a8(0x170)](),_0x3a4bba=document[_0x6690a8(0x33a)](_0x9e106d[_0x6690a8(0x31f)]),_0x48cc71=document[_0x6690a8(0x33a)]('authError');_0x48cc71[_0x6690a8(0x2db)][_0x6690a8(0x1a2)]=_0x9e106d[_0x6690a8(0x17e)];if(_0x9e106d[_0x6690a8(0x213)](!_0x156a72,!_0x325c96)){_0x48cc71[_0x6690a8(0x147)]=_0x6690a8(0x307),_0x48cc71[_0x6690a8(0x2db)][_0x6690a8(0x1a2)]=_0x9e106d['YxBqK'];return;}const _0x247aab=_0x9e106d[_0x6690a8(0x35f)](sanitizeUsername,_0x156a72),_0x192e05=db[_0x6690a8(0x15a)](_0x6690a8(0x1e3)+_0x247aab),_0x4e1f1a=await _0x192e05[_0x6690a8(0x196)]();if(isRegisterMode){if(_0x4e1f1a[_0x6690a8(0x35a)]()){_0x48cc71[_0x6690a8(0x147)]=_0x9e106d['gurcG'],_0x48cc71[_0x6690a8(0x2db)][_0x6690a8(0x1a2)]=_0x9e106d[_0x6690a8(0x1b8)];return;}if(_0x325c96!==_0x4c2446){_0x48cc71[_0x6690a8(0x147)]=_0x9e106d[_0x6690a8(0x3a6)],_0x48cc71['style']['display']=_0x6690a8(0x313);return;}const _0x23d2e5=await sha256(_0x325c96),_0x5b1c72=await _0x9e106d[_0x6690a8(0x372)](generateDeviceId);if(_0x3a4bba[_0x6690a8(0x21e)]['length']){const _0x725dd4=_0x3a4bba['files'][0x0],_0xbc9ec8=new FileReader();_0xbc9ec8[_0x6690a8(0x2e2)]=async()=>{const _0x45e7d4=_0x6690a8,_0x2e8182=_0xbc9ec8['result'][_0x45e7d4(0x1d1)](',')[0x1];await _0x192e05[_0x45e7d4(0x182)]({'username':_0x156a72,'passwordHash':_0x23d2e5,'description':_0x48ae08||'','avatarBase64':_0x2e8182,'role':_0x9e106d[_0x45e7d4(0x2f9)],'deviceId':_0x5b1c72,'usernameHistory':[_0x156a72],'lastChanged':Date[_0x45e7d4(0x24a)]()}),username=_0x156a72,userDescription=_0x48ae08,avatarBase64=_0x2e8182,role=_0x9e106d[_0x45e7d4(0x2f9)],_0x9e106d[_0x45e7d4(0x2b0)](startAfterAuth);},_0xbc9ec8['readAsDataURL'](_0x725dd4);}else{const _0x533385=_0x9e106d[_0x6690a8(0x286)][_0x6690a8(0x1d1)]('|');let _0x1a3cfc=0x0;while(!![]){switch(_0x533385[_0x1a3cfc++]){case'0':userDescription=_0x48ae08;continue;case'1':avatarBase64='';continue;case'2':username=_0x156a72;continue;case'3':await _0x192e05[_0x6690a8(0x182)]({'username':_0x156a72,'passwordHash':_0x23d2e5,'description':_0x9e106d[_0x6690a8(0x39b)](_0x48ae08,''),'avatarBase64':'','role':_0x9e106d[_0x6690a8(0x2f9)],'deviceId':_0x5b1c72,'usernameHistory':[_0x156a72],'lastChanged':Date['now']()});continue;case'4':_0x9e106d[_0x6690a8(0x2b0)](startAfterAuth);continue;case'5':role=_0x9e106d[_0x6690a8(0x2f9)];continue;}break;}}}else{if(!_0x4e1f1a[_0x6690a8(0x35a)]()){_0x48cc71[_0x6690a8(0x147)]=_0x6690a8(0x25c),_0x48cc71[_0x6690a8(0x2db)][_0x6690a8(0x1a2)]=_0x6690a8(0x313);return;}const _0x25a3b=_0x4e1f1a[_0x6690a8(0x329)](),_0x491b09=await sha256(_0x325c96);if(_0x9e106d[_0x6690a8(0x3a4)](_0x491b09,_0x25a3b[_0x6690a8(0x23c)])){_0x48cc71[_0x6690a8(0x147)]=_0x9e106d[_0x6690a8(0x27b)],_0x48cc71[_0x6690a8(0x2db)][_0x6690a8(0x1a2)]=_0x9e106d[_0x6690a8(0x1b8)];return;}username=_0x156a72;if(_0x25a3b[_0x6690a8(0x38f)])userDescription=_0x25a3b[_0x6690a8(0x38f)];if(_0x25a3b[_0x6690a8(0x305)])avatarBase64=_0x25a3b[_0x6690a8(0x305)];if(_0x25a3b[_0x6690a8(0x195)])role=_0x25a3b['role'];else role=_0x9e106d[_0x6690a8(0x2f9)];_0x9e106d['iycfY'](startAfterAuth);}}async function saveNewUser(_0x3999a4,_0xe8e2a4,_0x535cff,_0x31945d,_0x3f25d0){const _0x45d792=_0x236dcf,_0x1ecffb={'atRvz':function(_0x348e6a,_0x33e01f){return _0x348e6a(_0x33e01f);},'uprSH':_0x45d792(0x2d8),'PLlIl':function(_0x336c84,_0x25e5a0){return _0x336c84||_0x25e5a0;},'dFvsg':function(_0x5b8b11){return _0x5b8b11();}},_0x40b6a0=db[_0x45d792(0x15a)](_0x45d792(0x1e3)+_0x1ecffb[_0x45d792(0x1a0)](sanitizeUsername,_0x3999a4)),_0x316de3={'username':_0x3999a4,'passwordHash':_0xe8e2a4,'role':_0x1ecffb[_0x45d792(0x1c2)],'deviceId':_0x535cff,'description':_0x1ecffb[_0x45d792(0x169)](_0x3f25d0,''),'avatarBase64':_0x31945d||'','usernameHistory':[_0x3999a4],'lastChanged':Date[_0x45d792(0x24a)]()};await _0x40b6a0[_0x45d792(0x182)](_0x316de3),username=_0x3999a4,_0x31945d=_0x316de3['avatarBase64'],userDescription=_0x316de3[_0x45d792(0x38f)],_0x1ecffb[_0x45d792(0x23f)](startAfterAuth);}function _0x2e5f(_0xf317ac,_0x1dc922){const _0x4e14f0=_0x4e14();return _0x2e5f=function(_0x2e5fa0,_0x295731){_0x2e5fa0=_0x2e5fa0-0x122;let _0x2f1a83=_0x4e14f0[_0x2e5fa0];return _0x2f1a83;},_0x2e5f(_0xf317ac,_0x1dc922);}async function startAfterAuth(){const _0x22f8c7=_0x236dcf,_0x5792f8={'gzZgO':function(_0x4429e0,_0x4bb215){return _0x4429e0(_0x4bb215);},'qZQha':_0x22f8c7(0x1a3),'EARno':_0x22f8c7(0x247),'PFQVd':'block','uBnCk':_0x22f8c7(0x14c),'FdYHZ':function(_0x690066){return _0x690066();}},_0x35730c=_0x5792f8[_0x22f8c7(0x21a)](sanitizeUsername,username),_0x36c554=db['ref'](_0x22f8c7(0x1e3)+_0x35730c),_0x22362a=await _0x36c554[_0x22f8c7(0x196)]();if(_0x22362a[_0x22f8c7(0x35a)]()){const _0x5bcc0d=_0x22362a[_0x22f8c7(0x329)]();username=_0x5bcc0d[_0x22f8c7(0x1e2)],userDescription=_0x5bcc0d['description']||'',avatarBase64=_0x5bcc0d[_0x22f8c7(0x305)]||'',role=_0x5bcc0d[_0x22f8c7(0x195)]||_0x22f8c7(0x2d8);if(avatarBase64){const _0x198401=document[_0x22f8c7(0x33a)](_0x5792f8[_0x22f8c7(0x224)]);_0x198401[_0x22f8c7(0x37c)]=_0x5792f8[_0x22f8c7(0x1e9)]+avatarBase64,_0x198401[_0x22f8c7(0x2db)]['display']=_0x5792f8[_0x22f8c7(0x19a)];}}else console[_0x22f8c7(0x321)](_0x5792f8[_0x22f8c7(0x288)]);await _0x5792f8[_0x22f8c7(0x37d)](loadRoomRoles),document['getElementById'](_0x22f8c7(0x134))[_0x22f8c7(0x147)]=username,showScreen(_0x22f8c7(0x1e4));}function toggleRecording(){const _0x1f6171=_0x236dcf,_0x25fff0={'sBgWI':function(_0xc6d6c0,_0x32e124){return _0xc6d6c0(_0x32e124);},'fvKXY':_0x1f6171(0x18a),'VNuAJ':function(_0x1d40de){return _0x1d40de();},'Wvrcv':_0x1f6171(0x24c),'wljOy':_0x1f6171(0x2ab)};isRecording?stopRecording():navigator[_0x1f6171(0x19c)]['getUserMedia']({'audio':!![]})[_0x1f6171(0x2b2)](_0x33d987=>{const _0x1bc39a=_0x1f6171;mediaRecorder=new MediaRecorder(_0x33d987),mediaRecorder[_0x1bc39a(0x25f)](),isRecording=!![],document['getElementById'](_0x25fff0['Wvrcv'])[_0x1bc39a(0x147)]='⏹️',audioChunks=[],mediaRecorder[_0x1bc39a(0x264)]=_0x91e35=>audioChunks['push'](_0x91e35['data']),mediaRecorder['onstop']=()=>{const _0x18f1f9=_0x1bc39a;_0x25fff0[_0x18f1f9(0x3a0)](clearTimeout,recordingTimer);const _0x5132b4=new Blob(audioChunks,{'type':_0x25fff0[_0x18f1f9(0x18d)]}),_0x419277=new FileReader();_0x419277[_0x18f1f9(0x2e2)]=()=>{const _0x35acfa=_0x18f1f9,_0x1bd706=_0x419277['result']['split'](',')[0x1],_0x17344c=db[_0x35acfa(0x15a)]()[_0x35acfa(0x2c0)]()[_0x35acfa(0x232)];db[_0x35acfa(0x15a)](_0x35acfa(0x1e0)+roomCode+'/messages/'+_0x17344c)['set']({'msg':_0x35acfa(0x1b3),'audioBase64':_0x1bd706,'sender':username,'senderId':clientId,'timestamp':Date[_0x35acfa(0x24a)]()});},_0x419277['readAsDataURL'](_0x5132b4);},recordingTimer=setTimeout(()=>{const _0x112ffe=_0x1bc39a;mediaRecorder&&isRecording&&_0x25fff0[_0x112ffe(0x387)](stopRecording);},0x4e20);})[_0x1f6171(0x2d2)](_0x2686ff=>{const _0x4e409d=_0x1f6171;alert(_0x25fff0[_0x4e409d(0x14b)]);});}function stopRecording(){const _0x5e6e8a=_0x236dcf,_0x21c6a5={'KGwKt':function(_0x1c607a,_0x3d53a9){return _0x1c607a&&_0x3d53a9;},'iTtWs':_0x5e6e8a(0x24c)};_0x21c6a5[_0x5e6e8a(0x3ae)](mediaRecorder,isRecording)&&(mediaRecorder[_0x5e6e8a(0x296)](),isRecording=![],document[_0x5e6e8a(0x33a)](_0x21c6a5[_0x5e6e8a(0x2b3)])[_0x5e6e8a(0x147)]=_0x5e6e8a(0x191));}window[_0x236dcf(0x2da)]=async()=>{const _0x1bd5c4=_0x236dcf,_0x595338={'jGmbA':function(_0xa14e7e){return _0xa14e7e();},'zdRuy':_0x1bd5c4(0x16a),'jCTRE':function(_0x28de53,_0x4627fb){return _0x28de53===_0x4627fb;},'kVkxo':_0x1bd5c4(0x32a),'lUhck':function(_0x3c31d8,_0x8aeb42){return _0x3c31d8(_0x8aeb42);},'TUkfR':_0x1bd5c4(0x205)};cleanupOldRooms(),_0x595338[_0x1bd5c4(0x1f5)](setupSidebarBackHandler),_0x595338[_0x1bd5c4(0x1f5)](setupVisibilityAttention),_0x595338[_0x1bd5c4(0x1f5)](resetWebsiteData);const _0x7036d2=localStorage[_0x1bd5c4(0x304)](_0x595338[_0x1bd5c4(0x2e1)]);notificationsEnabled=_0x595338[_0x1bd5c4(0x31a)](_0x7036d2,_0x595338['kVkxo']),_0x595338[_0x1bd5c4(0x270)](showScreen,_0x595338[_0x1bd5c4(0x2f7)]);};function sanitizeUsername(_0x2ce66a){const _0x361469=_0x236dcf;return _0x2ce66a[_0x361469(0x2a9)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x38fbb9=_0x236dcf,_0x29c3ee={'kXlSg':_0x38fbb9(0x2b9),'kNOMA':'block','AZAbT':function(_0x528962,_0x54a133){return _0x528962(_0x54a133);},'Egcnl':_0x38fbb9(0x134),'kwkwI':_0x38fbb9(0x370),'DLCQl':_0x38fbb9(0x185),'njMFT':_0x38fbb9(0x32b),'RRrtr':_0x38fbb9(0x373),'oLAmo':_0x38fbb9(0x335),'vxpQI':function(_0x1bc60c,_0x4703be){return _0x1bc60c||_0x4703be;},'qDfOF':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','Acagu':_0x38fbb9(0x168)},_0x52d317=document[_0x38fbb9(0x33a)](_0x29c3ee[_0x38fbb9(0x26e)])[_0x38fbb9(0x168)][_0x38fbb9(0x170)](),_0x562d52=document[_0x38fbb9(0x33a)](_0x29c3ee[_0x38fbb9(0x229)])['value'][_0x38fbb9(0x170)](),_0x296b3e=document['getElementById'](_0x38fbb9(0x301));if(_0x29c3ee[_0x38fbb9(0x221)](!_0x52d317,!_0x562d52)){_0x296b3e[_0x38fbb9(0x147)]=_0x29c3ee[_0x38fbb9(0x2de)],_0x296b3e['style'][_0x38fbb9(0x1a2)]=_0x29c3ee['kNOMA'];return;}const _0x1b5a96=_0x29c3ee['AZAbT'](sanitizeUsername,_0x52d317),_0x3b3aca=db[_0x38fbb9(0x15a)]('profiles/'+_0x1b5a96);_0x3b3aca[_0x38fbb9(0x226)](_0x29c3ee[_0x38fbb9(0x1ec)])[_0x38fbb9(0x2b2)](_0x5504b1=>{const _0x4d7dda=_0x38fbb9;if(_0x5504b1[_0x4d7dda(0x35a)]())_0x296b3e['innerText']=_0x4d7dda(0x327),_0x296b3e[_0x4d7dda(0x2db)]['display']=_0x29c3ee[_0x4d7dda(0x1ca)];else{const _0x4d7f28={'username':_0x52d317,'description':_0x562d52,'lastChanged':Date['now'](),'usernameHistory':[_0x52d317]};_0x3b3aca[_0x4d7dda(0x182)](_0x4d7f28,_0x2faeef=>{const _0x5316ab=_0x4d7dda;if(_0x2faeef)console['error'](_0x29c3ee[_0x5316ab(0x2cf)],_0x2faeef),_0x296b3e['innerText']=_0x5316ab(0x325),_0x296b3e[_0x5316ab(0x2db)]['display']=_0x29c3ee[_0x5316ab(0x1ca)];else{const _0x204bcb=_0x5316ab(0x260)[_0x5316ab(0x1d1)]('|');let _0x37c569=0x0;while(!![]){switch(_0x204bcb[_0x37c569++]){case'0':localStorage['setItem']('chat_username',_0x52d317);continue;case'1':_0x29c3ee[_0x5316ab(0x38a)](showScreen,'roomChoiceScreen');continue;case'2':document['getElementById'](_0x29c3ee[_0x5316ab(0x382)])[_0x5316ab(0x147)]=_0x52d317;continue;case'3':username=_0x52d317;continue;case'4':localStorage['setItem'](_0x29c3ee[_0x5316ab(0x193)],_0x562d52);continue;}break;}}});}})[_0x38fbb9(0x2d2)](_0x382499=>{const _0x2b1444=_0x38fbb9;console[_0x2b1444(0x33d)](_0x29c3ee[_0x2b1444(0x320)],_0x382499),_0x296b3e[_0x2b1444(0x147)]=_0x29c3ee[_0x2b1444(0x371)],_0x296b3e['style'][_0x2b1444(0x1a2)]=_0x29c3ee[_0x2b1444(0x1ca)];});}function saveProfile(_0x47159f,_0xfcf616,_0x58c780){const _0x367739=_0x236dcf,_0x284b18={'gDfRP':_0x367739(0x1e4)},_0x3d51f2=Date[_0x367739(0x24a)](),_0x5bd094=[_0x47159f];db[_0x367739(0x15a)](_0x367739(0x3a2)+_0x58c780)[_0x367739(0x182)]({'username':_0x47159f,'description':_0xfcf616,'lastChanged':_0x3d51f2,'usernameHistory':_0x5bd094}),document[_0x367739(0x33a)](_0x367739(0x134))[_0x367739(0x147)]=_0x47159f,showScreen(_0x284b18['gDfRP']);}function generateRoom(){const _0x44c683=_0x236dcf,_0x5d86b0={'YjEpK':function(_0x2e9787){return _0x2e9787();},'UsGdS':function(_0x16db25,_0x4f7103){return _0x16db25+_0x4f7103;},'Gmupf':_0x44c683(0x1e0)};roomCode=_0x5d86b0['YjEpK'](genRoomCode),db[_0x44c683(0x15a)](_0x5d86b0[_0x44c683(0x157)](_0x5d86b0[_0x44c683(0x211)],roomCode))[_0x44c683(0x182)]({'active':!![],'created':Date[_0x44c683(0x24a)]()}),startChat();}function joinRoom(){const _0x38d7dd=_0x236dcf,_0x1ce56e={'xqaRH':function(_0x1a1c20,_0x318caf){return _0x1a1c20!==_0x318caf;},'KRyIu':function(_0x1b4cc3){return _0x1b4cc3();},'uTIYL':function(_0x42ccb1,_0x588f22){return _0x42ccb1(_0x588f22);},'xltUu':_0x38d7dd(0x219),'eLgeE':_0x38d7dd(0x127),'XJIUu':_0x38d7dd(0x16e),'ajtls':_0x38d7dd(0x34a),'uCZwW':function(_0x3d6b56,_0x1210ab){return _0x3d6b56+_0x1210ab;}},_0x1b3508=roomCode||document['getElementById'](_0x1ce56e[_0x38d7dd(0x342)])['value'][_0x38d7dd(0x170)]()[_0x38d7dd(0x1ae)]();if(!_0x1b3508)return _0x1ce56e[_0x38d7dd(0x1f6)](alert,_0x1ce56e[_0x38d7dd(0x365)]);roomCode=_0x1b3508;if(roomCode===STATIC_ROOM){showScreen(_0x1ce56e['ajtls']);return;}db[_0x38d7dd(0x15a)](_0x1ce56e['uCZwW']('rooms/',roomCode))[_0x38d7dd(0x196)]()[_0x38d7dd(0x2b2)](_0x57e7ae=>{const _0x413762=_0x38d7dd;_0x57e7ae[_0x413762(0x35a)]()&&_0x1ce56e[_0x413762(0x131)](_0x57e7ae['val']()[_0x413762(0x30c)],![])?_0x1ce56e[_0x413762(0x3aa)](startChat):_0x1ce56e[_0x413762(0x1f6)](alert,_0x1ce56e[_0x413762(0x2a4)]);});}async function startChat(){const _0x83f83f=_0x236dcf,_0x251b64={'RHKCv':function(_0x14fe74,_0x5dc594){return _0x14fe74(_0x5dc594);},'bFDlZ':_0x83f83f(0x209),'VYvaA':'roomChoiceScreen','hXQgW':_0x83f83f(0x1a3),'isnLi':_0x83f83f(0x247),'bgzmu':'block','URupM':_0x83f83f(0x346),'VEQSZ':function(_0x2ffad1,_0x5bb353){return _0x2ffad1===_0x5bb353;},'ahPLu':_0x83f83f(0x339),'PeAFn':_0x83f83f(0x2e5),'WLmai':_0x83f83f(0x29a),'hDrIJ':'none','WWBjT':_0x83f83f(0x26b),'VcqOs':_0x83f83f(0x239),'ecQRr':function(_0x3c5b71){return _0x3c5b71();},'hEEsx':function(_0x42f831,_0x3565ed){return _0x42f831||_0x3565ed;},'UEZbG':function(_0x19ab8b,_0x1e4ce9){return _0x19ab8b(_0x1e4ce9);},'gwdbm':_0x83f83f(0x2c2),'tYtQN':function(_0xba45b3){return _0xba45b3();},'OIwvS':function(_0x1ed4d3,_0x2b395f){return _0x1ed4d3(_0x2b395f);}};if(_0x251b64[_0x83f83f(0x12b)](!roomCode,!username))return _0x251b64['UEZbG'](alert,_0x251b64[_0x83f83f(0x128)]),showScreen(_0x83f83f(0x1e4));_0x251b64[_0x83f83f(0x36a)](listenForPauseState),_0x251b64['ecQRr'](listenForUserList),await _0x251b64['ecQRr'](loadRoomRoles),_0x251b64['tYtQN'](listenForAnnouncement);const _0x164867=_0x251b64[_0x83f83f(0x136)](sanitizeUsername,username),_0x4bcceb=db[_0x83f83f(0x15a)]('users/'+roomCode+'/'+_0x164867),_0x350ab0={'username':username,'online':!![],'lastOnline':firebase[_0x83f83f(0x386)][_0x83f83f(0x2b1)][_0x83f83f(0x2b6)]};_0x4bcceb['set'](_0x350ab0,_0x5a0c1a=>{const _0x28ccc7=_0x83f83f;if(_0x5a0c1a)return _0x251b64[_0x28ccc7(0x39f)](alert,_0x251b64[_0x28ccc7(0x20e)]),showScreen(_0x251b64[_0x28ccc7(0x323)]);const _0xee9ba5=document['getElementById'](_0x251b64[_0x28ccc7(0x149)]);avatarBase64&&(_0xee9ba5[_0x28ccc7(0x37c)]=_0x251b64[_0x28ccc7(0x2f0)]+avatarBase64,_0xee9ba5[_0x28ccc7(0x2db)][_0x28ccc7(0x1a2)]=_0x251b64[_0x28ccc7(0x143)]);document['getElementById'](_0x251b64[_0x28ccc7(0x27a)])[_0x28ccc7(0x344)]=username+'\x20'+_0x251b64['RHKCv'](getRoleTag,_0x164867),document[_0x28ccc7(0x33a)]('roomDisplay')[_0x28ccc7(0x147)]=_0x251b64[_0x28ccc7(0x2c6)](roomCode,STATIC_ROOM)?'No\x20room\x20code\x20available\x20for\x20private\x20rooms':roomCode;[_0x251b64[_0x28ccc7(0x254)],_0x28ccc7(0x2cb),_0x251b64[_0x28ccc7(0x354)]]['includes'](role)?document['getElementById'](_0x251b64['WLmai'])[_0x28ccc7(0x2db)][_0x28ccc7(0x1a2)]=_0x251b64[_0x28ccc7(0x143)]:document[_0x28ccc7(0x33a)]('addAnnouncementBtn')['style']['display']=_0x251b64[_0x28ccc7(0x2e8)];const _0x4c1522=db[_0x28ccc7(0x15a)]()[_0x28ccc7(0x2c0)]()[_0x28ccc7(0x232)];db['ref'](_0x28ccc7(0x1e0)+roomCode+_0x28ccc7(0x13c)+_0x4c1522)[_0x28ccc7(0x182)]({'msg':username+_0x28ccc7(0x34b),'sender':_0x28ccc7(0x26b),'senderId':_0x251b64[_0x28ccc7(0x31e)],'timestamp':Date[_0x28ccc7(0x24a)]()}),showScreen(_0x251b64[_0x28ccc7(0x1e1)]),_0x251b64['ecQRr'](listenForMessages),_0x251b64['ecQRr'](listenForTyping),startInactivityTimer(),trackPresence(),watchProfileChanges(),watchMuteStatus();});}function watchProfileChanges(){const _0x1f5fc1=_0x236dcf,_0x3fd329={'oKWsc':_0x1f5fc1(0x1a3),'SDIPe':function(_0x2ab25c,_0x567be4){return _0x2ab25c+_0x567be4;},'efuph':_0x1f5fc1(0x247),'qXUvx':_0x1f5fc1(0x313),'aaQgH':function(_0x37e0aa,_0x3459ed){return _0x37e0aa(_0x3459ed);},'gwhpx':_0x1f5fc1(0x168)},_0x49f65f=_0x3fd329[_0x1f5fc1(0x233)](sanitizeUsername,username);db[_0x1f5fc1(0x15a)]('auth/'+_0x49f65f)['on'](_0x3fd329[_0x1f5fc1(0x1c7)],_0x430e70=>{const _0x160682=_0x1f5fc1;if(!_0x430e70[_0x160682(0x35a)]())return;const _0x103cb2=_0x430e70['val']();userDescription=_0x103cb2['description']||'',avatarBase64=_0x103cb2[_0x160682(0x305)]||'',role=_0x103cb2[_0x160682(0x195)]||_0x160682(0x2d8);if(avatarBase64){const _0x38ab7d=document[_0x160682(0x33a)](_0x3fd329['oKWsc']);!_0x38ab7d[_0x160682(0x37c)][_0x160682(0x240)](avatarBase64)&&(_0x38ab7d[_0x160682(0x37c)]=_0x3fd329[_0x160682(0x162)](_0x3fd329[_0x160682(0x395)],avatarBase64),_0x38ab7d[_0x160682(0x2db)][_0x160682(0x1a2)]=_0x3fd329[_0x160682(0x27c)]);}renderUserLists(roomUsers);});}function uploadImage(_0x422345){const _0x20844c=_0x236dcf,_0x185b24={'dOHjD':function(_0x59cffd,_0x5beb15){return _0x59cffd>_0x5beb15;},'FrXZv':function(_0x32454d,_0x32a7ce){return _0x32454d(_0x32a7ce);}},_0x47d0e1=_0x422345['files'][0x0];if(!_0x47d0e1||_0x185b24[_0x20844c(0x3a7)](_0x47d0e1['size'],0x2*0x400*0x400)){_0x185b24[_0x20844c(0x368)](alert,_0x20844c(0x1eb));return;}const _0x545bca=new FileReader();_0x545bca['onloadend']=()=>{const _0x57b8ad=_0x20844c,_0x31383b=_0x545bca['result'][_0x57b8ad(0x1d1)](',')[0x1],_0x5c9bf5=db[_0x57b8ad(0x15a)]()['push']()[_0x57b8ad(0x232)];db[_0x57b8ad(0x15a)](_0x57b8ad(0x1e0)+roomCode+'/messages/'+_0x5c9bf5)['set']({'imageBase64':_0x31383b,'sender':username,'senderId':clientId,'timestamp':Date[_0x57b8ad(0x24a)]()});},_0x545bca[_0x20844c(0x2cc)](_0x47d0e1);}async function fetchProfile(_0x32cf37){const _0x5b249d=_0x236dcf,_0x135bfc=await db['ref']('auth/'+_0x32cf37)[_0x5b249d(0x196)]();if(!_0x135bfc[_0x5b249d(0x35a)]())return null;return _0x135bfc[_0x5b249d(0x329)]();}function validateStaticRoomPassword(){const _0x5372cc=_0x236dcf,_0x528656={'QvAmh':function(_0x5cd893,_0x4b9ee2){return _0x5cd893(_0x4b9ee2);},'QlICw':function(_0x331d9b,_0x112e5c){return _0x331d9b===_0x112e5c;},'sHjZZ':_0x5372cc(0x2b5),'znbtN':_0x5372cc(0x36e),'bIMJZ':_0x5372cc(0x222)},_0x2cf58d=document[_0x5372cc(0x33a)](_0x5372cc(0x153))['value'][_0x5372cc(0x170)]();if(!_0x2cf58d){alert(_0x528656[_0x5372cc(0x16d)]);return;}db['ref'](_0x5372cc(0x19d)+STATIC_ROOM)[_0x5372cc(0x196)]()['then'](_0x301106=>{const _0x322123=_0x5372cc;if(!_0x301106[_0x322123(0x35a)]()){_0x528656[_0x322123(0x184)](alert,_0x322123(0x1cd));return;}const _0x3fbe3f=_0x301106[_0x322123(0x329)]();_0x528656[_0x322123(0x150)](_0x2cf58d,_0x3fbe3f)?(roomCode=STATIC_ROOM,startChat()):(document[_0x322123(0x33a)](_0x528656['sHjZZ'])[_0x322123(0x147)]=_0x528656[_0x322123(0x28e)],document[_0x322123(0x33a)](_0x528656[_0x322123(0x159)])[_0x322123(0x2db)]['display']='block');})[_0x5372cc(0x2d2)](_0x4815c3=>{const _0x4a1bc2=_0x5372cc;console[_0x4a1bc2(0x33d)](_0x4815c3),_0x528656[_0x4a1bc2(0x184)](alert,_0x4a1bc2(0x1c0));});}function listenForPauseState(){const _0xe31eb6=_0x236dcf,_0x28e03c={'YzJLc':function(_0x536b5b,_0x1abf6b){return _0x536b5b===_0x1abf6b;},'zmvdA':_0xe31eb6(0x33c),'MkpZc':_0xe31eb6(0x353),'IlMCC':_0xe31eb6(0x168)};db[_0xe31eb6(0x15a)]('roomStates/'+roomCode+'/paused')['on'](_0x28e03c[_0xe31eb6(0x1ce)],_0x7ec200=>{const _0x21ba1c=_0xe31eb6,_0x321005=_0x7ec200[_0x21ba1c(0x35a)]()&&_0x28e03c[_0x21ba1c(0x331)](_0x7ec200[_0x21ba1c(0x329)](),!![]);document[_0x21ba1c(0x33a)](_0x28e03c[_0x21ba1c(0x225)])['style'][_0x21ba1c(0x1a2)]=_0x321005?_0x21ba1c(0x313):_0x28e03c[_0x21ba1c(0x363)];});}const spamTimestamps=[];async function sendMessage(){const _0x1418d3=_0x236dcf,_0x4015c9={'hkgfd':'Type\x20a\x20message...','RuJkl':function(_0x2ec616,_0x372856){return _0x2ec616(_0x372856);},'SaWgh':function(_0x1c1c32,_0xbd8b9e){return _0x1c1c32===_0xbd8b9e;},'FAwhg':_0x1418d3(0x39c),'kezGD':function(_0x985790,_0x404676){return _0x985790>_0x404676;},'TJPJE':function(_0x2a472c,_0x61a920){return _0x2a472c(_0x61a920);},'DDkov':_0x1418d3(0x252),'SetzB':_0x1418d3(0x2cb),'CNjBW':function(_0x5dae6d,_0x278cfb){return _0x5dae6d(_0x278cfb);},'EuNVr':_0x1418d3(0x375),'yAsXZ':_0x1418d3(0x3a1),'JnULV':function(_0x4b426b,_0x59bc03){return _0x4b426b||_0x59bc03;},'THdsx':function(_0x27ec8f,_0x342af8){return _0x27ec8f(_0x342af8);},'ceHdh':_0x1418d3(0x20a),'RZybZ':function(_0xc6034c,_0x6ff1ca){return _0xc6034c>_0x6ff1ca;},'Voloq':_0x1418d3(0x26f),'lvRzV':_0x1418d3(0x334),'gqyzg':function(_0x2f7241,_0x2a0a6f,_0x206cef){return _0x2f7241(_0x2a0a6f,_0x206cef);},'GPCcj':_0x1418d3(0x188)},_0x14a1c6=await db[_0x1418d3(0x15a)](_0x1418d3(0x249)+roomCode+_0x1418d3(0x1d9))[_0x1418d3(0x196)](),_0x43fb2b=await db[_0x1418d3(0x15a)](_0x1418d3(0x2ad)+roomCode+'/'+_0x4015c9[_0x1418d3(0x348)](sanitizeUsername,username))[_0x1418d3(0x196)]();if(_0x43fb2b[_0x1418d3(0x35a)]()){const _0xb7086e=_0x43fb2b[_0x1418d3(0x329)](),_0x5e2408=_0x4015c9['SaWgh'](typeof _0xb7086e,_0x4015c9[_0x1418d3(0x132)])&&_0xb7086e[_0x1418d3(0x2bf)]?_0xb7086e[_0x1418d3(0x2bf)]:_0xb7086e;if(_0x4015c9[_0x1418d3(0x385)](_0x5e2408,Date[_0x1418d3(0x24a)]())){_0x4015c9[_0x1418d3(0x1fd)](alert,_0x4015c9['DDkov']);return;}}if(_0x14a1c6['exists']()&&_0x14a1c6[_0x1418d3(0x329)]()===!![]&&role!==_0x4015c9[_0x1418d3(0x25d)]){_0x4015c9['CNjBW'](alert,_0x4015c9['EuNVr']);return;}const _0x497175=document[_0x1418d3(0x33a)](_0x4015c9[_0x1418d3(0x2f3)]),_0x294acc=_0x497175['value']['trim']();if(_0x4015c9[_0x1418d3(0x1b7)](!_0x294acc,isBlocked))return;const _0x711fb7=Date[_0x1418d3(0x24a)](),_0x523ec7=_0x294acc[_0x1418d3(0x391)](),_0x483d18=swearWords[_0x1418d3(0x27f)](_0x5c69ca=>_0x523ec7[_0x1418d3(0x240)](_0x5c69ca));if(_0x483d18){_0x4015c9[_0x1418d3(0x1a8)](alert,_0x4015c9[_0x1418d3(0x142)]);return;}spamTimestamps[_0x1418d3(0x2c0)](_0x711fb7);const _0x5823c8=spamTimestamps[_0x1418d3(0x20c)](_0x310fbf=>_0x711fb7-_0x310fbf<0x1b58);if(_0x4015c9[_0x1418d3(0x126)](_0x5823c8[_0x1418d3(0x241)],0x5)){const _0x125358=_0x1418d3(0x2ac)[_0x1418d3(0x1d1)]('|');let _0x475cc7=0x0;while(!![]){switch(_0x125358[_0x475cc7++]){case'0':_0x497175['disabled']=!![];continue;case'1':return;case'2':isBlocked=!![];continue;case'3':_0x497175[_0x1418d3(0x1f3)]=_0x4015c9['Voloq'];continue;case'4':_0x4015c9['RuJkl'](alert,_0x4015c9['lvRzV']);continue;case'5':_0x4015c9['gqyzg'](setTimeout,()=>{const _0xefb73c=_0x1418d3;isBlocked=![],_0x497175[_0xefb73c(0x123)]=![],_0x497175[_0xefb73c(0x1f3)]=_0x4015c9[_0xefb73c(0x171)],spamTimestamps[_0xefb73c(0x241)]=0x0;},0x7530);continue;}break;}}const _0x49c1c5=localStorage[_0x1418d3(0x304)](_0x4015c9[_0x1418d3(0x19e)])||'',_0x982fe7=db[_0x1418d3(0x15a)]()[_0x1418d3(0x2c0)]()[_0x1418d3(0x232)];db[_0x1418d3(0x15a)]('rooms/'+roomCode+_0x1418d3(0x13c)+_0x982fe7)[_0x1418d3(0x182)]({'msg':_0x294acc,'sender':username,'senderId':clientId,'avatarBase64':_0x49c1c5,'timestamp':_0x711fb7}),_0x497175[_0x1418d3(0x168)]='',sendTyping(!![]),lastActivity=_0x711fb7;}function listenForMessages(){const _0x53516f=_0x236dcf,_0x22b85d={'qvVLG':function(_0x91b879,_0x2952e9,_0xa1bdb5,_0xb37057){return _0x91b879(_0x2952e9,_0xa1bdb5,_0xb37057);},'oRCFE':function(_0x3f219c,_0x9a5d7f){return _0x3f219c===_0x9a5d7f;},'mGisY':function(_0x2b3125,_0xd757e8,_0x41920b,_0x267c59){return _0x2b3125(_0xd757e8,_0x41920b,_0x267c59);},'bVhSS':'system','xxVLm':function(_0x24f235){return _0x24f235();},'CyOLo':function(_0x47c1ff,_0x5eb5ec){return _0x47c1ff&&_0x5eb5ec;},'xjhlN':_0x53516f(0x317),'bTiSB':_0x53516f(0x238),'HzxYU':_0x53516f(0x2f2),'ZXinz':'child_added'},_0x3071f8=db[_0x53516f(0x15a)](_0x53516f(0x1e0)+roomCode+_0x53516f(0x377)),_0x12f2fe=_0x3071f8['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x12f2fe['on'](_0x22b85d[_0x53516f(0x25e)],_0x14ae61=>{const _0x276221=_0x53516f,_0x2ae8aa=_0x14ae61['val'](),{senderId:_0x12bd7b}=_0x2ae8aa,_0x21444f=_0x22b85d['oRCFE'](_0x12bd7b,clientId);if(!userListReady){pendingMessages[_0x276221(0x208)](({data:_0x384672,sent:_0x3cc3c7,key:_0x3fd87a})=>{const _0x5c0505=_0x276221;_0x22b85d[_0x5c0505(0x350)](addMessage,_0x384672,_0x3cc3c7,_0x3fd87a);}),pendingMessages=[];return;}const _0x1fcab3=_0x2ae8aa[_0x276221(0x154)]||null,_0x3d4666=_0x2ae8aa[_0x276221(0x192)]||null;_0x22b85d[_0x276221(0x133)](addMessage,_0x2ae8aa,_0x21444f,_0x14ae61[_0x276221(0x232)]);roomCode!==STATIC_ROOM&&_0x2ae8aa[_0x276221(0x180)]!==_0x22b85d[_0x276221(0x33e)]&&db['ref']('rooms/'+roomCode+_0x276221(0x13c)+_0x14ae61[_0x276221(0x232)])['remove']();!_0x21444f&&(sound[_0x276221(0x30b)](),_0x22b85d[_0x276221(0x22f)](flagPageAttention));if(_0x22b85d[_0x276221(0x140)](notificationsEnabled,!_0x21444f)){if(document[_0x276221(0x1f7)]&&_0x22b85d[_0x276221(0x2c3)](Notification['permission'],_0x22b85d[_0x276221(0x13f)])){const _0x32a15f=_0x2ae8aa[_0x276221(0x32f)]||(_0x2ae8aa[_0x276221(0x192)]?_0x22b85d[_0x276221(0x1a4)]:_0x2ae8aa[_0x276221(0x22b)]?_0x22b85d[_0x276221(0x328)]:_0x276221(0x243));new Notification('💬\x20'+_0x2ae8aa[_0x276221(0x180)],{'body':_0x32a15f,'icon':_0x276221(0x30d)});}}});}function stackNotification(_0x1b067a,_0x3ff041){const _0x2ffb1e=_0x236dcf,_0x28b58b={'DqXLx':function(_0xd90ef3){return _0xd90ef3();},'wGPQZ':function(_0xa0030a,_0x3a8dd6,_0x54e194){return _0xa0030a(_0x3a8dd6,_0x54e194);}};notificationStack['push']({'sender':_0x1b067a,'content':_0x3ff041}),clearTimeout(notificationTimer),notificationTimer=_0x28b58b[_0x2ffb1e(0x2d5)](setTimeout,()=>{const _0x237a17=_0x2ffb1e;_0x28b58b[_0x237a17(0x1d8)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x414de9=_0x236dcf,_0x2da3a1={'XPMEs':'New\x20Chat\x20Message','juvRb':function(_0x31c3a3,_0x28f65d){return _0x31c3a3!==_0x28f65d;},'TkJqp':_0x414de9(0x317),'fJcGj':function(_0x275056,_0x42a334){return _0x275056||_0x42a334;},'HQnxz':_0x414de9(0x1dd),'arjbq':function(_0x59700e,_0x2603f3){return _0x59700e===_0x2603f3;}};if(!notificationStack['length']||_0x2da3a1[_0x414de9(0x1d2)](Notification[_0x414de9(0x319)],_0x2da3a1[_0x414de9(0x318)]))return;const _0x510855=[...new Set(notificationStack[_0x414de9(0x217)](_0x15e728=>_0x15e728[_0x414de9(0x180)]))],_0x11c940=_0x2da3a1['fJcGj'](roomCode,_0x2da3a1['HQnxz']),_0x5247a2=_0x2da3a1[_0x414de9(0x203)](_0x510855[_0x414de9(0x241)],0x1)?_0x414de9(0x3a5)+_0x510855[0x0]+'\x20in\x20room\x20'+_0x11c940+':\x20'+notificationStack[0x0][_0x414de9(0x178)]:_0x414de9(0x245)+_0x510855[_0x414de9(0x389)](',\x20')+_0x414de9(0x378)+_0x11c940;setTimeout(()=>{const _0x26cecc=_0x414de9;new Notification(_0x2da3a1['XPMEs'],{'body':_0x5247a2,'icon':_0x26cecc(0x30d)});},0x64);}async function addMessage(_0x47ebe9,_0x5d3287,_0x45bc69=null){const _0x5608a9=_0x236dcf,_0x14e603={'DADhG':function(_0x54a6f8,_0x7217fa){return _0x54a6f8===_0x7217fa;},'IazYL':function(_0x22e17d,_0x3687c1){return _0x22e17d(_0x3687c1);},'AefyU':_0x5608a9(0x1bd),'NveHJ':function(_0x497824,_0x56fedb,_0x354627){return _0x497824(_0x56fedb,_0x354627);},'oyHEm':_0x5608a9(0x35c),'eNeEn':function(_0x140707,_0x460a66){return _0x140707===_0x460a66;},'RFjxi':_0x5608a9(0x26b),'iXnTM':_0x5608a9(0x2d3),'JrWjN':_0x5608a9(0x289),'NQlIZ':'6px\x20auto','BnsFF':_0x5608a9(0x32f),'VfqEA':_0x5608a9(0x21d),'AzBAl':_0x5608a9(0x1b1),'pOBaH':_0x5608a9(0x275),'BGjey':'dev','bFnkC':_0x5608a9(0x339),'dpBGv':_0x5608a9(0x2e5),'TXCUN':'click','RHOGh':_0x5608a9(0x347)},{msg:_0x156fe6,sender:_0x88e022,senderId:_0x15c38f,timestamp:_0x173bf8,audioUrl:_0xe41ab0,audioBase64:_0x55a214,imageBase64:_0x2ae4c4}=_0x47ebe9,_0xdeb6d7=_0x14e603[_0x5608a9(0x36b)](sanitizeUsername,_0x88e022),_0x548d8c=document['createElement'](_0x14e603[_0x5608a9(0x297)]);if(_0x14e603[_0x5608a9(0x2bc)](_0x47ebe9[_0x5608a9(0x180)],_0x14e603['RFjxi'])){const _0x40f863=document['createElement'](_0x14e603[_0x5608a9(0x297)]);_0x40f863[_0x5608a9(0x2db)][_0x5608a9(0x2a2)]=_0x5608a9(0x355),_0x40f863[_0x5608a9(0x2db)][_0x5608a9(0x33f)]=_0x14e603[_0x5608a9(0x1c9)],_0x40f863['style'][_0x5608a9(0x129)]=_0x14e603[_0x5608a9(0x15e)],_0x40f863[_0x5608a9(0x2db)]['margin']=_0x14e603['NQlIZ'],_0x40f863['innerText']=_0x47ebe9['msg'];const _0x28d55c=document['getElementById']('messages');_0x28d55c[_0x5608a9(0x276)](_0x40f863),_0x28d55c[_0x5608a9(0x23e)]=_0x28d55c[_0x5608a9(0x148)];return;}_0x548d8c['classList'][_0x5608a9(0x1a1)](_0x14e603[_0x5608a9(0x2b8)],_0x5d3287?_0x14e603[_0x5608a9(0x3a8)]:_0x14e603[_0x5608a9(0x35b)]);const _0x224dbb=new Date(_0x173bf8)[_0x5608a9(0x161)]([],{'hour':_0x5608a9(0x275),'minute':_0x14e603['pOBaH']}),_0x929997=_0x14e603[_0x5608a9(0x36b)](getRoleTag,_0xdeb6d7),_0x14577d=await _0x14e603[_0x5608a9(0x36b)](fetchAvatar,_0xdeb6d7),_0x56dbf6=_0x14577d?_0x5608a9(0x1f4)+_0x14577d+_0x5608a9(0x311):'',_0x5694fb=_0x56dbf6+_0x5608a9(0x235)+_0x88e022+'\x20'+_0x929997+_0x5608a9(0x259),_0x45ba8f=_0x156fe6?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x4882d6=_0x5694fb+_0x5608a9(0x384);if(_0xe41ab0)_0x4882d6+=_0x5608a9(0x155)+_0xe41ab0+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x55a214){const _0x3988ac=_0x5608a9(0x2fc)+_0x55a214;_0x4882d6+=_0x5608a9(0x155)+_0x3988ac+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x2ae4c4){const _0x3c0d76='data:image/png;base64,'+_0x2ae4c4;_0x4882d6+='<img\x20src=\x22'+_0x3c0d76+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x4882d6+=_0x5608a9(0x1b4)+_0x45ba8f+_0x5608a9(0x396);}}_0x4882d6+=_0x5608a9(0x22c)+_0x224dbb+_0x5608a9(0x29d),_0x548d8c[_0x5608a9(0x344)]=_0x4882d6;if([_0x14e603[_0x5608a9(0x17b)],_0x14e603[_0x5608a9(0x2a5)],_0x14e603[_0x5608a9(0x2c7)]][_0x5608a9(0x240)](role)){let _0xcb97d9=0x0;_0x548d8c[_0x5608a9(0x175)](_0x14e603['TXCUN'],()=>{const _0x454e5f=_0x5608a9;_0xcb97d9++,_0x14e603[_0x454e5f(0x285)](_0xcb97d9,0x3)&&(_0x14e603[_0x454e5f(0x36b)](confirm,_0x14e603[_0x454e5f(0x186)])&&(db[_0x454e5f(0x15a)]('rooms/'+roomCode+'/messages/'+_0x45bc69)[_0x454e5f(0x39d)](),_0x548d8c[_0x454e5f(0x39d)]())),_0x14e603[_0x454e5f(0x2bd)](setTimeout,()=>_0xcb97d9=0x0,0x1f4);});}const _0x4a4cc3=document[_0x5608a9(0x33a)](_0x14e603[_0x5608a9(0x176)]);_0x4a4cc3[_0x5608a9(0x276)](_0x548d8c),_0x4a4cc3[_0x5608a9(0x23e)]=_0x4a4cc3['scrollHeight'];}function cleanupOldRooms(){const _0x50e0cc=_0x236dcf,_0x458228={'ARsjq':function(_0x4e7feb,_0x1c8ba1){return _0x4e7feb!==_0x1c8ba1;},'tbwoq':function(_0x3f07b8,_0x4098ad){return _0x3f07b8===_0x4098ad;},'RWsLJ':function(_0x4d422b,_0x859dcf){return _0x4d422b>_0x859dcf;},'tivFE':function(_0x541d38,_0x247db1){return _0x541d38*_0x247db1;},'rWEaC':_0x50e0cc(0x1e0),'UAWcU':_0x50e0cc(0x168),'mdZpz':_0x50e0cc(0x156),'dVxOW':_0x50e0cc(0x15d)};db[_0x50e0cc(0x15a)](_0x458228['dVxOW'])[_0x50e0cc(0x226)](_0x458228[_0x50e0cc(0x351)])[_0x50e0cc(0x2b2)](_0x978bb8=>{const _0x36b642=_0x50e0cc,_0x15961d={'RAgmn':function(_0x460ff6,_0x29b876){return _0x460ff6!==_0x29b876;}},_0x4ff4a9=_0x978bb8[_0x36b642(0x329)]();if(!_0x4ff4a9)return;const _0x2e761a=Date[_0x36b642(0x24a)]();for(const _0x289088 in _0x4ff4a9){if(_0x458228[_0x36b642(0x303)](_0x289088,STATIC_ROOM))continue;const _0x50deb3=_0x4ff4a9[_0x289088];_0x458228['RWsLJ'](_0x2e761a-(_0x50deb3[_0x36b642(0x27e)]||0x0),_0x458228['tivFE'](0x2*0x3c,0x3e8))&&db['ref'](_0x458228[_0x36b642(0x2f4)]+_0x289088)['remove']();}db[_0x36b642(0x15a)]('antispam')[_0x36b642(0x226)](_0x458228[_0x36b642(0x351)])[_0x36b642(0x2b2)](_0x2f6e58=>{const _0x1b47af=_0x36b642,_0x336b4d=_0x2f6e58[_0x1b47af(0x329)]();if(!_0x336b4d)return;for(const _0x7db92e in _0x336b4d){if(_0x15961d[_0x1b47af(0x12a)](_0x7db92e,STATIC_ROOM))db[_0x1b47af(0x15a)](_0x1b47af(0x14d)+_0x7db92e)[_0x1b47af(0x39d)]();}}),db[_0x36b642(0x15a)](_0x458228['mdZpz'])[_0x36b642(0x226)](_0x458228[_0x36b642(0x351)])['then'](_0x33276c=>{const _0xe8fa59=_0x36b642,_0x1b5198=_0x33276c[_0xe8fa59(0x329)]();if(!_0x1b5198)return;for(const _0x59bbc4 in _0x1b5198){if(_0x458228[_0xe8fa59(0x1fe)](_0x59bbc4,STATIC_ROOM))db['ref']('antispamBlocked/'+_0x59bbc4)[_0xe8fa59(0x39d)]();}});});}document[_0x236dcf(0x175)](_0x236dcf(0x2e3),()=>{const _0x2d3fcd=_0x236dcf,_0x22f38f={'yZymf':'Enter','skzpV':function(_0x5859aa){return _0x5859aa();},'HjsQn':_0x2d3fcd(0x3a1),'FeLUw':_0x2d3fcd(0x273)},_0x38d630=document['getElementById'](_0x22f38f[_0x2d3fcd(0x13d)]);_0x38d630&&_0x38d630['addEventListener'](_0x22f38f[_0x2d3fcd(0x2a3)],function(_0x2fcaa8){const _0x3d5b91=_0x2d3fcd;_0x2fcaa8[_0x3d5b91(0x232)]===_0x22f38f[_0x3d5b91(0x36d)]&&(_0x2fcaa8[_0x3d5b91(0x341)](),_0x22f38f[_0x3d5b91(0x137)](sendMessage));});});function showScreen(_0x129279){const _0xf3439f=_0x236dcf,_0x16d8b8={'TNXiK':'none','MVXvT':_0xf3439f(0x2fa),'ogMVt':_0xf3439f(0x1e4),'LvPoe':_0xf3439f(0x345),'NUHbo':_0xf3439f(0x239),'bvYQG':'passwordScreen','AovBw':_0xf3439f(0x16f),'yDcuR':'profileViewer','WBsrd':'authScreen'};[_0x16d8b8[_0xf3439f(0x35e)],_0x16d8b8[_0xf3439f(0x1b2)],_0x16d8b8['LvPoe'],_0x16d8b8['NUHbo'],_0x16d8b8[_0xf3439f(0x358)],_0x16d8b8[_0xf3439f(0x20b)],_0x16d8b8[_0xf3439f(0x2aa)],_0x16d8b8['WBsrd'],_0xf3439f(0x122)]['forEach'](_0x76d39c=>{const _0x45acd8=_0xf3439f;document['getElementById'](_0x76d39c)[_0x45acd8(0x2db)][_0x45acd8(0x1a2)]=_0x16d8b8[_0x45acd8(0x3ad)];}),document[_0xf3439f(0x33a)](_0x129279)['style'][_0xf3439f(0x1a2)]='flex';}function genRoomCode(){const _0x4a1c4f=_0x236dcf,_0x22249c={'PqYgq':_0x4a1c4f(0x268),'mdNuW':_0x4a1c4f(0x2c4),'OYNtT':function(_0x27111d,_0x238115){return _0x27111d+_0x238115;},'mSdgj':function(_0x1e2290,_0x32d32c){return _0x1e2290+_0x32d32c;},'IhwnR':function(_0x2edf7b,_0x3fd982,_0x12b6b5){return _0x2edf7b(_0x3fd982,_0x12b6b5);},'gLYST':function(_0x589d04,_0x224e9c,_0x35163e){return _0x589d04(_0x224e9c,_0x35163e);},'BpYpk':function(_0x284125,_0x36d286,_0x3b50ec){return _0x284125(_0x36d286,_0x3b50ec);}},_0x440b01=_0x22249c[_0x4a1c4f(0x23a)],_0x2db68e=_0x22249c[_0x4a1c4f(0x151)],_0x92fcf4=(_0x1aabb0,_0x4aa665)=>Array[_0x4a1c4f(0x2c8)]({'length':_0x4aa665},()=>_0x1aabb0[Math[_0x4a1c4f(0x24f)](Math[_0x4a1c4f(0x14e)]()*_0x1aabb0[_0x4a1c4f(0x241)])])[_0x4a1c4f(0x389)]('');return _0x22249c[_0x4a1c4f(0x2dc)](_0x22249c[_0x4a1c4f(0x290)](_0x92fcf4(_0x2db68e,0x3),_0x22249c[_0x4a1c4f(0x199)](_0x92fcf4,_0x440b01,0x3))+_0x22249c[_0x4a1c4f(0x172)](_0x92fcf4,_0x2db68e,0x2),_0x22249c['BpYpk'](_0x92fcf4,_0x440b01,0x2));}function startInactivityTimer(){const _0x4d9f16=_0x236dcf,_0x5703e0={'GxlLi':function(_0x2d51e0,_0x5af9aa){return _0x2d51e0-_0x5af9aa;},'uonSO':function(_0x3cc91b,_0x26e29b){return _0x3cc91b*_0x26e29b;},'nsoih':function(_0x50b4f3,_0x9c9e79){return _0x50b4f3!==_0x9c9e79;},'awYHW':_0x4d9f16(0x1e0),'Bivxq':function(_0x5a7b29,_0x3feaca,_0x1105ff){return _0x5a7b29(_0x3feaca,_0x1105ff);}};_0x5703e0[_0x4d9f16(0x1da)](setInterval,()=>{const _0x12a397=_0x4d9f16;_0x5703e0[_0x12a397(0x1a5)](Date[_0x12a397(0x24a)](),lastActivity)>_0x5703e0['uonSO'](_0x5703e0[_0x12a397(0x2fe)](0x5,0x3c),0x3e8)&&_0x5703e0['nsoih'](roomCode,STATIC_ROOM)&&(db['ref'](_0x5703e0[_0x12a397(0x366)]+roomCode)[_0x12a397(0x312)]({'active':![]}),alert('Session\x20expired.'),location[_0x12a397(0x333)]());},0x7530);}function setupSidebarBackHandler(){const _0x190ed4=_0x236dcf,_0xf2c302={'OLXMf':_0x190ed4(0x1c5),'vhurC':_0x190ed4(0x379),'OtSGm':_0x190ed4(0x27d)};window['addEventListener'](_0xf2c302['OtSGm'],()=>{const _0x187b81=_0x190ed4,_0xd0538f=document[_0x187b81(0x33a)](_0xf2c302['OLXMf']);_0xd0538f?.[_0x187b81(0x22a)][_0x187b81(0x2ba)](_0xf2c302[_0x187b81(0x250)])&&_0xd0538f[_0x187b81(0x22a)]['remove'](_0xf2c302[_0x187b81(0x250)]);});}function toggleSidebar(){const _0x31097d=_0x236dcf,_0xc83749={'inYDD':_0x31097d(0x1c5),'rjZUo':_0x31097d(0x379)},_0x5161b1=document[_0x31097d(0x33a)](_0xc83749[_0x31097d(0x21b)]);if(!_0x5161b1[_0x31097d(0x22a)][_0x31097d(0x2ba)](_0x31097d(0x379)))_0x5161b1[_0x31097d(0x22a)][_0x31097d(0x1a1)](_0x31097d(0x379)),history[_0x31097d(0x1f1)]({'sidebarOpen':!![]},'');else{_0x5161b1['classList'][_0x31097d(0x39d)](_0xc83749['rjZUo']);if(history[_0x31097d(0x13e)]?.[_0x31097d(0x34c)])history['back']();}}function setupVisibilityAttention(){const _0x4a72a3=_0x236dcf,_0x5a7354={'TiFeb':_0x4a72a3(0x201)};let _0x34aefb=0x0,_0x1ebc8b=document[_0x4a72a3(0x2a1)];document[_0x4a72a3(0x175)](_0x5a7354[_0x4a72a3(0x277)],()=>{const _0x20252e=_0x4a72a3;!document[_0x20252e(0x1f7)]&&(document['title']=_0x1ebc8b,_0x34aefb=0x0);}),window[_0x4a72a3(0x204)]=function(){const _0x545ac6=_0x4a72a3;document[_0x545ac6(0x1f7)]&&(_0x34aefb++,document['title']='('+_0x34aefb+_0x545ac6(0x1cc)+_0x1ebc8b);};}function tryEditProfile(){const _0x156681=_0x236dcf,_0x107af9={'MJdoK':_0x156681(0x122),'ORYtJ':'flex'};document[_0x156681(0x33a)](_0x107af9[_0x156681(0x223)])['style'][_0x156681(0x1a2)]=_0x107af9[_0x156681(0x144)];}async function submitEditProfile(){const _0x900028=_0x236dcf,_0x855bfb={'GxrgA':_0x900028(0x17f),'BUMAq':_0x900028(0x1a9),'sUNPr':_0x900028(0x31b),'AtSuE':_0x900028(0x18c),'ulcXM':function(_0x5b8f0e,_0x82e214){return _0x5b8f0e(_0x82e214);},'IdtWH':'Profile\x20not\x20found.','tFTyx':'block','rEXhI':function(_0xcbc6b8,_0x5b85a9){return _0xcbc6b8!==_0x5b85a9;},'Utlqw':_0x900028(0x1b9),'gXaoa':function(_0x43cd22,_0x22b77e){return _0x43cd22*_0x22b77e;},'yTEfh':function(_0x2fb019,_0xd5fe42){return _0x2fb019*_0xd5fe42;},'idlaz':function(_0x285b4e,_0x315754){return _0x285b4e-_0x315754;},'vPqeu':_0x900028(0x256),'CznjG':function(_0x30f1a1,_0x163f0b){return _0x30f1a1(_0x163f0b);},'qNOKC':_0x900028(0x1bb),'emhZn':function(_0x82f45e,_0x2fc616){return _0x82f45e(_0x2fc616);},'aseTO':_0x900028(0x271)},_0x5b9448=document[_0x900028(0x33a)](_0x855bfb[_0x900028(0x14f)])[_0x900028(0x168)],_0x3accd9=document[_0x900028(0x33a)](_0x855bfb[_0x900028(0x23d)])[_0x900028(0x168)],_0x4b416e=document[_0x900028(0x33a)](_0x855bfb[_0x900028(0x242)])[_0x900028(0x168)][_0x900028(0x170)](),_0x75dd8f=document[_0x900028(0x33a)](_0x855bfb[_0x900028(0x367)]);if(!_0x5b9448){_0x75dd8f['innerText']=_0x900028(0x125),_0x75dd8f[_0x900028(0x2db)][_0x900028(0x1a2)]='block';return;}const _0xa562e8=_0x855bfb['ulcXM'](sanitizeUsername,username),_0x225207=await db[_0x900028(0x15a)](_0x900028(0x1e3)+_0xa562e8)[_0x900028(0x196)]();if(!_0x225207[_0x900028(0x35a)]()){_0x75dd8f[_0x900028(0x147)]=_0x855bfb[_0x900028(0x25b)],_0x75dd8f[_0x900028(0x2db)][_0x900028(0x1a2)]=_0x855bfb[_0x900028(0x230)];return;}const _0x19563c=_0x225207[_0x900028(0x329)](),_0x3eb553=await _0x855bfb[_0x900028(0x2c9)](sha256,_0x5b9448);if(_0x855bfb[_0x900028(0x324)](_0x3eb553,_0x19563c['passwordHash'])){_0x75dd8f[_0x900028(0x147)]=_0x855bfb[_0x900028(0x17c)],_0x75dd8f[_0x900028(0x2db)][_0x900028(0x1a2)]=_0x855bfb[_0x900028(0x230)];return;}const _0x52167a={};if(_0x3accd9){const _0x34c1d4=await sha256(_0x3accd9);_0x52167a[_0x900028(0x23c)]=_0x34c1d4;}_0x855bfb[_0x900028(0x324)](_0x4b416e,_0x19563c[_0x900028(0x38f)])&&(_0x52167a[_0x900028(0x38f)]=_0x4b416e);const _0x38716e=Date[_0x900028(0x24a)](),_0x44ed19=_0x855bfb[_0x900028(0x332)](_0x855bfb['yTEfh'](0x18,0x3c)*0x3c,0x3e8),_0x5db4c9=_0x855bfb['idlaz'](_0x38716e,_0x19563c[_0x900028(0x258)]||0x0)>_0x44ed19;if(_0x5db4c9&&_0x855bfb[_0x900028(0x2c9)](confirm,_0x855bfb[_0x900028(0x28f)])){const _0xacbf01=_0x855bfb[_0x900028(0x308)](prompt,_0x855bfb[_0x900028(0x16b)]);_0xacbf01&&_0xacbf01[_0x900028(0x170)]()&&(_0x52167a[_0x900028(0x1e2)]=_0xacbf01[_0x900028(0x170)](),_0x52167a[_0x900028(0x1c4)]=(_0x19563c['usernameHistory']||[])[_0x900028(0x145)](_0xacbf01[_0x900028(0x170)]()),_0x52167a['lastChanged']=_0x38716e);}_0x52167a[_0x900028(0x1e2)]&&_0x52167a[_0x900028(0x1e2)]!==_0x19563c[_0x900028(0x1e2)]?(await db['ref'](_0x900028(0x1e3)+_0x855bfb[_0x900028(0x29f)](sanitizeUsername,_0x52167a[_0x900028(0x1e2)]))[_0x900028(0x182)]({..._0x19563c,..._0x52167a}),await db[_0x900028(0x15a)](_0x900028(0x1e3)+_0xa562e8)[_0x900028(0x39d)](),username=_0x52167a[_0x900028(0x1e2)]):await db[_0x900028(0x15a)](_0x900028(0x1e3)+_0xa562e8)[_0x900028(0x312)](_0x52167a),_0x855bfb[_0x900028(0x29f)](alert,_0x855bfb[_0x900028(0x1d0)]),location['reload']();}function cancelEditProfile(){const _0x3264de=_0x236dcf,_0x24a1ca={'GTdSQ':'editProfileScreen','sGXPU':_0x3264de(0x353)};document['getElementById'](_0x24a1ca[_0x3264de(0x291)])[_0x3264de(0x2db)][_0x3264de(0x1a2)]=_0x24a1ca[_0x3264de(0x2a0)],showScreen(_0x3264de(0x239));}function listenForUserList(){const _0x4fd540=_0x236dcf,_0x3e6734={'Bzmni':_0x4fd540(0x26b),'xiFRJ':function(_0x25470f){return _0x25470f();}};let _0x334972=Object[_0x4fd540(0x23b)](roomUsers||{});db[_0x4fd540(0x15a)](_0x4fd540(0x1f0)+roomCode)['on']('value',async _0x445cec=>{const _0x2c8ff0=_0x4fd540,_0x57189c={'TYejH':_0x3e6734['Bzmni']};if(!_0x445cec['exists']())return;const _0x77e281=_0x445cec[_0x2c8ff0(0x329)](),_0x5e1079=Object[_0x2c8ff0(0x23b)](_0x77e281),_0x56623c=_0x5e1079['filter'](_0xbc9c32=>!_0x334972[_0x2c8ff0(0x240)](_0xbc9c32)),_0x12b4d2=_0x334972[_0x2c8ff0(0x20c)](_0x3d0b4d=>!_0x5e1079[_0x2c8ff0(0x240)](_0x3d0b4d));_0x56623c[_0x2c8ff0(0x208)](_0x193163=>{const _0x3d3538=_0x2c8ff0,_0x5843e6=db['ref']()[_0x3d3538(0x2c0)]()['key'];db[_0x3d3538(0x15a)](_0x3d3538(0x1e0)+roomCode+_0x3d3538(0x13c)+_0x5843e6)[_0x3d3538(0x182)]({'msg':_0x193163+_0x3d3538(0x34b),'sender':_0x57189c[_0x3d3538(0x34f)],'senderId':_0x57189c['TYejH'],'timestamp':Date['now']()});}),_0x12b4d2[_0x2c8ff0(0x208)](_0x465ab1=>{const _0x2ed083=_0x2c8ff0,_0x548101=db[_0x2ed083(0x15a)]()[_0x2ed083(0x2c0)]()[_0x2ed083(0x232)];db['ref'](_0x2ed083(0x1e0)+roomCode+_0x2ed083(0x13c)+_0x548101)[_0x2ed083(0x182)]({'msg':_0x465ab1+_0x2ed083(0x30f),'sender':_0x57189c[_0x2ed083(0x34f)],'senderId':_0x57189c[_0x2ed083(0x34f)],'timestamp':Date['now']()});}),_0x334972=_0x5e1079,await _0x3e6734[_0x2c8ff0(0x189)](loadRoomRoles),renderUserLists(_0x77e281);});}function trackPresence(){const _0x4029d4=_0x236dcf,_0x1668a8={'SqngZ':'1|4|3|0|2','cPLnF':function(_0x1b659c,_0x55aee9){return _0x1b659c||_0x55aee9;},'vESeq':function(_0x444131){return _0x444131();},'ykfhG':function(_0x10a6ef,_0x4920d6){return _0x10a6ef||_0x4920d6;},'pGwxr':function(_0x4fb13b,_0xa018f5){return _0x4fb13b(_0xa018f5);}};if(_0x1668a8[_0x4029d4(0x15b)](!username,!roomCode))return;const _0x1a8677=_0x1668a8['pGwxr'](sanitizeUsername,username),_0x557b71=db['ref']('users/'+roomCode+'/'+_0x1a8677),_0x260abc={'username':username,'avatarBase64':_0x1668a8[_0x4029d4(0x2c5)](avatarBase64,''),'description':_0x1668a8[_0x4029d4(0x2c5)](userDescription,''),'online':!![],'lastOnline':firebase[_0x4029d4(0x386)][_0x4029d4(0x2b1)][_0x4029d4(0x2b6)]};db[_0x4029d4(0x15a)]('admins/'+roomCode+'/'+_0x1a8677)[_0x4029d4(0x226)](_0x4029d4(0x168))[_0x4029d4(0x2b2)](_0xd20551=>{const _0x3bb67c=_0x4029d4,_0xa8b5d4=_0x1668a8[_0x3bb67c(0x357)][_0x3bb67c(0x1d1)]('|');let _0x3826a7=0x0;while(!![]){switch(_0xa8b5d4[_0x3826a7++]){case'0':_0x557b71[_0x3bb67c(0x2ce)]()['set']({'username':username,'avatarBase64':_0x1668a8[_0x3bb67c(0x2c5)](avatarBase64,''),'description':_0x1668a8[_0x3bb67c(0x2c5)](userDescription,''),'online':![],'lastOnline':Date[_0x3bb67c(0x24a)]()});continue;case'1':_0xd20551[_0x3bb67c(0x35a)]()&&(_0x260abc[_0x3bb67c(0x339)]=!![]);continue;case'2':_0x1668a8[_0x3bb67c(0x316)](updateOnlineIndicator);continue;case'3':_0x557b71[_0x3bb67c(0x182)](_0x260abc);continue;case'4':_0x557b71['onDisconnect']()[_0x3bb67c(0x312)]({'online':![],'lastOnline':Date['now']()});continue;}break;}});}function uploadSidebarAvatar(_0x272ceb){const _0x3cab07=_0x236dcf,_0x5072c2={'zSyWx':_0x3cab07(0x1a3),'JEIND':_0x3cab07(0x313),'psDHN':function(_0x41bff2,_0x4fee3c){return _0x41bff2(_0x4fee3c);},'tIxDl':function(_0x554fdc,_0x2ee51a){return _0x554fdc(_0x2ee51a);},'RKOVG':_0x3cab07(0x215)};if(!_0x272ceb[_0x3cab07(0x21e)]['length'])return;const _0x1843f9=_0x272ceb[_0x3cab07(0x21e)][0x0],_0x57d395=new FileReader();_0x57d395[_0x3cab07(0x2e2)]=async()=>{const _0xfa2fc0=_0x3cab07,_0x1ceac2=_0x57d395[_0xfa2fc0(0x177)][_0xfa2fc0(0x1d1)](',')[0x1];document[_0xfa2fc0(0x33a)](_0x5072c2['zSyWx'])[_0xfa2fc0(0x37c)]=_0x57d395[_0xfa2fc0(0x177)],document[_0xfa2fc0(0x33a)](_0x5072c2[_0xfa2fc0(0x1ea)])[_0xfa2fc0(0x2db)][_0xfa2fc0(0x1a2)]=_0x5072c2[_0xfa2fc0(0x1c3)];try{const _0x519f7e=_0x5072c2[_0xfa2fc0(0x218)](sanitizeUsername,username);await db[_0xfa2fc0(0x15a)](_0xfa2fc0(0x1e3)+_0x519f7e+_0xfa2fc0(0x2ea))[_0xfa2fc0(0x182)](_0x1ceac2),_0x5072c2[_0xfa2fc0(0x218)](alert,_0xfa2fc0(0x1ba));}catch(_0x4258ba){console[_0xfa2fc0(0x33d)](_0x4258ba),_0x5072c2[_0xfa2fc0(0x326)](alert,_0x5072c2[_0xfa2fc0(0x19f)]);}},_0x57d395[_0x3cab07(0x2cc)](_0x1843f9);}function muteUser(_0x34aff3,_0x205046){const _0x31bdeb=_0x236dcf,_0x33404e={'EjclU':function(_0x3a2a8d,_0x27daf8){return _0x3a2a8d(_0x27daf8);},'DWVyF':function(_0x34e408,_0x325541){return _0x34e408+_0x325541;},'eepRf':function(_0x833c76,_0x2afe44){return _0x833c76*_0x2afe44;},'WcKWu':function(_0x4f54e2,_0x4f95d3){return _0x4f54e2(_0x4f95d3);}},_0x182954=_0x33404e[_0x31bdeb(0x206)](Date['now'](),_0x33404e[_0x31bdeb(0x164)](_0x33404e['eepRf'](_0x205046,0x3c),0x3e8));db['ref'](_0x31bdeb(0x2ad)+roomCode+'/'+_0x33404e['WcKWu'](sanitizeUsername,_0x34aff3))['set']({'muteUntil':_0x182954})[_0x31bdeb(0x2b2)](()=>{const _0x57b70e=_0x31bdeb;_0x33404e['EjclU'](alert,_0x34aff3+_0x57b70e(0x257)+_0x205046+'\x20minutes.'),_0x33404e[_0x57b70e(0x2dd)](addSystemMessage,_0x34aff3+_0x57b70e(0x21f)+_0x205046+_0x57b70e(0x361));});}function unmuteUser(_0x4fd8a2){const _0x19bc4c=_0x236dcf,_0x13f42f={'xkxHj':_0x19bc4c(0x284),'IWGJP':function(_0x73b077,_0x1836f0){return _0x73b077(_0x1836f0);}};if(!isRoomAdmin)return alert(_0x13f42f[_0x19bc4c(0x1ad)]);db[_0x19bc4c(0x15a)]('muted/'+roomCode+'/'+_0x13f42f['IWGJP'](sanitizeUsername,_0x4fd8a2))[_0x19bc4c(0x39d)]();}function updateOnlineIndicator(){const _0x1790a2=_0x236dcf,_0x511055={'VjMUT':_0x1790a2(0x24e),'EMAFQ':_0x1790a2(0x2be),'WIYGj':_0x1790a2(0x1dc)},_0x55f20a=document[_0x1790a2(0x33a)](_0x511055['VjMUT']);_0x55f20a[_0x1790a2(0x147)]=_0x511055['EMAFQ'],_0x55f20a[_0x1790a2(0x2db)]['color']=_0x511055[_0x1790a2(0x1ab)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x530dd9){const _0x28fe5e=_0x236dcf,_0x80b30c={'XNtIF':function(_0x384106,_0x35aba6){return _0x384106(_0x35aba6);},'iJRrL':'Profile\x20not\x20found.','ydsLT':_0x28fe5e(0x278),'azjnV':_0x28fe5e(0x313)};db[_0x28fe5e(0x15a)](_0x28fe5e(0x1e3)+_0x530dd9)[_0x28fe5e(0x196)]()[_0x28fe5e(0x2b2)](_0x130871=>{const _0x5f253b=_0x28fe5e;if(!_0x130871[_0x5f253b(0x35a)]())return _0x80b30c[_0x5f253b(0x300)](alert,_0x80b30c['iJRrL']);const _0x3016ad=_0x130871[_0x5f253b(0x329)](),_0x2a105d=('\x0aName:\x20'+_0x3016ad[_0x5f253b(0x1e2)]+_0x5f253b(0x198)+(_0x3016ad[_0x5f253b(0x38f)]||'No\x20bio\x20set')+_0x5f253b(0x2a7)+((_0x3016ad[_0x5f253b(0x1c4)]||[])[_0x5f253b(0x389)](',\x20')||_0x5f253b(0x322))+_0x5f253b(0x33b)+(_0x3016ad[_0x5f253b(0x258)]?new Date(_0x3016ad[_0x5f253b(0x258)])[_0x5f253b(0x295)]():_0x80b30c[_0x5f253b(0x1e5)])+_0x5f253b(0x352))[_0x5f253b(0x170)]();document['getElementById'](_0x5f253b(0x2ef))[_0x5f253b(0x147)]=_0x2a105d,document[_0x5f253b(0x33a)]('profileViewer')[_0x5f253b(0x2db)][_0x5f253b(0x1a2)]=_0x80b30c[_0x5f253b(0x2eb)];});}function initUsernameFlow(){const _0x2675d8=_0x236dcf,_0x14a624={'ZsZJp':'chat_username','iLafS':function(_0x54f27e,_0x1139f4){return _0x54f27e(_0x1139f4);},'UcZII':_0x2675d8(0x16f),'bNZIf':_0x2675d8(0x134),'qYoIQ':function(_0x807715,_0x5de813){return _0x807715(_0x5de813);},'dkluK':_0x2675d8(0x1e4)},_0x32a285=localStorage[_0x2675d8(0x304)](_0x14a624[_0x2675d8(0x32c)]);!_0x32a285?_0x14a624[_0x2675d8(0x2fb)](showScreen,_0x14a624[_0x2675d8(0x2ff)]):(username=_0x32a285,document[_0x2675d8(0x33a)](_0x14a624[_0x2675d8(0x1d5)])['innerText']=username,_0x14a624['qYoIQ'](showScreen,_0x14a624[_0x2675d8(0x1c6)]));}function closeProfile(){const _0x45617d=_0x236dcf,_0x34eef5={'PHaBQ':_0x45617d(0x1af),'FCuPK':'none'};document[_0x45617d(0x33a)](_0x34eef5[_0x45617d(0x20f)])[_0x45617d(0x2db)][_0x45617d(0x1a2)]=_0x34eef5[_0x45617d(0x2ae)];}function _0x4e14(){const _0x466b81=['ajZqM','authPassword','visibilitychange','cedpq','arjbq','flagPageAttention','authScreen','DWVyF','text','forEach','Failed\x20to\x20register\x20user\x20into\x20room.','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','AovBw','filter','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','bFDlZ','PHaBQ','typing','Gmupf','izCpC','CEopc','entries','⚠️\x20Failed\x20to\x20update\x20avatar.','bastard','map','psDHN','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','gzZgO','inYDD','\x27,\x205)\x22>Mute\x205m</button>','sent','files','\x20was\x20muted\x20for\x20','\x20minutes.','vxpQI','Please\x20enter\x20the\x20password.','MJdoK','qZQha','zmvdA','once','3|2|0|1|5|4','Username\x20already\x20exists.','oLAmo','classList','imageBase64','<small>','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','3426732ANKQzh','xxVLm','tFTyx','Login','key','aaQgH','PszUN','<span\x20class=\x22sender-name\x22>','easy-chatroom.firebasestorage.app','AokpO','[Voice\x20Message]','chatScreen','PqYgq','keys','passwordHash','BUMAq','scrollTop','dFvsg','includes','length','sUNPr','[Unknown]','authError','You\x20got\x20messages\x20from\x20','djMER','data:image/png;base64,','EWBaL','roomStates/','now','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','recordBtn','460FygfMm','onlineStatus','floor','vhurC','\x27)\x22>+Mod</button>','⛔\x20You\x20are\x20muted.','SHA-256','ahPLu','bitch','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','\x20muted\x20for\x20','lastChanged','</span>','pnyfF','IdtWH','Account\x20not\x20found.','SetzB','ZXinz','start','0|4|3|2|1','ulol','fdp','NQwaB','ondataavailable','QCFEZ','VDKdR','\x27)\x22>+Admin</button>','ABCDEFGHIJKLMNOPQRSTUVWXYZ','authDescription','input','system','UuDGK','detail','RRrtr','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','lUhck','✅\x20Profile\x20updated!\x20Please\x20reload.','QDVeG','keypress','lQWeO','2-digit','appendChild','TiFeb','Unknown','authAvatarPreview','URupM','WPNFr','qXUvx','popstate','created','some','ACnju','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','HqJOs','userAgent','Admins\x20only.','DADhG','WMaGf','xQkNV','uBnCk','#aaa','599180ZSFSiN','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','Incorrect\x20password.','setItem','znbtN','vPqeu','mSdgj','GTdSQ','iyNez','dBQcg','all','toLocaleString','stop','oyHEm','https://easy-chatroom-default-rtdb.firebaseio.com','gibmd','addAnnouncementBtn','21644KHlxfH','adminUserList','</small>','vMbSu','emhZn','sGXPU','title','textAlign','FeLUw','xltUu','bFnkC','puta','\x0aUsername\x20History:\x20','\x27)\x22>Demote</button>','replace','yDcuR','Microphone\x20permission\x20denied.','2|0|3|4|5|1','muted/','FCuPK','6|5|7|1|3|4|0|2','HhTnp','ServerValue','then','iTtWs','initializeApp','passwordError','TIMESTAMP','XTdrO','BnsFF','Failed\x20to\x20save\x20profile:','contains','easy-chatroom','eNeEn','NveHJ','●\x20Online','muteUntil','push','FExMF','Missing\x20room\x20or\x20user\x20information.','oRCFE','0123456789','cPLnF','VEQSZ','dpBGv','from','ulcXM','218972fgsern','dev','readAsDataURL','Passwords\x20do\x20not\x20match.','onDisconnect','kXlSg','CLNNX','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','catch','0.8rem','DZTbI','wGPQZ','2px\x20solid\x20red','\x20demoted\x20to\x20user.','user','fuck','onload','style','OYNtT','EjclU','qDfOF','porra','pendejo','zdRuy','onloadend','DOMContentLoaded','OSdaD','moderator','online','authPasswordConfirm','hDrIJ','ygKih','/avatarBase64','azjnV','mlvNV','VnBPU','mUWlG','profileContent','isnLi','WUXeU','[Image]','yAsXZ','rWEaC','KfpNZ','QcZSe','TUkfR','ifJbi','OQmvz','usernameScreen','iLafS','data:audio/webm;base64,','UMOdM','uonSO','UcZII','XNtIF','profileError','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','tbwoq','getItem','avatarBase64','oVTLi','Please\x20fill\x20in\x20all\x20fields.','CznjG','NBoVe','Type\x20a\x20message...','play','active','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','🔕\x20Disable\x20Notifications','\x20went\x20offline','TAZfX','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','update','block','HxYOH','<button\x20onclick=\x22muteUser(\x27','vESeq','granted','TkJqp','permission','jCTRE','editBioInput','ufAMG','bwXnE','WWBjT','pTkNz','DLCQl','warn','No\x20changes\x20yet','VYvaA','rEXhI','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','tIxDl','❌\x20Username\x20already\x20taken.','HzxYU','val','true','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','ZsZJp','<button\x20onclick=\x22deleteUserMessages(\x27','Messages\x20by\x20','msg','SpjWT','YzJLc','gXaoa','reload','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','profileDescriptionInput','HFEsH','coño','subtle','admin','getElementById','\x0aLast\x20Changed:\x20','pausedOverlay','error','bVhSS','fontSize','gago','preventDefault','eLgeE','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','innerHTML','codeEntryScreen','userDisplay','messages','RuJkl','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','passwordScreen','\x20is\x20online','sidebarOpen','authAvatar','OqMeS','TYejH','qvVLG','UAWcU','\x0a\x20\x20\x20\x20','none','PeAFn','center','tGwvr','SqngZ','bvYQG','LkAgM','exists','AzBAl','div','sFsOw','MVXvT','JIaGL','AblmY','\x20minutes','FFSQF','MkpZc','volume','XJIUu','awYHW','AtSuE','FrXZv','stRaU','ecQRr','IazYL','AEMQf','yZymf','Incorrect\x20password','🚫\x20Cannot\x20promote\x20Developers.','profile_description','njMFT','OQIuJ','profileUsernameInput','TMZft','Room\x20is\x20currently\x20paused.','VxLko','/messages','\x20in\x20room\x20','show','putangina','NabTV','src','FdYHZ','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','dUCIU','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','Egcnl','merda','<br>','kezGD','database','VNuAJ','GyXzU','join','AZAbT','NPJTZ','typing/','/announcement','3410000AjPfrX','description','MGTsT','toLowerCase','eXakx','ThmYL','admins/','efuph','</div>','notifToggleBtn','substr','fxuti','moderators/','ZvQXr','object','remove','985049198428','RHKCv','sBgWI','msgInput','profiles/','gilipollas','HEEof','You\x20got\x20a\x20message\x20from\x20','CbcJy','dOHjD','VfqEA','clear','KRyIu','<button\x20onclick=\x22demoteUser(\x27','orderByChild','TNXiK','KGwKt','editProfileScreen','disabled','zbThh','Please\x20enter\x20your\x20current\x20password.','RZybZ','roomCodeInput','gwdbm','color','RAgmn','hEEsx','mierda','050BBB66HH','\x27)\x22>Promote\x20to\x20Moderator</button>','DfxRT','\x27)\x22>','xqaRH','FAwhg','mGisY','namePreview','qLhYR','OIwvS','skzpV','IuEPd','BXBYd','announcementArea','knlkR','/messages/','HjsQn','state','xjhlN','CyOLo','digest','ceHdh','bgzmu','ORYtJ','concat','WNHLf','innerText','scrollHeight','hXQgW','TJaSo','wljOy','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','antispam/','random','GxrgA','QlICw','mdNuW','feRki','staticPasswordInput','audioUrl','<audio\x20controls\x20src=\x22','antispamBlocked','UsGdS','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','sHjZZ','ref','ykfhG','3503234zeLPiJ','rooms','JrWjN','encode','nzfem','toLocaleTimeString','SDIPe','auth','eepRf','cabron','RbTmV','eaMDO','value','PLlIl','notifications_enabled','qNOKC','ZAPUj','bIMJZ','Enter\x20a\x20valid\x20room\x20code','profileScreen','trim','hkgfd','gLYST','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','click','addEventListener','RHOGh','result','content','rjoAp','466269qwWfql','BGjey','Utlqw','hSsHq','yqFsE','oldPasswordInput','sender','toString','set','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','QvAmh','Error\x20checking\x20username:','AefyU','border','avatar_base64','xiFRJ','audio/webm','\x27,\x2010)\x22>Mute\x2010m</button>','editProfileError','fvKXY','createElement','promote','YXkhs','🎙️','audioBase64','kwkwI','Bzbst','role','get','GLoZO','\x0aDescription:\x20','IhwnR','PFQVd','xqUsi','mediaDevices','gr8stg/','GPCcj','RKOVG','atRvz','add','display','sidebarAvatarPreview','bTiSB','GxlLi','otario','bobo','THdsx','newPasswordInput','asshole','WIYGj','userOptions-','xkxHj','toUpperCase','profileViewer','GjSxu','received','ogMVt','[Voice\x20message]','<div>','dick','xqkJo','JnULV','YxBqK','Incorrect\x20current\x20password.','✅\x20Profile\x20picture\x20updated!','Enter\x20your\x20new\x20username:','FEXcP','Delete\x20this\x20message?','OBfcw','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','G-QDESJ2WR42','uprSH','JEIND','usernameHistory','userSidebar','dkluK','gwhpx','ZktUo','iXnTM','kNOMA','BFLPH',')\x20New\x20message\x20•\x20','Room\x20password\x20not\x20set.\x20Cannot\x20join.','IlMCC','tangina','aseTO','split','juvRb','\x20🔧\x20','height','bNZIf','<li>','dhvLX','DqXLx','/paused','Bivxq','width','#00ff88','unknown','\x27)\x22>Delete\x20Messages</button>','vCucf','rooms/','VcqOs','username','auth/','roomChoiceScreen','ydsLT','gwHPW','EhWwU','eOePw','EARno','zSyWx','❌\x20Image\x20must\x20be\x20under\x202MB','Acagu','\x20is\x20typing...','sounds/beep.mp3','mute','users/','pushState','<button\x20onclick=\x22promoteToModerator(\x27','placeholder','<img\x20src=\x22data:image/png;base64,','jGmbA','uTIYL','hidden','nLGQu','<button\x20onclick=\x22promoteToAdmin(\x27','PVPrT','\x20promoted\x20to\x20Admin!','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','TJPJE','ARsjq'];_0x4e14=function(){return _0x466b81;};return _0x4e14();}function resetWebsiteData(){const _0x220012=_0x236dcf,_0x236590={'IuEPd':_0x220012(0x16a),'stRaU':function(_0x2dd24b,_0x55ead3){return _0x2dd24b+_0x55ead3;}};try{const _0x5c9a61=localStorage[_0x220012(0x304)](_0x236590[_0x220012(0x138)]);localStorage['clear'](),sessionStorage[_0x220012(0x3a9)](),_0x5c9a61&&localStorage[_0x220012(0x28d)](_0x236590[_0x220012(0x138)],_0x5c9a61);}catch(_0x28a976){}(!username||!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x236590[_0x220012(0x369)]('_',Math[_0x220012(0x14e)]()['toString'](0x24)[_0x220012(0x398)](0x2,0x9)));}function addAnnouncement(){const _0x3a5905=_0x236dcf,_0x5931ca={'ACnju':function(_0x22b3d6,_0x4212c7){return _0x22b3d6(_0x4212c7);},'qIwBy':'Enter\x20Announcement\x20Text:'},_0x41cb97=_0x5931ca[_0x3a5905(0x280)](prompt,_0x5931ca['qIwBy']);if(!_0x41cb97)return;db['ref']('rooms/'+roomCode+'/announcement')['set']({'text':_0x41cb97,'by':username,'timestamp':Date[_0x3a5905(0x24a)]()});}function listenForAnnouncement(){const _0x6209b6=_0x236dcf,_0xa5757d={'OSdaD':_0x6209b6(0x13a),'AikYk':'value'},_0x22d7d5=db['ref']('rooms/'+roomCode+_0x6209b6(0x38d));_0x22d7d5['on'](_0xa5757d['AikYk'],_0x2f7edf=>{const _0xb32516=_0x6209b6,_0x58a635=_0x2f7edf[_0xb32516(0x329)]();if(!_0x58a635){document[_0xb32516(0x33a)](_0xa5757d['OSdaD'])[_0xb32516(0x147)]='';return;}const _0x82b549=document[_0xb32516(0x33a)](_0xa5757d[_0xb32516(0x2e4)]);_0x82b549[_0xb32516(0x147)]=''+_0x58a635[_0xb32516(0x207)];});}document[_0x236dcf(0x33a)](_0x236dcf(0x13a))[_0x236dcf(0x175)](_0x236dcf(0x174),_0x14ce6b=>{const _0x4e1965=_0x236dcf,_0x17a9cf={'tGwvr':function(_0x32107d,_0x59b021){return _0x32107d===_0x59b021;},'EWBaL':function(_0x556d6b,_0x35cbe5){return _0x556d6b(_0x35cbe5);}};_0x17a9cf[_0x4e1965(0x356)](_0x14ce6b[_0x4e1965(0x26d)],0x3)&&isRoomAdmin&&(_0x17a9cf[_0x4e1965(0x248)](confirm,'Remove\x20Announcement?')&&db[_0x4e1965(0x15a)](_0x4e1965(0x1e0)+roomCode+_0x4e1965(0x38d))[_0x4e1965(0x39d)]());}),document['getElementById'](_0x236dcf(0x3a1))[_0x236dcf(0x175)](_0x236dcf(0x26a),()=>{const _0x45f1f0=_0x236dcf,_0x41f595={'NPJTZ':_0x45f1f0(0x3a1),'FExMF':_0x45f1f0(0x2d6)},_0x4ef558=document[_0x45f1f0(0x33a)](_0x41f595[_0x45f1f0(0x38b)]);_0x21d056?_0x4ef558[_0x45f1f0(0x2db)][_0x45f1f0(0x187)]=_0x41f595['FExMF']:_0x4ef558['style'][_0x45f1f0(0x187)]='';const _0x15af80=_0x4ef558[_0x45f1f0(0x168)][_0x45f1f0(0x391)](),_0x21d056=swearWords[_0x45f1f0(0x27f)](_0x1993a6=>_0x15af80[_0x45f1f0(0x240)](_0x1993a6));_0x21d056?(_0x4ef558[_0x45f1f0(0x2db)][_0x45f1f0(0x187)]=_0x41f595[_0x45f1f0(0x2c1)],sendBtn[_0x45f1f0(0x123)]=!![]):(_0x4ef558['style'][_0x45f1f0(0x187)]='',_0x21d056?_0x4ef558[_0x45f1f0(0x2db)][_0x45f1f0(0x187)]=_0x41f595['FExMF']:_0x4ef558[_0x45f1f0(0x2db)][_0x45f1f0(0x187)]='');});function muteUser(_0x1e1780,_0xb9923a){const _0x10b2f5=_0x236dcf,_0xe4efb4={'djMER':function(_0x10f335,_0x30ce23){return _0x10f335(_0x30ce23);},'HxYOH':function(_0x12aa2a,_0x2e6ec6){return _0x12aa2a+_0x2e6ec6;},'TjtxL':function(_0x4d187d,_0x6b20ed){return _0x4d187d*_0x6b20ed;},'eaMDO':function(_0x4faddd,_0x5eec98){return _0x4faddd*_0x5eec98;}},_0x150624=_0xe4efb4[_0x10b2f5(0x314)](Date['now'](),_0xe4efb4['TjtxL'](_0xe4efb4[_0x10b2f5(0x167)](_0xb9923a,0x3c),0x3e8));db[_0x10b2f5(0x15a)](_0x10b2f5(0x2ad)+roomCode+'/'+_0xe4efb4[_0x10b2f5(0x246)](sanitizeUsername,_0x1e1780))[_0x10b2f5(0x182)]({'muteUntil':_0x150624})[_0x10b2f5(0x2b2)](()=>{const _0x1e894e=_0x10b2f5;_0xe4efb4[_0x1e894e(0x246)](alert,_0x1e1780+'\x20muted\x20for\x20'+_0xb9923a+_0x1e894e(0x220));});}function deleteUserMessages(_0x224d59){const _0x5bc2f5=_0x236dcf,_0x49cafb={'FFSQF':function(_0x4cc48b,_0x280185){return _0x4cc48b(_0x280185);},'OBfcw':_0x5bc2f5(0x180)};db[_0x5bc2f5(0x15a)](_0x5bc2f5(0x1e0)+roomCode+_0x5bc2f5(0x377))[_0x5bc2f5(0x3ac)](_0x49cafb[_0x5bc2f5(0x1be)])['equalTo'](_0x224d59)['get']()['then'](_0x26e93f=>{const _0x20be12=_0x5bc2f5;_0x26e93f['forEach'](_0x44e550=>{const _0x22a291=_0x2e5f;db[_0x22a291(0x15a)](_0x22a291(0x1e0)+roomCode+_0x22a291(0x13c)+_0x44e550[_0x22a291(0x232)])[_0x22a291(0x39d)]();}),_0x49cafb[_0x20be12(0x362)](alert,_0x20be12(0x32e)+_0x224d59+'\x20deleted.');});}function pauseRoom(_0x371a96){const _0x565ad2=_0x236dcf,_0x21d145={'UuDGK':'pausedOverlay','eXakx':_0x565ad2(0x353),'nLGQu':_0x565ad2(0x168)};db[_0x565ad2(0x15a)](_0x565ad2(0x1e0)+roomCode+'/paused')['on'](_0x21d145[_0x565ad2(0x1f8)],_0x48a36c=>{const _0x4fd937=_0x565ad2,_0x3d81b2=_0x48a36c[_0x4fd937(0x329)]();document[_0x4fd937(0x33a)](_0x21d145[_0x4fd937(0x26c)])[_0x4fd937(0x2db)][_0x4fd937(0x1a2)]=_0x3d81b2?_0x4fd937(0x313):_0x21d145[_0x4fd937(0x392)];});}function canPerformAction(_0x1c9056){const _0x17c77f=_0x236dcf,_0x5bb7ec={'TAZfX':_0x17c77f(0x2cb),'GjSxu':function(_0x5d1e86,_0x4badde){return _0x5d1e86===_0x4badde;},'pnyfF':_0x17c77f(0x1ef),'eOePw':'admin','ifJbi':'moderator','EhWwU':_0x17c77f(0x18f)};if(role===_0x5bb7ec[_0x17c77f(0x310)])return!![];if(_0x5bb7ec[_0x17c77f(0x1b0)](_0x1c9056,_0x5bb7ec[_0x17c77f(0x25a)])||_0x1c9056==='deleteMessage')return _0x5bb7ec[_0x17c77f(0x1b0)](role,_0x5bb7ec[_0x17c77f(0x1e8)])||_0x5bb7ec[_0x17c77f(0x1b0)](role,_0x5bb7ec[_0x17c77f(0x2f8)]);if(_0x1c9056===_0x5bb7ec[_0x17c77f(0x1e7)])return _0x5bb7ec[_0x17c77f(0x1b0)](role,_0x5bb7ec[_0x17c77f(0x1e8)]);return![];}const html=Object['values'](roomUsers)[_0x236dcf(0x217)](_0x502fe7=>{const _0x4fb57e=_0x236dcf,_0x4b385a={'KfpNZ':function(_0x16d165,_0x389fbd){return _0x16d165(_0x389fbd);},'NQwaB':function(_0x49bb97,_0x1ff9c3){return _0x49bb97(_0x1ff9c3);},'TJaSo':_0x4fb57e(0x1ef),'QCFEZ':function(_0x49cd84,_0x4b4906){return _0x49cd84===_0x4b4906;},'MGTsT':function(_0x3a89c6,_0x3da9da){return _0x3a89c6===_0x3da9da;},'cedpq':_0x4fb57e(0x339),'rjoAp':function(_0x343293,_0x2335bf){return _0x343293(_0x2335bf);}},_0x5280c5=_0x4b385a['KfpNZ'](sanitizeUsername,_0x502fe7[_0x4fb57e(0x1e2)]),_0x3714ad=[];if(_0x5280c5!==_0x4b385a[_0x4fb57e(0x2f5)](sanitizeUsername,username)){_0x4b385a[_0x4fb57e(0x263)](canPerformAction,_0x4b385a[_0x4fb57e(0x14a)])&&(_0x3714ad[_0x4fb57e(0x2c0)]('<button\x20onclick=\x22muteUser(\x27'+_0x5280c5+_0x4fb57e(0x21c)),_0x3714ad[_0x4fb57e(0x2c0)](_0x4fb57e(0x315)+_0x5280c5+_0x4fb57e(0x18b)));_0x4b385a['NQwaB'](canPerformAction,'deleteMessage')&&_0x3714ad[_0x4fb57e(0x2c0)](_0x4fb57e(0x32d)+_0x5280c5+_0x4fb57e(0x1de));if(_0x4b385a[_0x4fb57e(0x265)](role,_0x4fb57e(0x2cb)))_0x3714ad[_0x4fb57e(0x2c0)](_0x4fb57e(0x1f2)+_0x5280c5+_0x4fb57e(0x12e)),_0x3714ad[_0x4fb57e(0x2c0)](_0x4fb57e(0x1f9)+_0x5280c5+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x4b385a[_0x4fb57e(0x390)](role,_0x4b385a[_0x4fb57e(0x202)])&&_0x3714ad[_0x4fb57e(0x2c0)](_0x4fb57e(0x1f2)+_0x5280c5+_0x4fb57e(0x12e));}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x502fe7['username']+'\x20'+_0x4b385a[_0x4fb57e(0x179)](getRoleTag,sanitizeUsername(_0x502fe7[_0x4fb57e(0x1e2)]))+_0x4fb57e(0x343)+_0x5280c5+_0x4fb57e(0x37e)+_0x3714ad[_0x4fb57e(0x389)]('')+_0x4fb57e(0x302)+_0x5280c5+_0x4fb57e(0x22d);})[_0x236dcf(0x389)]('');function promoteToModerator(_0x39dc0e){const _0x4bfa3f=_0x236dcf,_0x3bf5b0={'VnBPU':function(_0x3bc9c3,_0x28fa9b){return _0x3bc9c3(_0x28fa9b);},'QDVeG':_0x4bfa3f(0x36f),'mUWlG':_0x4bfa3f(0x2cb),'ERlsW':function(_0x31e46d,_0x5f0203){return _0x31e46d!==_0x5f0203;},'QcZSe':'admin','GhJVa':_0x4bfa3f(0x173)},_0x3658b3=sanitizeUsername(_0x39dc0e);if(_0x3bf5b0[_0x4bfa3f(0x2ed)](isProtected,_0x3658b3))return alert(_0x3bf5b0[_0x4bfa3f(0x272)]);if(role!==_0x3bf5b0[_0x4bfa3f(0x2ee)]&&_0x3bf5b0['ERlsW'](role,_0x3bf5b0[_0x4bfa3f(0x2f6)])){_0x3bf5b0[_0x4bfa3f(0x2ed)](alert,_0x3bf5b0['GhJVa']);return;}db[_0x4bfa3f(0x15a)]('moderators/'+roomCode+'/'+_0x3658b3)[_0x4bfa3f(0x182)](!![])[_0x4bfa3f(0x2b2)](()=>{const _0x4a3ce1=_0x4bfa3f;alert(_0x39dc0e+'\x20promoted\x20to\x20Moderator!'),_0x3bf5b0[_0x4a3ce1(0x2ed)](addSystemMessage,_0x39dc0e+'\x20was\x20promoted\x20to\x20Moderator');});}function promoteToAdmin(_0x518598){const _0x26d94b=_0x236dcf,_0x45a20f={'bIbGu':function(_0x592839,_0x747dda){return _0x592839(_0x747dda);},'wweGH':function(_0x330bff,_0x4e1986){return _0x330bff(_0x4e1986);},'dUCIU':_0x26d94b(0x36f),'ufAMG':_0x26d94b(0x2cb),'lQWeO':function(_0x177aa4,_0x36b630){return _0x177aa4(_0x36b630);},'NBoVe':_0x26d94b(0x28b)},_0x2c875a=sanitizeUsername(_0x518598);if(isProtected(_0x2c875a))return _0x45a20f['wweGH'](alert,_0x45a20f[_0x26d94b(0x37f)]);if(role!==_0x45a20f[_0x26d94b(0x31c)]){_0x45a20f[_0x26d94b(0x274)](alert,_0x45a20f[_0x26d94b(0x309)]);return;}db[_0x26d94b(0x15a)](_0x26d94b(0x394)+roomCode+'/'+_0x2c875a)[_0x26d94b(0x182)](!![])[_0x26d94b(0x2b2)](()=>{const _0xdc73c1=_0x26d94b;_0x45a20f['bIbGu'](alert,_0x518598+_0xdc73c1(0x1fb)),addSystemMessage(_0x518598+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x2742a1){const _0x254d36=_0x236dcf,_0x1938a5={'VxLko':function(_0x4575e0,_0x38bfd0){return _0x4575e0===_0x38bfd0;},'WWDgH':_0x254d36(0x2cb),'ygKih':function(_0x59b6da,_0x1964d1){return _0x59b6da===_0x1964d1;},'mlvNV':_0x254d36(0x353),'VDKdR':'block'};(_0x1938a5[_0x254d36(0x376)](role,_0x1938a5['WWDgH'])||role===_0x254d36(0x339))&&controls[_0x254d36(0x2c0)]('<button\x20onclick=\x22demoteUser(\x27'+safeName+_0x254d36(0x2a8));const _0x36b811=document[_0x254d36(0x33a)](_0x254d36(0x1ac)+_0x2742a1);_0x1938a5[_0x254d36(0x2e9)](_0x36b811[_0x254d36(0x2db)]['display'],_0x1938a5['mlvNV'])?_0x36b811['style']['display']=_0x1938a5[_0x254d36(0x266)]:_0x36b811[_0x254d36(0x2db)][_0x254d36(0x1a2)]=_0x1938a5[_0x254d36(0x2ec)];}function demoteUser(_0x47795a){const _0xd38b70=_0x236dcf,_0x2a1dab={'XTdrO':function(_0x41b5d5,_0x42ac27){return _0x41b5d5(_0x42ac27);},'knlkR':_0xd38b70(0x24b),'dBQcg':function(_0x544201,_0x548ee3){return _0x544201===_0x548ee3;},'AblmY':_0xd38b70(0x2cb),'NabTV':'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(isProtected(_0x47795a))return _0x2a1dab[_0xd38b70(0x2b7)](alert,_0x2a1dab[_0xd38b70(0x13b)]);if(_0x2a1dab[_0xd38b70(0x293)](role,_0x2a1dab[_0xd38b70(0x360)]))db[_0xd38b70(0x15a)](_0xd38b70(0x394)+roomCode+'/'+_0x47795a)[_0xd38b70(0x39d)](),db[_0xd38b70(0x15a)](_0xd38b70(0x39a)+roomCode+'/'+_0x47795a)[_0xd38b70(0x39d)](),_0x2a1dab[_0xd38b70(0x2b7)](alert,_0x47795a+'\x20demoted\x20to\x20user.');else role===_0xd38b70(0x339)?(db[_0xd38b70(0x15a)](_0xd38b70(0x39a)+roomCode+'/'+_0x47795a)['remove'](),alert(_0x47795a+_0xd38b70(0x2d7))):alert(_0x2a1dab[_0xd38b70(0x37b)]);}function getRoleTag(_0x2d723e){const _0x570af0=_0x236dcf,_0x3d805e=sanitizeUsername(_0x2d723e);if(globalDevs['includes'](_0x3d805e))return _0x570af0(0x380);if(roomAdmins[_0x570af0(0x240)](_0x3d805e))return _0x570af0(0x1bf);if(roomModerators[_0x570af0(0x240)](_0x3d805e))return _0x570af0(0x20d);return'';}async function loadRoomRoles(){const _0x52262e=_0x236dcf,_0x47dbeb={'GyXzU':function(_0x329d4f,_0x593024){return _0x329d4f===_0x593024;},'hSsHq':function(_0x268fc3,_0x230944){return _0x268fc3(_0x230944);},'qGpui':_0x52262e(0x163),'TMZft':_0x52262e(0x2d8)},_0x3d7e00=_0x47dbeb[_0x52262e(0x17d)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x320806=await db[_0x52262e(0x15a)](_0x47dbeb['qGpui'])['get']();_0x320806[_0x52262e(0x208)](_0xc154=>{const _0xb5e6e=_0x52262e;if(_0x47dbeb[_0xb5e6e(0x388)](_0xc154['val']()[_0xb5e6e(0x195)],_0xb5e6e(0x2cb)))globalDevs[_0xb5e6e(0x2c0)](_0xc154[_0xb5e6e(0x232)]);});const _0x28d074=await db[_0x52262e(0x15a)](_0x52262e(0x394)+roomCode)[_0x52262e(0x196)]();_0x28d074['exists']()&&_0x28d074[_0x52262e(0x208)](_0x444d1b=>roomAdmins['push'](_0x444d1b[_0x52262e(0x232)]));const _0x5a3f90=await db[_0x52262e(0x15a)](_0x52262e(0x39a)+roomCode)['get']();_0x5a3f90[_0x52262e(0x35a)]()&&_0x5a3f90[_0x52262e(0x208)](_0x3aebd1=>roomModerators[_0x52262e(0x2c0)](_0x3aebd1['key']));if(globalDevs['includes'](_0x3d7e00))role=_0x52262e(0x2cb);else{if(roomAdmins[_0x52262e(0x240)](_0x3d7e00))role=_0x52262e(0x339);else roomModerators[_0x52262e(0x240)](_0x3d7e00)?role=_0x52262e(0x2e5):role=_0x47dbeb[_0x52262e(0x374)];}}async function renderUserLists(_0x10958e){const _0x1638e6=_0x236dcf,_0x2634e5={'feRki':function(_0x247301,_0x24c7a){return _0x247301(_0x24c7a);},'UMOdM':function(_0x394324,_0x12401f){return _0x394324(_0x12401f);},'CLNNX':function(_0x3b8d46,_0x51ea71){return _0x3b8d46===_0x51ea71;},'SpjWT':_0x1638e6(0x2cb),'xqUsi':function(_0x1995e1,_0x2f2261){return _0x1995e1===_0x2f2261;},'AEMQf':'admin','ZktUo':function(_0x2a8ce4,_0x2ac8f8){return _0x2a8ce4(_0x2ac8f8);},'DfxRT':'moderator','gwHPW':'block','vMbSu':'userList','BFLPH':_0x1638e6(0x29c)};roomUsers=_0x10958e;const _0x2e384d=_0x2634e5[_0x1638e6(0x1c8)](sanitizeUsername,username),_0x27eea6=role===_0x2634e5['SpjWT']||role===_0x1638e6(0x339)||role===_0x2634e5[_0x1638e6(0x12f)];document[_0x1638e6(0x33a)]('adminControlsSection')[_0x1638e6(0x2db)]['display']=_0x27eea6?_0x2634e5[_0x1638e6(0x1e6)]:_0x1638e6(0x353);const _0x4bd0f8=Object[_0x1638e6(0x214)](_0x10958e)[_0x1638e6(0x217)](async([_0x5e96d8,_0x5ca351])=>{const _0x1955e5=_0x1638e6,_0x5bf086=sanitizeUsername(_0x5ca351['username']||_0x5e96d8),_0x2bae3d=await fetchAvatar(_0x5bf086),_0x281d56=_0x2bae3d?_0x1955e5(0x1f4)+_0x2bae3d+_0x1955e5(0x2d1):'',_0x610f61=_0x5ca351[_0x1955e5(0x2e6)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x1955e5(0x1fc);return _0x1955e5(0x1d6)+_0x281d56+'\x20'+_0x610f61+_0x1955e5(0x281)+_0x5bf086+_0x1955e5(0x130)+(_0x5ca351[_0x1955e5(0x1e2)]||_0x5e96d8)+'</span>\x20'+_0x2634e5[_0x1955e5(0x152)](getRoleTag,_0x5bf086)+'</li>';}),_0x306353=await Promise['all'](_0x4bd0f8);document[_0x1638e6(0x33a)](_0x2634e5[_0x1638e6(0x29e)])['innerHTML']=_0x306353['join']('');if(!_0x27eea6)return;const _0x47e52c=Object[_0x1638e6(0x214)](_0x10958e)['map'](async([_0x30296b,_0x15c42c])=>{const _0xc06fe=_0x1638e6,_0x3b2439=sanitizeUsername(_0x15c42c['username']||_0x30296b);if(_0x3b2439===_0x2e384d)return'';const _0x3bcab7=globalDevs[_0xc06fe(0x240)](_0x3b2439),_0x2f96e4=await _0x2634e5[_0xc06fe(0x2fd)](fetchAvatar,_0x3b2439),_0xa1b1c8=_0x2f96e4?_0xc06fe(0x1f4)+_0x2f96e4+_0xc06fe(0x2d1):'',_0x434d04=_0x15c42c['online']?_0xc06fe(0x158):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>',_0x58bd20=[];if(!_0x3bcab7){(_0x2634e5[_0xc06fe(0x2d0)](role,_0xc06fe(0x2cb))||role===_0xc06fe(0x339)||_0x2634e5[_0xc06fe(0x2d0)](role,_0xc06fe(0x2e5)))&&(_0x58bd20[_0xc06fe(0x2c0)](_0xc06fe(0x315)+_0x3b2439+_0xc06fe(0x21c)),_0x58bd20[_0xc06fe(0x2c0)](_0xc06fe(0x315)+_0x3b2439+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x2634e5[_0xc06fe(0x2d0)](role,_0x2634e5[_0xc06fe(0x330)]))_0x58bd20['push'](_0xc06fe(0x1f2)+_0x3b2439+'\x27)\x22>+Mod</button>'),_0x58bd20[_0xc06fe(0x2c0)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x3b2439+_0xc06fe(0x267)),_0x58bd20[_0xc06fe(0x2c0)](_0xc06fe(0x3ab)+_0x3b2439+_0xc06fe(0x2a8));else _0x2634e5[_0xc06fe(0x19b)](role,_0x2634e5[_0xc06fe(0x36c)])&&(_0x58bd20[_0xc06fe(0x2c0)](_0xc06fe(0x1f2)+_0x3b2439+_0xc06fe(0x251)),_0x58bd20[_0xc06fe(0x2c0)](_0xc06fe(0x3ab)+_0x3b2439+_0xc06fe(0x2a8)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xa1b1c8+'\x20'+_0x434d04+_0xc06fe(0x1d3)+(_0x15c42c['username']||_0x30296b)+'\x20'+getRoleTag(_0x3b2439)+_0xc06fe(0x183)+_0x58bd20[_0xc06fe(0x389)]('\x20')+_0xc06fe(0x349);}),_0x44bbc3=await Promise[_0x1638e6(0x294)](_0x47e52c);document['getElementById'](_0x2634e5[_0x1638e6(0x1cb)])[_0x1638e6(0x344)]=_0x44bbc3[_0x1638e6(0x389)]('');}async function fetchAvatar(_0x22572e){const _0x4fa7bf=_0x236dcf;if(userAvatars[_0x22572e])return userAvatars[_0x22572e];const _0x590bfa=await db[_0x4fa7bf(0x15a)]('auth/'+_0x22572e)[_0x4fa7bf(0x196)]();if(_0x590bfa[_0x4fa7bf(0x35a)]()&&_0x590bfa[_0x4fa7bf(0x329)]()[_0x4fa7bf(0x305)])return userAvatars[_0x22572e]=_0x590bfa['val']()[_0x4fa7bf(0x305)],userAvatars[_0x22572e];return null;}function sendTyping(){const _0x47422d=_0x236dcf,_0x4fc0b5={'ZZTje':function(_0x24ad83,_0x1be4d1){return _0x24ad83(_0x1be4d1);},'AokpO':function(_0x1c2701,_0xdb1699){return _0x1c2701(_0xdb1699);},'xqkJo':function(_0x18f4d4,_0x523d18,_0x4e3c25){return _0x18f4d4(_0x523d18,_0x4e3c25);}},_0x596c1b=_0x4fc0b5['ZZTje'](sanitizeUsername,username),_0x13272e=Date['now']();db[_0x47422d(0x15a)](_0x47422d(0x38c)+roomCode+'/'+_0x596c1b)['set'](_0x13272e);if(typingTimeout)_0x4fc0b5[_0x47422d(0x237)](clearTimeout,typingTimeout);typingTimeout=_0x4fc0b5[_0x47422d(0x1b6)](setTimeout,()=>{const _0x5b9b76=_0x47422d;db['ref'](_0x5b9b76(0x38c)+roomCode+'/'+_0x596c1b)[_0x5b9b76(0x39d)]();},0xbb8);}function listenForTyping(){const _0x59c41b=_0x236dcf,_0x343c18={'inFpY':_0x59c41b(0x210),'gUqsN':_0x59c41b(0x168)};db[_0x59c41b(0x15a)](_0x59c41b(0x38c)+roomCode)['on'](_0x343c18['gUqsN'],_0x4f29c7=>{const _0xcab543=_0x59c41b,_0x2dd5d9=document[_0xcab543(0x33a)](_0x343c18['inFpY']);if(!_0x4f29c7[_0xcab543(0x35a)]())return _0x2dd5d9[_0xcab543(0x147)]='';const _0x9d9504=Date[_0xcab543(0x24a)](),_0x1f612c=Object['entries'](_0x4f29c7[_0xcab543(0x329)]())[_0xcab543(0x20c)](([_0x29d82d,_0x5e4224])=>_0x29d82d!==sanitizeUsername(username)&&_0x9d9504-_0x5e4224<0x1388)['map'](([_0x90d978])=>_0x90d978);_0x2dd5d9[_0xcab543(0x147)]=_0x1f612c[_0xcab543(0x241)]?_0x1f612c[_0xcab543(0x389)](',\x20')+_0xcab543(0x1ed):'';});}function watchMuteStatus(){const _0x368d95=_0x236dcf,_0x50beae={'beeAG':_0x368d95(0x3a1),'HFEsH':'object','YXkhs':function(_0x4b19e3,_0x573efd){return _0x4b19e3>_0x573efd;},'PetJL':function(_0x763641,_0x2a7a47){return _0x763641>_0x2a7a47;},'bwXnE':_0x368d95(0x252),'GLoZO':_0x368d95(0x30a),'sFsOw':_0x368d95(0x168)},_0x1c8009=db[_0x368d95(0x15a)]('muted/'+roomCode+'/'+sanitizeUsername(username));_0x1c8009['on'](_0x50beae[_0x368d95(0x35d)],_0x10b2cb=>{const _0x1c7eeb=_0x368d95,_0x5dacd0=document[_0x1c7eeb(0x33a)](_0x50beae['beeAG']);if(_0x10b2cb['exists']()){const _0x348efe=_0x10b2cb[_0x1c7eeb(0x329)](),_0x2706fa=typeof _0x348efe===_0x50beae[_0x1c7eeb(0x336)]&&_0x348efe[_0x1c7eeb(0x2bf)]?_0x348efe[_0x1c7eeb(0x2bf)]:_0x348efe;_0x5dacd0[_0x1c7eeb(0x123)]=_0x50beae[_0x1c7eeb(0x190)](_0x2706fa,Date[_0x1c7eeb(0x24a)]()),_0x5dacd0[_0x1c7eeb(0x1f3)]=_0x50beae['PetJL'](_0x2706fa,Date[_0x1c7eeb(0x24a)]())?_0x50beae[_0x1c7eeb(0x31d)]:_0x50beae[_0x1c7eeb(0x197)];}else _0x5dacd0['disabled']=![],_0x5dacd0[_0x1c7eeb(0x1f3)]=_0x50beae[_0x1c7eeb(0x197)];});}function isProtected(_0x369b2a){const _0x32bf61=_0x236dcf;return globalDevs[_0x32bf61(0x240)](_0x369b2a);}function addSystemMessage(_0x52f223){const _0x3ad00e=_0x236dcf,_0x16a136={'GYXyc':_0x3ad00e(0x355),'iyNez':_0x3ad00e(0x289),'OqMeS':'6px\x20auto','LkAgM':_0x3ad00e(0x347)},_0x209130=document[_0x3ad00e(0x18e)]('div');_0x209130[_0x3ad00e(0x2db)][_0x3ad00e(0x2a2)]=_0x16a136['GYXyc'],_0x209130[_0x3ad00e(0x2db)][_0x3ad00e(0x33f)]=_0x3ad00e(0x2d3),_0x209130[_0x3ad00e(0x2db)][_0x3ad00e(0x129)]=_0x16a136[_0x3ad00e(0x292)],_0x209130[_0x3ad00e(0x2db)]['margin']=_0x16a136[_0x3ad00e(0x34e)],_0x209130[_0x3ad00e(0x147)]=_0x52f223,document['getElementById'](_0x16a136['LkAgM'])[_0x3ad00e(0x276)](_0x209130),document['getElementById'](_0x16a136['LkAgM'])[_0x3ad00e(0x23e)]=document[_0x3ad00e(0x33a)](_0x16a136[_0x3ad00e(0x359)])['scrollHeight'];}