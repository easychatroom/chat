const _0x274539=_0x2331;(function(_0x2e434b,_0x2f50b8){const _0x154905=_0x2331,_0x3f954f=_0x2e434b();while(!![]){try{const _0x1cbfc1=parseInt(_0x154905(0x350))/0x1*(parseInt(_0x154905(0x94))/0x2)+-parseInt(_0x154905(0x178))/0x3+-parseInt(_0x154905(0x165))/0x4+parseInt(_0x154905(0x124))/0x5*(parseInt(_0x154905(0x197))/0x6)+parseInt(_0x154905(0x300))/0x7+parseInt(_0x154905(0x24d))/0x8+-parseInt(_0x154905(0x10e))/0x9*(-parseInt(_0x154905(0x1d2))/0xa);if(_0x1cbfc1===_0x2f50b8)break;else _0x3f954f['push'](_0x3f954f['shift']());}catch(_0xe172e1){_0x3f954f['push'](_0x3f954f['shift']());}}}(_0xb6db,0xda202));const firebaseConfig={'apiKey':_0x274539(0x209),'authDomain':_0x274539(0x1a3),'databaseURL':_0x274539(0xb8),'projectId':_0x274539(0x32d),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':_0x274539(0x169),'appId':_0x274539(0x366),'measurementId':_0x274539(0x2a5)};let lastVerificationCode=null;firebase[_0x274539(0x2d2)](firebaseConfig);const messaging=firebase[_0x274539(0x2c1)](),db=firebase[_0x274539(0x34c)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=['fuck','shit','bitch',_0x274539(0x1eb),_0x274539(0x166),_0x274539(0x304),_0x274539(0x2ac),_0x274539(0x1f6),_0x274539(0x1c3),'pendejo',_0x274539(0x1b8),_0x274539(0x12a),'gilipollas',_0x274539(0x2e3),_0x274539(0x327),_0x274539(0x211),_0x274539(0x1f6),'fdp','otario',_0x274539(0x18e),_0x274539(0x2e1),'tangina',_0x274539(0x2ed),_0x274539(0xa1),'bwisit','putang\x20ina'],style=document['createElement'](_0x274539(0x2f5));style[_0x274539(0x16d)]=_0x274539(0x191);let userDescription='',avatarBase64='';document[_0x274539(0x1c4)][_0x274539(0x1b0)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x274539(0x29c)]()[_0x274539(0x325)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x274539(0x231)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x274539(0x371),MAX_MESSAGES=0xfa,sound=new Audio('sounds/beep.mp3');function _0xb6db(){const _0x451bf7=['chatScreen','UNRYF','userList','CfEwo','Incorrect\x20password.','msg','TXnik','HbCsz','USwlq','xxVDj','cursor','BkKTA','map','‚ùå\x20Image\x20must\x20be\x20under\x202MB','toString','push','caralho','\x0aDescription:\x20','GtEuf','input','tZmWL','YWhUE','easy-chatroom','getItem','attempts','jFvwN','set','authSubmitBtn','DSNzG','deleteMessage','NlJAs','GklaT','iVbgs','vYKAQ','width','tIjje','\x0a\x20\x20','kefzL','EJoUA','auth/weak-password','Please\x20enter\x20your\x20current\x20password.','child_changed','fiuZc','auth/wrong-password','authAvatarPreview','\x27,\x205)\x22>Mute\x205m</button>','div','[Unknown]','tHXhd','CKHig','VDnGm','profileContent','AkyIE','database','lastChanged','children','onloadend','58EyyCpX','ksMvK','system-msg','notifications_enabled','WRnAR','3|2|4|1|0','vLOuz','back','0123456789','6px\x20auto','NYwhN','/reactions','GIqXT','XTVsO','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','UIIdG','announcementArea','margin','height','authEmail','QJLYw','Please\x20wait\x20','1:985049198428:web:d0eb7e2de39887710c9b99','moderators/','Username\x20or\x20email\x20not\x20found.','typing/','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','QpxCX','ddxIX','TrhIM','New\x20Chat\x20Message','replace','SyvMJ','050BBB66HH','RUEnU','BMnOR','userOptions-','Enter','\x27)\x22>+Mod</button>','fbzcS','jIHLG','DqXdh','</button>','Messages\x20by\x20','SPAAl','description','forEach','wJJwN','FFOVe','JWcIf','result','NwxqG','setItem','FWOse','\x0aName:\x20','get','\x20was\x20demoted','size','<small>','FJGfU','yGaTw','KyRGf','0\x202px\x206px\x20rgba(0,0,0,0.5)','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','gap','‚ùå\x20This\x20email\x20is\x20already\x20registered.\x20Please\x20login\x20instead.','val','Account\x20created\x20üëç','\x20promoted\x20to\x20Admin!','ljgAd','COXZg','scrollTop','marginTop','USszH','Login\x20failed.\x20Please\x20check\x20your\x20credentials.','gFkHp','pHLgr','IIcul','rooms','roomChoiceScreen','wGOOB','UGeFq','touchend','\x0aLast\x20Changed:\x20','jqbTY','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','value','text','Enter\x20your\x20new\x20username:','editProfileScreen','pAmOs','JTdrp','auth/too-many-requests','tIxUr','PHwdO','gr8stg/','</li>','qXXFr','RLcZf','4px','lMIKz','show','HTotW','vUxgw','VJYNt','CYPyO','KQFVa','jPKES','placeholder','RmczY','Incorrect\x20current\x20password.','‚õî\x20You\x20are\x20muted.','display','onlineStatus','profileDescriptionInput','MFbvb','RiOTJ','once','role','LzMoX','PyAwe','passwordScreen','child_removed','teKGH','AtOVb','VWLao','chat_username','maGKt','4492YZVUmm','<img\x20src=\x22','xzoSk','Enter\x20Announcement\x20Text:','KAFmX','users/','boxShadow','bBlMf','from','brGde','paTpe','aURQl','sCfls','bobo','addAnnouncementBtn','XQeUM','LEgeK','lgpyv','split','ywOHB','antispamBlocked','jBtsl','<button\x20onclick=\x22promoteToModerator(\x27','QoZfl','qGGik','ccAHK','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','EPJPm','Rceet','üîî\x20Enable\x20Notifications','center','[data-msg-id=\x22','Ovbqf','voOxw','fZvRX','JijaY','https://easy-chatroom-default-rtdb.firebaseio.com','createUserWithEmailAndPassword','unknown','granted','audioBase64','profileUsernameInput','roomCodeInput','rmqKG','mod','naQrO','ApiGz','messages','JtvvE','PVPcD','CAkce','mGYht','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','SYahL','template_uadxvmp','WbUoS','QCTqx','username','cAkFM','readAsDataURL','LoOke','profileViewer','bBrne','Qkdfx','FoxYM','toLocaleString','<button\x20onclick=\x22promoteToAdmin(\x27','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','hCllr','oWlle','Admins\x20only.','data:image/png;base64,','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','fnAZz','jpEEy','hidden','Already\x20have\x20an\x20account?\x20Login','XmaGK','rReUW','DtmEg','newPasswordInput','Don\x27t\x20have\x20an\x20account?\x20Register','\x27,\x201)\x22>Mute\x201m</button>','color','border','mediaDevices','pfqPF','jKOnD','toUpperCase','deapz','Please\x20enter\x20the\x20password.','relative','CnNRE','UFtok','xmGuH','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','XOWUr','vbGcA','qTEKP','cuhAq','rnIDn','<div>','SuBBo','mouseenter','1|9|8|2|7|0|6|11|12|5|10|4|3','üí¨\x20','UYrsN','Email\x20not\x20found.','\x20muted\x20for\x20','add','textContent','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','usernameScreen','jGzxv','promote','wPKnK','IjZQx','received','XvxSI','block','popstate','bPfQI','63IgIrgs','join','foyJx','authDescription','üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','ceil','epbwj','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','NQOkn','detail','Enter\x20username\x20or\x20email\x20and\x20password.','BwMBZ','KpDsy','click','xaDKZ','muteUntil','RKZca','fontSize','bSVvj','<audio\x20controls\x20src=\x22','‚ùå\x20Too\x20many\x20attempts.\x20Try\x20again\x20in\x202\x20days.','25KnhBay','innerText','AHvDf','OrlKq','iJxGe','tKLfN','cabron','authVerificationCode','<li>','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','ghskV','toLocaleTimeString','editBioInput','PiWAy','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','AeEPV','<button\x20onclick=\x22demoteUser(\x27','MbIPU','eTtPh','data','peyGG','contains','sent','Verification\x20code\x20sent!','pIyTc','className','EOhoF','EVoid','/announcement','vSHft','ctvRE','includes','cEbiL','ZMmdx','<button\x20onclick=\x22muteUser(\x27','czQrK','absolute','32px','SaRLD','\x20promoted\x20to\x20Moderator!','JHxsG','NgLKD','</a>','EurCV','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','top','DOMContentLoaded','yqkTM','uVjNP','maxWidth','/messages','YOzhs','Room\x20password\x20not\x20set.\x20Cannot\x20join.','CJvav','YjVyy','warn','HeztH','nNoDQ','then','SkJky','iuRfk','adminUserList','yRpvF','WUWbN','cedpm','6215896qFLTKV','bastard','\x20minutes','catch','985049198428','sidebarOpen','sZyum','ojRXa','innerHTML','‚ö†Ô∏è\x20No\x20spamming\x20allowed.','sehcf','substr','zFysS','sendCodeBtn','ScqNH','HSWqB','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','BWqwF','jEuIe','1065183jDkVry','title','position','clear','RrQqO','FTDdD','find','<span\x20style=\x22margin-right:6px;\x22>','qWNlu','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','profiles/','NpnEp','VHKXM','Username\x20not\x20found.','aZvhK','16px','6px','codeEntryScreen','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','inline-block','WjWin','profileScreen','putangina','OyyLJ','siYuy','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','UnPrz','getUserMedia','user','qHUgw','zIndex','1381980ikqUbA','toLowerCase','exists','#00ff88','uaakd','service_qfnrrrl','createElement','mchoc','UwvAW','\x20demoted\x20to\x20user.','bjtzD','authPasswordConfirm','easy-chatroom.firebaseapp.com','auth','YPUHi','NmuCk','nERfD','email','auth/','mWpko','roomStates/','yeVZG','yrQBv','code','update','appendChild','gVRAL','userAgent','#aaa','FEgiq','No\x20changes\x20yet','child_added','TdzWn','co√±o','Gitzw','Missing\x20room\x20or\x20user\x20information.','Firebase\x20login\x20error:','XXESY','siXga','hUApz','‚ùå\x20Username\x20already\x20taken.','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','lawie','UehJJ','mierda','head','wYhNF','fbSuZ','true','jWOPi','zgFva','Fill\x20all\x20fields.','HvPYB','\x27,\x2010)\x22>Mute\x2010m</button>','bRtbV','SHA-256','digest','XCasu','lTmnM','355020VqUODc','Katjx','0|5|3|1|4|2','state','QCJBU','Microphone\x20permission\x20denied.','RzzXc','Passwords\x20do\x20not\x20match.','HBWBI','sidebarAvatarPreview','gBXmJ','floor','mIaGp','ILdWB','pointer','ZZZDx','\x20minutes.','qwUQW','No\x20room\x20code\x20available\x20for\x20private\x20rooms','userSidebar','pphIL','xEBUJ','bvXpT','YZtJs','timestamp','asshole','profileViewerAvatar','üîï\x20Disable\x20Notifications','Session\x20expired.','stopPropagation','\x20in\x20room\x20','</span>','signOut','qAUZp','limitToLast','jxUtX','puta','/paused','onclick','created','Rghjf','BMIpu','authTitle','IzQcb','TiusG','bXJZE','repeat(auto-fill,\x20minmax(32px,\x201fr))','Type\x20a\x20message...','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','MywTx','VzDNk','KbZyJ','getElementById','[Voice\x20message]','WmNlM','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','TVPfN','FeVbg','whiteSpace','</small>','EjoEx','18px','zAEXu','merda','EsWtV','ZadxA','trim','match','jVbOY','NAxDr','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','1|0|2|3|4','authUsername','QcJCB','JdDzZ','namePreview','xhdMC','<button\x20onclick=\x22deleteUserMessages(\x27','none','ServerValue','passwordHash','UzJNu','rtwJr','0px','Elyvl','test','TrmkH','RYnSg','FmaoL','EEdlv','GeLVs','editProfileError','fPLry','notifToggleBtn','mxxhX','now','requestPermission','CByUw','muted/','verificationTracker/','\x27)\x22>Demote</button>','key','background','kdsvA','osPyF','NznNx','visibilitychange','<img\x20src=\x22data:image/png;base64,','borderRadius','antispam','quBWv','efYwV','lastSent','length','yYkgy','auth/user-not-found','[Image]','wndAV','values','hjaLb','passwordError','/messages/','entries','5058656OjTVBb','SnfHg','justifyContent','<button>','NJZcv','hCyLN','gIJHS','üéôÔ∏è','trrcV','YatFB','Room\x20is\x20currently\x20paused.','CGIRR','active','scrollHeight','Eztil','authError','disabled','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','xNQuU','remove','lvHVs','kWdoq','WiOTv','keypress','data:audio/webm;base64,','TdCHl','OohbN','filter','CNejl','SeGUi','nolhA','tGvqP','reaction-box','nrsUw','dataset','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','wdfnz','rdemi','slice','UXYeo','vyEue','yLiyy','QLbyk','UYZZR','DyHdl','aiHpO','ezfmS','yYsEb','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','zSitF','querySelector','volume','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','equalTo','Enter\x20email\x20and\x20username\x20first.','sort','iKVaP','mjnSy','left','msgInput','salYh','mute','kyNqD','UHFfz','RykjY','msgId',')\x20New\x20message\x20‚Ä¢\x20','\x27)\x22>','lMhQs','zhnes','PbcRR','Email\x20is\x20already\x20in\x20use.','signInWithEmailAndPassword','wvLhM','authScreen','alignItems','\x27)\x22>+Admin</button>','TIMESTAMP','orderByChild','random','EGXTd','XfOmR','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','GbTrM','avatarBase64','KhNgW','online','antispamBlocked/','G-QDESJ2WR42','10px','some','ylKOu','\x20is\x20online','rooms/','üö´\x20Cannot\x20promote\x20Developers.','cunt','CAaAB','WjYCN','#222','PzvDy','addEventListener','normal','\x0aUsername\x20History:\x20','GGPXt','emiFF','Error\x20sending\x20code.\x20Check\x20EmailJS\x20setup.','\x27)\x22>Promote\x20to\x20Moderator</button>','rwBGn','QyLZU','jKnmS','0.8rem','-45px','NALCs','classList','ArcJh','zJOLy','messaging','PTLDN','Incorrect\x20password','oBABu','Firebase\x20registration\x20error:','CSAyq','CPvmO','xZSGk','stop','error','gWAeK','vsvts','audioUrl','HoBQU','moderator','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','TRyLR','initializeApp','zgqdn','ref','You\x20got\x20a\x20message\x20from\x20','admins/','PAYPC','PYEMQ','admin','No\x20bio\x20set','FmlmI','fJKLG','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','\x20was\x20muted\x20for\x20','Rlhrt','reload','gago','<br>','porra','send','rFdqr','c1EG9jBJFQSM_dFHY','all','flex','haKGq','uiwJO','system','mmiPg','ulol','src','files','gtUIs','minWidth','object','imageBase64','KVNwh','style','profileError','nqyAj','isArray','sender','‚úÖ\x20Profile\x20picture\x20updated!','Ciaei','permission','JGkuo','VNwRQ','wDXkb','4477991JYWuPj','</div>','usernameHistory','gVAwZ','dick','Failed\x20to\x20save\x20profile:','You\x20got\x20messages\x20from\x20','‚óè\x20Online','fpRkk','ggszS','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','kpBoW','QeSrO','Profile\x20not\x20found.','NNLbI','dev','UiYfD','2|0|4|1|3','jFIMt','DVkgb','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','authAvatar','mqnPj'];_0xb6db=function(){return _0x451bf7;};return _0xb6db();}sound[_0x274539(0x280)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2c8e51=_0x274539,_0x15179d={'QCJBU':function(_0x1a8c45,_0x2b4bb2){return _0x1a8c45+_0x2b4bb2;},'Rghjf':function(_0x113195,_0x3c51fa){return _0x113195+_0x3c51fa;},'SkJky':function(_0x4d40bf,_0x23d638){return _0x4d40bf(_0x23d638);}},_0x127b19=_0x15179d[_0x2c8e51(0x1d6)](_0x15179d[_0x2c8e51(0x1fa)](navigator[_0x2c8e51(0x1b2)],screen['width']),screen[_0x2c8e51(0x362)]),_0x7521e5=await _0x15179d[_0x2c8e51(0x15f)](sha256,_0x127b19);return _0x15179d[_0x2c8e51(0x1fa)]('_',_0x7521e5[_0x2c8e51(0x170)](0x0,0x14));}function sha256(_0x4928c2){const _0x26d344=_0x274539,_0x3c6996={'fJKLG':_0x26d344(0x1ce)},_0x46e525=new TextEncoder()['encode'](_0x4928c2);return crypto['subtle'][_0x26d344(0x1cf)](_0x3c6996[_0x26d344(0x2dc)],_0x46e525)[_0x26d344(0x15e)](_0x2df02f=>{const _0x31d288=_0x26d344;return Array['from'](new Uint8Array(_0x2df02f))[_0x31d288(0x323)](_0x311739=>_0x311739[_0x31d288(0x325)](0x10)['padStart'](0x2,'0'))[_0x31d288(0x10f)]('');});}function toggleNotifications(){const _0x23d780=_0x274539,_0x440cf3={'qayjN':_0x23d780(0x353),'DSNzG':_0x23d780(0x1c7),'ZZZDx':_0x23d780(0x22f),'bRtbV':_0x23d780(0x1ed),'fpRkk':function(_0x4c6335,_0x116569){return _0x4c6335!==_0x116569;},'QaJCC':_0x23d780(0xbb),'siYuy':'false','XGriT':_0x23d780(0xb1)};_0x440cf3[_0x23d780(0x308)](Notification[_0x23d780(0x2fc)],_0x440cf3['QaJCC'])?Notification[_0x23d780(0x232)]()[_0x23d780(0x15e)](_0x5090f4=>{const _0x27a399=_0x23d780;_0x5090f4==='granted'&&(notificationsEnabled=!![],localStorage['setItem'](_0x440cf3['qayjN'],_0x440cf3[_0x27a399(0x333)]),document[_0x27a399(0x206)](_0x440cf3[_0x27a399(0x1e1)])[_0x27a399(0x125)]=_0x440cf3[_0x27a399(0x1cd)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x23d780(0x353),notificationsEnabled?_0x440cf3[_0x23d780(0x333)]:_0x440cf3[_0x23d780(0x190)]),document[_0x23d780(0x206)](_0x440cf3['ZZZDx'])['innerText']=notificationsEnabled?_0x440cf3[_0x23d780(0x1cd)]:_0x440cf3['XGriT']);}function toggleAuthMode(){const _0x9b2df5=_0x274539,_0x57d4f3={'XXESY':_0x9b2df5(0xfc),'AtOVb':'block','aiHpO':_0x9b2df5(0x220),'FTDdD':'toggleAuthMode','ghskV':_0x9b2df5(0xe0),'tWFFE':_0x9b2df5(0xe5),'ezfmS':_0x9b2df5(0x25c),'QCTqx':'authUsername','SYahL':_0x9b2df5(0x111),'ccAHK':_0x9b2df5(0x12b),'TdzWn':'Register','BwMBZ':'Login','osPyF':_0x9b2df5(0x332),'efYwV':'Create\x20Account','OohbN':'authAvatar','RUEnU':_0x9b2df5(0x343)},_0x73c119=_0x57d4f3[_0x9b2df5(0x1bc)][_0x9b2df5(0xa6)]('|');let _0x31a3a7=0x0;while(!![]){switch(_0x73c119[_0x31a3a7++]){case'0':document['getElementById']('authPasswordConfirm')['style'][_0x9b2df5(0x3c0)]=isRegisterMode?_0x57d4f3[_0x9b2df5(0x90)]:_0x57d4f3[_0x9b2df5(0x27a)];continue;case'1':isRegisterMode=!isRegisterMode;continue;case'2':document[_0x9b2df5(0x206)](_0x9b2df5(0x172))['style'][_0x9b2df5(0x3c0)]=isRegisterMode?_0x57d4f3['AtOVb']:_0x57d4f3[_0x9b2df5(0x27a)];continue;case'3':document['getElementById'](_0x57d4f3[_0x9b2df5(0x17d)])[_0x9b2df5(0x125)]=isRegisterMode?_0x57d4f3[_0x9b2df5(0x12e)]:_0x57d4f3['tWFFE'];continue;case'4':document[_0x9b2df5(0x206)](_0x57d4f3[_0x9b2df5(0x27b)])['style'][_0x9b2df5(0x3c0)]=_0x57d4f3[_0x9b2df5(0x27a)];continue;case'5':document[_0x9b2df5(0x206)](_0x57d4f3[_0x9b2df5(0xcc)])[_0x9b2df5(0x2f5)][_0x9b2df5(0x3c0)]=_0x57d4f3[_0x9b2df5(0x90)];continue;case'6':document[_0x9b2df5(0x206)](_0x57d4f3[_0x9b2df5(0xc9)])['style']['display']=isRegisterMode?_0x57d4f3['AtOVb']:_0x57d4f3[_0x9b2df5(0x27a)];continue;case'7':document['getElementById'](_0x57d4f3[_0x9b2df5(0xad)])[_0x9b2df5(0x2f5)][_0x9b2df5(0x3c0)]=isRegisterMode?_0x57d4f3['AtOVb']:_0x57d4f3[_0x9b2df5(0x27a)];continue;case'8':document[_0x9b2df5(0x206)](_0x9b2df5(0x363))[_0x9b2df5(0x2f5)][_0x9b2df5(0x3c0)]=isRegisterMode?_0x57d4f3['AtOVb']:_0x57d4f3['aiHpO'];continue;case'9':document[_0x9b2df5(0x206)](_0x9b2df5(0x1fc))[_0x9b2df5(0x125)]=isRegisterMode?_0x57d4f3[_0x9b2df5(0x1b7)]:_0x57d4f3[_0x9b2df5(0x11a)];continue;case'10':document['getElementById'](_0x57d4f3[_0x9b2df5(0x23a)])[_0x9b2df5(0x125)]=isRegisterMode?_0x57d4f3[_0x9b2df5(0x241)]:_0x57d4f3[_0x9b2df5(0x11a)];continue;case'11':document[_0x9b2df5(0x206)](_0x57d4f3[_0x9b2df5(0x267)])['style'][_0x9b2df5(0x3c0)]=isRegisterMode?_0x57d4f3[_0x9b2df5(0x90)]:_0x9b2df5(0x220);continue;case'12':document[_0x9b2df5(0x206)](_0x57d4f3[_0x9b2df5(0x372)])[_0x9b2df5(0x2f5)][_0x9b2df5(0x3c0)]=_0x57d4f3[_0x9b2df5(0x27a)];continue;}break;}}function previewAvatar(){const _0x1d5de2=_0x274539,_0x4500de={'wvLhM':_0x1d5de2(0x343),'xhIKr':_0x1d5de2(0x10b)},_0x27fe33=document[_0x1d5de2(0x206)](_0x1d5de2(0x315));if(!_0x27fe33['files']['length'])return;const _0x1887bb=new FileReader();_0x1887bb[_0x1d5de2(0x34f)]=()=>{const _0x2f5a8a=_0x1d5de2;document[_0x2f5a8a(0x206)](_0x4500de[_0x2f5a8a(0x296)])['src']=_0x1887bb[_0x2f5a8a(0x382)],document['getElementById'](_0x4500de[_0x2f5a8a(0x296)])[_0x2f5a8a(0x2f5)][_0x2f5a8a(0x3c0)]=_0x4500de['xhIKr'];},_0x1887bb[_0x1d5de2(0xcf)](_0x27fe33[_0x1d5de2(0x2ef)][0x0]);}async function sendVerificationCode(){const _0x13b5f1=_0x274539,_0x592611={'yLUzM':_0x13b5f1(0x21a),'rxkkc':'authError','UzJNu':function(_0x517497,_0x10f993){return _0x517497||_0x10f993;},'pphIL':_0x13b5f1(0x10b),'jKOnD':function(_0x63a294,_0x5e57f3){return _0x63a294*_0x5e57f3;},'GklaT':function(_0x506e39,_0xbd15c8){return _0x506e39*_0xbd15c8;},'YOzhs':function(_0xb544f0,_0x4587e9){return _0xb544f0*_0x4587e9;},'CSAyq':function(_0xaafe76,_0x45fb5e){return _0xaafe76>=_0x45fb5e;},'voOxw':function(_0x72d67,_0x436513){return _0x72d67<_0x436513;},'hCyLN':function(_0x376f36,_0x18cfa0){return _0x376f36-_0x18cfa0;},'ykxpT':function(_0x2b26d3,_0x5aa599){return _0x2b26d3<_0x5aa599;},'rtwJr':function(_0x2281dc,_0x1a425e){return _0x2281dc/_0x1a425e;},'bBrne':_0x13b5f1(0x1a4),'vBWBi':_0x13b5f1(0x3a6),'eRYPX':_0x13b5f1(0x391),'UYrsN':function(_0x32d081,_0x12dc08){return _0x32d081(_0x12dc08);},'FckPT':_0x13b5f1(0x13b),'OyyLJ':_0x13b5f1(0xca),'qXsRD':_0x13b5f1(0x12b),'FWOse':_0x13b5f1(0x2b6)},_0x70c590=document[_0x13b5f1(0x206)]('authEmail')['value'][_0x13b5f1(0x214)]()['toLowerCase'](),_0x463e7e=document[_0x13b5f1(0x206)](_0x592611['yLUzM'])['value'][_0x13b5f1(0x214)](),_0x1f36c2=document[_0x13b5f1(0x206)](_0x592611['rxkkc']);_0x1f36c2[_0x13b5f1(0x2f5)]['display']='none';if(_0x592611[_0x13b5f1(0x223)](!_0x70c590,!_0x463e7e)){_0x1f36c2['innerText']=_0x13b5f1(0x283),_0x1f36c2[_0x13b5f1(0x2f5)][_0x13b5f1(0x3c0)]=_0x592611[_0x13b5f1(0x1e6)];return;}const _0x3ff7c6=_0x70c590[_0x13b5f1(0x36f)](/[.#$\[\]]/g,'_'),_0x710ff4=db['ref'](_0x13b5f1(0x235)+_0x3ff7c6),_0x56d320=await _0x710ff4[_0x13b5f1(0x387)](),_0x4f905f=Date[_0x13b5f1(0x231)](),_0x2d802b=_0x592611[_0x13b5f1(0xeb)](_0x592611[_0x13b5f1(0x336)](0x18,0x3c),0x3c)*0x3e8,_0x5fe95f=_0x592611[_0x13b5f1(0x157)](0xa*0x3c,0x3e8);let _0x58bda5=[];if(_0x56d320[_0x13b5f1(0x199)]()){const _0x239d9b=_0x56d320[_0x13b5f1(0x392)]();_0x58bda5=_0x239d9b[_0x13b5f1(0x32f)]||[],_0x58bda5=_0x58bda5[_0x13b5f1(0x268)](_0x9050e1=>_0x4f905f-_0x9050e1<0x2*_0x2d802b);if(_0x592611[_0x13b5f1(0x2c6)](_0x58bda5[_0x13b5f1(0x243)],0x3)&&_0x592611[_0x13b5f1(0xb5)](_0x592611[_0x13b5f1(0x252)](_0x4f905f,_0x58bda5[0x2]),0x2*_0x2d802b)){_0x1f36c2['innerText']=_0x13b5f1(0x123),_0x1f36c2[_0x13b5f1(0x2f5)]['display']=_0x592611[_0x13b5f1(0x1e6)];return;}const _0xfbfbd8=_0x239d9b[_0x13b5f1(0x242)]||0x0;if(_0x592611['ykxpT'](_0x592611[_0x13b5f1(0x252)](_0x4f905f,_0xfbfbd8),_0x5fe95f)){const _0x4c4079=Math[_0x13b5f1(0x114)](_0x592611[_0x13b5f1(0x224)](_0x5fe95f-(_0x4f905f-_0xfbfbd8),0xea60));_0x1f36c2['innerText']=_0x13b5f1(0x365)+_0x4c4079+'\x20minutes\x20before\x20resending.',_0x1f36c2[_0x13b5f1(0x2f5)]['display']=_0x13b5f1(0x10b);return;}}const _0x2b68b2=Math[_0x13b5f1(0x1dd)](0x186a0+_0x592611['YOzhs'](Math[_0x13b5f1(0x29c)](),0xdbba0))[_0x13b5f1(0x325)](),_0x298f7f=await db[_0x13b5f1(0x2d4)](_0x592611[_0x13b5f1(0xd2)])[_0x13b5f1(0x89)](_0x592611['vBWBi']),_0x33afbf=_0x298f7f[_0x13b5f1(0x392)]()||{},_0x40ea30=Object[_0x13b5f1(0x248)](_0x33afbf)['some'](_0x37b55f=>_0x37b55f[_0x13b5f1(0x1a8)]?.['toLowerCase']()===_0x70c590);if(_0x40ea30){_0x1f36c2['innerText']=_0x592611['eRYPX'],_0x1f36c2[_0x13b5f1(0x2f5)]['display']=_0x13b5f1(0x10b);return;}lastVerificationCode=_0x2b68b2;try{const _0x60e088=_0x13b5f1(0x311)[_0x13b5f1(0xa6)]('|');let _0x477b36=0x0;while(!![]){switch(_0x60e088[_0x477b36++]){case'0':_0x592611[_0x13b5f1(0xfe)](alert,_0x592611['FckPT']);continue;case'1':_0x58bda5[_0x13b5f1(0x326)](_0x4f905f);continue;case'2':await emailjs[_0x13b5f1(0x2e4)](_0x13b5f1(0x19c),_0x592611[_0x13b5f1(0x18f)],{'to_email':_0x70c590,'to_name':_0x463e7e,'message':_0x2b68b2},_0x13b5f1(0x2e6));continue;case'3':await _0x710ff4[_0x13b5f1(0x331)]({'lastSent':_0x4f905f,'attempts':_0x58bda5});continue;case'4':document[_0x13b5f1(0x206)](_0x592611['qXsRD'])[_0x13b5f1(0x2f5)][_0x13b5f1(0x3c0)]=_0x13b5f1(0x10b);continue;}break;}}catch(_0xaeb999){_0x1f36c2[_0x13b5f1(0x125)]=_0x592611[_0x13b5f1(0x385)],_0x1f36c2[_0x13b5f1(0x2f5)]['display']=_0x592611[_0x13b5f1(0x1e6)],console['error'](_0xaeb999);}}async function submitAuth(){const _0x10a7fc=_0x274539,_0x1355f0={'FoxYM':'authPassword','vsvts':_0x10a7fc(0x1a2),'zAEXu':_0x10a7fc(0x12b),'fvveu':_0x10a7fc(0x25c),'cAkFM':'none','UiYfD':_0x10a7fc(0x1ca),'FFOVe':function(_0x218b17,_0x90062b){return _0x218b17!==_0x90062b;},'jBtsl':_0x10a7fc(0x1d9),'YPUHi':'block','ttziX':'Invalid\x20verification\x20code.','KQFVa':function(_0xddbc53,_0x1dab57){return _0xddbc53(_0x1dab57);},'yYsEb':function(_0x2475c3,_0x2ad8ea){return _0x2475c3+_0x2ad8ea;},'HeztH':_0x10a7fc(0x99),'uVjNP':_0x10a7fc(0x393),'NgLKD':function(_0x50dd7c){return _0x50dd7c();},'eRJxZ':_0x10a7fc(0x39a),'rwBGn':_0x10a7fc(0x31b),'qfGUG':function(_0x1e91a0,_0x2aba81){return _0x1e91a0===_0x2aba81;},'KjuLu':_0x10a7fc(0x245),'bPfQI':_0x10a7fc(0x368),'CJvav':_0x10a7fc(0x3ac),'IjZQx':'Too\x20many\x20attempts.\x20Try\x20again\x20later.','mjnSy':function(_0x2de5d1,_0x417e35){return _0x2de5d1||_0x417e35;},'niMQp':_0x10a7fc(0x119),'HTotW':_0x10a7fc(0x3a6),'HBWBI':_0x10a7fc(0xff),'JTdrp':function(_0x585f45,_0xa063d1){return _0x585f45+_0xa063d1;},'qHpqG':_0x10a7fc(0x185),'MywTx':'Could\x20not\x20create\x20account.\x20Try\x20again.','salYh':'auth/email-already-in-use','jzcUp':_0x10a7fc(0x294),'gBXmJ':function(_0x18a1e7,_0x19aee8){return _0x18a1e7===_0x19aee8;},'ZadxA':_0x10a7fc(0x33e),'YatFB':'Password\x20should\x20be\x20at\x20least\x206\x20characters.'},_0x484fb6=document[_0x10a7fc(0x206)](_0x10a7fc(0x363))[_0x10a7fc(0x3a6)][_0x10a7fc(0x214)](),_0x25236c=document['getElementById'](_0x10a7fc(0x21a))[_0x10a7fc(0x3a6)][_0x10a7fc(0x214)](),_0x39714d=document['getElementById'](_0x1355f0[_0x10a7fc(0xd4)])[_0x10a7fc(0x3a6)][_0x10a7fc(0x214)](),_0x35717d=document['getElementById'](_0x1355f0[_0x10a7fc(0x2cc)])[_0x10a7fc(0x3a6)]['trim'](),_0x5dd989=document[_0x10a7fc(0x206)](_0x1355f0[_0x10a7fc(0x210)])[_0x10a7fc(0x3a6)]['trim'](),_0x1734f1=document['getElementById'](_0x1355f0['fvveu']);_0x1734f1[_0x10a7fc(0x2f5)][_0x10a7fc(0x3c0)]=_0x1355f0[_0x10a7fc(0xce)];if(isRegisterMode){if(!_0x484fb6||!_0x25236c||!_0x39714d||!_0x35717d||!_0x5dd989){_0x1734f1[_0x10a7fc(0x125)]=_0x1355f0[_0x10a7fc(0x310)],_0x1734f1[_0x10a7fc(0x2f5)][_0x10a7fc(0x3c0)]='block';return;}if(_0x1355f0[_0x10a7fc(0x380)](_0x39714d,_0x35717d)){_0x1734f1[_0x10a7fc(0x125)]=_0x1355f0[_0x10a7fc(0xa9)],_0x1734f1['style'][_0x10a7fc(0x3c0)]=_0x1355f0[_0x10a7fc(0x1a5)];return;}if(_0x5dd989!==lastVerificationCode){_0x1734f1['innerText']=_0x1355f0['ttziX'],_0x1734f1[_0x10a7fc(0x2f5)][_0x10a7fc(0x3c0)]=_0x1355f0['YPUHi'];return;}try{const _0x13e322=await firebase[_0x10a7fc(0x1a4)]()[_0x10a7fc(0xb9)](_0x484fb6,_0x39714d),_0x4c0ac0=_0x13e322[_0x10a7fc(0x194)],_0x556923=_0x1355f0[_0x10a7fc(0x3ba)](sanitizeUsername,_0x25236c);await db[_0x10a7fc(0x2d4)](_0x1355f0[_0x10a7fc(0x27c)](_0x1355f0[_0x10a7fc(0x15c)],_0x556923))['set']({'username':_0x25236c,'email':_0x484fb6,'createdAt':Date[_0x10a7fc(0x231)]()}),await firebase[_0x10a7fc(0x1a4)]()[_0x10a7fc(0x1f2)](),_0x1355f0[_0x10a7fc(0x3ba)](alert,_0x1355f0[_0x10a7fc(0x154)]),_0x1355f0[_0x10a7fc(0x14d)](toggleAuthMode);}catch(_0x42ea03){console['warn'](_0x10a7fc(0x1bb),_0x42ea03);let _0x38b41f=_0x1355f0['eRJxZ'];if(_0x42ea03[_0x10a7fc(0x1ae)]===_0x10a7fc(0x342))_0x38b41f=_0x1355f0[_0x10a7fc(0x2b8)];else{if(_0x1355f0['qfGUG'](_0x42ea03[_0x10a7fc(0x1ae)],_0x1355f0['KjuLu']))_0x38b41f=_0x1355f0[_0x10a7fc(0x10d)];else _0x1355f0['qfGUG'](_0x42ea03[_0x10a7fc(0x1ae)],_0x1355f0[_0x10a7fc(0x159)])&&(_0x38b41f=_0x1355f0[_0x10a7fc(0x108)]);}_0x1734f1[_0x10a7fc(0x125)]=_0x38b41f,_0x1734f1[_0x10a7fc(0x2f5)]['display']=_0x1355f0[_0x10a7fc(0x1a5)];}}else{const _0xf740bc=document['getElementById'](_0x10a7fc(0x21a))['value']['trim']();if(_0x1355f0[_0x10a7fc(0x286)](!_0xf740bc,!_0x39714d)){_0x1734f1[_0x10a7fc(0x125)]=_0x1355f0['niMQp'],_0x1734f1[_0x10a7fc(0x2f5)][_0x10a7fc(0x3c0)]='block';return;}try{let _0x31a714='',_0x37ae66=null;const _0x51bae1=/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x10a7fc(0x227)](_0xf740bc);if(_0x51bae1){const _0x35cffb=await db[_0x10a7fc(0x2d4)]('users')[_0x10a7fc(0x89)](_0x1355f0[_0x10a7fc(0x3b6)]),_0x3bfcf6=_0x35cffb[_0x10a7fc(0x392)](),_0x562aaa=Object[_0x10a7fc(0x248)](_0x3bfcf6)[_0x10a7fc(0x17e)](_0x192630=>_0x192630[_0x10a7fc(0x1a8)]===_0xf740bc);if(!_0x562aaa)throw new Error(_0x1355f0[_0x10a7fc(0x1da)]);_0x31a714=_0x562aaa[_0x10a7fc(0x1a8)],username=_0x562aaa[_0x10a7fc(0xcd)];}else{_0x37ae66=await db[_0x10a7fc(0x2d4)](_0x1355f0[_0x10a7fc(0x3ab)](_0x1355f0[_0x10a7fc(0x15c)],sanitizeUsername(_0xf740bc)))[_0x10a7fc(0x387)]();if(!_0x37ae66[_0x10a7fc(0x199)]())throw new Error(_0x1355f0['qHpqG']);_0x31a714=_0x37ae66[_0x10a7fc(0x392)]()[_0x10a7fc(0x1a8)],username=_0x37ae66[_0x10a7fc(0x392)]()[_0x10a7fc(0xcd)];}const _0x32132d=await firebase[_0x10a7fc(0x1a4)]()[_0x10a7fc(0x295)](_0x31a714,_0x39714d),_0x1d25d1=_0x32132d['user'];_0x1355f0[_0x10a7fc(0x14d)](startAfterAuth);}catch(_0x3a89e2){console[_0x10a7fc(0x15b)](_0x10a7fc(0x2c5),_0x3a89e2);let _0x4a746b=_0x1355f0[_0x10a7fc(0x203)];if(_0x3a89e2[_0x10a7fc(0x1ae)]===_0x1355f0[_0x10a7fc(0x289)])_0x4a746b=_0x1355f0['jzcUp'];else _0x1355f0[_0x10a7fc(0x1dc)](_0x3a89e2[_0x10a7fc(0x1ae)],_0x1355f0[_0x10a7fc(0x213)])&&(_0x4a746b=_0x1355f0[_0x10a7fc(0x256)]);_0x1734f1['innerText']=_0x4a746b,_0x1734f1['style'][_0x10a7fc(0x3c0)]=_0x1355f0[_0x10a7fc(0x1a5)];}}}async function saveNewUser(_0x23c3b9,_0x762ba5,_0x1990fe,_0x4acef5,_0x54efbb){const _0x1d5c73=_0x274539,_0x391b3f={'CAaAB':function(_0x38e5d2,_0x48f8a0){return _0x38e5d2||_0x48f8a0;},'DVkgb':function(_0x434ab9){return _0x434ab9();}},_0x54ec61=db[_0x1d5c73(0x2d4)](_0x1d5c73(0x1a9)+sanitizeUsername(_0x23c3b9)),_0x565709={'username':_0x23c3b9,'passwordHash':_0x762ba5,'role':_0x1d5c73(0x194),'deviceId':_0x1990fe,'description':_0x391b3f[_0x1d5c73(0x2ad)](_0x54efbb,''),'avatarBase64':_0x4acef5||'','usernameHistory':[_0x23c3b9],'lastChanged':Date[_0x1d5c73(0x231)]()};await _0x54ec61[_0x1d5c73(0x331)](_0x565709),username=_0x23c3b9,_0x4acef5=_0x565709['avatarBase64'],userDescription=_0x565709['description'],_0x391b3f[_0x1d5c73(0x313)](startAfterAuth);}async function startAfterAuth(){const _0x36569f=_0x274539,_0x19836c={'qIsHA':_0x36569f(0x194),'pQTGb':_0x36569f(0x1db),'gtUIs':function(_0x58af07,_0x584501){return _0x58af07+_0x584501;},'EjoEx':_0x36569f(0xdb),'zSitF':function(_0x1c22cb){return _0x1c22cb();},'DqXdh':_0x36569f(0x21d),'CYPyO':function(_0x53cbd8,_0x21d88b){return _0x53cbd8(_0x21d88b);},'NlJAs':'roomChoiceScreen'},_0x5bc056=sanitizeUsername(username),_0x2f388e=db['ref'](_0x36569f(0x1a9)+_0x5bc056),_0x3cf440=await _0x2f388e['get']();if(_0x3cf440[_0x36569f(0x199)]()){const _0x122c83=_0x3cf440[_0x36569f(0x392)]();username=_0x122c83['username'],userDescription=_0x122c83['description']||'',avatarBase64=_0x122c83['avatarBase64']||'',role=_0x122c83['role']||_0x19836c['qIsHA'];if(avatarBase64){const _0x28e095=document['getElementById'](_0x19836c['pQTGb']);_0x28e095[_0x36569f(0x2ee)]=_0x19836c[_0x36569f(0x2f0)](_0x19836c[_0x36569f(0x20e)],avatarBase64),_0x28e095[_0x36569f(0x2f5)][_0x36569f(0x3c0)]=_0x36569f(0x10b);}}else console[_0x36569f(0x15b)](_0x36569f(0x270));await _0x19836c[_0x36569f(0x27e)](loadRoomRoles),document['getElementById'](_0x19836c[_0x36569f(0x379)])['innerText']=username,_0x19836c[_0x36569f(0x3b9)](showScreen,_0x19836c[_0x36569f(0x335)]);}function toggleRecording(){const _0x5593b8=_0x274539,_0x1a3bb4={'Oebyl':'audio/webm','HleAD':function(_0x134a4e,_0x112e43){return _0x134a4e&&_0x112e43;},'WbUoS':function(_0x5e4958){return _0x5e4958();},'Katjx':_0x5593b8(0x207),'kefzL':function(_0x272656,_0x9497b,_0x2fc374){return _0x272656(_0x9497b,_0x2fc374);},'TRyLR':function(_0xe89c6,_0x223687){return _0xe89c6(_0x223687);},'eTtPh':_0x5593b8(0x1d7),'GRiTx':function(_0x26734f){return _0x26734f();}};isRecording?_0x1a3bb4['GRiTx'](stopRecording):navigator[_0x5593b8(0xe9)][_0x5593b8(0x193)]({'audio':!![]})['then'](_0x6c7998=>{const _0x2e81cf=_0x5593b8,_0x6075c6={'UYZZR':_0x1a3bb4[_0x2e81cf(0x1d3)]};mediaRecorder=new MediaRecorder(_0x6c7998),mediaRecorder['start'](),isRecording=!![],document[_0x2e81cf(0x206)]('recordBtn')[_0x2e81cf(0x125)]='‚èπÔ∏è',audioChunks=[],mediaRecorder['ondataavailable']=_0x4fe80b=>audioChunks[_0x2e81cf(0x326)](_0x4fe80b[_0x2e81cf(0x137)]),mediaRecorder['onstop']=()=>{const _0x10c6d6=_0x2e81cf;clearTimeout(recordingTimer);const _0x40d67c=new Blob(audioChunks,{'type':_0x1a3bb4['Oebyl']}),_0x9fabea=new FileReader();_0x9fabea['onloadend']=()=>{const _0x20560b=_0x2331,_0x3e84e2=_0x9fabea[_0x20560b(0x382)][_0x20560b(0xa6)](',')[0x1],_0x2796aa=db[_0x20560b(0x2d4)]()[_0x20560b(0x326)]()[_0x20560b(0x237)];db[_0x20560b(0x2d4)](_0x20560b(0x2aa)+roomCode+_0x20560b(0x24b)+_0x2796aa)[_0x20560b(0x331)]({'msg':_0x6075c6[_0x20560b(0x278)],'audioBase64':_0x3e84e2,'sender':username,'senderId':clientId,'timestamp':Date[_0x20560b(0x231)]()});},_0x9fabea[_0x10c6d6(0xcf)](_0x40d67c);},recordingTimer=_0x1a3bb4[_0x2e81cf(0x33c)](setTimeout,()=>{const _0x339784=_0x2e81cf;_0x1a3bb4['HleAD'](mediaRecorder,isRecording)&&_0x1a3bb4[_0x339784(0xcb)](stopRecording);},0x4e20);})[_0x5593b8(0x168)](_0x2bed14=>{const _0x4d02d4=_0x5593b8;_0x1a3bb4[_0x4d02d4(0x2d1)](alert,_0x1a3bb4[_0x4d02d4(0x136)]);});}function stopRecording(){const _0x1e6072=_0x274539,_0x51e507={'KyRGf':function(_0x14e2c2,_0x246583){return _0x14e2c2&&_0x246583;},'ILdWB':'recordBtn','iCBzZ':_0x1e6072(0x254)};_0x51e507[_0x1e6072(0x38d)](mediaRecorder,isRecording)&&(mediaRecorder[_0x1e6072(0x2c9)](),isRecording=![],document[_0x1e6072(0x206)](_0x51e507[_0x1e6072(0x1df)])['innerText']=_0x51e507['iCBzZ']);}window['onload']=async()=>{const _0x590ed1=_0x274539,_0x423d76={'emiFF':function(_0x6ee36){return _0x6ee36();},'uiwJO':function(_0x275d89){return _0x275d89();},'jWOPi':function(_0x2ce6ce,_0xe3bada){return _0x2ce6ce===_0xe3bada;},'RYnSg':_0x590ed1(0x1c7),'Ovbqf':function(_0x175155,_0x5a86fd){return _0x175155(_0x5a86fd);},'quBWv':_0x590ed1(0x297)};_0x423d76['emiFF'](cleanupOldRooms),_0x423d76[_0x590ed1(0x2b5)](setupSidebarBackHandler),_0x423d76[_0x590ed1(0x2ea)](setupVisibilityAttention),_0x423d76[_0x590ed1(0x2b5)](resetWebsiteData);const _0x1985f6=localStorage[_0x590ed1(0x32e)](_0x590ed1(0x353));notificationsEnabled=_0x423d76[_0x590ed1(0x1c8)](_0x1985f6,_0x423d76[_0x590ed1(0x229)]),isRegisterMode=![],toggleAuthMode(),_0x423d76[_0x590ed1(0xb4)](showScreen,_0x423d76[_0x590ed1(0x240)]);};function sanitizeUsername(_0x45295e){const _0x2e53d7=_0x274539;return _0x45295e[_0x2e53d7(0x36f)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x13ab3a=_0x274539,_0x163838={'IzQcb':_0x13ab3a(0x10b),'ZgDjC':'namePreview','ljgAd':function(_0xae5300,_0x59cfff){return _0xae5300(_0x59cfff);},'EVoid':_0x13ab3a(0x39f),'CPvmO':_0x13ab3a(0xd7),'UFtok':_0x13ab3a(0xbd),'jFvwN':_0x13ab3a(0x86),'WjWin':function(_0x2903b6,_0x5d70e6){return _0x2903b6||_0x5d70e6;},'rFdqr':_0x13ab3a(0x218),'LEgeK':function(_0x577393,_0x109423){return _0x577393(_0x109423);}},_0x24fbe5=document[_0x13ab3a(0x206)](_0x163838[_0x13ab3a(0xf1)])[_0x13ab3a(0x3a6)][_0x13ab3a(0x214)](),_0x525afc=document['getElementById'](_0x163838[_0x13ab3a(0x330)])[_0x13ab3a(0x3a6)]['trim'](),_0x4146b2=document[_0x13ab3a(0x206)](_0x13ab3a(0x2f6));if(_0x163838[_0x13ab3a(0x18c)](!_0x24fbe5,!_0x525afc)){_0x4146b2[_0x13ab3a(0x125)]=_0x163838[_0x13ab3a(0x2e5)],_0x4146b2[_0x13ab3a(0x2f5)][_0x13ab3a(0x3c0)]=_0x163838[_0x13ab3a(0x1fd)];return;}const _0x263125=_0x163838[_0x13ab3a(0xa4)](sanitizeUsername,_0x24fbe5),_0x3c0261=db[_0x13ab3a(0x2d4)](_0x13ab3a(0x182)+_0x263125);_0x3c0261[_0x13ab3a(0x89)](_0x13ab3a(0x3a6))[_0x13ab3a(0x15e)](_0x968400=>{const _0x4dd668=_0x13ab3a,_0x10c02e={'CByUw':_0x4dd668(0x305),'JfNQo':_0x4dd668(0x29f),'wSzdq':_0x163838['IzQcb'],'KVNwh':_0x163838['ZgDjC'],'tZmWL':function(_0x3ea0f1,_0x2dafc7){const _0x3d902d=_0x4dd668;return _0x163838[_0x3d902d(0x395)](_0x3ea0f1,_0x2dafc7);},'TdCHl':_0x163838[_0x4dd668(0x13f)]};if(_0x968400[_0x4dd668(0x199)]())_0x4146b2[_0x4dd668(0x125)]=_0x4dd668(0x1bf),_0x4146b2[_0x4dd668(0x2f5)]['display']=_0x4dd668(0x10b);else{const _0x56454b={'username':_0x24fbe5,'description':_0x525afc,'lastChanged':Date['now'](),'usernameHistory':[_0x24fbe5]};_0x3c0261['set'](_0x56454b,_0x30625f=>{const _0x30e02c=_0x4dd668;if(_0x30625f)console[_0x30e02c(0x2ca)](_0x10c02e[_0x30e02c(0x233)],_0x30625f),_0x4146b2[_0x30e02c(0x125)]=_0x10c02e['JfNQo'],_0x4146b2[_0x30e02c(0x2f5)][_0x30e02c(0x3c0)]=_0x10c02e['wSzdq'];else{const _0xb4358f=_0x30e02c(0x219)[_0x30e02c(0xa6)]('|');let _0x4f3b58=0x0;while(!![]){switch(_0xb4358f[_0x4f3b58++]){case'0':localStorage[_0x30e02c(0x384)]('profile_description',_0x525afc);continue;case'1':localStorage[_0x30e02c(0x384)](_0x30e02c(0x92),_0x24fbe5);continue;case'2':username=_0x24fbe5;continue;case'3':document[_0x30e02c(0x206)](_0x10c02e[_0x30e02c(0x2f4)])[_0x30e02c(0x125)]=_0x24fbe5;continue;case'4':_0x10c02e[_0x30e02c(0x32b)](showScreen,_0x10c02e[_0x30e02c(0x266)]);continue;}break;}}});}})[_0x13ab3a(0x168)](_0x24695d=>{const _0x2a5331=_0x13ab3a;console[_0x2a5331(0x2ca)]('Error\x20checking\x20username:',_0x24695d),_0x4146b2[_0x2a5331(0x125)]=_0x163838[_0x2a5331(0x2c7)],_0x4146b2[_0x2a5331(0x2f5)][_0x2a5331(0x3c0)]=_0x163838[_0x2a5331(0x1fd)];});}function saveProfile(_0x49f96b,_0x2d189c,_0x2c40d2){const _0x1cdefb=_0x274539,_0xfcb9af={'qTEKP':_0x1cdefb(0x21d),'mWpko':function(_0x255a81,_0xf4e44a){return _0x255a81(_0xf4e44a);},'qAUZp':_0x1cdefb(0x39f)},_0x1977c8=Date[_0x1cdefb(0x231)](),_0xd8ce0d=[_0x49f96b];db['ref'](_0x1cdefb(0x182)+_0x2c40d2)[_0x1cdefb(0x331)]({'username':_0x49f96b,'description':_0x2d189c,'lastChanged':_0x1977c8,'usernameHistory':_0xd8ce0d}),document[_0x1cdefb(0x206)](_0xfcb9af[_0x1cdefb(0xf6)])['innerText']=_0x49f96b,_0xfcb9af[_0x1cdefb(0x1aa)](showScreen,_0xfcb9af[_0x1cdefb(0x1f3)]);}function generateRoom(){const _0x13dfc1=_0x274539,_0x3bc6b7={'tGvqP':function(_0x1d8c3d){return _0x1d8c3d();},'qgQcc':_0x13dfc1(0x2aa)};roomCode=_0x3bc6b7[_0x13dfc1(0x26c)](genRoomCode),db['ref'](_0x3bc6b7['qgQcc']+roomCode)[_0x13dfc1(0x331)]({'active':!![],'created':Date[_0x13dfc1(0x231)]()}),startChat();}function joinRoom(){const _0x67ce9c=_0x274539,_0x47f0d0={'BXpqn':function(_0x57c926,_0x188bbb){return _0x57c926!==_0x188bbb;},'VJYNt':function(_0xa9cfdc){return _0xa9cfdc();},'ScqNH':function(_0x6a3c59,_0x7e35a0){return _0x6a3c59(_0x7e35a0);},'mGYht':_0x67ce9c(0xbe),'FmlmI':'Enter\x20a\x20valid\x20room\x20code','AHvDf':function(_0xd4616b,_0x5ac96d){return _0xd4616b===_0x5ac96d;},'XOWUr':_0x67ce9c(0x2aa)},_0x354f2f=roomCode||document[_0x67ce9c(0x206)](_0x47f0d0[_0x67ce9c(0xc7)])['value'][_0x67ce9c(0x214)]()[_0x67ce9c(0xec)]();if(!_0x354f2f)return alert(_0x47f0d0[_0x67ce9c(0x2db)]);roomCode=_0x354f2f;if(_0x47f0d0[_0x67ce9c(0x126)](roomCode,STATIC_ROOM)){_0x47f0d0[_0x67ce9c(0x173)](showScreen,_0x67ce9c(0x8d));return;}db['ref'](_0x47f0d0[_0x67ce9c(0xf4)]+roomCode)[_0x67ce9c(0x387)]()[_0x67ce9c(0x15e)](_0x45639c=>{const _0x57975c=_0x67ce9c;_0x45639c['exists']()&&_0x47f0d0['BXpqn'](_0x45639c[_0x57975c(0x392)]()[_0x57975c(0x259)],![])?_0x47f0d0[_0x57975c(0x3b8)](startChat):_0x47f0d0['ScqNH'](alert,_0x57975c(0x2d0));});}async function startChat(){const _0x4d7f4e=_0x274539,_0x548653={'bXJZE':function(_0x3a777e){return _0x3a777e();},'xEBUJ':_0x4d7f4e(0x360),'peyGG':function(_0x4f8d18,_0x3c07d7){return _0x4f8d18===_0x3c07d7;},'nNoDQ':_0x4d7f4e(0x2d9),'PiWAy':_0x4d7f4e(0x30f),'RFJWK':'Remove\x20this\x20announcement?','TXnik':function(_0x39d1cc,_0x107683){return _0x39d1cc(_0x107683);},'LoOke':'Failed\x20to\x20register\x20user\x20into\x20room.','XmaGK':_0x4d7f4e(0x39f),'USwlq':_0x4d7f4e(0x1db),'pUrOb':function(_0x14fc2a,_0x4e9967){return _0x14fc2a+_0x4e9967;},'KNrHt':_0x4d7f4e(0xdb),'NlIGq':_0x4d7f4e(0x10b),'fbzcS':'roomDisplay','PVPcD':function(_0x21492d,_0xda58ae){return _0x21492d===_0xda58ae;},'MFbvb':_0x4d7f4e(0x2eb),'bBlMf':function(_0x2c1441,_0x486908){return _0x2c1441(_0x486908);},'EurCV':_0x4d7f4e(0x317),'HSWqB':_0x4d7f4e(0x11c),'FJGfU':function(_0x26f7c6){return _0x26f7c6();},'DtmEg':'auth','wGOOB':_0x4d7f4e(0x1b6),'JdDzZ':function(_0x3df67b,_0x19825d){return _0x3df67b||_0x19825d;},'jcsMz':function(_0x2d53c1,_0x2f3c98){return _0x2d53c1(_0x2f3c98);},'jKnmS':_0x4d7f4e(0x1ba),'UHFfz':function(_0x167af2){return _0x167af2();}};if(_0x548653[_0x4d7f4e(0x21c)](!roomCode,!username))return _0x548653['jcsMz'](alert,_0x548653[_0x4d7f4e(0x2ba)]),showScreen(_0x548653[_0x4d7f4e(0xe1)]);_0x548653[_0x4d7f4e(0x28c)](listenForPauseState),listenForUserList(),await _0x548653['bXJZE'](loadRoomRoles),listenForAnnouncement();const _0x5b9438=_0x548653[_0x4d7f4e(0x9b)](sanitizeUsername,username),_0x489a62=db[_0x4d7f4e(0x2d4)](_0x4d7f4e(0x99)+roomCode+'/'+_0x5b9438),_0x4ca1ed={'username':username,'online':!![],'lastOnline':firebase['database'][_0x4d7f4e(0x221)]['TIMESTAMP']};_0x489a62[_0x4d7f4e(0x331)](_0x4ca1ed,_0xa758d3=>{const _0x105375=_0x4d7f4e,_0x25f9c2={'xmGuH':_0x548653[_0x105375(0x1e7)],'EPJPm':function(_0x3dc63e,_0x31e65c){return _0x3dc63e===_0x31e65c;},'vLOuz':function(_0x1ac57d,_0x410fb3){const _0x40163b=_0x105375;return _0x548653[_0x40163b(0x138)](_0x1ac57d,_0x410fb3);},'UIIdG':_0x548653[_0x105375(0x15d)],'nERfD':_0x548653[_0x105375(0x131)],'yYkgy':function(_0x2bc670,_0x3e21e8){return _0x2bc670(_0x3e21e8);},'HKKBM':_0x548653['RFJWK']};if(_0xa758d3)return _0x548653[_0x105375(0x31d)](alert,_0x548653[_0x105375(0xd0)]),_0x548653['TXnik'](showScreen,_0x548653[_0x105375(0xe1)]);const _0x4529ab=document['getElementById'](_0x548653[_0x105375(0x31f)]);avatarBase64&&(_0x4529ab[_0x105375(0x2ee)]=_0x548653['pUrOb'](_0x548653['KNrHt'],avatarBase64),_0x4529ab[_0x105375(0x2f5)]['display']=_0x548653['NlIGq']);document[_0x105375(0x206)]('userDisplay')['innerHTML']=username+'\x20'+_0x548653['TXnik'](getRoleTag,_0x5b9438),document[_0x105375(0x206)](_0x548653[_0x105375(0x377)])[_0x105375(0x125)]=_0x548653[_0x105375(0xc5)](roomCode,STATIC_ROOM)?_0x105375(0x1e4):roomCode,_0x548653['bXJZE'](updateAnnouncementVisibility);const _0x2fe2ab=db[_0x105375(0x2d4)]()[_0x105375(0x326)]()['key'];db[_0x105375(0x2d4)]('rooms/'+roomCode+'/messages/'+_0x2fe2ab)[_0x105375(0x331)]({'msg':username+_0x105375(0x2a9),'sender':'system','senderId':_0x548653[_0x105375(0x87)],'timestamp':Date['now']()}),_0x548653[_0x105375(0x9b)](showScreen,_0x548653[_0x105375(0x14f)]),document[_0x105375(0x206)](_0x548653['xEBUJ'])['addEventListener'](_0x548653[_0x105375(0x174)],_0x516c8e=>{const _0x58e614=_0x105375,_0x32235e={'tIjje':_0x25f9c2[_0x58e614(0xf2)]};_0x25f9c2[_0x58e614(0xaf)](_0x516c8e['detail'],0x3)&&(_0x25f9c2[_0x58e614(0x356)](role,_0x25f9c2[_0x58e614(0x35f)])||role===_0x25f9c2[_0x58e614(0x1a7)])&&(_0x25f9c2[_0x58e614(0x244)](confirm,_0x25f9c2['HKKBM'])&&db['ref'](_0x58e614(0x2aa)+roomCode+_0x58e614(0x140))[_0x58e614(0x260)]()['then'](()=>{const _0x1590fb=_0x58e614;document[_0x1590fb(0x206)](_0x32235e[_0x1590fb(0x33a)])[_0x1590fb(0x125)]='';}));}),_0x548653[_0x105375(0x1ff)](listenForMessages),_0x548653[_0x105375(0x38b)](listenForTyping),_0x548653[_0x105375(0x38b)](startInactivityTimer),_0x548653['FJGfU'](trackPresence),_0x548653[_0x105375(0x1ff)](watchProfileChanges),watchMuteStatus(),_0x548653[_0x105375(0x1ff)](startSidebarSyncLoop);const _0x4043fd=()=>{const _0x12158c=_0x105375,_0x3b6f2c={'QoZfl':function(_0xf780a9){return _0x548653['bXJZE'](_0xf780a9);}};_0x548653[_0x12158c(0x1ff)](loadRoomRoles)['then'](()=>{const _0x5f2932=_0x12158c;renderUserLists(roomUsers),_0x3b6f2c[_0x5f2932(0xab)](updateAnnouncementVisibility);});};db['ref'](_0x548653[_0x105375(0xe3)])['on'](_0x105375(0x340),_0x4043fd),db[_0x105375(0x2d4)](_0x548653[_0x105375(0xe3)])['on'](_0x548653[_0x105375(0x3a0)],_0x4043fd);});}function updateAnnouncementVisibility(){const _0x521bba=_0x274539,_0x2da371={'COXZg':_0x521bba(0xa2),'mioCW':function(_0x420678,_0x8feec1){return _0x420678===_0x8feec1;},'YZtJs':_0x521bba(0x2d9),'rmqKG':_0x521bba(0x30f)},_0x4747f=document[_0x521bba(0x206)](_0x2da371[_0x521bba(0x396)]);_0x2da371['mioCW'](role,_0x2da371[_0x521bba(0x1e9)])||role===_0x2da371[_0x521bba(0xbf)]?_0x4747f[_0x521bba(0x2f5)][_0x521bba(0x3c0)]=_0x521bba(0x10b):_0x4747f[_0x521bba(0x2f5)]['display']=_0x521bba(0x220);}function watchProfileChanges(){const _0x473043=_0x274539,_0x15c06c={'qCRKc':_0x473043(0x194),'iuRfk':_0x473043(0x1db),'nzTFD':function(_0x252289,_0x10e973){return _0x252289+_0x10e973;},'oWlle':_0x473043(0xdb),'XvxSI':_0x473043(0x10b),'hWaGa':function(_0x2ca66b,_0x268441){return _0x2ca66b(_0x268441);},'QLbyk':function(_0x45ec7b,_0x1ebc52){return _0x45ec7b(_0x1ebc52);},'tIxUr':_0x473043(0x3a6)},_0x324ca4=_0x15c06c[_0x473043(0x277)](sanitizeUsername,username);db[_0x473043(0x2d4)]('auth/'+_0x324ca4)['on'](_0x15c06c[_0x473043(0x3ad)],_0x43dac8=>{const _0xf997c6=_0x473043;if(!_0x43dac8['exists']())return;const _0x38cc53=_0x43dac8[_0xf997c6(0x392)]();userDescription=_0x38cc53[_0xf997c6(0x37d)]||'',avatarBase64=_0x38cc53['avatarBase64']||'',role=_0x38cc53['role']||_0x15c06c['qCRKc'];if(avatarBase64){const _0xc20620=document['getElementById'](_0x15c06c[_0xf997c6(0x160)]);!_0xc20620['src'][_0xf997c6(0x143)](avatarBase64)&&(_0xc20620['src']=_0x15c06c['nzTFD'](_0x15c06c[_0xf997c6(0xd9)],avatarBase64),_0xc20620[_0xf997c6(0x2f5)]['display']=_0x15c06c[_0xf997c6(0x10a)]);}_0x15c06c['hWaGa'](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x5d6d11){const _0x2f4e71=_0x274539,_0x5cb5c0={'RLcZf':function(_0x3e9212,_0x4146c4){return _0x3e9212<_0x4146c4;},'ywOHB':function(_0xb507fd,_0x10717e){return _0xb507fd-_0x10717e;},'iJxGe':function(_0x35c9fe,_0x4a244d){return _0x35c9fe(_0x4a244d);},'DoGkk':'üïí\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','yLiyy':function(_0x125942,_0x352bbb){return _0x125942*_0x352bbb;},'SuBBo':_0x2f4e71(0x324)},_0x53c7c9=Date['now']();if(_0x5cb5c0[_0x2f4e71(0x3b2)](_0x5cb5c0[_0x2f4e71(0xa7)](_0x53c7c9,lastImageTime),0x2710)){_0x5cb5c0[_0x2f4e71(0x128)](alert,_0x5cb5c0['DoGkk']);return;}lastImageTime=_0x53c7c9;const _0x19847d=_0x5d6d11[_0x2f4e71(0x2ef)][0x0];if(!_0x19847d||_0x19847d[_0x2f4e71(0x389)]>_0x5cb5c0[_0x2f4e71(0x276)](_0x5cb5c0[_0x2f4e71(0x276)](0x2,0x400),0x400)){alert(_0x5cb5c0[_0x2f4e71(0xfa)]);return;}const _0x401062=new FileReader();_0x401062[_0x2f4e71(0x34f)]=()=>{const _0xb7e4cb=_0x2f4e71,_0x1e7fe2=_0x401062[_0xb7e4cb(0x382)][_0xb7e4cb(0xa6)](',')[0x1],_0x2518e8=db[_0xb7e4cb(0x2d4)]()[_0xb7e4cb(0x326)]()[_0xb7e4cb(0x237)];db['ref'](_0xb7e4cb(0x2aa)+roomCode+_0xb7e4cb(0x24b)+_0x2518e8)[_0xb7e4cb(0x331)]({'imageBase64':_0x1e7fe2,'sender':username,'senderId':clientId,'timestamp':Date[_0xb7e4cb(0x231)]()});},_0x401062['readAsDataURL'](_0x19847d);}async function fetchProfile(_0x2e9c58){const _0x2bd966=_0x274539,_0x59f700=await db[_0x2bd966(0x2d4)](_0x2bd966(0x1a9)+_0x2e9c58)[_0x2bd966(0x387)]();if(!_0x59f700[_0x2bd966(0x199)]())return null;return _0x59f700['val']();}function validateStaticRoomPassword(){const _0x523310=_0x274539,_0x55987f={'zhnes':function(_0x56d319,_0xd57766){return _0x56d319(_0xd57766);},'jFIMt':_0x523310(0x158),'RzzXc':function(_0x4f7467,_0x4f5db6){return _0x4f7467===_0x4f5db6;},'qiqNn':function(_0x29c2d4){return _0x29c2d4();},'PHwdO':_0x523310(0x24a),'HbCsz':_0x523310(0x2c3),'Rbnjk':'block','pfqPF':_0x523310(0x35e),'Eztil':'staticPasswordInput','epbwj':_0x523310(0xee)},_0x405dc7=document[_0x523310(0x206)](_0x55987f[_0x523310(0x25b)])[_0x523310(0x3a6)][_0x523310(0x214)]();if(!_0x405dc7){_0x55987f[_0x523310(0x292)](alert,_0x55987f[_0x523310(0x115)]);return;}db[_0x523310(0x2d4)](_0x523310(0x3af)+STATIC_ROOM)[_0x523310(0x387)]()[_0x523310(0x15e)](_0x525c01=>{const _0x464649=_0x523310;if(!_0x525c01[_0x464649(0x199)]()){_0x55987f[_0x464649(0x292)](alert,_0x55987f[_0x464649(0x312)]);return;}const _0x585fda=_0x525c01['val']();_0x55987f[_0x464649(0x1d8)](_0x405dc7,_0x585fda)?(roomCode=STATIC_ROOM,_0x55987f['qiqNn'](startChat)):(document[_0x464649(0x206)](_0x55987f[_0x464649(0x3ae)])['innerText']=_0x55987f[_0x464649(0x31e)],document[_0x464649(0x206)](_0x55987f[_0x464649(0x3ae)])[_0x464649(0x2f5)][_0x464649(0x3c0)]=_0x55987f['Rbnjk']);})[_0x523310(0x168)](_0x4b2851=>{const _0x5653d3=_0x523310;console[_0x5653d3(0x2ca)](_0x4b2851),alert(_0x55987f[_0x5653d3(0xea)]);});}function listenForPauseState(){const _0x30b1ff=_0x274539,_0x4828b0={'xhdMC':function(_0x4356f3,_0x18eb0b){return _0x4356f3===_0x18eb0b;},'DyHdl':'pausedOverlay','jPKES':'none','yGaTw':'value'};db[_0x30b1ff(0x2d4)](_0x30b1ff(0x1ab)+roomCode+_0x30b1ff(0x1f7))['on'](_0x4828b0[_0x30b1ff(0x38c)],_0x2eff89=>{const _0x5c939c=_0x30b1ff,_0x5e11de=_0x2eff89['exists']()&&_0x4828b0[_0x5c939c(0x21e)](_0x2eff89['val'](),!![]);document[_0x5c939c(0x206)](_0x4828b0[_0x5c939c(0x279)])[_0x5c939c(0x2f5)][_0x5c939c(0x3c0)]=_0x5e11de?_0x5c939c(0x10b):_0x4828b0[_0x5c939c(0x3bb)];});}function _0x2331(_0x226e5b,_0x59a891){const _0xb6db2b=_0xb6db();return _0x2331=function(_0x23311a,_0x1dae34){_0x23311a=_0x23311a-0x85;let _0x363217=_0xb6db2b[_0x23311a];return _0x363217;},_0x2331(_0x226e5b,_0x59a891);}const spamTimestamps=[];async function sendMessage(){const _0x1fb5e0=_0x274539,_0x57d7b3={'Gitzw':_0x1fb5e0(0x201),'cEbiL':function(_0x172064,_0x3be4c4){return _0x172064===_0x3be4c4;},'tHXhd':_0x1fb5e0(0x2f2),'gFkHp':function(_0x43d7e6,_0x5809d1){return _0x43d7e6>_0x5809d1;},'BWqwF':function(_0x5ce616,_0x15ea25){return _0x5ce616(_0x15ea25);},'EJoUA':_0x1fb5e0(0x3bf),'reahQ':function(_0x24dc5f,_0x10a72c){return _0x24dc5f!==_0x10a72c;},'hCllr':_0x1fb5e0(0x30f),'IIcul':_0x1fb5e0(0x257),'KJlay':function(_0x536062,_0x9231da){return _0x536062>_0x9231da;},'HxWlE':'0|5|2|4|3|1','ggszS':_0x1fb5e0(0x103),'rcRYM':function(_0x243c21,_0x314f27){return _0x243c21(_0x314f27);},'CAkce':'‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','XCasu':_0x1fb5e0(0x16e)},_0x599e18=await db[_0x1fb5e0(0x2d4)](_0x1fb5e0(0x1ab)+roomCode+_0x1fb5e0(0x1f7))[_0x1fb5e0(0x387)](),_0x57df44=await db[_0x1fb5e0(0x2d4)]('muted/'+roomCode+'/'+sanitizeUsername(username))['get']();if(_0x57df44['exists']()){const _0x3a71f6=_0x57df44[_0x1fb5e0(0x392)](),_0x5edbbb=_0x57d7b3[_0x1fb5e0(0x144)](typeof _0x3a71f6,_0x57d7b3[_0x1fb5e0(0x347)])&&_0x3a71f6[_0x1fb5e0(0x11e)]?_0x3a71f6[_0x1fb5e0(0x11e)]:_0x3a71f6;if(_0x57d7b3[_0x1fb5e0(0x39b)](_0x5edbbb,Date[_0x1fb5e0(0x231)]())){_0x57d7b3[_0x1fb5e0(0x176)](alert,_0x57d7b3[_0x1fb5e0(0x33d)]);return;}}if(_0x599e18['exists']()&&_0x57d7b3['cEbiL'](_0x599e18[_0x1fb5e0(0x392)](),!![])&&_0x57d7b3['reahQ'](role,_0x57d7b3[_0x1fb5e0(0xd8)])){alert(_0x57d7b3[_0x1fb5e0(0x39d)]);return;}const _0x5d4d0b=document[_0x1fb5e0(0x206)](_0x1fb5e0(0x288)),_0x4d314d=_0x5d4d0b[_0x1fb5e0(0x3a6)][_0x1fb5e0(0x214)]();if(!_0x4d314d||isBlocked)return;const _0x1f6863=Date[_0x1fb5e0(0x231)](),_0x2a70ef=_0x4d314d[_0x1fb5e0(0x198)](),_0x6c47c0=swearWords[_0x1fb5e0(0x2a7)](_0x224432=>_0x2a70ef['includes'](_0x224432));if(_0x6c47c0){_0x57d7b3[_0x1fb5e0(0x176)](alert,_0x1fb5e0(0x25e));return;}spamTimestamps[_0x1fb5e0(0x326)](_0x1f6863);const _0x2d995c=spamTimestamps['filter'](_0x54660c=>_0x1f6863-_0x54660c<0x1b58);if(_0x57d7b3['KJlay'](_0x2d995c[_0x1fb5e0(0x243)],0x5)){const _0x81bdbf=_0x57d7b3['HxWlE'][_0x1fb5e0(0xa6)]('|');let _0x4d2b30=0x0;while(!![]){switch(_0x81bdbf[_0x4d2b30++]){case'0':isBlocked=!![];continue;case'1':return;case'2':_0x5d4d0b['placeholder']=_0x57d7b3[_0x1fb5e0(0x309)];continue;case'3':setTimeout(()=>{const _0x603026=_0x1fb5e0;isBlocked=![],_0x5d4d0b[_0x603026(0x25d)]=![],_0x5d4d0b[_0x603026(0x3bc)]=_0x57d7b3[_0x603026(0x1b9)],spamTimestamps[_0x603026(0x243)]=0x0;},0x7530);continue;case'4':_0x57d7b3['rcRYM'](alert,_0x57d7b3[_0x1fb5e0(0xc6)]);continue;case'5':_0x5d4d0b['disabled']=!![];continue;}break;}}const _0x24942b=_0x4d314d[_0x1fb5e0(0x215)](/(.)\1{14,}/);if(_0x24942b){alert(_0x57d7b3[_0x1fb5e0(0x1d0)]);return;}const _0x1dd50e=localStorage[_0x1fb5e0(0x32e)]('avatar_base64')||'',_0x370889=db[_0x1fb5e0(0x2d4)]()['push']()[_0x1fb5e0(0x237)];db[_0x1fb5e0(0x2d4)](_0x1fb5e0(0x2aa)+roomCode+'/messages/'+_0x370889)[_0x1fb5e0(0x331)]({'msg':_0x4d314d,'sender':username,'senderId':clientId,'avatarBase64':_0x1dd50e,'timestamp':_0x1f6863}),_0x5d4d0b[_0x1fb5e0(0x3a6)]='',sendTyping(!![]),lastActivity=_0x1f6863;}function listenForMessages(){const _0x1efcca=_0x274539,_0x5a1e99={'deapz':function(_0x2a73c2,_0x529412){return _0x2a73c2===_0x529412;},'qwUQW':function(_0x3922fd,_0x2300ea){return _0x3922fd!==_0x2300ea;},'nrsUw':_0x1efcca(0x2eb),'zJOLy':function(_0x13939e,_0x47951b){return _0x13939e&&_0x47951b;},'BkKTA':_0x1efcca(0xbb),'GeLVs':'[Voice\x20Message]','UnPrz':_0x1efcca(0x246),'wSNkd':function(_0x251b5f,_0x2fe7ab){return _0x251b5f>_0x2fe7ab;},'TrmkH':'child_added','DFlCN':_0x1efcca(0x8e)},_0x20c548=db['ref'](_0x1efcca(0x2aa)+roomCode+'/messages'),_0xcab5cf=_0x20c548[_0x1efcca(0x1f4)](MAX_MESSAGES);userListReady=!![],_0xcab5cf['on'](_0x5a1e99[_0x1efcca(0x228)],_0x51a82d=>{const _0x1086d4=_0x1efcca,_0x532561=_0x51a82d['val'](),{senderId:_0x45f294}=_0x532561,_0x250535=_0x5a1e99[_0x1086d4(0xed)](_0x45f294,clientId);if(!userListReady){pendingMessages[_0x1086d4(0x37e)](({data:_0x59fec3,sent:_0x21a6a1,key:_0x234942})=>{addMessage(_0x59fec3,_0x21a6a1,_0x234942);}),pendingMessages=[];return;}const _0x400bde=_0x532561[_0x1086d4(0x2cd)]||null,_0xb6d01a=_0x532561[_0x1086d4(0xbc)]||null;addMessage(_0x532561,_0x250535,_0x51a82d[_0x1086d4(0x237)]);if(_0x5a1e99[_0x1086d4(0x1e3)](roomCode,STATIC_ROOM)&&_0x532561['sender']!==_0x5a1e99[_0x1086d4(0x26e)]){}!_0x250535&&(sound['play'](),flagPageAttention());if(_0x5a1e99[_0x1086d4(0x2c0)](notificationsEnabled,!_0x250535)&&Notification[_0x1086d4(0x2fc)]===_0x5a1e99[_0x1086d4(0x322)]){const _0x5b9361=_0x532561['msg']||(_0x532561[_0x1086d4(0xbc)]?_0x5a1e99[_0x1086d4(0x22c)]:_0x532561[_0x1086d4(0x2f3)]?_0x5a1e99[_0x1086d4(0x192)]:_0x1086d4(0x346));new Notification(_0x1086d4(0xfd)+_0x532561[_0x1086d4(0x2f9)],{'body':_0x5b9361,'icon':_0x1086d4(0x181)});}}),_0x20c548[_0x1efcca(0x89)](_0x1efcca(0x3a6))[_0x1efcca(0x15e)](_0x1ed84d=>{const _0x21475c=_0x1efcca,_0x49cd56=_0x1ed84d[_0x21475c(0x392)](),_0x3e1753=Object['keys'](_0x49cd56||{});if(_0x5a1e99['wSNkd'](_0x3e1753[_0x21475c(0x243)],MAX_MESSAGES)){const _0x57967e=_0x3e1753[_0x21475c(0x243)]-MAX_MESSAGES,_0x161614=_0x3e1753[_0x21475c(0x284)]((_0x30ea9b,_0x57ce4c)=>_0x49cd56[_0x30ea9b]['timestamp']-_0x49cd56[_0x57ce4c][_0x21475c(0x1ea)])[_0x21475c(0x273)](0x0,_0x57967e);_0x161614[_0x21475c(0x37e)](_0x25fc7b=>{const _0x189904=_0x21475c;db[_0x189904(0x2d4)]('rooms/'+roomCode+'/messages/'+_0x25fc7b)[_0x189904(0x260)]();});}}),db[_0x1efcca(0x2d4)]('rooms/'+roomCode+_0x1efcca(0x156))['on'](_0x5a1e99['DFlCN'],_0x5c0dfb=>{const _0x45db09=_0x1efcca,_0x3433ed=_0x5c0dfb[_0x45db09(0x237)],_0x550aaf=document[_0x45db09(0x27f)](_0x45db09(0xb3)+_0x3433ed+'\x22]');if(_0x550aaf)_0x550aaf[_0x45db09(0x260)]();});}function stackNotification(_0x20257e,_0x1393ea){const _0x2daddd=_0x274539,_0x384957={'nFOIH':function(_0x4490b4){return _0x4490b4();},'bAaqG':function(_0x14181,_0x5d7095){return _0x14181(_0x5d7095);},'CNejl':function(_0xb7fff1,_0x175701,_0x16287d){return _0xb7fff1(_0x175701,_0x16287d);}};notificationStack[_0x2daddd(0x326)]({'sender':_0x20257e,'content':_0x1393ea}),_0x384957['bAaqG'](clearTimeout,notificationTimer),notificationTimer=_0x384957[_0x2daddd(0x269)](setTimeout,()=>{_0x384957['nFOIH'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x398733=_0x274539,_0x176b8f={'xYDmH':_0x398733(0x36e),'lvHVs':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','xaDKZ':_0x398733(0xbb),'LptZf':function(_0x1759db,_0xcb21c8){return _0x1759db||_0xcb21c8;},'UGeFq':_0x398733(0xba),'gWAeK':function(_0x4fb79c,_0x15c7ac){return _0x4fb79c===_0x15c7ac;},'xwtZc':function(_0x502891,_0x25da0b,_0x130315){return _0x502891(_0x25da0b,_0x130315);}};if(!notificationStack[_0x398733(0x243)]||Notification[_0x398733(0x2fc)]!==_0x176b8f[_0x398733(0x11d)])return;const _0x29e200=[...new Set(notificationStack[_0x398733(0x323)](_0x3abd79=>_0x3abd79['sender']))],_0x5821bb=_0x176b8f['LptZf'](roomCode,_0x176b8f[_0x398733(0x3a1)]),_0x49952e=_0x176b8f[_0x398733(0x2cb)](_0x29e200[_0x398733(0x243)],0x1)?_0x398733(0x2d5)+_0x29e200[0x0]+_0x398733(0x1f0)+_0x5821bb+':\x20'+notificationStack[0x0]['content']:_0x398733(0x306)+_0x29e200[_0x398733(0x10f)](',\x20')+_0x398733(0x1f0)+_0x5821bb;_0x176b8f['xwtZc'](setTimeout,()=>{const _0x11f16b=_0x398733;new Notification(_0x176b8f['xYDmH'],{'body':_0x49952e,'icon':_0x176b8f[_0x11f16b(0x261)]});},0x64);}async function addMessage(_0x317d78,_0x2a53df,_0xa549eb=null){const _0x1f366c=_0x274539,_0x4c0e6c={'foyJx':function(_0x53f29a,_0x6243f0){return _0x53f29a-_0x6243f0;},'Rceet':function(_0x624b12,_0xc2f499,_0x38b4c3){return _0x624b12(_0xc2f499,_0x38b4c3);},'rFtjr':_0x1f366c(0x1e0),'kpBoW':_0x1f366c(0x1d4),'VNwRQ':_0x1f366c(0x149),'maGKt':_0x1f366c(0xb2),'PyAwe':'flex','vYKAQ':function(_0xb91e89,_0x1dc169){return _0xb91e89(_0x1dc169);},'oBABu':_0x1f366c(0x220),'LMsWU':_0x1f366c(0x18b),'jIHLG':function(_0x1c483b,_0x13c30e){return _0x1c483b>_0x13c30e;},'HovXd':function(_0x5450e4,_0xcd8345){return _0x5450e4===_0xcd8345;},'iKVaP':_0x1f366c(0x345),'lTmnM':function(_0x321b82,_0x2b3bc0){return _0x321b82===_0x2b3bc0;},'wndAV':_0x1f366c(0x2eb),'lANll':_0x1f366c(0x352),'zELqK':_0x1f366c(0x2bb),'PBECE':_0x1f366c(0x1b3),'hjaLb':_0x1f366c(0x359),'YWhUE':_0x1f366c(0xc3),'FXBQn':_0x1f366c(0xef),'nZYBl':'2-digit','wJJwN':_0x1f366c(0x26d),'yrQBv':_0x1f366c(0x3b3),'JWcIf':_0x1f366c(0x187),'SPAAl':'reaction-tray','NALCs':_0x1f366c(0x148),'Wgvle':_0x1f366c(0x2af),'uaakd':_0x1f366c(0x2a6),'ctvRE':_0x1f366c(0x20f),'nadyd':_0x1f366c(0x2bc),'ypQME':_0x1f366c(0x225),'fACiO':'160px','bvXpT':'120px','eHTLa':_0x1f366c(0x2b2),'CnNRE':'grid','aFPmh':_0x1f366c(0x200),'vSHft':_0x1f366c(0x38e),'dcojN':_0x1f366c(0xfb),'AkyIE':'mouseleave','Okirk':_0x1f366c(0x3a2),'SaRLD':_0x1f366c(0x3a6),'VzDNk':_0x1f366c(0x2d9),'CGIRR':'moderator','mchoc':'click'},{msg:_0x1e5649,sender:_0x16cbae,senderId:_0x889a47,timestamp:_0x4eac34,audioUrl:_0x50dacb,audioBase64:_0x271c09,imageBase64:_0x576431}=_0x317d78,_0x535575=_0x4c0e6c[_0x1f366c(0x338)](sanitizeUsername,_0x16cbae),_0x126530=document[_0x1f366c(0x19d)](_0x4c0e6c[_0x1f366c(0x285)]);if(_0x4c0e6c[_0x1f366c(0x1d1)](_0x317d78[_0x1f366c(0x2f9)],_0x4c0e6c[_0x1f366c(0x247)])){const _0x2341e8=document[_0x1f366c(0x19d)](_0x4c0e6c[_0x1f366c(0x285)]);_0x2341e8[_0x1f366c(0x13d)]=_0x4c0e6c['lANll'],_0x2341e8[_0x1f366c(0x26f)][_0x1f366c(0x28e)]=_0xa549eb||_0x317d78[_0x1f366c(0x1ea)],_0x2341e8[_0x1f366c(0x26f)]['timestamp']=_0x317d78['timestamp'],_0x2341e8[_0x1f366c(0x2f5)]['textAlign']=_0x1f366c(0xb2),_0x2341e8[_0x1f366c(0x2f5)]['fontSize']=_0x4c0e6c['zELqK'],_0x2341e8[_0x1f366c(0x2f5)][_0x1f366c(0xe7)]=_0x4c0e6c['PBECE'],_0x2341e8[_0x1f366c(0x2f5)]['margin']=_0x4c0e6c[_0x1f366c(0x249)],_0x2341e8[_0x1f366c(0x125)]=_0x317d78[_0x1f366c(0x31c)];const _0x33248c=document[_0x1f366c(0x206)](_0x4c0e6c['YWhUE']);_0x33248c[_0x1f366c(0x1b0)](_0x2341e8);const _0xed4437=Array[_0x1f366c(0x9c)](_0x33248c[_0x1f366c(0x34e)]);_0xed4437[_0x1f366c(0x284)]((_0x188076,_0x5118c3)=>{const _0x3b0e2b=_0x1f366c;return _0x4c0e6c[_0x3b0e2b(0x110)](+_0x188076[_0x3b0e2b(0x26f)][_0x3b0e2b(0x1ea)]||0x0,+_0x5118c3[_0x3b0e2b(0x26f)][_0x3b0e2b(0x1ea)]||0x0);}),_0x33248c[_0x1f366c(0x16d)]='',_0xed4437['forEach'](_0x58f4c0=>_0x33248c[_0x1f366c(0x1b0)](_0x58f4c0)),_0x33248c[_0x1f366c(0x397)]=_0x33248c[_0x1f366c(0x25a)];return;}_0x126530[_0x1f366c(0x2be)][_0x1f366c(0x101)](_0x1f366c(0x31c),_0x2a53df?_0x1f366c(0x13a):_0x1f366c(0x109)),_0x126530[_0x1f366c(0x2f5)][_0x1f366c(0x17a)]=_0x4c0e6c['FXBQn'];_0xa549eb&&(_0x126530[_0x1f366c(0x26f)][_0x1f366c(0x28e)]=_0xa549eb);const _0x560156=new Date(_0x4eac34)[_0x1f366c(0x12f)]([],{'hour':_0x4c0e6c['nZYBl'],'minute':'2-digit'}),_0x3b8b3f=_0x4c0e6c[_0x1f366c(0x338)](getRoleTag,_0x535575),_0x20ebd0=await _0x4c0e6c[_0x1f366c(0x338)](fetchAvatar,_0x535575),_0x1bf9be=_0x20ebd0?_0x1f366c(0x23d)+_0x20ebd0+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x18c095=_0x1bf9be+'<span\x20class=\x22sender-name\x22>'+_0x16cbae+'\x20'+_0x3b8b3f+'</span>',_0x9bd1f5=_0x1e5649?.['replace'](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x4eb52b=_0x18c095+_0x1f366c(0x2e2);if(_0x50dacb)_0x4eb52b+='<audio\x20controls\x20src=\x22'+_0x50dacb+_0x1f366c(0x38f);else{if(_0x271c09){const _0x24014b=_0x1f366c(0x265)+_0x271c09;_0x4eb52b+=_0x1f366c(0x122)+_0x24014b+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x576431){const _0x2078f5=_0x1f366c(0xdb)+_0x576431;_0x4eb52b+=_0x1f366c(0x95)+_0x2078f5+_0x1f366c(0x175);}else{const _0x35698d=_0x9bd1f5[_0x1f366c(0x36f)](/(https?:\/\/[^\s]+)/g,_0x22fb97=>{const _0x57ef65=_0x1f366c;return'<a\x20href=\x22'+_0x22fb97+_0x57ef65(0x113)+_0x22fb97+_0x57ef65(0x14e);});_0x4eb52b+=_0x1f366c(0xf9)+_0x35698d+_0x1f366c(0x301);}}}_0x4eb52b+=_0x1f366c(0x38a)+_0x560156+_0x1f366c(0x20d),_0x126530[_0x1f366c(0x16d)]=_0x4eb52b;const _0x1c6307=document[_0x1f366c(0x19d)](_0x4c0e6c['iKVaP']);_0x1c6307[_0x1f366c(0x13d)]=_0x4c0e6c[_0x1f366c(0x37f)],_0x1c6307[_0x1f366c(0x2f5)][_0x1f366c(0x398)]=_0x4c0e6c[_0x1f366c(0x1ad)],_0x1c6307[_0x1f366c(0x2f5)][_0x1f366c(0x120)]=_0x4c0e6c[_0x1f366c(0x381)],_0x126530['appendChild'](_0x1c6307);const _0x495fb1=document[_0x1f366c(0x19d)](_0x4c0e6c['iKVaP']);_0x495fb1[_0x1f366c(0x13d)]=_0x4c0e6c[_0x1f366c(0x37c)];const _0x58a2d0=['‚ù§Ô∏è','üòÇ','üòÆ','üò¢','üëé','üíÄ','ü§Ø'];_0x495fb1[_0x1f366c(0x16d)]=_0x58a2d0[_0x1f366c(0x323)](_0x543c3d=>_0x1f366c(0x250)+_0x543c3d+_0x1f366c(0x37a))[_0x1f366c(0x10f)](''),_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x3c0)]=_0x4c0e6c['oBABu'],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x17a)]=_0x4c0e6c[_0x1f366c(0x2bd)],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x238)]=_0x4c0e6c['Wgvle'],_0x495fb1['style']['padding']=_0x1f366c(0x188),_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x23e)]=_0x4c0e6c[_0x1f366c(0x19b)],_0x495fb1[_0x1f366c(0x2f5)]['fontSize']=_0x4c0e6c[_0x1f366c(0x142)],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x151)]=_0x4c0e6c['nadyd'],_0x495fb1['style'][_0x1f366c(0x287)]=_0x4c0e6c['ypQME'],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x196)]='10',_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x155)]=_0x4c0e6c['fACiO'],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x2f1)]=_0x4c0e6c[_0x1f366c(0x1e8)],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x20c)]=_0x4c0e6c['eHTLa'],_0x495fb1[_0x1f366c(0x2f5)]['display']=_0x4c0e6c[_0x1f366c(0xf0)],_0x495fb1[_0x1f366c(0x2f5)]['gridTemplateColumns']=_0x4c0e6c['aFPmh'],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x390)]=_0x4c0e6c[_0x1f366c(0x1ad)],_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x9a)]=_0x4c0e6c[_0x1f366c(0x141)],Array[_0x1f366c(0x9c)](_0x495fb1['children'])['forEach'](_0x24e1ec=>{const _0x39cab8=_0x1f366c;_0x24e1ec['style'][_0x39cab8(0x321)]=_0x4c0e6c['rFtjr'],_0x24e1ec[_0x39cab8(0x1f8)]=_0x8721cb=>{const _0x336496=_0x39cab8;_0x8721cb[_0x336496(0x1ef)]();const _0x4713ad=_0x24e1ec[_0x336496(0x102)];_0x4c0e6c[_0x336496(0xb0)](reactToMessage,_0xa549eb,_0x4713ad);};}),Array[_0x1f366c(0x9c)](_0x495fb1[_0x1f366c(0x34e)])[_0x1f366c(0x37e)](_0x2aa445=>{const _0x3cd55b=_0x1f366c,_0x16ddcd=_0x4c0e6c[_0x3cd55b(0x30b)]['split']('|');let _0x3e92ec=0x0;while(!![]){switch(_0x16ddcd[_0x3e92ec++]){case'0':_0x2aa445['style'][_0x3cd55b(0x339)]=_0x4c0e6c['VNwRQ'];continue;case'1':_0x2aa445[_0x3cd55b(0x2f5)][_0x3cd55b(0x298)]=_0x4c0e6c[_0x3cd55b(0x93)];continue;case'2':_0x2aa445[_0x3cd55b(0x2f5)][_0x3cd55b(0x120)]='20px';continue;case'3':_0x2aa445[_0x3cd55b(0x2f5)][_0x3cd55b(0x3c0)]=_0x4c0e6c[_0x3cd55b(0x8c)];continue;case'4':_0x2aa445[_0x3cd55b(0x2f5)][_0x3cd55b(0x24f)]=_0x3cd55b(0xb2);continue;case'5':_0x2aa445[_0x3cd55b(0x2f5)][_0x3cd55b(0x362)]=_0x4c0e6c[_0x3cd55b(0x2fe)];continue;}break;}}),_0x126530[_0x1f366c(0x1b0)](_0x495fb1),_0x495fb1[_0x1f366c(0x2f5)][_0x1f366c(0x3c0)]=_0x4c0e6c[_0x1f366c(0x2c4)];let _0x40de8c;_0x126530['addEventListener'](_0x4c0e6c['dcojN'],()=>{const _0x3fd78b=_0x1f366c;_0x40de8c=_0x4c0e6c[_0x3fd78b(0xb0)](setTimeout,()=>{const _0x5ce132=_0x3fd78b;_0x495fb1[_0x5ce132(0x2f5)][_0x5ce132(0x3c0)]=_0x5ce132(0x18b);},0x5dc);}),_0x126530['addEventListener'](_0x4c0e6c[_0x1f366c(0x34b)],()=>{const _0x4c3476=_0x1f366c;_0x4c0e6c[_0x4c3476(0x338)](clearTimeout,_0x40de8c),_0x495fb1[_0x4c3476(0x2f5)][_0x4c3476(0x3c0)]=_0x4c0e6c[_0x4c3476(0x2c4)];});let _0x30c484;_0x126530[_0x1f366c(0x2b1)]('touchstart',()=>{const _0x58f794=_0x1f366c;_0x30c484=_0x4c0e6c[_0x58f794(0xb0)](setTimeout,()=>{const _0x326616=_0x58f794;_0x495fb1[_0x326616(0x2f5)][_0x326616(0x3c0)]=_0x4c0e6c['LMsWU'];},0x5dc);}),_0x126530[_0x1f366c(0x2b1)](_0x4c0e6c['Okirk'],()=>clearTimeout(_0x30c484));_0xa549eb&&db[_0x1f366c(0x2d4)](_0x1f366c(0x2aa)+roomCode+_0x1f366c(0x24b)+_0xa549eb+_0x1f366c(0x35b))['on'](_0x4c0e6c[_0x1f366c(0x14a)],_0x406219=>{const _0x540a40=_0x1f366c;if(!_0x406219[_0x540a40(0x199)]()){_0x1c6307[_0x540a40(0x16d)]='';return;}const _0x49cc3f=_0x406219[_0x540a40(0x392)]();let _0x25c392='';Object['entries'](_0x49cc3f)[_0x540a40(0x37e)](([_0xb9d19,_0x292afa])=>{const _0x31b11b=_0x540a40;Array[_0x31b11b(0x2f8)](_0x292afa)&&_0x4c0e6c[_0x31b11b(0x378)](_0x292afa[_0x31b11b(0x243)],0x0)&&(_0x25c392+=_0x31b11b(0x17f)+_0xb9d19+'\x20'+_0x292afa[_0x31b11b(0x243)]+_0x31b11b(0x1f1));}),_0x1c6307[_0x540a40(0x16d)]=_0x25c392;});if([_0x1f366c(0x30f),_0x4c0e6c[_0x1f366c(0x204)],_0x4c0e6c[_0x1f366c(0x258)]][_0x1f366c(0x143)](role)){let _0x445c34=0x0;_0x126530[_0x1f366c(0x2b1)](_0x4c0e6c[_0x1f366c(0x19e)],()=>{const _0x2ecafe=_0x1f366c;_0x445c34++,_0x4c0e6c['HovXd'](_0x445c34,0x3)&&(_0x4c0e6c['vYKAQ'](confirm,'Delete\x20this\x20message?')&&(db[_0x2ecafe(0x2d4)](_0x2ecafe(0x2aa)+roomCode+'/messages/'+_0xa549eb)['remove'](),_0x126530[_0x2ecafe(0x260)]())),_0x4c0e6c[_0x2ecafe(0xb0)](setTimeout,()=>_0x445c34=0x0,0x5dc);});}const _0xa93dca=document[_0x1f366c(0x206)](_0x4c0e6c[_0x1f366c(0x32c)]);_0xa93dca[_0x1f366c(0x1b0)](_0x126530),_0xa93dca[_0x1f366c(0x397)]=_0xa93dca[_0x1f366c(0x25a)];}function cleanupOldRooms(){const _0x6db6ff=_0x274539,_0x5af6c2={'EGXTd':function(_0x3de20d,_0x45c83e){return _0x3de20d!==_0x45c83e;},'EOhoF':function(_0x2f6021,_0x417fa0){return _0x2f6021===_0x417fa0;},'lgpyv':function(_0x1efaec,_0x13a77a){return _0x1efaec>_0x13a77a;},'jpEEy':function(_0xde1075,_0xbfe726){return _0xde1075*_0xbfe726;},'BMIpu':function(_0x1451bf,_0x50fa5b){return _0x1451bf+_0x50fa5b;},'VjhJu':_0x6db6ff(0x2aa),'kWdoq':_0x6db6ff(0x3a6),'QrjJe':_0x6db6ff(0xa8),'zgFva':_0x6db6ff(0x39e)};db[_0x6db6ff(0x2d4)](_0x5af6c2[_0x6db6ff(0x1c9)])[_0x6db6ff(0x89)](_0x5af6c2[_0x6db6ff(0x262)])['then'](_0x4d10a4=>{const _0x5150eb=_0x6db6ff,_0x37efbd=_0x4d10a4[_0x5150eb(0x392)]();if(!_0x37efbd)return;const _0x26cb20=Date[_0x5150eb(0x231)]();for(const _0x2bfc2c in _0x37efbd){if(_0x5af6c2[_0x5150eb(0x13e)](_0x2bfc2c,STATIC_ROOM))continue;const _0x362d64=_0x37efbd[_0x2bfc2c];_0x5af6c2[_0x5150eb(0xa5)](_0x26cb20-(_0x362d64[_0x5150eb(0x1f9)]||0x0),_0x5af6c2[_0x5150eb(0xde)](0x2*0x3c,0x3e8))&&db[_0x5150eb(0x2d4)](_0x5af6c2[_0x5150eb(0x1fb)](_0x5af6c2['VjhJu'],_0x2bfc2c))[_0x5150eb(0x260)]();}db[_0x5150eb(0x2d4)](_0x5150eb(0x23f))[_0x5150eb(0x89)](_0x5af6c2[_0x5150eb(0x262)])[_0x5150eb(0x15e)](_0x2a246b=>{const _0x4eb0d1=_0x5150eb,_0x23dbf5=_0x2a246b[_0x4eb0d1(0x392)]();if(!_0x23dbf5)return;for(const _0x29f0ae in _0x23dbf5){if(_0x5af6c2[_0x4eb0d1(0x29d)](_0x29f0ae,STATIC_ROOM))db[_0x4eb0d1(0x2d4)]('antispam/'+_0x29f0ae)[_0x4eb0d1(0x260)]();}}),db[_0x5150eb(0x2d4)](_0x5af6c2['QrjJe'])['once'](_0x5af6c2[_0x5150eb(0x262)])[_0x5150eb(0x15e)](_0xe70898=>{const _0x35c8ab=_0x5150eb,_0x25e1b7=_0xe70898['val']();if(!_0x25e1b7)return;for(const _0x54cee3 in _0x25e1b7){if(_0x54cee3!==STATIC_ROOM)db['ref'](_0x35c8ab(0x2a4)+_0x54cee3)['remove']();}});});}document[_0x274539(0x2b1)](_0x274539(0x152),()=>{const _0x5c3424=_0x274539,_0x454c01={'qGGik':function(_0x580d1a,_0x4b08e6){return _0x580d1a===_0x4b08e6;},'PNiwO':_0x5c3424(0x375),'SeGUi':_0x5c3424(0x288)},_0x34a929=document[_0x5c3424(0x206)](_0x454c01[_0x5c3424(0x26a)]);_0x34a929&&_0x34a929['addEventListener'](_0x5c3424(0x264),function(_0x383360){const _0x577930=_0x5c3424;_0x454c01[_0x577930(0xac)](_0x383360[_0x577930(0x237)],_0x454c01['PNiwO'])&&(_0x383360['preventDefault'](),sendMessage());});});function showScreen(_0x5094de){const _0xbebf10=_0x274539,_0xe080a4={'WDpFR':'none','KBrCI':_0xbebf10(0x104),'fPLry':'roomChoiceScreen','vUxgw':_0xbebf10(0x189),'tKLfN':_0xbebf10(0x8d),'mmiPg':_0xbebf10(0x18d),'bjtzD':_0xbebf10(0xd1),'mqnPj':'authScreen','aURQl':_0xbebf10(0x3a9)};[_0xe080a4['KBrCI'],_0xe080a4[_0xbebf10(0x22e)],_0xe080a4[_0xbebf10(0x3b7)],_0xbebf10(0x317),_0xe080a4[_0xbebf10(0x129)],_0xe080a4[_0xbebf10(0x2ec)],_0xe080a4[_0xbebf10(0x1a1)],_0xe080a4[_0xbebf10(0x316)],_0xe080a4[_0xbebf10(0x9f)]][_0xbebf10(0x37e)](_0x129aa3=>{const _0x4c0fa3=_0xbebf10;document[_0x4c0fa3(0x206)](_0x129aa3)[_0x4c0fa3(0x2f5)][_0x4c0fa3(0x3c0)]=_0xe080a4['WDpFR'];}),document[_0xbebf10(0x206)](_0x5094de)[_0xbebf10(0x2f5)][_0xbebf10(0x3c0)]=_0xbebf10(0x2e8);}function genRoomCode(){const _0x3d594e=_0x274539,_0x59b13b={'xzoSk':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','CzSPC':_0x3d594e(0x358),'WiOTv':function(_0x2eb30b,_0x2c5d53){return _0x2eb30b+_0x2c5d53;},'FmaoL':function(_0x2167d3,_0x21c0bb){return _0x2167d3+_0x21c0bb;},'ojRXa':function(_0x32146c,_0x5741e7,_0x18137b){return _0x32146c(_0x5741e7,_0x18137b);},'ksMvK':function(_0xdbc631,_0x58420f,_0x560455){return _0xdbc631(_0x58420f,_0x560455);}},_0x4e20f7=_0x59b13b[_0x3d594e(0x96)],_0x478857=_0x59b13b['CzSPC'],_0x315afe=(_0x326ede,_0x1146d4)=>Array[_0x3d594e(0x9c)]({'length':_0x1146d4},()=>_0x326ede[Math['floor'](Math['random']()*_0x326ede['length'])])['join']('');return _0x59b13b[_0x3d594e(0x263)](_0x59b13b['WiOTv'](_0x59b13b[_0x3d594e(0x22a)](_0x59b13b['ojRXa'](_0x315afe,_0x478857,0x3),_0x59b13b[_0x3d594e(0x351)](_0x315afe,_0x4e20f7,0x3)),_0x315afe(_0x478857,0x2)),_0x59b13b[_0x3d594e(0x16c)](_0x315afe,_0x4e20f7,0x2));}function startInactivityTimer(){const _0x43f164=_0x274539,_0x52fe51={'vPsXx':function(_0x11a304,_0x5be11b){return _0x11a304>_0x5be11b;},'EsWtV':function(_0x2b64f3,_0x56cc3a){return _0x2b64f3-_0x56cc3a;},'wrKUp':function(_0x5ba0ec,_0x2aa79a){return _0x5ba0ec!==_0x2aa79a;},'KAFmX':function(_0x33a96a,_0x3ed7ca){return _0x33a96a+_0x3ed7ca;},'qWNlu':_0x43f164(0x2aa),'rdemi':function(_0x3b2e7e,_0x3aaf51,_0xbc4781){return _0x3b2e7e(_0x3aaf51,_0xbc4781);}};_0x52fe51[_0x43f164(0x272)](setInterval,()=>{const _0x3cf0a6=_0x43f164;_0x52fe51['vPsXx'](_0x52fe51[_0x3cf0a6(0x212)](Date['now'](),lastActivity),0x5*0x3c*0x3e8)&&_0x52fe51['wrKUp'](roomCode,STATIC_ROOM)&&(db['ref'](_0x52fe51[_0x3cf0a6(0x98)](_0x52fe51[_0x3cf0a6(0x180)],roomCode))['update']({'active':![]}),alert(_0x3cf0a6(0x1ee)),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x127c60=_0x274539,_0x5e81c0={'qHUgw':_0x127c60(0x1e5),'GbTrM':'show','jxUtX':_0x127c60(0x10c)};window[_0x127c60(0x2b1)](_0x5e81c0[_0x127c60(0x1f5)],()=>{const _0x5f229c=_0x127c60,_0x4d5f9c=document[_0x5f229c(0x206)](_0x5e81c0[_0x5f229c(0x195)]);_0x4d5f9c?.[_0x5f229c(0x2be)][_0x5f229c(0x139)](_0x5e81c0['GbTrM'])&&_0x4d5f9c['classList'][_0x5f229c(0x260)](_0x5e81c0[_0x5f229c(0x2a0)]);});}function toggleSidebar(){const _0x5f489a=_0x274539,_0x2f4800={'Rlhrt':_0x5f489a(0x1e5),'Qkdfx':_0x5f489a(0x3b5)},_0x1ab9d9=document['getElementById'](_0x2f4800[_0x5f489a(0x2df)]);if(!_0x1ab9d9[_0x5f489a(0x2be)]['contains']('show'))_0x1ab9d9['classList']['add'](_0x5f489a(0x3b5)),history['pushState']({'sidebarOpen':!![]},'');else{_0x1ab9d9[_0x5f489a(0x2be)][_0x5f489a(0x260)](_0x2f4800[_0x5f489a(0xd3)]);if(history[_0x5f489a(0x1d5)]?.[_0x5f489a(0x16a)])history[_0x5f489a(0x357)]();}}function setupVisibilityAttention(){const _0x8432f4=_0x274539,_0x4e2ca1={'JHxsG':_0x8432f4(0x23c)};let _0x113a9e=0x0,_0x47bb8a=document[_0x8432f4(0x179)];document['addEventListener'](_0x4e2ca1[_0x8432f4(0x14c)],()=>{!document['hidden']&&(document['title']=_0x47bb8a,_0x113a9e=0x0);}),window['flagPageAttention']=function(){const _0x39c630=_0x8432f4;document[_0x39c630(0xdf)]&&(_0x113a9e++,document[_0x39c630(0x179)]='('+_0x113a9e+_0x39c630(0x28f)+_0x47bb8a);};}function tryEditProfile(){const _0x16d8ff=_0x274539,_0x46d0c1={'ApiGz':function(_0x5955ff,_0x4b1a4a){return _0x5955ff(_0x4b1a4a);}};_0x46d0c1[_0x16d8ff(0xc2)](showScreen,_0x16d8ff(0x3a9));}async function submitEditProfile(){const _0xe503cb=_0x274539,_0x185237={'HvPYB':_0xe503cb(0xe4),'RKZca':_0xe503cb(0x130),'Ciaei':_0xe503cb(0x22d),'UNRYF':_0xe503cb(0x10b),'lcmiS':function(_0x301bc1,_0x3c8512){return _0x301bc1(_0x3c8512);},'KhNgW':_0xe503cb(0x30d),'NhnyI':_0xe503cb(0x3be),'UehJJ':function(_0x51339d,_0x5e0e64){return _0x51339d(_0x5e0e64);},'JGkuo':function(_0x290338,_0x4712dc){return _0x290338*_0x4712dc;},'SnfHg':function(_0x351b50,_0x2c4f2d){return _0x351b50*_0x2c4f2d;},'Nvijk':function(_0x477651,_0x114568){return _0x477651>_0x114568;},'hUApz':function(_0x47ae73,_0x4d29f2){return _0x47ae73-_0x4d29f2;},'HoBQU':_0xe503cb(0x281),'WUWbN':_0xe503cb(0x3a8),'HLERz':function(_0x2a01c7,_0xcb00e6){return _0x2a01c7!==_0xcb00e6;},'bSVvj':_0xe503cb(0x314)},_0x1c3deb=document[_0xe503cb(0x206)]('oldPasswordInput')[_0xe503cb(0x3a6)],_0x3a3d5d=document['getElementById'](_0x185237[_0xe503cb(0x1cb)])[_0xe503cb(0x3a6)],_0x1373df=document['getElementById'](_0x185237[_0xe503cb(0x11f)])[_0xe503cb(0x3a6)]['trim'](),_0x365019=document[_0xe503cb(0x206)](_0x185237[_0xe503cb(0x2fb)]);if(!_0x1c3deb){_0x365019[_0xe503cb(0x125)]=_0xe503cb(0x33f),_0x365019[_0xe503cb(0x2f5)][_0xe503cb(0x3c0)]=_0x185237[_0xe503cb(0x318)];return;}const _0x2cccfe=_0x185237['lcmiS'](sanitizeUsername,username),_0x4f7b7d=await db[_0xe503cb(0x2d4)](_0xe503cb(0x1a9)+_0x2cccfe)['get']();if(!_0x4f7b7d['exists']()){_0x365019[_0xe503cb(0x125)]=_0x185237[_0xe503cb(0x2a2)],_0x365019[_0xe503cb(0x2f5)][_0xe503cb(0x3c0)]=_0x185237[_0xe503cb(0x318)];return;}const _0x2d2168=_0x4f7b7d[_0xe503cb(0x392)](),_0x3d3c81=await _0x185237['lcmiS'](sha256,_0x1c3deb);if(_0x3d3c81!==_0x2d2168['passwordHash']){_0x365019['innerText']=_0x185237['NhnyI'],_0x365019['style'][_0xe503cb(0x3c0)]=_0x185237[_0xe503cb(0x318)];return;}const _0x2fc7d6={};if(_0x3a3d5d){const _0x26854d=await _0x185237[_0xe503cb(0x1c2)](sha256,_0x3a3d5d);_0x2fc7d6[_0xe503cb(0x222)]=_0x26854d;}_0x1373df!==_0x2d2168[_0xe503cb(0x37d)]&&(_0x2fc7d6['description']=_0x1373df);const _0x219b67=Date[_0xe503cb(0x231)](),_0xd828fc=_0x185237[_0xe503cb(0x2fd)](_0x185237[_0xe503cb(0x24e)](0x18*0x3c,0x3c),0x3e8),_0x2bcfb6=_0x185237['Nvijk'](_0x185237[_0xe503cb(0x1be)](_0x219b67,_0x2d2168[_0xe503cb(0x34d)]||0x0),_0xd828fc);if(_0x2bcfb6&&confirm(_0x185237[_0xe503cb(0x2ce)])){const _0x469571=_0x185237['UehJJ'](prompt,_0x185237[_0xe503cb(0x163)]);_0x469571&&_0x469571[_0xe503cb(0x214)]()&&(_0x2fc7d6[_0xe503cb(0xcd)]=_0x469571['trim'](),_0x2fc7d6[_0xe503cb(0x302)]=(_0x2d2168[_0xe503cb(0x302)]||[])['concat'](_0x469571['trim']()),_0x2fc7d6['lastChanged']=_0x219b67);}_0x2fc7d6[_0xe503cb(0xcd)]&&_0x185237['HLERz'](_0x2fc7d6[_0xe503cb(0xcd)],_0x2d2168[_0xe503cb(0xcd)])?(await db[_0xe503cb(0x2d4)](_0xe503cb(0x1a9)+sanitizeUsername(_0x2fc7d6['username']))[_0xe503cb(0x331)]({..._0x2d2168,..._0x2fc7d6}),await db[_0xe503cb(0x2d4)](_0xe503cb(0x1a9)+_0x2cccfe)[_0xe503cb(0x260)](),username=_0x2fc7d6[_0xe503cb(0xcd)]):await db[_0xe503cb(0x2d4)]('auth/'+_0x2cccfe)[_0xe503cb(0x1af)](_0x2fc7d6),_0x185237['lcmiS'](alert,_0x185237[_0xe503cb(0x121)]),location[_0xe503cb(0x2e0)]();}function cancelEditProfile(){const _0x1235bf=_0x274539,_0x123d1c={'AeEPV':_0x1235bf(0x3a9),'PTLDN':function(_0x379885,_0x438b4c){return _0x379885(_0x438b4c);},'SWgiM':_0x1235bf(0x317)};document[_0x1235bf(0x206)](_0x123d1c[_0x1235bf(0x133)])[_0x1235bf(0x2f5)][_0x1235bf(0x3c0)]='none',_0x123d1c[_0x1235bf(0x2c2)](showScreen,_0x123d1c['SWgiM']);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x8c3612=_0x274539,_0x39a30e={'sZyum':function(_0x1a567c,_0x345f1){return _0x1a567c(_0x345f1);},'rReUW':function(_0x223ea5){return _0x223ea5();},'PAYPC':_0x8c3612(0x3a6)};db['ref'](_0x8c3612(0x99)+roomCode)['on'](_0x39a30e[_0x8c3612(0x2d7)],async _0xef34fd=>{const _0x277a84=_0x8c3612;if(!_0xef34fd['exists']())return;const _0x4eb817=_0xef34fd[_0x277a84(0x392)]();for(const _0xd5e2e in previousUsers){if(!_0x4eb817[_0xd5e2e])_0x4eb817[_0xd5e2e]=previousUsers[_0xd5e2e];}_0x39a30e[_0x277a84(0x16b)](renderUserLists,_0x4eb817),previousUsers=_0x4eb817,await _0x39a30e[_0x277a84(0xe2)](loadRoomRoles),renderUserLists(_0x4eb817);});}function trackPresence(){const _0x5df247=_0x274539,_0x12eea7={'TiusG':function(_0x5ca3be){return _0x5ca3be();},'USszH':_0x5df247(0x2eb),'FeVbg':function(_0x49b4f9,_0x3f9ebe){return _0x49b4f9||_0x3f9ebe;},'gIJHS':_0x5df247(0x3a6)};if(_0x12eea7[_0x5df247(0x20b)](!username,!roomCode))return;const _0x3a617b=sanitizeUsername(username),_0x20e25e=db[_0x5df247(0x2d4)](_0x5df247(0x99)+roomCode+'/'+_0x3a617b),_0x56438b={'username':username,'avatarBase64':_0x12eea7['FeVbg'](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase['database'][_0x5df247(0x221)][_0x5df247(0x29a)]};_0x20e25e[_0x5df247(0x89)](_0x12eea7[_0x5df247(0x253)])[_0x5df247(0x15e)](_0x1a6708=>{const _0xc047c1=_0x5df247,_0x2bed9a=_0x1a6708[_0xc047c1(0x392)]()?.[_0xc047c1(0x2a3)];_0x20e25e['set'](_0x56438b)[_0xc047c1(0x15e)](()=>{const _0x40d97d=_0xc047c1;_0x12eea7[_0x40d97d(0x1fe)](updateOnlineIndicator);if(!_0x2bed9a){const _0x50b35a=db['ref']()[_0x40d97d(0x326)]()[_0x40d97d(0x237)];db[_0x40d97d(0x2d4)](_0x40d97d(0x2aa)+roomCode+_0x40d97d(0x24b)+_0x50b35a)[_0x40d97d(0x331)]({'msg':username+'\x20is\x20online','sender':_0x12eea7[_0x40d97d(0x399)],'senderId':_0x12eea7[_0x40d97d(0x399)],'timestamp':Date[_0x40d97d(0x231)]()});}_0x20e25e['onDisconnect']()[_0x40d97d(0x1af)]({'online':![],'lastOnline':Date[_0x40d97d(0x231)]()});});});}function uploadSidebarAvatar(_0x5a1762){const _0x380865=_0x274539,_0x1db701={'lawie':_0x380865(0x1db),'LzMoX':_0x380865(0x10b),'XTVsO':function(_0x1b2816,_0x20753d){return _0x1b2816(_0x20753d);},'zgqdn':_0x380865(0x2fa),'BMnOR':function(_0x37fe44,_0x122902){return _0x37fe44(_0x122902);},'SyvMJ':'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.'};if(!_0x5a1762[_0x380865(0x2ef)][_0x380865(0x243)])return;const _0x2a4124=_0x5a1762[_0x380865(0x2ef)][0x0],_0x1b8bba=new FileReader();_0x1b8bba[_0x380865(0x34f)]=async()=>{const _0x1d6c67=_0x380865,_0x52c190=_0x1b8bba[_0x1d6c67(0x382)][_0x1d6c67(0xa6)](',')[0x1];document[_0x1d6c67(0x206)](_0x1db701[_0x1d6c67(0x1c1)])['src']=_0x1b8bba[_0x1d6c67(0x382)],document['getElementById'](_0x1db701['lawie'])[_0x1d6c67(0x2f5)][_0x1d6c67(0x3c0)]=_0x1db701[_0x1d6c67(0x8b)];try{const _0x26e66d=_0x1db701[_0x1d6c67(0x35d)](sanitizeUsername,username);await db[_0x1d6c67(0x2d4)](_0x1d6c67(0x1a9)+_0x26e66d+'/avatarBase64')[_0x1d6c67(0x331)](_0x52c190),alert(_0x1db701[_0x1d6c67(0x2d3)]);}catch(_0xce6bb8){console[_0x1d6c67(0x2ca)](_0xce6bb8),_0x1db701[_0x1d6c67(0x373)](alert,_0x1db701[_0x1d6c67(0x370)]);}},_0x1b8bba[_0x380865(0xcf)](_0x2a4124);}function muteUser(_0x3972ca,_0x30350d){const _0x3ad497=_0x274539,_0x133776={'NpnEp':function(_0x4a91a1,_0x18febd){return _0x4a91a1(_0x18febd);},'wYhNF':function(_0x460ac8,_0x2aa5de){return _0x460ac8*_0x2aa5de;}},_0x4623c8=Date[_0x3ad497(0x231)]()+_0x133776['wYhNF'](_0x133776[_0x3ad497(0x1c5)](_0x30350d,0x3c),0x3e8);db['ref'](_0x3ad497(0x234)+roomCode+'/'+_0x133776[_0x3ad497(0x183)](sanitizeUsername,_0x3972ca))[_0x3ad497(0x331)]({'muteUntil':_0x4623c8})[_0x3ad497(0x15e)](()=>{const _0x5aef45=_0x3ad497;alert(_0x3972ca+_0x5aef45(0x100)+_0x30350d+_0x5aef45(0x1e2)),_0x133776[_0x5aef45(0x183)](addSystemMessage,_0x3972ca+_0x5aef45(0x2de)+_0x30350d+_0x5aef45(0x167));});}function unmuteUser(_0x149720){const _0x2886fb=_0x274539,_0x381726={'VHKXM':function(_0x5b8801,_0x1da3a7){return _0x5b8801(_0x1da3a7);},'xfRNC':_0x2886fb(0xda),'OrlKq':function(_0x1764e5,_0x32d292){return _0x1764e5(_0x32d292);}};if(!isRoomAdmin)return _0x381726[_0x2886fb(0x184)](alert,_0x381726['xfRNC']);db[_0x2886fb(0x2d4)](_0x2886fb(0x234)+roomCode+'/'+_0x381726[_0x2886fb(0x127)](sanitizeUsername,_0x149720))['remove']();}function updateOnlineIndicator(){const _0x1c39fb=_0x274539,_0x5e34f4={'JijaY':_0x1c39fb(0x85),'mxxhX':_0x1c39fb(0x307)},_0x2be7b6=document[_0x1c39fb(0x206)](_0x5e34f4[_0x1c39fb(0xb7)]);_0x2be7b6['innerText']=_0x5e34f4[_0x1c39fb(0x230)],_0x2be7b6[_0x1c39fb(0x2f5)]['color']=_0x1c39fb(0x19a);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x6d8e5){const _0x5949da=_0x274539,_0x5a9a1d={'paTpe':function(_0x5b205a,_0x38088d,_0x2cc5d3){return _0x5b205a(_0x38088d,_0x2cc5d3);},'brGde':function(_0xc4d451,_0x3145fe){return _0xc4d451(_0x3145fe);},'qiuqN':_0x5949da(0x30d)},_0x274245=_0x5a9a1d[_0x5949da(0x9d)](sanitizeUsername,_0x6d8e5);db[_0x5949da(0x2d4)](_0x5949da(0x1a9)+_0x274245)[_0x5949da(0x387)]()[_0x5949da(0x15e)](async _0x510647=>{const _0x44e80a=_0x5949da;if(_0x510647[_0x44e80a(0x199)]()){const _0x6b556=_0x510647['val']();_0x5a9a1d['paTpe'](showProfileViewer,_0x6b556,_0x274245);}else{const _0x3758cc=await db[_0x44e80a(0x2d4)]('profiles/'+_0x274245)['get']();if(_0x3758cc[_0x44e80a(0x199)]()){const _0x4288b9=_0x3758cc[_0x44e80a(0x392)]();_0x5a9a1d[_0x44e80a(0x9e)](showProfileViewer,_0x4288b9,_0x274245);}else _0x5a9a1d['brGde'](alert,_0x5a9a1d['qiuqN']);}});}function showProfileViewer(_0x63b0d7,_0x21b052){const _0x4511ba=_0x274539,_0x1f5ce5={'qSzwr':_0x4511ba(0x1b5),'ClyNf':'Unknown','jqbTY':_0x4511ba(0x1ec),'JtvvE':function(_0x1fc50c,_0x4b5750){return _0x1fc50c+_0x4b5750;},'cedpm':_0x4511ba(0xdb),'wDXkb':'block','ZMmdx':_0x4511ba(0x220),'iVbgs':'profileViewer'},_0x237725=(_0x4511ba(0x386)+(_0x63b0d7[_0x4511ba(0xcd)]||_0x21b052)+_0x4511ba(0x328)+(_0x63b0d7[_0x4511ba(0x37d)]||_0x4511ba(0x2da))+_0x4511ba(0x2b3)+((_0x63b0d7[_0x4511ba(0x302)]||[])[_0x4511ba(0x10f)](',\x20')||_0x1f5ce5['qSzwr'])+_0x4511ba(0x3a3)+(_0x63b0d7[_0x4511ba(0x34d)]?new Date(_0x63b0d7[_0x4511ba(0x34d)])[_0x4511ba(0xd5)]():_0x1f5ce5['ClyNf'])+_0x4511ba(0x33b))[_0x4511ba(0x214)]();document['getElementById'](_0x4511ba(0x34a))[_0x4511ba(0x125)]=_0x237725,_0x63b0d7[_0x4511ba(0x2a1)]?(document[_0x4511ba(0x206)](_0x1f5ce5[_0x4511ba(0x3a4)])[_0x4511ba(0x2ee)]=_0x1f5ce5[_0x4511ba(0xc4)](_0x1f5ce5[_0x4511ba(0x164)],_0x63b0d7[_0x4511ba(0x2a1)]),document[_0x4511ba(0x206)](_0x1f5ce5[_0x4511ba(0x3a4)])[_0x4511ba(0x2f5)]['display']=_0x1f5ce5[_0x4511ba(0x2ff)]):document[_0x4511ba(0x206)](_0x1f5ce5['jqbTY'])[_0x4511ba(0x2f5)][_0x4511ba(0x3c0)]=_0x1f5ce5[_0x4511ba(0x145)],document[_0x4511ba(0x206)](_0x1f5ce5[_0x4511ba(0x337)])[_0x4511ba(0x2f5)][_0x4511ba(0x3c0)]=_0x1f5ce5['wDXkb'];}function initUsernameFlow(){const _0x8c1e0e=_0x274539,_0x42121f={'NwxqG':'chat_username','gVAwZ':function(_0x194536,_0x13682d){return _0x194536(_0x13682d);},'NJZcv':_0x8c1e0e(0x18d),'YjVyy':_0x8c1e0e(0x21d),'tOeTg':function(_0x56da19,_0x5219e1){return _0x56da19(_0x5219e1);},'NQOkn':'roomChoiceScreen'},_0x1c7f0a=localStorage[_0x8c1e0e(0x32e)](_0x42121f[_0x8c1e0e(0x383)]);!_0x1c7f0a?_0x42121f[_0x8c1e0e(0x303)](showScreen,_0x42121f[_0x8c1e0e(0x251)]):(username=_0x1c7f0a,document[_0x8c1e0e(0x206)](_0x42121f[_0x8c1e0e(0x15a)])[_0x8c1e0e(0x125)]=username,_0x42121f['tOeTg'](showScreen,_0x42121f[_0x8c1e0e(0x117)]));}function closeProfile(){const _0x150329=_0x274539,_0x2ba27e={'pHLgr':_0x150329(0x220)};document[_0x150329(0x206)](_0x150329(0xd1))['style'][_0x150329(0x3c0)]=_0x2ba27e[_0x150329(0x39c)];}function resetWebsiteData(){const _0x1d6af9=_0x274539,_0x6f0dc7={'cuhAq':_0x1d6af9(0x353),'AuxCn':function(_0x43c447,_0x56850b){return _0x43c447||_0x56850b;},'RrQqO':function(_0x3908e0,_0x51ef66){return _0x3908e0+_0x51ef66;}};try{const _0x5c5317=localStorage[_0x1d6af9(0x32e)](_0x6f0dc7['cuhAq']);localStorage[_0x1d6af9(0x17b)](),sessionStorage['clear'](),_0x5c5317&&localStorage[_0x1d6af9(0x384)](_0x6f0dc7[_0x1d6af9(0xf7)],_0x5c5317);}catch(_0x61da34){}_0x6f0dc7['AuxCn'](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x6f0dc7[_0x1d6af9(0x17c)]('_',Math[_0x1d6af9(0x29c)]()[_0x1d6af9(0x325)](0x24)[_0x1d6af9(0x170)](0x2,0x9)));}function addAnnouncement(){const _0x4ababc=_0x274539,_0x4bf9eb={'QyLZU':function(_0x523f9a,_0x33528){return _0x523f9a(_0x33528);}},_0x4cbadc=_0x4bf9eb[_0x4ababc(0x2b9)](prompt,_0x4ababc(0x97));if(!_0x4cbadc)return;db['ref'](_0x4ababc(0x2aa)+roomCode+_0x4ababc(0x140))[_0x4ababc(0x331)]({'text':_0x4cbadc,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x8ed9b3=_0x274539,_0x531308={'xHLJo':_0x8ed9b3(0x360),'FGBgS':_0x8ed9b3(0x3a6)},_0x4adcab=db[_0x8ed9b3(0x2d4)](_0x8ed9b3(0x2aa)+roomCode+_0x8ed9b3(0x140));_0x4adcab['on'](_0x531308['FGBgS'],_0x5ca08e=>{const _0x3befd2=_0x8ed9b3,_0x47410e=_0x5ca08e[_0x3befd2(0x392)]();if(!_0x47410e){document[_0x3befd2(0x206)](_0x531308['xHLJo'])[_0x3befd2(0x125)]='';return;}const _0x2ba4bc=document[_0x3befd2(0x206)](_0x531308['xHLJo']);_0x2ba4bc[_0x3befd2(0x125)]=''+_0x47410e[_0x3befd2(0x3a7)];});}document['getElementById'](_0x274539(0x360))[_0x274539(0x2b1)](_0x274539(0x11c),_0x57d28f=>{const _0x197c36=_0x274539,_0x3c6b10={'yeVZG':function(_0x3cd6ac,_0x230e2e){return _0x3cd6ac===_0x230e2e;}};_0x3c6b10[_0x197c36(0x1ac)](_0x57d28f[_0x197c36(0x118)],0x3)&&isRoomAdmin&&(confirm('Remove\x20Announcement?')&&db[_0x197c36(0x2d4)](_0x197c36(0x2aa)+roomCode+'/announcement')[_0x197c36(0x260)]());}),document[_0x274539(0x206)](_0x274539(0x288))[_0x274539(0x2b1)](_0x274539(0x32a),()=>{const _0x2ae991=_0x274539,_0x556330={'XaPXT':_0x2ae991(0x288),'siXga':'2px\x20solid\x20red'},_0x1df0ec=document[_0x2ae991(0x206)](_0x556330['XaPXT']);_0x3504d5?_0x1df0ec[_0x2ae991(0x2f5)][_0x2ae991(0xe8)]=_0x556330['siXga']:_0x1df0ec['style'][_0x2ae991(0xe8)]='';const _0x3d4fed=_0x1df0ec[_0x2ae991(0x3a6)][_0x2ae991(0x198)](),_0x3504d5=swearWords[_0x2ae991(0x2a7)](_0x303f89=>_0x3d4fed[_0x2ae991(0x143)](_0x303f89));_0x3504d5?(_0x1df0ec['style'][_0x2ae991(0xe8)]=_0x556330[_0x2ae991(0x1bd)],sendBtn['disabled']=!![]):(_0x1df0ec[_0x2ae991(0x2f5)][_0x2ae991(0xe8)]='',_0x3504d5?_0x1df0ec[_0x2ae991(0x2f5)][_0x2ae991(0xe8)]=_0x556330[_0x2ae991(0x1bd)]:_0x1df0ec[_0x2ae991(0x2f5)][_0x2ae991(0xe8)]='');});function muteUser(_0x870767,_0x322978){const _0x5eb234=_0x274539,_0x57d805={'VDnGm':function(_0x3181fb,_0x9b241){return _0x3181fb(_0x9b241);},'XMEUn':function(_0x4ad424,_0x3ee303){return _0x4ad424+_0x3ee303;},'RmczY':function(_0x4f254e,_0x59f804){return _0x4f254e*_0x59f804;},'CKHig':function(_0x3a7b65,_0x2587e6){return _0x3a7b65*_0x2587e6;},'TVPfN':function(_0x48d955,_0xb55669){return _0x48d955(_0xb55669);}},_0x317b99=_0x57d805['XMEUn'](Date['now'](),_0x57d805[_0x5eb234(0x3bd)](_0x57d805[_0x5eb234(0x348)](_0x322978,0x3c),0x3e8));db[_0x5eb234(0x2d4)](_0x5eb234(0x234)+roomCode+'/'+_0x57d805[_0x5eb234(0x20a)](sanitizeUsername,_0x870767))['set']({'muteUntil':_0x317b99})['then'](()=>{const _0x5959dd=_0x5eb234;_0x57d805[_0x5959dd(0x349)](alert,_0x870767+_0x5959dd(0x100)+_0x322978+_0x5959dd(0x1e2));});}function deleteUserMessages(_0x307c48){const _0x411472=_0x274539,_0x4d3fb1={'jEsjy':_0x411472(0x2f9)};db[_0x411472(0x2d4)](_0x411472(0x2aa)+roomCode+_0x411472(0x156))[_0x411472(0x29b)](_0x4d3fb1['jEsjy'])[_0x411472(0x282)](_0x307c48)[_0x411472(0x387)]()[_0x411472(0x15e)](_0x226b25=>{const _0x77139=_0x411472;_0x226b25[_0x77139(0x37e)](_0xa991b0=>{const _0x33fe41=_0x77139;db[_0x33fe41(0x2d4)](_0x33fe41(0x2aa)+roomCode+'/messages/'+_0xa991b0[_0x33fe41(0x237)])['remove']();}),alert(_0x77139(0x37b)+_0x307c48+'\x20deleted.');});}function pauseRoom(_0xf77ff5){const _0xce113e=_0x274539,_0x19a144={'tFmqK':'pausedOverlay','sehcf':_0xce113e(0x10b),'zFysS':_0xce113e(0x220),'yqkTM':_0xce113e(0x3a6)};db[_0xce113e(0x2d4)]('rooms/'+roomCode+_0xce113e(0x1f7))['on'](_0x19a144[_0xce113e(0x153)],_0x4538fe=>{const _0x5bac6c=_0xce113e,_0x1b36e9=_0x4538fe[_0x5bac6c(0x392)]();document['getElementById'](_0x19a144['tFmqK'])[_0x5bac6c(0x2f5)]['display']=_0x1b36e9?_0x19a144[_0x5bac6c(0x16f)]:_0x19a144[_0x5bac6c(0x171)];});}function canPerformAction(_0x3cf468){const _0x55687d=_0x274539,_0x2f1e69={'CfEwo':_0x55687d(0x355),'mIaGp':function(_0x5aa47e,_0x441940){return _0x5aa47e===_0x441940;},'GtEuf':_0x55687d(0x106),'rTOqg':function(_0x57af22,_0x47daeb){return _0x57af22===_0x47daeb;},'gqqRE':_0x55687d(0x28a),'KpDsy':_0x55687d(0x2d9),'vbGcA':function(_0x597e07,_0x31feb8){return _0x597e07===_0x31feb8;},'XQeUM':_0x55687d(0xc0),'QcJCB':function(_0x5536d0,_0x39abb0){return _0x5536d0===_0x39abb0;},'MbIPU':'dev','QpxCX':function(_0x48e6b2,_0x22e271){return _0x48e6b2===_0x22e271;},'NYwhN':_0x55687d(0x334),'kdsvA':function(_0x63c284,_0x58c088){return _0x63c284===_0x58c088;}},_0x16b1e0=_0x2f1e69[_0x55687d(0x31a)]['split']('|');let _0x12b50e=0x0;while(!![]){switch(_0x16b1e0[_0x12b50e++]){case'0':return![];case'1':if(_0x2f1e69[_0x55687d(0x1de)](_0x3cf468,_0x2f1e69[_0x55687d(0x329)]))return _0x2f1e69['rTOqg'](role,'admin');continue;case'2':if(_0x2f1e69['rTOqg'](_0x3cf468,_0x2f1e69['gqqRE']))return role===_0x2f1e69[_0x55687d(0x11b)]||_0x2f1e69[_0x55687d(0xf5)](role,_0x55687d(0x2cf))||_0x2f1e69[_0x55687d(0xf5)](role,_0x2f1e69[_0x55687d(0xa3)]);continue;case'3':if(_0x2f1e69[_0x55687d(0x21b)](role,_0x2f1e69[_0x55687d(0x135)]))return!![];continue;case'4':if(_0x2f1e69[_0x55687d(0x36b)](_0x3cf468,_0x2f1e69[_0x55687d(0x35a)])||_0x3cf468===_0x55687d(0x106))return _0x2f1e69[_0x55687d(0x239)](role,_0x2f1e69['KpDsy']);continue;}break;}}const html=Object[_0x274539(0x248)](roomUsers)[_0x274539(0x323)](_0x1e38f3=>{const _0x41ea11=_0x274539,_0x43ea41={'pIyTc':function(_0x46edda,_0x176034){return _0x46edda!==_0x176034;},'bvgrv':function(_0x398474,_0xfe1f88){return _0x398474(_0xfe1f88);},'sCfls':function(_0x2877e6,_0xbe9eae){return _0x2877e6(_0xbe9eae);},'PzvDy':_0x41ea11(0x28a),'wPKnK':function(_0x41f220,_0x200a31){return _0x41f220(_0x200a31);},'TnVZa':_0x41ea11(0x334),'WmNlM':_0x41ea11(0x30f),'fkhMg':function(_0x19b8ea,_0x59fff4){return _0x19b8ea===_0x59fff4;},'NAxDr':'admin'},_0x50d66f=sanitizeUsername(_0x1e38f3[_0x41ea11(0xcd)]),_0x1691bc=[];if(_0x43ea41[_0x41ea11(0x13c)](_0x50d66f,_0x43ea41['bvgrv'](sanitizeUsername,username))){_0x43ea41[_0x41ea11(0xa0)](canPerformAction,_0x43ea41[_0x41ea11(0x2b0)])&&(_0x1691bc[_0x41ea11(0x326)](_0x41ea11(0x146)+_0x50d66f+_0x41ea11(0x344)),_0x1691bc['push'](_0x41ea11(0x146)+_0x50d66f+_0x41ea11(0x1cc)));_0x43ea41[_0x41ea11(0x107)](canPerformAction,_0x43ea41['TnVZa'])&&_0x1691bc[_0x41ea11(0x326)](_0x41ea11(0x21f)+_0x50d66f+'\x27)\x22>Delete\x20Messages</button>');if(role===_0x43ea41[_0x41ea11(0x208)])_0x1691bc[_0x41ea11(0x326)](_0x41ea11(0xaa)+_0x50d66f+_0x41ea11(0x2b7)),_0x1691bc['push'](_0x41ea11(0xd6)+_0x50d66f+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x43ea41['fkhMg'](role,_0x43ea41[_0x41ea11(0x217)])&&_0x1691bc[_0x41ea11(0x326)](_0x41ea11(0xaa)+_0x50d66f+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x1e38f3[_0x41ea11(0xcd)]+'\x20'+getRoleTag(_0x43ea41[_0x41ea11(0xa0)](sanitizeUsername,_0x1e38f3[_0x41ea11(0xcd)]))+_0x41ea11(0xf3)+_0x50d66f+_0x41ea11(0x132)+_0x1691bc['join']('')+_0x41ea11(0x12d)+_0x50d66f+_0x41ea11(0xae);})[_0x274539(0x10f)]('');function promoteToModerator(_0x2ac07e){const _0x4d88bf=_0x274539,_0x4df15e={'xxVDj':function(_0x4bdf6d,_0x5e04a1){return _0x4bdf6d(_0x5e04a1);},'WjYCN':_0x4d88bf(0x2ab),'vhqoL':function(_0x38cf7f,_0x107f86){return _0x38cf7f!==_0x107f86;},'vyEue':'admin','QJLYw':_0x4d88bf(0xc8)},_0x549866=sanitizeUsername(_0x2ac07e);if(isProtected(_0x549866))return _0x4df15e[_0x4d88bf(0x320)](alert,_0x4df15e[_0x4d88bf(0x2ae)]);if(role!==_0x4d88bf(0x30f)&&_0x4df15e['vhqoL'](role,_0x4df15e[_0x4d88bf(0x275)])){_0x4df15e[_0x4d88bf(0x320)](alert,_0x4df15e[_0x4d88bf(0x364)]);return;}db[_0x4d88bf(0x2d4)](_0x4d88bf(0x367)+roomCode+'/'+_0x549866)[_0x4d88bf(0x331)](!![])['then'](()=>{const _0x24247a=_0x4d88bf;_0x4df15e[_0x24247a(0x320)](alert,_0x2ac07e+_0x24247a(0x14b)),addSystemMessage(_0x2ac07e+'\x20was\x20promoted\x20to\x20Moderator');});}function promoteToAdmin(_0x2b55c0){const _0xb43d3a=_0x274539,_0x2b178e={'lMIKz':function(_0x58fee6,_0x1424a4){return _0x58fee6(_0x1424a4);},'ylKOu':function(_0x3f0b7d,_0xe65348){return _0x3f0b7d(_0xe65348);},'fnAZz':_0xb43d3a(0x2ab),'wHPBt':function(_0x4e55c6,_0x248af4){return _0x4e55c6!==_0x248af4;},'lMhQs':function(_0x468e3e,_0x65f8ab){return _0x468e3e(_0x65f8ab);}},_0x4d8d12=_0x2b178e[_0xb43d3a(0x3b4)](sanitizeUsername,_0x2b55c0);if(isProtected(_0x4d8d12))return _0x2b178e[_0xb43d3a(0x2a8)](alert,_0x2b178e[_0xb43d3a(0xdd)]);if(_0x2b178e['wHPBt'](role,_0xb43d3a(0x30f))){_0x2b178e[_0xb43d3a(0x291)](alert,_0xb43d3a(0xdc));return;}db[_0xb43d3a(0x2d4)](_0xb43d3a(0x2d6)+roomCode+'/'+_0x4d8d12)[_0xb43d3a(0x331)](!![])[_0xb43d3a(0x15e)](()=>{const _0xa574d7=_0xb43d3a;alert(_0x2b55c0+_0xa574d7(0x394)),_0x2b178e[_0xa574d7(0x3b4)](addSystemMessage,_0x2b55c0+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x2be5fc){const _0x566b5a=_0x274539,_0x542a2c={'GIqXT':function(_0x3db341,_0x27ce1a){return _0x3db341===_0x27ce1a;},'JShMA':_0x566b5a(0x30f),'nolhA':_0x566b5a(0x2d9),'lLThb':function(_0x325b5b,_0x35e162){return _0x325b5b===_0x35e162;},'UXYeo':'block','WTXgK':_0x566b5a(0x220)};(_0x542a2c[_0x566b5a(0x35c)](role,_0x542a2c['JShMA'])||role===_0x542a2c[_0x566b5a(0x26b)])&&controls[_0x566b5a(0x326)](_0x566b5a(0x134)+safeName+'\x27)\x22>Demote</button>');const _0x40bf8b=document[_0x566b5a(0x206)](_0x566b5a(0x374)+_0x2be5fc);_0x542a2c['lLThb'](_0x40bf8b[_0x566b5a(0x2f5)][_0x566b5a(0x3c0)],_0x566b5a(0x220))?_0x40bf8b[_0x566b5a(0x2f5)][_0x566b5a(0x3c0)]=_0x542a2c[_0x566b5a(0x274)]:_0x40bf8b[_0x566b5a(0x2f5)]['display']=_0x542a2c['WTXgK'];}function demoteUser(_0x27ea85){const _0x54a67b=_0x274539,_0x85ec93={'QeSrO':function(_0x5e86aa,_0x2e17fc){return _0x5e86aa(_0x2e17fc);},'xZSGk':function(_0x53a1e5,_0x178153){return _0x53a1e5(_0x178153);},'FEgiq':_0x54a67b(0x112),'GGPXt':function(_0x25688c,_0x355ce4){return _0x25688c===_0x355ce4;},'czQrK':function(_0x465f98,_0x4e6e12){return _0x465f98(_0x4e6e12);},'naQrO':function(_0x3a05f4,_0x2f498d){return _0x3a05f4===_0x2f498d;},'NznNx':_0x54a67b(0x2d9)};if(_0x85ec93[_0x54a67b(0x30c)](isProtected,_0x27ea85))return _0x85ec93[_0x54a67b(0x2c8)](alert,_0x85ec93[_0x54a67b(0x1b4)]);if(_0x85ec93[_0x54a67b(0x2b4)](role,_0x54a67b(0x30f)))db[_0x54a67b(0x2d4)](_0x54a67b(0x2d6)+roomCode+'/'+_0x27ea85)['remove'](),db[_0x54a67b(0x2d4)](_0x54a67b(0x367)+roomCode+'/'+_0x27ea85)[_0x54a67b(0x260)](),_0x85ec93[_0x54a67b(0x30c)](alert,_0x27ea85+_0x54a67b(0x1a0)),_0x85ec93[_0x54a67b(0x147)](addSystemMessage,_0x27ea85+_0x54a67b(0x388));else _0x85ec93[_0x54a67b(0xc1)](role,_0x85ec93[_0x54a67b(0x23b)])?(db[_0x54a67b(0x2d4)]('moderators/'+roomCode+'/'+_0x27ea85)['remove'](),alert(_0x27ea85+'\x20demoted\x20to\x20user.'),addSystemMessage(_0x27ea85+_0x54a67b(0x388))):_0x85ec93['xZSGk'](alert,_0x54a67b(0x18a));}function getRoleTag(_0x599cc7){const _0x2d51db=_0x274539,_0x2287bf={'haKGq':function(_0x5ec86b,_0xcb3aef){return _0x5ec86b(_0xcb3aef);}},_0x70125=_0x2287bf[_0x2d51db(0x2e9)](sanitizeUsername,_0x599cc7);if(globalDevs[_0x2d51db(0x143)](_0x70125))return _0x2d51db(0x202);if(roomAdmins[_0x2d51db(0x143)](_0x70125))return _0x2d51db(0x36a);if(roomModerators[_0x2d51db(0x143)](_0x70125))return _0x2d51db(0x150);return'';}async function loadRoomRoles(){const _0xdcd660=_0x274539,_0x369528={'PYEMQ':function(_0x5bedea,_0x3723ed){return _0x5bedea(_0x3723ed);},'RiOTJ':_0xdcd660(0x1a4),'gVRAL':_0xdcd660(0x30f),'jEuIe':_0xdcd660(0x2d9)},_0x4dc01f=_0x369528[_0xdcd660(0x2d8)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x2b46f8=await db[_0xdcd660(0x2d4)](_0x369528[_0xdcd660(0x88)])[_0xdcd660(0x387)]();_0x2b46f8[_0xdcd660(0x37e)](_0x4311b7=>{const _0x475a3f=_0xdcd660;if(_0x4311b7[_0x475a3f(0x392)]()[_0x475a3f(0x8a)]===_0x475a3f(0x30f))globalDevs[_0x475a3f(0x326)](_0x4311b7['key']);});const _0x2b695e=await db['ref'](_0xdcd660(0x2d6)+roomCode)[_0xdcd660(0x387)]();_0x2b695e[_0xdcd660(0x199)]()&&_0x2b695e[_0xdcd660(0x37e)](_0x49f0ad=>roomAdmins['push'](_0x49f0ad[_0xdcd660(0x237)]));const _0x31eb8f=await db[_0xdcd660(0x2d4)](_0xdcd660(0x367)+roomCode)[_0xdcd660(0x387)]();_0x31eb8f[_0xdcd660(0x199)]()&&_0x31eb8f['forEach'](_0x5d2bfc=>roomModerators['push'](_0x5d2bfc['key']));if(globalDevs[_0xdcd660(0x143)](_0x4dc01f))role=_0x369528[_0xdcd660(0x1b1)];else{if(roomAdmins[_0xdcd660(0x143)](_0x4dc01f))role=_0x369528[_0xdcd660(0x177)];else roomModerators[_0xdcd660(0x143)](_0x4dc01f)?role='moderator':role=_0xdcd660(0x194);}}async function renderUserLists(_0x29f4ff){const _0x28d7e0=_0x274539,_0x439913={'teKGH':function(_0x2f8b53,_0x237b09){return _0x2f8b53(_0x237b09);},'kyNqD':function(_0x2d5006,_0x2e5cf7){return _0x2d5006(_0x2e5cf7);},'aZvhK':function(_0x2b00a8,_0x275ef5){return _0x2b00a8(_0x275ef5);},'rnIDn':function(_0x170128,_0x1c34d0){return _0x170128(_0x1c34d0);},'fbSuZ':_0x28d7e0(0xc0),'nqyAj':_0x28d7e0(0x2d9),'NmuCk':function(_0x5329f7,_0x5e1fe2){return _0x5329f7===_0x5e1fe2;},'wdfnz':_0x28d7e0(0x30f),'AVmXp':function(_0x147be6,_0x348ef5){return _0x147be6===_0x348ef5;},'XfOmR':function(_0x38529b,_0x6974be){return _0x38529b(_0x6974be);},'ArcJh':'moderator','VWLao':'adminControlsSection','jVbOY':'block','fiuZc':_0x28d7e0(0x319)};roomUsers=_0x29f4ff;const _0xda520a=_0x439913[_0x28d7e0(0x28b)](sanitizeUsername,username),_0x27e137=[_0x439913[_0x28d7e0(0x271)],_0x439913[_0x28d7e0(0x2f7)],_0x439913[_0x28d7e0(0x2bf)],_0x439913[_0x28d7e0(0x1c6)]][_0x28d7e0(0x143)](role);document[_0x28d7e0(0x206)](_0x439913[_0x28d7e0(0x91)])[_0x28d7e0(0x2f5)][_0x28d7e0(0x3c0)]=_0x27e137?_0x439913[_0x28d7e0(0x216)]:'none';const _0x4723ba=Object[_0x28d7e0(0x24c)](_0x29f4ff)[_0x28d7e0(0x323)](async([_0x4c9de7,_0x3f69ec])=>{const _0x3bc559=_0x28d7e0,_0x19ef42=_0x439913[_0x3bc559(0x8f)](sanitizeUsername,_0x3f69ec[_0x3bc559(0xcd)]||_0x4c9de7),_0x43448a=await _0x439913['kyNqD'](fetchAvatar,_0x19ef42),_0x3ef88a=_0x43448a?_0x3bc559(0x23d)+_0x43448a+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0xeaaa9=_0x3f69ec[_0x3bc559(0x2a3)]?_0x3bc559(0x116):'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>';return _0x3bc559(0x12c)+_0x3ef88a+'\x20'+_0xeaaa9+_0x3bc559(0x27d)+_0x19ef42+_0x3bc559(0x290)+(_0x3f69ec[_0x3bc559(0xcd)]||_0x4c9de7)+'</span>\x20'+getRoleTag(_0x19ef42)+_0x3bc559(0x3b0);});document[_0x28d7e0(0x206)](_0x439913[_0x28d7e0(0x341)])[_0x28d7e0(0x16d)]=(await Promise[_0x28d7e0(0x2e7)](_0x4723ba))[_0x28d7e0(0x10f)]('');if(!_0x27e137)return;const _0x46a0c0=Object['entries'](_0x29f4ff)['map'](async([_0x395eb6,_0x15bbd8])=>{const _0x4ac940=_0x28d7e0,_0x29e126=_0x439913[_0x4ac940(0x186)](sanitizeUsername,_0x15bbd8[_0x4ac940(0xcd)]||_0x395eb6);if(_0x29e126===_0xda520a)return'';const _0x27a9cd=globalDevs[_0x4ac940(0x143)](_0x29e126),_0x526bba=await _0x439913[_0x4ac940(0xf8)](fetchAvatar,_0x29e126),_0x58dbd4=_0x526bba?'<img\x20src=\x22data:image/png;base64,'+_0x526bba+_0x4ac940(0x2dd):'',_0x3cc977=_0x15bbd8[_0x4ac940(0x2a3)]?_0x4ac940(0x116):_0x4ac940(0x1c0),_0x4e6663=[];if(!_0x27a9cd){[_0x439913[_0x4ac940(0x1c6)],_0x4ac940(0x2cf),_0x439913[_0x4ac940(0x2f7)],_0x4ac940(0x30f)]['includes'](role)&&(_0x4e6663['push'](_0x4ac940(0x146)+_0x29e126+_0x4ac940(0xe6)),_0x4e6663[_0x4ac940(0x326)](_0x4ac940(0x146)+_0x29e126+_0x4ac940(0x344)),_0x4e6663[_0x4ac940(0x326)]('<button\x20onclick=\x22muteUser(\x27'+_0x29e126+_0x4ac940(0x1cc)));if(_0x439913[_0x4ac940(0x1a6)](role,_0x439913[_0x4ac940(0x271)]))_0x4e6663[_0x4ac940(0x326)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x29e126+'\x27)\x22>+Mod</button>'),_0x4e6663[_0x4ac940(0x326)](_0x4ac940(0xd6)+_0x29e126+_0x4ac940(0x299)),_0x4e6663[_0x4ac940(0x326)](_0x4ac940(0x134)+_0x29e126+_0x4ac940(0x236));else _0x439913['AVmXp'](role,_0x439913[_0x4ac940(0x2f7)])&&(_0x4e6663['push'](_0x4ac940(0xaa)+_0x29e126+_0x4ac940(0x376)),_0x4e6663[_0x4ac940(0x326)]('<button\x20onclick=\x22demoteUser(\x27'+_0x29e126+_0x4ac940(0x236)));}return _0x4ac940(0x30a)+_0x58dbd4+'\x20'+_0x3cc977+'\x20üîß\x20'+(_0x15bbd8[_0x4ac940(0xcd)]||_0x395eb6)+'\x20'+_0x439913[_0x4ac940(0x29e)](getRoleTag,_0x29e126)+_0x4ac940(0x3a5)+_0x4e6663[_0x4ac940(0x10f)]('\x20')+'</div>\x0a\x20\x20\x20\x20\x20\x20</li>';});document[_0x28d7e0(0x206)](_0x28d7e0(0x161))[_0x28d7e0(0x16d)]=(await Promise[_0x28d7e0(0x2e7)](_0x46a0c0))[_0x28d7e0(0x10f)]('');}function updateAnnouncementVisibility(){const _0x393d83=_0x274539,_0x1a872a={'RykjY':_0x393d83(0x2d9),'NmxKF':function(_0x1800de,_0x49ec23){return _0x1800de===_0x49ec23;},'PbcRR':_0x393d83(0x30f)},_0x592851=document['getElementById'](_0x393d83(0xa2));role===_0x1a872a[_0x393d83(0x28d)]||_0x1a872a['NmxKF'](role,_0x1a872a[_0x393d83(0x293)])?_0x592851[_0x393d83(0x2f5)][_0x393d83(0x3c0)]='block':_0x592851['style'][_0x393d83(0x3c0)]=_0x393d83(0x220);}async function fetchAvatar(_0x5da9ee){const _0x455d41=_0x274539;if(userAvatars[_0x5da9ee])return userAvatars[_0x5da9ee];const _0x165fbc=await db[_0x455d41(0x2d4)](_0x455d41(0x1a9)+_0x5da9ee)[_0x455d41(0x387)]();if(_0x165fbc[_0x455d41(0x199)]()&&_0x165fbc[_0x455d41(0x392)]()[_0x455d41(0x2a1)])return userAvatars[_0x5da9ee]=_0x165fbc[_0x455d41(0x392)]()[_0x455d41(0x2a1)],userAvatars[_0x5da9ee];return null;}function sendTyping(){const _0x222aa6=_0x274539,_0x12d17d={'fZvRX':function(_0xc777ea,_0x2e18d0){return _0xc777ea(_0x2e18d0);},'GEBSx':function(_0x4c7d3f,_0x3e72e5,_0x1d7583){return _0x4c7d3f(_0x3e72e5,_0x1d7583);}},_0x1c9181=sanitizeUsername(username),_0x1eb1fd=Date[_0x222aa6(0x231)]();db[_0x222aa6(0x2d4)](_0x222aa6(0x369)+roomCode+'/'+_0x1c9181)[_0x222aa6(0x331)](_0x1eb1fd);if(typingTimeout)_0x12d17d[_0x222aa6(0xb6)](clearTimeout,typingTimeout);typingTimeout=_0x12d17d['GEBSx'](setTimeout,()=>{const _0x423949=_0x222aa6;db[_0x423949(0x2d4)]('typing/'+roomCode+'/'+_0x1c9181)['remove']();},0x1f4);}function listenForTyping(){const _0x42edb7=_0x274539,_0x5d5c86={'EEdlv':'typing','Elyvl':'value'};db[_0x42edb7(0x2d4)](_0x42edb7(0x369)+roomCode)['on'](_0x5d5c86[_0x42edb7(0x226)],_0x453b1c=>{const _0x2d88d3=_0x42edb7,_0x513f16=document['getElementById'](_0x5d5c86[_0x2d88d3(0x22b)]);if(!_0x453b1c[_0x2d88d3(0x199)]())return _0x513f16[_0x2d88d3(0x125)]='';const _0x366344=Date[_0x2d88d3(0x231)](),_0x316958=Object[_0x2d88d3(0x24c)](_0x453b1c['val']())[_0x2d88d3(0x268)](([_0x2dcabe,_0x42b3e3])=>_0x2dcabe!==sanitizeUsername(username)&&_0x366344-_0x42b3e3<0x1388)['map'](([_0x160e9e])=>_0x160e9e);_0x513f16[_0x2d88d3(0x125)]=_0x316958[_0x2d88d3(0x243)]?_0x316958[_0x2d88d3(0x10f)](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x4bb5cd=_0x274539,_0x53a810={'trrcV':function(_0x105361,_0x4febbb){return _0x105361(_0x4febbb);},'xumeS':_0x4bb5cd(0x288),'qXXFr':'Type\x20a\x20message...','xNQuU':function(_0x3026b4,_0x67c977){return _0x3026b4===_0x67c977;},'UwvAW':_0x4bb5cd(0x2f2),'IFpoG':function(_0x49fd23,_0x365a9e){return _0x49fd23>_0x365a9e;},'PLqye':'‚õî\x20You\x20are\x20muted.','KbZyJ':function(_0x1557da,_0x570105,_0x39e3e3){return _0x1557da(_0x570105,_0x39e3e3);},'WRnAR':function(_0x6f1cd5,_0xd60c6a){return _0x6f1cd5(_0xd60c6a);}},_0x402585=db[_0x4bb5cd(0x2d4)](_0x4bb5cd(0x234)+roomCode+'/'+_0x53a810[_0x4bb5cd(0x354)](sanitizeUsername,username));let _0x2b9fbe;_0x402585['on'](_0x4bb5cd(0x3a6),_0x4fa013=>{const _0x23fbd3=_0x4bb5cd;_0x53a810[_0x23fbd3(0x255)](clearInterval,_0x2b9fbe);const _0x33cbc5=document[_0x23fbd3(0x206)](_0x53a810['xumeS']);if(!_0x4fa013['exists']()){_0x33cbc5[_0x23fbd3(0x25d)]=![],_0x33cbc5['placeholder']=_0x53a810[_0x23fbd3(0x3b1)];return;}const _0x1e1b2d=_0x4fa013[_0x23fbd3(0x392)](),_0x18b388=_0x53a810[_0x23fbd3(0x25f)](typeof _0x1e1b2d,_0x53a810[_0x23fbd3(0x19f)])&&_0x1e1b2d[_0x23fbd3(0x11e)]?_0x1e1b2d[_0x23fbd3(0x11e)]:_0x1e1b2d;_0x53a810['IFpoG'](_0x18b388,Date[_0x23fbd3(0x231)]())?(_0x33cbc5[_0x23fbd3(0x25d)]=!![],_0x33cbc5[_0x23fbd3(0x3bc)]=_0x53a810['PLqye'],_0x2b9fbe=_0x53a810[_0x23fbd3(0x205)](setInterval,()=>{const _0x416c65=_0x23fbd3;Date[_0x416c65(0x231)]()>_0x18b388&&_0x402585[_0x416c65(0x260)]();},0xbb8)):(_0x33cbc5['disabled']=![],_0x33cbc5[_0x23fbd3(0x3bc)]=_0x23fbd3(0x201),_0x402585[_0x23fbd3(0x260)]());});}function isProtected(_0x2a5b02){const _0x4b6c6a=_0x274539;return globalDevs[_0x4b6c6a(0x143)](_0x2a5b02);}function addSystemMessage(_0x1eb264){const _0x8a506d=_0x274539,_0x5dabba={'BpSUt':_0x8a506d(0xb2),'pAmOs':'0.8rem','ZMZcZ':_0x8a506d(0x1b3),'ddxIX':'6px\x20auto','yRpvF':_0x8a506d(0xc3)},_0x4a3a72=document[_0x8a506d(0x19d)](_0x8a506d(0x345));_0x4a3a72[_0x8a506d(0x2f5)]['textAlign']=_0x5dabba['BpSUt'],_0x4a3a72[_0x8a506d(0x2f5)]['fontSize']=_0x5dabba[_0x8a506d(0x3aa)],_0x4a3a72[_0x8a506d(0x2f5)][_0x8a506d(0xe7)]=_0x5dabba['ZMZcZ'],_0x4a3a72[_0x8a506d(0x2f5)][_0x8a506d(0x361)]=_0x5dabba[_0x8a506d(0x36c)],_0x4a3a72['innerText']=_0x1eb264,document['getElementById'](_0x5dabba[_0x8a506d(0x162)])[_0x8a506d(0x1b0)](_0x4a3a72),document[_0x8a506d(0x206)](_0x8a506d(0xc3))['scrollTop']=document[_0x8a506d(0x206)](_0x8a506d(0xc3))['scrollHeight'];}function reactToMessage(_0x58553a,_0x42c605){const _0x876f7b=_0x274539,_0x2530bf={'TWsDz':function(_0x503dc3,_0x1c232c){return _0x503dc3(_0x1c232c);},'jGzxv':_0x876f7b(0x3a6)},_0x4b7b97=_0x2530bf['TWsDz'](sanitizeUsername,username),_0x363bfb=db[_0x876f7b(0x2d4)](_0x876f7b(0x2aa)+roomCode+_0x876f7b(0x24b)+_0x58553a+_0x876f7b(0x35b));_0x363bfb[_0x876f7b(0x89)](_0x2530bf[_0x876f7b(0x105)])[_0x876f7b(0x15e)](_0x47e36b=>{const _0x36037e=_0x876f7b,_0x473df3=_0x47e36b[_0x36037e(0x392)]()||{},_0x1a0050={};for(const [_0x5cebc6,_0x1e1ee9]of Object['entries'](_0x473df3)){_0x1a0050[_0x5cebc6]=(_0x1e1ee9||[])[_0x36037e(0x268)](_0x511a9a=>_0x511a9a!==_0x4b7b97);}if(!_0x473df3[_0x42c605]||!_0x473df3[_0x42c605][_0x36037e(0x143)](_0x4b7b97)){if(!_0x1a0050[_0x42c605])_0x1a0050[_0x42c605]=[];_0x1a0050[_0x42c605][_0x36037e(0x326)](_0x4b7b97);}_0x363bfb['set'](_0x1a0050);});}function startSidebarSyncLoop(){const _0x4ae208=_0x274539,_0x26f462={'NNLbI':function(_0x1bfe4b,_0x447769){return _0x1bfe4b(_0x447769);},'TrhIM':function(_0x42f2ed,_0x503d71,_0x1ec938){return _0x42f2ed(_0x503d71,_0x1ec938);}};_0x26f462[_0x4ae208(0x36d)](setInterval,async()=>{const _0x4ff2d7=_0x4ae208;if(!roomCode)return;const _0x44bc44=await db['ref'](_0x4ff2d7(0x99)+roomCode)[_0x4ff2d7(0x387)]();if(_0x44bc44[_0x4ff2d7(0x199)]()){const _0x134586=_0x44bc44[_0x4ff2d7(0x392)]();_0x26f462[_0x4ff2d7(0x30e)](renderUserLists,_0x134586);}},0x1388);}