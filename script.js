const _0x976738=_0x5b36;(function(_0x2047d5,_0x3feafd){const _0x46f386=_0x5b36,_0x1bca73=_0x2047d5();while(!![]){try{const _0x3a94de=-parseInt(_0x46f386(0x2d6))/0x1*(-parseInt(_0x46f386(0x324))/0x2)+parseInt(_0x46f386(0x27b))/0x3+parseInt(_0x46f386(0x21e))/0x4+parseInt(_0x46f386(0x21d))/0x5*(-parseInt(_0x46f386(0x31b))/0x6)+-parseInt(_0x46f386(0x3a7))/0x7*(-parseInt(_0x46f386(0x278))/0x8)+parseInt(_0x46f386(0x226))/0x9*(parseInt(_0x46f386(0x242))/0xa)+-parseInt(_0x46f386(0x1c6))/0xb;if(_0x3a94de===_0x3feafd)break;else _0x1bca73['push'](_0x1bca73['shift']());}catch(_0x1e8d9e){_0x1bca73['push'](_0x1bca73['shift']());}}}(_0x2e9e,0xb11f1));const firebaseConfig={'apiKey':_0x976738(0x289),'authDomain':_0x976738(0x2f0),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x976738(0x27e),'storageBucket':_0x976738(0x218),'messagingSenderId':_0x976738(0x2fb),'appId':_0x976738(0x1bb),'measurementId':'G-QDESJ2WR42'};firebase[_0x976738(0x386)](firebaseConfig);const db=firebase[_0x976738(0x25d)]();let deviceId=null;((async()=>{const _0x13562c={'ioCFI':function(_0x9722d2){return _0x9722d2();}};deviceId=await _0x13562c['ioCFI'](generateDeviceId);})());const swearWords=[_0x976738(0x16d),'shit',_0x976738(0x255),_0x976738(0x337),_0x976738(0x317),_0x976738(0x2bc),'cunt',_0x976738(0x1a8),_0x976738(0x22b),_0x976738(0x1f3),'coño','cabron',_0x976738(0x234),_0x976738(0x2ba),_0x976738(0x178),'merda',_0x976738(0x1a8),_0x976738(0x182),_0x976738(0x1c0),'putangina',_0x976738(0x21a),'tangina',_0x976738(0x1ed),'bobo',_0x976738(0x262),_0x976738(0x367)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x976738(0x2d3)]()['toString'](0x24)[_0x976738(0x1cf)](0x2,0x9),lastActivity=Date[_0x976738(0x228)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x976738(0x389));sound[_0x976738(0x30d)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2dc8f2=_0x976738,_0x35eed7={'zJoZQ':function(_0x2ac31a,_0x208b46){return _0x2ac31a+_0x208b46;},'FwLXA':function(_0x120fea,_0x1e5eac){return _0x120fea+_0x1e5eac;},'ImJTC':function(_0xfa73a2,_0x3316ff){return _0xfa73a2(_0x3316ff);}},_0x2851d1=_0x35eed7[_0x2dc8f2(0x194)](_0x35eed7[_0x2dc8f2(0x222)](navigator[_0x2dc8f2(0x2d1)],screen[_0x2dc8f2(0x38d)]),screen[_0x2dc8f2(0x2b7)]),_0x8f7439=await _0x35eed7[_0x2dc8f2(0x18e)](sha256,_0x2851d1);return'_'+_0x8f7439[_0x2dc8f2(0x1cf)](0x0,0x14);}function sha256(_0x48567b){const _0x423e2f=_0x976738,_0x17fd35={'KXwpn':'SHA-256'},_0x3fa242=new TextEncoder()[_0x423e2f(0x18b)](_0x48567b);return crypto[_0x423e2f(0x396)]['digest'](_0x17fd35['KXwpn'],_0x3fa242)['then'](_0x3921d6=>{const _0x3ee0a3=_0x423e2f;return Array[_0x3ee0a3(0x271)](new Uint8Array(_0x3921d6))['map'](_0x43b769=>_0x43b769[_0x3ee0a3(0x3b0)](0x10)[_0x3ee0a3(0x24b)](0x2,'0'))[_0x3ee0a3(0x268)]('');});}function toggleNotifications(){const _0x3c671c=_0x976738,_0x1e3bfb={'bICak':_0x3c671c(0x347),'PBJKL':_0x3c671c(0x385),'aDEWb':'🔕\x20Disable\x20Notifications','cWAWK':function(_0x2e805d,_0xb3dd64){return _0x2e805d!==_0xb3dd64;},'kYEGw':'🔔\x20Enable\x20Notifications'};_0x1e3bfb[_0x3c671c(0x246)](Notification['permission'],_0x1e3bfb['bICak'])?Notification[_0x3c671c(0x2cf)]()[_0x3c671c(0x252)](_0x5b7495=>{const _0x5a8e67=_0x3c671c;_0x5b7495===_0x1e3bfb[_0x5a8e67(0x344)]&&(notificationsEnabled=!![],document[_0x5a8e67(0x213)](_0x1e3bfb[_0x5a8e67(0x342)])['innerText']=_0x1e3bfb[_0x5a8e67(0x2cd)]);}):(notificationsEnabled=!notificationsEnabled,document[_0x3c671c(0x213)](_0x1e3bfb['PBJKL'])[_0x3c671c(0x3af)]=notificationsEnabled?_0x3c671c(0x2fc):_0x1e3bfb[_0x3c671c(0x284)]);}function toggleAuthMode(){const _0x31890e=_0x976738,_0x35321c={'OyoOV':_0x31890e(0x306),'sRZAB':_0x31890e(0x2c2),'jBXAw':_0x31890e(0x2b8),'jweus':_0x31890e(0x2c7),'pmHaN':_0x31890e(0x1fc),'fBvRh':'authTitle','IJevk':'Login','AilbA':_0x31890e(0x3a1)},_0x3918d8=_0x35321c[_0x31890e(0x200)][_0x31890e(0x24e)]('|');let _0x3313d1=0x0;while(!![]){switch(_0x3918d8[_0x3313d1++]){case'0':document[_0x31890e(0x213)](_0x35321c[_0x31890e(0x279)])[_0x31890e(0x36f)][_0x31890e(0x16e)]=isRegisterMode?_0x35321c[_0x31890e(0x295)]:_0x35321c[_0x31890e(0x291)];continue;case'1':document[_0x31890e(0x213)]('authAvatar')[_0x31890e(0x36f)]['display']=isRegisterMode?_0x35321c[_0x31890e(0x295)]:_0x35321c['jweus'];continue;case'2':document['getElementById']('authAvatarPreview')[_0x31890e(0x36f)]['display']=_0x35321c['jweus'];continue;case'3':document[_0x31890e(0x213)](_0x31890e(0x1c5))[_0x31890e(0x36f)][_0x31890e(0x16e)]=_0x35321c[_0x31890e(0x291)];continue;case'4':document[_0x31890e(0x213)](_0x31890e(0x35d))[_0x31890e(0x3af)]=isRegisterMode?_0x35321c['pmHaN']:_0x31890e(0x2d5);continue;case'5':document['getElementById'](_0x35321c[_0x31890e(0x1a1)])[_0x31890e(0x3af)]=isRegisterMode?'Register':_0x35321c[_0x31890e(0x231)];continue;case'6':document[_0x31890e(0x213)](_0x35321c['AilbA'])[_0x31890e(0x36f)]['display']=isRegisterMode?_0x35321c[_0x31890e(0x295)]:_0x35321c[_0x31890e(0x291)];continue;case'7':isRegisterMode=!isRegisterMode;continue;}break;}}function previewAvatar(){const _0x559b02=_0x976738,_0x188e6a={'craoz':_0x559b02(0x172),'yLTJy':_0x559b02(0x2b8),'rTdDy':_0x559b02(0x3a8)},_0x54a82b=document[_0x559b02(0x213)](_0x188e6a['rTdDy']);if(!_0x54a82b['files'][_0x559b02(0x1d7)])return;const _0x2c1f4c=new FileReader();_0x2c1f4c[_0x559b02(0x1a0)]=()=>{const _0x2d5758=_0x559b02;document[_0x2d5758(0x213)](_0x188e6a['craoz'])['src']=_0x2c1f4c[_0x2d5758(0x1cc)],document[_0x2d5758(0x213)](_0x188e6a['craoz'])[_0x2d5758(0x36f)][_0x2d5758(0x16e)]=_0x188e6a[_0x2d5758(0x39b)];},_0x2c1f4c[_0x559b02(0x245)](_0x54a82b[_0x559b02(0x2a1)][0x0]);}async function submitAuth(){const _0x39caa5=_0x976738,_0xa8d81c={'XEHZr':_0x39caa5(0x287),'ZkBIm':_0x39caa5(0x2ca),'IQSZF':'authPassword','aBvFV':_0x39caa5(0x3a1),'IvFCK':'authAvatar','KOIAm':_0x39caa5(0x1c5),'MhPkP':_0x39caa5(0x2c7),'YFWkG':function(_0x5cdcfb,_0x21ed10){return _0x5cdcfb||_0x21ed10;},'PfmOX':_0x39caa5(0x2b8),'mByLX':_0x39caa5(0x36b),'bSecp':function(_0x214b11,_0x1bee31){return _0x214b11(_0x1bee31);},'bMDEW':function(_0x1dc45c){return _0x1dc45c();},'djEsc':_0x39caa5(0x332),'oyiJm':_0x39caa5(0x24c),'HRgdJ':function(_0x1c967a,_0x41b08b){return _0x1c967a!==_0x41b08b;},'PBaCP':_0x39caa5(0x1ca),'DyQsA':function(_0x582aba){return _0x582aba();}},_0x33555c=document[_0x39caa5(0x213)](_0xa8d81c[_0x39caa5(0x25f)])[_0x39caa5(0x209)][_0x39caa5(0x378)](),_0xd44b4c=document[_0x39caa5(0x213)](_0xa8d81c[_0x39caa5(0x2c8)])[_0x39caa5(0x209)][_0x39caa5(0x378)](),_0x5d4bbc=document['getElementById'](_0x39caa5(0x2c2))[_0x39caa5(0x209)][_0x39caa5(0x378)](),_0x351a84=document[_0x39caa5(0x213)](_0xa8d81c[_0x39caa5(0x1e5)])[_0x39caa5(0x209)][_0x39caa5(0x378)](),_0x42c0cd=document[_0x39caa5(0x213)](_0xa8d81c[_0x39caa5(0x3ac)]),_0xca572f=document[_0x39caa5(0x213)](_0xa8d81c[_0x39caa5(0x32e)]);_0xca572f[_0x39caa5(0x36f)][_0x39caa5(0x16e)]=_0xa8d81c['MhPkP'];if(_0xa8d81c['YFWkG'](!_0x33555c,!_0xd44b4c)){_0xca572f['innerText']='Please\x20fill\x20in\x20all\x20fields.',_0xca572f[_0x39caa5(0x36f)][_0x39caa5(0x16e)]=_0xa8d81c[_0x39caa5(0x345)];return;}const _0x53c4df=sanitizeUsername(_0x33555c),_0xa7c7a=db[_0x39caa5(0x23f)](_0x39caa5(0x2ff)+_0x53c4df),_0x49dd87=await _0xa7c7a[_0x39caa5(0x39a)]();if(isRegisterMode){if(_0x49dd87[_0x39caa5(0x2a2)]()){_0xca572f[_0x39caa5(0x3af)]=_0x39caa5(0x199),_0xca572f[_0x39caa5(0x36f)][_0x39caa5(0x16e)]=_0xa8d81c[_0x39caa5(0x345)];return;}if(_0xd44b4c!==_0x5d4bbc){_0xca572f[_0x39caa5(0x3af)]=_0xa8d81c['mByLX'],_0xca572f[_0x39caa5(0x36f)][_0x39caa5(0x16e)]=_0xa8d81c[_0x39caa5(0x345)];return;}const _0xb4e292=await _0xa8d81c['bSecp'](sha256,_0xd44b4c),_0x2db4f3=await _0xa8d81c['bMDEW'](generateDeviceId);if(_0x42c0cd[_0x39caa5(0x2a1)][_0x39caa5(0x1d7)]){const _0x333ccd=_0x42c0cd[_0x39caa5(0x2a1)][0x0],_0x5d803d=new FileReader();_0x5d803d['onloadend']=async()=>{const _0x1c7bac=_0x39caa5,_0xec7980=_0x5d803d['result'][_0x1c7bac(0x24e)](',')[0x1];await _0xa7c7a[_0x1c7bac(0x307)]({'username':_0x33555c,'passwordHash':_0xb4e292,'description':_0x351a84||'','avatarBase64':_0xec7980,'role':_0xa8d81c[_0x1c7bac(0x20d)],'deviceId':_0x2db4f3,'usernameHistory':[_0x33555c],'lastChanged':Date[_0x1c7bac(0x228)]()}),username=_0x33555c,userDescription=_0x351a84,avatarBase64=_0xec7980,role=_0x1c7bac(0x287),startAfterAuth();},_0x5d803d[_0x39caa5(0x245)](_0x333ccd);}else{const _0x1ac993=_0xa8d81c[_0x39caa5(0x36c)][_0x39caa5(0x24e)]('|');let _0x67b6ba=0x0;while(!![]){switch(_0x1ac993[_0x67b6ba++]){case'0':_0xa8d81c[_0x39caa5(0x1c1)](startAfterAuth);continue;case'1':avatarBase64='';continue;case'2':role=_0x39caa5(0x287);continue;case'3':userDescription=_0x351a84;continue;case'4':await _0xa7c7a['set']({'username':_0x33555c,'passwordHash':_0xb4e292,'description':_0xa8d81c[_0x39caa5(0x2ae)](_0x351a84,''),'avatarBase64':'','role':_0xa8d81c[_0x39caa5(0x20d)],'deviceId':_0x2db4f3,'usernameHistory':[_0x33555c],'lastChanged':Date[_0x39caa5(0x228)]()});continue;case'5':username=_0x33555c;continue;}break;}}}else{if(!_0x49dd87[_0x39caa5(0x2a2)]()){_0xca572f['innerText']=_0xa8d81c[_0x39caa5(0x2b1)],_0xca572f['style']['display']=_0xa8d81c['PfmOX'];return;}const _0x134a11=_0x49dd87[_0x39caa5(0x384)](),_0x5aba29=await sha256(_0xd44b4c);if(_0xa8d81c[_0x39caa5(0x308)](_0x5aba29,_0x134a11[_0x39caa5(0x365)])){_0xca572f[_0x39caa5(0x3af)]=_0xa8d81c[_0x39caa5(0x2ce)],_0xca572f[_0x39caa5(0x36f)]['display']=_0xa8d81c[_0x39caa5(0x345)];return;}username=_0x33555c;if(_0x134a11[_0x39caa5(0x1ce)])userDescription=_0x134a11[_0x39caa5(0x1ce)];if(_0x134a11['avatarBase64'])avatarBase64=_0x134a11[_0x39caa5(0x2e1)];if(_0x134a11[_0x39caa5(0x35a)])role=_0x134a11[_0x39caa5(0x35a)];else role=_0x39caa5(0x287);_0xa8d81c[_0x39caa5(0x3ad)](startAfterAuth);}}async function saveNewUser(_0x5e95e3,_0x527244,_0x5de2d3,_0x1c94d4,_0x12938d){const _0x1a1b42=_0x976738,_0x3fb5ca={'nIJAC':function(_0x3e82b1,_0x3583f6){return _0x3e82b1(_0x3583f6);},'DQysC':function(_0x4557ef,_0x77b642){return _0x4557ef||_0x77b642;},'kGeFn':function(_0x40df03,_0x21c506){return _0x40df03||_0x21c506;},'eqEIq':function(_0x5774af){return _0x5774af();}},_0x12e9cf=db[_0x1a1b42(0x23f)](_0x1a1b42(0x2ff)+_0x3fb5ca[_0x1a1b42(0x387)](sanitizeUsername,_0x5e95e3)),_0x195898={'username':_0x5e95e3,'passwordHash':_0x527244,'role':_0x1a1b42(0x287),'deviceId':_0x5de2d3,'description':_0x3fb5ca[_0x1a1b42(0x2c5)](_0x12938d,''),'avatarBase64':_0x3fb5ca['kGeFn'](_0x1c94d4,''),'usernameHistory':[_0x5e95e3],'lastChanged':Date[_0x1a1b42(0x228)]()};await _0x12e9cf[_0x1a1b42(0x307)](_0x195898),username=_0x5e95e3,_0x1c94d4=_0x195898[_0x1a1b42(0x2e1)],userDescription=_0x195898[_0x1a1b42(0x1ce)],_0x3fb5ca[_0x1a1b42(0x1b8)](startAfterAuth);}async function startAfterAuth(){const _0x5a72a8=_0x976738,_0x2765d7={'MPycV':function(_0x1cfc95,_0x19d0b3){return _0x1cfc95(_0x19d0b3);},'nlCDz':_0x5a72a8(0x198),'WWSRP':function(_0xafe664,_0xe2d234){return _0xafe664+_0xe2d234;},'LbaOu':_0x5a72a8(0x328),'UpkXu':_0x5a72a8(0x2b8),'rOZGm':_0x5a72a8(0x1bd),'yhFEd':function(_0x19f2c8){return _0x19f2c8();},'cCGPN':'roomChoiceScreen'},_0x375a36=_0x2765d7['MPycV'](sanitizeUsername,username),_0x600210=db[_0x5a72a8(0x23f)](_0x5a72a8(0x2ff)+_0x375a36),_0x428895=await _0x600210[_0x5a72a8(0x39a)]();if(_0x428895['exists']()){const _0x1f8ce1=_0x428895[_0x5a72a8(0x384)]();username=_0x1f8ce1[_0x5a72a8(0x1e9)],userDescription=_0x1f8ce1[_0x5a72a8(0x1ce)]||'',avatarBase64=_0x1f8ce1['avatarBase64']||'',role=_0x1f8ce1[_0x5a72a8(0x35a)]||_0x5a72a8(0x287);if(avatarBase64){const _0x338150=document[_0x5a72a8(0x213)](_0x2765d7['nlCDz']);_0x338150['src']=_0x2765d7[_0x5a72a8(0x1da)](_0x2765d7[_0x5a72a8(0x1d1)],avatarBase64),_0x338150[_0x5a72a8(0x36f)]['display']=_0x2765d7['UpkXu'];}}else console[_0x5a72a8(0x2c3)](_0x2765d7[_0x5a72a8(0x3ae)]);await _0x2765d7[_0x5a72a8(0x1f5)](loadRoomRoles),document[_0x5a72a8(0x213)](_0x5a72a8(0x2a4))[_0x5a72a8(0x3af)]=username,_0x2765d7[_0x5a72a8(0x356)](showScreen,_0x2765d7[_0x5a72a8(0x174)]);}function toggleRecording(){const _0x365879=_0x976738,_0x1051fe={'iFbCg':_0x365879(0x1db),'leVFO':_0x365879(0x225),'AzNWA':function(_0x70f1f1,_0x2884db){return _0x70f1f1&&_0x2884db;},'xTBir':function(_0x5f0ade){return _0x5f0ade();},'GHlsx':function(_0x288de6,_0x2d9961,_0x44abc8){return _0x288de6(_0x2d9961,_0x44abc8);},'hklad':function(_0x150b10,_0x39a9dc){return _0x150b10(_0x39a9dc);},'dFFvr':_0x365879(0x270)};isRecording?stopRecording():navigator[_0x365879(0x38e)][_0x365879(0x17b)]({'audio':!![]})[_0x365879(0x252)](_0x482db5=>{const _0x4fcc8f=_0x365879,_0x2293f6={'yXQoB':_0x1051fe[_0x4fcc8f(0x31c)],'CjOoD':function(_0xd08a20,_0x1772c0){const _0x45ecb9=_0x4fcc8f;return _0x1051fe[_0x45ecb9(0x303)](_0xd08a20,_0x1772c0);},'TMRwX':function(_0x11bae3){const _0x23f3d0=_0x4fcc8f;return _0x1051fe[_0x23f3d0(0x1f6)](_0x11bae3);}};mediaRecorder=new MediaRecorder(_0x482db5),mediaRecorder[_0x4fcc8f(0x329)](),isRecording=!![],document[_0x4fcc8f(0x213)](_0x4fcc8f(0x23c))['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x4fcc8f(0x25c)]=_0x54a5e7=>audioChunks['push'](_0x54a5e7[_0x4fcc8f(0x2b6)]),mediaRecorder[_0x4fcc8f(0x220)]=()=>{const _0x3a2947=_0x4fcc8f;clearTimeout(recordingTimer);const _0x671a4=new Blob(audioChunks,{'type':_0x1051fe[_0x3a2947(0x302)]}),_0x1d5527=new FileReader();_0x1d5527[_0x3a2947(0x1a0)]=()=>{const _0x4b7d52=_0x3a2947,_0x25dc44=_0x1d5527[_0x4b7d52(0x1cc)][_0x4b7d52(0x24e)](',')[0x1],_0x2fb0ab=db['ref']()['push']()[_0x4b7d52(0x17f)];db['ref']('rooms/'+roomCode+_0x4b7d52(0x286)+_0x2fb0ab)[_0x4b7d52(0x307)]({'msg':_0x2293f6[_0x4b7d52(0x2f7)],'audioBase64':_0x25dc44,'sender':username,'senderId':clientId,'timestamp':Date[_0x4b7d52(0x228)]()});},_0x1d5527[_0x3a2947(0x245)](_0x671a4);},recordingTimer=_0x1051fe[_0x4fcc8f(0x2ef)](setTimeout,()=>{const _0x37e59d=_0x4fcc8f;_0x2293f6[_0x37e59d(0x253)](mediaRecorder,isRecording)&&_0x2293f6[_0x37e59d(0x369)](stopRecording);},0x4e20);})[_0x365879(0x2a0)](_0x10aa43=>{const _0x44a842=_0x365879;_0x1051fe[_0x44a842(0x2fd)](alert,_0x1051fe['dFFvr']);});}function stopRecording(){const _0x1f8237=_0x976738,_0x1cd5ab={'LOtTl':function(_0x3a027c,_0x504752){return _0x3a027c&&_0x504752;},'SdJUm':_0x1f8237(0x23c)};_0x1cd5ab[_0x1f8237(0x2ad)](mediaRecorder,isRecording)&&(mediaRecorder[_0x1f8237(0x24a)](),isRecording=![],document[_0x1f8237(0x213)](_0x1cd5ab[_0x1f8237(0x25a)])[_0x1f8237(0x3af)]=_0x1f8237(0x2be));}window[_0x976738(0x16c)]=async()=>{const _0x1398f9=_0x976738,_0xc1210b={'SbQZj':function(_0xc73a01){return _0xc73a01();},'ciFCE':function(_0x323cf4){return _0x323cf4();},'cgupW':function(_0x5a73d0,_0x2dcef9){return _0x5a73d0(_0x2dcef9);}};_0xc1210b[_0x1398f9(0x352)](cleanupOldRooms),_0xc1210b[_0x1398f9(0x2dd)](setupSidebarBackHandler),_0xc1210b[_0x1398f9(0x352)](setupVisibilityAttention),_0xc1210b[_0x1398f9(0x352)](resetWebsiteData),_0xc1210b[_0x1398f9(0x357)](showScreen,_0x1398f9(0x31e));};function sanitizeUsername(_0x3f0c9f){const _0x4f7578=_0x976738;return _0x3f0c9f[_0x4f7578(0x2ee)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x488e11=_0x976738,_0x36ee33={'CAIoq':_0x488e11(0x333),'OcIyv':_0x488e11(0x348),'SOloA':_0x488e11(0x2b8),'Cqdjm':_0x488e11(0x2a4),'aNTiu':function(_0x2f25e2,_0x3932c6){return _0x2f25e2(_0x3932c6);},'IZzmW':_0x488e11(0x35e),'UYsLD':'profile_description','YzjPt':'❌\x20Username\x20already\x20taken.','hkoro':_0x488e11(0x2cc),'pAIjE':_0x488e11(0x19c),'kzicP':_0x488e11(0x2bb),'hXhWT':_0x488e11(0x1dc),'qjrrQ':function(_0x45f764,_0xc91dd5){return _0x45f764||_0xc91dd5;},'lwHNo':function(_0x8a0f82,_0x5713e5){return _0x8a0f82(_0x5713e5);},'oysUE':_0x488e11(0x209)},_0x368e7c=document[_0x488e11(0x213)](_0x36ee33[_0x488e11(0x292)])[_0x488e11(0x209)][_0x488e11(0x378)](),_0x33cc1f=document[_0x488e11(0x213)](_0x36ee33[_0x488e11(0x26a)])[_0x488e11(0x209)][_0x488e11(0x378)](),_0x5240f1=document[_0x488e11(0x213)](_0x36ee33[_0x488e11(0x188)]);if(_0x36ee33[_0x488e11(0x26e)](!_0x368e7c,!_0x33cc1f)){_0x5240f1['innerText']=_0x488e11(0x3a2),_0x5240f1[_0x488e11(0x36f)]['display']=_0x36ee33[_0x488e11(0x2da)];return;}const _0x41c652=_0x36ee33[_0x488e11(0x32d)](sanitizeUsername,_0x368e7c),_0x595a9b=db[_0x488e11(0x23f)](_0x488e11(0x2e4)+_0x41c652);_0x595a9b[_0x488e11(0x28c)](_0x36ee33[_0x488e11(0x22c)])[_0x488e11(0x252)](_0x12e9da=>{const _0x3cf5ae=_0x488e11;if(_0x12e9da[_0x3cf5ae(0x2a2)]())_0x5240f1['innerText']=_0x36ee33['YzjPt'],_0x5240f1[_0x3cf5ae(0x36f)]['display']=_0x36ee33['SOloA'];else{const _0x4b22b8={'username':_0x368e7c,'description':_0x33cc1f,'lastChanged':Date[_0x3cf5ae(0x228)](),'usernameHistory':[_0x368e7c]};_0x595a9b[_0x3cf5ae(0x307)](_0x4b22b8,_0x19ebee=>{const _0x280c15=_0x3cf5ae;if(_0x19ebee)console['error'](_0x36ee33[_0x280c15(0x305)],_0x19ebee),_0x5240f1[_0x280c15(0x3af)]=_0x36ee33[_0x280c15(0x237)],_0x5240f1['style']['display']=_0x36ee33['SOloA'];else{const _0x31bd6a=_0x280c15(0x2a5)[_0x280c15(0x24e)]('|');let _0x1a9484=0x0;while(!![]){switch(_0x31bd6a[_0x1a9484++]){case'0':document[_0x280c15(0x213)](_0x36ee33[_0x280c15(0x1b2)])[_0x280c15(0x3af)]=_0x368e7c;continue;case'1':localStorage['setItem'](_0x280c15(0x24f),_0x368e7c);continue;case'2':_0x36ee33['aNTiu'](showScreen,_0x36ee33['IZzmW']);continue;case'3':username=_0x368e7c;continue;case'4':localStorage[_0x280c15(0x2e3)](_0x36ee33[_0x280c15(0x20e)],_0x33cc1f);continue;}break;}}});}})[_0x488e11(0x2a0)](_0x50d5d7=>{const _0x527c91=_0x488e11;console['error']('Error\x20checking\x20username:',_0x50d5d7),_0x5240f1[_0x527c91(0x3af)]=_0x36ee33[_0x527c91(0x22e)],_0x5240f1[_0x527c91(0x36f)][_0x527c91(0x16e)]=_0x36ee33['SOloA'];});}function saveProfile(_0xb4b159,_0x485491,_0x5a2301){const _0x4bdbbf=_0x976738,_0xe4ff08={'Elknt':_0x4bdbbf(0x35e)},_0x56a57a=Date['now'](),_0x4589cd=[_0xb4b159];db[_0x4bdbbf(0x23f)]('profiles/'+_0x5a2301)[_0x4bdbbf(0x307)]({'username':_0xb4b159,'description':_0x485491,'lastChanged':_0x56a57a,'usernameHistory':_0x4589cd}),document['getElementById']('namePreview')[_0x4bdbbf(0x3af)]=_0xb4b159,showScreen(_0xe4ff08[_0x4bdbbf(0x28f)]);}function generateRoom(){const _0x4a5026=_0x976738,_0x2832e5={'bJIkz':function(_0x99b5cd,_0x3aa666){return _0x99b5cd+_0x3aa666;},'SttPV':_0x4a5026(0x19f)};roomCode=genRoomCode(),db[_0x4a5026(0x23f)](_0x2832e5[_0x4a5026(0x30c)](_0x2832e5[_0x4a5026(0x2a3)],roomCode))['set']({'active':!![],'created':Date[_0x4a5026(0x228)]()}),startChat();}function joinRoom(){const _0x13f248=_0x976738,_0x1222b4={'OLsQJ':function(_0x4fb534,_0x5a4d43){return _0x4fb534!==_0x5a4d43;},'GCoCz':function(_0x19a154){return _0x19a154();},'EkILb':function(_0x9e5028,_0x3192e2){return _0x9e5028(_0x3192e2);},'KBXBy':_0x13f248(0x2fe),'cBEPX':_0x13f248(0x1e7),'kZBdl':'Enter\x20a\x20valid\x20room\x20code','tGPob':function(_0x2f19da,_0x41b40b){return _0x2f19da===_0x41b40b;},'sPqsk':_0x13f248(0x184),'BTnuK':function(_0x326087,_0x31573d){return _0x326087+_0x31573d;},'jqBBD':'rooms/'},_0x1a8547=roomCode||document[_0x13f248(0x213)](_0x1222b4[_0x13f248(0x383)])['value']['trim']()[_0x13f248(0x272)]();if(!_0x1a8547)return alert(_0x1222b4[_0x13f248(0x362)]);roomCode=_0x1a8547;if(_0x1222b4[_0x13f248(0x1c2)](roomCode,STATIC_ROOM)){_0x1222b4['EkILb'](showScreen,_0x1222b4[_0x13f248(0x20f)]);return;}db['ref'](_0x1222b4[_0x13f248(0x233)](_0x1222b4[_0x13f248(0x350)],roomCode))['get']()[_0x13f248(0x252)](_0x31dbcd=>{const _0x4d08d9=_0x13f248;_0x31dbcd['exists']()&&_0x1222b4[_0x4d08d9(0x392)](_0x31dbcd[_0x4d08d9(0x384)]()['active'],![])?_0x1222b4['GCoCz'](startChat):_0x1222b4[_0x4d08d9(0x296)](alert,_0x1222b4[_0x4d08d9(0x1bf)]);});}async function startChat(){const _0x532fb6=_0x976738,_0x5b645c={'KQFsn':_0x532fb6(0x183),'MhkvJ':function(_0x3c2bc1,_0x833a96){return _0x3c2bc1(_0x833a96);},'qBuzN':_0x532fb6(0x35e),'blIRk':_0x532fb6(0x198),'Bjjcr':function(_0x292b2e,_0x3675ac){return _0x292b2e+_0x3675ac;},'YWaoh':_0x532fb6(0x328),'kMJvN':_0x532fb6(0x2b8),'sOrlB':_0x532fb6(0x251),'CZMwu':_0x532fb6(0x2ec),'ELRIt':function(_0x50029b,_0x184346){return _0x50029b===_0x184346;},'CSfnJ':_0x532fb6(0x381),'fBwXa':'addAnnouncementBtn','hhUSS':'none','QCcDY':_0x532fb6(0x217),'rhTXk':function(_0x16d5d2){return _0x16d5d2();},'VeCdn':_0x532fb6(0x2a9),'mMvJW':function(_0x42eebb){return _0x42eebb();}};if(!roomCode||!username)return _0x5b645c['MhkvJ'](alert,_0x5b645c[_0x532fb6(0x382)]),_0x5b645c[_0x532fb6(0x38f)](showScreen,_0x5b645c[_0x532fb6(0x29a)]);_0x5b645c['mMvJW'](listenForPauseState),listenForUserList(),await _0x5b645c[_0x532fb6(0x1b0)](loadRoomRoles),_0x5b645c[_0x532fb6(0x380)](listenForAnnouncement);const _0x4129f2=sanitizeUsername(username),_0x3465ef=db['ref']('users/'+roomCode+'/'+_0x4129f2),_0x2b44c3={'username':username,'online':!![],'lastOnline':firebase[_0x532fb6(0x25d)][_0x532fb6(0x197)]['TIMESTAMP']};_0x3465ef['set'](_0x2b44c3,_0x75794=>{const _0x25eee6=_0x532fb6;if(_0x75794)return alert(_0x5b645c[_0x25eee6(0x340)]),_0x5b645c['MhkvJ'](showScreen,_0x5b645c[_0x25eee6(0x29a)]);_0x3465ef[_0x25eee6(0x353)]()[_0x25eee6(0x2c1)]({'online':![],'lastOnline':Date[_0x25eee6(0x228)]()});const _0x6b9ce=document[_0x25eee6(0x213)](_0x5b645c[_0x25eee6(0x205)]);avatarBase64&&(_0x6b9ce[_0x25eee6(0x240)]=_0x5b645c['Bjjcr'](_0x5b645c[_0x25eee6(0x17c)],avatarBase64),_0x6b9ce['style']['display']=_0x5b645c[_0x25eee6(0x2b0)]),document[_0x25eee6(0x213)](_0x5b645c[_0x25eee6(0x2c4)])['innerHTML']=username+'\x20'+getRoleTag(_0x4129f2),document[_0x25eee6(0x213)](_0x5b645c['CZMwu'])[_0x25eee6(0x3af)]=_0x5b645c[_0x25eee6(0x1ab)](roomCode,STATIC_ROOM)?_0x25eee6(0x26b):roomCode,role===_0x5b645c[_0x25eee6(0x3a9)]||role===_0x25eee6(0x232)?document[_0x25eee6(0x213)](_0x5b645c[_0x25eee6(0x1dd)])[_0x25eee6(0x36f)][_0x25eee6(0x16e)]=_0x5b645c['kMJvN']:document[_0x25eee6(0x213)](_0x25eee6(0x299))['style'][_0x25eee6(0x16e)]=_0x5b645c[_0x25eee6(0x29c)],showScreen(_0x5b645c[_0x25eee6(0x17e)]),listenForMessages(),_0x5b645c[_0x25eee6(0x380)](listenForTyping),startInactivityTimer(),_0x5b645c[_0x25eee6(0x380)](trackPresence);});}async function fetchProfile(_0x24cdf4){const _0x57d91b=_0x976738,_0x4cedee=await db['ref'](_0x57d91b(0x2ff)+_0x24cdf4)[_0x57d91b(0x39a)]();if(!_0x4cedee[_0x57d91b(0x2a2)]())return null;return _0x4cedee[_0x57d91b(0x384)]();}function _0x2e9e(){const _0x226075=['zkEuA','LOtTl','YFWkG','odtmf','kMJvN','oyiJm','border','kIfov','userSidebar','\x27)\x22>+Mod</button>','data','height','block','qLFqn','porra','profileDescriptionInput','dick','<button\x20onclick=\x22muteUser(\x27','🎙️','YRusa','qOoda','update','authPasswordConfirm','warn','sOrlB','DQysC','PtXtR','none','IQSZF','sender','authUsername','show','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','aDEWb','PBaCP','requestPermission','state','userAgent','BqkWX','random','AoZih','Login','1xXlxii','xGaiI','nFHgA','unknown','SOloA','CewBg','<span\x20class=\x22sender-name\x22>','ciFCE','auVHA','SAOgr','ybsNV','avatarBase64','LFcaM','setItem','profiles/','PLHCX','rNxoz','classList','lSFDW','\x20deleted.','xEqJh','scrollTop','roomDisplay','dVAXH','replace','GHlsx','easy-chatroom.firebaseapp.com','\x20muted\x20for\x20','UdJpv','gVUTo','reload','\x27,\x2010)\x22>Mute\x2010m</button>','profileViewer','yXQoB','\x20is\x20typing...','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','xLNEm','985049198428','🔕\x20Disable\x20Notifications','hklad','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','auth/','pdgpn','title','iFbCg','AzNWA','<img\x20src=\x22data:image/png;base64,','CAIoq','7|5|0|6|1|2|4|3','set','HRgdJ','data:audio/webm;base64,','passwordError','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','bJIkz','volume','preventDefault','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Enter\x20your\x20new\x20username:','cKewc','all','You\x20got\x20a\x20message\x20from\x20','jInFn','WjQLs','createElement','bastard','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','\x0aName:\x20','staticPasswordInput','78uWXAMo','leVFO','LBZOw','authScreen','gHZUm','audioBase64','nPBdx','\x20promoted\x20to\x20Moderator!','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','562142ebRHfU','eoZlO','antispamBlocked/','rppRg','data:image/png;base64,','start','XLmgr','xLEzg','abYwx','lwHNo','KOIAm','hzXCb','click','uDdMO','4|5|3|1|2|0','Failed\x20to\x20save\x20profile:','antispamBlocked','innerHTML','remove','asshole','UNZOq','FHTDw','pgQEs','gccwU','messages','LuwTg','adminUserList','received','KQFsn','ecoPc','PBJKL','nxkPt','bICak','PfmOX','lYnxf','granted','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','XDRcV','xhFpc','child_added','lRbGY','vpdgi','DLviC','toLocaleTimeString','jqBBD','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','SbQZj','onDisconnect','zkVrj','dgyIq','MPycV','cgupW','equalTo','XhBzC','role','wnGgE','add','authSubmitBtn','roomChoiceScreen','sent','knNnU','⚠️\x20Failed\x20to\x20update\x20avatar.','kZBdl','ChjTn','popstate','passwordHash','plWIG','putang\x20ina','eDoJd','TMRwX','NevNB','Passwords\x20do\x20not\x20match.','djEsc','<img\x20src=\x22','FCZBw','style','VAVXf','atqTm','keypress','mgAXI','</small>','NSmYD','QCqUt','userList','trim','toLocaleString','#00ff88','snZJo','✅\x20Profile\x20picture\x20updated!','SCZuL','QvTYa','2px\x20solid\x20red','rhTXk','admin','VeCdn','cBEPX','val','notifToggleBtn','initializeApp','nIJAC','Unknown','sounds/beep.mp3','lzDuR','NQgaa','Profile\x20not\x20found.','width','mediaDevices','MhkvJ','VeMAl','3|0|2|4|1|5','OLsQJ','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','forEach','hhqxg','subtle','gREZv','ltGZj','\x27)\x22>Promote\x20to\x20Moderator</button>','get','yLTJy','SAFEB','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','orderByChild','visibilitychange','authDescription','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','editProfileScreen','bhHcU','New\x20Chat\x20Message','hvUal','7GKqWoL','authAvatar','CSfnJ','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','aGfad','IvFCK','DyQsA','rOZGm','innerText','toString','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','drBHL','onload','fuck','display','Room\x20password\x20not\x20set.\x20Cannot\x20join.','newPasswordInput','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','authAvatarPreview','flex','cCGPN','YkKZa','knipd','viaXU','caralho','No\x20bio\x20set','LgIKI','getUserMedia','YWaoh','usernameHistory','QCcDY','key','msg','moderators/','fdp','Failed\x20to\x20register\x20user\x20into\x20room.','passwordScreen','ipGMz','created','rooms','hXhWT','eYrBM','mIbiT','encode','appendChild','byOhv','ImJTC','Messages\x20by\x20','EZSDR','usernameScreen','Xyzlu','FsfsQ','zJoZQ','VZRfD','profileScreen','ServerValue','sidebarAvatarPreview','Username\x20already\x20exists.','JVKhT','announcementArea','profileUsernameInput','hAAlO','deleteMessage','rooms/','onloadend','fBvRh','lastChanged','muted/','ShZnw','<button\x20onclick=\x22promoteToModerator(\x27','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','color','puta','addEventListener','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','ELRIt','</li>','vXtKR','fFQMY','EZBHd','mMvJW','QdAuY','Cqdjm','back','typing/','lXoTS','play','mfIAo','eqEIq','jBtCQ','ULthF','1:985049198428:web:d0eb7e2de39887710c9b99','sXRnB','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','<br>','KBXBy','otario','bMDEW','tGPob','VWvdq','Admins\x20only.','authError','31417661ksUDst','YUPzz','emCpL','editBioInput','Incorrect\x20password.','</div>','result','qfrLM','description','substr','You\x20got\x20messages\x20from\x20','LbaOu','NCiwc','zSCAU','toLowerCase','GfKDf','Remove\x20Announcement?','length','disabled','daqNG','WWSRP','audio/webm','profileError','fBwXa','</span>','kCnBL','div','\x27)\x22>+Admin</button>','includes','content','rdCOR','aBvFV','PfuMb','roomCodeInput','<li>','username','entries','4|0|1|2|3','ewIvC','ulol','pausedOverlay','tYreK','SUhhP','QbOXP','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','pendejo','DOMContentLoaded','yhFEd','xTBir','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20','You\x20are\x20muted.','\x20minutes.','values','<audio\x20controls\x20src=\x22','Register','Rugpm','Incorrect\x20current\x20password.','/avatarBase64','OyoOV','BdOQi','yYfkm','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','UvZOI','blIRk','clear','error','antispam/','value','permission','admins/','uuWRY','XEHZr','UYsLD','sPqsk','kZEbC','Enter\x20Announcement\x20Text:','vhRaU','getElementById','LXNUq','\x27)\x22>Promote\x20to\x20Admin</button>','getItem','chatScreen','easy-chatroom.firebasestorage.app','2-digit','gago','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','dAfou','221195TTDbFO','5123984cMhLct','RbeSB','onstop','Room\x20is\x20currently\x20paused.','FwLXA','SSSWb','VZWnA','[Voice\x20message]','146313qpSLZY','txDWz','now','dApvI','vLnIP','mierda','oysUE','VqNNy','hkoro','bGrga','placeholder','IJevk','dev','BTnuK','gilipollas','Please\x20enter\x20your\x20current\x20password.','cmiri','OcIyv','EHYlt','detail','LLgZV','\x27)\x22>Delete\x20Msgs</button>','recordBtn','GJuTz','YpdyI','ref','src','lcIal','460RAcStw','floor','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','readAsDataURL','cWAWK','HsGWp','editProfileError','wImTL','stop','padStart','Account\x20not\x20found.','WOeQT','split','chat_username','avatar_base64','userDisplay','then','CjOoD','Sswhv','bitch','roomStates/','tMxvP','NXxLU','xXlhZ','SdJUm','aPxKo','ondataavailable','database','\x27)\x22>Delete\x20Messages</button>','ZkBIm','moderator','llveL','bwisit','Type\x20a\x20message...','msgInput','oxXOB','map','XiIuA','join','hidden','kzicP','No\x20room\x20code\x20available\x20for\x20private\x20rooms','hizbA','ebZzJ','qjrrQ','\x0aDescription:\x20','Microphone\x20permission\x20denied.','from','toUpperCase','contains','userOptions-','<button\x20onclick=\x22promoteToAdmin(\x27','TYBor','wuHXD','8747400VpkEuF','sRZAB','Session\x20expired.','2260299cmYBlZ','✅\x20Profile\x20updated!\x20Please\x20reload.','profileContent','easy-chatroom','KsKPm','bIFVi','ktFsB','<button\x20onclick=\x22deleteUserMessages(\x27','some','kYEGw','/paused','/messages/','user','mRrUi','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','filter','rztqG','once','users/','XIBra','Elknt','pbgwW','jweus','pAIjE','\x27,\x205)\x22>Mute\x205m</button>','BkXSd','jBXAw','EkILb','BxUaJ','uduOJ','addAnnouncementBtn','qBuzN','push','hhUSS','SQAkx','VnvQp','lMsvl','catch','files','exists','SttPV','namePreview','1|4|3|0|2','onlineStatus','sidebarOpen','input','Missing\x20room\x20or\x20user\x20information.','xpaIk','Hgdis'];_0x2e9e=function(){return _0x226075;};return _0x2e9e();}function validateStaticRoomPassword(){const _0x4ddf43=_0x976738,_0x17f58f={'gVUTo':_0x4ddf43(0x16f),'ZiOOW':function(_0x257dae,_0x5c11de){return _0x257dae===_0x5c11de;},'PfuMb':_0x4ddf43(0x30a),'zSCAU':'Incorrect\x20password','BdOQi':_0x4ddf43(0x2b8),'vpdgi':function(_0x3b2d5e,_0x12bf94){return _0x3b2d5e(_0x12bf94);},'GfKDf':_0x4ddf43(0x1aa),'KOkdZ':function(_0x4746c0,_0x4ab568){return _0x4746c0(_0x4ab568);},'aWEMM':'Please\x20enter\x20the\x20password.'},_0x471439=document['getElementById'](_0x4ddf43(0x31a))[_0x4ddf43(0x209)][_0x4ddf43(0x378)]();if(!_0x471439){_0x17f58f['KOkdZ'](alert,_0x17f58f['aWEMM']);return;}db[_0x4ddf43(0x23f)]('gr8stg/'+STATIC_ROOM)['get']()['then'](_0x2d5605=>{const _0x2ad598=_0x4ddf43;if(!_0x2d5605[_0x2ad598(0x2a2)]()){alert(_0x17f58f[_0x2ad598(0x2f3)]);return;}const _0x37a5bb=_0x2d5605[_0x2ad598(0x384)]();_0x17f58f['ZiOOW'](_0x471439,_0x37a5bb)?(roomCode=STATIC_ROOM,startChat()):(document[_0x2ad598(0x213)](_0x17f58f[_0x2ad598(0x1e6)])[_0x2ad598(0x3af)]=_0x17f58f[_0x2ad598(0x1d3)],document[_0x2ad598(0x213)](_0x17f58f[_0x2ad598(0x1e6)])[_0x2ad598(0x36f)][_0x2ad598(0x16e)]=_0x17f58f[_0x2ad598(0x201)]);})[_0x4ddf43(0x2a0)](_0x1e6c3e=>{const _0x5cb4a9=_0x4ddf43;console['error'](_0x1e6c3e),_0x17f58f[_0x5cb4a9(0x34d)](alert,_0x17f58f[_0x5cb4a9(0x1d5)]);});}function listenForPauseState(){const _0x45ea9b=_0x976738,_0x1eb102={'RgxJQ':function(_0x519a72,_0x23e943){return _0x519a72===_0x23e943;},'YRusa':'pausedOverlay','lSFDW':'block','EHYlt':_0x45ea9b(0x2c7),'jInFn':_0x45ea9b(0x209)};db[_0x45ea9b(0x23f)](_0x45ea9b(0x256)+roomCode+_0x45ea9b(0x285))['on'](_0x1eb102[_0x45ea9b(0x314)],_0x317fc7=>{const _0x1e96a7=_0x45ea9b,_0x507556=_0x317fc7['exists']()&&_0x1eb102['RgxJQ'](_0x317fc7[_0x1e96a7(0x384)](),!![]);document[_0x1e96a7(0x213)](_0x1eb102[_0x1e96a7(0x2bf)])[_0x1e96a7(0x36f)][_0x1e96a7(0x16e)]=_0x507556?_0x1eb102[_0x1e96a7(0x2e8)]:_0x1eb102[_0x1e96a7(0x238)];});}const spamTimestamps=[];async function sendMessage(){const _0x2f38c6=_0x976738,_0x7ff4a4={'ULthF':_0x2f38c6(0x263),'hvUal':function(_0x41a721,_0x587f03){return _0x41a721(_0x587f03);},'bnbaw':_0x2f38c6(0x1f8),'knNnU':function(_0x47f279,_0x205ba1){return _0x47f279===_0x205ba1;},'atqTm':function(_0x4954f6,_0x84e4f0){return _0x4954f6!==_0x84e4f0;},'plWIG':_0x2f38c6(0x232),'ktFsB':function(_0x32e378,_0x435204){return _0x32e378(_0x435204);},'nFHgA':_0x2f38c6(0x221),'pGpyX':_0x2f38c6(0x264),'XhBzC':function(_0x1c2249,_0x568dd4){return _0x1c2249||_0x568dd4;},'HLUka':'⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','AoZih':function(_0x4932bd,_0x5e14d7){return _0x4932bd>_0x5e14d7;},'wnGgE':_0x2f38c6(0x391),'mfIAo':function(_0x37a224,_0x2bf180,_0x71f694){return _0x37a224(_0x2bf180,_0x71f694);},'vhRaU':_0x2f38c6(0x323),'hhqxg':_0x2f38c6(0x39d),'MxFGy':_0x2f38c6(0x250)},_0x268bea=await db[_0x2f38c6(0x23f)](_0x2f38c6(0x1a3)+roomCode+'/'+sanitizeUsername(username))['get'](),_0x5d8a98=await db[_0x2f38c6(0x23f)]('roomStates/'+roomCode+_0x2f38c6(0x285))[_0x2f38c6(0x39a)]();if(_0x268bea[_0x2f38c6(0x2a2)]()&&_0x268bea[_0x2f38c6(0x384)]()>Date[_0x2f38c6(0x228)]()){_0x7ff4a4[_0x2f38c6(0x3a6)](alert,_0x7ff4a4['bnbaw']);return;}if(_0x5d8a98[_0x2f38c6(0x2a2)]()&&_0x7ff4a4[_0x2f38c6(0x360)](_0x5d8a98['val'](),!![])&&_0x7ff4a4[_0x2f38c6(0x371)](role,_0x7ff4a4[_0x2f38c6(0x366)])){_0x7ff4a4[_0x2f38c6(0x281)](alert,_0x7ff4a4[_0x2f38c6(0x2d8)]);return;}const _0x31a2a6=document['getElementById'](_0x7ff4a4['pGpyX']),_0x2f764f=_0x31a2a6['value'][_0x2f38c6(0x378)]();if(_0x7ff4a4[_0x2f38c6(0x359)](!_0x2f764f,isBlocked))return;const _0x4b697a=Date[_0x2f38c6(0x228)](),_0x37228d=_0x2f764f[_0x2f38c6(0x1d4)](),_0x23c28c=swearWords[_0x2f38c6(0x283)](_0x29ca2d=>_0x37228d[_0x2f38c6(0x1e2)](_0x29ca2d));if(_0x23c28c){_0x7ff4a4[_0x2f38c6(0x3a6)](alert,_0x7ff4a4['HLUka']);return;}spamTimestamps['push'](_0x4b697a);const _0x1193b4=spamTimestamps['filter'](_0x3aea83=>_0x4b697a-_0x3aea83<0x1b58);if(_0x7ff4a4[_0x2f38c6(0x2d4)](_0x1193b4[_0x2f38c6(0x1d7)],0x5)){const _0x163b76=_0x7ff4a4[_0x2f38c6(0x35b)][_0x2f38c6(0x24e)]('|');let _0x3cd858=0x0;while(!![]){switch(_0x163b76[_0x3cd858++]){case'0':_0x31a2a6['disabled']=!![];continue;case'1':_0x7ff4a4[_0x2f38c6(0x1b7)](setTimeout,()=>{const _0x17824c=_0x2f38c6;isBlocked=![],_0x31a2a6['disabled']=![],_0x31a2a6['placeholder']=_0x7ff4a4[_0x17824c(0x1ba)],spamTimestamps['length']=0x0;},0x7530);continue;case'2':_0x31a2a6[_0x2f38c6(0x230)]=_0x7ff4a4[_0x2f38c6(0x212)];continue;case'3':isBlocked=!![];continue;case'4':alert(_0x7ff4a4[_0x2f38c6(0x395)]);continue;case'5':return;}break;}}const _0x550cf1=localStorage['getItem'](_0x7ff4a4['MxFGy'])||'',_0x11b787=db[_0x2f38c6(0x23f)]()[_0x2f38c6(0x29b)]()[_0x2f38c6(0x17f)];db[_0x2f38c6(0x23f)]('rooms/'+roomCode+_0x2f38c6(0x286)+_0x11b787)[_0x2f38c6(0x307)]({'msg':_0x2f764f,'sender':username,'senderId':clientId,'avatarBase64':_0x550cf1,'timestamp':_0x4b697a}),_0x31a2a6['value']='',sendTyping(!![]),lastActivity=_0x4b697a;}function listenForMessages(){const _0x5326b9=_0x976738,_0xb194ab={'tMxvP':function(_0x3fb05d,_0x3aa619,_0x5a6651,_0x439290){return _0x3fb05d(_0x3aa619,_0x5a6651,_0x439290);},'SAFEB':function(_0x8b70d9,_0x8eb529){return _0x8b70d9===_0x8eb529;},'JVKhT':function(_0x2b8c2d,_0x1b0feb){return _0x2b8c2d!==_0x1b0feb;},'msXER':function(_0x31acd9){return _0x31acd9();},'viaXU':function(_0x5a7d9f,_0x3f9a90){return _0x5a7d9f&&_0x3f9a90;},'ybsNV':function(_0x5306aa,_0x904e2d,_0x54dd4d){return _0x5306aa(_0x904e2d,_0x54dd4d);},'kCnBL':'[Voice\x20Message]','emCpL':'[Unknown\x20Message]','hizbA':_0x5326b9(0x34b)},_0x1e8efc=db[_0x5326b9(0x23f)](_0x5326b9(0x19f)+roomCode+'/messages'),_0x4b3a74=_0x1e8efc['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x4b3a74['on'](_0xb194ab[_0x5326b9(0x26c)],_0x5068dc=>{const _0x3e5d22=_0x5326b9,_0x4ecc56=_0x5068dc[_0x3e5d22(0x384)](),{senderId:_0x1f2ee7}=_0x4ecc56,_0x540688=_0xb194ab[_0x3e5d22(0x39c)](_0x1f2ee7,clientId);if(!userListReady){pendingMessages[_0x3e5d22(0x394)](({data:_0x5d9a84,sent:_0x4a0526,key:_0x5283c8})=>{const _0x44a121=_0x3e5d22;_0xb194ab[_0x44a121(0x257)](addMessage,_0x5d9a84,_0x4a0526,_0x5283c8);}),pendingMessages=[];return;}const _0xe7c452=_0x4ecc56['audioUrl']||null,_0x2986cc=_0x4ecc56['audioBase64']||null;_0xb194ab[_0x3e5d22(0x257)](addMessage,_0x4ecc56,_0x540688,_0x5068dc[_0x3e5d22(0x17f)]),_0xb194ab[_0x3e5d22(0x19a)](roomCode,STATIC_ROOM)&&db['ref'](_0x3e5d22(0x19f)+roomCode+_0x3e5d22(0x286)+_0x5068dc[_0x3e5d22(0x17f)])['remove'](),!_0x540688&&(sound[_0x3e5d22(0x1b6)](),_0xb194ab['msXER'](flagPageAttention)),_0xb194ab[_0x3e5d22(0x177)](notificationsEnabled,!_0x540688)&&_0xb194ab[_0x3e5d22(0x2e0)](stackNotification,_0x4ecc56[_0x3e5d22(0x2c9)],_0x4ecc56[_0x3e5d22(0x180)]||(_0x4ecc56[_0x3e5d22(0x320)]?_0xb194ab[_0x3e5d22(0x1df)]:_0xb194ab[_0x3e5d22(0x1c8)]));});}function stackNotification(_0x2738e6,_0x561650){const _0x2191c7=_0x976738,_0x18611e={'dAfou':function(_0x2149ef){return _0x2149ef();},'rztqG':function(_0xe0ed64,_0x51e24b){return _0xe0ed64(_0x51e24b);},'VnvQp':function(_0x3ce8c4,_0x473114,_0x484f8b){return _0x3ce8c4(_0x473114,_0x484f8b);}};notificationStack[_0x2191c7(0x29b)]({'sender':_0x2738e6,'content':_0x561650}),_0x18611e[_0x2191c7(0x28b)](clearTimeout,notificationTimer),notificationTimer=_0x18611e[_0x2191c7(0x29e)](setTimeout,()=>{const _0x47b41c=_0x2191c7;_0x18611e[_0x47b41c(0x21c)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x309889=_0x976738,_0xc4382f={'NCiwc':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','ZaicV':function(_0x234f6b,_0x4afd42){return _0x234f6b!==_0x4afd42;},'xhFpc':_0x309889(0x347),'odtmf':function(_0x4682ea,_0x3c6972){return _0x4682ea||_0x3c6972;},'Hgdis':_0x309889(0x2d9)};if(!notificationStack['length']||_0xc4382f['ZaicV'](Notification[_0x309889(0x20a)],_0xc4382f[_0x309889(0x34a)]))return;const _0xbd3386=[...new Set(notificationStack['map'](_0x407be5=>_0x407be5[_0x309889(0x2c9)]))],_0x119617=_0xc4382f[_0x309889(0x2af)](roomCode,_0xc4382f[_0x309889(0x2ab)]),_0x482a9f=_0xbd3386[_0x309889(0x1d7)]===0x1?_0x309889(0x313)+_0xbd3386[0x0]+'\x20in\x20room\x20'+_0x119617+':\x20'+notificationStack[0x0][_0x309889(0x1e3)]:_0x309889(0x1d0)+_0xbd3386[_0x309889(0x268)](',\x20')+'\x20in\x20room\x20'+_0x119617;setTimeout(()=>{const _0xcd4a37=_0x309889;new Notification(_0xcd4a37(0x3a5),{'body':_0x482a9f,'icon':_0xc4382f[_0xcd4a37(0x1d2)]});},0x64);}async function addMessage(_0x2c7266,_0x4b2098,_0x102ee1=null){const _0x385382=_0x976738,_0x2def61={'qOoda':function(_0x140eb9,_0x4463f7){return _0x140eb9(_0x4463f7);},'XIBra':_0x385382(0x1e0),'lcIal':_0x385382(0x35f),'aGfad':'2-digit','hAAlO':function(_0x4500ad,_0x5ef82d){return _0x4500ad(_0x5ef82d);},'QbOXP':function(_0x515d35,_0x4343cf){return _0x515d35(_0x4343cf);},'HLhyr':_0x385382(0x33c)},{msg:_0x3de1a5,sender:_0x52c740,senderId:_0x3fd773,timestamp:_0x10280d,audioUrl:_0x4fe843,audioBase64:_0x6ef79a,imageBase64:_0x2a0f5c}=_0x2c7266,_0x54143f=_0x2def61[_0x385382(0x2c0)](sanitizeUsername,_0x52c740),_0x432931=document[_0x385382(0x316)](_0x2def61[_0x385382(0x28e)]);_0x432931[_0x385382(0x2e7)][_0x385382(0x35c)]('msg',_0x4b2098?_0x2def61[_0x385382(0x241)]:_0x385382(0x33f));const _0x4848ef=new Date(_0x10280d)[_0x385382(0x34f)]([],{'hour':_0x385382(0x219),'minute':_0x2def61[_0x385382(0x3ab)]}),_0x247e31=_0x2def61['hAAlO'](getRoleTag,_0x54143f),_0x1b6bd4=sanitizeUsername(_0x52c740),_0x505cb6=roomUsers[_0x1b6bd4]||{},_0x549ae4=await _0x2def61[_0x385382(0x1f1)](fetchAvatar,_0x2def61[_0x385382(0x19d)](sanitizeUsername,_0x52c740)),_0x2ec050=_0x549ae4?'<img\x20src=\x22data:image/png;base64,'+_0x549ae4+_0x385382(0x21b):'',_0x144c94=_0x2ec050+_0x385382(0x2dc)+_0x52c740+'\x20'+_0x247e31+_0x385382(0x1de);msgEl[_0x385382(0x335)]=_0x144c94+_0x385382(0x1be)+text,content+=_0x385382(0x1be);const _0x2b6368=_0x3de1a5?.[_0x385382(0x2ee)](new RegExp('@'+username+'\x5cb','gi'),_0x385382(0x16a));if(_0x4fe843)content+='<audio\x20controls\x20src=\x22'+_0x4fe843+_0x385382(0x3aa);else{if(_0x6ef79a){const _0x54b3e6=_0x385382(0x309)+_0x6ef79a;content+=_0x385382(0x1fb)+_0x54b3e6+_0x385382(0x3aa);}else{if(_0x2a0f5c){const _0x16dbde='data:image/png;base64,'+_0x2a0f5c;content+=_0x385382(0x36d)+_0x16dbde+_0x385382(0x39e);}else content+='<div>'+_0x2b6368+_0x385382(0x1cb);}}content+='<small>'+_0x4848ef+_0x385382(0x374),_0x432931['innerHTML']=content;const _0x1f6401=document['getElementById'](_0x2def61['HLhyr']);_0x1f6401[_0x385382(0x18c)](_0x432931),_0x1f6401[_0x385382(0x2eb)]=_0x1f6401['scrollHeight'];}function cleanupOldRooms(){const _0x323e1c=_0x976738,_0x1f21a2={'wuHXD':function(_0x44036f,_0x575c00){return _0x44036f===_0x575c00;},'byOhv':function(_0x3d4d67,_0x319605){return _0x3d4d67*_0x319605;},'ebZzJ':'antispam','bhHcU':_0x323e1c(0x209),'gREZv':_0x323e1c(0x334),'NXxLU':_0x323e1c(0x187)};db['ref'](_0x1f21a2[_0x323e1c(0x258)])[_0x323e1c(0x28c)](_0x323e1c(0x209))[_0x323e1c(0x252)](_0x565bc7=>{const _0x12460c=_0x323e1c,_0x5bb1e5={'YUPzz':function(_0x4335af,_0x1d91a6){return _0x4335af!==_0x1d91a6;}},_0x18e68c=_0x565bc7[_0x12460c(0x384)]();if(!_0x18e68c)return;const _0xc88b3=Date[_0x12460c(0x228)]();for(const _0x487e24 in _0x18e68c){if(_0x1f21a2[_0x12460c(0x277)](_0x487e24,STATIC_ROOM))continue;const _0x3645a3=_0x18e68c[_0x487e24];_0xc88b3-(_0x3645a3[_0x12460c(0x186)]||0x0)>_0x1f21a2[_0x12460c(0x18d)](_0x1f21a2['byOhv'](0x2,0x3c),0x3e8)&&db[_0x12460c(0x23f)](_0x12460c(0x19f)+_0x487e24)[_0x12460c(0x336)]();}db[_0x12460c(0x23f)](_0x1f21a2[_0x12460c(0x26d)])[_0x12460c(0x28c)](_0x1f21a2[_0x12460c(0x3a4)])[_0x12460c(0x252)](_0x35cec5=>{const _0x5c570a=_0x12460c,_0x5a48e3=_0x35cec5['val']();if(!_0x5a48e3)return;for(const _0x24f2af in _0x5a48e3){if(_0x24f2af!==STATIC_ROOM)db[_0x5c570a(0x23f)](_0x5c570a(0x208)+_0x24f2af)[_0x5c570a(0x336)]();}}),db[_0x12460c(0x23f)](_0x1f21a2[_0x12460c(0x397)])[_0x12460c(0x28c)](_0x1f21a2['bhHcU'])['then'](_0xfa892f=>{const _0x286df4=_0x12460c,_0x9088e5=_0xfa892f[_0x286df4(0x384)]();if(!_0x9088e5)return;for(const _0x52f8cb in _0x9088e5){if(_0x5bb1e5[_0x286df4(0x1c7)](_0x52f8cb,STATIC_ROOM))db[_0x286df4(0x23f)](_0x286df4(0x326)+_0x52f8cb)['remove']();}});});}document[_0x976738(0x1a9)](_0x976738(0x1f4),()=>{const _0x434624=_0x976738,_0x1a1a47={'xLNEm':function(_0x194d37,_0x5a7fd7){return _0x194d37===_0x5a7fd7;},'txDWz':'Enter','SAOgr':function(_0x6d5dca){return _0x6d5dca();},'mgAXI':_0x434624(0x264),'VZWnA':_0x434624(0x372)},_0x17e715=document[_0x434624(0x213)](_0x1a1a47[_0x434624(0x373)]);_0x17e715&&_0x17e715[_0x434624(0x1a9)](_0x1a1a47[_0x434624(0x224)],function(_0x89b014){const _0x2596c3=_0x434624;_0x1a1a47[_0x2596c3(0x2fa)](_0x89b014[_0x2596c3(0x17f)],_0x1a1a47[_0x2596c3(0x227)])&&(_0x89b014[_0x2596c3(0x30e)](),_0x1a1a47[_0x2596c3(0x2df)](sendMessage));});});function showScreen(_0x4f975d){const _0x3d8cd9=_0x976738,_0x595d6a={'uDdMO':_0x3d8cd9(0x191),'iefHf':'codeEntryScreen','nPBdx':_0x3d8cd9(0x217),'LgIKI':'passwordScreen','FbapD':_0x3d8cd9(0x196),'abYwx':_0x3d8cd9(0x2f6),'zkEuA':'authScreen','ltGZj':'flex'};[_0x595d6a[_0x3d8cd9(0x331)],_0x3d8cd9(0x35e),_0x595d6a['iefHf'],_0x595d6a[_0x3d8cd9(0x321)],_0x595d6a[_0x3d8cd9(0x17a)],_0x595d6a['FbapD'],_0x595d6a[_0x3d8cd9(0x32c)],_0x595d6a[_0x3d8cd9(0x2ac)]][_0x3d8cd9(0x394)](_0x78cbd4=>{const _0x273b5a=_0x3d8cd9;document['getElementById'](_0x78cbd4)[_0x273b5a(0x36f)][_0x273b5a(0x16e)]=_0x273b5a(0x2c7);}),document[_0x3d8cd9(0x213)](_0x4f975d)['style'][_0x3d8cd9(0x16e)]=_0x595d6a[_0x3d8cd9(0x398)];}function genRoomCode(){const _0x2e76c8=_0x976738,_0x126b27={'Xyzlu':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','ShZnw':'0123456789','rUISQ':function(_0x19dc61,_0x4e4324){return _0x19dc61+_0x4e4324;},'eoZlO':function(_0x51df3c,_0x10ea7f){return _0x51df3c+_0x10ea7f;},'xEqJh':function(_0x5b45f7,_0x129571,_0x2ffed3){return _0x5b45f7(_0x129571,_0x2ffed3);},'drBHL':function(_0x3f8295,_0x2d8c7c,_0x42739b){return _0x3f8295(_0x2d8c7c,_0x42739b);}},_0x4ca1a3=_0x126b27[_0x2e76c8(0x192)],_0x35331b=_0x126b27[_0x2e76c8(0x1a4)],_0x1b890=(_0x37c011,_0xab7c02)=>Array[_0x2e76c8(0x271)]({'length':_0xab7c02},()=>_0x37c011[Math[_0x2e76c8(0x243)](Math['random']()*_0x37c011['length'])])[_0x2e76c8(0x268)]('');return _0x126b27['rUISQ'](_0x126b27[_0x2e76c8(0x325)](_0x126b27['eoZlO'](_0x126b27[_0x2e76c8(0x2ea)](_0x1b890,_0x35331b,0x3),_0x1b890(_0x4ca1a3,0x3)),_0x126b27[_0x2e76c8(0x2ea)](_0x1b890,_0x35331b,0x2)),_0x126b27[_0x2e76c8(0x16b)](_0x1b890,_0x4ca1a3,0x2));}function startInactivityTimer(){const _0x5397ff={'OUXge':function(_0x34d82e,_0x2acf08){return _0x34d82e>_0x2acf08;},'Sswhv':function(_0x2a58c3,_0x1a37fb){return _0x2a58c3*_0x1a37fb;},'rdCOR':function(_0x43828c,_0x412cd6){return _0x43828c!==_0x412cd6;},'mIbiT':function(_0x197fd7,_0x48b282){return _0x197fd7+_0x48b282;},'tYreK':function(_0x2c8d3a,_0x56ca73){return _0x2c8d3a(_0x56ca73);},'ydibc':function(_0x10a112,_0x8306ac,_0x1752a8){return _0x10a112(_0x8306ac,_0x1752a8);}};_0x5397ff['ydibc'](setInterval,()=>{const _0x2a8a62=_0x5b36;_0x5397ff['OUXge'](Date['now']()-lastActivity,_0x5397ff[_0x2a8a62(0x254)](_0x5397ff['Sswhv'](0x5,0x3c),0x3e8))&&_0x5397ff[_0x2a8a62(0x1e4)](roomCode,STATIC_ROOM)&&(db[_0x2a8a62(0x23f)](_0x5397ff[_0x2a8a62(0x18a)](_0x2a8a62(0x19f),roomCode))[_0x2a8a62(0x2c1)]({'active':![]}),_0x5397ff[_0x2a8a62(0x1ef)](alert,_0x2a8a62(0x27a)),location[_0x2a8a62(0x2f4)]());},0x7530);}function setupSidebarBackHandler(){const _0x5719aa=_0x976738,_0x3e5133={'bIFVi':_0x5719aa(0x2b4),'ecoPc':_0x5719aa(0x2cb),'VeMAl':_0x5719aa(0x364)};window[_0x5719aa(0x1a9)](_0x3e5133[_0x5719aa(0x390)],()=>{const _0x1e88b0=_0x5719aa,_0x15bb3e=document[_0x1e88b0(0x213)](_0x3e5133[_0x1e88b0(0x280)]);_0x15bb3e?.['classList']['contains'](_0x3e5133[_0x1e88b0(0x341)])&&_0x15bb3e[_0x1e88b0(0x2e7)][_0x1e88b0(0x336)](_0x1e88b0(0x2cb));});}function toggleSidebar(){const _0x395c3f=_0x976738,_0x506505={'LBZOw':_0x395c3f(0x2b4),'LLgZV':'show'},_0x4b0fd8=document['getElementById'](_0x506505[_0x395c3f(0x31d)]);if(!_0x4b0fd8[_0x395c3f(0x2e7)][_0x395c3f(0x273)](_0x506505[_0x395c3f(0x23a)]))_0x4b0fd8[_0x395c3f(0x2e7)][_0x395c3f(0x35c)](_0x506505[_0x395c3f(0x23a)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x4b0fd8['classList']['remove'](_0x506505[_0x395c3f(0x23a)]);if(history[_0x395c3f(0x2d0)]?.[_0x395c3f(0x2a7)])history[_0x395c3f(0x1b3)]();}}function setupVisibilityAttention(){const _0x4f7951=_0x976738,_0xbc78e={'vXtKR':_0x4f7951(0x3a0)};let _0x5414b6=0x0,_0x46d14c=document[_0x4f7951(0x301)];document[_0x4f7951(0x1a9)](_0xbc78e[_0x4f7951(0x1ad)],()=>{const _0x156ae3=_0x4f7951;!document[_0x156ae3(0x269)]&&(document['title']=_0x46d14c,_0x5414b6=0x0);}),window['flagPageAttention']=function(){const _0x30dfe0=_0x4f7951;document[_0x30dfe0(0x269)]&&(_0x5414b6++,document[_0x30dfe0(0x301)]='('+_0x5414b6+')\x20New\x20message\x20•\x20'+_0x46d14c);};}function tryEditProfile(){const _0x4e6bd9=_0x976738,_0x553181={'rWrXE':_0x4e6bd9(0x3a3)};document['getElementById'](_0x553181['rWrXE'])[_0x4e6bd9(0x36f)]['display']=_0x4e6bd9(0x173);}async function submitEditProfile(){const _0x225e54=_0x976738,_0x42611f={'EZBHd':_0x225e54(0x170),'ewIvC':_0x225e54(0x1c9),'ikhLm':_0x225e54(0x248),'BqkWX':'block','Rugpm':_0x225e54(0x38c),'LFcaM':function(_0x38c5a8,_0x387aae){return _0x38c5a8(_0x387aae);},'wImTL':function(_0xbc278b,_0x4a42cb){return _0xbc278b!==_0x4a42cb;},'kZEbC':_0x225e54(0x1fe),'MAyEp':function(_0x1a295e,_0x17201b){return _0x1a295e(_0x17201b);},'nxkPt':function(_0xfc8e70,_0x1e8bb2){return _0xfc8e70*_0x1e8bb2;},'qfrLM':function(_0x5448bd,_0x390613){return _0x5448bd*_0x390613;},'GJuTz':function(_0x26282a,_0x4614f9){return _0x26282a-_0x4614f9;},'cKewc':_0x225e54(0x2f9),'FHTDw':function(_0x25addb,_0x305a7f){return _0x25addb(_0x305a7f);},'YpdyI':_0x225e54(0x310),'PLHCX':function(_0xa51725,_0x2ce7f7){return _0xa51725(_0x2ce7f7);},'gHZUm':function(_0x3881bf,_0x26b86e){return _0x3881bf(_0x26b86e);},'xpaIk':_0x225e54(0x27c)},_0x26f1cb=document[_0x225e54(0x213)]('oldPasswordInput')[_0x225e54(0x209)],_0x325dbd=document[_0x225e54(0x213)](_0x42611f[_0x225e54(0x1af)])[_0x225e54(0x209)],_0x3c054a=document[_0x225e54(0x213)](_0x42611f[_0x225e54(0x1ec)])[_0x225e54(0x209)][_0x225e54(0x378)](),_0x509c42=document['getElementById'](_0x42611f['ikhLm']);if(!_0x26f1cb){_0x509c42['innerText']=_0x225e54(0x235),_0x509c42[_0x225e54(0x36f)][_0x225e54(0x16e)]=_0x42611f[_0x225e54(0x2d2)];return;}const _0x2d2e9d=sanitizeUsername(username),_0xc21fa5=await db[_0x225e54(0x23f)](_0x225e54(0x2ff)+_0x2d2e9d)[_0x225e54(0x39a)]();if(!_0xc21fa5[_0x225e54(0x2a2)]()){_0x509c42[_0x225e54(0x3af)]=_0x42611f[_0x225e54(0x1fd)],_0x509c42[_0x225e54(0x36f)][_0x225e54(0x16e)]=_0x42611f[_0x225e54(0x2d2)];return;}const _0x244064=_0xc21fa5['val'](),_0x349de6=await _0x42611f[_0x225e54(0x2e2)](sha256,_0x26f1cb);if(_0x42611f[_0x225e54(0x249)](_0x349de6,_0x244064[_0x225e54(0x365)])){_0x509c42[_0x225e54(0x3af)]=_0x42611f[_0x225e54(0x210)],_0x509c42['style'][_0x225e54(0x16e)]=_0x42611f[_0x225e54(0x2d2)];return;}const _0x49e1f6={};if(_0x325dbd){const _0xe7c07e=await _0x42611f['MAyEp'](sha256,_0x325dbd);_0x49e1f6[_0x225e54(0x365)]=_0xe7c07e;}_0x42611f[_0x225e54(0x249)](_0x3c054a,_0x244064[_0x225e54(0x1ce)])&&(_0x49e1f6[_0x225e54(0x1ce)]=_0x3c054a);const _0x37eb6c=Date[_0x225e54(0x228)](),_0x4f1594=_0x42611f[_0x225e54(0x343)](_0x42611f['nxkPt'](_0x42611f[_0x225e54(0x1cd)](0x18,0x3c),0x3c),0x3e8),_0x1a8fd0=_0x42611f[_0x225e54(0x23d)](_0x37eb6c,_0x244064['lastChanged']||0x0)>_0x4f1594;if(_0x1a8fd0&&_0x42611f[_0x225e54(0x2e2)](confirm,_0x42611f[_0x225e54(0x311)])){const _0x432d27=_0x42611f[_0x225e54(0x339)](prompt,_0x42611f[_0x225e54(0x23e)]);_0x432d27&&_0x432d27['trim']()&&(_0x49e1f6[_0x225e54(0x1e9)]=_0x432d27[_0x225e54(0x378)](),_0x49e1f6['usernameHistory']=(_0x244064[_0x225e54(0x17d)]||[])['concat'](_0x432d27[_0x225e54(0x378)]()),_0x49e1f6[_0x225e54(0x1a2)]=_0x37eb6c);}_0x49e1f6[_0x225e54(0x1e9)]&&_0x42611f['wImTL'](_0x49e1f6[_0x225e54(0x1e9)],_0x244064[_0x225e54(0x1e9)])?(await db[_0x225e54(0x23f)]('auth/'+_0x42611f[_0x225e54(0x2e5)](sanitizeUsername,_0x49e1f6[_0x225e54(0x1e9)]))[_0x225e54(0x307)]({..._0x244064,..._0x49e1f6}),await db[_0x225e54(0x23f)](_0x225e54(0x2ff)+_0x2d2e9d)[_0x225e54(0x336)](),username=_0x49e1f6[_0x225e54(0x1e9)]):await db[_0x225e54(0x23f)]('auth/'+_0x2d2e9d)[_0x225e54(0x2c1)](_0x49e1f6),_0x42611f[_0x225e54(0x31f)](alert,_0x42611f[_0x225e54(0x2aa)]),location[_0x225e54(0x2f4)]();}function cancelEditProfile(){const _0x43f3a1=_0x976738,_0x22130e={'WjQLs':_0x43f3a1(0x3a3),'UwCph':_0x43f3a1(0x2c7),'lYnxf':function(_0x5b080f,_0x5cd645){return _0x5b080f(_0x5cd645);}};document['getElementById'](_0x22130e[_0x43f3a1(0x315)])[_0x43f3a1(0x36f)][_0x43f3a1(0x16e)]=_0x22130e['UwCph'],_0x22130e[_0x43f3a1(0x346)](showScreen,_0x43f3a1(0x217));}function listenForUserList(){const _0x3305c8=_0x976738,_0x2942a8={'QvTYa':function(_0x298467){return _0x298467();},'VAVXf':function(_0xa22a32,_0xbe9b45){return _0xa22a32(_0xbe9b45);},'snZJo':_0x3305c8(0x209)};db[_0x3305c8(0x23f)](_0x3305c8(0x28d)+roomCode)['on'](_0x2942a8[_0x3305c8(0x37b)],async _0x224358=>{const _0x21a55c=_0x3305c8;if(!_0x224358[_0x21a55c(0x2a2)]())return;const _0x1928a6=_0x224358['val']();await _0x2942a8[_0x21a55c(0x37e)](loadRoomRoles),_0x2942a8[_0x21a55c(0x370)](renderUserLists,_0x1928a6);});}function trackPresence(){const _0x41c78e=_0x976738,_0x392acf={'CewBg':function(_0x24836b){return _0x24836b();},'YTnhL':function(_0x4468c1,_0x3f1f97){return _0x4468c1||_0x3f1f97;},'dVAXH':function(_0x17582b,_0x33b721){return _0x17582b(_0x33b721);},'KPJRG':function(_0x18fd7d,_0x4bd0b4){return _0x18fd7d||_0x4bd0b4;},'czthS':_0x41c78e(0x209)};if(_0x392acf['YTnhL'](!username,!roomCode))return;const _0x45712d=_0x392acf[_0x41c78e(0x2ed)](sanitizeUsername,username),_0x14b362=db['ref'](_0x41c78e(0x28d)+roomCode+'/'+_0x45712d),_0x20a102={'username':username,'avatarBase64':avatarBase64||'','description':_0x392acf['KPJRG'](userDescription,''),'online':!![],'lastOnline':firebase[_0x41c78e(0x25d)][_0x41c78e(0x197)]['TIMESTAMP']};db[_0x41c78e(0x23f)]('admins/'+roomCode+'/'+_0x45712d)[_0x41c78e(0x28c)](_0x392acf['czthS'])['then'](_0x352993=>{const _0x3566ef=_0x41c78e;_0x352993[_0x3566ef(0x2a2)]()&&(_0x20a102['admin']=!![]),_0x14b362[_0x3566ef(0x307)](_0x20a102),_0x14b362[_0x3566ef(0x353)]()[_0x3566ef(0x2c1)]({'online':![],'lastOnline':Date[_0x3566ef(0x228)]()}),_0x392acf[_0x3566ef(0x2db)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x2c0f69){const _0x4969f2=_0x976738,_0x2527dd={'DLviC':_0x4969f2(0x198),'vFTfh':_0x4969f2(0x2b8),'TYBor':function(_0x4e974e,_0x29ca1b){return _0x4e974e(_0x29ca1b);},'QdAuY':function(_0x23bd84,_0x2fa06e){return _0x23bd84(_0x2fa06e);},'pbgwW':_0x4969f2(0x37c)};if(!_0x2c0f69['files']['length'])return;const _0x4cc387=_0x2c0f69[_0x4969f2(0x2a1)][0x0],_0x2d8334=new FileReader();_0x2d8334[_0x4969f2(0x1a0)]=async()=>{const _0x14a2f3=_0x4969f2,_0x42de97=_0x2d8334[_0x14a2f3(0x1cc)][_0x14a2f3(0x24e)](',')[0x1];document[_0x14a2f3(0x213)](_0x2527dd[_0x14a2f3(0x34e)])['src']=_0x2d8334[_0x14a2f3(0x1cc)],document[_0x14a2f3(0x213)](_0x2527dd[_0x14a2f3(0x34e)])['style'][_0x14a2f3(0x16e)]=_0x2527dd['vFTfh'];try{const _0x414025=_0x2527dd[_0x14a2f3(0x276)](sanitizeUsername,username);await db['ref'](_0x14a2f3(0x2ff)+_0x414025+_0x14a2f3(0x1ff))['set'](_0x42de97),_0x2527dd[_0x14a2f3(0x1b1)](alert,_0x2527dd[_0x14a2f3(0x290)]);}catch(_0x4b8f60){console[_0x14a2f3(0x207)](_0x4b8f60),_0x2527dd[_0x14a2f3(0x276)](alert,_0x14a2f3(0x361));}},_0x2d8334['readAsDataURL'](_0x4cc387);}function muteUser(_0x45a239,_0x431c26){const _0x2c883d=_0x976738,_0x34afee={'VZRfD':function(_0x3c98bf,_0x4a2466){return _0x3c98bf(_0x4a2466);},'HsGWp':function(_0x148524,_0x599c90){return _0x148524+_0x599c90;},'BkXSd':function(_0x5a847a,_0x3848f3){return _0x5a847a*_0x3848f3;}};if(!isRoomAdmin)return _0x34afee['VZRfD'](alert,_0x2c883d(0x1c4));const _0x161ce9=_0x34afee[_0x2c883d(0x247)](Date[_0x2c883d(0x228)](),_0x34afee[_0x2c883d(0x294)](_0x34afee[_0x2c883d(0x294)](_0x431c26,0x3c),0x3e8));db[_0x2c883d(0x23f)](_0x2c883d(0x1a3)+roomCode+'/'+_0x34afee[_0x2c883d(0x195)](sanitizeUsername,_0x45a239))[_0x2c883d(0x307)](_0x161ce9);}function unmuteUser(_0x267f18){const _0x5d7252=_0x976738,_0x53a230={'KsKPm':function(_0x235816,_0x58a108){return _0x235816(_0x58a108);},'sjffA':'Admins\x20only.'};if(!isRoomAdmin)return _0x53a230[_0x5d7252(0x27f)](alert,_0x53a230['sjffA']);db[_0x5d7252(0x23f)]('muted/'+roomCode+'/'+_0x53a230['KsKPm'](sanitizeUsername,_0x267f18))['remove']();}function updateOnlineIndicator(){const _0x3ad78b=_0x976738,_0x2c47e4={'kIfov':'●\x20Online'},_0x3a8a96=document[_0x3ad78b(0x213)](_0x3ad78b(0x2a6));_0x3a8a96[_0x3ad78b(0x3af)]=_0x2c47e4[_0x3ad78b(0x2b3)],_0x3a8a96['style'][_0x3ad78b(0x1a7)]=_0x3ad78b(0x37a);}setInterval(updateOnlineIndicator,0xbb8);function _0x5b36(_0x160698,_0x1d7c89){const _0x2e9eac=_0x2e9e();return _0x5b36=function(_0x5b361b,_0x192a87){_0x5b361b=_0x5b361b-0x16a;let _0x440e4e=_0x2e9eac[_0x5b361b];return _0x440e4e;},_0x5b36(_0x160698,_0x1d7c89);}function viewProfile(_0x4acee8){const _0x5c2635=_0x976738,_0x514a11={'jXDrp':function(_0x6cbd11,_0x1526f5){return _0x6cbd11(_0x1526f5);},'SQAkx':_0x5c2635(0x38c),'KYRbN':'No\x20changes\x20yet','DJqLD':_0x5c2635(0x27d),'LXNUq':_0x5c2635(0x2f6),'YkKZa':_0x5c2635(0x2b8)};db[_0x5c2635(0x23f)]('auth/'+_0x4acee8)[_0x5c2635(0x39a)]()[_0x5c2635(0x252)](_0x2ba8bc=>{const _0x5a1f67=_0x5c2635;if(!_0x2ba8bc[_0x5a1f67(0x2a2)]())return _0x514a11['jXDrp'](alert,_0x514a11[_0x5a1f67(0x29d)]);const _0x3f425b=_0x2ba8bc[_0x5a1f67(0x384)](),_0x4cfa16=(_0x5a1f67(0x319)+_0x3f425b[_0x5a1f67(0x1e9)]+_0x5a1f67(0x26f)+(_0x3f425b[_0x5a1f67(0x1ce)]||_0x5a1f67(0x179))+'\x0aUsername\x20History:\x20'+((_0x3f425b[_0x5a1f67(0x17d)]||[])[_0x5a1f67(0x268)](',\x20')||_0x514a11['KYRbN'])+'\x0aLast\x20Changed:\x20'+(_0x3f425b[_0x5a1f67(0x1a2)]?new Date(_0x3f425b[_0x5a1f67(0x1a2)])[_0x5a1f67(0x379)]():_0x5a1f67(0x388))+'\x0a\x20\x20\x20\x20')['trim']();document['getElementById'](_0x514a11['DJqLD'])['innerText']=_0x4cfa16,document[_0x5a1f67(0x213)](_0x514a11[_0x5a1f67(0x214)])[_0x5a1f67(0x36f)][_0x5a1f67(0x16e)]=_0x514a11[_0x5a1f67(0x175)];});}function initUsernameFlow(){const _0x190195=_0x976738,_0x45ead7={'UdJpv':function(_0x32985a,_0x156ba0){return _0x32985a(_0x156ba0);},'bbAyq':_0x190195(0x196),'lRbGY':_0x190195(0x35e)},_0xed3603=localStorage[_0x190195(0x216)](_0x190195(0x24f));!_0xed3603?_0x45ead7[_0x190195(0x2f2)](showScreen,_0x45ead7['bbAyq']):(username=_0xed3603,document['getElementById'](_0x190195(0x2a4))['innerText']=username,_0x45ead7[_0x190195(0x2f2)](showScreen,_0x45ead7[_0x190195(0x34c)]));}function closeProfile(){const _0x56bd65=_0x976738,_0x46b88e={'oxXOB':_0x56bd65(0x2f6)};document[_0x56bd65(0x213)](_0x46b88e[_0x56bd65(0x265)])[_0x56bd65(0x36f)][_0x56bd65(0x16e)]=_0x56bd65(0x2c7);}function resetWebsiteData(){const _0x5264d9=_0x976738,_0x1a4bee={'GyQUC':_0x5264d9(0x1eb),'LuwTg':function(_0x42e564,_0x8598c7){return _0x42e564+_0x8598c7;}};try{localStorage['clear'](),sessionStorage[_0x5264d9(0x206)]();}catch(_0x4fd08d){}if(!username||!roomCode){const _0x5d93ca=_0x1a4bee['GyQUC'][_0x5264d9(0x24e)]('|');let _0x1e5277=0x0;while(!![]){switch(_0x5d93ca[_0x1e5277++]){case'0':roomCode=null;continue;case'1':isRoomAdmin=![];continue;case'2':pendingMessages=[];continue;case'3':clientId=_0x1a4bee[_0x5264d9(0x33d)]('_',Math['random']()[_0x5264d9(0x3b0)](0x24)[_0x5264d9(0x1cf)](0x2,0x9));continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x36d961=_0x976738,_0x545d9e={'vLnIP':function(_0x6e60b9,_0x190c29){return _0x6e60b9(_0x190c29);}},_0x490319=_0x545d9e[_0x36d961(0x22a)](prompt,_0x36d961(0x211));if(!_0x490319)return;db[_0x36d961(0x23f)](_0x36d961(0x19f)+roomCode+'/announcement')[_0x36d961(0x307)]({'text':_0x490319,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x564609=_0x976738,_0x4f382b={'dApvI':_0x564609(0x19b),'hLfbj':_0x564609(0x209)},_0x7420af=db['ref'](_0x564609(0x19f)+roomCode+'/announcement');_0x7420af['on'](_0x4f382b['hLfbj'],_0xfac3a1=>{const _0x42890e=_0x564609,_0xe8c95b=_0xfac3a1[_0x42890e(0x384)]();if(!_0xe8c95b){document[_0x42890e(0x213)](_0x4f382b['dApvI'])[_0x42890e(0x3af)]='';return;}const _0x1eb38d=document[_0x42890e(0x213)](_0x4f382b[_0x42890e(0x229)]);_0x1eb38d[_0x42890e(0x3af)]=''+_0xe8c95b['text'];});}document['getElementById']('announcementArea')[_0x976738(0x1a9)](_0x976738(0x330),_0x3d5385=>{const _0x4f8a54=_0x976738,_0x2ed5da={'knipd':function(_0x9a3a08,_0x4d92d4){return _0x9a3a08===_0x4d92d4;}};_0x2ed5da[_0x4f8a54(0x176)](_0x3d5385[_0x4f8a54(0x239)],0x3)&&isRoomAdmin&&(confirm(_0x4f8a54(0x1d6))&&db[_0x4f8a54(0x23f)]('rooms/'+roomCode+'/announcement')[_0x4f8a54(0x336)]());}),document[_0x976738(0x213)](_0x976738(0x264))[_0x976738(0x1a9)](_0x976738(0x2a8),()=>{const _0x2202d2=_0x976738,_0x58242c={'JjcnB':_0x2202d2(0x264),'FsfsQ':_0x2202d2(0x37f)},_0x35b884=document['getElementById'](_0x58242c['JjcnB']);_0x156948?_0x35b884[_0x2202d2(0x36f)][_0x2202d2(0x2b2)]=_0x58242c[_0x2202d2(0x193)]:_0x35b884[_0x2202d2(0x36f)][_0x2202d2(0x2b2)]='';const _0x305f92=_0x35b884['value']['toLowerCase'](),_0x156948=swearWords[_0x2202d2(0x283)](_0x55e326=>_0x305f92[_0x2202d2(0x1e2)](_0x55e326));_0x156948?(_0x35b884[_0x2202d2(0x36f)][_0x2202d2(0x2b2)]=_0x58242c['FsfsQ'],sendBtn['disabled']=!![]):(_0x35b884[_0x2202d2(0x36f)][_0x2202d2(0x2b2)]='',sendBtn[_0x2202d2(0x1d8)]=![]);});function muteUser(_0xf3b148,_0x2230a1){const _0x449060=_0x976738,_0x239d1d={'auVHA':function(_0x2a3776,_0xc9a67a){return _0x2a3776+_0xc9a67a;},'JFySc':function(_0x22b66e,_0x55b554){return _0x22b66e*_0x55b554;},'RbeSB':function(_0x1f3b15,_0x3818d5){return _0x1f3b15(_0x3818d5);}},_0x50c20e=_0x239d1d[_0x449060(0x2de)](Date['now'](),_0x239d1d['JFySc'](_0x2230a1,0x3c)*0x3e8);db[_0x449060(0x23f)](_0x449060(0x1a3)+roomCode+'/'+_0x239d1d[_0x449060(0x21f)](sanitizeUsername,_0xf3b148))[_0x449060(0x307)]({'muteUntil':_0x50c20e})[_0x449060(0x252)](()=>{const _0x1c14fa=_0x449060;alert(_0xf3b148+_0x1c14fa(0x2f1)+_0x2230a1+_0x1c14fa(0x1f9));});}function deleteUserMessages(_0x3251a9){const _0x3f4753=_0x976738,_0x4d0e1e={'yYfkm':function(_0x2937b8,_0x4ef6a1){return _0x2937b8(_0x4ef6a1);},'bGrga':_0x3f4753(0x2c9)};db[_0x3f4753(0x23f)]('rooms/'+roomCode+'/messages')[_0x3f4753(0x39f)](_0x4d0e1e[_0x3f4753(0x22f)])[_0x3f4753(0x358)](_0x3251a9)['get']()['then'](_0xea5299=>{const _0x324a9a=_0x3f4753;_0xea5299[_0x324a9a(0x394)](_0x2198f7=>{const _0x110203=_0x324a9a;db[_0x110203(0x23f)](_0x110203(0x19f)+roomCode+_0x110203(0x286)+_0x2198f7[_0x110203(0x17f)])[_0x110203(0x336)]();}),_0x4d0e1e[_0x324a9a(0x202)](alert,_0x324a9a(0x18f)+_0x3251a9+_0x324a9a(0x2e9));});}function pauseRoom(_0x4ce84e){const _0x5ed783=_0x976738,_0x4b71bb={'gccwU':_0x5ed783(0x1ee),'QCqUt':_0x5ed783(0x2b8)};db['ref'](_0x5ed783(0x19f)+roomCode+'/paused')['on'](_0x5ed783(0x209),_0xeca723=>{const _0x98132f=_0x5ed783,_0x2b5d7a=_0xeca723[_0x98132f(0x384)]();document[_0x98132f(0x213)](_0x4b71bb[_0x98132f(0x33b)])[_0x98132f(0x36f)]['display']=_0x2b5d7a?_0x4b71bb[_0x98132f(0x376)]:_0x98132f(0x2c7);});}function canPerformAction(_0x1cb24a){const _0x541d79=_0x976738,_0x1b682b={'lXoTS':function(_0x4c1dfc,_0x2e7920){return _0x4c1dfc===_0x2e7920;},'daqNG':_0x541d79(0x232),'xNuGp':function(_0x274188,_0x3bd58a){return _0x274188===_0x3bd58a;},'pdgpn':'mute','UNZOq':_0x541d79(0x381),'WOeQT':'promote','qLFqn':function(_0x5dbae3,_0x53d324){return _0x5dbae3===_0x53d324;}};if(_0x1b682b['lXoTS'](role,_0x1b682b[_0x541d79(0x1d9)]))return!![];if(_0x1b682b['xNuGp'](_0x1cb24a,_0x1b682b[_0x541d79(0x300)])||_0x1cb24a==='deleteMessage')return role===_0x1b682b[_0x541d79(0x338)]||role===_0x541d79(0x260);if(_0x1b682b[_0x541d79(0x1b5)](_0x1cb24a,_0x1b682b[_0x541d79(0x24d)]))return _0x1b682b[_0x541d79(0x2b9)](role,_0x1b682b[_0x541d79(0x338)]);return![];}const html=Object[_0x976738(0x1fa)](roomUsers)[_0x976738(0x266)](_0x5d2544=>{const _0x5f2652=_0x976738,_0x23bf85={'ChjTn':function(_0xb60b8f,_0x4e577f){return _0xb60b8f(_0x4e577f);},'uuWRY':function(_0x59c79b,_0x1fb7d8){return _0x59c79b!==_0x1fb7d8;},'uduOJ':function(_0x507979,_0x2bb469){return _0x507979(_0x2bb469);},'RJyim':'mute','sXRnB':_0x5f2652(0x19e),'XDRcV':function(_0x35f090,_0x359e7c){return _0x35f090===_0x359e7c;},'NevNB':'dev','FZyYj':function(_0x5b25ce,_0x110bb4){return _0x5b25ce===_0x110bb4;},'lMsvl':_0x5f2652(0x381)},_0x16cae7=_0x23bf85[_0x5f2652(0x363)](sanitizeUsername,_0x5d2544[_0x5f2652(0x1e9)]),_0x1f8bf8=[];if(_0x23bf85[_0x5f2652(0x20c)](_0x16cae7,_0x23bf85[_0x5f2652(0x298)](sanitizeUsername,username))){canPerformAction(_0x23bf85['RJyim'])&&(_0x1f8bf8[_0x5f2652(0x29b)]('<button\x20onclick=\x22muteUser(\x27'+_0x16cae7+_0x5f2652(0x293)),_0x1f8bf8[_0x5f2652(0x29b)](_0x5f2652(0x2bd)+_0x16cae7+_0x5f2652(0x2f5)));canPerformAction(_0x23bf85[_0x5f2652(0x1bc)])&&_0x1f8bf8[_0x5f2652(0x29b)](_0x5f2652(0x282)+_0x16cae7+_0x5f2652(0x25e));if(_0x23bf85[_0x5f2652(0x349)](role,_0x23bf85[_0x5f2652(0x36a)]))_0x1f8bf8[_0x5f2652(0x29b)](_0x5f2652(0x1a5)+_0x16cae7+_0x5f2652(0x399)),_0x1f8bf8[_0x5f2652(0x29b)](_0x5f2652(0x275)+_0x16cae7+_0x5f2652(0x215));else _0x23bf85['FZyYj'](role,_0x23bf85[_0x5f2652(0x29f)])&&_0x1f8bf8[_0x5f2652(0x29b)](_0x5f2652(0x1a5)+_0x16cae7+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x5f2652(0x1f7)+_0x5d2544[_0x5f2652(0x1e9)]+'\x20'+_0x23bf85[_0x5f2652(0x363)](getRoleTag,_0x23bf85[_0x5f2652(0x298)](sanitizeUsername,_0x5d2544['username']))+_0x5f2652(0x1f2)+_0x16cae7+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1f8bf8['join']('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x16cae7+_0x5f2652(0x393);})[_0x976738(0x268)]('');function promoteToModerator(_0x2dd530){const _0x50c2ac=_0x976738,_0x1ed51f={'NQgaa':_0x50c2ac(0x232),'WPrtB':function(_0x53d1bf,_0x1b6124){return _0x53d1bf!==_0x1b6124;},'xYzlT':_0x50c2ac(0x381),'fFQMY':_0x50c2ac(0x318)};if(role!==_0x1ed51f[_0x50c2ac(0x38b)]&&_0x1ed51f['WPrtB'](role,_0x1ed51f['xYzlT'])){alert(_0x1ed51f[_0x50c2ac(0x1ae)]);return;}db[_0x50c2ac(0x23f)](_0x50c2ac(0x181)+roomCode+'/'+sanitizeUsername(_0x2dd530))[_0x50c2ac(0x307)](!![])[_0x50c2ac(0x252)](()=>{const _0x2e3332=_0x50c2ac;alert(_0x2dd530+_0x2e3332(0x322));});}function promoteToAdmin(_0x20b7a4){const _0x478284=_0x976738,_0x2ff58c={'UvZOI':function(_0x552533,_0x1c5eac){return _0x552533(_0x1c5eac);},'mRrUi':function(_0x50d8dd,_0x5a91bf){return _0x50d8dd!==_0x5a91bf;},'XLmgr':_0x478284(0x232),'xLEzg':_0x478284(0x171)};if(_0x2ff58c[_0x478284(0x288)](role,_0x2ff58c[_0x478284(0x32a)])){alert(_0x2ff58c[_0x478284(0x32b)]);return;}db['ref'](_0x478284(0x20b)+roomCode+'/'+_0x2ff58c['UvZOI'](sanitizeUsername,_0x20b7a4))[_0x478284(0x307)](!![])[_0x478284(0x252)](()=>{const _0x28479a=_0x478284;_0x2ff58c[_0x28479a(0x204)](alert,_0x20b7a4+'\x20promoted\x20to\x20Admin!');});}function toggleUserOptions(_0x3a1892){const _0x1dd8ba=_0x976738,_0x43a58e={'rNxoz':function(_0x291678,_0x444fd7){return _0x291678===_0x444fd7;},'jBtCQ':_0x1dd8ba(0x2c7),'eYrBM':_0x1dd8ba(0x2b8)},_0x360c3e=document['getElementById'](_0x1dd8ba(0x274)+_0x3a1892);_0x43a58e[_0x1dd8ba(0x2e6)](_0x360c3e['style']['display'],_0x43a58e['jBtCQ'])?_0x360c3e[_0x1dd8ba(0x36f)][_0x1dd8ba(0x16e)]=_0x43a58e[_0x1dd8ba(0x189)]:_0x360c3e[_0x1dd8ba(0x36f)][_0x1dd8ba(0x16e)]=_0x43a58e[_0x1dd8ba(0x1b9)];}function getRoleTag(_0x27526d){const _0x2dff01=_0x976738,_0x45e8e5={'cSQnt':function(_0x19bb59,_0x180f30){return _0x19bb59(_0x180f30);}},_0x5bd470=_0x45e8e5['cSQnt'](sanitizeUsername,_0x27526d);if(globalDevs[_0x2dff01(0x1e2)](_0x5bd470))return _0x2dff01(0x351);if(roomAdmins[_0x2dff01(0x1e2)](_0x5bd470))return _0x2dff01(0x30b);if(roomModerators['includes'](_0x5bd470))return _0x2dff01(0x1a6);return'';}async function loadRoomRoles(){const _0x44a181=_0x976738,_0x30cd11={'sXbZU':_0x44a181(0x232),'hzXCb':'moderator','FCZBw':_0x44a181(0x287)},_0x2a9bb6=sanitizeUsername(username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x687b98=await db[_0x44a181(0x23f)]('auth')[_0x44a181(0x39a)]();_0x687b98[_0x44a181(0x394)](_0x295f3d=>{const _0x514c3d=_0x44a181;if(_0x295f3d[_0x514c3d(0x384)]()[_0x514c3d(0x35a)]===_0x30cd11['sXbZU'])globalDevs[_0x514c3d(0x29b)](_0x295f3d[_0x514c3d(0x17f)]);});const _0x18126c=await db[_0x44a181(0x23f)](_0x44a181(0x20b)+roomCode)[_0x44a181(0x39a)]();_0x18126c[_0x44a181(0x2a2)]()&&_0x18126c['forEach'](_0x17346b=>roomAdmins['push'](_0x17346b['key']));const _0x40ef3f=await db[_0x44a181(0x23f)](_0x44a181(0x181)+roomCode)['get']();_0x40ef3f[_0x44a181(0x2a2)]()&&_0x40ef3f[_0x44a181(0x394)](_0x450445=>roomModerators[_0x44a181(0x29b)](_0x450445[_0x44a181(0x17f)]));if(globalDevs[_0x44a181(0x1e2)](_0x2a9bb6))role=_0x44a181(0x232);else{if(roomAdmins['includes'](_0x2a9bb6))role=_0x44a181(0x381);else roomModerators[_0x44a181(0x1e2)](_0x2a9bb6)?role=_0x30cd11[_0x44a181(0x32f)]:role=_0x30cd11[_0x44a181(0x36e)];}}async function renderUserLists(_0x2be2d3){const _0xae822d=_0x976738,_0x2fdba7={'aPxKo':function(_0x1b6087,_0xf78066){return _0x1b6087(_0xf78066);},'xGaiI':function(_0xb005c1,_0x4eb75e){return _0xb005c1(_0x4eb75e);},'NSmYD':function(_0x9d9e20,_0x506428){return _0x9d9e20(_0x506428);},'EZSDR':function(_0x42c597,_0x2992f7){return _0x42c597===_0x2992f7;},'lzDuR':function(_0x1e8392,_0x22a194){return _0x1e8392(_0x22a194);},'llveL':_0xae822d(0x232),'zkVrj':function(_0x1fde93,_0x5ada13){return _0x1fde93===_0x5ada13;},'BxUaJ':'admin','VqNNy':_0xae822d(0x260),'PtXtR':function(_0xa7341c,_0x256737){return _0xa7341c===_0x256737;},'SSSWb':function(_0x1f830c,_0xc66675){return _0x1f830c===_0xc66675;},'XiIuA':function(_0x3df328,_0x3cc1cc){return _0x3df328(_0x3cc1cc);},'ipGMz':function(_0x59539d,_0x56f69b){return _0x59539d===_0x56f69b;},'rppRg':function(_0x189101,_0x7c2fb1){return _0x189101===_0x7c2fb1;},'dgyIq':'adminControlsSection','cmiri':'none','pgQEs':_0xae822d(0x377)},_0x3bcaf5=sanitizeUsername(username),_0x5e9c1a=_0x2fdba7[_0xae822d(0x190)](role,_0x2fdba7[_0xae822d(0x261)])||_0x2fdba7[_0xae822d(0x185)](role,_0x2fdba7[_0xae822d(0x297)])||_0x2fdba7[_0xae822d(0x327)](role,_0x2fdba7[_0xae822d(0x22d)]);document[_0xae822d(0x213)](_0x2fdba7[_0xae822d(0x355)])['style'][_0xae822d(0x16e)]=_0x5e9c1a?'block':_0x2fdba7[_0xae822d(0x236)];const _0xf316a5=Object[_0xae822d(0x1ea)](_0x2be2d3)['map'](async([_0x4c6ed9,_0x28440e])=>{const _0x23af2c=_0xae822d,_0x26a1f0=_0x2fdba7[_0x23af2c(0x25b)](sanitizeUsername,_0x28440e['username']||_0x4c6ed9),_0x4b42ba=await _0x2fdba7[_0x23af2c(0x2d7)](fetchAvatar,_0x26a1f0),_0xa7bcbb=_0x4b42ba?_0x23af2c(0x304)+_0x4b42ba+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'';return _0x23af2c(0x1e8)+_0xa7bcbb+'👤\x20'+(_0x28440e[_0x23af2c(0x1e9)]||_0x4c6ed9)+'\x20'+_0x2fdba7[_0x23af2c(0x2d7)](getRoleTag,_0x26a1f0)+_0x23af2c(0x1ac);}),_0x184685=await Promise[_0xae822d(0x312)](_0xf316a5);document['getElementById'](_0x2fdba7[_0xae822d(0x33a)])['innerHTML']=_0x184685[_0xae822d(0x268)]('');if(!_0x5e9c1a)return;const _0x303522=Object['entries'](_0x2be2d3)['map'](async([_0x20555d,_0x3693f4])=>{const _0x4b941e=_0xae822d,_0x2d822a=_0x2fdba7[_0x4b941e(0x375)](sanitizeUsername,_0x3693f4[_0x4b941e(0x1e9)]||_0x20555d);if(_0x2fdba7[_0x4b941e(0x190)](_0x2d822a,_0x3bcaf5))return'';const _0x58f484=await _0x2fdba7[_0x4b941e(0x38a)](fetchAvatar,_0x2d822a),_0x321e5e=_0x58f484?_0x4b941e(0x304)+_0x58f484+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x1ae5ad=[];(role===_0x2fdba7[_0x4b941e(0x261)]||_0x2fdba7[_0x4b941e(0x354)](role,_0x2fdba7[_0x4b941e(0x297)])||role===_0x2fdba7[_0x4b941e(0x22d)])&&(_0x1ae5ad[_0x4b941e(0x29b)](_0x4b941e(0x2bd)+_0x2d822a+_0x4b941e(0x293)),_0x1ae5ad[_0x4b941e(0x29b)]('<button\x20onclick=\x22muteUser(\x27'+_0x2d822a+_0x4b941e(0x2f5)));(_0x2fdba7[_0x4b941e(0x2c6)](role,_0x4b941e(0x232))||_0x2fdba7['zkVrj'](role,_0x2fdba7[_0x4b941e(0x297)]))&&_0x1ae5ad['push'](_0x4b941e(0x282)+_0x2d822a+_0x4b941e(0x23b));if(_0x2fdba7[_0x4b941e(0x223)](role,_0x2fdba7[_0x4b941e(0x261)]))_0x1ae5ad['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x2d822a+'\x27)\x22>+Mod</button>'),_0x1ae5ad['push'](_0x4b941e(0x275)+_0x2d822a+_0x4b941e(0x1e1));else _0x2fdba7[_0x4b941e(0x223)](role,_0x2fdba7[_0x4b941e(0x297)])&&_0x1ae5ad[_0x4b941e(0x29b)](_0x4b941e(0x1a5)+_0x2d822a+_0x4b941e(0x2b5));return _0x4b941e(0x30f)+_0x321e5e+'🔧\x20'+(_0x3693f4[_0x4b941e(0x1e9)]||_0x20555d)+'\x20'+_0x2fdba7[_0x4b941e(0x267)](getRoleTag,_0x2d822a)+_0x4b941e(0x203)+_0x1ae5ad[_0x4b941e(0x268)]('\x20')+_0x4b941e(0x244);}),_0x64f71a=await Promise[_0xae822d(0x312)](_0x303522);document[_0xae822d(0x213)](_0xae822d(0x33e))[_0xae822d(0x335)]=_0x64f71a['join']('');}async function fetchAvatar(_0x4099d7){const _0x554e73=_0x976738;if(userAvatars[_0x4099d7])return userAvatars[_0x4099d7];const _0x1910c0=await db[_0x554e73(0x23f)](_0x554e73(0x2ff)+_0x4099d7)[_0x554e73(0x39a)]();if(_0x1910c0[_0x554e73(0x2a2)]()&&_0x1910c0['val']()['avatarBase64'])return userAvatars[_0x4099d7]=_0x1910c0[_0x554e73(0x384)]()[_0x554e73(0x2e1)],userAvatars[_0x4099d7];return null;}function sendTyping(){const _0xf83615=_0x976738,_0x18a905={'xXlhZ':function(_0x44acd7,_0x23a64c){return _0x44acd7(_0x23a64c);}},_0x471617=_0x18a905[_0xf83615(0x259)](sanitizeUsername,username);db['ref']('typing/'+roomCode+'/'+_0x471617)[_0xf83615(0x307)](Date[_0xf83615(0x228)]());}function listenForTyping(){const _0x26b72e=_0x976738,_0x1554ee={'eDoJd':function(_0x26a738,_0x53d7ca){return _0x26a738!==_0x53d7ca;},'hUirh':function(_0x538d36,_0x1850ab){return _0x538d36(_0x1850ab);},'VWvdq':function(_0x149c68,_0x51374d){return _0x149c68(_0x51374d);},'SCZuL':'typing','SUhhP':_0x26b72e(0x209)};db[_0x26b72e(0x23f)](_0x26b72e(0x1b4)+roomCode)['on'](_0x1554ee[_0x26b72e(0x1f0)],_0x4b6dcd=>{const _0x5ac1ab=_0x26b72e,_0x2f1304=document[_0x5ac1ab(0x213)](_0x1554ee[_0x5ac1ab(0x37d)]);if(!_0x4b6dcd['exists']()){_0x2f1304[_0x5ac1ab(0x3af)]='';return;}const _0x243797=Object[_0x5ac1ab(0x1ea)](_0x4b6dcd[_0x5ac1ab(0x384)]())[_0x5ac1ab(0x28a)](([_0x243fce,_0x36ea56])=>{const _0x27d238=_0x5ac1ab;return _0x1554ee[_0x27d238(0x368)](_0x1554ee['hUirh'](sanitizeUsername,_0x243fce),_0x1554ee[_0x27d238(0x1c3)](sanitizeUsername,username));});_0x243797[_0x5ac1ab(0x1d7)]?_0x2f1304[_0x5ac1ab(0x3af)]=_0x243797[_0x5ac1ab(0x266)](([_0x25e79b])=>_0x25e79b)['join'](',\x20')+_0x5ac1ab(0x2f8):_0x2f1304[_0x5ac1ab(0x3af)]='';});}