const _0x533934=_0x1801;(function(_0x571d8b,_0x35329c){const _0xf82d95=_0x1801,_0x1feb52=_0x571d8b();while(!![]){try{const _0x10e47a=parseInt(_0xf82d95(0xd2))/0x1+parseInt(_0xf82d95(0xce))/0x2+-parseInt(_0xf82d95(0xfe))/0x3*(-parseInt(_0xf82d95(0xed))/0x4)+parseInt(_0xf82d95(0xd4))/0x5*(-parseInt(_0xf82d95(0x12b))/0x6)+-parseInt(_0xf82d95(0x104))/0x7+parseInt(_0xf82d95(0xfb))/0x8+parseInt(_0xf82d95(0x11e))/0x9;if(_0x10e47a===_0x35329c)break;else _0x1feb52['push'](_0x1feb52['shift']());}catch(_0x301646){_0x1feb52['push'](_0x1feb52['shift']());}}}(_0x5f0a,0x2f6b8));const firebaseConfig={'apiKey':_0x533934(0x113),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x533934(0xaa),'projectId':_0x533934(0xc5),'storageBucket':_0x533934(0x127),'messagingSenderId':_0x533934(0xe4),'appId':_0x533934(0xee),'measurementId':_0x533934(0x9b)};firebase[_0x533934(0x96)](firebaseConfig);const db=firebase[_0x533934(0xf5)]();let messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x533934(0xbd)]()[_0x533934(0xb0)](0x24)[_0x533934(0xb2)](0x2,0x9),lastActivity=Date[_0x533934(0x98)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x533934(0xa3),MAX_MESSAGES=0x1f4,sound=new Audio(_0x533934(0xbe));sound[_0x533934(0x102)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer;function toggleRecording(){const _0x2fa315=_0x533934;isRecording?stopRecording():navigator['mediaDevices'][_0x2fa315(0xe8)]({'audio':!![]})['then'](_0x3b5251=>{const _0x3ecde1=_0x2fa315;mediaRecorder=new MediaRecorder(_0x3b5251),mediaRecorder[_0x3ecde1(0xc7)](),isRecording=!![],document[_0x3ecde1(0x12c)](_0x3ecde1(0x9e))[_0x3ecde1(0xde)]='â¹ï¸',audioChunks=[],mediaRecorder[_0x3ecde1(0x92)]=_0x24862d=>audioChunks[_0x3ecde1(0xc2)](_0x24862d['data']),mediaRecorder[_0x3ecde1(0x136)]=()=>{const _0x5ec442=_0x3ecde1;clearTimeout(recordingTimer);const _0x43a29f=new Blob(audioChunks,{'type':_0x5ec442(0xa9)}),_0x1e7075=new FileReader();_0x1e7075[_0x5ec442(0xb1)]=()=>{const _0x1b7674=_0x5ec442,_0x21ef22=_0x1e7075[_0x1b7674(0x11f)][_0x1b7674(0xd0)](',')[0x1],_0x4daba6=db[_0x1b7674(0xcf)]()[_0x1b7674(0xc2)]()[_0x1b7674(0xe6)];db[_0x1b7674(0xcf)]('rooms/'+roomCode+'/messages/'+_0x4daba6)[_0x1b7674(0xcd)]({'msg':_0x1b7674(0x121),'audioBase64':_0x21ef22,'sender':username,'senderId':clientId,'timestamp':Date[_0x1b7674(0x98)]()});},_0x1e7075[_0x5ec442(0xad)](_0x43a29f);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})[_0x2fa315(0x132)](_0x107ddd=>{const _0x493e3d=_0x2fa315;alert(_0x493e3d(0xec));});}function stopRecording(){const _0x384910=_0x533934;mediaRecorder&&isRecording&&(mediaRecorder[_0x384910(0x129)](),isRecording=![],document[_0x384910(0x12c)](_0x384910(0x9e))[_0x384910(0xde)]=_0x384910(0x116));}function _0x5f0a(){const _0x5c4cfd=['Profile\x20not\x20found.','back','Missing\x20room\x20or\x20user\x20information.','staticPasswordInput','users/','profileError','random','sounds/beep.mp3','\x20typing...','#888','username','push','trim','roomChoiceScreen','easy-chatroom','gr8stg','start','<small>','usernameInput','filter','codeEntryScreen','onload','set','592050edjgNm','ref','split','toUpperCase','133845uDLtBF','scrollHeight','35APeLXz','profileUsernameInput','TIMESTAMP','description','hidden','remove','classList','setItem','profiles/','Enter\x20a\x20valid\x20room\x20code','innerText','No\x20room\x20code\x20available\x20for\x20private\x20rooms','div','visibilitychange','createElement','Please\x20enter\x20a\x20valid\x20name','985049198428','value','key','/messages','getUserMedia','forEach','userDisplay','<li\x20style=\x22color:','Microphone\x20permission\x20denied.','4wJmfoi','1:985049198428:web:d0eb7e2de39887710c9b99','No\x20bio\x20set','contains','rooms/','appendChild','replace','<audio\x20controls\x20src=\x22','database','Enter','/messages/','length','</li>','reload','858432JtApMg','pushState','rooms','9483JCJfjU','â›”\x20You\x27re\x20blocked\x20for\x20','antispamBlocked/','0123456789','volume','/typing','1452010tiyGIA','</small>','orderByChild','data:audio/webm;base64,','map','passwordScreen','flagPageAttention','from','userList','add','none','join','You\x20can\x20change\x20your\x20profile\x20again\x20in\x20','show','getItem','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','ceil','child_added','ðŸŽ™ï¸','\x22\x20style=\x22width:100%;margin-top:5px;\x22></audio>','popstate','received','msg','ðŸš«\x20You\x27ve\x20been\x20blocked\x20for\x2030\x20seconds\x20due\x20to\x20spamming.','passwordError','s\x20due\x20to\x20spam.\x20Please\x20wait.','955809gutAAn','result','profile_description','[Voice\x20message]','preventDefault','values','update','block','val','easy-chatroom.firebasestorage.app','\x0aLast\x20Changed:\x20','stop','messages','209892tkJQAg','getElementById','/typing/','title','profileDescriptionInput','chatScreen','sidebarOpen','catch','active','typing','toLocaleString','onstop','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','lastChanged','ABCDEFGHIJKLMNOPQRSTUVWXYZ','equalTo','#00ff88',';cursor:pointer;\x22\x20onclick=\x22viewProfile(\x27','get','\x0aHistory:\x0a','ondataavailable','chat_username','created','lastOnline','initializeApp','state','now','profileContent','display','G-QDESJ2WR42','profileScreen','exists','recordBtn','2-digit','flex','addEventListener','audioUrl','050BBB66HH','limitToLast','</span><br>','\x0a\x20\x20\x20\x20','antispam/','innerHTML','audio/webm','https://easy-chatroom-default-rtdb.firebaseio.com','roomDisplay','usernameScreen','readAsDataURL','once','style','toString','onloadend','substr','msgInput','usernameHistory','then','senderId'];_0x5f0a=function(){return _0x5c4cfd;};return _0x5f0a();}window[_0x533934(0xcc)]=()=>{cleanupOldRooms(),setupSidebarBackHandler(),initUsernameFlow(),setupVisibilityAttention();};function sanitizeUsername(_0x47f17b){const _0x59b927=_0x533934;return _0x47f17b[_0x59b927(0xf3)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3002a1=_0x533934,_0x4ee42e=document[_0x3002a1(0x12c)](_0x3002a1(0xd5))[_0x3002a1(0xe5)][_0x3002a1(0xc3)](),_0x555768=document[_0x3002a1(0x12c)](_0x3002a1(0x12f))[_0x3002a1(0xe5)][_0x3002a1(0xc3)](),_0x3ef2cd=document[_0x3002a1(0x12c)](_0x3002a1(0xbc));if(!_0x4ee42e||!_0x555768){_0x3ef2cd['innerText']=_0x3002a1(0x137),_0x3ef2cd[_0x3002a1(0xaf)]['display']=_0x3002a1(0x125);return;}_0x3ef2cd[_0x3002a1(0xaf)]['display']='none',username=_0x4ee42e;const _0x2b1626=Date[_0x3002a1(0x98)](),_0x4dadb6=sanitizeUsername(_0x4ee42e),_0x1741a6=db[_0x3002a1(0xcf)](_0x3002a1(0xdc)+_0x4dadb6);_0x1741a6[_0x3002a1(0x90)]()[_0x3002a1(0xb5)](_0x5a23b2=>{const _0x34e437=_0x3002a1,_0x42cac5=_0x5a23b2[_0x34e437(0x126)]()||{},_0x179550=_0x42cac5[_0x34e437(0xb4)]||[];if(!_0x179550['includes'](_0x4ee42e))_0x179550['push'](_0x4ee42e);_0x1741a6[_0x34e437(0xcd)]({'username':_0x4ee42e,'description':_0x555768,'lastChanged':_0x2b1626,'usernameHistory':_0x179550}),localStorage[_0x34e437(0xdb)](_0x34e437(0x93),_0x4ee42e),localStorage['setItem'](_0x34e437(0x120),_0x555768),document[_0x34e437(0x12c)]('namePreview')[_0x34e437(0xde)]=username,showScreen(_0x34e437(0xc4));});}function saveUsername(){const _0x2da12a=_0x533934,_0x1364e4=document[_0x2da12a(0x12c)](_0x2da12a(0xc9))[_0x2da12a(0xe5)]['trim']();if(!_0x1364e4)return alert(_0x2da12a(0xe3));username=_0x1364e4,localStorage[_0x2da12a(0xdb)](_0x2da12a(0x93),username),initUsernameFlow();}function generateRoom(){const _0x561201=_0x533934;roomCode=genRoomCode(),db[_0x561201(0xcf)](_0x561201(0xf1)+roomCode)[_0x561201(0xcd)]({'active':!![],'created':Date[_0x561201(0x98)]()}),startChat();}function joinRoom(){const _0x1e7092=_0x533934,_0x8eece1=roomCode||document[_0x1e7092(0x12c)]('roomCodeInput')['value'][_0x1e7092(0xc3)]()[_0x1e7092(0xd1)]();if(!_0x8eece1)return alert(_0x1e7092(0xdd));roomCode=_0x8eece1;if(roomCode===STATIC_ROOM){showScreen(_0x1e7092(0x109));return;}db['ref'](_0x1e7092(0xf1)+roomCode)[_0x1e7092(0x90)]()['then'](_0x221fb9=>{const _0x165dd8=_0x1e7092;_0x221fb9[_0x165dd8(0x9d)]()&&_0x221fb9[_0x165dd8(0x126)]()[_0x165dd8(0x133)]!==![]?startChat():alert('Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}function startChat(){const _0x402eb7=_0x533934;if(!roomCode||!username)return alert(_0x402eb7(0xb9)),showScreen(_0x402eb7(0xc4));showScreen(_0x402eb7(0x130)),document[_0x402eb7(0x12c)](_0x402eb7(0xea))[_0x402eb7(0xde)]=username,(roomCode=_0x402eb7(0xa3))?document[_0x402eb7(0x12c)](_0x402eb7(0xab))['innerText']=_0x402eb7(0xdf):document['getElementById'](_0x402eb7(0xab))[_0x402eb7(0xde)]=roomCode,listenForMessages(),listenForTyping(),startInactivityTimer(),trackPresence(),listenForUserList();}function validateStaticRoomPassword(){const _0x50482c=_0x533934,_0x4b8054=document[_0x50482c(0x12c)](_0x50482c(0xba))['value'],_0x592402=document[_0x50482c(0x12c)](_0x50482c(0x11c));db[_0x50482c(0xcf)](_0x50482c(0xc6))[_0x50482c(0x90)]()['then'](_0x1ca3ed=>{const _0x252694=_0x50482c,_0x44bcd4=_0x1ca3ed[_0x252694(0x126)]();_0x4b8054===_0x44bcd4?(_0x592402[_0x252694(0xaf)][_0x252694(0x9a)]=_0x252694(0x10e),startChat()):_0x592402[_0x252694(0xaf)]['display']=_0x252694(0x125);});}function _0x1801(_0x304a00,_0x34aa9f){const _0x5f0a70=_0x5f0a();return _0x1801=function(_0x1801fc,_0x1db660){_0x1801fc=_0x1801fc-0x8b;let _0x311547=_0x5f0a70[_0x1801fc];return _0x311547;},_0x1801(_0x304a00,_0x34aa9f);}function sendMessage(){const _0x1d0733=_0x533934,_0x1cd54b=document[_0x1d0733(0x12c)]('msgInput'),_0x4d31fc=_0x1cd54b[_0x1d0733(0xe5)][_0x1d0733(0xc3)]();if(!_0x4d31fc)return;const _0x564a3e=Date[_0x1d0733(0x98)](),_0x32e73a=sanitizeUsername(username);db[_0x1d0733(0xcf)]('antispamBlocked/'+roomCode+'/'+_0x32e73a)[_0x1d0733(0xae)](_0x1d0733(0xe5))['then'](_0x4794d2=>{const _0x4ac107=_0x1d0733,_0x1b8d90=_0x4794d2[_0x4ac107(0x126)]();if(_0x1b8d90&&_0x564a3e<_0x1b8d90){const _0x25253a=Math[_0x4ac107(0x114)]((_0x1b8d90-_0x564a3e)/0x3e8);alert(_0x4ac107(0xff)+_0x25253a+_0x4ac107(0x11d));return;}const _0x552bf4=db[_0x4ac107(0xcf)](_0x4ac107(0xa7)+roomCode+'/'+_0x32e73a);_0x552bf4[_0x4ac107(0xae)](_0x4ac107(0xe5))['then'](_0x29ddc6=>{const _0x2caa8d=_0x4ac107,_0x59dea6=_0x29ddc6[_0x2caa8d(0x126)]()||[],_0x2a97da=[..._0x59dea6,_0x564a3e][_0x2caa8d(0xca)](_0x153133=>_0x564a3e-_0x153133<0xbb8);if(_0x2a97da['length']>=0x5){alert(_0x2caa8d(0x11b)),db[_0x2caa8d(0xcf)](_0x2caa8d(0x100)+roomCode+'/'+_0x32e73a)[_0x2caa8d(0xcd)](_0x564a3e+0x7530);const _0xd9f9a9=db['ref'](_0x2caa8d(0xf1)+roomCode+_0x2caa8d(0xe7));_0xd9f9a9[_0x2caa8d(0x106)](_0x2caa8d(0xb6))[_0x2caa8d(0x8d)](clientId)[_0x2caa8d(0xa4)](0x5)['once'](_0x2caa8d(0xe5),_0x492bad=>{const _0x5a20da=_0x2caa8d;_0x492bad[_0x5a20da(0xe9)](_0x32d4ce=>{const _0x58136c=_0x5a20da;_0xd9f9a9['child'](_0x32d4ce[_0x58136c(0xe6)])[_0x58136c(0xd9)]();});}),_0x552bf4['set']([]);return;}_0x552bf4['set'](_0x2a97da);const _0x487cfd=db['ref']()[_0x2caa8d(0xc2)]()['key'];db[_0x2caa8d(0xcf)](_0x2caa8d(0xf1)+roomCode+_0x2caa8d(0xf7)+_0x487cfd)['set']({'msg':_0x4d31fc,'sender':username,'senderId':clientId,'timestamp':_0x564a3e}),_0x1cd54b['value']='',sendTyping(!![]),lastActivity=_0x564a3e;});});}function listenForMessages(){const _0x46e1c9=_0x533934,_0x20a7ae=db['ref'](_0x46e1c9(0xf1)+roomCode+'/messages'),_0x493002=_0x20a7ae[_0x46e1c9(0xa4)](MAX_MESSAGES);_0x493002['on'](_0x46e1c9(0x115),_0x21e96f=>{const _0x2ae006=_0x46e1c9,{msg:_0x4e846d,sender:_0x51bf69,senderId:_0x4b45aa,timestamp:_0x443093}=_0x21e96f[_0x2ae006(0x126)](),_0x25ff51=_0x4b45aa===clientId;addMessage(_0x4e846d,_0x51bf69,_0x443093,_0x25ff51,_0x21e96f[_0x2ae006(0x126)]()[_0x2ae006(0xa2)]),roomCode!==STATIC_ROOM&&db[_0x2ae006(0xcf)]('rooms/'+roomCode+'/messages/'+_0x21e96f[_0x2ae006(0xe6)])['remove'](),!_0x25ff51&&(sound['play'](),flagPageAttention());});}function addMessage(_0x563832,_0x22d9b2,_0xc4f399,_0x535505,_0x18e087=null){const _0x523378=_0x533934,_0x135d15=document[_0x523378(0xe2)](_0x523378(0xe0));_0x135d15[_0x523378(0xda)][_0x523378(0x10d)](_0x523378(0x11a),_0x535505?'sent':_0x523378(0x119));const _0x28e089=new Date(_0xc4f399)['toLocaleTimeString']([],{'hour':_0x523378(0x9f),'minute':'2-digit'});let _0x4fa3ae='<span\x20class=\x22sender-name\x22>'+_0x22d9b2+_0x523378(0xa5);if(_0x18e087)_0x4fa3ae+=_0x523378(0xf4)+_0x18e087+_0x523378(0x117);else{if(audioBase64){const _0x191f30=_0x523378(0x107)+audioBase64;_0x4fa3ae+=_0x523378(0xf4)+_0x191f30+'\x22\x20style=\x22width:100%;margin-top:5px;\x22></audio>';}}_0x4fa3ae+=_0x523378(0xc8)+_0x28e089+_0x523378(0x105),_0x135d15[_0x523378(0xa8)]=_0x4fa3ae;const _0x25e45c=document[_0x523378(0x12c)](_0x523378(0x12a));_0x25e45c[_0x523378(0xf2)](_0x135d15),_0x25e45c['scrollTop']=_0x25e45c[_0x523378(0xd3)];}function cleanupOldRooms(){const _0x3cf3e4=_0x533934;db[_0x3cf3e4(0xcf)](_0x3cf3e4(0xfd))[_0x3cf3e4(0xae)]('value')[_0x3cf3e4(0xb5)](_0x46fa8c=>{const _0x15a4c2=_0x3cf3e4,_0x292fd6=_0x46fa8c['val']();if(!_0x292fd6)return;const _0x1515c5=Date[_0x15a4c2(0x98)]();for(const _0x5754fe in _0x292fd6){if(_0x5754fe===STATIC_ROOM)continue;const _0x464048=_0x292fd6[_0x5754fe];_0x1515c5-(_0x464048[_0x15a4c2(0x94)]||0x0)>0x2*0x3c*0x3e8&&db['ref'](_0x15a4c2(0xf1)+_0x5754fe)[_0x15a4c2(0xd9)]();}db[_0x15a4c2(0xcf)]('antispam')[_0x15a4c2(0xae)](_0x15a4c2(0xe5))[_0x15a4c2(0xb5)](_0x334a28=>{const _0xd7a8c6=_0x15a4c2,_0x54149b=_0x334a28[_0xd7a8c6(0x126)]();if(!_0x54149b)return;for(const _0x3dfbee in _0x54149b){if(_0x3dfbee!==STATIC_ROOM)db[_0xd7a8c6(0xcf)](_0xd7a8c6(0xa7)+_0x3dfbee)[_0xd7a8c6(0xd9)]();}}),db[_0x15a4c2(0xcf)]('antispamBlocked')[_0x15a4c2(0xae)]('value')['then'](_0x5ebcfe=>{const _0xdf6e28=_0x15a4c2,_0x9dfbbf=_0x5ebcfe[_0xdf6e28(0x126)]();if(!_0x9dfbbf)return;for(const _0x97867c in _0x9dfbbf){if(_0x97867c!==STATIC_ROOM)db['ref'](_0xdf6e28(0x100)+_0x97867c)['remove']();}});});}document[_0x533934(0xa1)]('DOMContentLoaded',()=>{const _0x1d0117=_0x533934,_0x473e6b=document[_0x1d0117(0x12c)](_0x1d0117(0xb3));_0x473e6b&&_0x473e6b[_0x1d0117(0xa1)]('keypress',function(_0x37dbe0){const _0x3f1ee0=_0x1d0117;_0x37dbe0[_0x3f1ee0(0xe6)]===_0x3f1ee0(0xf6)&&(_0x37dbe0[_0x3f1ee0(0x122)](),sendMessage());});});function showScreen(_0x331e45){const _0x16248a=_0x533934;[_0x16248a(0xac),_0x16248a(0xc4),_0x16248a(0xcb),_0x16248a(0x130),'passwordScreen',_0x16248a(0x9c)][_0x16248a(0xe9)](_0x27a508=>{const _0x203142=_0x16248a;document[_0x203142(0x12c)](_0x27a508)[_0x203142(0xaf)]['display']=_0x203142(0x10e);}),document['getElementById'](_0x331e45)[_0x16248a(0xaf)][_0x16248a(0x9a)]=_0x16248a(0xa0);}function genRoomCode(){const _0x7a92d9=_0x533934,_0x337557=_0x7a92d9(0x8c),_0x250c1e=_0x7a92d9(0x101),_0x2d0ab4=(_0x22e03c,_0x5befc9)=>Array[_0x7a92d9(0x10b)]({'length':_0x5befc9},()=>_0x22e03c[Math['floor'](Math['random']()*_0x22e03c[_0x7a92d9(0xf8)])])[_0x7a92d9(0x10f)]('');return _0x2d0ab4(_0x250c1e,0x3)+_0x2d0ab4(_0x337557,0x3)+_0x2d0ab4(_0x250c1e,0x2)+_0x2d0ab4(_0x337557,0x2);}function startInactivityTimer(){setInterval(()=>{const _0x5789e7=_0x1801;Date[_0x5789e7(0x98)]()-lastActivity>0x5*0x3c*0x3e8&&roomCode!==STATIC_ROOM&&(db[_0x5789e7(0xcf)](_0x5789e7(0xf1)+roomCode)[_0x5789e7(0x124)]({'active':![]}),alert('Session\x20expired.'),location[_0x5789e7(0xfa)]());},0x7530);}function setupSidebarBackHandler(){const _0x6529b2=_0x533934;window[_0x6529b2(0xa1)](_0x6529b2(0x118),()=>{const _0x1cc550=_0x6529b2,_0x5e79f0=document[_0x1cc550(0x12c)]('userSidebar');_0x5e79f0?.[_0x1cc550(0xda)][_0x1cc550(0xf0)]('show')&&_0x5e79f0[_0x1cc550(0xda)][_0x1cc550(0xd9)]('show');});}function toggleSidebar(){const _0x5e3060=_0x533934,_0x7a2de4=document[_0x5e3060(0x12c)]('userSidebar');if(!_0x7a2de4[_0x5e3060(0xda)][_0x5e3060(0xf0)](_0x5e3060(0x111)))_0x7a2de4['classList']['add'](_0x5e3060(0x111)),history[_0x5e3060(0xfc)]({'sidebarOpen':!![]},'');else{_0x7a2de4['classList'][_0x5e3060(0xd9)]('show');if(history[_0x5e3060(0x97)]?.[_0x5e3060(0x131)])history[_0x5e3060(0xb8)]();}}function setupVisibilityAttention(){const _0xc7d6fe=_0x533934;let _0x262dc3=0x0,_0xd59c0e=document['title'];document[_0xc7d6fe(0xa1)](_0xc7d6fe(0xe1),()=>{const _0x1c8831=_0xc7d6fe;!document[_0x1c8831(0xd8)]&&(document['title']=_0xd59c0e,_0x262dc3=0x0);}),window[_0xc7d6fe(0x10a)]=function(){const _0x5f02b5=_0xc7d6fe;document[_0x5f02b5(0xd8)]&&(_0x262dc3++,document[_0x5f02b5(0x12e)]='('+_0x262dc3+')\x20New\x20message\x20â€¢\x20'+_0xd59c0e);};}function tryEditProfile(){const _0x23b1e6=_0x533934,_0x39b7e5=sanitizeUsername(username);db[_0x23b1e6(0xcf)]('profiles/'+_0x39b7e5)[_0x23b1e6(0x90)]()['then'](_0x5b9cc7=>{const _0x42109b=_0x23b1e6,_0x4d45af=_0x5b9cc7[_0x42109b(0x126)]();if(!_0x4d45af)return alert(_0x42109b(0xb7));const _0x75675d=_0x4d45af[_0x42109b(0x8b)]||0x0,_0x456b58=Date[_0x42109b(0x98)](),_0x515128=0x18*0x3c*0x3c*0x3e8;if(_0x456b58-_0x75675d<_0x515128){const _0x55d6f5=Math['ceil']((_0x515128-(_0x456b58-_0x75675d))/(0x3c*0x3e8));alert(_0x42109b(0x110)+_0x55d6f5+'\x20minutes.');}else showScreen(_0x42109b(0x9c)),document[_0x42109b(0x12c)](_0x42109b(0xd5))['value']=username,document['getElementById'](_0x42109b(0x12f))[_0x42109b(0xe5)]=_0x4d45af[_0x42109b(0xd7)]||'';});}function listenForUserList(){const _0x35ecfa=_0x533934;db[_0x35ecfa(0xcf)](_0x35ecfa(0xbb)+roomCode)['on'](_0x35ecfa(0xe5),_0x2704fe=>{const _0x18f30f=_0x35ecfa,_0xf797e4=_0x2704fe[_0x18f30f(0x126)]()||{},_0x179570=Date[_0x18f30f(0x98)](),_0x59820c=Object[_0x18f30f(0x123)](_0xf797e4)[_0x18f30f(0x108)](_0x56a533=>{const _0x5bcf94=_0x18f30f,_0xea9e21=_0x56a533['online'],_0x1e106d=_0x179570-_0x56a533[_0x5bcf94(0x95)]<=0x1e*0x3c*0x3e8;if(!_0xea9e21&&!_0x1e106d)return'';const _0x4e13f4=_0xea9e21?_0x5bcf94(0x8e):_0x5bcf94(0xc0),_0x440600=_0xea9e21?'ðŸŸ¢':'ðŸ•’',_0x2c5214=new Date(_0x56a533[_0x5bcf94(0x95)])['toLocaleTimeString']([],{'hour':_0x5bcf94(0x9f),'minute':'2-digit'});return _0x5bcf94(0xeb)+_0x4e13f4+_0x5bcf94(0x8f)+sanitizeUsername(_0x56a533['username'])+'\x27)\x22>'+_0x440600+'\x20'+_0x56a533['username']+_0x5bcf94(0xf9);})[_0x18f30f(0x10f)]('');document[_0x18f30f(0x12c)](_0x18f30f(0x10c))[_0x18f30f(0xa8)]=_0x59820c;});}function sendTyping(_0x409e65=![]){const _0x4c12ce=_0x533934,_0x8b10d1=_0x4c12ce(0xf1)+roomCode+_0x4c12ce(0x12d)+clientId;_0x409e65?db[_0x4c12ce(0xcf)](_0x8b10d1)[_0x4c12ce(0xd9)]():(db[_0x4c12ce(0xcf)](_0x8b10d1)[_0x4c12ce(0xcd)](username),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0x17b679=_0x4c12ce;db['ref'](_0x8b10d1)[_0x17b679(0xd9)]();},0xbb8));}function listenForTyping(){const _0x534e5c=_0x533934,_0x3eb430=document[_0x534e5c(0x12c)](_0x534e5c(0x134));db[_0x534e5c(0xcf)](_0x534e5c(0xf1)+roomCode+_0x534e5c(0x103))['on'](_0x534e5c(0xe5),_0x3b1b1e=>{const _0x5ca929=_0x534e5c,_0xb86780=_0x3b1b1e[_0x5ca929(0x126)]();if(!_0xb86780)return _0x3eb430['innerText']='';const _0x1e5959=Object[_0x5ca929(0x123)](_0xb86780)[_0x5ca929(0xca)](_0xf13e4c=>_0xf13e4c!==username);_0x3eb430[_0x5ca929(0xde)]=_0x1e5959[_0x5ca929(0xf8)]?_0x1e5959[_0x5ca929(0x10f)](',\x20')+_0x5ca929(0xbf):'';});}function trackPresence(){const _0x33bbef=_0x533934;if(!username||!roomCode)return;const _0x1632e7=sanitizeUsername(username),_0x420a63=db[_0x33bbef(0xcf)](_0x33bbef(0xbb)+roomCode+'/'+_0x1632e7),_0x36388b={'username':username,'lastOnline':firebase[_0x33bbef(0xf5)]['ServerValue'][_0x33bbef(0xd6)],'online':!![]};_0x420a63[_0x33bbef(0xcd)](_0x36388b),_0x420a63['onDisconnect']()[_0x33bbef(0x124)]({'online':![],'lastOnline':Date['now']()});}function viewProfile(_0x29dfc8){const _0x5459c7=_0x533934;db['ref'](_0x5459c7(0xdc)+_0x29dfc8)[_0x5459c7(0x90)]()[_0x5459c7(0xb5)](_0x452c92=>{const _0x1900fa=_0x5459c7;if(!_0x452c92[_0x1900fa(0x9d)]())return;const _0x4eb091=_0x452c92['val'](),_0x4e0c64=('\x0aName:\x20'+_0x4eb091[_0x1900fa(0xc1)]+'\x0aDescription:\x20'+(_0x4eb091[_0x1900fa(0xd7)]||_0x1900fa(0xef))+_0x1900fa(0x91)+(_0x4eb091[_0x1900fa(0xb4)]||[])[_0x1900fa(0x10f)]('\x0a')+_0x1900fa(0x128)+new Date(_0x4eb091[_0x1900fa(0x8b)])[_0x1900fa(0x135)]()+_0x1900fa(0xa6))[_0x1900fa(0xc3)]();document['getElementById'](_0x1900fa(0x99))[_0x1900fa(0xde)]=_0x4e0c64,document[_0x1900fa(0x12c)]('profileViewer')[_0x1900fa(0xaf)][_0x1900fa(0x9a)]='block';});}function initUsernameFlow(){const _0x44cdfd=_0x533934,_0x31a621=localStorage[_0x44cdfd(0x112)](_0x44cdfd(0x93));!_0x31a621?showScreen('profileScreen'):(username=_0x31a621,document[_0x44cdfd(0x12c)]('namePreview')[_0x44cdfd(0xde)]=username,showScreen(_0x44cdfd(0xc4)));}