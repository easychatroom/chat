const _0x1495a2=_0x4988;(function(_0x37dd69,_0x189520){const _0xd649b=_0x4988,_0xe9a3d1=_0x37dd69();while(!![]){try{const _0xbc59e9=parseInt(_0xd649b(0x1c1))/0x1+parseInt(_0xd649b(0x437))/0x2*(-parseInt(_0xd649b(0x1fc))/0x3)+-parseInt(_0xd649b(0x29e))/0x4*(parseInt(_0xd649b(0x1a4))/0x5)+-parseInt(_0xd649b(0x400))/0x6*(-parseInt(_0xd649b(0x167))/0x7)+-parseInt(_0xd649b(0x152))/0x8*(parseInt(_0xd649b(0x2b5))/0x9)+parseInt(_0xd649b(0x2f4))/0xa+parseInt(_0xd649b(0x277))/0xb*(parseInt(_0xd649b(0x2a3))/0xc);if(_0xbc59e9===_0x189520)break;else _0xe9a3d1['push'](_0xe9a3d1['shift']());}catch(_0x51d843){_0xe9a3d1['push'](_0xe9a3d1['shift']());}}}(_0x38cd,0xa4754));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x1495a2(0x36b),'databaseURL':_0x1495a2(0x434),'projectId':'easy-chatroom','storageBucket':_0x1495a2(0x429),'messagingSenderId':_0x1495a2(0x26d),'appId':_0x1495a2(0x190),'measurementId':_0x1495a2(0x422)};firebase[_0x1495a2(0x302)](firebaseConfig);const messaging=firebase['messaging'](),db=firebase[_0x1495a2(0x154)]();let deviceId=null;((async()=>{const _0x2d9412=_0x1495a2,_0x2725a4={'dLbxs':function(_0x25a66a){return _0x25a66a();}};deviceId=await _0x2725a4[_0x2d9412(0x204)](generateDeviceId);})());const swearWords=['fuck',_0x1495a2(0x2f5),'bitch',_0x1495a2(0x194),_0x1495a2(0x2ad),'dick',_0x1495a2(0x1eb),_0x1495a2(0x288),'mierda',_0x1495a2(0x145),_0x1495a2(0x2a7),_0x1495a2(0x286),_0x1495a2(0x36a),'porra',_0x1495a2(0x35e),_0x1495a2(0x330),_0x1495a2(0x288),'fdp',_0x1495a2(0x1df),'putangina','gago',_0x1495a2(0x3c3),_0x1495a2(0x28b),'bobo',_0x1495a2(0x195),'putang\x20ina'],style=document[_0x1495a2(0x2f2)](_0x1495a2(0x396));style[_0x1495a2(0x1b4)]=_0x1495a2(0x3ed),document['head'][_0x1495a2(0x279)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x1495a2(0x2f9)]()[_0x1495a2(0x21b)](0x24)[_0x1495a2(0x42d)](0x2,0x9),lastActivity=Date[_0x1495a2(0x146)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x1495a2(0x30c));sound[_0x1495a2(0x2d4)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x103bb4=_0x1495a2,_0x4ab08b={'vXpBT':function(_0xe95d01,_0x4e5cf2){return _0xe95d01+_0x4e5cf2;},'NdUga':function(_0x14af91,_0x9e4070){return _0x14af91(_0x9e4070);}},_0x31369d=_0x4ab08b[_0x103bb4(0x2b2)](navigator['userAgent'],screen[_0x103bb4(0x165)])+screen[_0x103bb4(0x230)],_0x424015=await _0x4ab08b[_0x103bb4(0x2d5)](sha256,_0x31369d);return _0x4ab08b[_0x103bb4(0x2b2)]('_',_0x424015[_0x103bb4(0x42d)](0x0,0x14));}function sha256(_0x4188e2){const _0x3d9c09=_0x1495a2,_0x509135={'TFbRj':'SHA-256'},_0x53263b=new TextEncoder()[_0x3d9c09(0x41d)](_0x4188e2);return crypto['subtle'][_0x3d9c09(0x24a)](_0x509135[_0x3d9c09(0x2ec)],_0x53263b)[_0x3d9c09(0x333)](_0x25e1a4=>{const _0x1ff12d=_0x3d9c09;return Array[_0x1ff12d(0x148)](new Uint8Array(_0x25e1a4))[_0x1ff12d(0x22f)](_0x247e18=>_0x247e18[_0x1ff12d(0x21b)](0x10)[_0x1ff12d(0x328)](0x2,'0'))[_0x1ff12d(0x323)]('');});}function toggleNotifications(){const _0x43450f=_0x1495a2,_0x2bb66f={'KmPTN':'notifications_enabled','ohliO':_0x43450f(0x14b),'iwTxK':_0x43450f(0x3c7),'BYAYT':function(_0x10b52f,_0x2ad1a4){return _0x10b52f!==_0x2ad1a4;},'MXgYK':_0x43450f(0x3c9),'cQmuU':_0x43450f(0x13f),'KzOGc':_0x43450f(0x360),'oiEkM':_0x43450f(0x1b7)};_0x2bb66f['BYAYT'](Notification[_0x43450f(0x1d8)],_0x2bb66f[_0x43450f(0x388)])?Notification[_0x43450f(0x2fb)]()[_0x43450f(0x333)](_0x4bec30=>{const _0x2b82e5=_0x43450f;_0x4bec30===_0x2b82e5(0x3c9)&&(notificationsEnabled=!![],localStorage['setItem'](_0x2bb66f[_0x2b82e5(0x2fe)],_0x2bb66f[_0x2b82e5(0x348)]),document[_0x2b82e5(0x1c8)](_0x2bb66f[_0x2b82e5(0x370)])[_0x2b82e5(0x408)]=_0x2b82e5(0x360));}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x43450f(0x430)](_0x2bb66f[_0x43450f(0x2fe)],notificationsEnabled?_0x43450f(0x14b):_0x2bb66f['cQmuU']),document[_0x43450f(0x1c8)](_0x2bb66f['iwTxK'])[_0x43450f(0x408)]=notificationsEnabled?_0x2bb66f[_0x43450f(0x1ac)]:_0x2bb66f[_0x43450f(0x196)]);}function toggleAuthMode(){const _0x404d76=_0x1495a2,_0x24c518={'HftHv':'2|7|3|0|1|5|4|6','pepMx':'block','MxACA':_0x404d76(0x260),'VdIay':_0x404d76(0x209),'EKgpK':_0x404d76(0x35b),'Dmasb':_0x404d76(0x364),'sWRnS':_0x404d76(0x3dc)},_0x304e66=_0x24c518[_0x404d76(0x2e6)]['split']('|');let _0x54a2d0=0x0;while(!![]){switch(_0x304e66[_0x54a2d0++]){case'0':document['getElementById'](_0x404d76(0x3a7))[_0x404d76(0x396)][_0x404d76(0x435)]=isRegisterMode?_0x24c518[_0x404d76(0x18f)]:_0x24c518[_0x404d76(0x17a)];continue;case'1':document['getElementById'](_0x24c518[_0x404d76(0x1d2)])[_0x404d76(0x396)][_0x404d76(0x435)]=isRegisterMode?_0x24c518[_0x404d76(0x18f)]:_0x24c518[_0x404d76(0x17a)];continue;case'2':isRegisterMode=!isRegisterMode;continue;case'3':document[_0x404d76(0x1c8)](_0x404d76(0x3ee))['style']['display']=isRegisterMode?_0x404d76(0x341):_0x24c518['MxACA'];continue;case'4':document['getElementById'](_0x404d76(0x387))['innerText']=isRegisterMode?'Register':_0x24c518['EKgpK'];continue;case'5':document[_0x404d76(0x1c8)](_0x404d76(0x3f2))[_0x404d76(0x396)][_0x404d76(0x435)]=_0x24c518[_0x404d76(0x17a)];continue;case'6':document[_0x404d76(0x1c8)]('authError')[_0x404d76(0x396)][_0x404d76(0x435)]=_0x24c518[_0x404d76(0x17a)];continue;case'7':document['getElementById'](_0x24c518[_0x404d76(0x33d)])[_0x404d76(0x408)]=isRegisterMode?_0x24c518['sWRnS']:_0x24c518[_0x404d76(0x278)];continue;}break;}}function previewAvatar(){const _0x293b19=_0x1495a2,_0x31df94={'yCXCc':_0x293b19(0x3f2),'quiwk':_0x293b19(0x341),'ySXEO':'authAvatar'},_0x106a1b=document[_0x293b19(0x1c8)](_0x31df94[_0x293b19(0x22a)]);if(!_0x106a1b['files'][_0x293b19(0x141)])return;const _0x55e4ae=new FileReader();_0x55e4ae[_0x293b19(0x244)]=()=>{const _0x4b2719=_0x293b19;document[_0x4b2719(0x1c8)](_0x31df94[_0x4b2719(0x299)])[_0x4b2719(0x1fa)]=_0x55e4ae[_0x4b2719(0x292)],document[_0x4b2719(0x1c8)](_0x4b2719(0x3f2))[_0x4b2719(0x396)][_0x4b2719(0x435)]=_0x31df94[_0x4b2719(0x249)];},_0x55e4ae[_0x293b19(0x354)](_0x106a1b[_0x293b19(0x31e)][0x0]);}async function submitAuth(){const _0x3c57c1=_0x1495a2,_0x290fc0={'esBnw':function(_0x2c17e4,_0x366252){return _0x2c17e4||_0x366252;},'BtcSj':'user','YHtum':_0x3c57c1(0x265),'qtaDc':_0x3c57c1(0x3ee),'VhfvF':_0x3c57c1(0x3a7),'jVspa':_0x3c57c1(0x2a1),'ZDGrh':'none','SSqAJ':function(_0x515bc8,_0x487592){return _0x515bc8||_0x487592;},'qKtEy':_0x3c57c1(0x341),'tTmoD':function(_0x536d98,_0x1b0106){return _0x536d98(_0x1b0106);},'vRfQX':_0x3c57c1(0x243),'TlckQ':function(_0x190f18){return _0x190f18();},'KVsyE':function(_0x145e4d,_0x4e4b82){return _0x145e4d||_0x4e4b82;},'evuQM':function(_0x53e03a){return _0x53e03a();},'hrYhZ':function(_0x4bdaf6,_0x161d61){return _0x4bdaf6(_0x161d61);},'NvxII':function(_0x21f9bf,_0x108a9f){return _0x21f9bf!==_0x108a9f;},'TRwdS':_0x3c57c1(0x371)},_0x5c34f0=document[_0x3c57c1(0x1c8)](_0x3c57c1(0x20d))[_0x3c57c1(0x3d2)][_0x3c57c1(0x3a6)](),_0x2b0842=document[_0x3c57c1(0x1c8)](_0x290fc0[_0x3c57c1(0x20a)])[_0x3c57c1(0x3d2)][_0x3c57c1(0x3a6)](),_0x3969b7=document['getElementById'](_0x290fc0[_0x3c57c1(0x39b)])[_0x3c57c1(0x3d2)][_0x3c57c1(0x3a6)](),_0x4d7eaa=document[_0x3c57c1(0x1c8)](_0x290fc0['VhfvF'])['value']['trim'](),_0x275a9e=document[_0x3c57c1(0x1c8)](_0x3c57c1(0x209)),_0x30e7f1=document[_0x3c57c1(0x1c8)](_0x290fc0[_0x3c57c1(0x142)]);_0x30e7f1[_0x3c57c1(0x396)][_0x3c57c1(0x435)]=_0x290fc0[_0x3c57c1(0x3f7)];if(_0x290fc0[_0x3c57c1(0x183)](!_0x5c34f0,!_0x2b0842)){_0x30e7f1[_0x3c57c1(0x408)]=_0x3c57c1(0x169),_0x30e7f1[_0x3c57c1(0x396)][_0x3c57c1(0x435)]=_0x290fc0[_0x3c57c1(0x3e2)];return;}const _0x585775=_0x290fc0[_0x3c57c1(0x268)](sanitizeUsername,_0x5c34f0),_0x2aa68e=db[_0x3c57c1(0x21e)](_0x3c57c1(0x3e7)+_0x585775),_0x45d334=await _0x2aa68e[_0x3c57c1(0x20c)]();if(isRegisterMode){if(_0x45d334[_0x3c57c1(0x19d)]()){_0x30e7f1[_0x3c57c1(0x408)]=_0x290fc0[_0x3c57c1(0x3af)],_0x30e7f1['style']['display']=_0x290fc0['qKtEy'];return;}if(_0x2b0842!==_0x3969b7){_0x30e7f1[_0x3c57c1(0x408)]=_0x3c57c1(0x419),_0x30e7f1[_0x3c57c1(0x396)][_0x3c57c1(0x435)]=_0x3c57c1(0x341);return;}const _0x512f7d=await _0x290fc0[_0x3c57c1(0x268)](sha256,_0x2b0842);window['passwordHash']=_0x512f7d,localStorage[_0x3c57c1(0x430)](_0x3c57c1(0x3bc),_0x512f7d);const _0x4280a3=await _0x290fc0['TlckQ'](generateDeviceId);if(_0x275a9e['files']['length']){const _0xb68b86=_0x275a9e['files'][0x0],_0x49b28a=new FileReader();_0x49b28a[_0x3c57c1(0x244)]=async()=>{const _0x3a03fb=_0x3c57c1,_0x4bd9e3=_0x49b28a[_0x3a03fb(0x292)][_0x3a03fb(0x2fd)](',')[0x1];await _0x2aa68e[_0x3a03fb(0x359)]({'username':_0x5c34f0,'passwordHash':_0x512f7d,'description':_0x290fc0[_0x3a03fb(0x3f3)](_0x4d7eaa,''),'avatarBase64':_0x4bd9e3,'role':_0x290fc0[_0x3a03fb(0x15c)],'deviceId':_0x4280a3,'usernameHistory':[_0x5c34f0],'lastChanged':Date['now']()}),username=_0x5c34f0,userDescription=_0x4d7eaa,avatarBase64=_0x4bd9e3,role=_0x290fc0[_0x3a03fb(0x15c)],startAfterAuth();},_0x49b28a[_0x3c57c1(0x354)](_0xb68b86);}else await _0x2aa68e[_0x3c57c1(0x359)]({'username':_0x5c34f0,'passwordHash':_0x512f7d,'description':_0x290fc0[_0x3c57c1(0x264)](_0x4d7eaa,''),'avatarBase64':'','role':_0x3c57c1(0x361),'deviceId':_0x4280a3,'usernameHistory':[_0x5c34f0],'lastChanged':Date[_0x3c57c1(0x146)]()}),username=_0x5c34f0,userDescription=_0x4d7eaa,avatarBase64='',role='user',_0x290fc0[_0x3c57c1(0x409)](startAfterAuth);}else{if(!_0x45d334['exists']()){_0x30e7f1['innerText']=_0x3c57c1(0x17b),_0x30e7f1[_0x3c57c1(0x396)]['display']=_0x3c57c1(0x341);return;}const _0x4d8578=_0x45d334[_0x3c57c1(0x365)](),_0x32c2ff=await _0x290fc0[_0x3c57c1(0x266)](sha256,_0x2b0842);if(_0x290fc0[_0x3c57c1(0x3f5)](_0x32c2ff,_0x4d8578['passwordHash'])){_0x30e7f1[_0x3c57c1(0x408)]=_0x290fc0[_0x3c57c1(0x1ef)],_0x30e7f1[_0x3c57c1(0x396)]['display']=_0x3c57c1(0x341);return;}username=_0x5c34f0;if(_0x4d8578[_0x3c57c1(0x351)])userDescription=_0x4d8578['description'];if(_0x4d8578['avatarBase64'])avatarBase64=_0x4d8578[_0x3c57c1(0x393)];if(_0x4d8578['role'])role=_0x4d8578['role'];else role=_0x3c57c1(0x361);_0x290fc0['evuQM'](startAfterAuth);}}async function saveNewUser(_0x1ce61d,_0x2eeb06,_0x2a63b9,_0x137661,_0x3204b2){const _0x287df9=_0x1495a2,_0x5a9895={'manBn':function(_0x1c6364,_0xc9b607){return _0x1c6364(_0xc9b607);},'CNvLm':_0x287df9(0x361),'jJXEG':function(_0x48af5a,_0x4e1e00){return _0x48af5a||_0x4e1e00;},'FuUBU':function(_0x11fee4){return _0x11fee4();}},_0x5a8e7c=db[_0x287df9(0x21e)](_0x287df9(0x3e7)+_0x5a9895['manBn'](sanitizeUsername,_0x1ce61d)),_0x23a92a={'username':_0x1ce61d,'passwordHash':_0x2eeb06,'role':_0x5a9895[_0x287df9(0x425)],'deviceId':_0x2a63b9,'description':_0x5a9895['jJXEG'](_0x3204b2,''),'avatarBase64':_0x137661||'','usernameHistory':[_0x1ce61d],'lastChanged':Date[_0x287df9(0x146)]()};await _0x5a8e7c['set'](_0x23a92a),username=_0x1ce61d,_0x137661=_0x23a92a[_0x287df9(0x393)],userDescription=_0x23a92a[_0x287df9(0x351)],_0x5a9895['FuUBU'](startAfterAuth);}async function startAfterAuth(){const _0xeb2be2=_0x1495a2,_0x5b3ba0={'ccTOX':function(_0x7673ab,_0x53d3e1){return _0x7673ab(_0x53d3e1);},'GZXcI':_0xeb2be2(0x361),'zCfhX':_0xeb2be2(0x40e),'PxINQ':function(_0x355979,_0x9b715e){return _0x355979+_0x9b715e;},'tlSaJ':_0xeb2be2(0x2a2),'pxMLX':_0xeb2be2(0x341),'rbtDs':_0xeb2be2(0x1a0),'nZNEH':_0xeb2be2(0x1e1)},_0x1e5039=_0x5b3ba0[_0xeb2be2(0x1bb)](sanitizeUsername,username),_0x16c7f4=db['ref'](_0xeb2be2(0x3e7)+_0x1e5039),_0x32ebae=await _0x16c7f4['get']();if(_0x32ebae[_0xeb2be2(0x19d)]()){const _0x5ba80b=_0x32ebae[_0xeb2be2(0x365)]();username=_0x5ba80b[_0xeb2be2(0x303)],userDescription=_0x5ba80b[_0xeb2be2(0x351)]||'',avatarBase64=_0x5ba80b['avatarBase64']||'',role=_0x5ba80b[_0xeb2be2(0x40a)]||_0x5b3ba0[_0xeb2be2(0x309)];if(avatarBase64){const _0x16e4dd=document['getElementById'](_0x5b3ba0[_0xeb2be2(0x394)]);_0x16e4dd['src']=_0x5b3ba0['PxINQ'](_0x5b3ba0[_0xeb2be2(0x1e0)],avatarBase64),_0x16e4dd[_0xeb2be2(0x396)][_0xeb2be2(0x435)]=_0x5b3ba0['pxMLX'];}}else console['warn'](_0x5b3ba0[_0xeb2be2(0x37a)]);await loadRoomRoles(),_0x5b3ba0[_0xeb2be2(0x1bb)](showScreen,_0x5b3ba0[_0xeb2be2(0x231)]);}function toggleRecording(){const _0x506d52=_0x1495a2,_0x52d85d={'PrMMJ':function(_0x5a2e25,_0x280612){return _0x5a2e25&&_0x280612;},'LYcDN':function(_0x4b4a55){return _0x4b4a55();},'iZLcA':_0x506d52(0x27e),'oHXGQ':_0x506d52(0x2fc),'wcXMM':function(_0x32c52d,_0x1f1a70,_0x2efd7e){return _0x32c52d(_0x1f1a70,_0x2efd7e);},'TpiQP':function(_0x5edbf4,_0xed8d86){return _0x5edbf4(_0xed8d86);},'vmOoa':function(_0x118fc3){return _0x118fc3();}};isRecording?_0x52d85d[_0x506d52(0x226)](stopRecording):navigator[_0x506d52(0x41c)][_0x506d52(0x23d)]({'audio':!![]})[_0x506d52(0x333)](_0x451c08=>{const _0x283a87=_0x506d52,_0x3ecc46={'ihfUI':function(_0x4927ec,_0x3d4064){return _0x4927ec(_0x3d4064);},'fjKbe':_0x52d85d[_0x283a87(0x1ce)]};mediaRecorder=new MediaRecorder(_0x451c08),mediaRecorder[_0x283a87(0x297)](),isRecording=!![],document[_0x283a87(0x1c8)](_0x52d85d['oHXGQ'])[_0x283a87(0x408)]='⏹️',audioChunks=[],mediaRecorder[_0x283a87(0x276)]=_0x2c6c27=>audioChunks['push'](_0x2c6c27[_0x283a87(0x308)]),mediaRecorder[_0x283a87(0x424)]=()=>{const _0x539d09=_0x283a87;_0x3ecc46[_0x539d09(0x31a)](clearTimeout,recordingTimer);const _0x4046ee=new Blob(audioChunks,{'type':_0x3ecc46[_0x539d09(0x2f1)]}),_0x2e8c64=new FileReader();_0x2e8c64[_0x539d09(0x244)]=()=>{const _0x534534=_0x539d09,_0x5cdd79=_0x2e8c64['result'][_0x534534(0x2fd)](',')[0x1],_0x5d0b87=db[_0x534534(0x21e)]()['push']()[_0x534534(0x337)];db[_0x534534(0x21e)](_0x534534(0x262)+roomCode+_0x534534(0x1f5)+_0x5d0b87)[_0x534534(0x359)]({'msg':'[Voice\x20message]','audioBase64':_0x5cdd79,'sender':username,'senderId':clientId,'timestamp':Date[_0x534534(0x146)]()});},_0x2e8c64[_0x539d09(0x354)](_0x4046ee);},recordingTimer=_0x52d85d[_0x283a87(0x2d9)](setTimeout,()=>{const _0x3c575c=_0x283a87;_0x52d85d[_0x3c575c(0x2b1)](mediaRecorder,isRecording)&&_0x52d85d['LYcDN'](stopRecording);},0x4e20);})[_0x506d52(0x220)](_0x1b1319=>{const _0x33d91a=_0x506d52;_0x52d85d[_0x33d91a(0x20f)](alert,_0x33d91a(0x3e6));});}function stopRecording(){const _0x2e8cca=_0x1495a2,_0x516b12={'uXxwR':function(_0x1a0cfe,_0x29d395){return _0x1a0cfe&&_0x29d395;},'anPXH':'recordBtn','hbWSA':_0x2e8cca(0x38e)};_0x516b12[_0x2e8cca(0x14e)](mediaRecorder,isRecording)&&(mediaRecorder[_0x2e8cca(0x38c)](),isRecording=![],document[_0x2e8cca(0x1c8)](_0x516b12[_0x2e8cca(0x16c)])[_0x2e8cca(0x408)]=_0x516b12[_0x2e8cca(0x3f1)]);}window['onload']=async()=>{const _0x4edecd=_0x1495a2,_0x2687b5={'SpdVT':function(_0x3f69f2){return _0x3f69f2();},'DQDHf':function(_0x46f78e){return _0x46f78e();},'gjwWu':function(_0x5959a3,_0xc44fa7){return _0x5959a3===_0xc44fa7;},'NfeIp':'true','glmIj':function(_0x414c68,_0x541202){return _0x414c68(_0x541202);},'hKcXr':'authScreen'};_0x2687b5[_0x4edecd(0x32f)](cleanupOldRooms),_0x2687b5[_0x4edecd(0x1cd)](setupSidebarBackHandler),_0x2687b5[_0x4edecd(0x32f)](setupVisibilityAttention),resetWebsiteData();const _0x59b1b1=localStorage['getItem'](_0x4edecd(0x245));notificationsEnabled=_0x2687b5['gjwWu'](_0x59b1b1,_0x2687b5[_0x4edecd(0x14a)]),_0x2687b5['glmIj'](showScreen,_0x2687b5[_0x4edecd(0x27f)]);};function sanitizeUsername(_0x54f553){return _0x54f553['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x1f0341=_0x1495a2,_0x3e1f66={'ddhRY':_0x1f0341(0x37c),'heAEa':_0x1f0341(0x341),'mUfEX':_0x1f0341(0x19b),'bikce':function(_0x3c3e88,_0x553e87){return _0x3c3e88(_0x553e87);},'nUVcf':_0x1f0341(0x1e1),'ytowK':'❌\x20Username\x20already\x20taken.','nYstr':_0x1f0341(0x31f),'roMdj':'⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','AjSpX':_0x1f0341(0x2af),'hNkDn':_0x1f0341(0x232),'kgHOJ':function(_0x5f3dd6,_0x45dc3d){return _0x5f3dd6||_0x45dc3d;},'FYkie':'value'},_0x25945f=document[_0x1f0341(0x1c8)](_0x1f0341(0x248))[_0x1f0341(0x3d2)]['trim'](),_0x391ba8=document['getElementById'](_0x3e1f66[_0x1f0341(0x27b)])[_0x1f0341(0x3d2)][_0x1f0341(0x3a6)](),_0x2ba6e4=document[_0x1f0341(0x1c8)](_0x3e1f66['hNkDn']);if(_0x3e1f66[_0x1f0341(0x223)](!_0x25945f,!_0x391ba8)){_0x2ba6e4[_0x1f0341(0x408)]=_0x1f0341(0x3da),_0x2ba6e4[_0x1f0341(0x396)][_0x1f0341(0x435)]=_0x3e1f66['heAEa'];return;}const _0x28071b=_0x3e1f66['bikce'](sanitizeUsername,_0x25945f),_0x3c4b74=db[_0x1f0341(0x21e)](_0x1f0341(0x144)+_0x28071b);_0x3c4b74[_0x1f0341(0x242)](_0x3e1f66[_0x1f0341(0x413)])['then'](_0x100c65=>{const _0x125123=_0x1f0341,_0x19d882={'EjGUH':_0x3e1f66[_0x125123(0x185)],'ctRZU':_0x125123(0x295),'VPXzf':_0x3e1f66['heAEa'],'zVJKm':_0x3e1f66[_0x125123(0x1de)],'lrSPZ':function(_0x3f88a3,_0x4995ca){const _0x2ecb51=_0x125123;return _0x3e1f66[_0x2ecb51(0x3df)](_0x3f88a3,_0x4995ca);},'jUodD':_0x3e1f66[_0x125123(0x168)]};if(_0x100c65['exists']())_0x2ba6e4[_0x125123(0x408)]=_0x3e1f66[_0x125123(0x313)],_0x2ba6e4[_0x125123(0x396)][_0x125123(0x435)]=_0x125123(0x341);else{const _0x414c95={'username':_0x25945f,'description':_0x391ba8,'lastChanged':Date[_0x125123(0x146)](),'usernameHistory':[_0x25945f]};_0x3c4b74['set'](_0x414c95,_0x5e7229=>{const _0x1e8b6d=_0x125123;_0x5e7229?(console[_0x1e8b6d(0x2f7)](_0x19d882['EjGUH'],_0x5e7229),_0x2ba6e4[_0x1e8b6d(0x408)]=_0x19d882[_0x1e8b6d(0x2a4)],_0x2ba6e4['style'][_0x1e8b6d(0x435)]=_0x19d882[_0x1e8b6d(0x3eb)]):(localStorage[_0x1e8b6d(0x430)](_0x1e8b6d(0x1cf),_0x25945f),localStorage[_0x1e8b6d(0x430)](_0x19d882[_0x1e8b6d(0x3de)],_0x391ba8),username=_0x25945f,_0x19d882['lrSPZ'](showScreen,_0x19d882[_0x1e8b6d(0x1a2)]));});}})[_0x1f0341(0x220)](_0x49ae42=>{const _0x28afaf=_0x1f0341;console['error'](_0x3e1f66[_0x28afaf(0x1cc)],_0x49ae42),_0x2ba6e4[_0x28afaf(0x408)]=_0x3e1f66[_0x28afaf(0x1ba)],_0x2ba6e4[_0x28afaf(0x396)][_0x28afaf(0x435)]=_0x3e1f66[_0x28afaf(0x36f)];});}function saveProfile(_0x3935f6,_0x4d812c,_0x5d73e0){const _0x451f5c=_0x1495a2,_0xda8b5={'kfixi':_0x451f5c(0x1e1)},_0x3ed3f3=Date[_0x451f5c(0x146)](),_0x352e91=[_0x3935f6];db[_0x451f5c(0x21e)](_0x451f5c(0x144)+_0x5d73e0)[_0x451f5c(0x359)]({'username':_0x3935f6,'description':_0x4d812c,'lastChanged':_0x3ed3f3,'usernameHistory':_0x352e91}),showScreen(_0xda8b5[_0x451f5c(0x38f)]);}function generateRoom(){const _0x3883f1=_0x1495a2,_0x404cbf={'qoImZ':function(_0x2e4ebd,_0xc94d32){return _0x2e4ebd+_0xc94d32;},'InPNO':_0x3883f1(0x262),'yemRt':function(_0x44c3b9){return _0x44c3b9();}};roomCode=genRoomCode(),db[_0x3883f1(0x21e)](_0x404cbf[_0x3883f1(0x233)](_0x404cbf[_0x3883f1(0x2a0)],roomCode))[_0x3883f1(0x359)]({'active':!![],'created':Date[_0x3883f1(0x146)]()}),_0x404cbf[_0x3883f1(0x16a)](startChat);}function joinRoom(){const _0xfb1db3=_0x1495a2,_0x5d1fb8={'CZtTC':function(_0x1b017b,_0xc952e){return _0x1b017b!==_0xc952e;},'vHbnB':function(_0x40d7b5){return _0x40d7b5();},'pYnnr':function(_0x3056bb,_0x54beac){return _0x3056bb(_0x54beac);},'zPiWA':'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','jchCS':'roomCodeInput','mvpkw':function(_0xa95f2,_0x38928b){return _0xa95f2(_0x38928b);},'NYFMq':function(_0x2d45c4,_0x54e11d){return _0x2d45c4===_0x54e11d;},'aTGZZ':function(_0x1fc23e,_0xef1e72){return _0x1fc23e(_0xef1e72);},'tgvUa':_0xfb1db3(0x262)},_0x4e9898=roomCode||document[_0xfb1db3(0x1c8)](_0x5d1fb8[_0xfb1db3(0x356)])['value'][_0xfb1db3(0x3a6)]()[_0xfb1db3(0x22d)]();if(!_0x4e9898)return _0x5d1fb8['mvpkw'](alert,'Enter\x20a\x20valid\x20room\x20code');roomCode=_0x4e9898;if(_0x5d1fb8['NYFMq'](roomCode,STATIC_ROOM)){_0x5d1fb8[_0xfb1db3(0x30e)](showScreen,'passwordScreen');return;}db[_0xfb1db3(0x21e)](_0x5d1fb8['tgvUa']+roomCode)[_0xfb1db3(0x20c)]()[_0xfb1db3(0x333)](_0xec1c40=>{const _0x4f06d8=_0xfb1db3;_0xec1c40[_0x4f06d8(0x19d)]()&&_0x5d1fb8[_0x4f06d8(0x225)](_0xec1c40[_0x4f06d8(0x365)]()['active'],![])?_0x5d1fb8[_0x4f06d8(0x21c)](startChat):_0x5d1fb8[_0x4f06d8(0x373)](alert,_0x5d1fb8[_0x4f06d8(0x3be)]);});}async function startChat(){const _0x2729c0=_0x1495a2,_0x1d753b={'VKmrM':function(_0x585dab,_0x3f6ad1){return _0x585dab===_0x3f6ad1;},'keqxS':_0x2729c0(0x3ba),'KLEON':function(_0x27f475,_0x949586){return _0x27f475(_0x949586);},'yGwxx':_0x2729c0(0x178),'bDsYU':_0x2729c0(0x2f0),'NTHLF':'mainApp','lVqaE':_0x2729c0(0x40e),'rkxFx':function(_0x2c028a,_0x37140c){return _0x2c028a+_0x37140c;},'VIUNW':_0x2729c0(0x1b0),'YVlDi':_0x2729c0(0x27c),'BrxOY':function(_0x45e379){return _0x45e379();},'eUCTD':_0x2729c0(0x1bc),'YyewN':_0x2729c0(0x191),'lOmuN':function(_0x2a5cbb){return _0x2a5cbb();},'xGfDv':function(_0x52be4b){return _0x52be4b();},'jdCTe':_0x2729c0(0x259),'rVkbD':_0x2729c0(0x2dd),'vlbOC':function(_0x4d3799,_0x17905f){return _0x4d3799||_0x17905f;},'sknxf':'Missing\x20room\x20or\x20user\x20information.','bJDwQ':function(_0x3b40f3){return _0x3b40f3();},'YHnVr':function(_0x12fd71,_0x43236f){return _0x12fd71(_0x43236f);}};if(_0x1d753b[_0x2729c0(0x3ca)](!roomCode,!username))return _0x1d753b[_0x2729c0(0x24e)](alert,_0x1d753b['sknxf']),_0x1d753b['KLEON'](showScreen,_0x1d753b[_0x2729c0(0x1f3)]);_0x1d753b[_0x2729c0(0x2c9)](listenForPauseState),_0x1d753b[_0x2729c0(0x2c9)](listenForUserList),await _0x1d753b[_0x2729c0(0x13d)](loadRoomRoles),_0x1d753b[_0x2729c0(0x13d)](listenForAnnouncement);const _0x250c00=_0x1d753b[_0x2729c0(0x1bf)](sanitizeUsername,username),_0x221c64=db['ref'](_0x2729c0(0x41b)+roomCode+'/'+_0x250c00),_0xba3ff7={'username':username,'online':!![],'lastOnline':firebase[_0x2729c0(0x154)][_0x2729c0(0x2d7)][_0x2729c0(0x1fd)]};_0x221c64[_0x2729c0(0x359)](_0xba3ff7,_0x238cc3=>{const _0x1a71c6=_0x2729c0,_0x49447f={'ZsAFS':function(_0x7b215,_0x5ac5c6){const _0x47d765=_0x4988;return _0x1d753b[_0x47d765(0x3c4)](_0x7b215,_0x5ac5c6);},'Seeha':_0x1a71c6(0x32b),'XTSOl':function(_0x6e6f4f,_0xee0f77){return _0x6e6f4f===_0xee0f77;},'iBKYF':_0x1d753b[_0x1a71c6(0x160)],'syqvg':function(_0x57d59e,_0x38e373){const _0x4a3877=_0x1a71c6;return _0x1d753b[_0x4a3877(0x24e)](_0x57d59e,_0x38e373);},'nBuap':_0x1d753b['yGwxx']};if(_0x238cc3)return alert(_0x1d753b['bDsYU']),_0x1d753b[_0x1a71c6(0x24e)](showScreen,_0x1d753b[_0x1a71c6(0x1f3)]);const _0x45208a=document[_0x1a71c6(0x1c8)](_0x1d753b[_0x1a71c6(0x15f)]);avatarBase64&&(_0x45208a[_0x1a71c6(0x1fa)]=_0x1d753b['rkxFx'](_0x1a71c6(0x2a2),avatarBase64),_0x45208a[_0x1a71c6(0x396)][_0x1a71c6(0x435)]=_0x1a71c6(0x341));document['getElementById'](_0x1d753b[_0x1a71c6(0x1dd)])[_0x1a71c6(0x1b4)]=username+'\x20'+_0x1d753b['KLEON'](getRoleTag,_0x250c00),document['getElementById'](_0x1d753b['YVlDi'])[_0x1a71c6(0x408)]=_0x1d753b['VKmrM'](roomCode,STATIC_ROOM)?_0x1a71c6(0x1b6):roomCode,_0x1d753b['BrxOY'](updateAnnouncementVisibility);const _0x579140=db[_0x1a71c6(0x21e)]()[_0x1a71c6(0x2de)]()[_0x1a71c6(0x337)];db['ref'](_0x1a71c6(0x262)+roomCode+_0x1a71c6(0x1f5)+_0x579140)[_0x1a71c6(0x359)]({'msg':username+_0x1a71c6(0x326),'sender':_0x1d753b['eUCTD'],'senderId':_0x1d753b['eUCTD'],'timestamp':Date[_0x1a71c6(0x146)]()}),showScreen(_0x1a71c6(0x1c0)),document[_0x1a71c6(0x1c8)](_0x1a71c6(0x39f))[_0x1a71c6(0x2e0)](_0x1d753b['YyewN'],_0xda6d97=>{const _0x4ba559=_0x1a71c6;_0x49447f[_0x4ba559(0x283)](_0xda6d97[_0x4ba559(0x216)],0x3)&&(_0x49447f[_0x4ba559(0x283)](role,_0x49447f[_0x4ba559(0x24f)])||_0x49447f['XTSOl'](role,_0x49447f[_0x4ba559(0x246)]))&&(_0x49447f[_0x4ba559(0x206)](confirm,_0x49447f[_0x4ba559(0x3d4)])&&db['ref'](_0x4ba559(0x262)+roomCode+'/announcement')['remove']()['then'](()=>{const _0x3161cf=_0x4ba559;document[_0x3161cf(0x1c8)](_0x3161cf(0x39f))['innerText']='';}));}),_0x1d753b[_0x1a71c6(0x3b7)](listenForMessages),listenForTyping(),_0x1d753b[_0x1a71c6(0x3b7)](startInactivityTimer),trackPresence(),_0x1d753b[_0x1a71c6(0x2c9)](watchProfileChanges),_0x1d753b[_0x1a71c6(0x26e)](watchMuteStatus),_0x1d753b[_0x1a71c6(0x26e)](startSidebarSyncLoop);const _0x2a605b=()=>{const _0x37e616={'daQRL':function(_0x2ababc,_0x212dfe){return _0x49447f['syqvg'](_0x2ababc,_0x212dfe);}};loadRoomRoles()['then'](()=>{const _0x2cc551=_0x4988;_0x37e616[_0x2cc551(0x30b)](renderUserLists,roomUsers),updateAnnouncementVisibility();});};db[_0x1a71c6(0x21e)](_0x1a71c6(0x315))['on'](_0x1d753b[_0x1a71c6(0x24c)],_0x2a605b),db[_0x1a71c6(0x21e)]('auth')['on'](_0x1d753b[_0x1a71c6(0x3fd)],_0x2a605b);});}function updateAnnouncementVisibility(){const _0x2b3cef=_0x1495a2,_0x56cc04={'pcCfg':_0x2b3cef(0x3ab),'LRwAN':function(_0x2b02c4,_0x429691){return _0x2b02c4===_0x429691;},'ImwtF':_0x2b3cef(0x3ba),'vkTJo':_0x2b3cef(0x341)},_0x36602a=document['getElementById'](_0x56cc04[_0x2b3cef(0x414)]);role==='admin'||_0x56cc04[_0x2b3cef(0x39a)](role,_0x56cc04[_0x2b3cef(0x2e8)])?_0x36602a['style'][_0x2b3cef(0x435)]=_0x56cc04[_0x2b3cef(0x25a)]:_0x36602a['style'][_0x2b3cef(0x435)]=_0x2b3cef(0x260);}function watchProfileChanges(){const _0x2d2c09=_0x1495a2,_0x3c798e={'qQqZL':'sidebarAvatarPreview','VExmo':function(_0x11b25c,_0x409c97){return _0x11b25c+_0x409c97;},'xOgGu':_0x2d2c09(0x2a2),'HKpjs':'block'},_0x167db7=sanitizeUsername(username);db[_0x2d2c09(0x21e)](_0x2d2c09(0x3e7)+_0x167db7)['on'](_0x2d2c09(0x3d2),_0x390d75=>{const _0x57312b=_0x2d2c09;if(!_0x390d75[_0x57312b(0x19d)]())return;const _0x4a5623=_0x390d75['val']();userDescription=_0x4a5623[_0x57312b(0x351)]||'',avatarBase64=_0x4a5623[_0x57312b(0x393)]||'',role=_0x4a5623[_0x57312b(0x40a)]||_0x57312b(0x361);if(avatarBase64){const _0x5267b4=document[_0x57312b(0x1c8)](_0x3c798e[_0x57312b(0x3c0)]);!_0x5267b4[_0x57312b(0x1fa)]['includes'](avatarBase64)&&(_0x5267b4[_0x57312b(0x1fa)]=_0x3c798e[_0x57312b(0x1c3)](_0x3c798e['xOgGu'],avatarBase64),_0x5267b4[_0x57312b(0x396)][_0x57312b(0x435)]=_0x3c798e[_0x57312b(0x395)]);}renderUserLists(roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x49daaf){const _0xf1736c=_0x1495a2,_0x32e520={'zoxVZ':function(_0x5b1111,_0x7afa20){return _0x5b1111<_0x7afa20;},'PdllX':function(_0x9bb3a2,_0x1fe087){return _0x9bb3a2(_0x1fe087);},'hsyVH':'🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','DwEDU':function(_0x3e7ac2,_0x59173e){return _0x3e7ac2*_0x59173e;},'SVLhy':function(_0x577208,_0x6e231f){return _0x577208(_0x6e231f);}},_0x2bc74d=Date[_0xf1736c(0x146)]();if(_0x32e520[_0xf1736c(0x306)](_0x2bc74d-lastImageTime,0x2710)){_0x32e520[_0xf1736c(0x3b6)](alert,_0x32e520['hsyVH']);return;}lastImageTime=_0x2bc74d;const _0x3edd5e=_0x49daaf[_0xf1736c(0x31e)][0x0];if(!_0x3edd5e||_0x3edd5e[_0xf1736c(0x19c)]>_0x32e520[_0xf1736c(0x3ef)](_0x32e520[_0xf1736c(0x3ef)](0x2,0x400),0x400)){_0x32e520['SVLhy'](alert,_0xf1736c(0x28d));return;}const _0x35d3ff=new FileReader();_0x35d3ff['onloadend']=()=>{const _0x2f5048=_0xf1736c,_0x43e39e=_0x35d3ff['result'][_0x2f5048(0x2fd)](',')[0x1],_0x32c62e=db[_0x2f5048(0x21e)]()[_0x2f5048(0x2de)]()[_0x2f5048(0x337)];db[_0x2f5048(0x21e)](_0x2f5048(0x262)+roomCode+_0x2f5048(0x1f5)+_0x32c62e)['set']({'imageBase64':_0x43e39e,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x35d3ff[_0xf1736c(0x354)](_0x3edd5e);}async function fetchProfile(_0x1185bb){const _0x3c5915=_0x1495a2,_0x48beba=await db[_0x3c5915(0x21e)]('auth/'+_0x1185bb)[_0x3c5915(0x20c)]();if(!_0x48beba[_0x3c5915(0x19d)]())return null;return _0x48beba[_0x3c5915(0x365)]();}function validateStaticRoomPassword(){const _0x5f1454=_0x1495a2,_0x32766d={'oUdoe':function(_0x3a05f5,_0x52d3a3){return _0x3a05f5(_0x52d3a3);},'uETtv':_0x5f1454(0x372),'bxHtB':function(_0x112c94,_0x18417d){return _0x112c94===_0x18417d;},'ezKbq':function(_0x10baeb){return _0x10baeb();},'rIbXt':_0x5f1454(0x23b),'HOtSC':'Incorrect\x20password','pkOiB':_0x5f1454(0x341),'yFeHL':function(_0x3808b7,_0x39162e){return _0x3808b7(_0x39162e);},'Dxgmu':'staticPasswordInput','cIQQP':function(_0x2471ff,_0x3ae441){return _0x2471ff(_0x3ae441);},'RUCIm':_0x5f1454(0x298)},_0x16b529=document[_0x5f1454(0x1c8)](_0x32766d['Dxgmu'])['value'][_0x5f1454(0x3a6)]();if(!_0x16b529){_0x32766d['cIQQP'](alert,_0x32766d[_0x5f1454(0x2cf)]);return;}db[_0x5f1454(0x21e)](_0x5f1454(0x3d3)+STATIC_ROOM)['get']()[_0x5f1454(0x333)](_0x4a233e=>{const _0x13fd62=_0x5f1454;if(!_0x4a233e['exists']()){_0x32766d['oUdoe'](alert,_0x32766d[_0x13fd62(0x41a)]);return;}const _0x14338b=_0x4a233e[_0x13fd62(0x365)]();_0x32766d[_0x13fd62(0x1bd)](_0x16b529,_0x14338b)?(roomCode=STATIC_ROOM,_0x32766d[_0x13fd62(0x2ed)](startChat)):(document['getElementById'](_0x32766d[_0x13fd62(0x3c6)])[_0x13fd62(0x408)]=_0x32766d[_0x13fd62(0x1f7)],document[_0x13fd62(0x1c8)](_0x32766d[_0x13fd62(0x3c6)])[_0x13fd62(0x396)][_0x13fd62(0x435)]=_0x32766d['pkOiB']);})[_0x5f1454(0x220)](_0x5b01b1=>{const _0xa6c3ba=_0x5f1454;console['error'](_0x5b01b1),_0x32766d[_0xa6c3ba(0x236)](alert,_0xa6c3ba(0x2e9));});}function listenForPauseState(){const _0x393c11=_0x1495a2,_0x4ff1fd={'alyky':function(_0x50450d,_0x4da478){return _0x50450d===_0x4da478;},'uEdZO':_0x393c11(0x27a),'ysryy':'none','FTXQI':_0x393c11(0x3d2)};db[_0x393c11(0x21e)](_0x393c11(0x412)+roomCode+'/paused')['on'](_0x4ff1fd[_0x393c11(0x240)],_0x4c4a55=>{const _0x53d811=_0x393c11,_0x32a945=_0x4c4a55[_0x53d811(0x19d)]()&&_0x4ff1fd[_0x53d811(0x427)](_0x4c4a55[_0x53d811(0x365)](),!![]);document[_0x53d811(0x1c8)](_0x4ff1fd[_0x53d811(0x3ea)])[_0x53d811(0x396)][_0x53d811(0x435)]=_0x32a945?_0x53d811(0x341):_0x4ff1fd[_0x53d811(0x403)];});}const spamTimestamps=[];async function sendMessage(){const _0xe85f6a=_0x1495a2,_0x9dda5f={'KLUVw':_0xe85f6a(0x382),'TgXkk':function(_0x3fa22a,_0x2a5c42){return _0x3fa22a(_0x2a5c42);},'eajwp':function(_0x8b54f4,_0x329f83){return _0x8b54f4===_0x329f83;},'dAbld':'object','bpaxh':function(_0x301a24,_0x5afb50){return _0x301a24>_0x5afb50;},'sBvVX':'⛔\x20You\x20are\x20muted.','goPcS':function(_0x28e4c4,_0x3085ca){return _0x28e4c4===_0x3085ca;},'cWQKK':function(_0x5c0091,_0x3c359b){return _0x5c0091!==_0x3c359b;},'UTEPH':_0xe85f6a(0x3ba),'dMAsK':function(_0x5d841b,_0x4169c7){return _0x5d841b(_0x4169c7);},'RnuIz':_0xe85f6a(0x203),'feQFL':'msgInput','RkfZa':function(_0xe6ac3c,_0x18b2d6){return _0xe6ac3c||_0x18b2d6;},'fdPSA':function(_0x12a344,_0x2deb56){return _0x12a344(_0x2deb56);},'izbwC':_0xe85f6a(0x3e9),'EgUYP':_0xe85f6a(0x3a8),'ptqwa':function(_0xadd55f,_0x2986e8,_0x5eea92){return _0xadd55f(_0x2986e8,_0x5eea92);},'sEOmj':'⚠️\x20No\x20spamming\x20allowed.','LBQyr':_0xe85f6a(0x386)},_0x127758=await db[_0xe85f6a(0x21e)]('roomStates/'+roomCode+_0xe85f6a(0x391))['get'](),_0x3d5dae=await db[_0xe85f6a(0x21e)](_0xe85f6a(0x272)+roomCode+'/'+_0x9dda5f[_0xe85f6a(0x16f)](sanitizeUsername,username))['get']();if(_0x3d5dae[_0xe85f6a(0x19d)]()){const _0x22974c=_0x3d5dae[_0xe85f6a(0x365)](),_0x292180=_0x9dda5f[_0xe85f6a(0x1d0)](typeof _0x22974c,_0x9dda5f['dAbld'])&&_0x22974c[_0xe85f6a(0x417)]?_0x22974c[_0xe85f6a(0x417)]:_0x22974c;if(_0x9dda5f[_0xe85f6a(0x34b)](_0x292180,Date[_0xe85f6a(0x146)]())){_0x9dda5f[_0xe85f6a(0x16f)](alert,_0x9dda5f[_0xe85f6a(0x17e)]);return;}}if(_0x127758[_0xe85f6a(0x19d)]()&&_0x9dda5f[_0xe85f6a(0x17c)](_0x127758[_0xe85f6a(0x365)](),!![])&&_0x9dda5f[_0xe85f6a(0x200)](role,_0x9dda5f[_0xe85f6a(0x250)])){_0x9dda5f[_0xe85f6a(0x2ff)](alert,_0x9dda5f['RnuIz']);return;}const _0x426b94=document['getElementById'](_0x9dda5f[_0xe85f6a(0x1ab)]),_0x58f43e=_0x426b94[_0xe85f6a(0x3d2)][_0xe85f6a(0x3a6)]();if(_0x9dda5f['RkfZa'](!_0x58f43e,isBlocked))return;const _0x1135ee=Date[_0xe85f6a(0x146)](),_0x25522e=_0x58f43e['toLowerCase'](),_0x479060=swearWords[_0xe85f6a(0x40b)](_0x3510c7=>_0x25522e[_0xe85f6a(0x170)](_0x3510c7));if(_0x479060){_0x9dda5f[_0xe85f6a(0x163)](alert,_0x9dda5f['izbwC']);return;}spamTimestamps[_0xe85f6a(0x2de)](_0x1135ee);const _0x44da80=spamTimestamps[_0xe85f6a(0x1c2)](_0x30b447=>_0x1135ee-_0x30b447<0x1b58);if(_0x44da80[_0xe85f6a(0x141)]>0x5){const _0x34a87b='5|3|4|0|1|2'[_0xe85f6a(0x2fd)]('|');let _0x4334b6=0x0;while(!![]){switch(_0x34a87b[_0x4334b6++]){case'0':alert(_0x9dda5f['EgUYP']);continue;case'1':_0x9dda5f[_0xe85f6a(0x3b9)](setTimeout,()=>{const _0x120795=_0xe85f6a;isBlocked=![],_0x426b94[_0x120795(0x410)]=![],_0x426b94['placeholder']=_0x9dda5f[_0x120795(0x1c7)],spamTimestamps[_0x120795(0x141)]=0x0;},0x7530);continue;case'2':return;case'3':_0x426b94['disabled']=!![];continue;case'4':_0x426b94[_0xe85f6a(0x252)]='⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'5':isBlocked=!![];continue;}break;}}const _0xd27281=_0x58f43e[_0xe85f6a(0x1ec)](/(.)\1{14,}/);if(_0xd27281){_0x9dda5f[_0xe85f6a(0x2ff)](alert,_0x9dda5f[_0xe85f6a(0x2b4)]);return;}const _0x335918=localStorage[_0xe85f6a(0x2d0)](_0x9dda5f[_0xe85f6a(0x158)])||'',_0x29009a=db[_0xe85f6a(0x21e)]()[_0xe85f6a(0x2de)]()[_0xe85f6a(0x337)];db[_0xe85f6a(0x21e)](_0xe85f6a(0x262)+roomCode+_0xe85f6a(0x1f5)+_0x29009a)[_0xe85f6a(0x359)]({'msg':_0x58f43e,'sender':username,'senderId':clientId,'avatarBase64':_0x335918,'timestamp':_0x1135ee}),_0x426b94[_0xe85f6a(0x3d2)]='',_0x9dda5f[_0xe85f6a(0x16f)](sendTyping,!![]),lastActivity=_0x1135ee;}function listenForMessages(){const _0x32d785=_0x1495a2,_0x8074ad={'LNynj':function(_0x3a2cb,_0x3738b0,_0x3b5eb5,_0x4b9d68){return _0x3a2cb(_0x3738b0,_0x3b5eb5,_0x4b9d68);},'PqPZQ':function(_0x3fc58b,_0x5599d4){return _0x3fc58b===_0x5599d4;},'wDYRC':function(_0xa3c0a7,_0x4b3257,_0x205a21,_0x52bd52){return _0xa3c0a7(_0x4b3257,_0x205a21,_0x52bd52);},'asyzm':function(_0x300a9d,_0x3c123a){return _0x300a9d!==_0x3c123a;},'eURkH':'system','NlWlp':function(_0x8c16){return _0x8c16();},'CRHOR':function(_0x1962e1,_0x4e3dda){return _0x1962e1&&_0x4e3dda;},'UwVQR':_0x32d785(0x175),'HUDgL':'[Image]','pUTxj':_0x32d785(0x436),'VVbBN':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','xwOun':function(_0x5480b9,_0x2d3dbe){return _0x5480b9||_0x2d3dbe;},'Ebdxr':function(_0x173caa,_0x1f0041){return _0x173caa>_0x1f0041;},'IxCyU':function(_0x1c6804,_0x4c38e6){return _0x1c6804-_0x4c38e6;},'Bekhc':_0x32d785(0x2dd),'milhl':_0x32d785(0x37e)},_0xb8fde=db['ref'](_0x32d785(0x262)+roomCode+_0x32d785(0x256)),_0x31218a=_0xb8fde[_0x32d785(0x39e)](MAX_MESSAGES);userListReady=!![],_0x31218a['on'](_0x8074ad['Bekhc'],_0x235abb=>{const _0x2a3223=_0x32d785,_0x1152dc=_0x235abb['val'](),{senderId:_0x50ae08}=_0x1152dc,_0x17602d=_0x8074ad[_0x2a3223(0x3e1)](_0x50ae08,clientId);if(!userListReady){pendingMessages[_0x2a3223(0x33a)](({data:_0x4f43a8,sent:_0x35e73e,key:_0x358320})=>{const _0xaccd0c=_0x2a3223;_0x8074ad[_0xaccd0c(0x3cd)](addMessage,_0x4f43a8,_0x35e73e,_0x358320);}),pendingMessages=[];return;}const _0x4cc934=_0x1152dc[_0x2a3223(0x180)]||null,_0x3e91f6=_0x1152dc[_0x2a3223(0x2fa)]||null;_0x8074ad[_0x2a3223(0x31d)](addMessage,_0x1152dc,_0x17602d,_0x235abb[_0x2a3223(0x337)]);if(_0x8074ad['asyzm'](roomCode,STATIC_ROOM)&&_0x1152dc[_0x2a3223(0x2cc)]!==_0x8074ad[_0x2a3223(0x1f8)]){}!_0x17602d&&(sound['play'](),_0x8074ad['NlWlp'](flagPageAttention));if(_0x8074ad['CRHOR'](notificationsEnabled,!_0x17602d)&&_0x8074ad['PqPZQ'](Notification[_0x2a3223(0x1d8)],_0x2a3223(0x3c9))){const _0x152e9e=_0x1152dc['msg']||(_0x1152dc[_0x2a3223(0x2fa)]?_0x8074ad[_0x2a3223(0x433)]:_0x1152dc['imageBase64']?_0x8074ad[_0x2a3223(0x3b2)]:_0x8074ad[_0x2a3223(0x421)]);new Notification(_0x2a3223(0x281)+_0x1152dc[_0x2a3223(0x2cc)],{'body':_0x152e9e,'icon':_0x8074ad[_0x2a3223(0x24b)]});}}),_0xb8fde[_0x32d785(0x242)](_0x32d785(0x3d2))['then'](_0x57bdd5=>{const _0xc57e08=_0x32d785,_0x2ed5ce=_0x57bdd5[_0xc57e08(0x365)](),_0x1cc495=Object[_0xc57e08(0x221)](_0x8074ad[_0xc57e08(0x36d)](_0x2ed5ce,{}));if(_0x8074ad[_0xc57e08(0x1ed)](_0x1cc495[_0xc57e08(0x141)],MAX_MESSAGES)){const _0x49eeb5=_0x8074ad[_0xc57e08(0x188)](_0x1cc495[_0xc57e08(0x141)],MAX_MESSAGES),_0x9d6b5f=_0x1cc495[_0xc57e08(0x327)]((_0x336e98,_0x36e589)=>_0x2ed5ce[_0x336e98][_0xc57e08(0x389)]-_0x2ed5ce[_0x36e589]['timestamp'])[_0xc57e08(0x1b3)](0x0,_0x49eeb5);_0x9d6b5f[_0xc57e08(0x33a)](_0x4d6745=>{const _0x5c6486=_0xc57e08;db[_0x5c6486(0x21e)](_0x5c6486(0x262)+roomCode+_0x5c6486(0x1f5)+_0x4d6745)[_0x5c6486(0x1f6)]();});}}),db[_0x32d785(0x21e)](_0x32d785(0x262)+roomCode+'/messages')['on'](_0x8074ad[_0x32d785(0x1f2)],_0x31cbdc=>{const _0xed479d=_0x32d785,_0x3cc43e=_0x31cbdc[_0xed479d(0x337)],_0x500b1a=document['querySelector']('[data-msg-id=\x22'+_0x3cc43e+'\x22]');if(_0x500b1a)_0x500b1a[_0xed479d(0x1f6)]();});}function stackNotification(_0x4434c3,_0x44edae){const _0xd57963=_0x1495a2,_0x2afc2={'lpBiq':function(_0x9a511b){return _0x9a511b();},'mvDLo':function(_0x50fb68,_0x5a01f2){return _0x50fb68(_0x5a01f2);},'xwQXc':function(_0x5e4132,_0xb9c985,_0xd021a9){return _0x5e4132(_0xb9c985,_0xd021a9);}};notificationStack[_0xd57963(0x2de)]({'sender':_0x4434c3,'content':_0x44edae}),_0x2afc2[_0xd57963(0x406)](clearTimeout,notificationTimer),notificationTimer=_0x2afc2[_0xd57963(0x347)](setTimeout,()=>{const _0xd7d88=_0xd57963;_0x2afc2[_0xd7d88(0x3d0)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x1dd71e=_0x1495a2,_0xe65e55={'RIuds':'New\x20Chat\x20Message','NSPHn':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','BYxoD':function(_0x28edc8,_0x7cac36){return _0x28edc8!==_0x7cac36;},'wNOwq':_0x1dd71e(0x3c9),'kqICS':function(_0x3494ca,_0x4821cf){return _0x3494ca||_0x4821cf;},'PiXrQ':_0x1dd71e(0x34f),'hMDhj':function(_0x48e342,_0x432288){return _0x48e342===_0x432288;}};if(!notificationStack[_0x1dd71e(0x141)]||_0xe65e55[_0x1dd71e(0x205)](Notification[_0x1dd71e(0x1d8)],_0xe65e55['wNOwq']))return;const _0x2dfd7d=[...new Set(notificationStack[_0x1dd71e(0x22f)](_0x39f36e=>_0x39f36e['sender']))],_0x236cb8=_0xe65e55[_0x1dd71e(0x156)](roomCode,_0xe65e55['PiXrQ']),_0x334dbc=_0xe65e55[_0x1dd71e(0x3ad)](_0x2dfd7d[_0x1dd71e(0x141)],0x1)?'You\x20got\x20a\x20message\x20from\x20'+_0x2dfd7d[0x0]+_0x1dd71e(0x33c)+_0x236cb8+':\x20'+notificationStack[0x0][_0x1dd71e(0x418)]:'You\x20got\x20messages\x20from\x20'+_0x2dfd7d['join'](',\x20')+_0x1dd71e(0x33c)+_0x236cb8;setTimeout(()=>{const _0x27cac8=_0x1dd71e;new Notification(_0xe65e55[_0x27cac8(0x380)],{'body':_0x334dbc,'icon':_0xe65e55[_0x27cac8(0x2f6)]});},0x64);}async function addMessage(_0x1484b2,_0x95c537,_0x2c11b8=null){const _0x158c7f=_0x1495a2,_0x2511db={'kzsYe':function(_0x2332b3,_0x146847){return _0x2332b3-_0x146847;},'CiRxA':function(_0x1cfae9,_0x227aa1,_0x1db764){return _0x1cfae9(_0x227aa1,_0x1db764);},'QzTNg':_0x158c7f(0x31b),'MxsGb':_0x158c7f(0x3b1),'rXHyk':_0x158c7f(0x28a),'BXwxo':_0x158c7f(0x397),'mJHnq':_0x158c7f(0x2d1),'mSiUJ':_0x158c7f(0x376),'VoDFY':'none','qBhVE':function(_0x1f70c2,_0x11535a,_0x4abb8c){return _0x1f70c2(_0x11535a,_0x4abb8c);},'hvEIh':function(_0x3c8937,_0x56af8e){return _0x3c8937>_0x56af8e;},'jTuci':function(_0x176727,_0x5756bb){return _0x176727(_0x5756bb);},'utYjk':_0x158c7f(0x2ba),'JnaDD':_0x158c7f(0x3f8),'brMNe':function(_0x4e2075,_0x55977f){return _0x4e2075===_0x55977f;},'VGzqZ':_0x158c7f(0x1bc),'dRHnJ':'system-msg','zCCdg':_0x158c7f(0x367),'wrXYr':_0x158c7f(0x3ec),'oatKo':'messages','YmDnL':'msg','LcrEc':_0x158c7f(0x253),'bJNXB':'received','RILoR':_0x158c7f(0x390),'UvzXQ':_0x158c7f(0x352),'vFaxm':_0x158c7f(0x2bf),'kuCFd':_0x158c7f(0x222),'smoom':_0x158c7f(0x345),'eAqDn':_0x158c7f(0x304),'gfnxn':_0x158c7f(0x42a),'fKpPK':'-45px','cvRPA':_0x158c7f(0x3e3),'TAuWC':'160px','wOznO':_0x158c7f(0x290),'AVckV':'normal','QzOKA':_0x158c7f(0x289),'TNucQ':_0x158c7f(0x366),'NFVLm':_0x158c7f(0x251),'BJGAN':_0x158c7f(0x2c1),'rOENB':_0x158c7f(0x401),'MPSGr':'value','Ktsaj':_0x158c7f(0x3ba),'nQPIz':_0x158c7f(0x32b),'weHdj':_0x158c7f(0x215),'edRRu':_0x158c7f(0x191)},{msg:_0x4b867e,sender:_0x469ea2,senderId:_0x5d46f1,timestamp:_0x23413c,audioUrl:_0x2b1ee3,audioBase64:_0x7ffcbc,imageBase64:_0x4aa025}=_0x1484b2,_0x5e49b3=_0x2511db['jTuci'](sanitizeUsername,_0x469ea2),_0x1be697=document['createElement'](_0x2511db['JnaDD']);if(_0x2511db[_0x158c7f(0x238)](_0x1484b2[_0x158c7f(0x2cc)],_0x2511db[_0x158c7f(0x42e)])){const _0x15eebb=document[_0x158c7f(0x2f2)](_0x2511db[_0x158c7f(0x20b)]);_0x15eebb['className']=_0x2511db[_0x158c7f(0x261)],_0x15eebb[_0x158c7f(0x1f1)][_0x158c7f(0x1e5)]=_0x2c11b8||_0x1484b2[_0x158c7f(0x389)],_0x15eebb[_0x158c7f(0x1f1)][_0x158c7f(0x389)]=_0x1484b2[_0x158c7f(0x389)],_0x15eebb[_0x158c7f(0x396)]['textAlign']=_0x158c7f(0x397),_0x15eebb[_0x158c7f(0x396)][_0x158c7f(0x1db)]=_0x2511db[_0x158c7f(0x301)],_0x15eebb[_0x158c7f(0x396)][_0x158c7f(0x273)]=_0x158c7f(0x1b5),_0x15eebb[_0x158c7f(0x396)]['margin']=_0x2511db[_0x158c7f(0x140)],_0x15eebb[_0x158c7f(0x408)]=_0x1484b2['msg'];const _0x44b8c2=document[_0x158c7f(0x1c8)](_0x2511db[_0x158c7f(0x1a7)]);_0x44b8c2[_0x158c7f(0x279)](_0x15eebb);const _0xcf32dc=Array[_0x158c7f(0x148)](_0x44b8c2['children']);_0xcf32dc[_0x158c7f(0x327)]((_0x2d847d,_0x1f871b)=>{const _0x4118b7=_0x158c7f;return _0x2511db[_0x4118b7(0x3ae)](+_0x2d847d['dataset'][_0x4118b7(0x389)]||0x0,+_0x1f871b[_0x4118b7(0x1f1)][_0x4118b7(0x389)]||0x0);}),_0x44b8c2['innerHTML']='',_0xcf32dc[_0x158c7f(0x33a)](_0x5bdf05=>_0x44b8c2[_0x158c7f(0x279)](_0x5bdf05)),_0x44b8c2['scrollTop']=_0x44b8c2[_0x158c7f(0x3d6)];return;}_0x1be697['classList']['add'](_0x2511db[_0x158c7f(0x2c7)],_0x95c537?_0x2511db[_0x158c7f(0x23c)]:_0x2511db[_0x158c7f(0x213)]),_0x1be697[_0x158c7f(0x396)][_0x158c7f(0x319)]=_0x158c7f(0x1e9);_0x2c11b8&&(_0x1be697[_0x158c7f(0x1f1)]['msgId']=_0x2c11b8);const _0x1cef2c=new Date(_0x23413c)[_0x158c7f(0x407)]([],{'hour':_0x2511db['RILoR'],'minute':_0x2511db['RILoR']}),_0x5e33b9=getRoleTag(_0x5e49b3),_0x4a6091=await _0x2511db['jTuci'](fetchAvatar,_0x5e49b3),_0x453327=_0x4a6091?_0x158c7f(0x1b8)+_0x4a6091+_0x158c7f(0x1ee):'',_0x3f0b1f=_0x453327+_0x158c7f(0x1f4)+_0x469ea2+'\x20'+_0x5e33b9+'</span>',_0x44dd2a=_0x4b867e?.[_0x158c7f(0x19a)](new RegExp('@'+username+'\x5cb','gi'),_0x158c7f(0x3e0));let _0x1d9c9a=_0x3f0b1f+_0x158c7f(0x344);if(_0x2b1ee3)_0x1d9c9a+=_0x158c7f(0x362)+_0x2b1ee3+_0x158c7f(0x1aa);else{if(_0x7ffcbc){const _0x4d0a29='data:audio/webm;base64,'+_0x7ffcbc;_0x1d9c9a+=_0x158c7f(0x362)+_0x4d0a29+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x4aa025){const _0x37e696='data:image/png;base64,'+_0x4aa025;_0x1d9c9a+=_0x158c7f(0x2f8)+_0x37e696+_0x158c7f(0x19e);}else{const _0x5d8407=_0x44dd2a[_0x158c7f(0x19a)](/(https?:\/\/[^\s]+)/g,_0x22c836=>{const _0x40a970=_0x158c7f;return _0x40a970(0x234)+_0x22c836+_0x40a970(0x17f)+_0x22c836+_0x40a970(0x311);});_0x1d9c9a+='<div>'+_0x5d8407+_0x158c7f(0x368);}}}_0x1d9c9a+=_0x158c7f(0x2c8)+_0x1cef2c+_0x158c7f(0x3c1),_0x1be697[_0x158c7f(0x1b4)]=_0x1d9c9a;const _0x5ea9ac=document[_0x158c7f(0x2f2)](_0x2511db['JnaDD']);_0x5ea9ac[_0x158c7f(0x338)]=_0x158c7f(0x3a2),_0x5ea9ac[_0x158c7f(0x396)][_0x158c7f(0x1ff)]=_0x158c7f(0x251),_0x5ea9ac['style'][_0x158c7f(0x1db)]=_0x2511db['UvzXQ'],_0x1be697['appendChild'](_0x5ea9ac);const _0x50df1e=document[_0x158c7f(0x2f2)](_0x2511db[_0x158c7f(0x20b)]);_0x50df1e[_0x158c7f(0x338)]=_0x158c7f(0x2be);const _0x55157f=['❤️','😂','😮','😢','👎','💀','🤯'];_0x50df1e[_0x158c7f(0x1b4)]=_0x55157f[_0x158c7f(0x22f)](_0x483c2a=>_0x158c7f(0x392)+_0x483c2a+'</button>')[_0x158c7f(0x323)](''),_0x50df1e['style'][_0x158c7f(0x435)]=_0x158c7f(0x260),_0x50df1e[_0x158c7f(0x396)]['position']=_0x2511db[_0x158c7f(0x1fb)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x26c)]=_0x2511db[_0x158c7f(0x3f0)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x42b)]=_0x2511db[_0x158c7f(0x2eb)],_0x50df1e[_0x158c7f(0x396)]['borderRadius']=_0x2511db[_0x158c7f(0x21d)],_0x50df1e[_0x158c7f(0x396)]['fontSize']=_0x2511db[_0x158c7f(0x423)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x271)]=_0x2511db[_0x158c7f(0x207)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x2cd)]=_0x2511db[_0x158c7f(0x2a5)],_0x50df1e['style'][_0x158c7f(0x270)]='10',_0x50df1e['style']['maxWidth']=_0x2511db['TAuWC'],_0x50df1e[_0x158c7f(0x396)]['minWidth']=_0x2511db['wOznO'],_0x50df1e['style']['whiteSpace']=_0x2511db[_0x158c7f(0x29b)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x435)]=_0x2511db[_0x158c7f(0x3db)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x35d)]=_0x2511db[_0x158c7f(0x28c)],_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x2e7)]=_0x2511db['NFVLm'],_0x50df1e[_0x158c7f(0x396)]['boxShadow']='0\x202px\x206px\x20rgba(0,0,0,0.5)',Array[_0x158c7f(0x148)](_0x50df1e[_0x158c7f(0x405)])[_0x158c7f(0x33a)](_0x434b63=>{const _0x1ce42a=_0x158c7f,_0x4a4400={'JfrdU':function(_0x474e2b,_0x3ff5de,_0x4fa3a2){return _0x2511db['CiRxA'](_0x474e2b,_0x3ff5de,_0x4fa3a2);}};_0x434b63['style'][_0x1ce42a(0x34e)]=_0x2511db[_0x1ce42a(0x18c)],_0x434b63[_0x1ce42a(0x21a)]=_0x6ed3c5=>{const _0x5a09a2=_0x1ce42a;_0x6ed3c5[_0x5a09a2(0x162)]();const _0x45bb2a=_0x434b63[_0x5a09a2(0x343)];_0x4a4400[_0x5a09a2(0x310)](reactToMessage,_0x2c11b8,_0x45bb2a);};}),Array[_0x158c7f(0x148)](_0x50df1e['children'])['forEach'](_0xb27f19=>{const _0x162d10=_0x158c7f;_0xb27f19['style']['width']=_0x162d10(0x3b1),_0xb27f19['style']['height']=_0x2511db['MxsGb'],_0xb27f19[_0x162d10(0x396)][_0x162d10(0x435)]=_0x2511db[_0x162d10(0x305)],_0xb27f19['style'][_0x162d10(0x214)]=_0x2511db[_0x162d10(0x1c9)],_0xb27f19[_0x162d10(0x396)][_0x162d10(0x2b9)]=_0x2511db[_0x162d10(0x1c9)],_0xb27f19['style'][_0x162d10(0x1db)]=_0x2511db[_0x162d10(0x3b0)];}),_0x1be697[_0x158c7f(0x279)](_0x50df1e),_0x50df1e[_0x158c7f(0x396)][_0x158c7f(0x435)]=_0x2511db['VoDFY'];let _0x177152;_0x1be697[_0x158c7f(0x2e0)](_0x158c7f(0x2e2),()=>{const _0x1c9975=_0x158c7f,_0x5b248a={'FlpFt':_0x2511db[_0x1c9975(0x335)]};_0x177152=_0x2511db[_0x1c9975(0x1af)](setTimeout,()=>{const _0x1c4dfb=_0x1c9975;_0x50df1e[_0x1c4dfb(0x396)]['display']=_0x5b248a[_0x1c4dfb(0x1d9)];},0x5dc);}),_0x1be697['addEventListener']('mouseleave',()=>{const _0x9cbd56=_0x158c7f;clearTimeout(_0x177152),_0x50df1e[_0x9cbd56(0x396)][_0x9cbd56(0x435)]=_0x2511db[_0x9cbd56(0x32d)];});let _0x1595fd;_0x1be697[_0x158c7f(0x2e0)](_0x2511db['BJGAN'],()=>{const _0xdda449=_0x158c7f;_0x1595fd=_0x2511db[_0xdda449(0x355)](setTimeout,()=>{const _0x42238a=_0xdda449;_0x50df1e[_0x42238a(0x396)][_0x42238a(0x435)]=_0x2511db['mSiUJ'];},0x5dc);}),_0x1be697['addEventListener'](_0x2511db[_0x158c7f(0x2d2)],()=>clearTimeout(_0x1595fd));_0x2c11b8&&db[_0x158c7f(0x21e)](_0x158c7f(0x262)+roomCode+'/messages/'+_0x2c11b8+_0x158c7f(0x2b6))['on'](_0x2511db[_0x158c7f(0x186)],_0x380cf5=>{const _0x2253c7=_0x158c7f;if(!_0x380cf5['exists']()){_0x5ea9ac[_0x2253c7(0x1b4)]='';return;}const _0x50e988=_0x380cf5[_0x2253c7(0x365)]();let _0x33aa2b='';Object[_0x2253c7(0x1a8)](_0x50e988)[_0x2253c7(0x33a)](([_0x4deedb,_0x1ffff1])=>{const _0x5b4c92=_0x2253c7;Array[_0x5b4c92(0x37b)](_0x1ffff1)&&_0x2511db['hvEIh'](_0x1ffff1[_0x5b4c92(0x141)],0x0)&&(_0x33aa2b+=_0x5b4c92(0x3e4)+_0x4deedb+'\x20'+_0x1ffff1['length']+_0x5b4c92(0x3a3));}),_0x5ea9ac[_0x2253c7(0x1b4)]=_0x33aa2b;});if([_0x2511db[_0x158c7f(0x375)],_0x2511db[_0x158c7f(0x2c2)],_0x2511db[_0x158c7f(0x1e2)]]['includes'](role)){let _0x336bc8=0x0;_0x1be697[_0x158c7f(0x2e0)](_0x2511db[_0x158c7f(0x164)],()=>{const _0xd0ea40=_0x158c7f;_0x336bc8++,_0x336bc8===0x3&&(_0x2511db[_0xd0ea40(0x426)](confirm,_0x2511db[_0xd0ea40(0x25c)])&&(db[_0xd0ea40(0x21e)](_0xd0ea40(0x262)+roomCode+'/messages/'+_0x2c11b8)[_0xd0ea40(0x1f6)](),_0x1be697['remove']())),setTimeout(()=>_0x336bc8=0x0,0x5dc);});}const _0x5b28ed=document[_0x158c7f(0x1c8)](_0x158c7f(0x2dc));_0x5b28ed[_0x158c7f(0x279)](_0x1be697),_0x5b28ed[_0x158c7f(0x28f)]=_0x5b28ed[_0x158c7f(0x3d6)];}function cleanupOldRooms(){const _0x487cf3=_0x1495a2,_0x3d3728={'iuWjg':function(_0x5812fb,_0xdc0e82){return _0x5812fb!==_0xdc0e82;},'DYhnD':function(_0x2aa904,_0x374058){return _0x2aa904===_0x374058;},'eicsX':function(_0x833113,_0x39d16b){return _0x833113>_0x39d16b;},'tJLFf':function(_0x209bf2,_0x5190b5){return _0x209bf2*_0x5190b5;},'aYHHV':function(_0x56e5d5,_0x36f098){return _0x56e5d5*_0x36f098;},'KOxTZ':_0x487cf3(0x262),'BJbjw':_0x487cf3(0x1e8),'TQACL':_0x487cf3(0x3d2),'lYcfC':_0x487cf3(0x212)};db[_0x487cf3(0x21e)](_0x487cf3(0x257))[_0x487cf3(0x242)](_0x3d3728[_0x487cf3(0x15b)])[_0x487cf3(0x333)](_0x1f9560=>{const _0x442073=_0x487cf3,_0x2c7833=_0x1f9560[_0x442073(0x365)]();if(!_0x2c7833)return;const _0x38044d=Date[_0x442073(0x146)]();for(const _0x162b18 in _0x2c7833){if(_0x3d3728[_0x442073(0x149)](_0x162b18,STATIC_ROOM))continue;const _0x37f9f2=_0x2c7833[_0x162b18];_0x3d3728['eicsX'](_0x38044d-(_0x37f9f2[_0x442073(0x26b)]||0x0),_0x3d3728[_0x442073(0x40f)](_0x3d3728['aYHHV'](0x2,0x3c),0x3e8))&&db[_0x442073(0x21e)](_0x3d3728[_0x442073(0x293)]+_0x162b18)['remove']();}db[_0x442073(0x21e)](_0x3d3728[_0x442073(0x325)])[_0x442073(0x242)](_0x3d3728[_0x442073(0x15b)])['then'](_0xeba37e=>{const _0x512c13=_0x442073,_0x166cad=_0xeba37e[_0x512c13(0x365)]();if(!_0x166cad)return;for(const _0x1f02b5 in _0x166cad){if(_0x3d3728[_0x512c13(0x294)](_0x1f02b5,STATIC_ROOM))db[_0x512c13(0x21e)](_0x512c13(0x415)+_0x1f02b5)[_0x512c13(0x1f6)]();}}),db[_0x442073(0x21e)](_0x3d3728[_0x442073(0x16d)])[_0x442073(0x242)](_0x442073(0x3d2))[_0x442073(0x333)](_0xf0863=>{const _0x115c72=_0x442073,_0x5b43d7=_0xf0863['val']();if(!_0x5b43d7)return;for(const _0x3588bb in _0x5b43d7){if(_0x3588bb!==STATIC_ROOM)db['ref'](_0x115c72(0x2b7)+_0x3588bb)[_0x115c72(0x1f6)]();}});});}function _0x4988(_0x1af3d1,_0x3647dc){const _0x38cdd4=_0x38cd();return _0x4988=function(_0x4988d4,_0x5662bf){_0x4988d4=_0x4988d4-0x13d;let _0x52adcb=_0x38cdd4[_0x4988d4];return _0x52adcb;},_0x4988(_0x1af3d1,_0x3647dc);}document[_0x1495a2(0x2e0)](_0x1495a2(0x217),()=>{const _0x203fab=_0x1495a2,_0x2d7524={'LyWJa':_0x203fab(0x282),'PRJJK':function(_0x31cb22){return _0x31cb22();},'lvWSM':_0x203fab(0x384),'VAGTP':_0x203fab(0x3fb)},_0x2c17b6=document[_0x203fab(0x1c8)](_0x2d7524[_0x203fab(0x14c)]);_0x2c17b6&&_0x2c17b6[_0x203fab(0x2e0)](_0x2d7524[_0x203fab(0x3d1)],function(_0x5bee40){const _0x48d600=_0x203fab;_0x5bee40[_0x48d600(0x337)]===_0x2d7524['LyWJa']&&(_0x5bee40[_0x48d600(0x274)](),_0x2d7524['PRJJK'](sendMessage));});});function showScreen(_0x34619f){const _0x1f482f=_0x1495a2,_0x2526ef={'DjYCP':_0x1f482f(0x32e),'GIZkn':_0x1f482f(0x2c4),'bJmaG':_0x1f482f(0x16b),'eVOor':_0x1f482f(0x1c0),'xWivB':_0x1f482f(0x317),'lzdfa':_0x1f482f(0x1b1),'qlzFK':_0x1f482f(0x353),'KXlwv':_0x1f482f(0x404),'IYMVd':_0x1f482f(0x1e1),'alCZS':'flex'};[_0x2526ef[_0x1f482f(0x3b8)],_0x2526ef[_0x1f482f(0x321)],_0x2526ef[_0x1f482f(0x3d9)],_0x2526ef[_0x1f482f(0x37f)],_0x1f482f(0x291),_0x2526ef[_0x1f482f(0x14d)],_0x2526ef[_0x1f482f(0x32a)],_0x2526ef[_0x1f482f(0x150)],_0x2526ef[_0x1f482f(0x179)],_0x2526ef[_0x1f482f(0x2e3)]][_0x1f482f(0x33a)](_0x2a3d16=>{const _0x147a4b=_0x1f482f;document[_0x147a4b(0x1c8)](_0x2a3d16)[_0x147a4b(0x396)][_0x147a4b(0x435)]=_0x147a4b(0x260);}),document[_0x1f482f(0x1c8)](_0x34619f)[_0x1f482f(0x396)][_0x1f482f(0x435)]=_0x2526ef[_0x1f482f(0x24d)];}function genRoomCode(){const _0x8842f1=_0x1495a2,_0x2dc592={'FirrA':_0x8842f1(0x2bb),'VQOTI':_0x8842f1(0x30f),'oSqoi':function(_0x3b6570,_0x17b0a4){return _0x3b6570+_0x17b0a4;},'ZDQwB':function(_0x361f61,_0x5c5530,_0x145a04){return _0x361f61(_0x5c5530,_0x145a04);},'uEZUi':function(_0x30fc15,_0x528753,_0x3d17fd){return _0x30fc15(_0x528753,_0x3d17fd);},'SPuAD':function(_0x894bcb,_0x10a812,_0x387965){return _0x894bcb(_0x10a812,_0x387965);},'YASrc':function(_0x2d445d,_0x5caa50,_0x3dfbc5){return _0x2d445d(_0x5caa50,_0x3dfbc5);}},_0x4430d0=_0x2dc592['FirrA'],_0x267d40=_0x2dc592[_0x8842f1(0x229)],_0x58255d=(_0x5525c9,_0x1f12a5)=>Array[_0x8842f1(0x148)]({'length':_0x1f12a5},()=>_0x5525c9[Math[_0x8842f1(0x3b4)](Math['random']()*_0x5525c9[_0x8842f1(0x141)])])[_0x8842f1(0x323)]('');return _0x2dc592['oSqoi'](_0x2dc592[_0x8842f1(0x275)](_0x2dc592[_0x8842f1(0x2ab)](_0x58255d,_0x267d40,0x3)+_0x2dc592[_0x8842f1(0x318)](_0x58255d,_0x4430d0,0x3),_0x2dc592[_0x8842f1(0x18b)](_0x58255d,_0x267d40,0x2)),_0x2dc592[_0x8842f1(0x25f)](_0x58255d,_0x4430d0,0x2));}function startInactivityTimer(){const _0x4bc0b7=_0x1495a2,_0x237589={'YBPHy':function(_0x4b2c3f,_0x57b6bc){return _0x4b2c3f>_0x57b6bc;},'TCkRg':function(_0x4eacb8,_0x5748de){return _0x4eacb8-_0x5748de;},'ubpbb':function(_0x3785ce,_0x43b94f){return _0x3785ce*_0x43b94f;},'jufMd':function(_0x48f438,_0x5602eb){return _0x48f438!==_0x5602eb;},'hZLsT':function(_0x40c948,_0x2ed365){return _0x40c948+_0x2ed365;},'xGKJS':'rooms/','hdoaU':function(_0x9106f1,_0x23464d){return _0x9106f1(_0x23464d);},'ldoCV':function(_0x59c22b,_0x318fdb,_0x463be3){return _0x59c22b(_0x318fdb,_0x463be3);}};_0x237589[_0x4bc0b7(0x28e)](setInterval,()=>{const _0xc28395=_0x4bc0b7;_0x237589[_0xc28395(0x172)](_0x237589[_0xc28395(0x2a8)](Date[_0xc28395(0x146)](),lastActivity),_0x237589[_0xc28395(0x155)](0x5,0x3c)*0x3e8)&&_0x237589[_0xc28395(0x197)](roomCode,STATIC_ROOM)&&(db[_0xc28395(0x21e)](_0x237589['hZLsT'](_0x237589[_0xc28395(0x3e8)],roomCode))[_0xc28395(0x314)]({'active':![]}),_0x237589[_0xc28395(0x39d)](alert,_0xc28395(0x41f)),location[_0xc28395(0x1cb)]());},0x7530);}function setupSidebarBackHandler(){const _0x530beb=_0x1495a2;window[_0x530beb(0x2e0)](_0x530beb(0x1f0),()=>{const _0x40bbae=_0x530beb,_0x5e11e5=document[_0x40bbae(0x1c8)](_0x40bbae(0x35f));_0x5e11e5?.['classList']['contains'](_0x40bbae(0x1ea))&&_0x5e11e5[_0x40bbae(0x2a9)][_0x40bbae(0x1f6)]('show');});}function toggleSidebar(){const _0x385250=_0x1495a2,_0x57a102={'rNfeL':'userSidebar','anhQt':_0x385250(0x1ea)},_0x5e13e7=document[_0x385250(0x1c8)](_0x57a102[_0x385250(0x1ae)]);if(!_0x5e13e7[_0x385250(0x2a9)][_0x385250(0x398)]('show'))_0x5e13e7[_0x385250(0x2a9)][_0x385250(0x1a1)](_0x57a102[_0x385250(0x184)]),history[_0x385250(0x2f3)]({'sidebarOpen':!![]},'');else{_0x5e13e7[_0x385250(0x2a9)][_0x385250(0x1f6)](_0x57a102[_0x385250(0x184)]);if(history['state']?.[_0x385250(0x287)])history['back']();}}function setupVisibilityAttention(){const _0x34c14d=_0x1495a2;let _0x128010=0x0,_0x578f1b=document[_0x34c14d(0x18d)];document[_0x34c14d(0x2e0)](_0x34c14d(0x3a1),()=>{const _0x50afef=_0x34c14d;!document[_0x50afef(0x173)]&&(document['title']=_0x578f1b,_0x128010=0x0);}),window[_0x34c14d(0x1e6)]=function(){const _0x101990=_0x34c14d;document[_0x101990(0x173)]&&(_0x128010++,document[_0x101990(0x18d)]='('+_0x128010+')\x20New\x20message\x20•\x20'+_0x578f1b);};}function tryEditProfile(){const _0xccee82=_0x1495a2,_0x2bf95a={'ZPHQZ':function(_0x30443f,_0x29bea2){return _0x30443f(_0x29bea2);}};_0x2bf95a['ZPHQZ'](showScreen,_0xccee82(0x404));}async function submitEditProfile(){const _0x77aed=_0x1495a2,_0x50513f={'gOzHn':'oldPasswordInput','axfdN':_0x77aed(0x438),'iBrxj':_0x77aed(0x237),'YrFJy':'Please\x20enter\x20your\x20current\x20password.','aXQoO':'block','GqJNw':_0x77aed(0x2e4),'oDpPO':function(_0x5f2876,_0x272d09){return _0x5f2876(_0x272d09);},'jNUvV':function(_0x4e0e1d,_0x2a0106){return _0x4e0e1d!==_0x2a0106;},'MZlQb':function(_0x39c9bf,_0x2b0dc4){return _0x39c9bf*_0x2b0dc4;},'NvJrI':function(_0x458289,_0x141cd7){return _0x458289*_0x141cd7;},'MInXP':function(_0x52eda0,_0x31157d){return _0x52eda0*_0x31157d;},'ZFalG':function(_0x5bc7cb,_0x124cfc){return _0x5bc7cb-_0x124cfc;},'kxJtE':function(_0x33c7bc,_0x515eb8){return _0x33c7bc(_0x515eb8);},'erdXH':_0x77aed(0x151),'TWsOt':function(_0x266d08,_0x37db40){return _0x266d08!==_0x37db40;},'meKMc':function(_0x43971a,_0x23621c){return _0x43971a(_0x23621c);},'JDRBq':_0x77aed(0x31c)},_0x42526b=document['getElementById'](_0x50513f[_0x77aed(0x2ae)])[_0x77aed(0x3d2)],_0x5a6149=document[_0x77aed(0x1c8)](_0x50513f[_0x77aed(0x181)])[_0x77aed(0x3d2)],_0x114c13=document['getElementById'](_0x50513f['iBrxj'])[_0x77aed(0x3d2)][_0x77aed(0x3a6)](),_0x3e0a1c=document[_0x77aed(0x1c8)](_0x77aed(0x349));if(!_0x42526b){_0x3e0a1c[_0x77aed(0x408)]=_0x50513f[_0x77aed(0x322)],_0x3e0a1c['style']['display']=_0x50513f[_0x77aed(0x33f)];return;}const _0x5ada08=sanitizeUsername(username),_0x101097=await db['ref'](_0x77aed(0x3e7)+_0x5ada08)[_0x77aed(0x20c)]();if(!_0x101097[_0x77aed(0x19d)]()){_0x3e0a1c['innerText']=_0x50513f[_0x77aed(0x166)],_0x3e0a1c[_0x77aed(0x396)][_0x77aed(0x435)]=_0x50513f[_0x77aed(0x33f)];return;}const _0x56a222=_0x101097[_0x77aed(0x365)](),_0x48c22e=await _0x50513f[_0x77aed(0x2c5)](sha256,_0x42526b);if(_0x50513f[_0x77aed(0x1a5)](_0x48c22e,_0x56a222[_0x77aed(0x29c)])){_0x3e0a1c['innerText']=_0x77aed(0x3aa),_0x3e0a1c['style'][_0x77aed(0x435)]=_0x50513f[_0x77aed(0x33f)];return;}const _0x3f47e8={};if(_0x5a6149){const _0x502cd4=await sha256(_0x5a6149);_0x3f47e8['passwordHash']=_0x502cd4;}_0x50513f[_0x77aed(0x1a5)](_0x114c13,_0x56a222[_0x77aed(0x351)])&&(_0x3f47e8[_0x77aed(0x351)]=_0x114c13);const _0x1995a1=Date[_0x77aed(0x146)](),_0x759d5a=_0x50513f[_0x77aed(0x2d3)](_0x50513f['NvJrI'](_0x50513f[_0x77aed(0x2ef)](0x18,0x3c),0x3c),0x3e8),_0x5dcf42=_0x50513f['ZFalG'](_0x1995a1,_0x56a222[_0x77aed(0x14f)]||0x0)>_0x759d5a;if(_0x5dcf42&&_0x50513f[_0x77aed(0x2c5)](confirm,_0x77aed(0x211))){const _0x1aacfc=_0x50513f[_0x77aed(0x1f9)](prompt,_0x50513f['erdXH']);_0x1aacfc&&_0x1aacfc[_0x77aed(0x3a6)]()&&(_0x3f47e8[_0x77aed(0x303)]=_0x1aacfc[_0x77aed(0x3a6)](),_0x3f47e8['usernameHistory']=(_0x56a222[_0x77aed(0x247)]||[])[_0x77aed(0x15e)](_0x1aacfc[_0x77aed(0x3a6)]()),_0x3f47e8[_0x77aed(0x14f)]=_0x1995a1);}_0x3f47e8['username']&&_0x50513f[_0x77aed(0x2d6)](_0x3f47e8[_0x77aed(0x303)],_0x56a222['username'])?(await db[_0x77aed(0x21e)](_0x77aed(0x3e7)+_0x50513f['kxJtE'](sanitizeUsername,_0x3f47e8['username']))[_0x77aed(0x359)]({..._0x56a222,..._0x3f47e8}),await db[_0x77aed(0x21e)](_0x77aed(0x3e7)+_0x5ada08)['remove'](),username=_0x3f47e8[_0x77aed(0x303)]):await db[_0x77aed(0x21e)]('auth/'+_0x5ada08)[_0x77aed(0x314)](_0x3f47e8),_0x50513f[_0x77aed(0x2c3)](alert,_0x50513f[_0x77aed(0x1e3)]),location['reload']();}function cancelEditProfile(){const _0x196880=_0x1495a2,_0x5c2578={'POrgn':'editProfileScreen','nASQi':_0x196880(0x260),'SpYbA':function(_0x283f94,_0x1d13cf){return _0x283f94(_0x1d13cf);},'BuwZq':'chatScreen'};document[_0x196880(0x1c8)](_0x5c2578['POrgn'])['style']['display']=_0x5c2578[_0x196880(0x1ca)],_0x5c2578['SpYbA'](showScreen,_0x5c2578[_0x196880(0x1b2)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x1cd9e3=_0x1495a2,_0x26358b={'nPNEM':function(_0x956346,_0x4128c1){return _0x956346(_0x4128c1);},'YGLoj':function(_0x4fb4f7,_0x4dadaf){return _0x4fb4f7(_0x4dadaf);},'eqUef':_0x1cd9e3(0x3d2)};db['ref'](_0x1cd9e3(0x41b)+roomCode)['on'](_0x26358b[_0x1cd9e3(0x3bb)],async _0x39375b=>{const _0x39e89f=_0x1cd9e3;if(!_0x39375b[_0x39e89f(0x19d)]())return;const _0x2b8651=_0x39375b[_0x39e89f(0x365)]();for(const _0x96613c in previousUsers){if(!_0x2b8651[_0x96613c])_0x2b8651[_0x96613c]=previousUsers[_0x96613c];}_0x26358b['nPNEM'](renderUserLists,_0x2b8651),previousUsers=_0x2b8651,await loadRoomRoles(),_0x26358b[_0x39e89f(0x3a4)](renderUserLists,_0x2b8651);});}function trackPresence(){const _0x4467d9=_0x1495a2,_0x4af7bb={'gXwFi':_0x4467d9(0x1bc),'ewMph':function(_0x195ab8,_0x74323e){return _0x195ab8||_0x74323e;},'PhwBJ':_0x4467d9(0x3d2)};if(_0x4af7bb[_0x4467d9(0x3cf)](!username,!roomCode))return;const _0x4532a3=sanitizeUsername(username),_0x22bd25=db[_0x4467d9(0x21e)](_0x4467d9(0x41b)+roomCode+'/'+_0x4532a3),_0x3d6951={'username':username,'avatarBase64':_0x4af7bb['ewMph'](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x4467d9(0x154)][_0x4467d9(0x2d7)][_0x4467d9(0x1fd)]};_0x22bd25[_0x4467d9(0x242)](_0x4af7bb[_0x4467d9(0x3a9)])[_0x4467d9(0x333)](_0x1ce89c=>{const _0x22c88f=_0x4467d9,_0x1a8747={'WcUfG':function(_0x1ef122){return _0x1ef122();},'RjPIM':_0x4af7bb[_0x22c88f(0x1e4)]},_0x181a64=_0x1ce89c['val']()?.[_0x22c88f(0x18e)];_0x22bd25[_0x22c88f(0x359)](_0x3d6951)[_0x22c88f(0x333)](()=>{const _0x399226=_0x22c88f;_0x1a8747['WcUfG'](updateOnlineIndicator);if(!_0x181a64){const _0x3f3cc0=db['ref']()['push']()[_0x399226(0x337)];db[_0x399226(0x21e)](_0x399226(0x262)+roomCode+'/messages/'+_0x3f3cc0)[_0x399226(0x359)]({'msg':username+_0x399226(0x326),'sender':_0x399226(0x1bc),'senderId':_0x1a8747[_0x399226(0x346)],'timestamp':Date[_0x399226(0x146)]()});}_0x22bd25[_0x399226(0x22c)]()[_0x399226(0x314)]({'online':![],'lastOnline':Date[_0x399226(0x146)]()});});});}function uploadSidebarAvatar(_0x3488cd){const _0x1834f7=_0x1495a2,_0x210833={'QHtdI':_0x1834f7(0x40e),'XHJhO':_0x1834f7(0x341),'xvZLm':function(_0x1a739f,_0x59d939){return _0x1a739f(_0x59d939);},'QDEkb':'⚠️\x20Failed\x20to\x20update\x20avatar.'};if(!_0x3488cd[_0x1834f7(0x31e)][_0x1834f7(0x141)])return;const _0x3cf008=_0x3488cd[_0x1834f7(0x31e)][0x0],_0x37192=new FileReader();_0x37192[_0x1834f7(0x244)]=async()=>{const _0x1dba71=_0x1834f7,_0x4783ac=_0x37192[_0x1dba71(0x292)]['split'](',')[0x1];document['getElementById'](_0x210833[_0x1dba71(0x258)])['src']=_0x37192[_0x1dba71(0x292)],document[_0x1dba71(0x1c8)](_0x210833['QHtdI'])[_0x1dba71(0x396)][_0x1dba71(0x435)]=_0x210833['XHJhO'];try{const _0xe71df0=_0x210833[_0x1dba71(0x177)](sanitizeUsername,username);await db['ref']('auth/'+_0xe71df0+_0x1dba71(0x307))[_0x1dba71(0x359)](_0x4783ac),_0x210833[_0x1dba71(0x177)](alert,_0x1dba71(0x19f));}catch(_0x4c4f4e){console[_0x1dba71(0x2f7)](_0x4c4f4e),alert(_0x210833['QDEkb']);}},_0x37192['readAsDataURL'](_0x3cf008);}function muteUser(_0x10a1ea,_0x2f4ad9){const _0x3edf33=_0x1495a2,_0x4a8bf8={'eUAFl':function(_0x34f65e,_0x28509e){return _0x34f65e(_0x28509e);},'gykHC':function(_0x313a9f,_0x5864f7){return _0x313a9f+_0x5864f7;},'VxFWD':function(_0x46ae9f,_0x125a92){return _0x46ae9f*_0x125a92;},'yxmJR':function(_0xa69cfc,_0x1141f7){return _0xa69cfc*_0x1141f7;},'imiED':function(_0x4bb32b,_0x5c7a94){return _0x4bb32b(_0x5c7a94);}},_0x87baab=_0x4a8bf8['gykHC'](Date[_0x3edf33(0x146)](),_0x4a8bf8[_0x3edf33(0x23a)](_0x4a8bf8[_0x3edf33(0x1a6)](_0x2f4ad9,0x3c),0x3e8));db['ref'](_0x3edf33(0x272)+roomCode+'/'+_0x4a8bf8[_0x3edf33(0x1d5)](sanitizeUsername,_0x10a1ea))[_0x3edf33(0x359)]({'muteUntil':_0x87baab})[_0x3edf33(0x333)](()=>{const _0x122b7b=_0x3edf33;_0x4a8bf8[_0x122b7b(0x33b)](alert,_0x10a1ea+_0x122b7b(0x363)+_0x2f4ad9+'\x20minutes.'),_0x4a8bf8[_0x122b7b(0x33b)](addSystemMessage,_0x10a1ea+'\x20was\x20muted\x20for\x20'+_0x2f4ad9+_0x122b7b(0x30d));});}function unmuteUser(_0x2ae213){const _0x37891e=_0x1495a2,_0x13f7c7={'VLJlM':function(_0x1ff007,_0x343576){return _0x1ff007(_0x343576);},'jLogt':_0x37891e(0x157)};if(!isRoomAdmin)return _0x13f7c7[_0x37891e(0x3cc)](alert,_0x13f7c7['jLogt']);db[_0x37891e(0x21e)]('muted/'+roomCode+'/'+sanitizeUsername(_0x2ae213))[_0x37891e(0x1f6)]();}function updateOnlineIndicator(){const _0x516d21=_0x1495a2,_0x56edd2={'jwIBW':_0x516d21(0x39c),'iwmlN':_0x516d21(0x15d),'EuLbt':_0x516d21(0x239)},_0xb3bf88=document[_0x516d21(0x1c8)](_0x56edd2['jwIBW']);_0xb3bf88['innerText']=_0x56edd2[_0x516d21(0x1d3)],_0xb3bf88['style'][_0x516d21(0x273)]=_0x56edd2[_0x516d21(0x374)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x5f2b3c){const _0x15cf8b=_0x1495a2,_0x1c32f3={'YMiso':function(_0x50ae54,_0x2f6981){return _0x50ae54(_0x2f6981);},'uZzcY':'Profile\x20not\x20found.','ypzzW':_0x15cf8b(0x18a),'NZPXO':_0x15cf8b(0x153),'GgVXQ':_0x15cf8b(0x1b1)};db[_0x15cf8b(0x21e)](_0x15cf8b(0x3e7)+_0x5f2b3c)[_0x15cf8b(0x20c)]()[_0x15cf8b(0x333)](_0x22de9=>{const _0x2a16b8=_0x15cf8b;if(!_0x22de9[_0x2a16b8(0x19d)]())return _0x1c32f3['YMiso'](alert,_0x1c32f3[_0x2a16b8(0x36e)]);const _0x2b833b=_0x22de9['val'](),_0x8765e0=(_0x2a16b8(0x377)+_0x2b833b[_0x2a16b8(0x303)]+_0x2a16b8(0x42f)+(_0x2b833b[_0x2a16b8(0x351)]||_0x1c32f3['ypzzW'])+_0x2a16b8(0x3fa)+((_0x2b833b[_0x2a16b8(0x247)]||[])[_0x2a16b8(0x323)](',\x20')||_0x1c32f3['NZPXO'])+_0x2a16b8(0x25d)+(_0x2b833b[_0x2a16b8(0x14f)]?new Date(_0x2b833b[_0x2a16b8(0x14f)])[_0x2a16b8(0x201)]():'Unknown')+_0x2a16b8(0x1fe))['trim']();document[_0x2a16b8(0x1c8)](_0x2a16b8(0x342))[_0x2a16b8(0x408)]=_0x8765e0,document['getElementById'](_0x1c32f3['GgVXQ'])[_0x2a16b8(0x396)]['display']=_0x2a16b8(0x341);});}function initUsernameFlow(){const _0xb953c8=_0x1495a2,_0x5c92db={'rAyYn':'chat_username','vKwMo':function(_0x5e6a82,_0x169d98){return _0x5e6a82(_0x169d98);},'lgDQU':_0xb953c8(0x317),'ULHoD':_0xb953c8(0x17d),'jHejU':_0xb953c8(0x1e1)},_0x351234=localStorage[_0xb953c8(0x2d0)](_0x5c92db[_0xb953c8(0x38a)]);!_0x351234?_0x5c92db[_0xb953c8(0x2aa)](showScreen,_0x5c92db[_0xb953c8(0x385)]):(username=_0x351234,document[_0xb953c8(0x1c8)](_0x5c92db[_0xb953c8(0x224)])[_0xb953c8(0x408)]=username,showScreen(_0x5c92db['jHejU']));}function closeProfile(){const _0x16c133=_0x1495a2,_0x41fcc8={'GKaWj':'profileViewer','XiGiT':'none'};document[_0x16c133(0x1c8)](_0x41fcc8[_0x16c133(0x3fe)])['style'][_0x16c133(0x435)]=_0x41fcc8[_0x16c133(0x296)];}function resetWebsiteData(){const _0x180a16=_0x1495a2,_0x2a7b36={'sqWee':'notifications_enabled','qwGCP':function(_0x12b786,_0xf7290d){return _0x12b786||_0xf7290d;},'RAwuB':_0x180a16(0x334)};try{const _0x187bba=localStorage[_0x180a16(0x2d0)](_0x2a7b36['sqWee']);localStorage['clear'](),sessionStorage[_0x180a16(0x3bf)](),_0x187bba&&localStorage[_0x180a16(0x430)](_0x2a7b36[_0x180a16(0x3ff)],_0x187bba);}catch(_0x3653de){}if(_0x2a7b36[_0x180a16(0x34c)](!username,!roomCode)){const _0x2d83e5=_0x2a7b36['RAwuB'][_0x180a16(0x2fd)]('|');let _0x476089=0x0;while(!![]){switch(_0x2d83e5[_0x476089++]){case'0':pendingMessages=[];continue;case'1':clientId='_'+Math[_0x180a16(0x2f9)]()['toString'](0x24)[_0x180a16(0x42d)](0x2,0x9);continue;case'2':username=null;continue;case'3':isRoomAdmin=![];continue;case'4':roomCode=null;continue;}break;}}}function _0x38cd(){const _0x40993e=['sidebarOpen','puta','grid','flex','ulol','TNucQ','❌\x20Image\x20must\x20be\x20under\x202MB','ldoCV','scrollTop','120px','passwordScreen','result','KOxTZ','iuWjg','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','XiGiT','start','Please\x20enter\x20the\x20password.','yCXCc','mod','AVckV','passwordHash','\x27)\x22>+Admin</button>','12TTdkeC','UnGzt','InPNO','authError','data:image/png;base64,','15876dwUCkB','ctRZU','cvRPA','LxEBj','coño','TCkRg','classList','vKwMo','ZDQwB','all','bastard','gOzHn','profileDescriptionInput','location','PrMMJ','vXpBT','zXHAR','sEOmj','72mbjvqP','/reactions','antispamBlocked/','uYgJd','justifyContent','Delete\x20this\x20message?','ABCDEFGHIJKLMNOPQRSTUVWXYZ','2px\x20solid\x20red','djLjp','reaction-tray','absolute','gRexa','touchstart','nQPIz','meKMc','roomChoiceScreen','oDpPO','XsmeQ','YmDnL','<small>','lOmuN','typing','lELYR','sender','left','EnlLq','RUCIm','getItem','20px','rOENB','MZlQb','volume','NdUga','TWsOt','ServerValue','promote','wcXMM','WjSpY','/announcement','messages','child_added','push','3|0|1|4|2','addEventListener','DSwbN','mouseenter','IYMVd','Profile\x20not\x20found.','YqKJP','HftHv','gap','ImwtF','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','plvbs','smoom','TFbRj','ezKbq','jVTqy','MInXP','Failed\x20to\x20register\x20user\x20into\x20room.','fjKbe','createElement','pushState','2392470YzswBy','shit','NSPHn','error','<img\x20src=\x22','random','audioBase64','requestPermission','recordBtn','split','KmPTN','dMAsK','ElGxH','zCCdg','initializeApp','username','10px','rXHyk','zoxVZ','/avatarBase64','data','GZXcI','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','daQRL','sounds/beep.mp3','\x20minutes','aTGZZ','0123456789','JfrdU','</a>','ApADl','ytowK','update','auth','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','profileScreen','uEZUi','position','ihfUI','pointer','✅\x20Profile\x20updated!\x20Please\x20reload.','wDYRC','files','Error\x20checking\x20username:','\x20demoted\x20to\x20user.','GIZkn','YrFJy','join','\x20promoted\x20to\x20Moderator!','BJbjw','\x20is\x20online','sort','padStart','\x20deleted.','lzdfa','admin','cmybP','VoDFY','usernameScreen','SpdVT','merda','CEYAa','moderators/','then','2|4|3|0|1','mSiUJ','xpYiS','key','className','</span>\x20','forEach','eUAFl','\x20in\x20room\x20','Dmasb','iEmCN','aXQoO','MBiSU','block','profileContent','textContent','<br>','6px','RjPIM','xwQXc','ohliO','editProfileError','CkroM','bpaxh','qwGCP','Ozpxa','cursor','unknown','QpsZf','description','16px','authScreen','readAsDataURL','qBhVE','jchCS','dLxyb','border','set','❌\x20You\x20must\x20be\x20logged\x20in.','Login','https://2048.webuserent.org?token=','gridTemplateColumns','caralho','userSidebar','🔕\x20Disable\x20Notifications','user','<audio\x20controls\x20src=\x22','\x20muted\x20for\x20','authTitle','val','repeat(auto-fill,\x20minmax(32px,\x201fr))','0.8rem','</div>','margin','gilipollas','easy-chatroom.firebaseapp.com','qZpDV','xwOun','uZzcY','heAEa','iwTxK','Incorrect\x20password.','Room\x20password\x20not\x20set.\x20Cannot\x20join.','pYnnr','EuLbt','Ktsaj','inline-block','\x0aName:\x20','equalTo','<button\x20onclick=\x22promoteToModerator(\x27','rbtDs','isArray','Failed\x20to\x20save\x20profile:','ANBcg','child_removed','eVOor','RIuds','dWciC','Type\x20a\x20message...','userOptions-','msgInput','lgDQU','avatar_base64','authSubmitBtn','MXgYK','timestamp','rAyYn','object','stop','admins/','🎙️','kfixi','2-digit','/paused','<button>','avatarBase64','zCfhX','HKpjs','style','center','contains','WVgMO','LRwAN','qtaDc','onlineStatus','hdoaU','limitToLast','announcementArea','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','visibilitychange','reaction-box','</span>','YGLoj','TpQGn','trim','authDescription','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','PhwBJ','Incorrect\x20current\x20password.','addAnnouncementBtn','\x20was\x20demoted','hMDhj','kzsYe','vRfQX','mJHnq','32px','HUDgL','\x20minutes.','floor','KZPAm','PdllX','BrxOY','DjYCP','ptqwa','dev','eqUef','2048_token','xHKrq','zPiWA','clear','qQqZL','</small>','values','tangina','VKmrM','uTryT','rIbXt','notifToggleBtn','TRpXj','granted','vlbOC','bqPrp','VLJlM','LNynj','JFVFw','ewMph','lpBiq','VAGTP','value','gr8stg/','nBuap','whrtV','scrollHeight','\x20promoted\x20to\x20Admin!','ggiYo','bJmaG','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','QzOKA','Register','eUVYk','zVJKm','bikce','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','PqPZQ','qKtEy','0px','<span\x20style=\x22margin-right:6px;\x22>','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','Microphone\x20permission\x20denied.','auth/','xGKJS','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','uEdZO','VPXzf','6px\x20auto','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','authPasswordConfirm','DwEDU','kuCFd','hbWSA','authAvatarPreview','esBnw','basDf','NvxII','TJpFk','ZDGrh','div','input','\x0aUsername\x20History:\x20','keypress','CHAGy','rVkbD','GKaWj','sqWee','1020246vmiqxM','touchend','textAlign','ysryy','editProfileScreen','children','mvDLo','toLocaleTimeString','innerText','evuQM','role','some','adminControlsSection','JToOL','sidebarAvatarPreview','tJLFf','disabled','yHNIE','roomStates/','FYkie','pcCfg','antispam/','VZTxp','muteUntil','content','Passwords\x20do\x20not\x20match.','uETtv','users/','mediaDevices','encode','\x27,\x2010)\x22>Mute\x2010m</button>','Session\x20expired.','LIMoR','pUTxj','G-QDESJ2WR42','gfnxn','onstop','CNvLm','jTuci','alyky','ppTSE','easy-chatroom.firebasestorage.app','18px','padding','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','substr','VGzqZ','\x0aDescription:\x20','setItem','SQjSp','DgDLf','UwVQR','https://easy-chatroom-default-rtdb.firebaseio.com','display','[Unknown]','2MPYsIA','newPasswordInput','bJDwQ','bSpAH','false','wrXYr','length','jVspa','<button\x20onclick=\x22muteUser(\x27','profiles/','pendejo','now','toLowerCase','from','DYhnD','NfeIp','true','lvWSM','xWivB','uXxwR','lastChanged','qlzFK','Enter\x20your\x20new\x20username:','712064wDOMGs','No\x20changes\x20yet','database','ubpbb','kqICS','Admins\x20only.','LBQyr','LLceb','\x27)\x22>+Mod</button>','TQACL','BtcSj','●\x20Online','concat','lVqaE','keqxS','BCUFD','stopPropagation','fdPSA','edRRu','width','GqJNw','7igSRDD','nUVcf','Please\x20fill\x20in\x20all\x20fields.','yemRt','codeEntryScreen','anPXH','lYcfC','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','TgXkk','includes','typing/','YBPHy','hidden','🚫\x20Cannot\x20promote\x20Developers.','[Voice\x20Message]','pDeVC','xvZLm','Remove\x20this\x20announcement?','KXlwv','MxACA','Account\x20not\x20found.','goPcS','namePreview','sBvVX','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','audioUrl','axfdN','gnqhi','SSqAJ','anhQt','ddhRY','MPSGr','gGohj','IxCyU','⛔\x20You\x20are\x20muted.','No\x20bio\x20set','SPuAD','QzTNg','title','online','pepMx','1:985049198428:web:d0eb7e2de39887710c9b99','click','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','asshole','bwisit','oiEkM','jufMd','<button\x20onclick=\x22demoteUser(\x27','deleteMessage','replace','profile_description','size','exists','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','✅\x20Profile\x20picture\x20updated!','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','add','jUodD','gKyLp','806660vIMESQ','jNUvV','yxmJR','oatKo','entries','ypDHY','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','feQFL','KzOGc','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','rNfeL','CiRxA','userDisplay','profileViewer','BuwZq','slice','innerHTML','#aaa','No\x20room\x20code\x20available\x20for\x20private\x20rooms','🔔\x20Enable\x20Notifications','<img\x20src=\x22data:image/png;base64,','hoMUB','roMdj','ccTOX','system','bxHtB','\x27)\x22>Demote</button>','YHnVr','chatScreen','265386CosNUz','filter','VExmo','BRzLV','TkGlS','wWKNc','KLUVw','getElementById','BXwxo','nASQi','reload','nYstr','DQDHf','iZLcA','chat_username','eajwp','ENfYj','VdIay','iwmlN','FfPSE','imiED','khpqN','FvhFv','permission','FlpFt','tAIrT','fontSize','TjjrR','VIUNW','mUfEX','otario','tlSaJ','mainApp','weHdj','JDRBq','gXwFi','msgId','flagPageAttention','yDgHm','antispam','relative','show','cunt','match','Ebdxr','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','TRwdS','popstate','dataset','milhl','NTHLF','<span\x20class=\x22sender-name\x22>','/messages/','remove','HOtSC','eURkH','kxJtE','src','vFaxm','1435767GiHqvB','TIMESTAMP','\x0a\x20\x20\x20\x20','marginTop','cWQKK','toLocaleString','UgEyk','Room\x20is\x20currently\x20paused.','dLbxs','BYxoD','syqvg','fKpPK','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','authAvatar','YHtum','JnaDD','get','authUsername','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','TpiQP','VtTYt','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','antispamBlocked','bJNXB','alignItems','moderator','detail','DOMContentLoaded','\x27)\x22>Promote\x20to\x20Admin</button>','Enter\x20Announcement\x20Text:','onclick','toString','vHbnB','eAqDn','ref','GaTBA','catch','keys','#222','kgHOJ','ULHoD','CZtTC','vmOoa','\x20was\x20promoted\x20to\x20Moderator','MJptj','VQOTI','ySXEO','nCbUn','onDisconnect','toUpperCase','FApGq','map','height','nZNEH','profileError','qoImZ','<a\x20href=\x22','<button\x20onclick=\x22promoteToAdmin(\x27','yFeHL','editBioInput','brMNe','#00ff88','VxFWD','passwordError','LcrEc','getUserMedia','<button\x20onclick=\x22deleteUserMessages(\x27','FJFhg','FTXQI','\x20🔧\x20','once','Username\x20already\x20exists.','onloadend','notifications_enabled','iBKYF','usernameHistory','profileUsernameInput','quiwk','digest','VVbBN','jdCTe','alCZS','KLEON','Seeha','UTEPH','4px','placeholder','sent','\x27)\x22>Promote\x20to\x20Moderator</button>','LhCtR','/messages','rooms','QHtdI','child_changed','vkTJo','Remove\x20Announcement?','utYjk','\x0aLast\x20Changed:\x20','YDOLx','YASrc','none','dRHnJ','rooms/','tqbIp','KVsyE','authPassword','hrYhZ','dUwMR','tTmoD','MZlLY','PFGLZ','created','background','985049198428','xGfDv','</li>','zIndex','top','muted/','color','preventDefault','oSqoi','ondataavailable','13915iLjyxG','EKgpK','appendChild','pausedOverlay','AjSpX','roomDisplay','yRRIA','audio/webm','hKcXr','Messages\x20by\x20','💬\x20','Enter','ZsAFS','qotuG','adminUserList','cabron'];_0x38cd=function(){return _0x40993e;};return _0x38cd();}function addAnnouncement(){const _0x142384=_0x1495a2,_0x4c667b={'TJpFk':function(_0x2ceff7,_0x16fda1){return _0x2ceff7(_0x16fda1);},'ApADl':_0x142384(0x219)},_0x474929=_0x4c667b[_0x142384(0x3f6)](prompt,_0x4c667b[_0x142384(0x312)]);if(!_0x474929)return;db[_0x142384(0x21e)](_0x142384(0x262)+roomCode+_0x142384(0x2db))[_0x142384(0x359)]({'text':_0x474929,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x50e63f=_0x1495a2,_0x458fef={'TjjrR':_0x50e63f(0x39f),'FvhFv':_0x50e63f(0x3d2)},_0x839adb=db['ref']('rooms/'+roomCode+_0x50e63f(0x2db));_0x839adb['on'](_0x458fef[_0x50e63f(0x1d7)],_0x2830ba=>{const _0x897834=_0x50e63f,_0x6b05f1=_0x2830ba[_0x897834(0x365)]();if(!_0x6b05f1){document[_0x897834(0x1c8)]('announcementArea')[_0x897834(0x408)]='';return;}const _0x36407e=document[_0x897834(0x1c8)](_0x458fef[_0x897834(0x1dc)]);_0x36407e[_0x897834(0x408)]=''+_0x6b05f1['text'];});}document['getElementById'](_0x1495a2(0x39f))['addEventListener']('click',_0x17f21f=>{const _0x2e32d0=_0x1495a2,_0x480e11={'dLxyb':function(_0x256581,_0x5f08a0){return _0x256581(_0x5f08a0);},'UDLne':_0x2e32d0(0x25b)};_0x17f21f[_0x2e32d0(0x216)]===0x3&&isRoomAdmin&&(_0x480e11[_0x2e32d0(0x357)](confirm,_0x480e11['UDLne'])&&db[_0x2e32d0(0x21e)](_0x2e32d0(0x262)+roomCode+_0x2e32d0(0x2db))['remove']());}),document[_0x1495a2(0x1c8)](_0x1495a2(0x384))[_0x1495a2(0x2e0)](_0x1495a2(0x3f9),()=>{const _0xa9f0d1=_0x1495a2,_0x56f421={'VtTYt':'msgInput','XsmeQ':'2px\x20solid\x20red'},_0x520708=document['getElementById'](_0x56f421[_0xa9f0d1(0x210)]);_0x1fbcf7?_0x520708[_0xa9f0d1(0x396)][_0xa9f0d1(0x358)]=_0x56f421[_0xa9f0d1(0x2c6)]:_0x520708[_0xa9f0d1(0x396)][_0xa9f0d1(0x358)]='';const _0x44d29f=_0x520708[_0xa9f0d1(0x3d2)][_0xa9f0d1(0x147)](),_0x1fbcf7=swearWords[_0xa9f0d1(0x40b)](_0x24d904=>_0x44d29f[_0xa9f0d1(0x170)](_0x24d904));_0x1fbcf7?(_0x520708[_0xa9f0d1(0x396)][_0xa9f0d1(0x358)]=_0xa9f0d1(0x2bc),sendBtn['disabled']=!![]):(_0x520708['style'][_0xa9f0d1(0x358)]='',_0x1fbcf7?_0x520708[_0xa9f0d1(0x396)][_0xa9f0d1(0x358)]=_0x56f421[_0xa9f0d1(0x2c6)]:_0x520708[_0xa9f0d1(0x396)][_0xa9f0d1(0x358)]='');});function muteUser(_0x259cf1,_0x5a5950){const _0x1c71a6=_0x1495a2,_0x54941a={'cHrxU':function(_0x561bfe,_0x47ad1c){return _0x561bfe(_0x47ad1c);},'EETUf':function(_0x3ebc2b,_0x4b470c){return _0x3ebc2b+_0x4b470c;}},_0x4d3da7=_0x54941a['EETUf'](Date['now'](),_0x5a5950*0x3c*0x3e8);db[_0x1c71a6(0x21e)]('muted/'+roomCode+'/'+sanitizeUsername(_0x259cf1))['set']({'muteUntil':_0x4d3da7})[_0x1c71a6(0x333)](()=>{const _0x26454a=_0x1c71a6;_0x54941a['cHrxU'](alert,_0x259cf1+_0x26454a(0x363)+_0x5a5950+_0x26454a(0x3b3));});}function deleteUserMessages(_0x3e0586){const _0x442aaf=_0x1495a2,_0x3f38e1={'uTryT':function(_0x553fe5,_0x3a9e4f){return _0x553fe5(_0x3a9e4f);},'MZlLY':_0x442aaf(0x2cc)};db['ref']('rooms/'+roomCode+_0x442aaf(0x256))['orderByChild'](_0x3f38e1[_0x442aaf(0x269)])[_0x442aaf(0x378)](_0x3e0586)['get']()['then'](_0x349705=>{const _0x530efc=_0x442aaf;_0x349705['forEach'](_0x3520a2=>{const _0x2787a8=_0x4988;db[_0x2787a8(0x21e)](_0x2787a8(0x262)+roomCode+'/messages/'+_0x3520a2[_0x2787a8(0x337)])['remove']();}),_0x3f38e1[_0x530efc(0x3c5)](alert,_0x530efc(0x280)+_0x3e0586+_0x530efc(0x329));});}function pauseRoom(_0x5117d8){const _0x132094=_0x1495a2,_0x2eea5c={'bqPrp':_0x132094(0x341),'whrtV':_0x132094(0x260),'ypDHY':_0x132094(0x3d2)};db[_0x132094(0x21e)](_0x132094(0x262)+roomCode+'/paused')['on'](_0x2eea5c[_0x132094(0x1a9)],_0x25b965=>{const _0x463f9a=_0x132094,_0x39c586=_0x25b965[_0x463f9a(0x365)]();document[_0x463f9a(0x1c8)](_0x463f9a(0x27a))[_0x463f9a(0x396)]['display']=_0x39c586?_0x2eea5c[_0x463f9a(0x3cb)]:_0x2eea5c[_0x463f9a(0x3d5)];});}function canPerformAction(_0x481ac2){const _0x30a5a9=_0x1495a2,_0xe28a0d={'KZPAm':function(_0xa59de9,_0x5aebfd){return _0xa59de9===_0x5aebfd;},'ppTSE':function(_0x45959e,_0x48e301){return _0x45959e===_0x48e301;},'nCbUn':_0x30a5a9(0x32b),'iEmCN':_0x30a5a9(0x215),'tdQCn':function(_0x4ce23f,_0xc0b0cc){return _0x4ce23f===_0xc0b0cc;},'KitrC':_0x30a5a9(0x29a),'MBiSU':function(_0x4d59a3,_0x3720cc){return _0x4d59a3===_0x3720cc;},'mqxiB':'deleteMessage','LhCtR':function(_0x567aaa,_0x43c469){return _0x567aaa===_0x43c469;},'FApGq':_0x30a5a9(0x2d8),'WVgMO':'dev'},_0x4f838b=_0x30a5a9(0x2df)[_0x30a5a9(0x2fd)]('|');let _0x8acf7=0x0;while(!![]){switch(_0x4f838b[_0x8acf7++]){case'0':if(_0xe28a0d[_0x30a5a9(0x3b5)](_0x481ac2,'mute'))return _0xe28a0d[_0x30a5a9(0x428)](role,_0xe28a0d[_0x30a5a9(0x22b)])||role===_0xe28a0d[_0x30a5a9(0x33e)]||_0xe28a0d['tdQCn'](role,_0xe28a0d['KitrC']);continue;case'1':if(_0xe28a0d['MBiSU'](_0x481ac2,_0xe28a0d['mqxiB'])||_0xe28a0d[_0x30a5a9(0x255)](_0x481ac2,_0xe28a0d[_0x30a5a9(0x22e)]))return _0xe28a0d[_0x30a5a9(0x3b5)](role,_0x30a5a9(0x32b));continue;case'2':return![];case'3':if(_0xe28a0d[_0x30a5a9(0x3b5)](role,_0xe28a0d[_0x30a5a9(0x399)]))return!![];continue;case'4':if(_0xe28a0d[_0x30a5a9(0x340)](_0x481ac2,_0x30a5a9(0x2d8)))return role===_0xe28a0d[_0x30a5a9(0x22b)];continue;}break;}}const html=Object[_0x1495a2(0x3c2)](roomUsers)[_0x1495a2(0x22f)](_0x988ac2=>{const _0x691376=_0x1495a2,_0x21879d={'Ozpxa':function(_0x40ba0b,_0x1e14e5){return _0x40ba0b(_0x1e14e5);},'VZTxp':function(_0xf8c4c7,_0x31e853){return _0xf8c4c7!==_0x31e853;},'GaTBA':function(_0x5c477a,_0x40c31f){return _0x5c477a(_0x40c31f);},'QpsZf':_0x691376(0x3ba),'WjSpY':function(_0xeb3c4c,_0x472244){return _0xeb3c4c===_0x472244;},'hoMUB':function(_0x421caa,_0x2de6b2){return _0x421caa(_0x2de6b2);}},_0x349b4d=_0x21879d[_0x691376(0x34d)](sanitizeUsername,_0x988ac2[_0x691376(0x303)]),_0x2b4047=[];if(_0x21879d[_0x691376(0x416)](_0x349b4d,_0x21879d['GaTBA'](sanitizeUsername,username))){canPerformAction('mute')&&(_0x2b4047[_0x691376(0x2de)](_0x691376(0x143)+_0x349b4d+'\x27,\x205)\x22>Mute\x205m</button>'),_0x2b4047['push'](_0x691376(0x143)+_0x349b4d+_0x691376(0x41e)));_0x21879d[_0x691376(0x21f)](canPerformAction,_0x691376(0x199))&&_0x2b4047[_0x691376(0x2de)](_0x691376(0x23e)+_0x349b4d+'\x27)\x22>Delete\x20Messages</button>');if(role===_0x21879d[_0x691376(0x350)])_0x2b4047[_0x691376(0x2de)](_0x691376(0x379)+_0x349b4d+_0x691376(0x254)),_0x2b4047['push'](_0x691376(0x235)+_0x349b4d+_0x691376(0x218));else _0x21879d[_0x691376(0x2da)](role,_0x691376(0x32b))&&_0x2b4047['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x349b4d+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x988ac2[_0x691376(0x303)]+'\x20'+getRoleTag(_0x21879d[_0x691376(0x1b9)](sanitizeUsername,_0x988ac2['username']))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x349b4d+_0x691376(0x3a0)+_0x2b4047['join']('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x349b4d+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>';})[_0x1495a2(0x323)]('');function promoteToModerator(_0x5debce){const _0x540627=_0x1495a2,_0x111b13={'DgDLf':function(_0x36010e,_0x1a2d4b){return _0x36010e(_0x1a2d4b);},'FfPSE':function(_0x43b141,_0x1ddc17){return _0x43b141(_0x1ddc17);},'LxEBj':function(_0x4e83ed,_0xaa48e0){return _0x4e83ed!==_0xaa48e0;},'djLjp':_0x540627(0x3ba),'wWKNc':_0x540627(0x32b),'yRRIA':function(_0x24273e,_0x3e7e35){return _0x24273e(_0x3e7e35);},'khpqN':_0x540627(0x20e)},_0x10d523=_0x111b13[_0x540627(0x432)](sanitizeUsername,_0x5debce);if(_0x111b13[_0x540627(0x1d4)](isProtected,_0x10d523))return _0x111b13[_0x540627(0x432)](alert,_0x540627(0x174));if(_0x111b13[_0x540627(0x2a6)](role,_0x111b13[_0x540627(0x2bd)])&&role!==_0x111b13[_0x540627(0x1c6)]){_0x111b13[_0x540627(0x27d)](alert,_0x111b13[_0x540627(0x1d6)]);return;}db[_0x540627(0x21e)](_0x540627(0x332)+roomCode+'/'+_0x10d523)[_0x540627(0x359)](!![])[_0x540627(0x333)](()=>{const _0x17eda3=_0x540627;_0x111b13[_0x17eda3(0x432)](alert,_0x5debce+_0x17eda3(0x324)),_0x111b13[_0x17eda3(0x432)](addSystemMessage,_0x5debce+_0x17eda3(0x227));});}function promoteToAdmin(_0x5ef1fe){const _0x48843a=_0x1495a2,_0x1a0a7e={'ElGxH':function(_0x617b11,_0x40e6ee){return _0x617b11(_0x40e6ee);},'wrIhl':function(_0x4dd05d,_0x2e0bed){return _0x4dd05d(_0x2e0bed);},'tqbIp':function(_0x1a2764,_0x27b4f3){return _0x1a2764(_0x27b4f3);},'UnGzt':function(_0x3c5f12,_0x356450){return _0x3c5f12!==_0x356450;},'dWciC':function(_0x704870,_0x17c015){return _0x704870(_0x17c015);},'KDdwW':'Only\x20Devs\x20can\x20promote\x20to\x20Admin.'},_0x2977f2=sanitizeUsername(_0x5ef1fe);if(_0x1a0a7e[_0x48843a(0x300)](isProtected,_0x2977f2))return _0x1a0a7e[_0x48843a(0x263)](alert,'🚫\x20Cannot\x20promote\x20Developers.');if(_0x1a0a7e[_0x48843a(0x29f)](role,_0x48843a(0x3ba))){_0x1a0a7e[_0x48843a(0x381)](alert,_0x1a0a7e['KDdwW']);return;}db[_0x48843a(0x21e)](_0x48843a(0x38d)+roomCode+'/'+_0x2977f2)['set'](!![])[_0x48843a(0x333)](()=>{const _0x504426=_0x48843a;_0x1a0a7e[_0x504426(0x300)](alert,_0x5ef1fe+_0x504426(0x3d7)),_0x1a0a7e['wrIhl'](addSystemMessage,_0x5ef1fe+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x456e83){const _0x3d6137=_0x1495a2,_0x7b55ba={'vbbOO':function(_0x46da66,_0x2fff4e){return _0x46da66===_0x2fff4e;},'cmybP':_0x3d6137(0x3ba),'xpYiS':function(_0x2ae6b8,_0x27b1c1){return _0x2ae6b8===_0x27b1c1;},'gnqhi':_0x3d6137(0x32b),'ggiYo':function(_0x22eb32,_0x2a95ee){return _0x22eb32===_0x2a95ee;},'yDgHm':'none','lELYR':'block'};(_0x7b55ba['vbbOO'](role,_0x7b55ba[_0x3d6137(0x32c)])||_0x7b55ba[_0x3d6137(0x336)](role,_0x7b55ba[_0x3d6137(0x182)]))&&controls[_0x3d6137(0x2de)](_0x3d6137(0x198)+safeName+_0x3d6137(0x1be));const _0x1b5185=document[_0x3d6137(0x1c8)](_0x3d6137(0x383)+_0x456e83);_0x7b55ba[_0x3d6137(0x3d8)](_0x1b5185['style'][_0x3d6137(0x435)],_0x7b55ba[_0x3d6137(0x1e7)])?_0x1b5185[_0x3d6137(0x396)][_0x3d6137(0x435)]=_0x7b55ba[_0x3d6137(0x2cb)]:_0x1b5185[_0x3d6137(0x396)][_0x3d6137(0x435)]=_0x7b55ba['yDgHm'];}function demoteUser(_0x4f5afd){const _0x21e2a7=_0x1495a2,_0x1eafc3={'pDeVC':function(_0x1bd967,_0x40677e){return _0x1bd967(_0x40677e);},'dUwMR':_0x21e2a7(0x3ba),'uYgJd':function(_0x4923e8,_0x13a3e8){return _0x4923e8(_0x13a3e8);},'JFVFw':function(_0x4cf8b7,_0x10e588){return _0x4cf8b7===_0x10e588;},'BVoHo':_0x21e2a7(0x32b)};if(_0x1eafc3[_0x21e2a7(0x176)](isProtected,_0x4f5afd))return _0x1eafc3['pDeVC'](alert,'🚫\x20You\x20cannot\x20demote\x20a\x20Developer.');if(role===_0x1eafc3[_0x21e2a7(0x267)])db['ref'](_0x21e2a7(0x38d)+roomCode+'/'+_0x4f5afd)[_0x21e2a7(0x1f6)](),db[_0x21e2a7(0x21e)](_0x21e2a7(0x332)+roomCode+'/'+_0x4f5afd)['remove'](),alert(_0x4f5afd+_0x21e2a7(0x320)),_0x1eafc3[_0x21e2a7(0x2b8)](addSystemMessage,_0x4f5afd+_0x21e2a7(0x3ac));else _0x1eafc3[_0x21e2a7(0x3ce)](role,_0x1eafc3['BVoHo'])?(db[_0x21e2a7(0x21e)](_0x21e2a7(0x332)+roomCode+'/'+_0x4f5afd)[_0x21e2a7(0x1f6)](),alert(_0x4f5afd+_0x21e2a7(0x320)),addSystemMessage(_0x4f5afd+'\x20was\x20demoted')):_0x1eafc3[_0x21e2a7(0x2b8)](alert,_0x21e2a7(0x30a));}function getRoleTag(_0x9c482f){const _0x2c438a=_0x1495a2,_0x2c4558={'TkGlS':function(_0x1e53ed,_0x931372){return _0x1e53ed(_0x931372);}},_0x3955d4=_0x2c4558[_0x2c438a(0x1c5)](sanitizeUsername,_0x9c482f);if(globalDevs[_0x2c438a(0x170)](_0x3955d4))return _0x2c438a(0x208);if(roomAdmins[_0x2c438a(0x170)](_0x3955d4))return _0x2c438a(0x316);if(roomModerators[_0x2c438a(0x170)](_0x3955d4))return _0x2c438a(0x3e5);return'';}async function loadRoomRoles(){const _0x5683df=_0x1495a2,_0x51b66e={'MJptj':function(_0x21a1f2,_0x2cbd05){return _0x21a1f2===_0x2cbd05;},'ENfYj':'dev','tAIrT':function(_0x1b2f90,_0x204d14){return _0x1b2f90(_0x204d14);},'kIdcR':_0x5683df(0x315),'JToOL':'admin','qotuG':_0x5683df(0x361)},_0x8b5e1b=_0x51b66e[_0x5683df(0x1da)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x40596a=await db[_0x5683df(0x21e)](_0x51b66e['kIdcR'])[_0x5683df(0x20c)]();_0x40596a[_0x5683df(0x33a)](_0x5e6829=>{const _0x4afe3f=_0x5683df;if(_0x51b66e[_0x4afe3f(0x228)](_0x5e6829['val']()[_0x4afe3f(0x40a)],_0x51b66e[_0x4afe3f(0x1d1)]))globalDevs[_0x4afe3f(0x2de)](_0x5e6829['key']);});const _0x43273f=await db[_0x5683df(0x21e)](_0x5683df(0x38d)+roomCode)['get']();_0x43273f['exists']()&&_0x43273f[_0x5683df(0x33a)](_0x5b7e89=>roomAdmins[_0x5683df(0x2de)](_0x5b7e89[_0x5683df(0x337)]));const _0x15d205=await db[_0x5683df(0x21e)](_0x5683df(0x332)+roomCode)['get']();_0x15d205[_0x5683df(0x19d)]()&&_0x15d205[_0x5683df(0x33a)](_0x51f1b4=>roomModerators['push'](_0x51f1b4[_0x5683df(0x337)]));if(globalDevs[_0x5683df(0x170)](_0x8b5e1b))role=_0x5683df(0x3ba);else{if(roomAdmins[_0x5683df(0x170)](_0x8b5e1b))role=_0x51b66e[_0x5683df(0x40d)];else roomModerators['includes'](_0x8b5e1b)?role=_0x5683df(0x215):role=_0x51b66e[_0x5683df(0x284)];}}async function renderUserLists(_0x148fd9){const _0x14f768=_0x1495a2,_0x53fd12={'PFGLZ':function(_0x537ab0,_0xdf71d7){return _0x537ab0(_0xdf71d7);},'BCUFD':function(_0x45d11b,_0x3218fb){return _0x45d11b(_0x3218fb);},'LLceb':function(_0x2e3d77,_0x26a396){return _0x2e3d77(_0x26a396);},'DSwbN':function(_0x20e3be,_0xc341a2){return _0x20e3be===_0xc341a2;},'CkroM':function(_0x42e533,_0x4dc2e1){return _0x42e533(_0x4dc2e1);},'nIrUz':'mod','YDOLx':'moderator','UgEyk':_0x14f768(0x32b),'TRpXj':_0x14f768(0x3ba),'jVTqy':function(_0x5d98c0,_0x52c1a8){return _0x5d98c0(_0x52c1a8);},'gRexa':_0x14f768(0x40c),'basDf':_0x14f768(0x341),'FJFhg':'none','qZpDV':'userList','wiUSq':_0x14f768(0x285)};roomUsers=_0x148fd9;const _0x3fd48b=_0x53fd12[_0x14f768(0x2ee)](sanitizeUsername,username),_0x4833a5=[_0x53fd12[_0x14f768(0x3c8)],_0x53fd12[_0x14f768(0x202)],_0x53fd12[_0x14f768(0x25e)],_0x53fd12['nIrUz']]['includes'](role);document[_0x14f768(0x1c8)](_0x53fd12[_0x14f768(0x2c0)])[_0x14f768(0x396)][_0x14f768(0x435)]=_0x4833a5?_0x53fd12[_0x14f768(0x3f4)]:_0x53fd12[_0x14f768(0x23f)];const _0x43e113=Object[_0x14f768(0x1a8)](_0x148fd9)[_0x14f768(0x22f)](async([_0x1cf1eb,_0x842380])=>{const _0x13750f=_0x14f768,_0x4d13bf=sanitizeUsername(_0x842380['username']||_0x1cf1eb),_0x1cd58a=await _0x53fd12[_0x13750f(0x26a)](fetchAvatar,_0x4d13bf),_0x5153ce=_0x1cd58a?_0x13750f(0x1b8)+_0x1cd58a+_0x13750f(0x1ad):'',_0xc0c70=_0x842380[_0x13750f(0x18e)]?_0x13750f(0x193):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return'<li>'+_0x5153ce+'\x20'+_0xc0c70+_0x13750f(0x42c)+_0x4d13bf+'\x27)\x22>'+(_0x842380[_0x13750f(0x303)]||_0x1cf1eb)+_0x13750f(0x339)+_0x53fd12[_0x13750f(0x161)](getRoleTag,_0x4d13bf)+_0x13750f(0x26f);});document[_0x14f768(0x1c8)](_0x53fd12[_0x14f768(0x36c)])[_0x14f768(0x1b4)]=(await Promise[_0x14f768(0x2ac)](_0x43e113))[_0x14f768(0x323)]('');if(!_0x4833a5)return;const _0x3c679d=Object[_0x14f768(0x1a8)](_0x148fd9)['map'](async([_0x364df7,_0x4e4bf2])=>{const _0x16332d=_0x14f768,_0x5d8e8b=_0x53fd12[_0x16332d(0x159)](sanitizeUsername,_0x4e4bf2[_0x16332d(0x303)]||_0x364df7);if(_0x53fd12[_0x16332d(0x2e1)](_0x5d8e8b,_0x3fd48b))return'';const _0x260447=globalDevs['includes'](_0x5d8e8b),_0x55664a=await _0x53fd12[_0x16332d(0x34a)](fetchAvatar,_0x5d8e8b),_0x484839=_0x55664a?_0x16332d(0x1b8)+_0x55664a+_0x16332d(0x1ad):'',_0x59117c=_0x4e4bf2[_0x16332d(0x18e)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x16332d(0x16e),_0x5efd8c=[];if(!_0x260447){[_0x53fd12['nIrUz'],_0x53fd12[_0x16332d(0x25e)],_0x53fd12[_0x16332d(0x202)],_0x53fd12['TRpXj']]['includes'](role)&&(_0x5efd8c['push'](_0x16332d(0x143)+_0x5d8e8b+'\x27,\x201)\x22>Mute\x201m</button>'),_0x5efd8c[_0x16332d(0x2de)]('<button\x20onclick=\x22muteUser(\x27'+_0x5d8e8b+'\x27,\x205)\x22>Mute\x205m</button>'),_0x5efd8c['push'](_0x16332d(0x143)+_0x5d8e8b+_0x16332d(0x41e)));if(_0x53fd12[_0x16332d(0x2e1)](role,_0x53fd12['TRpXj']))_0x5efd8c['push'](_0x16332d(0x379)+_0x5d8e8b+_0x16332d(0x15a)),_0x5efd8c[_0x16332d(0x2de)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x5d8e8b+_0x16332d(0x29d)),_0x5efd8c[_0x16332d(0x2de)]('<button\x20onclick=\x22demoteUser(\x27'+_0x5d8e8b+_0x16332d(0x1be));else role===_0x53fd12['UgEyk']&&(_0x5efd8c[_0x16332d(0x2de)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x5d8e8b+_0x16332d(0x15a)),_0x5efd8c[_0x16332d(0x2de)](_0x16332d(0x198)+_0x5d8e8b+_0x16332d(0x1be)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x484839+'\x20'+_0x59117c+_0x16332d(0x241)+(_0x4e4bf2[_0x16332d(0x303)]||_0x364df7)+'\x20'+getRoleTag(_0x5d8e8b)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x5efd8c[_0x16332d(0x323)]('\x20')+_0x16332d(0x192);});document['getElementById'](_0x53fd12['wiUSq'])[_0x14f768(0x1b4)]=(await Promise['all'](_0x3c679d))[_0x14f768(0x323)]('');}function updateAnnouncementVisibility(){const _0x25beab=_0x1495a2,_0x3441fb={'TpQGn':_0x25beab(0x3ab),'YqKJP':function(_0x4dcb2f,_0x476cb8){return _0x4dcb2f===_0x476cb8;},'YOeou':_0x25beab(0x32b),'TtfGo':_0x25beab(0x3ba),'xHKrq':_0x25beab(0x341),'bSpAH':'none'},_0x39744c=document[_0x25beab(0x1c8)](_0x3441fb[_0x25beab(0x3a5)]);_0x3441fb[_0x25beab(0x2e5)](role,_0x3441fb['YOeou'])||role===_0x3441fb['TtfGo']?_0x39744c[_0x25beab(0x396)]['display']=_0x3441fb[_0x25beab(0x3bd)]:_0x39744c[_0x25beab(0x396)][_0x25beab(0x435)]=_0x3441fb[_0x25beab(0x13e)];}async function fetchAvatar(_0x5390f2){const _0x268163=_0x1495a2;if(userAvatars[_0x5390f2])return userAvatars[_0x5390f2];const _0x4af9bd=await db[_0x268163(0x21e)](_0x268163(0x3e7)+_0x5390f2)[_0x268163(0x20c)]();if(_0x4af9bd[_0x268163(0x19d)]()&&_0x4af9bd['val']()[_0x268163(0x393)])return userAvatars[_0x5390f2]=_0x4af9bd[_0x268163(0x365)]()['avatarBase64'],userAvatars[_0x5390f2];return null;}function sendTyping(){const _0x57449d=_0x1495a2,_0x101adb={'plvbs':function(_0x3b6e40,_0x37f26b,_0x287483){return _0x3b6e40(_0x37f26b,_0x287483);}},_0x1cdbdc=sanitizeUsername(username),_0x5891cd=Date[_0x57449d(0x146)]();db[_0x57449d(0x21e)]('typing/'+roomCode+'/'+_0x1cdbdc)[_0x57449d(0x359)](_0x5891cd);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=_0x101adb[_0x57449d(0x2ea)](setTimeout,()=>{const _0x2788da=_0x57449d;db['ref'](_0x2788da(0x171)+roomCode+'/'+_0x1cdbdc)[_0x2788da(0x1f6)]();},0x1f4);}function listenForTyping(){const _0xf77420=_0x1495a2,_0xc28692={'gGohj':_0xf77420(0x2ca),'LIMoR':_0xf77420(0x3d2)};db[_0xf77420(0x21e)](_0xf77420(0x171)+roomCode)['on'](_0xc28692[_0xf77420(0x420)],_0x3c1d48=>{const _0x57d7c0=_0xf77420,_0x5d15e0=document['getElementById'](_0xc28692[_0x57d7c0(0x187)]);if(!_0x3c1d48['exists']())return _0x5d15e0[_0x57d7c0(0x408)]='';const _0x54a54c=Date[_0x57d7c0(0x146)](),_0x10f606=Object['entries'](_0x3c1d48[_0x57d7c0(0x365)]())[_0x57d7c0(0x1c2)](([_0x35ced2,_0x274942])=>_0x35ced2!==sanitizeUsername(username)&&_0x54a54c-_0x274942<0x1388)[_0x57d7c0(0x22f)](([_0x79b7b3])=>_0x79b7b3);_0x5d15e0[_0x57d7c0(0x408)]=_0x10f606[_0x57d7c0(0x141)]?_0x10f606[_0x57d7c0(0x323)](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x4e79e6=_0x1495a2,_0x588aff={'EnlLq':function(_0x4b60c2,_0x118592){return _0x4b60c2>_0x118592;},'CHAGy':'Type\x20a\x20message...','zXHAR':_0x4e79e6(0x38b),'gzNFb':_0x4e79e6(0x189),'BRzLV':function(_0x4a4967,_0x2f5851,_0x697ecb){return _0x4a4967(_0x2f5851,_0x697ecb);},'DZvfF':function(_0x2d8b9e,_0x3817d3){return _0x2d8b9e(_0x3817d3);},'coxxA':_0x4e79e6(0x3d2)},_0x177e54=db[_0x4e79e6(0x21e)]('muted/'+roomCode+'/'+_0x588aff['DZvfF'](sanitizeUsername,username));let _0x3585c6;_0x177e54['on'](_0x588aff['coxxA'],_0x1f56f2=>{const _0x11b3b7=_0x4e79e6,_0x550e01={'SQjSp':function(_0x323a44,_0x3f1396){const _0x1972c5=_0x4988;return _0x588aff[_0x1972c5(0x2ce)](_0x323a44,_0x3f1396);}};clearInterval(_0x3585c6);const _0x4458d0=document[_0x11b3b7(0x1c8)](_0x11b3b7(0x384));if(!_0x1f56f2['exists']()){_0x4458d0['disabled']=![],_0x4458d0['placeholder']=_0x588aff[_0x11b3b7(0x3fc)];return;}const _0x5f319b=_0x1f56f2['val'](),_0x4284eb=typeof _0x5f319b===_0x588aff[_0x11b3b7(0x2b3)]&&_0x5f319b[_0x11b3b7(0x417)]?_0x5f319b[_0x11b3b7(0x417)]:_0x5f319b;_0x588aff[_0x11b3b7(0x2ce)](_0x4284eb,Date[_0x11b3b7(0x146)]())?(_0x4458d0[_0x11b3b7(0x410)]=!![],_0x4458d0[_0x11b3b7(0x252)]=_0x588aff['gzNFb'],_0x3585c6=_0x588aff[_0x11b3b7(0x1c4)](setInterval,()=>{const _0x3f6e8d=_0x11b3b7;_0x550e01[_0x3f6e8d(0x431)](Date[_0x3f6e8d(0x146)](),_0x4284eb)&&_0x177e54[_0x3f6e8d(0x1f6)]();},0xbb8)):(_0x4458d0[_0x11b3b7(0x410)]=![],_0x4458d0['placeholder']=_0x11b3b7(0x382),_0x177e54[_0x11b3b7(0x1f6)]());});}function isProtected(_0x3746ec){const _0x57fc94=_0x1495a2;return globalDevs[_0x57fc94(0x170)](_0x3746ec);}function addSystemMessage(_0x5ef209){const _0x202875=_0x1495a2,_0x486fc0={'CEYAa':_0x202875(0x397),'mMBzb':_0x202875(0x1b5),'yHNIE':_0x202875(0x2dc)},_0x3ec86d=document['createElement'](_0x202875(0x3f8));_0x3ec86d[_0x202875(0x396)][_0x202875(0x402)]=_0x486fc0[_0x202875(0x331)],_0x3ec86d['style'][_0x202875(0x1db)]=_0x202875(0x367),_0x3ec86d[_0x202875(0x396)][_0x202875(0x273)]=_0x486fc0['mMBzb'],_0x3ec86d[_0x202875(0x396)][_0x202875(0x369)]=_0x202875(0x3ec),_0x3ec86d['innerText']=_0x5ef209,document[_0x202875(0x1c8)](_0x202875(0x2dc))[_0x202875(0x279)](_0x3ec86d),document['getElementById'](_0x486fc0[_0x202875(0x411)])['scrollTop']=document[_0x202875(0x1c8)](_0x486fc0['yHNIE'])[_0x202875(0x3d6)];}function reactToMessage(_0x489342,_0x12540c){const _0x3618b8=_0x1495a2,_0xfe944f={'gKyLp':function(_0x51221d,_0x5eeea2){return _0x51221d(_0x5eeea2);},'ZbvEZ':_0x3618b8(0x3d2)},_0x1cbd54=_0xfe944f[_0x3618b8(0x1a3)](sanitizeUsername,username),_0x34e6db=db[_0x3618b8(0x21e)](_0x3618b8(0x262)+roomCode+_0x3618b8(0x1f5)+_0x489342+_0x3618b8(0x2b6));_0x34e6db[_0x3618b8(0x242)](_0xfe944f['ZbvEZ'])['then'](_0x47b2d5=>{const _0x5659d3=_0x3618b8,_0x3131fc=_0x47b2d5[_0x5659d3(0x365)]()||{},_0x56a9b4={};for(const [_0x28b808,_0xadcb62]of Object[_0x5659d3(0x1a8)](_0x3131fc)){_0x56a9b4[_0x28b808]=(_0xadcb62||[])[_0x5659d3(0x1c2)](_0x10a9d8=>_0x10a9d8!==_0x1cbd54);}if(!_0x3131fc[_0x12540c]||!_0x3131fc[_0x12540c][_0x5659d3(0x170)](_0x1cbd54)){if(!_0x56a9b4[_0x12540c])_0x56a9b4[_0x12540c]=[];_0x56a9b4[_0x12540c][_0x5659d3(0x2de)](_0x1cbd54);}_0x34e6db[_0x5659d3(0x359)](_0x56a9b4);});}function startSidebarSyncLoop(){const _0x412d61={'KhJwM':function(_0x2faccf,_0x1bd091){return _0x2faccf(_0x1bd091);}};setInterval(async()=>{const _0x39bdd4=_0x4988;if(!roomCode)return;const _0x4b39fc=await db[_0x39bdd4(0x21e)](_0x39bdd4(0x41b)+roomCode)[_0x39bdd4(0x20c)]();if(_0x4b39fc[_0x39bdd4(0x19d)]()){const _0x321ffe=_0x4b39fc['val']();_0x412d61['KhJwM'](renderUserLists,_0x321ffe);}},0x1388);}function gotoRoomMenu(){const _0x4050f5=_0x1495a2,_0x68b66a={'MzMBf':_0x4050f5(0x17d),'ANBcg':function(_0x25d840,_0x3131be){return _0x25d840(_0x3131be);}};document[_0x4050f5(0x1c8)](_0x68b66a['MzMBf'])['innerText']=username,_0x68b66a[_0x4050f5(0x37d)](showScreen,_0x4050f5(0x2c4));}function redirectTo2048(){const _0x3cb0fa=_0x1495a2,_0x222451={'fOnFT':_0x3cb0fa(0x3bc),'eUVYk':_0x3cb0fa(0x35a),'BJDKs':function(_0x573d4c,_0x126e4d){return _0x573d4c(_0x126e4d);}},_0x308fee=localStorage[_0x3cb0fa(0x2d0)](_0x222451['fOnFT']);if(!username||!_0x308fee){alert(_0x222451[_0x3cb0fa(0x3dd)]);return;}window[_0x3cb0fa(0x2b0)]['href']=_0x3cb0fa(0x35c)+_0x222451['BJDKs'](encodeURIComponent,_0x308fee);}