const _0x53d4bc=_0x18aa;(function(_0x2b7d13,_0x1bfa10){const _0x446382=_0x18aa,_0xa4ccf3=_0x2b7d13();while(!![]){try{const _0x2a9c67=parseInt(_0x446382(0x244))/0x1+-parseInt(_0x446382(0x2e7))/0x2*(parseInt(_0x446382(0x44b))/0x3)+-parseInt(_0x446382(0x4bc))/0x4+-parseInt(_0x446382(0x48e))/0x5+parseInt(_0x446382(0x481))/0x6+-parseInt(_0x446382(0x268))/0x7*(-parseInt(_0x446382(0x263))/0x8)+-parseInt(_0x446382(0x393))/0x9*(-parseInt(_0x446382(0x432))/0xa);if(_0x2a9c67===_0x1bfa10)break;else _0xa4ccf3['push'](_0xa4ccf3['shift']());}catch(_0x1a1a66){_0xa4ccf3['push'](_0xa4ccf3['shift']());}}}(_0x3a73,0xb7430));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x53d4bc(0x319),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x53d4bc(0x3b8),'messagingSenderId':_0x53d4bc(0x2ea),'appId':_0x53d4bc(0x449),'measurementId':_0x53d4bc(0x399)};firebase[_0x53d4bc(0x1c4)](firebaseConfig);const messaging=firebase['messaging'](),db=firebase[_0x53d4bc(0x4bf)]();let deviceId=null;((async()=>{const _0x5bb18f=_0x53d4bc,_0x19e87b={'jaBuf':function(_0x1e8e71){return _0x1e8e71();}};deviceId=await _0x19e87b[_0x5bb18f(0x1d5)](generateDeviceId);})());const swearWords=['fuck',_0x53d4bc(0x349),_0x53d4bc(0x2bc),_0x53d4bc(0x3e5),_0x53d4bc(0x3c8),'dick','cunt',_0x53d4bc(0x1e7),_0x53d4bc(0x3c3),'pendejo',_0x53d4bc(0x1d9),_0x53d4bc(0x4b1),_0x53d4bc(0x377),_0x53d4bc(0x21d),_0x53d4bc(0x351),_0x53d4bc(0x4c7),'puta','fdp',_0x53d4bc(0x1a8),_0x53d4bc(0x272),_0x53d4bc(0x3d6),_0x53d4bc(0x1c7),_0x53d4bc(0x1bd),_0x53d4bc(0x49a),'bwisit',_0x53d4bc(0x396)],style=document['createElement']('style');style['innerHTML']=_0x53d4bc(0x1d2),document['head'][_0x53d4bc(0x31b)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x53d4bc(0x283)]()[_0x53d4bc(0x381)](0x24)[_0x53d4bc(0x1bc)](0x2,0x9),lastActivity=Date[_0x53d4bc(0x29c)](),typingTimeout,gr8stg='';function _0x18aa(_0x41bd6a,_0x793d0){const _0x3a7329=_0x3a73();return _0x18aa=function(_0x18aaf7,_0x522e02){_0x18aaf7=_0x18aaf7-0x1a5;let _0x5742d2=_0x3a7329[_0x18aaf7];return _0x5742d2;},_0x18aa(_0x41bd6a,_0x793d0);}const STATIC_ROOM=_0x53d4bc(0x37e),MAX_MESSAGES=0xfa,sound=new Audio(_0x53d4bc(0x331));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x241bb8=_0x53d4bc,_0x1ea786={'rMrLy':function(_0x489058,_0x557696){return _0x489058+_0x557696;},'yEwuN':function(_0xcd2f50,_0x4ece76){return _0xcd2f50(_0x4ece76);}},_0x47b332=_0x1ea786[_0x241bb8(0x4b8)](navigator['userAgent'],screen[_0x241bb8(0x41d)])+screen['height'],_0x92dae9=await _0x1ea786[_0x241bb8(0x259)](sha256,_0x47b332);return _0x1ea786[_0x241bb8(0x4b8)]('_',_0x92dae9[_0x241bb8(0x1bc)](0x0,0x14));}function sha256(_0x9a1a46){const _0x21db1a=_0x53d4bc,_0x2167a7=new TextEncoder()[_0x21db1a(0x20c)](_0x9a1a46);return crypto['subtle'][_0x21db1a(0x249)](_0x21db1a(0x27e),_0x2167a7)[_0x21db1a(0x201)](_0x264271=>{const _0x1f38d0=_0x21db1a;return Array['from'](new Uint8Array(_0x264271))[_0x1f38d0(0x407)](_0x4b7133=>_0x4b7133['toString'](0x10)[_0x1f38d0(0x4ab)](0x2,'0'))[_0x1f38d0(0x299)]('');});}function toggleNotifications(){const _0x59601f=_0x53d4bc,_0x7f08ec={'ryMOS':_0x59601f(0x2e6),'zehiY':_0x59601f(0x38f),'hiMNV':_0x59601f(0x465),'qscfW':_0x59601f(0x3a2),'EoATt':function(_0x4b8a90,_0x3f7d57){return _0x4b8a90!==_0x3f7d57;},'wPmPe':_0x59601f(0x35b),'OaXPe':_0x59601f(0x3b5)};_0x7f08ec[_0x59601f(0x257)](Notification[_0x59601f(0x430)],_0x7f08ec[_0x59601f(0x450)])?Notification[_0x59601f(0x284)]()[_0x59601f(0x201)](_0x1c24cb=>{const _0x4cdf9e=_0x59601f;_0x1c24cb===_0x7f08ec['ryMOS']&&(notificationsEnabled=!![],localStorage[_0x4cdf9e(0x1fc)](_0x7f08ec[_0x4cdf9e(0x2d5)],_0x4cdf9e(0x35b)),document[_0x4cdf9e(0x341)](_0x7f08ec[_0x4cdf9e(0x375)])[_0x4cdf9e(0x3f5)]=_0x7f08ec[_0x4cdf9e(0x1ea)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x7f08ec[_0x59601f(0x2d5)],notificationsEnabled?_0x7f08ec[_0x59601f(0x2d3)]:_0x59601f(0x26e)),document[_0x59601f(0x341)](_0x7f08ec[_0x59601f(0x375)])[_0x59601f(0x3f5)]=notificationsEnabled?_0x7f08ec[_0x59601f(0x1ea)]:_0x7f08ec[_0x59601f(0x497)]);}function toggleAuthMode(){const _0x3f5c09=_0x53d4bc,_0x365c77={'hedsa':_0x3f5c09(0x2f3),'wleaD':_0x3f5c09(0x31c),'YfaBi':_0x3f5c09(0x21a),'OaVKB':_0x3f5c09(0x346),'WodeG':_0x3f5c09(0x3ff),'heJCI':_0x3f5c09(0x4af),'iMNaC':_0x3f5c09(0x313),'gWHtZ':'authAvatar','iGWSl':'authPasswordConfirm','qXfnM':_0x3f5c09(0x3f0)},_0x592563=_0x365c77[_0x3f5c09(0x1f5)][_0x3f5c09(0x35a)]('|');let _0x5005bd=0x0;while(!![]){switch(_0x592563[_0x5005bd++]){case'0':document[_0x3f5c09(0x341)](_0x365c77[_0x3f5c09(0x46c)])[_0x3f5c09(0x3e7)][_0x3f5c09(0x2e9)]=isRegisterMode?_0x365c77[_0x3f5c09(0x41a)]:_0x365c77[_0x3f5c09(0x43f)];continue;case'1':document[_0x3f5c09(0x341)](_0x3f5c09(0x3d5))[_0x3f5c09(0x3e7)][_0x3f5c09(0x2e9)]=_0x365c77[_0x3f5c09(0x43f)];continue;case'2':isRegisterMode=!isRegisterMode;continue;case'3':document[_0x3f5c09(0x341)](_0x365c77[_0x3f5c09(0x4c3)])[_0x3f5c09(0x3f5)]=isRegisterMode?_0x365c77[_0x3f5c09(0x3d9)]:_0x365c77[_0x3f5c09(0x22d)];continue;case'4':document[_0x3f5c09(0x341)](_0x365c77[_0x3f5c09(0x334)])[_0x3f5c09(0x3e7)][_0x3f5c09(0x2e9)]=isRegisterMode?_0x365c77[_0x3f5c09(0x41a)]:_0x365c77['OaVKB'];continue;case'5':document['getElementById'](_0x365c77[_0x3f5c09(0x2f2)])['style'][_0x3f5c09(0x2e9)]=isRegisterMode?_0x365c77[_0x3f5c09(0x41a)]:_0x365c77[_0x3f5c09(0x43f)];continue;case'6':document[_0x3f5c09(0x341)]('authTitle')['innerText']=isRegisterMode?_0x3f5c09(0x4af):_0x365c77[_0x3f5c09(0x22d)];continue;case'7':document['getElementById'](_0x365c77[_0x3f5c09(0x4ca)])[_0x3f5c09(0x3e7)][_0x3f5c09(0x2e9)]=_0x365c77[_0x3f5c09(0x43f)];continue;}break;}}function previewAvatar(){const _0x4739bd=_0x53d4bc,_0x4d1f1e={'WZTXo':_0x4739bd(0x3d5),'ZwKjT':'block','TdVoU':_0x4739bd(0x369)},_0x48a862=document[_0x4739bd(0x341)](_0x4d1f1e[_0x4739bd(0x2b5)]);if(!_0x48a862[_0x4739bd(0x1b6)][_0x4739bd(0x438)])return;const _0x1ec1c0=new FileReader();_0x1ec1c0['onloadend']=()=>{const _0x2581ac=_0x4739bd;document['getElementById'](_0x4d1f1e[_0x2581ac(0x392)])['src']=_0x1ec1c0[_0x2581ac(0x3f3)],document[_0x2581ac(0x341)](_0x4d1f1e[_0x2581ac(0x392)])[_0x2581ac(0x3e7)]['display']=_0x4d1f1e[_0x2581ac(0x34c)];},_0x1ec1c0['readAsDataURL'](_0x48a862['files'][0x0]);}async function submitAuth(){const _0x1f51e0=_0x53d4bc,_0x1f910f={'AjeGy':'user','VMcpF':function(_0x55a345,_0xf5c2a4){return _0x55a345(_0xf5c2a4);},'pQjuk':'2048_token','vEpJi':_0x1f51e0(0x426),'OSRxk':_0x1f51e0(0x45e),'TjcRv':'authPasswordConfirm','WVNUn':_0x1f51e0(0x31c),'FdMjb':_0x1f51e0(0x369),'sJAJm':_0x1f51e0(0x346),'GsmEN':function(_0x27842b,_0x1b7ba3){return _0x27842b||_0x1b7ba3;},'gMFuf':_0x1f51e0(0x21a),'pVnsH':function(_0x3e38e1,_0x1a1e80){return _0x3e38e1(_0x1a1e80);},'jothW':_0x1f51e0(0x23b),'FQhJD':function(_0x178bdd,_0x3fb824){return _0x178bdd!==_0x3fb824;},'kmLAw':_0x1f51e0(0x44a),'UupVw':function(_0x518ba2){return _0x518ba2();},'IlqnR':function(_0x4a5580,_0xc89cfe){return _0x4a5580(_0xc89cfe);},'EYYaQ':function(_0x399651){return _0x399651();},'rnpDf':_0x1f51e0(0x29d),'ZbAgt':function(_0x4ac442,_0x5796fd){return _0x4ac442(_0x5796fd);},'NFGhI':function(_0x135d04){return _0x135d04();}},_0x33a436=document[_0x1f51e0(0x341)](_0x1f910f['OSRxk'])[_0x1f51e0(0x43a)][_0x1f51e0(0x316)](),_0x2f7a93=document[_0x1f51e0(0x341)]('authPassword')['value'][_0x1f51e0(0x316)](),_0x1c8ef2=document['getElementById'](_0x1f910f[_0x1f51e0(0x1f2)])['value'][_0x1f51e0(0x316)](),_0x53b810=document[_0x1f51e0(0x341)](_0x1f910f[_0x1f51e0(0x2db)])[_0x1f51e0(0x43a)][_0x1f51e0(0x316)](),_0xee5f12=document['getElementById'](_0x1f910f['FdMjb']),_0x1d53d0=document[_0x1f51e0(0x341)](_0x1f51e0(0x3f0));_0x1d53d0[_0x1f51e0(0x3e7)][_0x1f51e0(0x2e9)]=_0x1f910f[_0x1f51e0(0x1a9)];if(_0x1f910f[_0x1f51e0(0x20f)](!_0x33a436,!_0x2f7a93)){_0x1d53d0['innerText']=_0x1f51e0(0x27b),_0x1d53d0[_0x1f51e0(0x3e7)]['display']=_0x1f910f[_0x1f51e0(0x301)];return;}const _0x5b168f=_0x1f910f[_0x1f51e0(0x323)](sanitizeUsername,_0x33a436),_0x5322df=db['ref'](_0x1f51e0(0x360)+_0x5b168f),_0x916b3=await _0x5322df[_0x1f51e0(0x4a1)]();if(isRegisterMode){if(_0x916b3['exists']()){_0x1d53d0[_0x1f51e0(0x3f5)]=_0x1f910f[_0x1f51e0(0x1c9)],_0x1d53d0[_0x1f51e0(0x3e7)][_0x1f51e0(0x2e9)]=_0x1f910f[_0x1f51e0(0x301)];return;}if(_0x1f910f['FQhJD'](_0x2f7a93,_0x1c8ef2)){_0x1d53d0[_0x1f51e0(0x3f5)]=_0x1f910f['kmLAw'],_0x1d53d0[_0x1f51e0(0x3e7)][_0x1f51e0(0x2e9)]=_0x1f910f['gMFuf'];return;}const _0x2dec6f=await sha256(_0x2f7a93);window[_0x1f51e0(0x213)]=_0x2dec6f,localStorage[_0x1f51e0(0x1fc)](_0x1f910f['pQjuk'],_0x2dec6f);const _0xa379c5=await _0x1f910f[_0x1f51e0(0x1e8)](generateDeviceId);if(_0xee5f12[_0x1f51e0(0x1b6)][_0x1f51e0(0x438)]){const _0x24216c=_0xee5f12['files'][0x0],_0xec0f55=new FileReader();_0xec0f55[_0x1f51e0(0x1f4)]=async()=>{const _0x1b3b18=_0x1f51e0,_0x5742b4=_0xec0f55[_0x1b3b18(0x3f3)][_0x1b3b18(0x35a)](',')[0x1];await _0x5322df['set']({'username':_0x33a436,'passwordHash':_0x527dc8,'description':_0x53b810||'','avatarBase64':_0x5742b4,'role':_0x1f910f[_0x1b3b18(0x362)],'deviceId':_0xa379c5,'usernameHistory':[_0x33a436],'lastChanged':Date[_0x1b3b18(0x29c)]()}),username=_0x33a436,userDescription=_0x53b810,avatarBase64=_0x5742b4,role=_0x1f910f['AjeGy'];const _0x527dc8=await _0x1f910f[_0x1b3b18(0x3e6)](sha256,_0x2f7a93);localStorage[_0x1b3b18(0x1fc)](_0x1f910f[_0x1b3b18(0x46a)],_0x527dc8),localStorage[_0x1b3b18(0x1fc)](_0x1f910f['vEpJi'],_0x33a436),startAfterAuth();},_0xec0f55['readAsDataURL'](_0x24216c);}else{await _0x5322df[_0x1f51e0(0x3b3)]({'username':_0x33a436,'passwordHash':_0x30e54a,'description':_0x1f910f[_0x1f51e0(0x20f)](_0x53b810,''),'avatarBase64':'','role':_0x1f910f[_0x1f51e0(0x362)],'deviceId':_0xa379c5,'usernameHistory':[_0x33a436],'lastChanged':Date[_0x1f51e0(0x29c)]()}),username=_0x33a436,userDescription=_0x53b810,avatarBase64='',role=_0x1f910f[_0x1f51e0(0x362)];const _0x30e54a=await _0x1f910f[_0x1f51e0(0x398)](sha256,_0x2f7a93);localStorage[_0x1f51e0(0x1fc)](_0x1f910f['pQjuk'],_0x30e54a),localStorage[_0x1f51e0(0x1fc)](_0x1f910f[_0x1f51e0(0x46e)],_0x33a436),_0x1f910f[_0x1f51e0(0x1e0)](startAfterAuth);}}else{if(!_0x916b3[_0x1f51e0(0x2b8)]()){_0x1d53d0[_0x1f51e0(0x3f5)]=_0x1f51e0(0x406),_0x1d53d0[_0x1f51e0(0x3e7)][_0x1f51e0(0x2e9)]='block';return;}const _0x33719b=_0x916b3[_0x1f51e0(0x25d)](),_0x310eda=await sha256(_0x2f7a93);if(_0x1f910f[_0x1f51e0(0x3cb)](_0x310eda,_0x33719b[_0x1f51e0(0x213)])){_0x1d53d0[_0x1f51e0(0x3f5)]=_0x1f910f[_0x1f51e0(0x41c)],_0x1d53d0['style'][_0x1f51e0(0x2e9)]=_0x1f910f[_0x1f51e0(0x301)];return;}username=_0x33a436;if(_0x33719b[_0x1f51e0(0x338)])userDescription=_0x33719b[_0x1f51e0(0x338)];if(_0x33719b['avatarBase64'])avatarBase64=_0x33719b[_0x1f51e0(0x302)];if(_0x33719b[_0x1f51e0(0x2f8)])role=_0x33719b[_0x1f51e0(0x2f8)];else role=_0x1f910f[_0x1f51e0(0x362)];const _0x480b58=await _0x1f910f[_0x1f51e0(0x25b)](sha256,_0x2f7a93);localStorage['setItem'](_0x1f51e0(0x265),_0x480b58),localStorage[_0x1f51e0(0x1fc)](_0x1f51e0(0x426),_0x33a436),_0x1f910f[_0x1f51e0(0x40b)](startAfterAuth);}}async function saveNewUser(_0x457854,_0x5ca6e4,_0x2c0c33,_0x29305b,_0x2967e2){const _0x22ca5d=_0x53d4bc,_0xeef56e={'tRfeT':_0x22ca5d(0x344),'jjMgv':function(_0x50ad88,_0x52b21a){return _0x50ad88||_0x52b21a;},'hsVfC':function(_0x4c8e91,_0x322999){return _0x4c8e91||_0x322999;}},_0x3106ec=db[_0x22ca5d(0x428)](_0x22ca5d(0x360)+sanitizeUsername(_0x457854)),_0x58948e={'username':_0x457854,'passwordHash':_0x5ca6e4,'role':_0xeef56e['tRfeT'],'deviceId':_0x2c0c33,'description':_0xeef56e[_0x22ca5d(0x1b0)](_0x2967e2,''),'avatarBase64':_0xeef56e[_0x22ca5d(0x2dd)](_0x29305b,''),'usernameHistory':[_0x457854],'lastChanged':Date['now']()};await _0x3106ec['set'](_0x58948e),username=_0x457854,_0x29305b=_0x58948e[_0x22ca5d(0x302)],userDescription=_0x58948e[_0x22ca5d(0x338)],startAfterAuth();}async function startAfterAuth(){const _0x5b4866=_0x53d4bc,_0x545371={'NdrZx':function(_0x5c7d4a,_0x314da7){return _0x5c7d4a(_0x314da7);},'CNDtQ':_0x5b4866(0x344),'fXoxs':function(_0x24e067,_0x5c9d43){return _0x24e067+_0x5c9d43;},'ITIRR':'data:image/png;base64,','etXsa':_0x5b4866(0x21a),'EYgVu':_0x5b4866(0x350),'LKUJy':function(_0x3713e6){return _0x3713e6();},'EKLiG':function(_0x487dfb,_0x298434){return _0x487dfb(_0x298434);},'abDRP':_0x5b4866(0x40e)},_0x402562=_0x545371[_0x5b4866(0x44c)](sanitizeUsername,username),_0x359b87=db[_0x5b4866(0x428)](_0x5b4866(0x360)+_0x402562),_0x210167=await _0x359b87['get']();if(_0x210167[_0x5b4866(0x2b8)]()){const _0x37be2f=_0x210167[_0x5b4866(0x25d)]();username=_0x37be2f[_0x5b4866(0x264)],userDescription=_0x37be2f[_0x5b4866(0x338)]||'',avatarBase64=_0x37be2f[_0x5b4866(0x302)]||'',role=_0x37be2f[_0x5b4866(0x2f8)]||_0x545371[_0x5b4866(0x429)];if(avatarBase64){const _0x33e7d4=document[_0x5b4866(0x341)](_0x5b4866(0x37d));_0x33e7d4[_0x5b4866(0x322)]=_0x545371['fXoxs'](_0x545371['ITIRR'],avatarBase64),_0x33e7d4[_0x5b4866(0x3e7)][_0x5b4866(0x2e9)]=_0x545371[_0x5b4866(0x1e3)];}}else console['warn'](_0x545371[_0x5b4866(0x21b)]);await _0x545371[_0x5b4866(0x4ad)](loadRoomRoles),_0x545371[_0x5b4866(0x382)](showScreen,_0x545371[_0x5b4866(0x34b)]),history[_0x5b4866(0x33c)]({'screen':_0x5b4866(0x40e)},'');}function toggleRecording(){const _0x189acf=_0x53d4bc,_0x511c05={'gDIyp':_0x189acf(0x297),'CSclG':'audio/webm','eueFK':function(_0x2a9bc6,_0xdf66c3){return _0x2a9bc6&&_0xdf66c3;},'puDdl':function(_0x55cc4a){return _0x55cc4a();},'vWTul':_0x189acf(0x295),'WjDZv':function(_0x122ade,_0x5f1364,_0x49db89){return _0x122ade(_0x5f1364,_0x49db89);},'TPxOD':function(_0x4c260e,_0x4aa28d){return _0x4c260e(_0x4aa28d);}};isRecording?stopRecording():navigator[_0x189acf(0x286)][_0x189acf(0x419)]({'audio':!![]})[_0x189acf(0x201)](_0x297bbd=>{const _0x203928=_0x189acf;mediaRecorder=new MediaRecorder(_0x297bbd),mediaRecorder['start'](),isRecording=!![],document['getElementById'](_0x511c05[_0x203928(0x293)])[_0x203928(0x3f5)]='⏹️',audioChunks=[],mediaRecorder[_0x203928(0x380)]=_0x347485=>audioChunks[_0x203928(0x328)](_0x347485[_0x203928(0x1f7)]),mediaRecorder['onstop']=()=>{const _0x1bed88=_0x203928,_0x131255={'ccWqG':_0x511c05['gDIyp']};clearTimeout(recordingTimer);const _0x30ad4f=new Blob(audioChunks,{'type':_0x511c05['CSclG']}),_0x3ce0c1=new FileReader();_0x3ce0c1[_0x1bed88(0x1f4)]=()=>{const _0x2519cd=_0x1bed88,_0x2089dd=_0x3ce0c1[_0x2519cd(0x3f3)][_0x2519cd(0x35a)](',')[0x1],_0x36b585=db[_0x2519cd(0x428)]()[_0x2519cd(0x328)]()[_0x2519cd(0x206)];db[_0x2519cd(0x428)]('rooms/'+roomCode+_0x2519cd(0x3b9)+_0x36b585)[_0x2519cd(0x3b3)]({'msg':_0x131255[_0x2519cd(0x4c5)],'audioBase64':_0x2089dd,'sender':username,'senderId':clientId,'timestamp':Date[_0x2519cd(0x29c)]()});},_0x3ce0c1['readAsDataURL'](_0x30ad4f);},recordingTimer=_0x511c05[_0x203928(0x252)](setTimeout,()=>{const _0x41e2ea=_0x203928;_0x511c05[_0x41e2ea(0x4c8)](mediaRecorder,isRecording)&&_0x511c05['puDdl'](stopRecording);},0x4e20);})[_0x189acf(0x446)](_0x154a61=>{const _0x490940=_0x189acf;_0x511c05[_0x490940(0x4bd)](alert,_0x490940(0x24b));});}function stopRecording(){const _0xec6cd3=_0x53d4bc,_0x35d061={'RjPRq':function(_0xede4c5,_0x27bd0d){return _0xede4c5&&_0x27bd0d;},'UElFK':_0xec6cd3(0x295),'bVzDP':'🎙️'};_0x35d061[_0xec6cd3(0x4a0)](mediaRecorder,isRecording)&&(mediaRecorder[_0xec6cd3(0x416)](),isRecording=![],document[_0xec6cd3(0x341)](_0x35d061[_0xec6cd3(0x22f)])[_0xec6cd3(0x3f5)]=_0x35d061[_0xec6cd3(0x32e)]);}window['onload']=async()=>{const _0x4a576b=_0x53d4bc,_0xd347ec={'QPxpl':function(_0x567988){return _0x567988();},'WXVnB':function(_0x234fcb){return _0x234fcb();},'Fulpd':function(_0xfc8739){return _0xfc8739();},'FsImi':_0x4a576b(0x38f),'XPeFr':function(_0x5923b5,_0xa46cc7){return _0x5923b5===_0xa46cc7;},'AqjOA':_0x4a576b(0x35b),'rFNLh':function(_0x28863e,_0x548afd){return _0x28863e(_0x548afd);},'eLnWn':'authScreen'};cleanupOldRooms(),_0xd347ec[_0x4a576b(0x3d1)](setupSidebarBackHandler),_0xd347ec[_0x4a576b(0x3bb)](setupVisibilityAttention),_0xd347ec['Fulpd'](resetWebsiteData);const _0x14199b=localStorage[_0x4a576b(0x2d0)](_0xd347ec[_0x4a576b(0x361)]);notificationsEnabled=_0xd347ec[_0x4a576b(0x3ab)](_0x14199b,_0xd347ec[_0x4a576b(0x3ba)]),_0xd347ec[_0x4a576b(0x2be)](showScreen,_0xd347ec[_0x4a576b(0x4b2)]);},window['addEventListener']('popstate',_0x2e56e0=>{const _0x1d9def=_0x53d4bc,_0x4980d9={'dvBTZ':function(_0x371227,_0x316ae9){return _0x371227===_0x316ae9;},'AazKJ':'authScreen','YVJNX':function(_0x1af0e5,_0x58abe2){return _0x1af0e5(_0x58abe2);},'lXlnB':_0x1d9def(0x2ed),'PWfmJ':function(_0xd4aeb8,_0x512089){return _0xd4aeb8(_0x512089);}},_0x148086=_0x2e56e0[_0x1d9def(0x3ae)]?.['screen'];if(!_0x148086||_0x4980d9[_0x1d9def(0x315)](_0x148086,_0x4980d9[_0x1d9def(0x457)])){_0x4980d9['YVJNX'](alert,_0x4980d9[_0x1d9def(0x3f4)]),history[_0x1d9def(0x202)]({'screen':currentScreen},'');return;}_0x4980d9[_0x1d9def(0x3ed)](showScreen,_0x148086);});function sanitizeUsername(_0x47036c){const _0x476663=_0x53d4bc;return _0x47036c[_0x476663(0x210)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0xd1b2e0=_0x53d4bc,_0x199be9={'AZxUS':_0xd1b2e0(0x219),'ILSmt':_0xd1b2e0(0x21a),'sPvmZ':_0xd1b2e0(0x378),'rXhLL':_0xd1b2e0(0x3db),'bvBIi':_0xd1b2e0(0x47b),'kOyQd':function(_0x8af76,_0x3a674f){return _0x8af76(_0x3a674f);},'KFexH':'mainApp','ibBoO':_0xd1b2e0(0x2aa),'qkusK':_0xd1b2e0(0x212),'UljdQ':_0xd1b2e0(0x318),'kTcOP':_0xd1b2e0(0x364),'TrwBH':'profileError','LFIUZ':function(_0x52e70b,_0x3e9c5c){return _0x52e70b||_0x3e9c5c;},'pgVVj':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','lxCYI':_0xd1b2e0(0x43a)},_0x166a18=document[_0xd1b2e0(0x341)](_0x199be9[_0xd1b2e0(0x424)])['value']['trim'](),_0x3b59e0=document[_0xd1b2e0(0x341)](_0x199be9[_0xd1b2e0(0x3b4)])[_0xd1b2e0(0x43a)][_0xd1b2e0(0x316)](),_0x22713d=document['getElementById'](_0x199be9['TrwBH']);if(_0x199be9[_0xd1b2e0(0x31d)](!_0x166a18,!_0x3b59e0)){_0x22713d[_0xd1b2e0(0x3f5)]=_0x199be9[_0xd1b2e0(0x33e)],_0x22713d[_0xd1b2e0(0x3e7)][_0xd1b2e0(0x2e9)]=_0x199be9[_0xd1b2e0(0x38b)];return;}const _0x5797df=_0x199be9[_0xd1b2e0(0x343)](sanitizeUsername,_0x166a18),_0x888bef=db[_0xd1b2e0(0x428)](_0xd1b2e0(0x209)+_0x5797df);_0x888bef[_0xd1b2e0(0x200)](_0x199be9[_0xd1b2e0(0x2f6)])[_0xd1b2e0(0x201)](_0x2cc242=>{const _0x431260=_0xd1b2e0;if(_0x2cc242[_0x431260(0x2b8)]())_0x22713d[_0x431260(0x3f5)]=_0x199be9[_0x431260(0x372)],_0x22713d[_0x431260(0x3e7)][_0x431260(0x2e9)]=_0x431260(0x21a);else{const _0x79dd44={'username':_0x166a18,'description':_0x3b59e0,'lastChanged':Date['now'](),'usernameHistory':[_0x166a18]};_0x888bef[_0x431260(0x3b3)](_0x79dd44,_0xe3e3f9=>{const _0x421703=_0x431260;if(_0xe3e3f9)console['error'](_0x421703(0x391),_0xe3e3f9),_0x22713d[_0x421703(0x3f5)]=_0x199be9['AZxUS'],_0x22713d['style'][_0x421703(0x2e9)]=_0x199be9['ILSmt'];else{const _0x4d04fd=_0x199be9['sPvmZ'][_0x421703(0x35a)]('|');let _0x1b4165=0x0;while(!![]){switch(_0x4d04fd[_0x1b4165++]){case'0':localStorage[_0x421703(0x1fc)](_0x199be9[_0x421703(0x330)],_0x166a18);continue;case'1':username=_0x166a18;continue;case'2':localStorage[_0x421703(0x1fc)](_0x199be9[_0x421703(0x48d)],_0x3b59e0);continue;case'3':_0x199be9[_0x421703(0x343)](showScreen,'mainApp');continue;case'4':history[_0x421703(0x33c)]({'screen':_0x199be9[_0x421703(0x4b4)]},'');continue;}break;}}});}})[_0xd1b2e0(0x446)](_0x24c138=>{const _0x3e9964=_0xd1b2e0;console[_0x3e9964(0x472)](_0x3e9964(0x274),_0x24c138),_0x22713d[_0x3e9964(0x3f5)]=_0x199be9[_0x3e9964(0x1a7)],_0x22713d[_0x3e9964(0x3e7)]['display']=_0x3e9964(0x21a);});}function saveProfile(_0x458b05,_0x28fca2,_0x68eed0){const _0x35bb33=_0x53d4bc,_0x2a83d2={'dERIM':function(_0x1f1ac3,_0x7b414a){return _0x1f1ac3(_0x7b414a);},'rWvCb':'mainApp'},_0x243b97=Date[_0x35bb33(0x29c)](),_0x3f8d8d=[_0x458b05];db[_0x35bb33(0x428)](_0x35bb33(0x209)+_0x68eed0)[_0x35bb33(0x3b3)]({'username':_0x458b05,'description':_0x28fca2,'lastChanged':_0x243b97,'usernameHistory':_0x3f8d8d}),_0x2a83d2[_0x35bb33(0x2ad)](showScreen,_0x2a83d2[_0x35bb33(0x33a)]),_0x3f8d8d[_0x35bb33(0x33c)]({'screen':_0x2a83d2[_0x35bb33(0x33a)]},'');}function generateRoom(){const _0x4b811e=_0x53d4bc,_0x120997={'QerIH':function(_0x17e315){return _0x17e315();},'oJDPz':function(_0x2c20b1,_0xccd91f){return _0x2c20b1+_0xccd91f;},'JNqbz':_0x4b811e(0x2a8),'uuhtQ':function(_0x326bb8){return _0x326bb8();}};roomCode=_0x120997[_0x4b811e(0x413)](genRoomCode),db[_0x4b811e(0x428)](_0x120997[_0x4b811e(0x1ce)](_0x120997[_0x4b811e(0x253)],roomCode))[_0x4b811e(0x3b3)]({'active':!![],'created':Date['now']()}),_0x120997[_0x4b811e(0x3b1)](startChat);}function joinRoom(){const _0x3ab950=_0x53d4bc,_0x576a54={'hkxEN':function(_0x53f8ba,_0xfe499b){return _0x53f8ba!==_0xfe499b;},'yorio':function(_0x33733a){return _0x33733a();},'YuTWe':'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','jQXeu':'roomCodeInput','aUhDW':function(_0x4387a5,_0x40504e){return _0x4387a5(_0x40504e);},'HxMtV':_0x3ab950(0x39b),'AEVOX':'passwordScreen','GbaiR':_0x3ab950(0x2a8)},_0x2a8bc4=roomCode||document[_0x3ab950(0x341)](_0x576a54[_0x3ab950(0x1df)])[_0x3ab950(0x43a)]['trim']()[_0x3ab950(0x3f7)]();if(!_0x2a8bc4)return _0x576a54[_0x3ab950(0x339)](alert,_0x576a54['HxMtV']);roomCode=_0x2a8bc4;if(roomCode===STATIC_ROOM){_0x576a54['aUhDW'](showScreen,_0x576a54['AEVOX']);return;}db[_0x3ab950(0x428)](_0x576a54['GbaiR']+roomCode)[_0x3ab950(0x4a1)]()[_0x3ab950(0x201)](_0x52ed15=>{const _0x402da3=_0x3ab950;_0x52ed15[_0x402da3(0x2b8)]()&&_0x576a54[_0x402da3(0x4a6)](_0x52ed15[_0x402da3(0x25d)]()[_0x402da3(0x3e2)],![])?_0x576a54[_0x402da3(0x434)](startChat):alert(_0x576a54[_0x402da3(0x452)]);});}async function startChat(){const _0xf284ca=_0x53d4bc,_0x22286b={'XCdrO':function(_0x2eaa53,_0x674bc3){return _0x2eaa53===_0x674bc3;},'IdUYe':_0xf284ca(0x255),'YsOtZ':function(_0x44fff7,_0x51e951){return _0x44fff7(_0x51e951);},'zRiyr':function(_0x1e9e33,_0x12ed8c){return _0x1e9e33(_0x12ed8c);},'HeoxY':_0xf284ca(0x40e),'CivBd':'sidebarAvatarPreview','BwoUj':function(_0x122ff8,_0x2da257){return _0x122ff8+_0x2da257;},'xiwiY':_0xf284ca(0x21a),'DEjhd':_0xf284ca(0x1db),'WNRdI':'roomDisplay','Glihr':function(_0x4f3379,_0x41db44){return _0x4f3379===_0x41db44;},'jwtbT':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','ZyUgI':function(_0x1c3dc6){return _0x1c3dc6();},'IiDWb':_0xf284ca(0x1ef),'phCEZ':_0xf284ca(0x26d),'pIMpQ':function(_0x39aec1){return _0x39aec1();},'dKNah':function(_0x3268ea){return _0x3268ea();},'qUdCT':_0xf284ca(0x417),'hpOnv':_0xf284ca(0x24a),'ojXWh':function(_0x404c98,_0x52ea58){return _0x404c98||_0x52ea58;},'WCjFy':function(_0x21644a){return _0x21644a();},'RvcGG':function(_0xe4fb3){return _0xe4fb3();},'pQjbF':function(_0x46574d){return _0x46574d();}};if(_0x22286b['ojXWh'](!roomCode,!username))return _0x22286b['zRiyr'](alert,_0xf284ca(0x1c8)),_0x22286b[_0xf284ca(0x38c)](showScreen,_0x22286b['HeoxY'])&&history[_0xf284ca(0x33c)]({'screen':_0x22286b[_0xf284ca(0x246)]},'');_0x22286b[_0xf284ca(0x247)](listenForPauseState),_0x22286b['pIMpQ'](listenForUserList),await _0x22286b['RvcGG'](loadRoomRoles),_0x22286b[_0xf284ca(0x32b)](listenForAnnouncement);const _0x28fd45=_0x22286b[_0xf284ca(0x46d)](sanitizeUsername,username),_0x50b0da=db['ref'](_0xf284ca(0x1c6)+roomCode+'/'+_0x28fd45),_0x12dc11={'username':username,'online':!![],'lastOnline':firebase[_0xf284ca(0x4bf)][_0xf284ca(0x410)][_0xf284ca(0x2a9)]};_0x50b0da[_0xf284ca(0x3b3)](_0x12dc11,_0x3f4774=>{const _0x2bc49c=_0xf284ca,_0x54c1fe={'IJFMg':function(_0x41132f,_0x45803d){const _0x5eb7ae=_0x18aa;return _0x22286b[_0x5eb7ae(0x38a)](_0x41132f,_0x45803d);},'zpoAk':function(_0xc6defd,_0x31a10a){const _0x13ff6a=_0x18aa;return _0x22286b[_0x13ff6a(0x38a)](_0xc6defd,_0x31a10a);},'qImUD':_0x22286b['IdUYe'],'YCMOf':function(_0xbe7623,_0x94a87d){return _0xbe7623===_0x94a87d;},'IJOdN':function(_0x28134c,_0x1bc848){return _0x22286b['YsOtZ'](_0x28134c,_0x1bc848);},'CUCXa':_0x2bc49c(0x47a),'ADSms':function(_0x5beb7b){return _0x5beb7b();}};if(_0x3f4774)return _0x22286b[_0x2bc49c(0x38c)](alert,_0x2bc49c(0x337)),showScreen(_0x22286b['HeoxY'])&&history[_0x2bc49c(0x33c)]({'screen':_0x22286b[_0x2bc49c(0x246)]},'');const _0x4f372c=document[_0x2bc49c(0x341)](_0x22286b[_0x2bc49c(0x3fd)]);avatarBase64&&(_0x4f372c[_0x2bc49c(0x322)]=_0x22286b['BwoUj'](_0x2bc49c(0x42c),avatarBase64),_0x4f372c['style'][_0x2bc49c(0x2e9)]=_0x22286b[_0x2bc49c(0x348)]);document[_0x2bc49c(0x341)](_0x22286b[_0x2bc49c(0x223)])['innerHTML']=username+'\x20'+getRoleTag(_0x28fd45),document['getElementById'](_0x22286b[_0x2bc49c(0x3d2)])[_0x2bc49c(0x3f5)]=_0x22286b[_0x2bc49c(0x2d6)](roomCode,STATIC_ROOM)?_0x22286b[_0x2bc49c(0x3f9)]:roomCode,_0x22286b[_0x2bc49c(0x340)](updateAnnouncementVisibility);const _0x39f1f7=db[_0x2bc49c(0x428)]()[_0x2bc49c(0x328)]()[_0x2bc49c(0x206)];db['ref'](_0x2bc49c(0x2a8)+roomCode+_0x2bc49c(0x3b9)+_0x39f1f7)[_0x2bc49c(0x3b3)]({'msg':username+'\x20is\x20online','sender':_0x22286b[_0x2bc49c(0x4a7)],'senderId':_0x22286b[_0x2bc49c(0x4a7)],'timestamp':Date['now']()}),_0x22286b[_0x2bc49c(0x46d)](showScreen,_0x22286b['phCEZ']),document[_0x2bc49c(0x341)](_0x2bc49c(0x3c6))[_0x2bc49c(0x3dd)]('click',_0x14ea4e=>{const _0x1bb720=_0x2bc49c,_0xb5f5d1={'PRCBU':_0x1bb720(0x3c6)};_0x54c1fe['IJFMg'](_0x14ea4e[_0x1bb720(0x205)],0x3)&&(_0x54c1fe[_0x1bb720(0x1e9)](role,_0x54c1fe['qImUD'])||_0x54c1fe[_0x1bb720(0x1dc)](role,'dev'))&&(_0x54c1fe[_0x1bb720(0x390)](confirm,_0x54c1fe[_0x1bb720(0x3df)])&&db[_0x1bb720(0x428)](_0x1bb720(0x2a8)+roomCode+_0x1bb720(0x359))[_0x1bb720(0x30c)]()[_0x1bb720(0x201)](()=>{const _0xfbb078=_0x1bb720;document[_0xfbb078(0x341)](_0xb5f5d1[_0xfbb078(0x482)])['innerText']='';}));}),_0x22286b[_0x2bc49c(0x340)](listenForMessages),listenForTyping(),_0x22286b[_0x2bc49c(0x36a)](startInactivityTimer),_0x22286b[_0x2bc49c(0x36a)](trackPresence),watchProfileChanges(),_0x22286b['pIMpQ'](watchMuteStatus),_0x22286b[_0x2bc49c(0x3be)](startSidebarSyncLoop);const _0x833771=()=>{const _0xabf9ad=_0x2bc49c,_0x33a403={'tCBwN':function(_0x1d8610,_0x3c215a){const _0x16a85a=_0x18aa;return _0x54c1fe[_0x16a85a(0x390)](_0x1d8610,_0x3c215a);},'arDJI':function(_0x40896d){const _0x5e99b5=_0x18aa;return _0x54c1fe[_0x5e99b5(0x43e)](_0x40896d);}};loadRoomRoles()[_0xabf9ad(0x201)](()=>{const _0x371704=_0xabf9ad;_0x33a403['tCBwN'](renderUserLists,roomUsers),_0x33a403[_0x371704(0x311)](updateAnnouncementVisibility);});};db[_0x2bc49c(0x428)](_0x22286b['qUdCT'])['on']('child_changed',_0x833771),db[_0x2bc49c(0x428)](_0x2bc49c(0x417))['on'](_0x22286b['hpOnv'],_0x833771);});}function updateAnnouncementVisibility(){const _0x361410=_0x53d4bc,_0x40fbc0={'UAVQC':_0x361410(0x23f),'zVetT':_0x361410(0x255),'guIzd':function(_0x1f79b7,_0x2c2c95){return _0x1f79b7===_0x2c2c95;},'LBCRH':_0x361410(0x1eb),'JnwCw':_0x361410(0x21a),'KexTD':_0x361410(0x346)},_0x30a7b7=document['getElementById'](_0x40fbc0['UAVQC']);role===_0x40fbc0[_0x361410(0x245)]||_0x40fbc0['guIzd'](role,_0x40fbc0[_0x361410(0x42a)])?_0x30a7b7[_0x361410(0x3e7)][_0x361410(0x2e9)]=_0x40fbc0[_0x361410(0x21e)]:_0x30a7b7['style']['display']=_0x40fbc0[_0x361410(0x3c0)];}function watchProfileChanges(){const _0x119f6f=_0x53d4bc,_0x21de37={'irlBU':_0x119f6f(0x37d),'AnVvq':function(_0x1b55f8,_0x44fa05){return _0x1b55f8+_0x44fa05;},'iYiMT':_0x119f6f(0x42c),'lcsOT':_0x119f6f(0x21a),'SicxH':function(_0x316187,_0x5c80ac){return _0x316187(_0x5c80ac);},'xCNZJ':function(_0x137cd1,_0x1ec586){return _0x137cd1(_0x1ec586);},'VpUSL':_0x119f6f(0x43a)},_0x42069c=_0x21de37[_0x119f6f(0x35d)](sanitizeUsername,username);db['ref'](_0x119f6f(0x360)+_0x42069c)['on'](_0x21de37[_0x119f6f(0x4c4)],_0x3068d9=>{const _0x48372b=_0x119f6f;if(!_0x3068d9['exists']())return;const _0x55c14c=_0x3068d9[_0x48372b(0x25d)]();userDescription=_0x55c14c[_0x48372b(0x338)]||'',avatarBase64=_0x55c14c[_0x48372b(0x302)]||'',role=_0x55c14c[_0x48372b(0x2f8)]||_0x48372b(0x344);if(avatarBase64){const _0x598cbc=document[_0x48372b(0x341)](_0x21de37[_0x48372b(0x442)]);!_0x598cbc['src'][_0x48372b(0x437)](avatarBase64)&&(_0x598cbc[_0x48372b(0x322)]=_0x21de37['AnVvq'](_0x21de37[_0x48372b(0x42b)],avatarBase64),_0x598cbc[_0x48372b(0x3e7)][_0x48372b(0x2e9)]=_0x21de37['lcsOT']);}_0x21de37[_0x48372b(0x473)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x3be585){const _0x74bcab=_0x53d4bc,_0x21e85a={'kCrJg':function(_0x5db016,_0x4f610a){return _0x5db016<_0x4f610a;},'ksDyp':function(_0x48a19a,_0x1e90cd){return _0x48a19a-_0x1e90cd;},'BgMCP':function(_0x506819,_0xb5eca5){return _0x506819(_0xb5eca5);},'hlFLv':_0x74bcab(0x422),'uxBHC':function(_0x4d5bb3,_0x3f4039){return _0x4d5bb3>_0x3f4039;},'xSEEF':function(_0x394211,_0x4411c5){return _0x394211*_0x4411c5;},'Foowc':'❌\x20Image\x20must\x20be\x20under\x202MB'},_0x4ec2e3=Date[_0x74bcab(0x29c)]();if(_0x21e85a[_0x74bcab(0x41e)](_0x21e85a[_0x74bcab(0x458)](_0x4ec2e3,lastImageTime),0x2710)){_0x21e85a[_0x74bcab(0x207)](alert,_0x21e85a[_0x74bcab(0x39a)]);return;}lastImageTime=_0x4ec2e3;const _0x217fc0=_0x3be585[_0x74bcab(0x1b6)][0x0];if(!_0x217fc0||_0x21e85a[_0x74bcab(0x40d)](_0x217fc0['size'],_0x21e85a[_0x74bcab(0x26c)](_0x21e85a[_0x74bcab(0x26c)](0x2,0x400),0x400))){alert(_0x21e85a[_0x74bcab(0x3b7)]);return;}const _0x141c2f=new FileReader();_0x141c2f[_0x74bcab(0x1f4)]=()=>{const _0x1b00be=_0x74bcab,_0x180681=_0x141c2f[_0x1b00be(0x3f3)][_0x1b00be(0x35a)](',')[0x1],_0x144061=db[_0x1b00be(0x428)]()[_0x1b00be(0x328)]()[_0x1b00be(0x206)];db[_0x1b00be(0x428)](_0x1b00be(0x2a8)+roomCode+_0x1b00be(0x3b9)+_0x144061)[_0x1b00be(0x3b3)]({'imageBase64':_0x180681,'sender':username,'senderId':clientId,'timestamp':Date[_0x1b00be(0x29c)]()});},_0x141c2f[_0x74bcab(0x25a)](_0x217fc0);}async function fetchProfile(_0x3c188b){const _0x2148a8=_0x53d4bc,_0x8a1f56=await db[_0x2148a8(0x428)](_0x2148a8(0x360)+_0x3c188b)['get']();if(!_0x8a1f56['exists']())return null;return _0x8a1f56[_0x2148a8(0x25d)]();}function validateStaticRoomPassword(){const _0x31a56d=_0x53d4bc,_0x3c32e0={'VBQzr':_0x31a56d(0x493),'NTcMw':function(_0x5efa1f,_0x317922){return _0x5efa1f===_0x317922;},'FqFmK':_0x31a56d(0x405),'XqNPu':_0x31a56d(0x21a),'SWVEj':function(_0x45224b,_0x1c5959){return _0x45224b(_0x1c5959);},'VxTOu':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','iHquE':_0x31a56d(0x366),'LRVhf':function(_0x25fa22,_0x22c713){return _0x25fa22(_0x22c713);},'ZCUDE':_0x31a56d(0x357)},_0x5dffb8=document['getElementById'](_0x3c32e0[_0x31a56d(0x335)])[_0x31a56d(0x43a)]['trim']();if(!_0x5dffb8){_0x3c32e0[_0x31a56d(0x45b)](alert,_0x3c32e0[_0x31a56d(0x23d)]);return;}db['ref'](_0x31a56d(0x261)+STATIC_ROOM)[_0x31a56d(0x4a1)]()['then'](_0x332a77=>{const _0x21f88f=_0x31a56d;if(!_0x332a77[_0x21f88f(0x2b8)]()){alert(_0x3c32e0['VBQzr']);return;}const _0x531e38=_0x332a77['val']();_0x3c32e0[_0x21f88f(0x2a0)](_0x5dffb8,_0x531e38)?(roomCode=STATIC_ROOM,startChat()):(document[_0x21f88f(0x341)](_0x3c32e0['FqFmK'])[_0x21f88f(0x3f5)]=_0x21f88f(0x3c7),document['getElementById'](_0x3c32e0[_0x21f88f(0x3c9)])[_0x21f88f(0x3e7)][_0x21f88f(0x2e9)]=_0x3c32e0['XqNPu']);})['catch'](_0x27976d=>{const _0x285f3f=_0x31a56d;console[_0x285f3f(0x472)](_0x27976d),_0x3c32e0[_0x285f3f(0x32a)](alert,_0x3c32e0[_0x285f3f(0x4b6)]);});}function listenForPauseState(){const _0x3187de=_0x53d4bc,_0x3a85b7={'Qxajo':function(_0x2eb9af,_0x4da6b8){return _0x2eb9af===_0x4da6b8;},'iSigd':'pausedOverlay','uLcLz':_0x3187de(0x21a),'ESdGC':_0x3187de(0x346),'sIcnJ':_0x3187de(0x43a)};db[_0x3187de(0x428)](_0x3187de(0x25c)+roomCode+_0x3187de(0x384))['on'](_0x3a85b7[_0x3187de(0x3de)],_0x159fb1=>{const _0x841f72=_0x3187de,_0x2e692e=_0x159fb1['exists']()&&_0x3a85b7[_0x841f72(0x3ea)](_0x159fb1[_0x841f72(0x25d)](),!![]);document[_0x841f72(0x341)](_0x3a85b7[_0x841f72(0x2bf)])[_0x841f72(0x3e7)][_0x841f72(0x2e9)]=_0x2e692e?_0x3a85b7[_0x841f72(0x225)]:_0x3a85b7[_0x841f72(0x394)];});}const spamTimestamps=[];async function sendMessage(){const _0x5cb609=_0x53d4bc,_0x48f949={'nWAAF':_0x5cb609(0x2ef),'Tjqmd':function(_0x1da608,_0x25a7d2){return _0x1da608(_0x25a7d2);},'WIfQx':function(_0x24954d,_0x367e42){return _0x24954d===_0x367e42;},'uOCmb':_0x5cb609(0x29a),'bJNLJ':function(_0x293977,_0x350e86){return _0x293977>_0x350e86;},'gcPjA':function(_0x23e13e,_0x324e7a){return _0x23e13e!==_0x324e7a;},'rdvqu':_0x5cb609(0x1eb),'fEGdk':function(_0x59ccc6,_0x3f425d){return _0x59ccc6(_0x3f425d);},'LIgbL':_0x5cb609(0x277),'uZSQg':_0x5cb609(0x305),'LJoQT':function(_0x2cf01d,_0x161131){return _0x2cf01d||_0x161131;},'uhtFi':'⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','IqaIW':function(_0x30fbd5,_0x1f6e1b,_0x2b5bf8){return _0x30fbd5(_0x1f6e1b,_0x2b5bf8);},'TAaKK':function(_0x350d73,_0x41f849){return _0x350d73(_0x41f849);},'toWqd':_0x5cb609(0x49b),'CIyWc':function(_0x394f8d,_0x3db208){return _0x394f8d(_0x3db208);}},_0x20bf00=await db[_0x5cb609(0x428)]('roomStates/'+roomCode+'/paused')[_0x5cb609(0x4a1)](),_0x3f39fe=await db[_0x5cb609(0x428)](_0x5cb609(0x3d4)+roomCode+'/'+_0x48f949[_0x5cb609(0x49f)](sanitizeUsername,username))[_0x5cb609(0x4a1)]();if(_0x3f39fe['exists']()){const _0x5ee4c6=_0x3f39fe[_0x5cb609(0x25d)](),_0x358774=_0x48f949[_0x5cb609(0x3bc)](typeof _0x5ee4c6,_0x48f949[_0x5cb609(0x28d)])&&_0x5ee4c6[_0x5cb609(0x354)]?_0x5ee4c6['muteUntil']:_0x5ee4c6;if(_0x48f949[_0x5cb609(0x400)](_0x358774,Date[_0x5cb609(0x29c)]())){_0x48f949[_0x5cb609(0x49f)](alert,'⛔\x20You\x20are\x20muted.');return;}}if(_0x20bf00[_0x5cb609(0x2b8)]()&&_0x48f949[_0x5cb609(0x3bc)](_0x20bf00['val'](),!![])&&_0x48f949[_0x5cb609(0x2d4)](role,_0x48f949[_0x5cb609(0x23c)])){_0x48f949[_0x5cb609(0x462)](alert,_0x48f949[_0x5cb609(0x280)]);return;}const _0x302c0d=document[_0x5cb609(0x341)](_0x48f949[_0x5cb609(0x411)]),_0x3cc5d8=_0x302c0d[_0x5cb609(0x43a)][_0x5cb609(0x316)]();if(_0x48f949[_0x5cb609(0x1e6)](!_0x3cc5d8,isBlocked))return;const _0x503c80=Date['now'](),_0x3407b0=_0x3cc5d8[_0x5cb609(0x45a)](),_0x157221=swearWords[_0x5cb609(0x427)](_0x44b7d6=>_0x3407b0[_0x5cb609(0x437)](_0x44b7d6));if(_0x157221){_0x48f949[_0x5cb609(0x49f)](alert,_0x5cb609(0x216));return;}spamTimestamps['push'](_0x503c80);const _0x4df0dc=spamTimestamps[_0x5cb609(0x321)](_0x2dbd0c=>_0x503c80-_0x2dbd0c<0x1b58);if(_0x48f949[_0x5cb609(0x400)](_0x4df0dc[_0x5cb609(0x438)],0x5)){isBlocked=!![],_0x302c0d[_0x5cb609(0x4c2)]=!![],_0x302c0d[_0x5cb609(0x36b)]=_0x48f949[_0x5cb609(0x1d0)],_0x48f949[_0x5cb609(0x49f)](alert,_0x5cb609(0x439)),_0x48f949[_0x5cb609(0x477)](setTimeout,()=>{const _0x3283c4=_0x5cb609;isBlocked=![],_0x302c0d[_0x3283c4(0x4c2)]=![],_0x302c0d[_0x3283c4(0x36b)]=_0x48f949[_0x3283c4(0x48f)],spamTimestamps['length']=0x0;},0x7530);return;}const _0x52dd0f=_0x3cc5d8[_0x5cb609(0x24c)](/(.)\1{14,}/);if(_0x52dd0f){_0x48f949[_0x5cb609(0x326)](alert,_0x48f949['toWqd']);return;}const _0x5505ac=localStorage[_0x5cb609(0x2d0)](_0x5cb609(0x20b))||'',_0x173765=db['ref']()['push']()[_0x5cb609(0x206)];db[_0x5cb609(0x428)](_0x5cb609(0x2a8)+roomCode+_0x5cb609(0x3b9)+_0x173765)['set']({'msg':_0x3cc5d8,'sender':username,'senderId':clientId,'avatarBase64':_0x5505ac,'timestamp':_0x503c80}),_0x302c0d['value']='',_0x48f949[_0x5cb609(0x28b)](sendTyping,!![]),lastActivity=_0x503c80;}function listenForMessages(){const _0x39c637=_0x53d4bc,_0x737fc8={'gJVZH':function(_0x21a4cc,_0x27e530,_0x23b48f,_0x3fb2f9){return _0x21a4cc(_0x27e530,_0x23b48f,_0x3fb2f9);},'oUWnL':function(_0x275c54,_0x5a2832,_0x32d616,_0x43514a){return _0x275c54(_0x5a2832,_0x32d616,_0x43514a);},'iXyPU':function(_0x42603a,_0x3f35cc){return _0x42603a!==_0x3f35cc;},'iGiUr':function(_0x54bf33,_0xe03fe5){return _0x54bf33!==_0xe03fe5;},'GgOUq':'system','WGbda':function(_0x3ac47e){return _0x3ac47e();},'dAOMw':function(_0xd23023,_0x5ee89b){return _0xd23023&&_0x5ee89b;},'pwpIT':function(_0x370588,_0x98a41b){return _0x370588===_0x98a41b;},'RghrJ':_0x39c637(0x2e6),'pGDzk':_0x39c637(0x4a9),'rNMMH':_0x39c637(0x1b2),'fUkQM':'[Unknown]','bqjQD':function(_0x113411,_0x481f47){return _0x113411||_0x481f47;},'tabPN':function(_0x21ce5d,_0x520985){return _0x21ce5d-_0x520985;},'aiLGR':_0x39c637(0x43a),'iDJcM':'child_removed'},_0x2b8c77=db[_0x39c637(0x428)](_0x39c637(0x2a8)+roomCode+_0x39c637(0x468)),_0x47fd10=_0x2b8c77[_0x39c637(0x28c)](MAX_MESSAGES);userListReady=!![],_0x47fd10['on'](_0x39c637(0x24a),_0x53cb58=>{const _0x3298ce=_0x39c637,_0x38dc3a=_0x53cb58[_0x3298ce(0x25d)](),{senderId:_0x45cf0a}=_0x38dc3a,_0x5aac1c=_0x45cf0a===clientId;if(!userListReady){pendingMessages[_0x3298ce(0x278)](({data:_0x18213a,sent:_0x313612,key:_0x8dcd0d})=>{const _0x3b448b=_0x3298ce;_0x737fc8[_0x3b448b(0x414)](addMessage,_0x18213a,_0x313612,_0x8dcd0d);}),pendingMessages=[];return;}const _0x310781=_0x38dc3a[_0x3298ce(0x2cb)]||null,_0x5be61e=_0x38dc3a['audioBase64']||null;_0x737fc8[_0x3298ce(0x3af)](addMessage,_0x38dc3a,_0x5aac1c,_0x53cb58[_0x3298ce(0x206)]);if(_0x737fc8[_0x3298ce(0x41f)](roomCode,STATIC_ROOM)&&_0x737fc8[_0x3298ce(0x248)](_0x38dc3a['sender'],_0x737fc8['GgOUq'])){}!_0x5aac1c&&(sound[_0x3298ce(0x1a6)](),_0x737fc8[_0x3298ce(0x2a4)](flagPageAttention));if(_0x737fc8[_0x3298ce(0x2c6)](notificationsEnabled,!_0x5aac1c)&&_0x737fc8[_0x3298ce(0x34a)](Notification['permission'],_0x737fc8[_0x3298ce(0x1c3)])){const _0x695752=_0x38dc3a['msg']||(_0x38dc3a['audioBase64']?_0x737fc8[_0x3298ce(0x2d7)]:_0x38dc3a[_0x3298ce(0x37f)]?_0x737fc8[_0x3298ce(0x44e)]:_0x737fc8[_0x3298ce(0x2cc)]);new Notification(_0x3298ce(0x496)+_0x38dc3a['sender'],{'body':_0x695752,'icon':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg'});}}),_0x2b8c77[_0x39c637(0x200)](_0x737fc8[_0x39c637(0x2cd)])['then'](_0x337c10=>{const _0x33efd1=_0x39c637,_0x385e43=_0x337c10[_0x33efd1(0x25d)](),_0x7772a1=Object['keys'](_0x737fc8['bqjQD'](_0x385e43,{}));if(_0x7772a1[_0x33efd1(0x438)]>MAX_MESSAGES){const _0x27bba5=_0x737fc8[_0x33efd1(0x20a)](_0x7772a1[_0x33efd1(0x438)],MAX_MESSAGES),_0x199675=_0x7772a1[_0x33efd1(0x300)]((_0x8b910a,_0x11ebcb)=>_0x385e43[_0x8b910a]['timestamp']-_0x385e43[_0x11ebcb][_0x33efd1(0x3d8)])[_0x33efd1(0x1bb)](0x0,_0x27bba5);_0x199675['forEach'](_0x5778d=>{const _0x43e07b=_0x33efd1;db['ref'](_0x43e07b(0x2a8)+roomCode+_0x43e07b(0x3b9)+_0x5778d)[_0x43e07b(0x30c)]();});}}),db[_0x39c637(0x428)](_0x39c637(0x2a8)+roomCode+_0x39c637(0x468))['on'](_0x737fc8[_0x39c637(0x4c0)],_0x11e78a=>{const _0x44241e=_0x39c637,_0x3908fa=_0x11e78a['key'],_0x2d9854=document['querySelector']('[data-msg-id=\x22'+_0x3908fa+'\x22]');if(_0x2d9854)_0x2d9854[_0x44241e(0x30c)]();});}function stackNotification(_0x3500d8,_0x130543){const _0x333e84=_0x53d4bc,_0x41f4b3={'xMOZK':function(_0x1fa8d9,_0x2315cd){return _0x1fa8d9(_0x2315cd);},'mzRdO':function(_0x479726,_0x5b2cec,_0x3e0659){return _0x479726(_0x5b2cec,_0x3e0659);}};notificationStack['push']({'sender':_0x3500d8,'content':_0x130543}),_0x41f4b3[_0x333e84(0x1f8)](clearTimeout,notificationTimer),notificationTimer=_0x41f4b3[_0x333e84(0x1e2)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x3857aa=_0x53d4bc,_0x5f4f33={'zRdXV':'New\x20Chat\x20Message','djtFp':_0x3857aa(0x488),'BWfKf':function(_0x1cc3f8,_0x447287){return _0x1cc3f8!==_0x447287;},'uvPER':'granted','cZlVm':_0x3857aa(0x235),'ICXqT':function(_0x54dd0b,_0x290ac6){return _0x54dd0b===_0x290ac6;},'FeKaR':function(_0x1d85d3,_0x2e8e3a,_0x3d2db1){return _0x1d85d3(_0x2e8e3a,_0x3d2db1);}};if(!notificationStack[_0x3857aa(0x438)]||_0x5f4f33[_0x3857aa(0x221)](Notification[_0x3857aa(0x430)],_0x5f4f33[_0x3857aa(0x397)]))return;const _0x18c0d2=[...new Set(notificationStack['map'](_0x334dac=>_0x334dac[_0x3857aa(0x40f)]))],_0x255687=roomCode||_0x5f4f33[_0x3857aa(0x296)],_0xd5cb0f=_0x5f4f33[_0x3857aa(0x3eb)](_0x18c0d2[_0x3857aa(0x438)],0x1)?_0x3857aa(0x1d1)+_0x18c0d2[0x0]+_0x3857aa(0x2c4)+_0x255687+':\x20'+notificationStack[0x0]['content']:_0x3857aa(0x298)+_0x18c0d2[_0x3857aa(0x299)](',\x20')+_0x3857aa(0x2c4)+_0x255687;_0x5f4f33[_0x3857aa(0x238)](setTimeout,()=>{const _0x4722f4=_0x3857aa;new Notification(_0x5f4f33[_0x4722f4(0x1fe)],{'body':_0xd5cb0f,'icon':_0x5f4f33[_0x4722f4(0x24e)]});},0x64);}async function addMessage(_0x4486ee,_0x74e72,_0x310bd4=null){const _0xfc61d=_0x53d4bc,_0x1e0e8e={'FYlol':function(_0x56a343,_0x3a9142){return _0x56a343-_0x3a9142;},'Lvrme':_0xfc61d(0x2c2),'ysaAM':_0xfc61d(0x22e),'VAgWj':_0xfc61d(0x347),'FMFue':_0xfc61d(0x262),'HQGmB':_0xfc61d(0x2af),'JeyAw':'center','iHZuM':'inline-block','bffGR':function(_0x2ccd41,_0x46053d){return _0x2ccd41(_0x46053d);},'fBMdy':'none','LEcnF':function(_0x4dde5d,_0x5297bc){return _0x4dde5d===_0x5297bc;},'HvDKe':function(_0x318a48,_0x445c1f){return _0x318a48(_0x445c1f);},'vgLOy':_0xfc61d(0x4ba),'tSkVq':function(_0x4aa8a1,_0x3b1e82){return _0x4aa8a1(_0x3b1e82);},'pSJdK':_0xfc61d(0x3cd),'bqDej':'system','CCIUM':_0xfc61d(0x317),'UveQg':'0.8rem','ukXsi':_0xfc61d(0x1d3),'pmZKr':_0xfc61d(0x36c),'ZkMau':_0xfc61d(0x48a),'AhoTB':'sent','Shetn':'received','vZjex':_0xfc61d(0x355),'WcxJa':function(_0x3e7a98,_0x2a69af){return _0x3e7a98(_0x2a69af);},'zqNUp':_0xfc61d(0x42f),'irGWP':_0xfc61d(0x2c8),'DmHym':_0xfc61d(0x464),'gTUkt':_0xfc61d(0x2f7),'PwJuv':_0xfc61d(0x3a8),'JKSCA':_0xfc61d(0x448),'RUmSu':_0xfc61d(0x36d),'Qofan':_0xfc61d(0x258),'uBzrQ':_0xfc61d(0x275),'hmxzc':_0xfc61d(0x4b5),'gdzdB':'normal','BdTXE':_0xfc61d(0x232),'FeGEF':_0xfc61d(0x2d2),'sLVsO':'0\x202px\x206px\x20rgba(0,0,0,0.5)','pQEbs':_0xfc61d(0x3ce),'zYlfn':_0xfc61d(0x4c9),'jCRJA':_0xfc61d(0x329),'BtYqv':_0xfc61d(0x4a8),'xvUbW':'value','XEGel':'dev','hWHES':'admin','FGnoN':_0xfc61d(0x456),'Gpnqj':_0xfc61d(0x387)},{msg:_0xd5f7f,sender:_0x346e67,senderId:_0x2334a4,timestamp:_0xe4cdb7,audioUrl:_0x27750d,audioBase64:_0x414b43,imageBase64:_0xfff32}=_0x4486ee,_0xd92209=_0x1e0e8e[_0xfc61d(0x21f)](sanitizeUsername,_0x346e67),_0x325867=document[_0xfc61d(0x3a7)](_0x1e0e8e[_0xfc61d(0x1d4)]);if(_0x4486ee[_0xfc61d(0x40f)]===_0x1e0e8e['bqDej']){const _0x558945=document[_0xfc61d(0x3a7)](_0x1e0e8e[_0xfc61d(0x1d4)]);_0x558945[_0xfc61d(0x470)]=_0x1e0e8e[_0xfc61d(0x49e)],_0x558945[_0xfc61d(0x2f4)][_0xfc61d(0x3e8)]=_0x310bd4||_0x4486ee[_0xfc61d(0x3d8)],_0x558945[_0xfc61d(0x2f4)][_0xfc61d(0x3d8)]=_0x4486ee['timestamp'],_0x558945['style']['textAlign']=_0xfc61d(0x1ae),_0x558945[_0xfc61d(0x3e7)][_0xfc61d(0x46b)]=_0x1e0e8e['UveQg'],_0x558945['style'][_0xfc61d(0x2bd)]=_0xfc61d(0x1a5),_0x558945[_0xfc61d(0x3e7)]['margin']=_0x1e0e8e['ukXsi'],_0x558945[_0xfc61d(0x3f5)]=_0x4486ee[_0xfc61d(0x48a)];const _0x4f0f29=document[_0xfc61d(0x341)](_0x1e0e8e[_0xfc61d(0x2cf)]);_0x4f0f29[_0xfc61d(0x31b)](_0x558945);const _0x586c72=Array[_0xfc61d(0x385)](_0x4f0f29[_0xfc61d(0x2b9)]);_0x586c72['sort']((_0x24370e,_0x576cc5)=>{const _0x40f34d=_0xfc61d;return _0x1e0e8e[_0x40f34d(0x1ca)](+_0x24370e[_0x40f34d(0x2f4)]['timestamp']||0x0,+_0x576cc5['dataset'][_0x40f34d(0x3d8)]||0x0);}),_0x4f0f29[_0xfc61d(0x475)]='',_0x586c72[_0xfc61d(0x278)](_0x3e1780=>_0x4f0f29[_0xfc61d(0x31b)](_0x3e1780)),_0x4f0f29[_0xfc61d(0x370)]=_0x4f0f29['scrollHeight'];return;}_0x325867[_0xfc61d(0x44d)][_0xfc61d(0x287)](_0x1e0e8e[_0xfc61d(0x310)],_0x74e72?_0x1e0e8e[_0xfc61d(0x30a)]:_0x1e0e8e[_0xfc61d(0x2f1)]),_0x325867['style'][_0xfc61d(0x229)]=_0xfc61d(0x267);_0x310bd4&&(_0x325867['dataset'][_0xfc61d(0x3e8)]=_0x310bd4);const _0x438b9e=new Date(_0xe4cdb7)['toLocaleTimeString']([],{'hour':_0x1e0e8e[_0xfc61d(0x3e1)],'minute':_0x1e0e8e[_0xfc61d(0x3e1)]}),_0x2fb312=_0x1e0e8e[_0xfc61d(0x240)](getRoleTag,_0xd92209),_0x14ca84=await fetchAvatar(_0xd92209),_0x509c6b=_0x14ca84?_0xfc61d(0x2ec)+_0x14ca84+_0xfc61d(0x4b9):'',_0x120d43=_0x509c6b+_0xfc61d(0x292)+_0x346e67+'\x20'+_0x2fb312+'</span>',_0x53a2fa=_0xd5f7f?.[_0xfc61d(0x210)](new RegExp('@'+username+'\x5cb','gi'),_0xfc61d(0x294));let _0x4e1e77=_0x120d43+_0xfc61d(0x4be);if(_0x27750d)_0x4e1e77+=_0xfc61d(0x4bb)+_0x27750d+_0xfc61d(0x3d0);else{if(_0x414b43){const _0x50ab88=_0xfc61d(0x40c)+_0x414b43;_0x4e1e77+='<audio\x20controls\x20src=\x22'+_0x50ab88+_0xfc61d(0x3d0);}else{if(_0xfff32){const _0x975fe0=_0xfc61d(0x42c)+_0xfff32;_0x4e1e77+=_0xfc61d(0x241)+_0x975fe0+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else{const _0x30f8b7=_0x53a2fa[_0xfc61d(0x210)](/(https?:\/\/[^\s]+)/g,_0x52e766=>{const _0x3effeb=_0xfc61d;return _0x3effeb(0x3f2)+_0x52e766+_0x3effeb(0x358)+_0x52e766+_0x3effeb(0x2a5);});_0x4e1e77+=_0xfc61d(0x220)+_0x30f8b7+_0xfc61d(0x423);}}}_0x4e1e77+='<small>'+_0x438b9e+_0xfc61d(0x1d8),_0x325867['innerHTML']=_0x4e1e77;const _0x44bd20=document['createElement'](_0x1e0e8e[_0xfc61d(0x1d4)]);_0x44bd20[_0xfc61d(0x470)]=_0x1e0e8e[_0xfc61d(0x1b5)],_0x44bd20[_0xfc61d(0x3e7)][_0xfc61d(0x1ab)]=_0x1e0e8e[_0xfc61d(0x31f)],_0x44bd20['style']['fontSize']=_0xfc61d(0x1bf),_0x325867['appendChild'](_0x44bd20);const _0x22ba02=document[_0xfc61d(0x3a7)](_0xfc61d(0x3cd));_0x22ba02[_0xfc61d(0x470)]='reaction-tray';const _0x32937c=['❤️','😂','😮','😢','👎','💀','🤯'];_0x22ba02[_0xfc61d(0x475)]=_0x32937c[_0xfc61d(0x407)](_0x25c20c=>_0xfc61d(0x403)+_0x25c20c+_0xfc61d(0x269))[_0xfc61d(0x299)](''),_0x22ba02[_0xfc61d(0x3e7)]['display']=_0x1e0e8e[_0xfc61d(0x1c0)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x229)]=_0x1e0e8e[_0xfc61d(0x2c1)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x491)]=_0x1e0e8e[_0xfc61d(0x3d7)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x483)]=_0x1e0e8e[_0xfc61d(0x43b)],_0x22ba02['style'][_0xfc61d(0x1d6)]=_0x1e0e8e['JKSCA'],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x46b)]=_0x1e0e8e[_0xfc61d(0x288)],_0x22ba02['style'][_0xfc61d(0x2d9)]=_0xfc61d(0x208),_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x26a)]=_0x1e0e8e[_0xfc61d(0x1d7)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x4a5)]='10',_0x22ba02['style'][_0xfc61d(0x1da)]=_0x1e0e8e[_0xfc61d(0x2da)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x1b1)]=_0x1e0e8e['hmxzc'],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x445)]=_0x1e0e8e['gdzdB'],_0x22ba02[_0xfc61d(0x3e7)]['display']=_0x1e0e8e[_0xfc61d(0x27d)],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x455)]=_0x1e0e8e['FeGEF'],_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x3a3)]=_0x1e0e8e[_0xfc61d(0x31f)],_0x22ba02['style']['boxShadow']=_0x1e0e8e[_0xfc61d(0x1f3)],Array[_0xfc61d(0x385)](_0x22ba02[_0xfc61d(0x2b9)])[_0xfc61d(0x278)](_0x221750=>{const _0x2ff8d9=_0xfc61d,_0x188445={'yTCli':function(_0x32f3c2,_0x35ea3e,_0x3fccb2){return _0x32f3c2(_0x35ea3e,_0x3fccb2);}};_0x221750['style'][_0x2ff8d9(0x467)]=_0x1e0e8e[_0x2ff8d9(0x353)],_0x221750['onclick']=_0x304923=>{const _0x5ab82a=_0x2ff8d9;_0x304923[_0x5ab82a(0x47f)]();const _0x1261af=_0x221750[_0x5ab82a(0x2c9)];_0x188445['yTCli'](reactToMessage,_0x310bd4,_0x1261af);};}),Array[_0xfc61d(0x385)](_0x22ba02['children'])[_0xfc61d(0x278)](_0x458a65=>{const _0x585db8=_0xfc61d,_0x5740ef=_0x1e0e8e[_0x585db8(0x368)][_0x585db8(0x35a)]('|');let _0x65c934=0x0;while(!![]){switch(_0x5740ef[_0x65c934++]){case'0':_0x458a65[_0x585db8(0x3e7)][_0x585db8(0x463)]=_0x585db8(0x1ae);continue;case'1':_0x458a65['style'][_0x585db8(0x41d)]=_0x1e0e8e['VAgWj'];continue;case'2':_0x458a65[_0x585db8(0x3e7)][_0x585db8(0x2e9)]=_0x1e0e8e[_0x585db8(0x233)];continue;case'3':_0x458a65[_0x585db8(0x3e7)][_0x585db8(0x46b)]=_0x1e0e8e[_0x585db8(0x224)];continue;case'4':_0x458a65[_0x585db8(0x3e7)][_0x585db8(0x2a6)]=_0x1e0e8e[_0x585db8(0x402)];continue;case'5':_0x458a65[_0x585db8(0x3e7)][_0x585db8(0x332)]=_0x1e0e8e['VAgWj'];continue;}break;}}),_0x325867[_0xfc61d(0x31b)](_0x22ba02),_0x22ba02[_0xfc61d(0x3e7)][_0xfc61d(0x2e9)]=_0x1e0e8e[_0xfc61d(0x1c0)];let _0x44d620;_0x325867['addEventListener'](_0x1e0e8e[_0xfc61d(0x30f)],()=>{const _0x5a939e=_0xfc61d,_0x395c4f={'kzUnc':_0x1e0e8e[_0x5a939e(0x39f)]};_0x44d620=setTimeout(()=>{const _0x5859e4=_0x5a939e;_0x22ba02[_0x5859e4(0x3e7)][_0x5859e4(0x2e9)]=_0x395c4f[_0x5859e4(0x498)];},0x5dc);}),_0x325867['addEventListener'](_0x1e0e8e[_0xfc61d(0x291)],()=>{const _0x5032b1=_0xfc61d;_0x1e0e8e[_0x5032b1(0x363)](clearTimeout,_0x44d620),_0x22ba02['style']['display']=_0x1e0e8e[_0x5032b1(0x1c0)];});let _0x13ab53;_0x325867[_0xfc61d(0x3dd)](_0x1e0e8e[_0xfc61d(0x4aa)],()=>{_0x13ab53=setTimeout(()=>{const _0x226c72=_0x18aa;_0x22ba02[_0x226c72(0x3e7)][_0x226c72(0x2e9)]=_0x226c72(0x49c);},0x5dc);}),_0x325867[_0xfc61d(0x3dd)](_0x1e0e8e[_0xfc61d(0x425)],()=>clearTimeout(_0x13ab53));_0x310bd4&&db['ref']('rooms/'+roomCode+_0xfc61d(0x3b9)+_0x310bd4+'/reactions')['on'](_0x1e0e8e['xvUbW'],_0x1381d0=>{const _0x453a25=_0xfc61d;if(!_0x1381d0[_0x453a25(0x2b8)]()){_0x44bd20[_0x453a25(0x475)]='';return;}const _0x2e0f54=_0x1381d0[_0x453a25(0x25d)]();let _0x33f7fb='';Object['entries'](_0x2e0f54)['forEach'](([_0x84029e,_0x2c310c])=>{const _0x3fe0d7=_0x453a25;Array[_0x3fe0d7(0x345)](_0x2c310c)&&_0x2c310c['length']>0x0&&(_0x33f7fb+=_0x3fe0d7(0x1cc)+_0x84029e+'\x20'+_0x2c310c['length']+_0x3fe0d7(0x1de));}),_0x44bd20[_0x453a25(0x475)]=_0x33f7fb;});if([_0x1e0e8e[_0xfc61d(0x3b0)],_0x1e0e8e[_0xfc61d(0x1f9)],_0x1e0e8e[_0xfc61d(0x492)]]['includes'](role)){let _0xfad1d9=0x0;_0x325867[_0xfc61d(0x3dd)](_0x1e0e8e[_0xfc61d(0x3fe)],()=>{const _0x41b69b=_0xfc61d;_0xfad1d9++,_0x1e0e8e[_0x41b69b(0x39c)](_0xfad1d9,0x3)&&(_0x1e0e8e[_0x41b69b(0x3bf)](confirm,_0x1e0e8e[_0x41b69b(0x1c2)])&&(db[_0x41b69b(0x428)]('rooms/'+roomCode+_0x41b69b(0x3b9)+_0x310bd4)[_0x41b69b(0x30c)](),_0x325867[_0x41b69b(0x30c)]())),setTimeout(()=>_0xfad1d9=0x0,0x5dc);});}const _0x4b32ca=document[_0xfc61d(0x341)](_0xfc61d(0x36c));_0x4b32ca[_0xfc61d(0x31b)](_0x325867),_0x4b32ca['scrollTop']=_0x4b32ca['scrollHeight'];}function cleanupOldRooms(){const _0x50f4e2=_0x53d4bc,_0x13f757={'SJZEw':function(_0x1ef417,_0x3e86f2){return _0x1ef417!==_0x3e86f2;},'NLBUg':function(_0x56df29,_0x4b7fa7){return _0x56df29===_0x4b7fa7;},'QLPld':function(_0x109e2d,_0x1c28e1){return _0x109e2d>_0x1c28e1;},'zmqNz':function(_0x538d72,_0x2c9764){return _0x538d72*_0x2c9764;},'swdxj':function(_0x4a840f,_0x3ca2c6){return _0x4a840f+_0x3ca2c6;},'zfQtE':'value','PqebR':_0x50f4e2(0x3a6),'KZRkH':'rooms'};db[_0x50f4e2(0x428)](_0x13f757[_0x50f4e2(0x480)])['once'](_0x13f757[_0x50f4e2(0x2a2)])[_0x50f4e2(0x201)](_0x3503e6=>{const _0x4f03be=_0x50f4e2,_0x3ddc6a={'GbTsL':function(_0x3487a2,_0x34da5a){return _0x3487a2!==_0x34da5a;},'cEWWU':function(_0x1026e8,_0x484e57){return _0x13f757['SJZEw'](_0x1026e8,_0x484e57);}},_0x2c7271=_0x3503e6['val']();if(!_0x2c7271)return;const _0x24bc92=Date[_0x4f03be(0x29c)]();for(const _0x2c3daa in _0x2c7271){if(_0x13f757['NLBUg'](_0x2c3daa,STATIC_ROOM))continue;const _0x29d8ba=_0x2c7271[_0x2c3daa];_0x13f757[_0x4f03be(0x461)](_0x24bc92-(_0x29d8ba[_0x4f03be(0x1ed)]||0x0),_0x13f757[_0x4f03be(0x1af)](_0x13f757[_0x4f03be(0x1af)](0x2,0x3c),0x3e8))&&db['ref'](_0x13f757[_0x4f03be(0x2eb)](_0x4f03be(0x2a8),_0x2c3daa))[_0x4f03be(0x30c)]();}db[_0x4f03be(0x428)]('antispam')['once'](_0x13f757['zfQtE'])[_0x4f03be(0x201)](_0x4d8610=>{const _0x2311a2=_0x4f03be,_0x162fa6=_0x4d8610[_0x2311a2(0x25d)]();if(!_0x162fa6)return;for(const _0x3b087b in _0x162fa6){if(_0x3ddc6a[_0x2311a2(0x3ec)](_0x3b087b,STATIC_ROOM))db[_0x2311a2(0x428)](_0x2311a2(0x281)+_0x3b087b)[_0x2311a2(0x30c)]();}}),db[_0x4f03be(0x428)](_0x13f757[_0x4f03be(0x4a2)])[_0x4f03be(0x200)](_0x13f757[_0x4f03be(0x2a2)])[_0x4f03be(0x201)](_0x3ec2fd=>{const _0x5f51e2=_0x4f03be,_0x4bf6c8=_0x3ec2fd[_0x5f51e2(0x25d)]();if(!_0x4bf6c8)return;for(const _0x20bfb8 in _0x4bf6c8){if(_0x3ddc6a[_0x5f51e2(0x2b1)](_0x20bfb8,STATIC_ROOM))db[_0x5f51e2(0x428)](_0x5f51e2(0x46f)+_0x20bfb8)[_0x5f51e2(0x30c)]();}});});}document[_0x53d4bc(0x3dd)]('DOMContentLoaded',()=>{const _0x4d03f1=_0x53d4bc,_0x1f9328={'SKhpw':function(_0x1b38a5,_0x1887a8){return _0x1b38a5===_0x1887a8;},'udxtH':_0x4d03f1(0x484),'GOvSV':function(_0x36137d){return _0x36137d();},'ZBZch':_0x4d03f1(0x305)},_0x101b71=document[_0x4d03f1(0x341)](_0x1f9328[_0x4d03f1(0x4c6)]);_0x101b71&&_0x101b71['addEventListener'](_0x4d03f1(0x2ba),function(_0x1b9c35){const _0x4aec45=_0x4d03f1;_0x1f9328[_0x4aec45(0x20e)](_0x1b9c35[_0x4aec45(0x206)],_0x1f9328[_0x4aec45(0x435)])&&(_0x1b9c35[_0x4aec45(0x421)](),_0x1f9328[_0x4aec45(0x1aa)](sendMessage));});});const screenHistory=[];let currentScreen=null;function showScreen(_0x205193){const _0x1568c1=_0x53d4bc,_0x2db051={'xpzbg':function(_0x4d26b7,_0x59e60f){return _0x4d26b7!==_0x59e60f;},'BokdL':'authScreen','kRqkE':_0x1568c1(0x2b3),'PhLPw':_0x1568c1(0x34f),'svKVf':'codeEntryScreen','khowZ':_0x1568c1(0x43d),'xJehN':_0x1568c1(0x31e),'TMbdH':_0x1568c1(0x234),'HitmK':_0x1568c1(0x40e),'nEuWk':_0x1568c1(0x262)};currentScreen&&_0x2db051['xpzbg'](currentScreen,_0x2db051['BokdL'])&&(screenHistory['push'](currentScreen),history[_0x1568c1(0x202)]({'screen':_0x205193},'')),currentScreen=_0x205193,[_0x2db051[_0x1568c1(0x441)],_0x2db051[_0x1568c1(0x2a7)],_0x2db051[_0x1568c1(0x28f)],_0x1568c1(0x26d),_0x2db051[_0x1568c1(0x2e2)],_0x2db051['xJehN'],'profileViewer',_0x2db051[_0x1568c1(0x3f6)],_0x2db051[_0x1568c1(0x1b8)],_0x2db051[_0x1568c1(0x23e)]][_0x1568c1(0x278)](_0x33b062=>{const _0x3301ff=_0x1568c1;document[_0x3301ff(0x341)](_0x33b062)[_0x3301ff(0x3e7)][_0x3301ff(0x2e9)]=_0x3301ff(0x346);}),document[_0x1568c1(0x341)](_0x205193)['style'][_0x1568c1(0x2e9)]=_0x2db051['nEuWk'];}function genRoomCode(){const _0x12d3b3=_0x53d4bc,_0x50c493={'UYKXz':_0x12d3b3(0x3c2),'XrINw':'0123456789','wDXbL':function(_0x37ee34,_0x1637b4){return _0x37ee34+_0x1637b4;},'cabeJ':function(_0x5aa10a,_0x2032c2){return _0x5aa10a+_0x2032c2;},'SUDFH':function(_0x24d0ad,_0x36c577,_0x631584){return _0x24d0ad(_0x36c577,_0x631584);}},_0x199344=_0x50c493['UYKXz'],_0x1a0fe2=_0x50c493[_0x12d3b3(0x28e)],_0x45a20e=(_0x340f4a,_0x2fa8c6)=>Array['from']({'length':_0x2fa8c6},()=>_0x340f4a[Math[_0x12d3b3(0x2fb)](Math['random']()*_0x340f4a['length'])])[_0x12d3b3(0x299)]('');return _0x50c493['wDXbL'](_0x50c493[_0x12d3b3(0x2e3)](_0x50c493['cabeJ'](_0x45a20e(_0x1a0fe2,0x3),_0x45a20e(_0x199344,0x3)),_0x50c493['SUDFH'](_0x45a20e,_0x1a0fe2,0x2)),_0x50c493[_0x12d3b3(0x371)](_0x45a20e,_0x199344,0x2));}function startInactivityTimer(){const _0x304937={'BoxrI':function(_0x5f275e,_0x69b2cd){return _0x5f275e>_0x69b2cd;},'pljEB':function(_0x36a6b4,_0x33391){return _0x36a6b4-_0x33391;},'QqvcG':function(_0x5c2fd8,_0x4897cd){return _0x5c2fd8*_0x4897cd;},'IBInX':function(_0xf6dd9,_0x4659fd){return _0xf6dd9!==_0x4659fd;},'NGSbc':function(_0x1a2e2e,_0x24825e){return _0x1a2e2e+_0x24825e;},'zKlAj':'Session\x20expired.'};setInterval(()=>{const _0x2047ab=_0x18aa;_0x304937[_0x2047ab(0x476)](_0x304937[_0x2047ab(0x3da)](Date[_0x2047ab(0x29c)](),lastActivity),_0x304937[_0x2047ab(0x2f0)](_0x304937[_0x2047ab(0x2f0)](0x5,0x3c),0x3e8))&&_0x304937[_0x2047ab(0x3cc)](roomCode,STATIC_ROOM)&&(db['ref'](_0x304937[_0x2047ab(0x431)](_0x2047ab(0x2a8),roomCode))[_0x2047ab(0x1e5)]({'active':![]}),alert(_0x304937[_0x2047ab(0x451)]),location[_0x2047ab(0x41b)]());},0x7530);}function setupSidebarBackHandler(){const _0xc7d9eb=_0x53d4bc,_0x3c6e60={'TBWBY':_0xc7d9eb(0x3c1)};window[_0xc7d9eb(0x3dd)](_0xc7d9eb(0x404),()=>{const _0x2927f4=_0xc7d9eb,_0x1f554a=document[_0x2927f4(0x341)](_0x3c6e60['TBWBY']);_0x1f554a?.[_0x2927f4(0x44d)][_0x2927f4(0x1cb)](_0x2927f4(0x2c7))&&_0x1f554a[_0x2927f4(0x44d)][_0x2927f4(0x30c)](_0x2927f4(0x2c7));});}function toggleSidebar(){const _0xd15c64=_0x53d4bc,_0x3b7250={'yoAex':_0xd15c64(0x3c1),'nVxZk':'show'},_0x11c93d=document[_0xd15c64(0x341)](_0x3b7250[_0xd15c64(0x440)]);if(!_0x11c93d[_0xd15c64(0x44d)]['contains'](_0x3b7250['nVxZk']))_0x11c93d[_0xd15c64(0x44d)][_0xd15c64(0x287)](_0x3b7250[_0xd15c64(0x3f8)]),history[_0xd15c64(0x202)]({'sidebarOpen':!![]},'');else{_0x11c93d[_0xd15c64(0x44d)][_0xd15c64(0x30c)](_0xd15c64(0x2c7));if(history[_0xd15c64(0x3ae)]?.[_0xd15c64(0x1f0)])history[_0xd15c64(0x222)]();}}function setupVisibilityAttention(){const _0x4af297=_0x53d4bc,_0x3435df={'iYrsG':'visibilitychange'};let _0xbe635b=0x0,_0x3d4e2b=document[_0x4af297(0x495)];document[_0x4af297(0x3dd)](_0x3435df[_0x4af297(0x1e1)],()=>{const _0x146540=_0x4af297;!document[_0x146540(0x2a1)]&&(document['title']=_0x3d4e2b,_0xbe635b=0x0);}),window[_0x4af297(0x38d)]=function(){const _0x4b0aeb=_0x4af297;document[_0x4b0aeb(0x2a1)]&&(_0xbe635b++,document['title']='('+_0xbe635b+_0x4b0aeb(0x4ae)+_0x3d4e2b);};}function tryEditProfile(){const _0x51f347=_0x53d4bc,_0x270ec1={'cnLjd':function(_0x191e7f,_0xdaed7f){return _0x191e7f(_0xdaed7f);},'YMsJl':_0x51f347(0x234)};_0x270ec1[_0x51f347(0x383)](showScreen,_0x270ec1[_0x51f347(0x479)]);}async function submitEditProfile(){const _0x2453ff=_0x53d4bc,_0x3e2d70={'vqETL':_0x2453ff(0x324),'EVvCJ':_0x2453ff(0x27a),'BTWKB':_0x2453ff(0x469),'vBHOL':_0x2453ff(0x21a),'aIKlP':function(_0x2621bf,_0x3c0e61){return _0x2621bf(_0x3c0e61);},'fGQmv':function(_0x548f45,_0x256286){return _0x548f45(_0x256286);},'yuLrf':function(_0x5034da,_0x2c72ff){return _0x5034da!==_0x2c72ff;},'UrYvR':_0x2453ff(0x327),'kNHTK':function(_0x4a1fe2,_0x56b43b){return _0x4a1fe2*_0x56b43b;},'ZlwBp':function(_0x430a03,_0x33af75){return _0x430a03*_0x33af75;},'DmDcP':function(_0x121622,_0x122095){return _0x121622>_0x122095;},'CamSK':function(_0x3bd540,_0x91bca9){return _0x3bd540-_0x91bca9;},'KwqSp':function(_0x3409e3,_0x1dcd6b){return _0x3409e3(_0x1dcd6b);},'WHYqq':_0x2453ff(0x1fa),'uKhJM':function(_0x54ab94,_0x55bb9e){return _0x54ab94(_0x55bb9e);},'nPRKy':'Enter\x20your\x20new\x20username:','fxnyo':function(_0x4c05d3,_0x27fa3){return _0x4c05d3(_0x27fa3);},'qrIdb':function(_0x424e4c,_0x3fbf35){return _0x424e4c(_0x3fbf35);},'UGuQu':_0x2453ff(0x433)},_0xb51902=document[_0x2453ff(0x341)](_0x3e2d70['vqETL'])[_0x2453ff(0x43a)],_0x161046=document[_0x2453ff(0x341)](_0x3e2d70[_0x2453ff(0x3ac)])[_0x2453ff(0x43a)],_0x1f4e94=document[_0x2453ff(0x341)](_0x2453ff(0x38e))[_0x2453ff(0x43a)]['trim'](),_0x4e528b=document[_0x2453ff(0x341)](_0x3e2d70['BTWKB']);if(!_0xb51902){_0x4e528b[_0x2453ff(0x3f5)]=_0x2453ff(0x4a4),_0x4e528b[_0x2453ff(0x3e7)]['display']=_0x3e2d70[_0x2453ff(0x365)];return;}const _0x5da335=_0x3e2d70['aIKlP'](sanitizeUsername,username),_0x49bf20=await db[_0x2453ff(0x428)]('auth/'+_0x5da335)[_0x2453ff(0x4a1)]();if(!_0x49bf20[_0x2453ff(0x2b8)]()){_0x4e528b['innerText']=_0x2453ff(0x40a),_0x4e528b[_0x2453ff(0x3e7)][_0x2453ff(0x2e9)]=_0x2453ff(0x21a);return;}const _0x2b794c=_0x49bf20[_0x2453ff(0x25d)](),_0x214a12=await _0x3e2d70[_0x2453ff(0x242)](sha256,_0xb51902);if(_0x3e2d70[_0x2453ff(0x408)](_0x214a12,_0x2b794c['passwordHash'])){_0x4e528b[_0x2453ff(0x3f5)]=_0x3e2d70['UrYvR'],_0x4e528b[_0x2453ff(0x3e7)][_0x2453ff(0x2e9)]=_0x2453ff(0x21a);return;}const _0x5e90bd={};if(_0x161046){const _0x45cc3a=await sha256(_0x161046);_0x5e90bd['passwordHash']=_0x45cc3a;}_0x3e2d70['yuLrf'](_0x1f4e94,_0x2b794c['description'])&&(_0x5e90bd[_0x2453ff(0x338)]=_0x1f4e94);const _0x12e508=Date['now'](),_0x2841f3=_0x3e2d70[_0x2453ff(0x2d8)](_0x3e2d70[_0x2453ff(0x31a)](0x18,0x3c)*0x3c,0x3e8),_0x7c6b83=_0x3e2d70['DmDcP'](_0x3e2d70['CamSK'](_0x12e508,_0x2b794c[_0x2453ff(0x3e3)]||0x0),_0x2841f3);if(_0x7c6b83&&_0x3e2d70[_0x2453ff(0x4c1)](confirm,_0x3e2d70[_0x2453ff(0x289)])){const _0x35e5b7=_0x3e2d70[_0x2453ff(0x48c)](prompt,_0x3e2d70[_0x2453ff(0x412)]);_0x35e5b7&&_0x35e5b7[_0x2453ff(0x316)]()&&(_0x5e90bd['username']=_0x35e5b7[_0x2453ff(0x316)](),_0x5e90bd['usernameHistory']=(_0x2b794c[_0x2453ff(0x29b)]||[])['concat'](_0x35e5b7['trim']()),_0x5e90bd[_0x2453ff(0x3e3)]=_0x12e508);}_0x5e90bd[_0x2453ff(0x264)]&&_0x5e90bd[_0x2453ff(0x264)]!==_0x2b794c[_0x2453ff(0x264)]?(await db[_0x2453ff(0x428)](_0x2453ff(0x360)+_0x3e2d70[_0x2453ff(0x29e)](sanitizeUsername,_0x5e90bd[_0x2453ff(0x264)]))[_0x2453ff(0x3b3)]({..._0x2b794c,..._0x5e90bd}),await db[_0x2453ff(0x428)](_0x2453ff(0x360)+_0x5da335)[_0x2453ff(0x30c)](),username=_0x5e90bd[_0x2453ff(0x264)]):await db[_0x2453ff(0x428)](_0x2453ff(0x360)+_0x5da335)[_0x2453ff(0x1e5)](_0x5e90bd),_0x3e2d70[_0x2453ff(0x309)](alert,_0x3e2d70[_0x2453ff(0x3c5)]),location[_0x2453ff(0x41b)]();}function cancelEditProfile(){const _0x248243=_0x53d4bc,_0x5def22={'YbfoY':_0x248243(0x234),'avUin':function(_0x56405f,_0x431f02){return _0x56405f(_0x431f02);},'EPGpR':'chatScreen'};document[_0x248243(0x341)](_0x5def22[_0x248243(0x304)])[_0x248243(0x3e7)][_0x248243(0x2e9)]=_0x248243(0x346),_0x5def22[_0x248243(0x352)](showScreen,_0x5def22[_0x248243(0x2ca)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x90d6ea=_0x53d4bc,_0x6f512e={'UtKJg':function(_0x3678b0,_0x22285d){return _0x3678b0(_0x22285d);},'Jsxsf':function(_0x44101c){return _0x44101c();},'RJbaC':function(_0x38b397,_0x556066){return _0x38b397(_0x556066);},'hCCwk':_0x90d6ea(0x43a)};db[_0x90d6ea(0x428)]('users/'+roomCode)['on'](_0x6f512e[_0x90d6ea(0x45f)],async _0x5a50f2=>{const _0x5af0c1=_0x90d6ea;if(!_0x5a50f2[_0x5af0c1(0x2b8)]())return;const _0x5a3223=_0x5a50f2[_0x5af0c1(0x25d)]();for(const _0x29fb40 in previousUsers){if(!_0x5a3223[_0x29fb40])_0x5a3223[_0x29fb40]=previousUsers[_0x29fb40];}_0x6f512e[_0x5af0c1(0x47e)](renderUserLists,_0x5a3223),previousUsers=_0x5a3223,await _0x6f512e[_0x5af0c1(0x37c)](loadRoomRoles),_0x6f512e['RJbaC'](renderUserLists,_0x5a3223);});}function trackPresence(){const _0x41959d=_0x53d4bc,_0x38f150={'dlVoH':function(_0x1aff3c){return _0x1aff3c();},'DZBoE':'system','orYbi':function(_0x19a74f,_0x5026a9){return _0x19a74f||_0x5026a9;},'KMRcL':function(_0x28e9f4,_0x399a91){return _0x28e9f4(_0x399a91);},'UmYBb':_0x41959d(0x43a)};if(_0x38f150[_0x41959d(0x3a0)](!username,!roomCode))return;const _0x3afe74=_0x38f150[_0x41959d(0x48b)](sanitizeUsername,username),_0x1838cf=db[_0x41959d(0x428)](_0x41959d(0x1c6)+roomCode+'/'+_0x3afe74),_0x1cc7a4={'username':username,'avatarBase64':_0x38f150[_0x41959d(0x3a0)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase['database'][_0x41959d(0x410)]['TIMESTAMP']};_0x1838cf['once'](_0x38f150[_0x41959d(0x443)])[_0x41959d(0x201)](_0x3fc7b7=>{const _0x5d0c7f=_0x41959d,_0x3b825d=_0x3fc7b7['val']()?.[_0x5d0c7f(0x228)];_0x1838cf[_0x5d0c7f(0x3b3)](_0x1cc7a4)['then'](()=>{const _0x23af6f=_0x5d0c7f;_0x38f150[_0x23af6f(0x373)](updateOnlineIndicator);if(!_0x3b825d){const _0x263d8c=db[_0x23af6f(0x428)]()['push']()['key'];db['ref']('rooms/'+roomCode+_0x23af6f(0x3b9)+_0x263d8c)[_0x23af6f(0x3b3)]({'msg':username+_0x23af6f(0x24f),'sender':_0x38f150['DZBoE'],'senderId':_0x38f150[_0x23af6f(0x32d)],'timestamp':Date[_0x23af6f(0x29c)]()});}_0x1838cf[_0x23af6f(0x420)]()['update']({'online':![],'lastOnline':Date[_0x23af6f(0x29c)]()});});});}function uploadSidebarAvatar(_0x385c14){const _0x963f59=_0x53d4bc,_0x27e162={'EZzCJ':_0x963f59(0x37d),'lJITI':_0x963f59(0x21a),'FukRh':function(_0x1c6ce1,_0x2a0c3d){return _0x1c6ce1(_0x2a0c3d);},'tWLsX':_0x963f59(0x2fd),'CERwe':function(_0x30421e,_0x3c7c23){return _0x30421e(_0x3c7c23);},'eKrdb':_0x963f59(0x29f)};if(!_0x385c14[_0x963f59(0x1b6)][_0x963f59(0x438)])return;const _0x108883=_0x385c14[_0x963f59(0x1b6)][0x0],_0x42f732=new FileReader();_0x42f732[_0x963f59(0x1f4)]=async()=>{const _0x2c1e90=_0x963f59,_0x20dca7=_0x42f732[_0x2c1e90(0x3f3)]['split'](',')[0x1];document[_0x2c1e90(0x341)](_0x27e162['EZzCJ'])['src']=_0x42f732[_0x2c1e90(0x3f3)],document[_0x2c1e90(0x341)](_0x27e162[_0x2c1e90(0x453)])[_0x2c1e90(0x3e7)]['display']=_0x27e162[_0x2c1e90(0x211)];try{const _0xfc670f=_0x27e162[_0x2c1e90(0x285)](sanitizeUsername,username);await db[_0x2c1e90(0x428)](_0x2c1e90(0x360)+_0xfc670f+_0x2c1e90(0x1cf))['set'](_0x20dca7),alert(_0x27e162[_0x2c1e90(0x3dc)]);}catch(_0x1f1928){console[_0x2c1e90(0x472)](_0x1f1928),_0x27e162[_0x2c1e90(0x3bd)](alert,_0x27e162[_0x2c1e90(0x4b0)]);}},_0x42f732['readAsDataURL'](_0x108883);}function muteUser(_0x66c3b3,_0x38abb3){const _0x50e8d5=_0x53d4bc,_0x56ccf9={'vVZOK':function(_0x4299bd,_0x3a9dcb){return _0x4299bd(_0x3a9dcb);},'MdpNy':function(_0x5e59aa,_0x3ec453){return _0x5e59aa+_0x3ec453;},'mDUtL':function(_0x2651fd,_0x288dc2){return _0x2651fd*_0x288dc2;}},_0x91e228=_0x56ccf9['MdpNy'](Date['now'](),_0x56ccf9['mDUtL'](_0x56ccf9['mDUtL'](_0x38abb3,0x3c),0x3e8));db[_0x50e8d5(0x428)](_0x50e8d5(0x3d4)+roomCode+'/'+_0x56ccf9[_0x50e8d5(0x270)](sanitizeUsername,_0x66c3b3))['set']({'muteUntil':_0x91e228})[_0x50e8d5(0x201)](()=>{const _0x4b412b=_0x50e8d5;alert(_0x66c3b3+'\x20muted\x20for\x20'+_0x38abb3+'\x20minutes.'),_0x56ccf9[_0x4b412b(0x270)](addSystemMessage,_0x66c3b3+_0x4b412b(0x1f1)+_0x38abb3+_0x4b412b(0x356));});}function unmuteUser(_0x2d0909){const _0x3df808=_0x53d4bc,_0x19dac5={'nUbvt':function(_0x1f5d7c,_0x5bbfa1){return _0x1f5d7c(_0x5bbfa1);},'OCjGP':function(_0x243b1e,_0x7c0089){return _0x243b1e(_0x7c0089);}};if(!isRoomAdmin)return _0x19dac5['nUbvt'](alert,_0x3df808(0x3a9));db['ref'](_0x3df808(0x3d4)+roomCode+'/'+_0x19dac5[_0x3df808(0x276)](sanitizeUsername,_0x2d0909))[_0x3df808(0x30c)]();}function _0x3a73(){const _0x29ebf7=['pVnsH','oldPasswordInput','iTKLx','TAaKK','Incorrect\x20current\x20password.','push','touchstart','SWVEj','pQjbF','\x20deleted.','DZBoE','bVzDP','fwkIb','rXhLL','sounds/beep.mp3','height','\x0aLast\x20Changed:\x20','gWHtZ','iHquE','\x20was\x20promoted\x20to\x20Admin','Failed\x20to\x20register\x20user\x20into\x20room.','description','aUhDW','rWvCb','DUlKN','replaceState','pyscQ','pgVVj','\x20minutes.','ZyUgI','getElementById','YGAmU','kOyQd','user','isArray','none','32px','xiwiY','shit','pwpIT','abDRP','ZwKjT','uFOqY','\x27)\x22>+Mod</button>','roomChoiceScreen','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','caralho','avUin','Lvrme','muteUntil','2-digit','\x20minutes','Please\x20enter\x20the\x20password.','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','/announcement','split','true','⛔\x20You\x20are\x20muted.','xCNZJ','SitYf','szPif','auth/','FsImi','AjeGy','bffGR','profileDescriptionInput','vBHOL','staticPasswordInput','oOXBZ','ysaAM','authAvatar','pIMpQ','placeholder','messages','18px','\x0aDescription:\x20','OmRQX','scrollTop','SUDFH','ibBoO','dlVoH','href','hiMNV','wDDQb','gilipollas','0|2|1|3|4','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','sRhli','UgvwS','Jsxsf','sidebarAvatarPreview','050BBB66HH','imageBase64','ondataavailable','toString','EKLiG','cnLjd','/paused','from','HOoym','click','SPewM','ijCuQ','XCdrO','ILSmt','zRiyr','flagPageAttention','editBioInput','notifications_enabled','IJOdN','Failed\x20to\x20save\x20profile:','WZTXo','69246hQXPIb','ESdGC','AFfuH','putang\x20ina','uvPER','IlqnR','G-QDESJ2WR42','hlFLv','Enter\x20a\x20valid\x20room\x20code','LEcnF','wLFVI','\x20was\x20promoted\x20to\x20Moderator','iHZuM','orYbi','mute','🔕\x20Disable\x20Notifications','gap','cvhft','●\x20Online','antispamBlocked','createElement','6px','Admins\x20only.','veXPJ','XPeFr','EVvCJ','gavVT','state','oUWnL','XEGel','uuhtQ','yuGKH','set','kTcOP','🔔\x20Enable\x20Notifications','COosl','Foowc','easy-chatroom.firebasestorage.app','/messages/','AqjOA','WXVnB','WIfQx','CERwe','dKNah','HvDKe','KexTD','userSidebar','ABCDEFGHIJKLMNOPQRSTUVWXYZ','mierda','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','UGuQu','announcementArea','Incorrect\x20password','bastard','FqFmK','userList','FQhJD','IBInX','div','mouseenter','BmbPP','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','QPxpl','WNRdI','RerWg','muted/','authAvatarPreview','gago','gTUkt','timestamp','heJCI','pljEB','chat_username','tWLsX','addEventListener','sIcnJ','CUCXa','<button\x20onclick=\x22demoteUser(\x27','vZjex','active','lastChanged','gtcwT','asshole','VMcpF','style','msgId','values','Qxajo','ICXqT','GbTsL','PWfmJ','\x27)\x22>Promote\x20to\x20Moderator</button>','\x27)\x22>+Admin</button>','authError','EeTZl','<a\x20href=\x22','result','lXlnB','innerText','BokdL','toUpperCase','nVxZk','jwtbT','YWuxD','margin','RKVRs','CivBd','Gpnqj','authSubmitBtn','bJNLJ','uhVmJ','JeyAw','<button>','popstate','passwordError','Account\x20not\x20found.','map','yuLrf','bluXZ','Profile\x20not\x20found.','NFGhI','data:audio/webm;base64,','uxBHC','mainApp','sender','ServerValue','uZSQg','nPRKy','QerIH','gJVZH','Corck','stop','auth','svQdK','getUserMedia','YfaBi','reload','rnpDf','width','kCrJg','iXyPU','onDisconnect','preventDefault','🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','</div>','UljdQ','BtYqv','2048_user','some','ref','CNDtQ','LBCRH','iYiMT','data:image/png;base64,','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','NJEnt','reaction-box','permission','NGSbc','2340vsBxhA','✅\x20Profile\x20updated!\x20Please\x20reload.','yorio','udxtH','mXKlm','includes','length','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','value','PwJuv','TZaoW','passwordScreen','ADSms','OaVKB','yoAex','kRqkE','irlBU','UmYBb','\x0a\x20\x20\x20\x20','whiteSpace','catch','moderators/','10px','1:985049198428:web:d0eb7e2de39887710c9b99','Passwords\x20do\x20not\x20match.','375kLDWSE','NdrZx','classList','rNMMH','OtKDg','ryMOS','zKlAj','YuTWe','EZzCJ','XYIOu','gridTemplateColumns','moderator','AazKJ','ksDyp','</span>\x20','toLowerCase','LRVhf','uodqP','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','authUsername','hCCwk','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','QLPld','fEGdk','alignItems','absolute','notifToggleBtn','\x20🔧\x20','cursor','/messages','editProfileError','pQjuk','fontSize','wleaD','YsOtZ','vEpJi','antispamBlocked/','className','HDHpw','error','SicxH','0.8rem','innerHTML','BoxrI','IqaIW','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','YMsJl','Remove\x20this\x20announcement?','profile_description','ZsdtY','Remove\x20Announcement?','UtKJg','stopPropagation','KZRkH','214314ceayqG','PRCBU','padding','Enter','jVeUF','PSbYo','JfkEp','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','TETYI','msg','KMRcL','uKhJM','bvBIi','7186965AzkJGU','nWAAF','\x27)\x22>','background','FGnoN','Room\x20password\x20not\x20set.\x20Cannot\x20join.','all','title','💬\x20','OaXPe','kzUnc','lMhXf','bobo','⚠️\x20No\x20spamming\x20allowed.','inline-block','iWWas','CCIUM','Tjqmd','RjPRq','get','PqebR','prSwL','Please\x20enter\x20your\x20current\x20password.','zIndex','hkxEN','IiDWb','touchend','[Voice\x20Message]','jCRJA','padStart','mod','LKUJy',')\x20New\x20message\x20•\x20','Register','eKrdb','cabron','eLnWn','admins/','KFexH','120px','VxTOu','XNdtW','rMrLy','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','Delete\x20this\x20message?','<audio\x20controls\x20src=\x22','5322492LJzejn','TPxOD','<br>','database','iDJcM','KwqSp','disabled','WodeG','VpUSL','ccWqG','ZBZch','merda','eueFK','mouseleave','qXfnM','#aaa','play','qkusK','otario','sJAJm','GOvSV','marginTop','Dzucj','\x20promoted\x20to\x20Admin!','center','zmqNz','jjMgv','minWidth','[Image]','etrbX','qwzGN','zqNUp','files','orderByChild','TMbdH','fLZBq','\x27)\x22>Demote</button>','slice','substr','ulol','userOptions-','16px','fBMdy','border','vgLOy','RghrJ','initializeApp','gbSVf','users/','tangina','Missing\x20room\x20or\x20user\x20information.','jothW','FYlol','contains','<span\x20style=\x22margin-right:6px;\x22>','NOCuy','oJDPz','/avatarBase64','uhtFi','You\x20got\x20a\x20message\x20from\x20','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','6px\x20auto','pSJdK','jaBuf','borderRadius','Qofan','</small>','coño','maxWidth','userDisplay','YCMOf','\x20is\x20typing...','</span>','jQXeu','EYYaQ','iYrsG','mzRdO','etXsa','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','update','LJoQT','puta','UupVw','zpoAk','qscfW','dev','<button\x20onclick=\x22promoteToModerator(\x27','created','sCqSR','system','sidebarOpen','\x20was\x20muted\x20for\x20','TjcRv','sLVsO','onloadend','hedsa','equalTo','data','xMOZK','hWHES','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','eFvgn','setItem','NSVQG','zRdXV','hduOx','once','then','pushState','\x20demoted\x20to\x20user.','clear','detail','key','BgMCP','-45px','profiles/','tabPN','avatar_base64','encode','GRpMn','SKhpw','GsmEN','replace','lJITI','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','passwordHash','FCBYy','MRdTy','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','\x20muted\x20for\x20','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','block','EYgVu','DduMk','porra','JnwCw','tSkVq','<div>','BWfKf','back','DEjhd','HQGmB','uLcLz','profileContent','\x27,\x2010)\x22>Mute\x2010m</button>','online','position','\x20was\x20demoted','profileViewer','nOHdO','iMNaC','1|5|2|0|4|3','UElFK','LNahE','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','grid','FMFue','editProfileScreen','unknown','YbvSv','zUAEv','FeKaR','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','text','Username\x20already\x20exists.','rdvqu','ZCUDE','HitmK','addAnnouncementBtn','WcxJa','<img\x20src=\x22','fGQmv','/reactions','910304fzIxRc','zVetT','HeoxY','WCjFy','iGiUr','digest','child_added','Microphone\x20permission\x20denied.','match','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','djtFp','\x20is\x20online','namePreview','inMHM','WjDZv','JNqbz','WBKFL','admin','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','EoATt','0px','yEwuN','readAsDataURL','ZbAgt','roomStates/','val','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','deleteMessage','\x20promoted\x20to\x20Moderator!','gr8stg/','flex','72FzkBoc','username','2048_token','adminControlsSection','relative','978726kSbygJ','</button>','left','3|1|0|2|4','xSEEF','chatScreen','false','<li>','vVZOK','eKFuX','putangina','TpSGb','Error\x20checking\x20username:','160px','OCjGP','Room\x20is\x20currently\x20paused.','forEach','GiVIo','newPasswordInput','Please\x20fill\x20in\x20all\x20fields.','yMERw','BdTXE','SHA-256','HEWJd','LIgbL','antispam/','okSKD','random','requestPermission','FukRh','mediaDevices','add','RUmSu','WHYqq','pyMGR','CIyWc','limitToLast','uOCmb','XrINw','svKVf','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','zYlfn','<span\x20class=\x22sender-name\x22>','vWTul','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','recordBtn','cZlVm','[Voice\x20message]','You\x20got\x20messages\x20from\x20','join','object','usernameHistory','now','Incorrect\x20password.','fxnyo','⚠️\x20Failed\x20to\x20update\x20avatar.','NTcMw','hidden','zfQtE','<button\x20onclick=\x22muteUser(\x27','WGbda','</a>','justifyContent','PhLPw','rooms/','TIMESTAMP','❌\x20Username\x20already\x20taken.','scrollHeight','<button\x20onclick=\x22deleteUserMessages(\x27','dERIM','entries','20px','🚫\x20Cannot\x20promote\x20Developers.','cEWWU','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','usernameScreen','2px\x20solid\x20red','TdVoU','promote','ubEOk','exists','children','keypress','❌\x20You\x20must\x20be\x20logged\x20in.','bitch','color','rFNLh','iSigd','poozG','DmHym','pointer','FzetE','\x20in\x20room\x20','ahxyy','dAOMw','show','4px','textContent','EPGpR','audioUrl','fUkQM','aiLGR','\x0aName:\x20','pmZKr','getItem','typing/','repeat(auto-fill,\x20minmax(32px,\x201fr))','wPmPe','gcPjA','zehiY','Glihr','pGDzk','kNHTK','top','uBzrQ','WVNUn','WhiET','hsVfC','jBCOw','RmMqj','4|1|0|2|3','\x27,\x205)\x22>Mute\x205m</button>','khowZ','wDXbL','DLszd','2048_avatar','granted','7778pCfkMQ','VdAHw','display','985049198428','swdxj','<img\x20src=\x22data:image/png;base64,','🚫\x20Can\x27t\x20return\x20to\x20login\x20screen.','pkVyf','Type\x20a\x20message...','QqvcG','Shetn','iGWSl','2|6|5|0|4|1|3|7','dataset','deHxL','lxCYI','#222','role','ecCfv','fgMeC','floor','zEyBb','✅\x20Profile\x20picture\x20updated!','\x0aUsername\x20History:\x20','<button\x20onclick=\x22promoteToAdmin(\x27','sort','gMFuf','avatarBase64','ghOzJ','YbfoY','msgInput','CgEIg','onlineStatus','#00ff88','qrIdb','AhoTB','xpNUm','remove','removeItem','jJepy','pQEbs','ZkMau','arDJI','\x27)\x22>Delete\x20Messages</button>','Login','nbwQp','dvBTZ','trim','system-msg','profileUsernameInput','easy-chatroom.firebaseapp.com','ZlwBp','appendChild','authDescription','LFIUZ','profileScreen','irGWP','kskzo','filter','src'];_0x3a73=function(){return _0x29ebf7;};return _0x3a73();}function updateOnlineIndicator(){const _0x2b6987=_0x53d4bc,_0x5204ac={'PSbYo':_0x2b6987(0x307),'NOCuy':_0x2b6987(0x3a5)},_0x6248a9=document['getElementById'](_0x5204ac[_0x2b6987(0x486)]);_0x6248a9[_0x2b6987(0x3f5)]=_0x5204ac[_0x2b6987(0x1cd)],_0x6248a9['style'][_0x2b6987(0x2bd)]=_0x2b6987(0x308);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0xaf7849){const _0x4f2b98=_0x53d4bc,_0x5e8274={'jVeUF':function(_0x1e7887,_0x50ef51){return _0x1e7887(_0x50ef51);},'dbDSe':_0x4f2b98(0x40a),'okSKD':'No\x20bio\x20set','COosl':'No\x20changes\x20yet','yMERw':_0x4f2b98(0x226),'AFfuH':_0x4f2b98(0x22b)};db[_0x4f2b98(0x428)](_0x4f2b98(0x360)+_0xaf7849)[_0x4f2b98(0x4a1)]()['then'](_0x2d5706=>{const _0x4e3753=_0x4f2b98;if(!_0x2d5706[_0x4e3753(0x2b8)]())return _0x5e8274[_0x4e3753(0x485)](alert,_0x5e8274['dbDSe']);const _0x58c8de=_0x2d5706[_0x4e3753(0x25d)](),_0x124447=(_0x4e3753(0x2ce)+_0x58c8de[_0x4e3753(0x264)]+_0x4e3753(0x36e)+(_0x58c8de[_0x4e3753(0x338)]||_0x5e8274[_0x4e3753(0x282)])+_0x4e3753(0x2fe)+((_0x58c8de[_0x4e3753(0x29b)]||[])[_0x4e3753(0x299)](',\x20')||_0x5e8274[_0x4e3753(0x3b6)])+_0x4e3753(0x333)+(_0x58c8de['lastChanged']?new Date(_0x58c8de[_0x4e3753(0x3e3)])['toLocaleString']():'Unknown')+_0x4e3753(0x444))[_0x4e3753(0x316)]();document['getElementById'](_0x5e8274[_0x4e3753(0x27c)])[_0x4e3753(0x3f5)]=_0x124447,document[_0x4e3753(0x341)](_0x5e8274[_0x4e3753(0x395)])[_0x4e3753(0x3e7)][_0x4e3753(0x2e9)]=_0x4e3753(0x21a);});}function initUsernameFlow(){const _0x3e4d7f=_0x53d4bc,_0x53f049={'inMHM':_0x3e4d7f(0x3db),'aDYoi':function(_0x31897f,_0x3f93f7){return _0x31897f(_0x3f93f7);},'jJepy':_0x3e4d7f(0x40e)},_0x5f2117=localStorage['getItem'](_0x53f049[_0x3e4d7f(0x251)]);!_0x5f2117?_0x53f049['aDYoi'](showScreen,_0x3e4d7f(0x31e)):(username=_0x5f2117,document['getElementById'](_0x3e4d7f(0x250))[_0x3e4d7f(0x3f5)]=username,showScreen(_0x53f049['jJepy']),history['replaceState']({'screen':_0x53f049[_0x3e4d7f(0x30e)]},''));}function closeProfile(){const _0x15f1f4=_0x53d4bc,_0x5f5a55={'fLZBq':_0x15f1f4(0x22b),'sRhli':'none'};document['getElementById'](_0x5f5a55[_0x15f1f4(0x1b9)])['style'][_0x15f1f4(0x2e9)]=_0x5f5a55[_0x15f1f4(0x37a)];}function resetWebsiteData(){const _0x2d2d45=_0x53d4bc,_0x1528c3={'TZaoW':_0x2d2d45(0x38f),'deHxL':_0x2d2d45(0x426),'DLszd':_0x2d2d45(0x2e5),'eFvgn':_0x2d2d45(0x2e0),'OBzdv':function(_0x1cd341,_0x3ff37b){return _0x1cd341+_0x3ff37b;}};try{const _0x1f0888=localStorage['getItem'](_0x1528c3[_0x2d2d45(0x43c)]);localStorage['clear'](),sessionStorage[_0x2d2d45(0x204)](),sessionStorage[_0x2d2d45(0x30d)](_0x1528c3[_0x2d2d45(0x2f5)]),sessionStorage['removeItem'](_0x1528c3[_0x2d2d45(0x2e4)]),_0x1f0888&&localStorage[_0x2d2d45(0x1fc)](_0x1528c3['TZaoW'],_0x1f0888);}catch(_0x9712b){}if(!username||!roomCode){const _0x1f04f5=_0x1528c3[_0x2d2d45(0x1fb)][_0x2d2d45(0x35a)]('|');let _0x4ffa1c=0x0;while(!![]){switch(_0x1f04f5[_0x4ffa1c++]){case'0':isRoomAdmin=![];continue;case'1':roomCode=null;continue;case'2':pendingMessages=[];continue;case'3':clientId=_0x1528c3['OBzdv']('_',Math[_0x2d2d45(0x283)]()['toString'](0x24)[_0x2d2d45(0x1bc)](0x2,0x9));continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x511b58=_0x53d4bc,_0x83c505={'ZsdtY':function(_0x25a59d,_0x57466c){return _0x25a59d(_0x57466c);}},_0x25a552=_0x83c505[_0x511b58(0x47c)](prompt,'Enter\x20Announcement\x20Text:');if(!_0x25a552)return;db[_0x511b58(0x428)]('rooms/'+roomCode+'/announcement')[_0x511b58(0x3b3)]({'text':_0x25a552,'by':username,'timestamp':Date[_0x511b58(0x29c)]()});}function listenForAnnouncement(){const _0x2605f2=_0x53d4bc,_0x2e65e0={'xpNUm':_0x2605f2(0x3c6),'FzetE':_0x2605f2(0x43a)},_0x252d58=db[_0x2605f2(0x428)]('rooms/'+roomCode+_0x2605f2(0x359));_0x252d58['on'](_0x2e65e0[_0x2605f2(0x2c3)],_0x54475a=>{const _0xf3e948=_0x2605f2,_0x3c2b58=_0x54475a[_0xf3e948(0x25d)]();if(!_0x3c2b58){document['getElementById']('announcementArea')['innerText']='';return;}const _0x7000d0=document['getElementById'](_0x2e65e0[_0xf3e948(0x30b)]);_0x7000d0['innerText']=''+_0x3c2b58[_0xf3e948(0x23a)];});}document[_0x53d4bc(0x341)](_0x53d4bc(0x3c6))[_0x53d4bc(0x3dd)](_0x53d4bc(0x387),_0x4a9bb6=>{const _0x35e167=_0x53d4bc,_0x10631e={'iwuFT':function(_0x46884e,_0x4b8959){return _0x46884e===_0x4b8959;},'MRdTy':function(_0x5ab1d4,_0x414919){return _0x5ab1d4(_0x414919);},'SSRQR':_0x35e167(0x47d)};_0x10631e['iwuFT'](_0x4a9bb6[_0x35e167(0x205)],0x3)&&isRoomAdmin&&(_0x10631e[_0x35e167(0x215)](confirm,_0x10631e['SSRQR'])&&db[_0x35e167(0x428)](_0x35e167(0x2a8)+roomCode+_0x35e167(0x359))[_0x35e167(0x30c)]());}),document['getElementById'](_0x53d4bc(0x305))[_0x53d4bc(0x3dd)]('input',()=>{const _0x1b9564=_0x53d4bc,_0x564107={'WhiET':_0x1b9564(0x2b4)},_0x5a2509=document[_0x1b9564(0x341)](_0x1b9564(0x305));_0x3fa626?_0x5a2509[_0x1b9564(0x3e7)][_0x1b9564(0x1c1)]=_0x564107[_0x1b9564(0x2dc)]:_0x5a2509[_0x1b9564(0x3e7)][_0x1b9564(0x1c1)]='';const _0x1f7e3e=_0x5a2509['value'][_0x1b9564(0x45a)](),_0x3fa626=swearWords[_0x1b9564(0x427)](_0x15cca9=>_0x1f7e3e[_0x1b9564(0x437)](_0x15cca9));_0x3fa626?(_0x5a2509[_0x1b9564(0x3e7)][_0x1b9564(0x1c1)]=_0x564107['WhiET'],sendBtn[_0x1b9564(0x4c2)]=!![]):(_0x5a2509[_0x1b9564(0x3e7)][_0x1b9564(0x1c1)]='',_0x3fa626?_0x5a2509['style'][_0x1b9564(0x1c1)]=_0x564107[_0x1b9564(0x2dc)]:_0x5a2509[_0x1b9564(0x3e7)][_0x1b9564(0x1c1)]='');});function muteUser(_0x371b18,_0x5280ec){const _0x415f86=_0x53d4bc,_0x233f90={'fwkIb':function(_0x2b0a69,_0x244a9a){return _0x2b0a69+_0x244a9a;},'ubEOk':function(_0xce1c60,_0x3c631c){return _0xce1c60*_0x3c631c;},'qwzGN':function(_0xd913ff,_0x20cb84){return _0xd913ff(_0x20cb84);}},_0x113837=_0x233f90[_0x415f86(0x32f)](Date[_0x415f86(0x29c)](),_0x233f90[_0x415f86(0x2b7)](_0x5280ec*0x3c,0x3e8));db[_0x415f86(0x428)]('muted/'+roomCode+'/'+_0x233f90[_0x415f86(0x1b4)](sanitizeUsername,_0x371b18))[_0x415f86(0x3b3)]({'muteUntil':_0x113837})[_0x415f86(0x201)](()=>{const _0x2bb2ab=_0x415f86;alert(_0x371b18+_0x2bb2ab(0x217)+_0x5280ec+_0x2bb2ab(0x33f));});}function deleteUserMessages(_0x39d388){const _0x4dc4bf=_0x53d4bc,_0x1078af={'pkVyf':function(_0x164055,_0x24bd05){return _0x164055(_0x24bd05);},'AKHTu':_0x4dc4bf(0x40f)};db['ref'](_0x4dc4bf(0x2a8)+roomCode+'/messages')[_0x4dc4bf(0x1b7)](_0x1078af['AKHTu'])[_0x4dc4bf(0x1f6)](_0x39d388)[_0x4dc4bf(0x4a1)]()[_0x4dc4bf(0x201)](_0x1ea0e6=>{const _0x237e2c=_0x4dc4bf;_0x1ea0e6[_0x237e2c(0x278)](_0x25f868=>{const _0x268e55=_0x237e2c;db[_0x268e55(0x428)](_0x268e55(0x2a8)+roomCode+_0x268e55(0x3b9)+_0x25f868[_0x268e55(0x206)])[_0x268e55(0x30c)]();}),_0x1078af[_0x237e2c(0x2ee)](alert,'Messages\x20by\x20'+_0x39d388+_0x237e2c(0x32c));});}function pauseRoom(_0x45ab13){const _0x2015e9=_0x53d4bc,_0x4333e9={'TETYI':'pausedOverlay','kskzo':_0x2015e9(0x21a),'YGAmU':_0x2015e9(0x346),'nOHdO':'value'};db['ref'](_0x2015e9(0x2a8)+roomCode+_0x2015e9(0x384))['on'](_0x4333e9[_0x2015e9(0x22c)],_0x2ef299=>{const _0x340e47=_0x2015e9,_0x31a671=_0x2ef299['val']();document[_0x340e47(0x341)](_0x4333e9[_0x340e47(0x489)])[_0x340e47(0x3e7)][_0x340e47(0x2e9)]=_0x31a671?_0x4333e9[_0x340e47(0x320)]:_0x4333e9[_0x340e47(0x342)];});}function canPerformAction(_0x522f16){const _0x275c08=_0x53d4bc,_0x4c65d3={'ecCfv':function(_0x30ee58,_0x34867b){return _0x30ee58===_0x34867b;},'UgvwS':function(_0x183fcb,_0x1584cc){return _0x183fcb===_0x1584cc;},'svQdK':_0x275c08(0x2b6),'sCqSR':function(_0x13479d,_0x51e1b1){return _0x13479d===_0x51e1b1;},'oOXBZ':_0x275c08(0x255),'OtKDg':'mute','EDDeQ':_0x275c08(0x4ac),'uFOqY':_0x275c08(0x1eb)},_0x1df168=_0x275c08(0x26b)[_0x275c08(0x35a)]('|');let _0x4e63e7=0x0;while(!![]){switch(_0x1df168[_0x4e63e7++]){case'0':if(_0x4c65d3['ecCfv'](_0x522f16,_0x275c08(0x25f))||_0x4c65d3[_0x275c08(0x37b)](_0x522f16,_0x4c65d3[_0x275c08(0x418)]))return _0x4c65d3[_0x275c08(0x1ee)](role,_0x4c65d3[_0x275c08(0x367)]);continue;case'1':if(_0x4c65d3[_0x275c08(0x2f9)](_0x522f16,_0x4c65d3[_0x275c08(0x44f)]))return _0x4c65d3[_0x275c08(0x37b)](role,_0x275c08(0x255))||role===_0x275c08(0x456)||_0x4c65d3[_0x275c08(0x1ee)](role,_0x4c65d3['EDDeQ']);continue;case'2':if(_0x522f16==='promote')return role===_0x4c65d3[_0x275c08(0x367)];continue;case'3':if(_0x4c65d3[_0x275c08(0x2f9)](role,_0x4c65d3[_0x275c08(0x34d)]))return!![];continue;case'4':return![];}break;}}const html=Object[_0x53d4bc(0x3e9)](roomUsers)[_0x53d4bc(0x407)](_0x4915d7=>{const _0x5be354=_0x53d4bc,_0x5112bb={'wDDQb':function(_0x25b61e,_0x25fc8e){return _0x25b61e(_0x25fc8e);},'chqEe':function(_0x17b1f3,_0x262413){return _0x17b1f3!==_0x262413;},'XYIOu':_0x5be354(0x3a1),'BmbPP':_0x5be354(0x25f),'WpoJp':function(_0x38169c,_0x1c448e){return _0x38169c===_0x1c448e;},'TpSGb':_0x5be354(0x1eb),'YbvSv':_0x5be354(0x255)},_0x3753f8=_0x5112bb['wDDQb'](sanitizeUsername,_0x4915d7['username']),_0x1fc586=[];if(_0x5112bb['chqEe'](_0x3753f8,sanitizeUsername(username))){canPerformAction(_0x5112bb[_0x5be354(0x454)])&&(_0x1fc586[_0x5be354(0x328)](_0x5be354(0x2a3)+_0x3753f8+_0x5be354(0x2e1)),_0x1fc586[_0x5be354(0x328)]('<button\x20onclick=\x22muteUser(\x27'+_0x3753f8+_0x5be354(0x227)));_0x5112bb[_0x5be354(0x376)](canPerformAction,_0x5112bb[_0x5be354(0x3cf)])&&_0x1fc586[_0x5be354(0x328)](_0x5be354(0x2ac)+_0x3753f8+_0x5be354(0x312));if(_0x5112bb['WpoJp'](role,_0x5112bb[_0x5be354(0x273)]))_0x1fc586[_0x5be354(0x328)](_0x5be354(0x1ec)+_0x3753f8+_0x5be354(0x3ee)),_0x1fc586[_0x5be354(0x328)](_0x5be354(0x2ff)+_0x3753f8+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x5112bb['WpoJp'](role,_0x5112bb[_0x5be354(0x236)])&&_0x1fc586[_0x5be354(0x328)](_0x5be354(0x1ec)+_0x3753f8+_0x5be354(0x3ee));}return _0x5be354(0x478)+_0x4915d7[_0x5be354(0x264)]+'\x20'+getRoleTag(_0x5112bb[_0x5be354(0x376)](sanitizeUsername,_0x4915d7[_0x5be354(0x264)]))+_0x5be354(0x379)+_0x3753f8+_0x5be354(0x239)+_0x1fc586[_0x5be354(0x299)]('')+_0x5be354(0x256)+_0x3753f8+_0x5be354(0x231);})[_0x53d4bc(0x299)]('');function promoteToModerator(_0x45bf0b){const _0x4242d9=_0x53d4bc,_0x36d517={'WBKFL':function(_0x3b0127,_0xfbc63c){return _0x3b0127(_0xfbc63c);},'lGWdc':function(_0x47ca27,_0x4e8e42){return _0x47ca27(_0x4e8e42);},'jtUVg':_0x4242d9(0x2b0),'OmRQX':function(_0x31b6e4,_0x5e756e){return _0x31b6e4!==_0x5e756e;},'bluXZ':_0x4242d9(0x1eb)},_0x32081c=_0x36d517[_0x4242d9(0x254)](sanitizeUsername,_0x45bf0b);if(_0x36d517[_0x4242d9(0x254)](isProtected,_0x32081c))return _0x36d517['lGWdc'](alert,_0x36d517['jtUVg']);if(_0x36d517[_0x4242d9(0x36f)](role,_0x36d517[_0x4242d9(0x409)])&&_0x36d517[_0x4242d9(0x36f)](role,'admin')){alert(_0x4242d9(0x3c4));return;}db['ref'](_0x4242d9(0x447)+roomCode+'/'+_0x32081c)['set'](!![])[_0x4242d9(0x201)](()=>{const _0x150ddc=_0x4242d9;_0x36d517[_0x150ddc(0x254)](alert,_0x45bf0b+_0x150ddc(0x260)),_0x36d517[_0x150ddc(0x254)](addSystemMessage,_0x45bf0b+_0x150ddc(0x39e));});}function promoteToAdmin(_0x2afbd5){const _0x825d6a=_0x53d4bc,_0x4c8451={'HOoym':function(_0x509357,_0xa0d9c){return _0x509357(_0xa0d9c);},'DduMk':function(_0x45fcd5,_0xd884f3){return _0x45fcd5(_0xd884f3);},'GiVIo':'🚫\x20Cannot\x20promote\x20Developers.','SPewM':function(_0x4f5f0d,_0x84846d){return _0x4f5f0d!==_0x84846d;},'gtcwT':_0x825d6a(0x25e)},_0x40784c=_0x4c8451[_0x825d6a(0x386)](sanitizeUsername,_0x2afbd5);if(_0x4c8451[_0x825d6a(0x386)](isProtected,_0x40784c))return _0x4c8451[_0x825d6a(0x21c)](alert,_0x4c8451[_0x825d6a(0x279)]);if(_0x4c8451[_0x825d6a(0x388)](role,_0x825d6a(0x1eb))){_0x4c8451[_0x825d6a(0x21c)](alert,_0x4c8451[_0x825d6a(0x3e4)]);return;}db['ref'](_0x825d6a(0x4b3)+roomCode+'/'+_0x40784c)[_0x825d6a(0x3b3)](!![])[_0x825d6a(0x201)](()=>{const _0x30a0e2=_0x825d6a;alert(_0x2afbd5+_0x30a0e2(0x1ad)),addSystemMessage(_0x2afbd5+_0x30a0e2(0x336));});}function toggleUserOptions(_0x1f29f7){const _0x4a119c=_0x53d4bc,_0x34b143={'FCBYy':function(_0x4b3cc6,_0x4b652c){return _0x4b3cc6===_0x4b652c;},'FqOKi':_0x4a119c(0x1eb),'iTKLx':_0x4a119c(0x255),'mwudt':_0x4a119c(0x346),'etrbX':_0x4a119c(0x21a)};(_0x34b143[_0x4a119c(0x214)](role,_0x34b143['FqOKi'])||_0x34b143[_0x4a119c(0x214)](role,_0x34b143[_0x4a119c(0x325)]))&&controls[_0x4a119c(0x328)](_0x4a119c(0x3e0)+safeName+_0x4a119c(0x1ba));const _0x1a2774=document[_0x4a119c(0x341)](_0x4a119c(0x1be)+_0x1f29f7);_0x1a2774['style']['display']===_0x34b143['mwudt']?_0x1a2774[_0x4a119c(0x3e7)][_0x4a119c(0x2e9)]=_0x34b143[_0x4a119c(0x1b3)]:_0x1a2774[_0x4a119c(0x3e7)][_0x4a119c(0x2e9)]=_0x34b143['mwudt'];}function demoteUser(_0x3432af){const _0x1e8c02=_0x53d4bc,_0x34ab71={'QUeMz':function(_0x305cce,_0x33550e){return _0x305cce(_0x33550e);},'EcMUR':function(_0x5e740e,_0x2f7065){return _0x5e740e(_0x2f7065);},'pWrKk':function(_0x347c15,_0x63baef){return _0x347c15===_0x63baef;},'RmMqj':'dev','wLFVI':function(_0x28139f,_0x3d84e6){return _0x28139f===_0x3d84e6;},'mdmvz':'admin','gbSVf':function(_0x1a0f6d,_0x297fe3){return _0x1a0f6d(_0x297fe3);},'VdAHw':function(_0x4d96a0,_0x2b02f3){return _0x4d96a0(_0x2b02f3);}};if(_0x34ab71['QUeMz'](isProtected,_0x3432af))return _0x34ab71['EcMUR'](alert,_0x1e8c02(0x290));if(_0x34ab71['pWrKk'](role,_0x34ab71[_0x1e8c02(0x2df)]))db[_0x1e8c02(0x428)](_0x1e8c02(0x4b3)+roomCode+'/'+_0x3432af)[_0x1e8c02(0x30c)](),db[_0x1e8c02(0x428)](_0x1e8c02(0x447)+roomCode+'/'+_0x3432af)[_0x1e8c02(0x30c)](),_0x34ab71['EcMUR'](alert,_0x3432af+'\x20demoted\x20to\x20user.'),addSystemMessage(_0x3432af+_0x1e8c02(0x22a));else _0x34ab71[_0x1e8c02(0x39d)](role,_0x34ab71['mdmvz'])?(db[_0x1e8c02(0x428)](_0x1e8c02(0x447)+roomCode+'/'+_0x3432af)[_0x1e8c02(0x30c)](),alert(_0x3432af+_0x1e8c02(0x203)),_0x34ab71[_0x1e8c02(0x1c5)](addSystemMessage,_0x3432af+_0x1e8c02(0x22a))):_0x34ab71[_0x1e8c02(0x2e8)](alert,'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.');}function getRoleTag(_0x3e208e){const _0x22cfec=_0x53d4bc,_0x27ea82={'eKFuX':function(_0xd20ea3,_0x12eb03){return _0xd20ea3(_0x12eb03);}},_0x131ddd=_0x27ea82[_0x22cfec(0x271)](sanitizeUsername,_0x3e208e);if(globalDevs['includes'](_0x131ddd))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins['includes'](_0x131ddd))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x22cfec(0x437)](_0x131ddd))return _0x22cfec(0x42d);return'';}async function loadRoomRoles(){const _0x4e651e=_0x53d4bc,_0x53da93={'LNahE':function(_0x5accb8,_0x466d3e){return _0x5accb8===_0x466d3e;},'Corck':_0x4e651e(0x1eb),'gavVT':_0x4e651e(0x344)},_0x3ed615=sanitizeUsername(username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x1c7c88=await db[_0x4e651e(0x428)](_0x4e651e(0x417))['get']();_0x1c7c88[_0x4e651e(0x278)](_0xe18558=>{const _0x3d1dcf=_0x4e651e;if(_0x53da93[_0x3d1dcf(0x230)](_0xe18558['val']()['role'],_0x53da93['Corck']))globalDevs['push'](_0xe18558[_0x3d1dcf(0x206)]);});const _0x335c8d=await db[_0x4e651e(0x428)]('admins/'+roomCode)[_0x4e651e(0x4a1)]();_0x335c8d['exists']()&&_0x335c8d['forEach'](_0x254eea=>roomAdmins[_0x4e651e(0x328)](_0x254eea[_0x4e651e(0x206)]));const _0x42b036=await db['ref'](_0x4e651e(0x447)+roomCode)[_0x4e651e(0x4a1)]();_0x42b036['exists']()&&_0x42b036[_0x4e651e(0x278)](_0x2ddd81=>roomModerators[_0x4e651e(0x328)](_0x2ddd81[_0x4e651e(0x206)]));if(globalDevs['includes'](_0x3ed615))role=_0x53da93[_0x4e651e(0x415)];else{if(roomAdmins[_0x4e651e(0x437)](_0x3ed615))role='admin';else roomModerators[_0x4e651e(0x437)](_0x3ed615)?role='moderator':role=_0x53da93[_0x4e651e(0x3ad)];}}async function renderUserLists(_0x2e44e6){const _0x4c6269=_0x53d4bc,_0x58df87={'HDHpw':function(_0x3bbf7b,_0x275e70){return _0x3bbf7b(_0x275e70);},'DUlKN':_0x4c6269(0x4ac),'pyMGR':_0x4c6269(0x456),'lMhXf':_0x4c6269(0x255),'veXPJ':_0x4c6269(0x1eb),'mXKlm':function(_0x36141a,_0x532895){return _0x36141a===_0x532895;},'fgMeC':function(_0x52e548,_0x186b00){return _0x52e548===_0x186b00;},'SitYf':_0x4c6269(0x21a),'gWfjR':_0x4c6269(0x346),'ijCuQ':_0x4c6269(0x3ca),'LPDrJ':'adminUserList'};roomUsers=_0x2e44e6;const _0x3d0307=sanitizeUsername(username),_0x26d71f=[_0x58df87[_0x4c6269(0x3aa)],'admin',_0x58df87[_0x4c6269(0x28a)],_0x4c6269(0x4ac)]['includes'](role);document[_0x4c6269(0x341)](_0x4c6269(0x266))[_0x4c6269(0x3e7)][_0x4c6269(0x2e9)]=_0x26d71f?_0x58df87[_0x4c6269(0x35e)]:_0x58df87['gWfjR'];const _0x3d4e27=Object['entries'](_0x2e44e6)[_0x4c6269(0x407)](async([_0x41cff9,_0x16a05a])=>{const _0x1c3677=_0x4c6269,_0x19cec9=_0x58df87['HDHpw'](sanitizeUsername,_0x16a05a[_0x1c3677(0x264)]||_0x41cff9),_0x4ee6e4=await fetchAvatar(_0x19cec9),_0xb328f2=_0x4ee6e4?'<img\x20src=\x22data:image/png;base64,'+_0x4ee6e4+_0x1c3677(0x460):'',_0x1df388=_0x16a05a[_0x1c3677(0x228)]?_0x1c3677(0x2b2):_0x1c3677(0x45d);return _0x1c3677(0x26f)+_0xb328f2+'\x20'+_0x1df388+_0x1c3677(0x218)+_0x19cec9+_0x1c3677(0x490)+(_0x16a05a[_0x1c3677(0x264)]||_0x41cff9)+_0x1c3677(0x459)+getRoleTag(_0x19cec9)+'</li>';});document[_0x4c6269(0x341)](_0x58df87[_0x4c6269(0x389)])[_0x4c6269(0x475)]=(await Promise[_0x4c6269(0x494)](_0x3d4e27))[_0x4c6269(0x299)]('');if(!_0x26d71f)return;const _0x2be214=Object[_0x4c6269(0x2ae)](_0x2e44e6)[_0x4c6269(0x407)](async([_0x433e4f,_0x4ac888])=>{const _0x42db87=_0x4c6269,_0x37639b=_0x58df87[_0x42db87(0x471)](sanitizeUsername,_0x4ac888[_0x42db87(0x264)]||_0x433e4f);if(_0x37639b===_0x3d0307)return'';const _0x3a800b=globalDevs[_0x42db87(0x437)](_0x37639b),_0x5de828=await fetchAvatar(_0x37639b),_0xf76d1e=_0x5de828?_0x42db87(0x2ec)+_0x5de828+_0x42db87(0x460):'',_0x5d4547=_0x4ac888[_0x42db87(0x228)]?_0x42db87(0x2b2):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>',_0x4a30e8=[];if(!_0x3a800b){[_0x58df87[_0x42db87(0x33b)],_0x58df87[_0x42db87(0x28a)],_0x58df87[_0x42db87(0x499)],_0x58df87['veXPJ']][_0x42db87(0x437)](role)&&(_0x4a30e8[_0x42db87(0x328)](_0x42db87(0x2a3)+_0x37639b+'\x27,\x201)\x22>Mute\x201m</button>'),_0x4a30e8[_0x42db87(0x328)](_0x42db87(0x2a3)+_0x37639b+_0x42db87(0x2e1)),_0x4a30e8['push'](_0x42db87(0x2a3)+_0x37639b+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x58df87[_0x42db87(0x436)](role,_0x58df87[_0x42db87(0x3aa)]))_0x4a30e8[_0x42db87(0x328)](_0x42db87(0x1ec)+_0x37639b+_0x42db87(0x34e)),_0x4a30e8[_0x42db87(0x328)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x37639b+_0x42db87(0x3ef)),_0x4a30e8['push'](_0x42db87(0x3e0)+_0x37639b+_0x42db87(0x1ba));else _0x58df87[_0x42db87(0x2fa)](role,_0x42db87(0x255))&&(_0x4a30e8[_0x42db87(0x328)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x37639b+_0x42db87(0x34e)),_0x4a30e8[_0x42db87(0x328)](_0x42db87(0x3e0)+_0x37639b+_0x42db87(0x1ba)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf76d1e+'\x20'+_0x5d4547+_0x42db87(0x466)+(_0x4ac888['username']||_0x433e4f)+'\x20'+_0x58df87[_0x42db87(0x471)](getRoleTag,_0x37639b)+_0x42db87(0x1e4)+_0x4a30e8[_0x42db87(0x299)]('\x20')+_0x42db87(0x24d);});document[_0x4c6269(0x341)](_0x58df87['LPDrJ'])[_0x4c6269(0x475)]=(await Promise[_0x4c6269(0x494)](_0x2be214))['join']('');}function updateAnnouncementVisibility(){const _0x3e7fc3=_0x53d4bc,_0x95f7c8={'eKYiN':_0x3e7fc3(0x23f),'pyscQ':function(_0x52df86,_0xae860){return _0x52df86===_0xae860;},'nbwQp':_0x3e7fc3(0x255),'rIMYM':function(_0x495e81,_0x1e902d){return _0x495e81===_0x1e902d;},'GRpMn':_0x3e7fc3(0x21a),'NGPfL':_0x3e7fc3(0x346)},_0x203957=document['getElementById'](_0x95f7c8['eKYiN']);_0x95f7c8[_0x3e7fc3(0x33d)](role,_0x95f7c8[_0x3e7fc3(0x314)])||_0x95f7c8['rIMYM'](role,_0x3e7fc3(0x1eb))?_0x203957[_0x3e7fc3(0x3e7)][_0x3e7fc3(0x2e9)]=_0x95f7c8[_0x3e7fc3(0x20d)]:_0x203957[_0x3e7fc3(0x3e7)]['display']=_0x95f7c8['NGPfL'];}async function fetchAvatar(_0x33a85d){const _0x293a2d=_0x53d4bc;if(userAvatars[_0x33a85d])return userAvatars[_0x33a85d];const _0x54b9b6=await db[_0x293a2d(0x428)](_0x293a2d(0x360)+_0x33a85d)['get']();if(_0x54b9b6[_0x293a2d(0x2b8)]()&&_0x54b9b6[_0x293a2d(0x25d)]()[_0x293a2d(0x302)])return userAvatars[_0x33a85d]=_0x54b9b6['val']()['avatarBase64'],userAvatars[_0x33a85d];return null;}function sendTyping(){const _0x55f8f3=_0x53d4bc,_0x426b4a={'JfkEp':function(_0x14973e,_0x509c76){return _0x14973e(_0x509c76);},'EeTZl':function(_0x319f86,_0x181934,_0x126cf7){return _0x319f86(_0x181934,_0x126cf7);}},_0x150aa9=sanitizeUsername(username),_0x2a7c4f=Date[_0x55f8f3(0x29c)]();db[_0x55f8f3(0x428)](_0x55f8f3(0x2d1)+roomCode+'/'+_0x150aa9)[_0x55f8f3(0x3b3)](_0x2a7c4f);if(typingTimeout)_0x426b4a[_0x55f8f3(0x487)](clearTimeout,typingTimeout);typingTimeout=_0x426b4a[_0x55f8f3(0x3f1)](setTimeout,()=>{const _0x5f53d2=_0x55f8f3;db[_0x5f53d2(0x428)]('typing/'+roomCode+'/'+_0x150aa9)[_0x5f53d2(0x30c)]();},0x1f4);}function listenForTyping(){const _0x56a2dd=_0x53d4bc,_0x27cbf4={'RKVRs':'typing','hduOx':'value'};db[_0x56a2dd(0x428)](_0x56a2dd(0x2d1)+roomCode)['on'](_0x27cbf4[_0x56a2dd(0x1ff)],_0x4b28b2=>{const _0x2b69d3=_0x56a2dd,_0xa1d236=document[_0x2b69d3(0x341)](_0x27cbf4[_0x2b69d3(0x3fc)]);if(!_0x4b28b2['exists']())return _0xa1d236['innerText']='';const _0x720ddc=Date[_0x2b69d3(0x29c)](),_0x2e277a=Object[_0x2b69d3(0x2ae)](_0x4b28b2['val']())[_0x2b69d3(0x321)](([_0xfa8272,_0x32cfee])=>_0xfa8272!==sanitizeUsername(username)&&_0x720ddc-_0x32cfee<0x1388)[_0x2b69d3(0x407)](([_0x19528e])=>_0x19528e);_0xa1d236[_0x2b69d3(0x3f5)]=_0x2e277a[_0x2b69d3(0x438)]?_0x2e277a['join'](',\x20')+_0x2b69d3(0x1dd):'';});}function watchMuteStatus(){const _0x211f82=_0x53d4bc,_0x39132d={'NJEnt':function(_0x362101,_0xdf0bc1){return _0x362101(_0xdf0bc1);},'jBCOw':function(_0x1a6417,_0x5a6cbb){return _0x1a6417===_0x5a6cbb;},'XNdtW':_0x211f82(0x29a),'uodqP':_0x211f82(0x35c),'zUAEv':function(_0xed9d00,_0x5baee3,_0x191799){return _0xed9d00(_0x5baee3,_0x191799);}},_0xf8fd08=db[_0x211f82(0x428)]('muted/'+roomCode+'/'+_0x39132d[_0x211f82(0x42e)](sanitizeUsername,username));let _0x4cff15;_0xf8fd08['on'](_0x211f82(0x43a),_0x4b631a=>{const _0x464d7c=_0x211f82;_0x39132d[_0x464d7c(0x42e)](clearInterval,_0x4cff15);const _0x3daaa1=document[_0x464d7c(0x341)](_0x464d7c(0x305));if(!_0x4b631a[_0x464d7c(0x2b8)]()){_0x3daaa1['disabled']=![],_0x3daaa1['placeholder']=_0x464d7c(0x2ef);return;}const _0x4de696=_0x4b631a[_0x464d7c(0x25d)](),_0x2eacfa=_0x39132d[_0x464d7c(0x2de)](typeof _0x4de696,_0x39132d[_0x464d7c(0x4b7)])&&_0x4de696[_0x464d7c(0x354)]?_0x4de696[_0x464d7c(0x354)]:_0x4de696;_0x2eacfa>Date[_0x464d7c(0x29c)]()?(_0x3daaa1[_0x464d7c(0x4c2)]=!![],_0x3daaa1[_0x464d7c(0x36b)]=_0x39132d[_0x464d7c(0x45c)],_0x4cff15=_0x39132d[_0x464d7c(0x237)](setInterval,()=>{const _0x55096e=_0x464d7c;Date[_0x55096e(0x29c)]()>_0x2eacfa&&_0xf8fd08[_0x55096e(0x30c)]();},0xbb8)):(_0x3daaa1[_0x464d7c(0x4c2)]=![],_0x3daaa1[_0x464d7c(0x36b)]=_0x464d7c(0x2ef),_0xf8fd08[_0x464d7c(0x30c)]());});}function isProtected(_0x2d2a18){return globalDevs['includes'](_0x2d2a18);}function addSystemMessage(_0x4e94c5){const _0x28aee3=_0x53d4bc,_0x459cc1={'ahxyy':_0x28aee3(0x1ae),'szPif':_0x28aee3(0x474),'prSwL':_0x28aee3(0x1a5),'uhVmJ':_0x28aee3(0x1d3),'ghOzJ':_0x28aee3(0x36c)},_0x5ed5eb=document[_0x28aee3(0x3a7)](_0x28aee3(0x3cd));_0x5ed5eb[_0x28aee3(0x3e7)]['textAlign']=_0x459cc1[_0x28aee3(0x2c5)],_0x5ed5eb[_0x28aee3(0x3e7)][_0x28aee3(0x46b)]=_0x459cc1[_0x28aee3(0x35f)],_0x5ed5eb[_0x28aee3(0x3e7)][_0x28aee3(0x2bd)]=_0x459cc1[_0x28aee3(0x4a3)],_0x5ed5eb[_0x28aee3(0x3e7)][_0x28aee3(0x3fb)]=_0x459cc1[_0x28aee3(0x401)],_0x5ed5eb['innerText']=_0x4e94c5,document[_0x28aee3(0x341)](_0x28aee3(0x36c))[_0x28aee3(0x31b)](_0x5ed5eb),document[_0x28aee3(0x341)](_0x459cc1[_0x28aee3(0x303)])['scrollTop']=document['getElementById'](_0x459cc1['ghOzJ'])[_0x28aee3(0x2ab)];}function reactToMessage(_0x13f1b5,_0x4de1c3){const _0x1c306a=_0x53d4bc,_0x5cbe8b={'PeTLF':function(_0x2fe67e,_0x31b1fd){return _0x2fe67e(_0x31b1fd);}},_0x5d6515=_0x5cbe8b['PeTLF'](sanitizeUsername,username),_0xe9b0ad=db['ref'](_0x1c306a(0x2a8)+roomCode+_0x1c306a(0x3b9)+_0x13f1b5+_0x1c306a(0x243));_0xe9b0ad[_0x1c306a(0x200)](_0x1c306a(0x43a))[_0x1c306a(0x201)](_0x35b09c=>{const _0x37e1a6=_0x1c306a,_0x2e1fd5=_0x35b09c['val']()||{},_0x1b59f3={};for(const [_0x197069,_0x593aef]of Object['entries'](_0x2e1fd5)){_0x1b59f3[_0x197069]=(_0x593aef||[])[_0x37e1a6(0x321)](_0x2292ef=>_0x2292ef!==_0x5d6515);}if(!_0x2e1fd5[_0x4de1c3]||!_0x2e1fd5[_0x4de1c3][_0x37e1a6(0x437)](_0x5d6515)){if(!_0x1b59f3[_0x4de1c3])_0x1b59f3[_0x4de1c3]=[];_0x1b59f3[_0x4de1c3]['push'](_0x5d6515);}_0xe9b0ad['set'](_0x1b59f3);});}function startSidebarSyncLoop(){const _0x5bc489={'Dzucj':function(_0x235ae0,_0x5ab66c){return _0x235ae0(_0x5ab66c);}};setInterval(async()=>{const _0x4b7abd=_0x18aa;if(!roomCode)return;const _0x3b6b01=await db[_0x4b7abd(0x428)]('users/'+roomCode)[_0x4b7abd(0x4a1)]();if(_0x3b6b01[_0x4b7abd(0x2b8)]()){const _0x14d2df=_0x3b6b01[_0x4b7abd(0x25d)]();_0x5bc489[_0x4b7abd(0x1ac)](renderUserLists,_0x14d2df);}},0x1388);}function gotoRoomMenu(){const _0x4bcd9e=_0x53d4bc,_0x10c388={'RerWg':'namePreview','CgEIg':function(_0x44a081,_0x418ba9){return _0x44a081(_0x418ba9);},'yuGKH':_0x4bcd9e(0x34f)};document[_0x4bcd9e(0x341)](_0x10c388[_0x4bcd9e(0x3d3)])[_0x4bcd9e(0x3f5)]=username,_0x10c388[_0x4bcd9e(0x306)](showScreen,_0x10c388[_0x4bcd9e(0x3b2)]);}function redirectTo2048(){const _0xa85f94=_0x53d4bc,_0x5eff2c={'poozG':_0xa85f94(0x265),'cvhft':'2048_user','HEWJd':function(_0xae4ba,_0x3cc562){return _0xae4ba||_0x3cc562;},'YWuxD':function(_0x38939c,_0x173ba2){return _0x38939c(_0x173ba2);},'zEyBb':_0xa85f94(0x2bb)},_0x1c1d9e=localStorage[_0xa85f94(0x2d0)](_0x5eff2c[_0xa85f94(0x2c0)]),_0x3a3194=localStorage[_0xa85f94(0x2d0)](_0x5eff2c[_0xa85f94(0x3a4)]);if(_0x5eff2c[_0xa85f94(0x27f)](!_0x3a3194,!_0x1c1d9e)){_0x5eff2c[_0xa85f94(0x3fa)](alert,_0x5eff2c[_0xa85f94(0x2fc)]);return;}window['location'][_0xa85f94(0x374)]='https://2048.webuserent.org?token='+_0x5eff2c['YWuxD'](encodeURIComponent,_0x1c1d9e);}function goBackSafe(){const _0x3bab8c=_0x53d4bc,_0x289338={'NSVQG':function(_0x4ec3be,_0xfe7291){return _0x4ec3be>_0xfe7291;},'iWWas':'authScreen','jCwiE':function(_0x37906b,_0x21cc90){return _0x37906b(_0x21cc90);}};while(_0x289338[_0x3bab8c(0x1fd)](screenHistory[_0x3bab8c(0x438)],0x0)){const _0x1335aa=screenHistory['pop']();if(_0x1335aa!==_0x289338[_0x3bab8c(0x49d)]){_0x289338['jCwiE'](showScreen,_0x1335aa);return;}}}