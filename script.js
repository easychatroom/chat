const _0x2bf026=_0x27ff;(function(_0x983be6,_0xb0db21){const _0x300361=_0x27ff,_0x1b9602=_0x983be6();while(!![]){try{const _0x427464=parseInt(_0x300361(0x2f2))/0x1+-parseInt(_0x300361(0x2e6))/0x2+-parseInt(_0x300361(0x208))/0x3+parseInt(_0x300361(0x237))/0x4+-parseInt(_0x300361(0x357))/0x5+parseInt(_0x300361(0x2ba))/0x6+-parseInt(_0x300361(0xd6))/0x7*(-parseInt(_0x300361(0x255))/0x8);if(_0x427464===_0xb0db21)break;else _0x1b9602['push'](_0x1b9602['shift']());}catch(_0x3cb8cc){_0x1b9602['push'](_0x1b9602['shift']());}}}(_0x4358,0xf2c62));const firebaseConfig={'apiKey':_0x2bf026(0x10b),'authDomain':_0x2bf026(0x14f),'databaseURL':_0x2bf026(0x152),'projectId':_0x2bf026(0xf5),'storageBucket':_0x2bf026(0x2f7),'messagingSenderId':_0x2bf026(0x30c),'appId':_0x2bf026(0x2f3),'measurementId':_0x2bf026(0x185)};firebase[_0x2bf026(0x345)](firebaseConfig);const messaging=firebase[_0x2bf026(0x106)](),db=firebase[_0x2bf026(0x230)]();let deviceId=null;((async()=>{const _0x300b7c=_0x2bf026,_0x3df980={'ljNhj':function(_0x342e17){return _0x342e17();}};deviceId=await _0x3df980[_0x300b7c(0x1ab)](generateDeviceId);})());const swearWords=[_0x2bf026(0x101),'shit',_0x2bf026(0x12d),_0x2bf026(0x25e),_0x2bf026(0x124),_0x2bf026(0xda),_0x2bf026(0x2e2),_0x2bf026(0x2d6),_0x2bf026(0x2b6),_0x2bf026(0x21b),'co√±o',_0x2bf026(0x25c),'gilipollas','porra',_0x2bf026(0x304),_0x2bf026(0x1d1),_0x2bf026(0x2d6),'fdp','otario',_0x2bf026(0x1c6),_0x2bf026(0x235),_0x2bf026(0xea),_0x2bf026(0x1d5),_0x2bf026(0xbe),_0x2bf026(0x1d7),_0x2bf026(0x358)],style=document[_0x2bf026(0x130)](_0x2bf026(0x108));style['innerHTML']='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document['head']['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x2bf026(0x1b2)]()[_0x2bf026(0xe3)](0x24)[_0x2bf026(0x2a0)](0x2,0x9),lastActivity=Date[_0x2bf026(0xc7)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x2bf026(0x2b4),MAX_MESSAGES=0xfa,sound=new Audio(_0x2bf026(0x29c));sound[_0x2bf026(0x33c)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x4d6b07=_0x2bf026,_0x19afc6={'rAXuL':function(_0x1c5c7c,_0x3fd54d){return _0x1c5c7c+_0x3fd54d;},'vCCwN':function(_0x4fcb6a,_0x3c64d9){return _0x4fcb6a(_0x3c64d9);},'cThrg':function(_0x46323b,_0x121ec0){return _0x46323b+_0x121ec0;}},_0x325007=_0x19afc6[_0x4d6b07(0x333)](navigator['userAgent'],screen[_0x4d6b07(0xff)])+screen['height'],_0x54d285=await _0x19afc6[_0x4d6b07(0x18f)](sha256,_0x325007);return _0x19afc6[_0x4d6b07(0x1d8)]('_',_0x54d285[_0x4d6b07(0x2a0)](0x0,0x14));}function sha256(_0x465acf){const _0x2e9452=_0x2bf026,_0x530976={'UJwyn':_0x2e9452(0x216)},_0x4ea066=new TextEncoder()[_0x2e9452(0x25a)](_0x465acf);return crypto[_0x2e9452(0x11a)]['digest'](_0x530976[_0x2e9452(0x164)],_0x4ea066)[_0x2e9452(0xf1)](_0x4f00e4=>{const _0x2d0462=_0x2e9452;return Array[_0x2d0462(0x144)](new Uint8Array(_0x4f00e4))[_0x2d0462(0x247)](_0x12b1b6=>_0x12b1b6[_0x2d0462(0xe3)](0x10)[_0x2d0462(0x1de)](0x2,'0'))[_0x2d0462(0x213)]('');});}function _0x4358(){const _0xd9f33f=['audioBase64','YaIES','crPon','qVqRr','Sdybs','<br>','value','BlOFv','IliiF','notifications_enabled','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','yGgge','disabled','xNAxX','Messages\x20by\x20','WzLaF','4460049XVOrNe','position','zIndex','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','ummQa','announcementArea','chatScreen','MpNtp','sjLKS','bzbhw','center','join','getItem','received','SHA-256','hqwfp','lwixl','mlBEH','YCBHM','pendejo','üí¨\x20','‚óè\x20Online','GEfGT','WRqzw','djMDp','eargD','uwGkh','YVFNs','6px','concat','input','length','IUuVL','AjHWK','normal','\x0aDescription:\x20','split','ficHu','cbJlI','SaFrp','database','scrollTop','UdBdF','üö´\x20Cannot\x20promote\x20Developers.','\x20minutes.','gago','oFfnS','3937960OtPCzC','zpRzS','users/','BTdSQ','block','6px\x20auto','authPasswordConfirm','children','stopPropagation','toUpperCase','RSmsu','SvWhi','color','tJLMA','deleteMessage','mute','map','msgInput','DWYCs','FNwoN','qGRvX','moderators/','wDQzN','DVtOg','uhIAH','</li>','\x0a\x20\x20\x20\x20','<audio\x20controls\x20src=\x22','dataset','Tbbth','8yyPiNt','#222','YFpHM','limitToLast','DcNmz','encode','HdeAm','cabron','mnKUW','asshole','ASDWR','roomStates/','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.','notifToggleBtn','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','kWLPn','JKVEL','antispamBlocked/','eyhEC','\x0aLast\x20Changed:\x20','show','CQZfB','FldXV','pFYfT','IBkbd','bIulu','aKKtC','Enter\x20your\x20new\x20username:','jyIXn','No\x20changes\x20yet','textAlign','wXmdr','UlnGz','ySckX','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','BlikY','description','display','MHGoF','Profile\x20not\x20found.','addAnnouncementBtn','rOhGR','cegXs','gHUXR','marginTop','profileViewer','2|0|7|3|1|6|4|5','match','\x20was\x20promoted\x20to\x20Admin','scrollHeight','system','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','üîï\x20Disable\x20Notifications','Enter','gr8stg/','sidebarOpen','authError','mouseleave','pausedOverlay','-45px','authTitle','UmisH','IciQc','role','oldPasswordInput','fiMfU','toLowerCase','jUuoV','YrnEH','qLGzo','yOESE','sounds/beep.mp3','0.8rem','contains','title','substr','messages','moderator','data','authAvatar','visibilitychange','xTaWk','/announcement','rYGTc','DmZSv','ULZou','MbAni','text','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>',')\x20New\x20message\x20‚Ä¢\x20','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','bYYbo','Please\x20fill\x20in\x20all\x20fields.','#aaa','fWHWh','050BBB66HH','onDisconnect','mierda','\x20promoted\x20to\x20Admin!','VwnsR','setItem','11142426oDolbp','userSidebar','juJlE','vcMqQ','120px','whiteSpace','EZMQI','OUbsU','relative','profileError','cyksf','kzWqG','permission','passwordScreen','gNiRH','hGqHW','DOMContentLoaded','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','CfiVB','\x27,\x2010)\x22>Mute\x2010m</button>','key','recordBtn','popstate','PlQdM','LIGgD','reaction-tray','lknlT','vUMpa','puta','tgFtl','ZMMbr','eDtND','Remove\x20Announcement?','XckjK','OKugY','sort','\x27,\x205)\x22>Mute\x205m</button>','GHrEC','4|1|0|3|2','val','cunt','roomDisplay','MSahh','editProfileScreen','1407158CFCOfg','classList','Room\x20is\x20currently\x20paused.','editBioInput','VKvpC','\x20muted\x20for\x20','mRdiE','FvlAy','ServerValue','tjILQ','Remove\x20this\x20announcement?','bYjif','595878RQMBit','1:985049198428:web:d0eb7e2de39887710c9b99','vWDJs','\x20is\x20typing...','\x20minutes','easy-chatroom.firebasestorage.app','lFVhA','data:audio/webm;base64,','Enter\x20Announcement\x20Text:','EEcVs','fgkkB','ebTai','rnXMq','once','0\x202px\x206px\x20rgba(0,0,0,0.5)','dtdVL','size','dqNCs','caralho','mNvwQ','forEach','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','qGxDN','keys','fneza','985049198428','0123456789','msg','Jtxep','DOZuE','user','Session\x20expired.','all','UjpUE','cVkgF','[data-msg-id=\x22','catch','No\x20bio\x20set','dCHxI','innerHTML','JAvTv','replace','QJrum','padding','qHrLf','OLrSH','mediaDevices','border','Bcprm','hidden','[Voice\x20message]','NXaIh','vsDDU','hvIiZ','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','authSubmitBtn','flex','Incorrect\x20password.','RdHoo','TkEMX','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','pRtlh','IxWiC','LhmQq','rAXuL','PVrPY','muteUntil','auth','WEuQq','absolute','ocPhE','BogQB','AHCNX','volume','qcbXP','</span>','kfvlZ','borderRadius','QknpM','ysQlK','mouseenter','profileDescriptionInput','initializeApp','rPCzK','className','ZlpMe','Passwords\x20do\x20not\x20match.','auth/','<a\x20href=\x22','#00ff88','Failed\x20to\x20register\x20user\x20into\x20room.','TIMESTAMP','msgId','New\x20Chat\x20Message','authPassword','PeEHg','kQXJv','WvqAr','MxQwS','authDescription','7556730lETtFV','putang\x20ina','afVBf','textContent','DoEGW','Username\x20already\x20exists.','entries','aXYCv','background','appendChild','RQziN','admins/','\x20is\x20online','JCHPu','namePreview','[Voice\x20Message]','ondataavailable','OTcIW','Incorrect\x20password','tIfMm','Missing\x20room\x20or\x20user\x20information.','<img\x20src=\x22','child_removed','yvVmW','rzAsk','juPaT','zmAne','lMUxA','\x27)\x22>Delete\x20Messages</button>','vumDo','CzXDd','No\x20room\x20code\x20available\x20for\x20private\x20rooms','UOEgP','object','\x27)\x22>Promote\x20to\x20Admin</button>','HHZLu','wtJGk','remove','MoLTO','</button>','AJZZe','/reactions','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','\x20in\x20room\x20','innerText','tijeP','QoKHn','push','<button\x20onclick=\x22muteUser(\x27','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','WKKNi','Issfo','aGzoq','Failed\x20to\x20save\x20profile:','result','Unknown','jiKaK','ref','\x20was\x20muted\x20for\x20','orderByChild','div','sWxAm','<button\x20onclick=\x22deleteUserMessages(\x27','usernameScreen','bobo','gfjTt','<button>','rgNZM','avatar_base64','staticPasswordInput','username','FErEL','xbPsz','now','querySelector','murGv','useVH','PDQJZ','update','pointer','userOptions-','boxShadow','You\x20got\x20a\x20message\x20from\x20','20px','ylJLn','qxduI','RvEMX','timestamp','8809997ktqZVO','\x20demoted\x20to\x20user.','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','userList','dick','jcSrA','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','sent','nAsce','Error\x20checking\x20username:','tWJRk','Type\x20a\x20message...','avatarBase64','toString','profile_description','get','NeBZh','cCfMZ','ImvCF','sidebarAvatarPreview','tangina','LTkkB','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','rUJbb','margin','üïí\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','GijsA','then','<button\x20onclick=\x22promoteToAdmin(\x27','oluGy','ueJbJ','easy-chatroom','\x27,\x201)\x22>Mute\x201m</button>','reload','nsdIc','roomCodeInput','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','ZUJDe','Kmwqr','MUwZj','top','width','QEUrC','fuck','DQpiw','BWaWY','NgnxJ','child_changed','messaging','JnODZ','style','filter','vmWzq','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','PdcZV','typing','data:image/png;base64,','files','online','vBiPI','getElementById','getUserMedia','floor','IAGAA','UYSuU','toLocaleString','detail','active','subtle','Microphone\x20permission\x20denied.','oFFGc','antispam','emzwX','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','readAsDataURL','DwfUd','CGMXn','muted/','bastard','Account\x20not\x20found.','tOloZ','YMVIg','typing/','trim','CQPnw','PpOMh','BhBsb','bitch','TuyPg','<span\x20style=\x22margin-right:6px;\x22>','createElement','aCpze','iGRTs','OaIPn','some','play','onloadend','exists','NubZO','wZNKe','bWRiC','xWzOE','gridTemplateColumns','MfQPF','add','oMnvK','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','tYdOk','DkStw','16px','from','back','wVRWz','XkLUc','GoGUy','</a>','HPrmy','src','xbDxA','\x20went\x20offline','rKRzy','easy-chatroom.firebaseapp.com','dev','32px','https://easy-chatroom-default-rtdb.firebaseio.com','adminControlsSection','LtjbK','EdhDw','audioUrl','\x20deleted.','MoRlN','onlineStatus','mOXyt','xWYjF','Incorrect\x20current\x20password.','sIKZN','pQpnJ','OikOn','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','cursor','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','PYkSb','UJwyn','OoYZY','JCGww','fRCyJ','/messages/','usernameHistory','fKgub','ZAyea','admin','nMuLz','chat_username','/messages','\x20was\x20promoted\x20to\x20Moderator','iwawe','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','xGKaN','uyGkt','roomChoiceScreen','tYniz','antispam/','RNKEO','click','<button\x20onclick=\x22promoteToModerator(\x27','mvuqO','\x20was\x20demoted','cqdhG','aFKTO','<span\x20class=\x22sender-name\x22>','onclick','eCrZg','Admins\x20only.','kMLtA','LGYFv','G-QDESJ2WR42','addEventListener','NFnYK','\x27)\x22>Demote</button>','kuLIg','cOHwJ','preventDefault','profiles/','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','fHKHf','vCCwN','tVQNd','10px','LySXO','set','[Image]','XqBcL','üîî\x20Enable\x20Notifications','error','DqLyh','CKXoK','zAXqm','DKvOa','pushState','rOuhV','SZgUe','reaction-box','yxrOX','flagPageAttention','fontSize','IRbWa','JcvkZ','hdLnt','lastChanged','</span>\x20','sender','</div>','NmZMn','ljNhj','profileScreen','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','cdSJS','mriVM','Ydrzd','created','random','HiGSI','WMKfI','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','IjuHJ','ZuMuu','fZNSo','nnshh','BJwqK','PURFR','none','thtJt','onstop','dKBEO','FhAeg','passwordHash','/paused','jwrcd','\x27)\x22>','\x27)\x22>Promote\x20to\x20Moderator</button>','putangina','ElckM','fcbPc','rzTkJ','oynYb','UjIaq','aSDdi','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','jFiwn','‚ùå\x20Username\x20already\x20taken.','NiAuI','merda','iOHgG','true','\x20üîß\x20','ulol','touchend','bwisit','cThrg','uBOsX','inline-block','includes','rooms/','ePLxH','padStart','quldW','justifyContent','HsFIt','sthXj','<li>','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','HbyxF','nBYGx','AWVtV','160px','false','sZQPT','nHgfM','sWyZE','KzIqW','<img\x20src=\x22data:image/png;base64,','authUsername','5|1|3|0|2|4','placeholder','PfKgQ','authAvatarPreview','BeXGr','stop','18px','authScreen'];_0x4358=function(){return _0xd9f33f;};return _0x4358();}function toggleNotifications(){const _0x5132cb=_0x2bf026,_0x2fe33f={'wDQzN':function(_0x5d6679,_0x5f4845){return _0x5d6679===_0x5f4845;},'LtjbK':'granted','IUuVL':_0x5132cb(0x201),'fcbPc':'true','fAqCb':_0x5132cb(0x262),'nAsce':function(_0x1645ac,_0x2e7d51){return _0x1645ac!==_0x2e7d51;},'rzAsk':_0x5132cb(0x1e9),'ZUJDe':_0x5132cb(0x289)};_0x2fe33f[_0x5132cb(0xde)](Notification['permission'],_0x2fe33f[_0x5132cb(0x154)])?Notification['requestPermission']()[_0x5132cb(0xf1)](_0x4fb8e3=>{const _0x38c571=_0x5132cb;_0x2fe33f[_0x38c571(0x24d)](_0x4fb8e3,_0x2fe33f[_0x38c571(0x154)])&&(notificationsEnabled=!![],localStorage['setItem'](_0x2fe33f[_0x38c571(0x228)],_0x2fe33f['fcbPc']),document[_0x38c571(0x112)](_0x2fe33f['fAqCb'])[_0x38c571(0xaa)]='üîï\x20Disable\x20Notifications');}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x5132cb(0x2b9)](_0x2fe33f[_0x5132cb(0x228)],notificationsEnabled?_0x2fe33f[_0x5132cb(0x1c8)]:_0x2fe33f[_0x5132cb(0x36f)]),document[_0x5132cb(0x112)](_0x5132cb(0x262))['innerText']=notificationsEnabled?_0x2fe33f[_0x5132cb(0xfb)]:_0x5132cb(0x196));}function toggleAuthMode(){const _0x35888e=_0x2bf026,_0x3028bc={'bzbhw':_0x35888e(0x291),'ummQa':'Register','lwixl':'Login','fVxcC':_0x35888e(0x2a4),'oMnvK':_0x35888e(0x23b),'BWaWY':_0x35888e(0x1bc),'nHgfM':_0x35888e(0x356),'QoKHn':_0x35888e(0x32a),'DOZuE':_0x35888e(0x28d),'vmWzq':_0x35888e(0x1f3)},_0x25b115=_0x35888e(0x283)[_0x35888e(0x22c)]('|');let _0xb752a0=0x0;while(!![]){switch(_0x25b115[_0xb752a0++]){case'0':document[_0x35888e(0x112)](_0x3028bc[_0x35888e(0x211)])[_0x35888e(0xaa)]=isRegisterMode?_0x3028bc[_0x35888e(0x20c)]:_0x3028bc[_0x35888e(0x218)];continue;case'1':document[_0x35888e(0x112)](_0x3028bc['fVxcC'])[_0x35888e(0x108)]['display']=isRegisterMode?_0x3028bc[_0x35888e(0x13f)]:_0x3028bc[_0x35888e(0x103)];continue;case'2':isRegisterMode=!isRegisterMode;continue;case'3':document[_0x35888e(0x112)](_0x3028bc[_0x35888e(0x1eb)])['style'][_0x35888e(0x27a)]=isRegisterMode?_0x3028bc[_0x35888e(0x13f)]:_0x3028bc[_0x35888e(0x103)];continue;case'4':document[_0x35888e(0x112)](_0x3028bc[_0x35888e(0xac)])[_0x35888e(0xaa)]=isRegisterMode?_0x3028bc['ummQa']:_0x3028bc[_0x35888e(0x218)];continue;case'5':document['getElementById'](_0x3028bc[_0x35888e(0x310)])['style']['display']=_0x3028bc[_0x35888e(0x103)];continue;case'6':document[_0x35888e(0x112)](_0x3028bc[_0x35888e(0x10a)])['style']['display']=_0x3028bc['BWaWY'];continue;case'7':document['getElementById'](_0x35888e(0x23d))['style']['display']=isRegisterMode?'block':_0x3028bc[_0x35888e(0x103)];continue;}break;}}function previewAvatar(){const _0x3ca4f3=_0x2bf026,_0x181310={'xQRef':_0x3ca4f3(0x1f3),'rnXMq':_0x3ca4f3(0x23b),'cVkgF':'authAvatar'},_0x126d96=document[_0x3ca4f3(0x112)](_0x181310[_0x3ca4f3(0x315)]);if(!_0x126d96['files'][_0x3ca4f3(0x227)])return;const _0x123ab5=new FileReader();_0x123ab5['onloadend']=()=>{const _0x2b9da7=_0x3ca4f3;document[_0x2b9da7(0x112)](_0x181310['xQRef'])[_0x2b9da7(0x14b)]=_0x123ab5[_0x2b9da7(0xb4)],document[_0x2b9da7(0x112)](_0x2b9da7(0x1f3))['style'][_0x2b9da7(0x27a)]=_0x181310[_0x2b9da7(0x2fe)];},_0x123ab5[_0x3ca4f3(0x120)](_0x126d96[_0x3ca4f3(0x10f)][0x0]);}async function submitAuth(){const _0x20e94c=_0x2bf026,_0x3295ed={'uyGkt':function(_0x31169e,_0x2a89f2){return _0x31169e||_0x2a89f2;},'jUuoV':_0x20e94c(0x311),'vBiPI':function(_0x26e670){return _0x26e670();},'wXmdr':_0x20e94c(0x1ef),'eyhEC':_0x20e94c(0x351),'HmRwJ':_0x20e94c(0x356),'OOZfe':_0x20e94c(0x2a4),'GHrEC':'none','BlOFv':function(_0x18bd9a,_0x1e5e2e){return _0x18bd9a||_0x1e5e2e;},'VwnsR':_0x20e94c(0x2b1),'ImvCF':_0x20e94c(0x23b),'MbAni':function(_0x31b6e5,_0x2eb117){return _0x31b6e5(_0x2eb117);},'DqLyh':_0x20e94c(0x35c),'FNwoN':function(_0x3b7155,_0x5a9896){return _0x3b7155!==_0x5a9896;},'xbPsz':'2|0|3|1|5|4','ebTai':function(_0x3db042,_0x191a67){return _0x3db042||_0x191a67;},'eDtND':_0x20e94c(0x125),'TFcHS':function(_0x51eb46,_0xf07fc){return _0x51eb46(_0xf07fc);},'RSmsu':_0x20e94c(0x32c),'WEuQq':function(_0x45dd57){return _0x45dd57();}},_0x353793=document[_0x20e94c(0x112)](_0x3295ed[_0x20e94c(0x274)])[_0x20e94c(0x1fe)][_0x20e94c(0x129)](),_0x27645e=document[_0x20e94c(0x112)](_0x3295ed[_0x20e94c(0x267)])[_0x20e94c(0x1fe)][_0x20e94c(0x129)](),_0x5b074e=document[_0x20e94c(0x112)](_0x20e94c(0x23d))[_0x20e94c(0x1fe)][_0x20e94c(0x129)](),_0x1d67ea=document[_0x20e94c(0x112)](_0x3295ed['HmRwJ'])['value'][_0x20e94c(0x129)](),_0xd3e8cf=document['getElementById'](_0x3295ed['OOZfe']),_0x2f27b5=document['getElementById'](_0x20e94c(0x28d));_0x2f27b5[_0x20e94c(0x108)]['display']=_0x3295ed[_0x20e94c(0x2df)];if(_0x3295ed[_0x20e94c(0x1ff)](!_0x353793,!_0x27645e)){_0x2f27b5[_0x20e94c(0xaa)]=_0x3295ed[_0x20e94c(0x2b8)],_0x2f27b5[_0x20e94c(0x108)][_0x20e94c(0x27a)]=_0x3295ed['ImvCF'];return;}const _0x18821f=_0x3295ed[_0x20e94c(0x2ab)](sanitizeUsername,_0x353793),_0x2be230=db[_0x20e94c(0xb7)](_0x20e94c(0x34a)+_0x18821f),_0x26664b=await _0x2be230[_0x20e94c(0xe5)]();if(isRegisterMode){if(_0x26664b[_0x20e94c(0x137)]()){_0x2f27b5['innerText']=_0x3295ed[_0x20e94c(0x198)],_0x2f27b5[_0x20e94c(0x108)][_0x20e94c(0x27a)]='block';return;}if(_0x3295ed[_0x20e94c(0x24a)](_0x27645e,_0x5b074e)){_0x2f27b5['innerText']=_0x20e94c(0x349),_0x2f27b5[_0x20e94c(0x108)][_0x20e94c(0x27a)]=_0x3295ed[_0x20e94c(0xe8)];return;}const _0x2d39a1=await _0x3295ed['MbAni'](sha256,_0x27645e),_0x4723d8=await _0x3295ed[_0x20e94c(0x111)](generateDeviceId);if(_0xd3e8cf[_0x20e94c(0x10f)][_0x20e94c(0x227)]){const _0x22025f=_0xd3e8cf[_0x20e94c(0x10f)][0x0],_0x32acfe=new FileReader();_0x32acfe[_0x20e94c(0x136)]=async()=>{const _0x38d748=_0x20e94c,_0x1e2435=_0x32acfe[_0x38d748(0xb4)][_0x38d748(0x22c)](',')[0x1];await _0x2be230['set']({'username':_0x353793,'passwordHash':_0x2d39a1,'description':_0x3295ed[_0x38d748(0x174)](_0x1d67ea,''),'avatarBase64':_0x1e2435,'role':_0x38d748(0x311),'deviceId':_0x4723d8,'usernameHistory':[_0x353793],'lastChanged':Date[_0x38d748(0xc7)]()}),username=_0x353793,userDescription=_0x1d67ea,avatarBase64=_0x1e2435,role=_0x3295ed[_0x38d748(0x298)],_0x3295ed[_0x38d748(0x111)](startAfterAuth);},_0x32acfe['readAsDataURL'](_0x22025f);}else{const _0x13ab8a=_0x3295ed[_0x20e94c(0xc6)][_0x20e94c(0x22c)]('|');let _0x224aa4=0x0;while(!![]){switch(_0x13ab8a[_0x224aa4++]){case'0':username=_0x353793;continue;case'1':avatarBase64='';continue;case'2':await _0x2be230[_0x20e94c(0x193)]({'username':_0x353793,'passwordHash':_0x2d39a1,'description':_0x3295ed[_0x20e94c(0x2fd)](_0x1d67ea,''),'avatarBase64':'','role':_0x20e94c(0x311),'deviceId':_0x4723d8,'usernameHistory':[_0x353793],'lastChanged':Date[_0x20e94c(0xc7)]()});continue;case'3':userDescription=_0x1d67ea;continue;case'4':startAfterAuth();continue;case'5':role=_0x3295ed[_0x20e94c(0x298)];continue;}break;}}}else{if(!_0x26664b[_0x20e94c(0x137)]()){_0x2f27b5['innerText']=_0x3295ed[_0x20e94c(0x2d9)],_0x2f27b5[_0x20e94c(0x108)]['display']=_0x3295ed[_0x20e94c(0xe8)];return;}const _0x2ec314=_0x26664b[_0x20e94c(0x2e1)](),_0x5f2fee=await _0x3295ed['TFcHS'](sha256,_0x27645e);if(_0x3295ed['FNwoN'](_0x5f2fee,_0x2ec314[_0x20e94c(0x1c1)])){_0x2f27b5[_0x20e94c(0xaa)]=_0x3295ed[_0x20e94c(0x241)],_0x2f27b5[_0x20e94c(0x108)][_0x20e94c(0x27a)]=_0x20e94c(0x23b);return;}username=_0x353793;if(_0x2ec314[_0x20e94c(0x279)])userDescription=_0x2ec314[_0x20e94c(0x279)];if(_0x2ec314[_0x20e94c(0xe2)])avatarBase64=_0x2ec314[_0x20e94c(0xe2)];if(_0x2ec314[_0x20e94c(0x294)])role=_0x2ec314[_0x20e94c(0x294)];else role=_0x3295ed[_0x20e94c(0x298)];_0x3295ed[_0x20e94c(0x337)](startAfterAuth);}}async function saveNewUser(_0x284307,_0x45853d,_0x45e6b3,_0x26296f,_0x34a98b){const _0x1cb7ea=_0x2bf026,_0x57e99b={'iWBig':function(_0x233b70,_0x4063fb){return _0x233b70(_0x4063fb);},'wZlJl':function(_0x5c0b23,_0xf8bf7f){return _0x5c0b23||_0xf8bf7f;}},_0x54e333=db[_0x1cb7ea(0xb7)](_0x1cb7ea(0x34a)+_0x57e99b['iWBig'](sanitizeUsername,_0x284307)),_0x53954b={'username':_0x284307,'passwordHash':_0x45853d,'role':_0x1cb7ea(0x311),'deviceId':_0x45e6b3,'description':_0x57e99b['wZlJl'](_0x34a98b,''),'avatarBase64':_0x26296f||'','usernameHistory':[_0x284307],'lastChanged':Date[_0x1cb7ea(0xc7)]()};await _0x54e333[_0x1cb7ea(0x193)](_0x53954b),username=_0x284307,_0x26296f=_0x53954b[_0x1cb7ea(0xe2)],userDescription=_0x53954b[_0x1cb7ea(0x279)],startAfterAuth();}async function startAfterAuth(){const _0x6bc47a=_0x2bf026,_0x31d31e={'kQXJv':function(_0x39a58b,_0x2b6239){return _0x39a58b(_0x2b6239);},'SIoCZ':_0x6bc47a(0x311),'rKRzy':_0x6bc47a(0xe9),'ZMMbr':_0x6bc47a(0x10e),'hqwfp':_0x6bc47a(0x23b),'KrlHe':_0x6bc47a(0x140),'VADlY':function(_0x43079b){return _0x43079b();},'fXxpn':_0x6bc47a(0x175)},_0x1e5e8d=_0x31d31e[_0x6bc47a(0x353)](sanitizeUsername,username),_0x59cac2=db[_0x6bc47a(0xb7)]('auth/'+_0x1e5e8d),_0x76b534=await _0x59cac2[_0x6bc47a(0xe5)]();if(_0x76b534[_0x6bc47a(0x137)]()){const _0x5605b4=_0x76b534[_0x6bc47a(0x2e1)]();username=_0x5605b4[_0x6bc47a(0xc4)],userDescription=_0x5605b4[_0x6bc47a(0x279)]||'',avatarBase64=_0x5605b4[_0x6bc47a(0xe2)]||'',role=_0x5605b4[_0x6bc47a(0x294)]||_0x31d31e['SIoCZ'];if(avatarBase64){const _0x4bca8e=document[_0x6bc47a(0x112)](_0x31d31e[_0x6bc47a(0x14e)]);_0x4bca8e[_0x6bc47a(0x14b)]=_0x31d31e[_0x6bc47a(0x2d8)]+avatarBase64,_0x4bca8e[_0x6bc47a(0x108)][_0x6bc47a(0x27a)]=_0x31d31e[_0x6bc47a(0x217)];}}else console['warn'](_0x31d31e['KrlHe']);await _0x31d31e['VADlY'](loadRoomRoles),document[_0x6bc47a(0x112)](_0x6bc47a(0x365))[_0x6bc47a(0xaa)]=username,showScreen(_0x31d31e['fXxpn']);}function toggleRecording(){const _0x9b255d=_0x2bf026,_0x4576d9={'tJLMA':function(_0x6807bd,_0x26830b){return _0x6807bd(_0x26830b);},'afVBf':_0x9b255d(0x2cf),'IxWiC':function(_0x14768e,_0x43e772){return _0x14768e(_0x43e772);},'rOuhV':_0x9b255d(0x11b),'dCHxI':function(_0x2e1352){return _0x2e1352();}};isRecording?_0x4576d9[_0x9b255d(0x319)](stopRecording):navigator[_0x9b255d(0x321)][_0x9b255d(0x113)]({'audio':!![]})['then'](_0x314e1b=>{const _0x4db695=_0x9b255d,_0x1bab57={'sWyZE':function(_0x483967,_0x47fe6e){const _0x190545=_0x27ff;return _0x4576d9[_0x190545(0x244)](_0x483967,_0x47fe6e);},'xbDxA':'audio/webm'};mediaRecorder=new MediaRecorder(_0x314e1b),mediaRecorder['start'](),isRecording=!![],document[_0x4db695(0x112)](_0x4576d9[_0x4db695(0x359)])['innerText']='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x4db695(0x367)]=_0xfa657b=>audioChunks[_0x4db695(0xad)](_0xfa657b[_0x4db695(0x2a3)]),mediaRecorder[_0x4db695(0x1be)]=()=>{const _0x142333=_0x4db695;_0x1bab57[_0x142333(0x1ec)](clearTimeout,recordingTimer);const _0x2483a1=new Blob(audioChunks,{'type':_0x1bab57[_0x142333(0x14c)]}),_0x29b157=new FileReader();_0x29b157[_0x142333(0x136)]=()=>{const _0x9ea900=_0x142333,_0x8b21bd=_0x29b157[_0x9ea900(0xb4)][_0x9ea900(0x22c)](',')[0x1],_0x27b151=db[_0x9ea900(0xb7)]()[_0x9ea900(0xad)]()[_0x9ea900(0x2ce)];db[_0x9ea900(0xb7)](_0x9ea900(0x1dc)+roomCode+_0x9ea900(0x168)+_0x27b151)[_0x9ea900(0x193)]({'msg':_0x9ea900(0x325),'audioBase64':_0x8b21bd,'sender':username,'senderId':clientId,'timestamp':Date[_0x9ea900(0xc7)]()});},_0x29b157[_0x142333(0x120)](_0x2483a1);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})[_0x9b255d(0x317)](_0xbcfa06=>{const _0x50bad3=_0x9b255d;_0x4576d9[_0x50bad3(0x331)](alert,_0x4576d9[_0x50bad3(0x19d)]);});}function stopRecording(){const _0x5866f7=_0x2bf026,_0x4356ce={'MUwZj':function(_0x25a6bb,_0x4b22c2){return _0x25a6bb&&_0x4b22c2;},'IciQc':_0x5866f7(0x2cf)};_0x4356ce[_0x5866f7(0xfd)](mediaRecorder,isRecording)&&(mediaRecorder[_0x5866f7(0x1f5)](),isRecording=![],document[_0x5866f7(0x112)](_0x4356ce[_0x5866f7(0x293)])[_0x5866f7(0xaa)]='üéôÔ∏è');}window['onload']=async()=>{const _0x35575c=_0x2bf026,_0x30b30b={'lJejO':function(_0xafaf25){return _0xafaf25();},'PdcZV':function(_0x11cd38){return _0x11cd38();},'Bcprm':_0x35575c(0x201),'txunX':function(_0x1b9b12,_0x2eb859){return _0x1b9b12===_0x2eb859;},'DVtOg':_0x35575c(0x1d3)};cleanupOldRooms(),_0x30b30b['lJejO'](setupSidebarBackHandler),setupVisibilityAttention(),_0x30b30b[_0x35575c(0x10c)](resetWebsiteData);const _0x26b74a=localStorage[_0x35575c(0x214)](_0x30b30b[_0x35575c(0x323)]);notificationsEnabled=_0x30b30b['txunX'](_0x26b74a,_0x30b30b[_0x35575c(0x24e)]),showScreen(_0x35575c(0x1f7));};function sanitizeUsername(_0x216b96){const _0x3e4467=_0x2bf026;return _0x216b96[_0x3e4467(0x31c)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x46ff17=_0x2bf026,_0x49f1db={'ZvPBp':_0x46ff17(0xe4),'HiGSI':'namePreview','jwrcd':function(_0x504edd,_0x742d3c){return _0x504edd(_0x742d3c);},'ZlpMe':_0x46ff17(0xdf),'wPyXR':_0x46ff17(0x23b),'crPon':'profileUsernameInput','XJwTD':_0x46ff17(0x2c3),'MoLTO':function(_0x48554d,_0x2a2584){return _0x48554d||_0x2a2584;},'NgnxJ':_0x46ff17(0xfa),'NmpcD':_0x46ff17(0x1fe)},_0x56c370=document['getElementById'](_0x49f1db[_0x46ff17(0x1fa)])['value'][_0x46ff17(0x129)](),_0x130bc8=document['getElementById'](_0x46ff17(0x344))[_0x46ff17(0x1fe)][_0x46ff17(0x129)](),_0x4c640a=document['getElementById'](_0x49f1db['XJwTD']);if(_0x49f1db[_0x46ff17(0xa4)](!_0x56c370,!_0x130bc8)){_0x4c640a['innerText']=_0x49f1db[_0x46ff17(0x104)],_0x4c640a[_0x46ff17(0x108)][_0x46ff17(0x27a)]=_0x49f1db['wPyXR'];return;}const _0x361bb6=sanitizeUsername(_0x56c370),_0x3fa077=db['ref'](_0x46ff17(0x18c)+_0x361bb6);_0x3fa077[_0x46ff17(0x2ff)](_0x49f1db['NmpcD'])['then'](_0x492965=>{const _0x4dd6ec=_0x46ff17,_0x2447b2={'ujxpq':_0x4dd6ec(0xd8),'ueJbJ':_0x4dd6ec(0x23b),'MoRlN':_0x4dd6ec(0x16e),'MpNtp':_0x49f1db['ZvPBp'],'fYPRG':_0x49f1db[_0x4dd6ec(0x1b3)],'cOHwJ':function(_0x379e6c,_0x3723ff){const _0x23bc67=_0x4dd6ec;return _0x49f1db[_0x23bc67(0x1c3)](_0x379e6c,_0x3723ff);}};if(_0x492965[_0x4dd6ec(0x137)]())_0x4c640a[_0x4dd6ec(0xaa)]=_0x4dd6ec(0x1cf),_0x4c640a[_0x4dd6ec(0x108)][_0x4dd6ec(0x27a)]=_0x4dd6ec(0x23b);else{const _0x30326c={'username':_0x56c370,'description':_0x130bc8,'lastChanged':Date['now'](),'usernameHistory':[_0x56c370]};_0x3fa077[_0x4dd6ec(0x193)](_0x30326c,_0x47431b=>{const _0x4de929=_0x4dd6ec;_0x47431b?(console[_0x4de929(0x197)](_0x4de929(0xb3),_0x47431b),_0x4c640a[_0x4de929(0xaa)]=_0x2447b2['ujxpq'],_0x4c640a[_0x4de929(0x108)]['display']=_0x2447b2[_0x4de929(0xf4)]):(localStorage[_0x4de929(0x2b9)](_0x2447b2[_0x4de929(0x158)],_0x56c370),localStorage['setItem'](_0x2447b2[_0x4de929(0x20f)],_0x130bc8),username=_0x56c370,document[_0x4de929(0x112)](_0x2447b2['fYPRG'])['innerText']=_0x56c370,_0x2447b2[_0x4de929(0x18a)](showScreen,_0x4de929(0x175)));});}})[_0x46ff17(0x317)](_0x204635=>{const _0x901162=_0x46ff17;console[_0x901162(0x197)](_0x49f1db[_0x901162(0x348)],_0x204635),_0x4c640a['innerText']=_0x901162(0xa8),_0x4c640a[_0x901162(0x108)][_0x901162(0x27a)]=_0x49f1db['wPyXR'];});}function saveProfile(_0x55448a,_0x53167f,_0x488445){const _0x56318e=_0x2bf026,_0x3c8368={'FldXV':'namePreview','DcNmz':_0x56318e(0x175)},_0x36f844=Date[_0x56318e(0xc7)](),_0x42c603=[_0x55448a];db['ref'](_0x56318e(0x18c)+_0x488445)['set']({'username':_0x55448a,'description':_0x53167f,'lastChanged':_0x36f844,'usernameHistory':_0x42c603}),document[_0x56318e(0x112)](_0x3c8368[_0x56318e(0x26b)])[_0x56318e(0xaa)]=_0x55448a,showScreen(_0x3c8368[_0x56318e(0x259)]);}function generateRoom(){const _0x100fcb=_0x2bf026,_0x2b8edd={'Issfo':function(_0x167dc5){return _0x167dc5();}};roomCode=_0x2b8edd[_0x100fcb(0xb1)](genRoomCode),db[_0x100fcb(0xb7)](_0x100fcb(0x1dc)+roomCode)[_0x100fcb(0x193)]({'active':!![],'created':Date[_0x100fcb(0xc7)]()}),_0x2b8edd[_0x100fcb(0xb1)](startChat);}function joinRoom(){const _0x2f7bb6=_0x2bf026,_0x31616b={'oFFGc':function(_0x28df2c,_0x1bdec1){return _0x28df2c!==_0x1bdec1;},'QLoio':function(_0x2a9a83){return _0x2a9a83();},'GijsA':function(_0x3f0b68,_0x59e87f){return _0x3f0b68(_0x59e87f);},'AHCNX':_0x2f7bb6(0xf9),'wtJGk':function(_0x2e8096,_0x1e13b7){return _0x2e8096(_0x1e13b7);},'dAOKJ':function(_0x4a3793,_0x324ea5){return _0x4a3793===_0x324ea5;},'xWzOE':_0x2f7bb6(0x2c7),'qMYfx':function(_0x4e9d31,_0x4d8579){return _0x4e9d31+_0x4d8579;}},_0x1ca279=roomCode||document[_0x2f7bb6(0x112)](_0x31616b[_0x2f7bb6(0x33b)])[_0x2f7bb6(0x1fe)][_0x2f7bb6(0x129)]()[_0x2f7bb6(0x240)]();if(!_0x1ca279)return _0x31616b[_0x2f7bb6(0xa2)](alert,'Enter\x20a\x20valid\x20room\x20code');roomCode=_0x1ca279;if(_0x31616b['dAOKJ'](roomCode,STATIC_ROOM)){_0x31616b[_0x2f7bb6(0xf0)](showScreen,_0x31616b[_0x2f7bb6(0x13b)]);return;}db['ref'](_0x31616b['qMYfx']('rooms/',roomCode))[_0x2f7bb6(0xe5)]()['then'](_0x4e6e19=>{const _0x5a8b49=_0x2f7bb6;_0x4e6e19[_0x5a8b49(0x137)]()&&_0x31616b[_0x5a8b49(0x11c)](_0x4e6e19[_0x5a8b49(0x2e1)]()[_0x5a8b49(0x119)],![])?_0x31616b['QLoio'](startChat):_0x31616b[_0x5a8b49(0xf0)](alert,_0x5a8b49(0x162));});}async function startChat(){const _0x4d58df=_0x2bf026,_0x37eab8={'BJwqK':function(_0x5699fe,_0x15489a){return _0x5699fe===_0x15489a;},'ULZou':_0x4d58df(0x34d),'NubZO':function(_0x578fc7,_0x36dd03){return _0x578fc7(_0x36dd03);},'AJZZe':'roomChoiceScreen','slGwA':_0x4d58df(0xe9),'UlnGz':function(_0x3bf881,_0x2c872f){return _0x3bf881+_0x2c872f;},'XqBcL':_0x4d58df(0x10e),'JCHPu':_0x4d58df(0x23b),'WKKNi':'userDisplay','PpOMh':_0x4d58df(0x376),'DmZSv':_0x4d58df(0x16c),'tgFtl':_0x4d58df(0x27d),'cbJlI':_0x4d58df(0x1bc),'TuyPg':'system','ElckM':function(_0x5cb444,_0x486d27){return _0x5cb444(_0x486d27);},'fCijQ':_0x4d58df(0x20e),'lFVhA':_0x4d58df(0x179),'nnshh':function(_0x2ebc2a){return _0x2ebc2a();},'aFKTO':function(_0x2efa37){return _0x2efa37();},'mNvwQ':_0x4d58df(0x336),'wVRWz':_0x4d58df(0x105),'ASDWR':function(_0x5af882,_0x2e4df6){return _0x5af882||_0x2e4df6;},'hxoGG':function(_0x64a07b,_0x4964f7){return _0x64a07b(_0x4964f7);},'SvWhi':function(_0x210148){return _0x210148();},'Kmwqr':function(_0x562d5d){return _0x562d5d();},'iOHgG':function(_0x1bc3e6){return _0x1bc3e6();}};if(_0x37eab8[_0x4d58df(0x25f)](!roomCode,!username))return _0x37eab8['hxoGG'](alert,_0x4d58df(0x36b)),_0x37eab8['NubZO'](showScreen,_0x4d58df(0x175));_0x37eab8[_0x4d58df(0x242)](listenForPauseState),_0x37eab8[_0x4d58df(0xfc)](listenForUserList),await _0x37eab8[_0x4d58df(0x242)](loadRoomRoles),_0x37eab8[_0x4d58df(0x1d2)](listenForAnnouncement);const _0x17961=_0x37eab8[_0x4d58df(0x138)](sanitizeUsername,username),_0x1f890e=db[_0x4d58df(0xb7)](_0x4d58df(0x239)+roomCode+'/'+_0x17961),_0x59706b={'username':username,'online':!![],'lastOnline':firebase[_0x4d58df(0x230)][_0x4d58df(0x2ee)][_0x4d58df(0x34e)]};_0x1f890e[_0x4d58df(0x193)](_0x59706b,_0x55e312=>{const _0x4f02e7=_0x4d58df,_0x514e71={'XkLUc':function(_0x3362d5,_0x453262){const _0x50aa57=_0x27ff;return _0x37eab8[_0x50aa57(0x1ba)](_0x3362d5,_0x453262);},'hvIiZ':_0x4f02e7(0x16c)};if(_0x55e312)return alert(_0x37eab8[_0x4f02e7(0x2aa)]),_0x37eab8[_0x4f02e7(0x138)](showScreen,_0x37eab8[_0x4f02e7(0xa6)]);const _0x18439f=document[_0x4f02e7(0x112)](_0x37eab8['slGwA']);avatarBase64&&(_0x18439f[_0x4f02e7(0x14b)]=_0x37eab8[_0x4f02e7(0x275)](_0x37eab8[_0x4f02e7(0x195)],avatarBase64),_0x18439f[_0x4f02e7(0x108)][_0x4f02e7(0x27a)]=_0x37eab8[_0x4f02e7(0x364)]);document[_0x4f02e7(0x112)](_0x37eab8[_0x4f02e7(0xb0)])['innerHTML']=username+'\x20'+_0x37eab8[_0x4f02e7(0x138)](getRoleTag,_0x17961),document[_0x4f02e7(0x112)](_0x4f02e7(0x2e3))[_0x4f02e7(0xaa)]=_0x37eab8[_0x4f02e7(0x1ba)](roomCode,STATIC_ROOM)?_0x37eab8[_0x4f02e7(0x12b)]:roomCode;[_0x37eab8[_0x4f02e7(0x2a9)],_0x4f02e7(0x150)]['includes'](role)?document[_0x4f02e7(0x112)](_0x37eab8['tgFtl'])[_0x4f02e7(0x108)][_0x4f02e7(0x27a)]=_0x37eab8[_0x4f02e7(0x364)]:document[_0x4f02e7(0x112)](_0x37eab8[_0x4f02e7(0x2d7)])[_0x4f02e7(0x108)]['display']=_0x37eab8[_0x4f02e7(0x22e)];const _0x424848=db[_0x4f02e7(0xb7)]()[_0x4f02e7(0xad)]()[_0x4f02e7(0x2ce)];db[_0x4f02e7(0xb7)](_0x4f02e7(0x1dc)+roomCode+_0x4f02e7(0x168)+_0x424848)[_0x4f02e7(0x193)]({'msg':username+_0x4f02e7(0x363),'sender':_0x37eab8[_0x4f02e7(0x12e)],'senderId':_0x37eab8[_0x4f02e7(0x12e)],'timestamp':Date['now']()}),_0x37eab8[_0x4f02e7(0x1c7)](showScreen,_0x37eab8['fCijQ']);const _0x1a021a=document[_0x4f02e7(0x112)](_0x4f02e7(0x20d));_0x1a021a['addEventListener'](_0x37eab8[_0x4f02e7(0x2f8)],_0x102668=>{const _0x13c301=_0x4f02e7;_0x514e71[_0x13c301(0x147)](_0x102668[_0x13c301(0x118)],0x3)&&(_0x514e71[_0x13c301(0x147)](role,_0x514e71[_0x13c301(0x328)])||_0x514e71[_0x13c301(0x147)](role,_0x13c301(0x150)))&&(confirm(_0x13c301(0x2f0))&&db[_0x13c301(0xb7)](_0x13c301(0x1dc)+roomCode+_0x13c301(0x2a7))[_0x13c301(0xa3)]()['then'](()=>{const _0x580bb4=_0x13c301;_0x1a021a[_0x580bb4(0xaa)]='';}));}),listenForMessages(),_0x37eab8[_0x4f02e7(0x1b9)](listenForTyping),_0x37eab8['aFKTO'](startInactivityTimer),_0x37eab8[_0x4f02e7(0x17e)](trackPresence),watchProfileChanges(),db[_0x4f02e7(0xb7)](_0x37eab8[_0x4f02e7(0x305)])['on'](_0x37eab8[_0x4f02e7(0x146)],()=>{renderUserLists(roomUsers);}),_0x37eab8[_0x4f02e7(0x1b9)](watchMuteStatus);});}function watchProfileChanges(){const _0x3b0917=_0x2bf026,_0x552cec={'DwfUd':_0x3b0917(0x311),'tYdOk':'sidebarAvatarPreview','kuLIg':_0x3b0917(0x10e),'erRbr':_0x3b0917(0x23b),'dtdVL':function(_0x51b995,_0x9b28b8){return _0x51b995(_0x9b28b8);},'xWYjF':'value'},_0x4eb642=_0x552cec[_0x3b0917(0x301)](sanitizeUsername,username);db[_0x3b0917(0xb7)]('auth/'+_0x4eb642)['on'](_0x552cec[_0x3b0917(0x15b)],_0x3eb1a3=>{const _0x44c235=_0x3b0917;if(!_0x3eb1a3[_0x44c235(0x137)]())return;const _0x4d3a85=_0x3eb1a3[_0x44c235(0x2e1)]();userDescription=_0x4d3a85[_0x44c235(0x279)]||'',avatarBase64=_0x4d3a85[_0x44c235(0xe2)]||'',role=_0x4d3a85['role']||_0x552cec[_0x44c235(0x121)];if(avatarBase64){const _0x200ef2=document[_0x44c235(0x112)](_0x552cec[_0x44c235(0x141)]);!_0x200ef2[_0x44c235(0x14b)]['includes'](avatarBase64)&&(_0x200ef2[_0x44c235(0x14b)]=_0x552cec[_0x44c235(0x189)]+avatarBase64,_0x200ef2[_0x44c235(0x108)]['display']=_0x552cec['erRbr']);}_0x552cec[_0x44c235(0x301)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x2f3350){const _0x5e6b3d=_0x2bf026,_0x5706a7={'LTkkB':function(_0x63f657,_0x559364){return _0x63f657<_0x559364;},'AuQyG':function(_0x1f44df,_0x5ac10b){return _0x1f44df(_0x5ac10b);},'jUUpe':function(_0x51878b,_0x1526d0){return _0x51878b>_0x1526d0;},'Jtxep':function(_0xcb5a3c,_0x2c5b30){return _0xcb5a3c*_0x2c5b30;},'PDQJZ':function(_0xbda995,_0x3d9128){return _0xbda995*_0x3d9128;},'rUJbb':function(_0x314e48,_0x3bbe6d){return _0x314e48(_0x3bbe6d);},'ZuMuu':'‚ùå\x20Image\x20must\x20be\x20under\x202MB'},_0x360ce6=Date[_0x5e6b3d(0xc7)]();if(_0x5706a7[_0x5e6b3d(0xeb)](_0x360ce6-lastImageTime,0x2710)){_0x5706a7['AuQyG'](alert,_0x5e6b3d(0xef));return;}lastImageTime=_0x360ce6;const _0x22e97d=_0x2f3350[_0x5e6b3d(0x10f)][0x0];if(!_0x22e97d||_0x5706a7['jUUpe'](_0x22e97d[_0x5e6b3d(0x302)],_0x5706a7[_0x5e6b3d(0x30f)](_0x5706a7[_0x5e6b3d(0xcb)](0x2,0x400),0x400))){_0x5706a7[_0x5e6b3d(0xed)](alert,_0x5706a7[_0x5e6b3d(0x1b7)]);return;}const _0x310182=new FileReader();_0x310182['onloadend']=()=>{const _0x149eea=_0x5e6b3d,_0x2c8aca=_0x310182[_0x149eea(0xb4)][_0x149eea(0x22c)](',')[0x1],_0x36baa4=db[_0x149eea(0xb7)]()[_0x149eea(0xad)]()['key'];db['ref'](_0x149eea(0x1dc)+roomCode+'/messages/'+_0x36baa4)[_0x149eea(0x193)]({'imageBase64':_0x2c8aca,'sender':username,'senderId':clientId,'timestamp':Date[_0x149eea(0xc7)]()});},_0x310182[_0x5e6b3d(0x120)](_0x22e97d);}async function fetchProfile(_0x43396d){const _0x1d179e=_0x2bf026,_0x50d9ae=await db['ref'](_0x1d179e(0x34a)+_0x43396d)[_0x1d179e(0xe5)]();if(!_0x50d9ae[_0x1d179e(0x137)]())return null;return _0x50d9ae[_0x1d179e(0x2e1)]();}function validateStaticRoomPassword(){const _0x26220b=_0x2bf026,_0x2759bc={'IjuHJ':function(_0x31be27,_0x5b8362){return _0x31be27(_0x5b8362);},'qWvap':'Room\x20password\x20not\x20set.\x20Cannot\x20join.','UjpUE':function(_0x4d4451,_0x533aa9){return _0x4d4451===_0x533aa9;},'PfKgQ':function(_0x23ad4d){return _0x23ad4d();},'fHKHf':'passwordError','IliiF':_0x26220b(0x369),'bYjif':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','rPCzK':function(_0x246997,_0x19b748){return _0x246997(_0x19b748);},'rgNZM':'Please\x20enter\x20the\x20password.'},_0x3700b5=document[_0x26220b(0x112)](_0x26220b(0xc3))[_0x26220b(0x1fe)][_0x26220b(0x129)]();if(!_0x3700b5){_0x2759bc[_0x26220b(0x346)](alert,_0x2759bc[_0x26220b(0xc1)]);return;}db[_0x26220b(0xb7)](_0x26220b(0x28b)+STATIC_ROOM)['get']()[_0x26220b(0xf1)](_0xe78a43=>{const _0x556fcf=_0x26220b;if(!_0xe78a43[_0x556fcf(0x137)]()){_0x2759bc[_0x556fcf(0x1b6)](alert,_0x2759bc['qWvap']);return;}const _0x3aa46c=_0xe78a43['val']();_0x2759bc[_0x556fcf(0x314)](_0x3700b5,_0x3aa46c)?(roomCode=STATIC_ROOM,_0x2759bc[_0x556fcf(0x1f2)](startChat)):(document[_0x556fcf(0x112)](_0x2759bc[_0x556fcf(0x18e)])[_0x556fcf(0xaa)]=_0x2759bc[_0x556fcf(0x200)],document['getElementById'](_0x2759bc[_0x556fcf(0x18e)])[_0x556fcf(0x108)][_0x556fcf(0x27a)]=_0x556fcf(0x23b));})['catch'](_0x271e33=>{const _0x4ec423=_0x26220b;console[_0x4ec423(0x197)](_0x271e33),_0x2759bc[_0x4ec423(0x1b6)](alert,_0x2759bc[_0x4ec423(0x2f1)]);});}function listenForPauseState(){const _0x1aa40f=_0x2bf026,_0x5c54b0={'oFfnS':function(_0x5cbf98,_0x3e9a45){return _0x5cbf98===_0x3e9a45;},'vWDJs':'pausedOverlay','VXiSo':_0x1aa40f(0x23b),'WMKfI':_0x1aa40f(0x1bc),'sWxAm':_0x1aa40f(0x1fe)};db[_0x1aa40f(0xb7)](_0x1aa40f(0x260)+roomCode+'/paused')['on'](_0x5c54b0[_0x1aa40f(0xbb)],_0x2b75a1=>{const _0x45b922=_0x1aa40f,_0x36afd0=_0x2b75a1[_0x45b922(0x137)]()&&_0x5c54b0[_0x45b922(0x236)](_0x2b75a1[_0x45b922(0x2e1)](),!![]);document[_0x45b922(0x112)](_0x5c54b0[_0x45b922(0x2f4)])[_0x45b922(0x108)][_0x45b922(0x27a)]=_0x36afd0?_0x5c54b0['VXiSo']:_0x5c54b0[_0x45b922(0x1b4)];});}const spamTimestamps=[];async function sendMessage(){const _0x1d6a37=_0x2bf026,_0x2b25ad={'wztdV':function(_0x411b11,_0x527e20){return _0x411b11(_0x527e20);},'NmZMn':function(_0x2754ca,_0x3a974f){return _0x2754ca===_0x3a974f;},'aGzoq':_0x1d6a37(0x378),'EZMQI':function(_0x5c5f4e,_0x29c062){return _0x5c5f4e>_0x29c062;},'ihDYN':function(_0x4967f5,_0x27211a){return _0x4967f5!==_0x27211a;},'mRdiE':function(_0x27e97a,_0x25e325){return _0x27e97a(_0x25e325);},'BhBsb':_0x1d6a37(0x2e8),'cNrOS':_0x1d6a37(0x248),'nMuLz':function(_0x12c500,_0x15b70f){return _0x12c500||_0x15b70f;},'DoEGW':function(_0x5924a3,_0x320a55){return _0x5924a3(_0x320a55);},'BogQB':function(_0x1053bd,_0x5084fe,_0x1991cf){return _0x1053bd(_0x5084fe,_0x1991cf);},'aKKtC':_0x1d6a37(0x1b5),'ppQQf':'‚ö†Ô∏è\x20No\x20spamming\x20allowed.','MfQPF':_0x1d6a37(0xc2),'maFmO':function(_0x4a633d,_0x225c70){return _0x4a633d(_0x225c70);}},_0x94f4b1=await db[_0x1d6a37(0xb7)]('roomStates/'+roomCode+_0x1d6a37(0x1c2))[_0x1d6a37(0xe5)](),_0x447a2a=await db[_0x1d6a37(0xb7)]('muted/'+roomCode+'/'+_0x2b25ad['wztdV'](sanitizeUsername,username))[_0x1d6a37(0xe5)]();if(_0x447a2a['exists']()){const _0x3fcf55=_0x447a2a[_0x1d6a37(0x2e1)](),_0x9b1316=_0x2b25ad['NmZMn'](typeof _0x3fcf55,_0x2b25ad[_0x1d6a37(0xb2)])&&_0x3fcf55[_0x1d6a37(0x335)]?_0x3fcf55[_0x1d6a37(0x335)]:_0x3fcf55;if(_0x2b25ad['EZMQI'](_0x9b1316,Date[_0x1d6a37(0xc7)]())){alert('‚õî\x20You\x20are\x20muted.');return;}}if(_0x94f4b1[_0x1d6a37(0x137)]()&&_0x2b25ad[_0x1d6a37(0x1aa)](_0x94f4b1[_0x1d6a37(0x2e1)](),!![])&&_0x2b25ad['ihDYN'](role,_0x1d6a37(0x150))){_0x2b25ad[_0x1d6a37(0x2ec)](alert,_0x2b25ad[_0x1d6a37(0x12c)]);return;}const _0x4a8376=document[_0x1d6a37(0x112)](_0x2b25ad['cNrOS']),_0x4ee733=_0x4a8376[_0x1d6a37(0x1fe)][_0x1d6a37(0x129)]();if(_0x2b25ad[_0x1d6a37(0x16d)](!_0x4ee733,isBlocked))return;const _0x209f4b=Date[_0x1d6a37(0xc7)](),_0x1eb5a9=_0x4ee733[_0x1d6a37(0x297)](),_0x456428=swearWords[_0x1d6a37(0x134)](_0x33ebc1=>_0x1eb5a9[_0x1d6a37(0x1db)](_0x33ebc1));if(_0x456428){alert(_0x1d6a37(0x261));return;}spamTimestamps[_0x1d6a37(0xad)](_0x209f4b);const _0x2a2177=spamTimestamps[_0x1d6a37(0x109)](_0x3e46d3=>_0x209f4b-_0x3e46d3<0x1b58);if(_0x2b25ad[_0x1d6a37(0x2c0)](_0x2a2177[_0x1d6a37(0x227)],0x5)){const _0x349e01=_0x1d6a37(0x1f0)[_0x1d6a37(0x22c)]('|');let _0x4f52b2=0x0;while(!![]){switch(_0x349e01[_0x4f52b2++]){case'0':_0x2b25ad[_0x1d6a37(0x35b)](alert,_0x1d6a37(0x202));continue;case'1':_0x4a8376[_0x1d6a37(0x204)]=!![];continue;case'2':_0x2b25ad[_0x1d6a37(0x33a)](setTimeout,()=>{const _0x314624=_0x1d6a37;isBlocked=![],_0x4a8376[_0x314624(0x204)]=![],_0x4a8376['placeholder']=_0x314624(0xe1),spamTimestamps['length']=0x0;},0x7530);continue;case'3':_0x4a8376[_0x1d6a37(0x1f1)]=_0x2b25ad[_0x1d6a37(0x26f)];continue;case'4':return;case'5':isBlocked=!![];continue;}break;}}const _0x4155b9=_0x4ee733[_0x1d6a37(0x284)](/(.)\1{14,}/);if(_0x4155b9){alert(_0x2b25ad['ppQQf']);return;}const _0x4b16d6=localStorage['getItem'](_0x2b25ad[_0x1d6a37(0x13d)])||'',_0x1cd7b2=db['ref']()[_0x1d6a37(0xad)]()[_0x1d6a37(0x2ce)];db[_0x1d6a37(0xb7)](_0x1d6a37(0x1dc)+roomCode+_0x1d6a37(0x168)+_0x1cd7b2)[_0x1d6a37(0x193)]({'msg':_0x4ee733,'sender':username,'senderId':clientId,'avatarBase64':_0x4b16d6,'timestamp':_0x209f4b}),_0x4a8376[_0x1d6a37(0x1fe)]='',_0x2b25ad['maFmO'](sendTyping,!![]),lastActivity=_0x209f4b;}function listenForMessages(){const _0x7f5a69=_0x2bf026,_0x1fd374={'ZZDIl':function(_0x10b370,_0x2d2d07,_0x5d0c5e,_0x296954){return _0x10b370(_0x2d2d07,_0x5d0c5e,_0x296954);},'OQQvH':function(_0x527bdb,_0x585306){return _0x527bdb===_0x585306;},'CTebX':function(_0x5b3c17,_0x17ec23,_0x3c013e,_0x517c69){return _0x5b3c17(_0x17ec23,_0x3c013e,_0x517c69);},'uBOsX':function(_0x14d8d2,_0x485414){return _0x14d8d2!==_0x485414;},'OLrSH':function(_0x17aa10,_0x5c98a2){return _0x17aa10!==_0x5c98a2;},'vumDo':function(_0x3cef65){return _0x3cef65();},'HdeAm':function(_0x159cdd,_0x2ffdf9){return _0x159cdd&&_0x2ffdf9;},'CGMXn':function(_0x3d0f77,_0x2b6e8d){return _0x3d0f77===_0x2b6e8d;},'Ydrzd':_0x7f5a69(0x366),'bYVJK':_0x7f5a69(0x194),'djMDp':'[Unknown]','lknlT':_0x7f5a69(0x160),'TFltC':function(_0x55b967,_0xa64faa){return _0x55b967>_0xa64faa;},'ySckX':function(_0x1cb8cf,_0x14556a){return _0x1cb8cf-_0x14556a;},'GEfGT':'child_added','PURFR':'value','mriVM':_0x7f5a69(0x36d)},_0x25a38b=db[_0x7f5a69(0xb7)](_0x7f5a69(0x1dc)+roomCode+_0x7f5a69(0x16f)),_0x4dc55a=_0x25a38b[_0x7f5a69(0x258)](MAX_MESSAGES);userListReady=!![],_0x4dc55a['on'](_0x1fd374[_0x7f5a69(0x21e)],_0x28f0eb=>{const _0x3420be=_0x7f5a69,_0x319a91={'UmisH':function(_0x3c0ba1,_0x2b49fb,_0x2caf23,_0xcdc59a){return _0x1fd374['ZZDIl'](_0x3c0ba1,_0x2b49fb,_0x2caf23,_0xcdc59a);}},_0x507716=_0x28f0eb[_0x3420be(0x2e1)](),{senderId:_0x504aaf}=_0x507716,_0x500d84=_0x1fd374['OQQvH'](_0x504aaf,clientId);if(!userListReady){pendingMessages[_0x3420be(0x306)](({data:_0x294bc5,sent:_0x50e585,key:_0x52d4cd})=>{const _0x451a57=_0x3420be;_0x319a91[_0x451a57(0x292)](addMessage,_0x294bc5,_0x50e585,_0x52d4cd);}),pendingMessages=[];return;}const _0x16aab6=_0x507716[_0x3420be(0x156)]||null,_0x3ea16d=_0x507716['audioBase64']||null;_0x1fd374['CTebX'](addMessage,_0x507716,_0x500d84,_0x28f0eb['key']);if(_0x1fd374[_0x3420be(0x1d9)](roomCode,STATIC_ROOM)&&_0x1fd374[_0x3420be(0x320)](_0x507716[_0x3420be(0x1a8)],_0x3420be(0x287))){}!_0x500d84&&(sound[_0x3420be(0x135)](),_0x1fd374[_0x3420be(0x374)](flagPageAttention));if(_0x1fd374[_0x3420be(0x25b)](notificationsEnabled,!_0x500d84)&&_0x1fd374[_0x3420be(0x122)](Notification[_0x3420be(0x2c6)],'granted')){const _0x446387=_0x507716['msg']||(_0x507716[_0x3420be(0x1f8)]?_0x1fd374[_0x3420be(0x1b0)]:_0x507716['imageBase64']?_0x1fd374['bYVJK']:_0x1fd374[_0x3420be(0x220)]);new Notification(_0x3420be(0x21c)+_0x507716[_0x3420be(0x1a8)],{'body':_0x446387,'icon':_0x1fd374[_0x3420be(0x2d4)]});}}),_0x25a38b[_0x7f5a69(0x2ff)](_0x1fd374[_0x7f5a69(0x1bb)])[_0x7f5a69(0xf1)](_0xffda16=>{const _0x22d8e8=_0x7f5a69,_0x4fac04=_0xffda16[_0x22d8e8(0x2e1)](),_0x4a2fed=Object[_0x22d8e8(0x30a)](_0x4fac04||{});if(_0x1fd374['TFltC'](_0x4a2fed[_0x22d8e8(0x227)],MAX_MESSAGES)){const _0x4b45d1=_0x1fd374[_0x22d8e8(0x276)](_0x4a2fed[_0x22d8e8(0x227)],MAX_MESSAGES),_0x1ea56e=_0x4a2fed[_0x22d8e8(0x2dd)]((_0x9f8a98,_0x589d94)=>_0x4fac04[_0x9f8a98][_0x22d8e8(0xd5)]-_0x4fac04[_0x589d94][_0x22d8e8(0xd5)])['slice'](0x0,_0x4b45d1);_0x1ea56e[_0x22d8e8(0x306)](_0x5bb08a=>{const _0x211bbb=_0x22d8e8;db[_0x211bbb(0xb7)](_0x211bbb(0x1dc)+roomCode+_0x211bbb(0x168)+_0x5bb08a)[_0x211bbb(0xa3)]();});}}),db[_0x7f5a69(0xb7)](_0x7f5a69(0x1dc)+roomCode+_0x7f5a69(0x16f))['on'](_0x1fd374[_0x7f5a69(0x1af)],_0x2d536b=>{const _0x5456cd=_0x7f5a69,_0x22238e=_0x2d536b['key'],_0x23abf5=document[_0x5456cd(0xc8)](_0x5456cd(0x316)+_0x22238e+'\x22]');if(_0x23abf5)_0x23abf5[_0x5456cd(0xa3)]();});}function stackNotification(_0x13acc7,_0x405023){const _0x4aa869=_0x2bf026,_0x167a1b={'zAXqm':function(_0x46ba0e){return _0x46ba0e();},'FKrZf':function(_0x3bd132,_0x5e143b,_0x3037ea){return _0x3bd132(_0x5e143b,_0x3037ea);}};notificationStack[_0x4aa869(0xad)]({'sender':_0x13acc7,'content':_0x405023}),clearTimeout(notificationTimer),notificationTimer=_0x167a1b['FKrZf'](setTimeout,()=>{const _0x5c1d8d=_0x4aa869;_0x167a1b[_0x5c1d8d(0x19a)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x1d2735=_0x2bf026,_0x273e1f={'yxrOX':_0x1d2735(0x350),'sZQPT':function(_0x184d46,_0x24e822){return _0x184d46!==_0x24e822;},'PVrPY':'granted','emzwX':function(_0x19fa4e,_0x529d4f){return _0x19fa4e||_0x529d4f;},'yGgge':'unknown'};if(!notificationStack[_0x1d2735(0x227)]||_0x273e1f[_0x1d2735(0x1ea)](Notification[_0x1d2735(0x2c6)],_0x273e1f[_0x1d2735(0x334)]))return;const _0x34d669=[...new Set(notificationStack[_0x1d2735(0x247)](_0x5d7ccb=>_0x5d7ccb[_0x1d2735(0x1a8)]))],_0x57b581=_0x273e1f[_0x1d2735(0x11e)](roomCode,_0x273e1f[_0x1d2735(0x203)]),_0x15069e=_0x34d669['length']===0x1?_0x1d2735(0xd0)+_0x34d669[0x0]+_0x1d2735(0xa9)+_0x57b581+':\x20'+notificationStack[0x0]['content']:'You\x20got\x20messages\x20from\x20'+_0x34d669['join'](',\x20')+_0x1d2735(0xa9)+_0x57b581;setTimeout(()=>{const _0x57d4d5=_0x1d2735;new Notification(_0x273e1f[_0x57d4d5(0x1a0)],{'body':_0x15069e,'icon':_0x57d4d5(0x160)});},0x64);}async function addMessage(_0x230d86,_0x51c753,_0x111954=null){const _0x4057eb=_0x2bf026,_0x9e8a27={'KzIqW':function(_0x638f70,_0x4eb07a,_0x2d7d82){return _0x638f70(_0x4eb07a,_0x2d7d82);},'wwbTc':'1|2|5|4|0|3','uhIAH':_0x4057eb(0x212),'MxQwS':_0x4057eb(0x151),'JcvkZ':_0x4057eb(0xd1),'bAisc':'flex','gHUXR':_0x4057eb(0x1da),'tIfMm':function(_0x5a1594,_0x56524b){return _0x5a1594(_0x56524b);},'BlikY':_0x4057eb(0x1bc),'NBmVC':function(_0x142f9f,_0x55763b){return _0x142f9f>_0x55763b;},'NXaIh':function(_0x394856,_0x478247){return _0x394856===_0x478247;},'murGv':function(_0x5f7a66,_0x46fd5f){return _0x5f7a66(_0x46fd5f);},'npNTl':'Delete\x20this\x20message?','OTcIW':function(_0x13819b,_0x11f434,_0x511157){return _0x13819b(_0x11f434,_0x511157);},'lgLRv':function(_0x45835f,_0x32d3a1){return _0x45835f(_0x32d3a1);},'ylJLn':_0x4057eb(0xba),'PeEHg':_0x4057eb(0x287),'pQpnJ':_0x4057eb(0x29d),'QYKkA':_0x4057eb(0x23c),'CQZfB':_0x4057eb(0x2a1),'jiKaK':_0x4057eb(0x30e),'HHZLu':_0x4057eb(0xdd),'HsFIt':_0x4057eb(0x2c2),'IBkbd':'2-digit','YaIES':function(_0x283667,_0x45fad1){return _0x283667(_0x45fad1);},'fWHWh':_0x4057eb(0x19f),'CzXDd':'4px','CBXwK':_0x4057eb(0x2d3),'YFpHM':_0x4057eb(0x338),'NeBZh':_0x4057eb(0x256),'YMVIg':_0x4057eb(0x224),'lgBjd':_0x4057eb(0x191),'tWJRk':_0x4057eb(0x1f6),'kzWqG':'0px','QknpM':_0x4057eb(0x2be),'LIGgD':_0x4057eb(0x22a),'cPUkm':'grid','cCfMZ':'repeat(auto-fill,\x20minmax(32px,\x201fr))','CQPnw':_0x4057eb(0x343),'JCGww':_0x4057eb(0x28e),'spNRi':_0x4057eb(0x1d6),'ocPhE':_0x4057eb(0x1fe),'IRbWa':_0x4057eb(0x150),'MSahh':_0x4057eb(0x16c),'gNiRH':_0x4057eb(0x2a2),'useVH':_0x4057eb(0x179)},{msg:_0x32c187,sender:_0x3b28f3,senderId:_0x4711be,timestamp:_0x310ee6,audioUrl:_0x20286a,audioBase64:_0x12f889,imageBase64:_0x3be6b8}=_0x230d86,_0x17eb72=_0x9e8a27['lgLRv'](sanitizeUsername,_0x3b28f3),_0x2962dd=document[_0x4057eb(0x130)](_0x9e8a27[_0x4057eb(0xd2)]);if(_0x9e8a27['NXaIh'](_0x230d86[_0x4057eb(0x1a8)],_0x9e8a27[_0x4057eb(0x352)])){const _0x102ff6=document[_0x4057eb(0x130)](_0x9e8a27[_0x4057eb(0xd2)]);_0x102ff6[_0x4057eb(0x108)]['textAlign']=_0x9e8a27[_0x4057eb(0x24f)],_0x102ff6['style']['fontSize']=_0x9e8a27[_0x4057eb(0x15e)],_0x102ff6[_0x4057eb(0x108)][_0x4057eb(0x243)]=_0x4057eb(0x2b2),_0x102ff6[_0x4057eb(0x108)][_0x4057eb(0xee)]=_0x9e8a27['QYKkA'],_0x102ff6[_0x4057eb(0xaa)]=_0x230d86[_0x4057eb(0x30e)];const _0x45f33c=document[_0x4057eb(0x112)](_0x9e8a27['CQZfB']);_0x45f33c[_0x4057eb(0x360)](_0x102ff6),_0x45f33c[_0x4057eb(0x231)]=_0x45f33c[_0x4057eb(0x286)];return;}_0x2962dd[_0x4057eb(0x2e7)][_0x4057eb(0x13e)](_0x9e8a27[_0x4057eb(0xb6)],_0x51c753?_0x9e8a27[_0x4057eb(0xa1)]:_0x4057eb(0x215)),_0x2962dd[_0x4057eb(0x108)][_0x4057eb(0x209)]=_0x9e8a27[_0x4057eb(0x1e1)];_0x111954&&(_0x2962dd[_0x4057eb(0x253)][_0x4057eb(0x34f)]=_0x111954);const _0x4d9d95=new Date(_0x310ee6)['toLocaleTimeString']([],{'hour':_0x9e8a27[_0x4057eb(0x26d)],'minute':_0x9e8a27[_0x4057eb(0x26d)]}),_0x59ac81=_0x9e8a27[_0x4057eb(0x1f9)](getRoleTag,_0x17eb72),_0x557632=await _0x9e8a27[_0x4057eb(0xc9)](fetchAvatar,_0x17eb72),_0x497fa1=_0x557632?'<img\x20src=\x22data:image/png;base64,'+_0x557632+_0x4057eb(0x32f):'',_0x1f4fa3=_0x497fa1+_0x4057eb(0x17f)+_0x3b28f3+'\x20'+_0x59ac81+_0x4057eb(0x33e),_0x1c7184=_0x32c187?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x4057eb(0x1e4));let _0x1b6064=_0x1f4fa3+_0x4057eb(0x1fd);if(_0x20286a)_0x1b6064+='<audio\x20controls\x20src=\x22'+_0x20286a+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x12f889){const _0x51d779=_0x4057eb(0x2f9)+_0x12f889;_0x1b6064+=_0x4057eb(0x252)+_0x51d779+_0x4057eb(0x172);}else{if(_0x3be6b8){const _0x289502=_0x4057eb(0x10e)+_0x3be6b8;_0x1b6064+=_0x4057eb(0x36c)+_0x289502+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else{const _0x50b031=_0x1c7184[_0x4057eb(0x31c)](/(https?:\/\/[^\s]+)/g,_0x5ec1b4=>{const _0x177cc1=_0x4057eb;return _0x177cc1(0x34b)+_0x5ec1b4+_0x177cc1(0xaf)+_0x5ec1b4+_0x177cc1(0x149);});_0x1b6064+='<div>'+_0x50b031+_0x4057eb(0x1a9);}}}_0x1b6064+='<small>'+_0x4d9d95+'</small>',_0x2962dd[_0x4057eb(0x31a)]=_0x1b6064;const _0x176242=document['createElement'](_0x9e8a27['ylJLn']);_0x176242[_0x4057eb(0x347)]=_0x9e8a27[_0x4057eb(0x2b3)],_0x176242[_0x4057eb(0x108)][_0x4057eb(0x281)]=_0x9e8a27[_0x4057eb(0x375)],_0x176242[_0x4057eb(0x108)]['fontSize']=_0x4057eb(0x143),_0x2962dd[_0x4057eb(0x360)](_0x176242);const _0x56e037=document[_0x4057eb(0x130)]('div');_0x56e037[_0x4057eb(0x347)]=_0x9e8a27['CBXwK'];const _0x5a8a7d=['‚ù§Ô∏è','üòÇ','üòÆ','üò¢','üëé','üíÄ','ü§Ø'];_0x56e037['innerHTML']=_0x5a8a7d[_0x4057eb(0x247)](_0x5c03d7=>_0x4057eb(0xc0)+_0x5c03d7+_0x4057eb(0xa5))[_0x4057eb(0x213)](''),_0x56e037['style']['display']=_0x9e8a27[_0x4057eb(0x278)],_0x56e037['style'][_0x4057eb(0x209)]=_0x9e8a27[_0x4057eb(0x257)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x35f)]=_0x9e8a27[_0x4057eb(0xe6)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x31e)]=_0x9e8a27[_0x4057eb(0x127)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x340)]=_0x9e8a27['lgBjd'],_0x56e037[_0x4057eb(0x108)]['fontSize']=_0x9e8a27[_0x4057eb(0xe0)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0xfe)]=_0x4057eb(0x290),_0x56e037[_0x4057eb(0x108)]['left']=_0x9e8a27[_0x4057eb(0x2c5)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x20a)]='10',_0x56e037[_0x4057eb(0x108)]['maxWidth']=_0x4057eb(0x1e8),_0x56e037[_0x4057eb(0x108)]['minWidth']=_0x9e8a27[_0x4057eb(0x341)],_0x56e037['style'][_0x4057eb(0x2bf)]=_0x9e8a27[_0x4057eb(0x2d2)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x27a)]=_0x9e8a27['cPUkm'],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x13c)]=_0x9e8a27[_0x4057eb(0xe7)],_0x56e037[_0x4057eb(0x108)]['gap']=_0x9e8a27[_0x4057eb(0x375)],_0x56e037[_0x4057eb(0x108)][_0x4057eb(0xcf)]=_0x4057eb(0x300),Array[_0x4057eb(0x144)](_0x56e037['children'])[_0x4057eb(0x306)](_0x185546=>{const _0x43fddd=_0x4057eb,_0x88e19e={'xNAxX':function(_0x3d274c,_0x53c713,_0x100911){const _0x5a844a=_0x27ff;return _0x9e8a27[_0x5a844a(0x1ed)](_0x3d274c,_0x53c713,_0x100911);}};_0x185546[_0x43fddd(0x108)][_0x43fddd(0x161)]=_0x43fddd(0xcd),_0x185546[_0x43fddd(0x180)]=_0x15d1c4=>{const _0x214661=_0x43fddd;_0x15d1c4[_0x214661(0x23f)]();const _0xe44d9d=_0x185546[_0x214661(0x35a)];_0x88e19e[_0x214661(0x205)](reactToMessage,_0x111954,_0xe44d9d);};}),Array[_0x4057eb(0x144)](_0x56e037[_0x4057eb(0x23e)])[_0x4057eb(0x306)](_0x552f94=>{const _0x8b273e=_0x4057eb,_0x1d5201=_0x9e8a27['wwbTc'][_0x8b273e(0x22c)]('|');let _0x35e9a2=0x0;while(!![]){switch(_0x1d5201[_0x35e9a2++]){case'0':_0x552f94[_0x8b273e(0x108)][_0x8b273e(0x1e0)]=_0x9e8a27['uhIAH'];continue;case'1':_0x552f94[_0x8b273e(0x108)][_0x8b273e(0xff)]=_0x9e8a27[_0x8b273e(0x355)];continue;case'2':_0x552f94[_0x8b273e(0x108)]['height']=_0x9e8a27[_0x8b273e(0x355)];continue;case'3':_0x552f94[_0x8b273e(0x108)][_0x8b273e(0x1a2)]=_0x9e8a27[_0x8b273e(0x1a4)];continue;case'4':_0x552f94['style']['alignItems']=_0x9e8a27['uhIAH'];continue;case'5':_0x552f94['style'][_0x8b273e(0x27a)]=_0x9e8a27['bAisc'];continue;}break;}}),_0x2962dd[_0x4057eb(0x360)](_0x56e037),_0x56e037[_0x4057eb(0x108)][_0x4057eb(0x27a)]=_0x9e8a27['BlikY'];let _0x46c090;_0x2962dd[_0x4057eb(0x186)](_0x9e8a27[_0x4057eb(0x12a)],()=>{const _0x40ee38=_0x4057eb;_0x46c090=_0x9e8a27[_0x40ee38(0x1ed)](setTimeout,()=>{const _0x475335=_0x40ee38;_0x56e037[_0x475335(0x108)][_0x475335(0x27a)]=_0x9e8a27[_0x475335(0x280)];},0xbb8);}),_0x2962dd['addEventListener'](_0x9e8a27[_0x4057eb(0x166)],()=>{const _0x4baab2=_0x4057eb;_0x9e8a27[_0x4baab2(0x36a)](clearTimeout,_0x46c090),_0x56e037[_0x4baab2(0x108)][_0x4baab2(0x27a)]=_0x9e8a27[_0x4baab2(0x278)];});let _0x55e331;_0x2962dd[_0x4057eb(0x186)]('touchstart',()=>{const _0x263177=_0x4057eb,_0x574ade={'LGYFv':_0x9e8a27[_0x263177(0x280)]};_0x55e331=_0x9e8a27[_0x263177(0x1ed)](setTimeout,()=>{const _0x5ee930=_0x263177;_0x56e037['style'][_0x5ee930(0x27a)]=_0x574ade[_0x5ee930(0x184)];},0xbb8);}),_0x2962dd[_0x4057eb(0x186)](_0x9e8a27['spNRi'],()=>clearTimeout(_0x55e331));_0x111954&&db['ref']('rooms/'+roomCode+_0x4057eb(0x168)+_0x111954+_0x4057eb(0xa7))['on'](_0x9e8a27[_0x4057eb(0x339)],_0x2845e3=>{const _0x4a67ea=_0x4057eb;if(!_0x2845e3[_0x4a67ea(0x137)]()){_0x176242[_0x4a67ea(0x31a)]='';return;}const _0x282858=_0x2845e3[_0x4a67ea(0x2e1)]();let _0x50c9a1='';Object[_0x4a67ea(0x35d)](_0x282858)[_0x4a67ea(0x306)](([_0x3212f1,_0x15d45b])=>{const _0x381111=_0x4a67ea;Array['isArray'](_0x15d45b)&&_0x9e8a27['NBmVC'](_0x15d45b[_0x381111(0x227)],0x0)&&(_0x50c9a1+=_0x381111(0x12f)+_0x3212f1+'\x20'+_0x15d45b['length']+'</span>');}),_0x176242[_0x4a67ea(0x31a)]=_0x50c9a1;});if([_0x9e8a27[_0x4057eb(0x1a3)],_0x9e8a27[_0x4057eb(0x2e4)],_0x9e8a27[_0x4057eb(0x2c8)]][_0x4057eb(0x1db)](role)){let _0x18af45=0x0;_0x2962dd[_0x4057eb(0x186)](_0x9e8a27[_0x4057eb(0xca)],()=>{const _0xe1ad27=_0x4057eb;_0x18af45++,_0x9e8a27[_0xe1ad27(0x326)](_0x18af45,0x3)&&(_0x9e8a27[_0xe1ad27(0xc9)](confirm,_0x9e8a27['npNTl'])&&(db[_0xe1ad27(0xb7)](_0xe1ad27(0x1dc)+roomCode+_0xe1ad27(0x168)+_0x111954)[_0xe1ad27(0xa3)](),_0x2962dd[_0xe1ad27(0xa3)]())),_0x9e8a27[_0xe1ad27(0x368)](setTimeout,()=>_0x18af45=0x0,0x5dc);});}const _0x5ad5f9=document['getElementById'](_0x9e8a27[_0x4057eb(0x26a)]);_0x5ad5f9[_0x4057eb(0x360)](_0x2962dd),_0x5ad5f9[_0x4057eb(0x231)]=_0x5ad5f9[_0x4057eb(0x286)];}function cleanupOldRooms(){const _0x48b06e=_0x2bf026,_0x1121bc={'OKugY':function(_0x3a194e,_0x275c77){return _0x3a194e!==_0x275c77;},'LySXO':function(_0x3a9cb7,_0x35c458){return _0x3a9cb7===_0x35c458;},'aSDdi':function(_0x75c74,_0x2c32d8){return _0x75c74>_0x2c32d8;},'ysQlK':_0x48b06e(0x11d),'dqNCs':'value','fneza':'antispamBlocked'};db[_0x48b06e(0xb7)]('rooms')[_0x48b06e(0x2ff)](_0x1121bc[_0x48b06e(0x303)])[_0x48b06e(0xf1)](_0x5cde8b=>{const _0x43a1c9=_0x48b06e,_0x274a08=_0x5cde8b[_0x43a1c9(0x2e1)]();if(!_0x274a08)return;const _0x4908a2=Date['now']();for(const _0x533c57 in _0x274a08){if(_0x1121bc[_0x43a1c9(0x192)](_0x533c57,STATIC_ROOM))continue;const _0x4a6090=_0x274a08[_0x533c57];_0x1121bc[_0x43a1c9(0x1cc)](_0x4908a2-(_0x4a6090[_0x43a1c9(0x1b1)]||0x0),0x2*0x3c*0x3e8)&&db[_0x43a1c9(0xb7)](_0x43a1c9(0x1dc)+_0x533c57)[_0x43a1c9(0xa3)]();}db[_0x43a1c9(0xb7)](_0x1121bc[_0x43a1c9(0x342)])[_0x43a1c9(0x2ff)](_0x1121bc[_0x43a1c9(0x303)])[_0x43a1c9(0xf1)](_0x508daf=>{const _0x2c6390=_0x43a1c9,_0xa385a3=_0x508daf[_0x2c6390(0x2e1)]();if(!_0xa385a3)return;for(const _0x2286e9 in _0xa385a3){if(_0x1121bc[_0x2c6390(0x2dc)](_0x2286e9,STATIC_ROOM))db['ref'](_0x2c6390(0x177)+_0x2286e9)['remove']();}}),db['ref'](_0x1121bc[_0x43a1c9(0x30b)])[_0x43a1c9(0x2ff)](_0x43a1c9(0x1fe))['then'](_0x5dd9bd=>{const _0x2393fc=_0x43a1c9,_0x248876=_0x5dd9bd['val']();if(!_0x248876)return;for(const _0x24a825 in _0x248876){if(_0x1121bc['OKugY'](_0x24a825,STATIC_ROOM))db[_0x2393fc(0xb7)](_0x2393fc(0x266)+_0x24a825)[_0x2393fc(0xa3)]();}});});}function _0x27ff(_0xb93195,_0x2a9293){const _0x4358cc=_0x4358();return _0x27ff=function(_0x27ff42,_0x433e12){_0x27ff42=_0x27ff42-0xa1;let _0x4d3558=_0x4358cc[_0x27ff42];return _0x4d3558;},_0x27ff(_0xb93195,_0x2a9293);}document[_0x2bf026(0x186)](_0x2bf026(0x2ca),()=>{const _0x3c0b6d=_0x2bf026,_0x2123fd={'MKJlf':function(_0x4108b1,_0x232d98){return _0x4108b1===_0x232d98;},'icYAL':_0x3c0b6d(0x28a),'fTwwJ':function(_0x172af8){return _0x172af8();},'dXgez':_0x3c0b6d(0x248)},_0x2339be=document[_0x3c0b6d(0x112)](_0x2123fd['dXgez']);_0x2339be&&_0x2339be[_0x3c0b6d(0x186)]('keypress',function(_0x351e87){const _0x3c2890=_0x3c0b6d;_0x2123fd['MKJlf'](_0x351e87[_0x3c2890(0x2ce)],_0x2123fd['icYAL'])&&(_0x351e87[_0x3c2890(0x18b)](),_0x2123fd['fTwwJ'](sendMessage));});});function showScreen(_0x140653){const _0x1b1a64=_0x2bf026,_0xffb351={'OUbsU':'none','DKvOa':_0x1b1a64(0xbd),'QEUrC':_0x1b1a64(0x175),'vcMqQ':'codeEntryScreen','oynYb':_0x1b1a64(0x20e),'OikOn':_0x1b1a64(0x2c7),'Sdybs':_0x1b1a64(0x1ac),'RdHoo':'authScreen','fZNSo':_0x1b1a64(0x2e5),'EdhDw':_0x1b1a64(0x32b)};[_0xffb351[_0x1b1a64(0x19b)],_0xffb351[_0x1b1a64(0x100)],_0xffb351[_0x1b1a64(0x2bd)],_0xffb351[_0x1b1a64(0x1ca)],_0xffb351[_0x1b1a64(0x15f)],_0xffb351[_0x1b1a64(0x1fc)],_0x1b1a64(0x282),_0xffb351[_0x1b1a64(0x32d)],_0xffb351[_0x1b1a64(0x1b8)]]['forEach'](_0x4eaeb8=>{const _0x2435ed=_0x1b1a64;document[_0x2435ed(0x112)](_0x4eaeb8)[_0x2435ed(0x108)][_0x2435ed(0x27a)]=_0xffb351[_0x2435ed(0x2c1)];}),document['getElementById'](_0x140653)['style']['display']=_0xffb351[_0x1b1a64(0x155)];}function genRoomCode(){const _0xea11a2=_0x2bf026,_0x3417d6={'bYYbo':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','qVqRr':_0xea11a2(0x30d),'BTdSQ':function(_0x2e9b1c,_0x59f6b0){return _0x2e9b1c+_0x59f6b0;},'RQziN':function(_0x12fc02,_0x165a22){return _0x12fc02+_0x165a22;},'qpZhs':function(_0x3ad94d,_0x2fcf65){return _0x3ad94d+_0x2fcf65;},'mlBEH':function(_0x43bca9,_0x119d2f,_0x1a55d7){return _0x43bca9(_0x119d2f,_0x1a55d7);},'PYkSb':function(_0x2ac2a3,_0x44724c,_0x1b6dc2){return _0x2ac2a3(_0x44724c,_0x1b6dc2);},'OcSEH':function(_0x3b0be2,_0x43ae38,_0x1b7039){return _0x3b0be2(_0x43ae38,_0x1b7039);}},_0x3a117e=_0x3417d6[_0xea11a2(0x2b0)],_0x3678c0=_0x3417d6[_0xea11a2(0x1fb)],_0x10f576=(_0x334fd0,_0x3bf498)=>Array[_0xea11a2(0x144)]({'length':_0x3bf498},()=>_0x334fd0[Math[_0xea11a2(0x114)](Math[_0xea11a2(0x1b2)]()*_0x334fd0[_0xea11a2(0x227)])])[_0xea11a2(0x213)]('');return _0x3417d6[_0xea11a2(0x23a)](_0x3417d6[_0xea11a2(0x361)](_0x3417d6['qpZhs'](_0x3417d6['mlBEH'](_0x10f576,_0x3678c0,0x3),_0x3417d6[_0xea11a2(0x219)](_0x10f576,_0x3a117e,0x3)),_0x3417d6[_0xea11a2(0x163)](_0x10f576,_0x3678c0,0x2)),_0x3417d6['OcSEH'](_0x10f576,_0x3a117e,0x2));}function startInactivityTimer(){const _0x1000d8=_0x2bf026,_0x480efb={'aotLt':function(_0x30242b,_0x5430d3){return _0x30242b>_0x5430d3;},'xSpxO':function(_0xbaa820,_0x501638){return _0xbaa820-_0x501638;},'tVQNd':function(_0x2e5603,_0x5ab592){return _0x2e5603*_0x5ab592;},'gfjTt':function(_0x1ad343,_0x29b5f8){return _0x1ad343!==_0x29b5f8;},'ITtId':function(_0x5b52da,_0x2f4ebd){return _0x5b52da+_0x2f4ebd;},'JHXiw':_0x1000d8(0x1dc),'iwawe':function(_0x56171e,_0x39ea63,_0x1a2c52){return _0x56171e(_0x39ea63,_0x1a2c52);}};_0x480efb[_0x1000d8(0x171)](setInterval,()=>{const _0x300f2a=_0x1000d8;_0x480efb['aotLt'](_0x480efb['xSpxO'](Date[_0x300f2a(0xc7)](),lastActivity),_0x480efb[_0x300f2a(0x190)](_0x480efb[_0x300f2a(0x190)](0x5,0x3c),0x3e8))&&_0x480efb[_0x300f2a(0xbf)](roomCode,STATIC_ROOM)&&(db['ref'](_0x480efb['ITtId'](_0x480efb['JHXiw'],roomCode))[_0x300f2a(0xcc)]({'active':![]}),alert(_0x300f2a(0x312)),location[_0x300f2a(0xf7)]());},0x7530);}function setupSidebarBackHandler(){const _0x3e0a72=_0x2bf026,_0x23a1ed={'nsdIc':_0x3e0a72(0x2bb),'juPaT':'show','yOESE':_0x3e0a72(0x2d0)};window['addEventListener'](_0x23a1ed[_0x3e0a72(0x29b)],()=>{const _0x4897e5=_0x3e0a72,_0x56baf1=document[_0x4897e5(0x112)](_0x23a1ed[_0x4897e5(0xf8)]);_0x56baf1?.[_0x4897e5(0x2e7)][_0x4897e5(0x29e)](_0x23a1ed[_0x4897e5(0x370)])&&_0x56baf1['classList'][_0x4897e5(0xa3)]('show');});}function toggleSidebar(){const _0x4dc87a=_0x2bf026,_0x10989e={'OoYZY':_0x4dc87a(0x269)},_0x107b5d=document[_0x4dc87a(0x112)](_0x4dc87a(0x2bb));if(!_0x107b5d[_0x4dc87a(0x2e7)][_0x4dc87a(0x29e)]('show'))_0x107b5d[_0x4dc87a(0x2e7)][_0x4dc87a(0x13e)](_0x10989e['OoYZY']),history[_0x4dc87a(0x19c)]({'sidebarOpen':!![]},'');else{_0x107b5d[_0x4dc87a(0x2e7)][_0x4dc87a(0xa3)](_0x10989e[_0x4dc87a(0x165)]);if(history['state']?.[_0x4dc87a(0x28c)])history[_0x4dc87a(0x145)]();}}function setupVisibilityAttention(){const _0x123370=_0x2bf026,_0x24aaae={'QGWPT':_0x123370(0x2a5)};let _0x423325=0x0,_0x4e3006=document[_0x123370(0x29f)];document[_0x123370(0x186)](_0x24aaae['QGWPT'],()=>{!document['hidden']&&(document['title']=_0x4e3006,_0x423325=0x0);}),window[_0x123370(0x1a1)]=function(){const _0x37ed53=_0x123370;document[_0x37ed53(0x324)]&&(_0x423325++,document[_0x37ed53(0x29f)]='('+_0x423325+_0x37ed53(0x2ae)+_0x4e3006);};}function tryEditProfile(){const _0x3a16e0=_0x2bf026,_0x3940f6={'puOEU':_0x3a16e0(0x2e5)};showScreen(_0x3940f6['puOEU']);}async function submitEditProfile(){const _0x11cb1b=_0x2bf026,_0x54e699={'kyGBp':_0x11cb1b(0x295),'CfiVB':'newPasswordInput','dIaee':_0x11cb1b(0x2e9),'bXVUf':'editProfileError','wdQym':'Please\x20enter\x20your\x20current\x20password.','mnKUW':function(_0x2a81c9,_0x1f8dc9){return _0x2a81c9!==_0x1f8dc9;},'jyIXn':_0x11cb1b(0x15c),'fgkkB':_0x11cb1b(0x23b),'sjLKS':function(_0x5b013c,_0x5dee73){return _0x5b013c(_0x5dee73);},'YVFNs':function(_0x3c6794,_0x5b4de3){return _0x3c6794*_0x5b4de3;},'JnODZ':function(_0x5012cf,_0x2e5238){return _0x5012cf>_0x2e5238;},'Atpdd':function(_0x59ed6b,_0x11f2a3){return _0x59ed6b-_0x11f2a3;},'tYniz':_0x11cb1b(0x2cb),'UOEgP':_0x11cb1b(0x270),'worZY':function(_0x42a184,_0x15fc8d){return _0x42a184!==_0x15fc8d;},'XckjK':function(_0x413e21,_0x4bd08c){return _0x413e21(_0x4bd08c);},'VKvpC':_0x11cb1b(0x277)},_0x46530d=document[_0x11cb1b(0x112)](_0x54e699['kyGBp'])[_0x11cb1b(0x1fe)],_0x3ffe85=document[_0x11cb1b(0x112)](_0x54e699[_0x11cb1b(0x2cc)])[_0x11cb1b(0x1fe)],_0x586c58=document['getElementById'](_0x54e699['dIaee'])[_0x11cb1b(0x1fe)]['trim'](),_0x101472=document[_0x11cb1b(0x112)](_0x54e699['bXVUf']);if(!_0x46530d){_0x101472[_0x11cb1b(0xaa)]=_0x54e699['wdQym'],_0x101472[_0x11cb1b(0x108)][_0x11cb1b(0x27a)]='block';return;}const _0x1cec50=sanitizeUsername(username),_0x32be19=await db[_0x11cb1b(0xb7)](_0x11cb1b(0x34a)+_0x1cec50)[_0x11cb1b(0xe5)]();if(!_0x32be19[_0x11cb1b(0x137)]()){_0x101472[_0x11cb1b(0xaa)]=_0x11cb1b(0x27c),_0x101472[_0x11cb1b(0x108)][_0x11cb1b(0x27a)]=_0x11cb1b(0x23b);return;}const _0xef8b28=_0x32be19[_0x11cb1b(0x2e1)](),_0x5e2dfe=await sha256(_0x46530d);if(_0x54e699['mnKUW'](_0x5e2dfe,_0xef8b28[_0x11cb1b(0x1c1)])){_0x101472[_0x11cb1b(0xaa)]=_0x54e699[_0x11cb1b(0x271)],_0x101472[_0x11cb1b(0x108)][_0x11cb1b(0x27a)]=_0x54e699[_0x11cb1b(0x2fc)];return;}const _0x341ff2={};if(_0x3ffe85){const _0x53f10c=await _0x54e699[_0x11cb1b(0x210)](sha256,_0x3ffe85);_0x341ff2['passwordHash']=_0x53f10c;}_0x54e699[_0x11cb1b(0x25d)](_0x586c58,_0xef8b28['description'])&&(_0x341ff2['description']=_0x586c58);const _0x235b34=Date[_0x11cb1b(0xc7)](),_0x3bbbbb=_0x54e699[_0x11cb1b(0x223)](_0x54e699[_0x11cb1b(0x223)](_0x54e699[_0x11cb1b(0x223)](0x18,0x3c),0x3c),0x3e8),_0x15085e=_0x54e699[_0x11cb1b(0x107)](_0x54e699['Atpdd'](_0x235b34,_0xef8b28[_0x11cb1b(0x1a6)]||0x0),_0x3bbbbb);if(_0x15085e&&confirm(_0x54e699[_0x11cb1b(0x176)])){const _0x4bc160=prompt(_0x54e699[_0x11cb1b(0x377)]);_0x4bc160&&_0x4bc160[_0x11cb1b(0x129)]()&&(_0x341ff2[_0x11cb1b(0xc4)]=_0x4bc160['trim'](),_0x341ff2[_0x11cb1b(0x169)]=(_0xef8b28[_0x11cb1b(0x169)]||[])[_0x11cb1b(0x225)](_0x4bc160['trim']()),_0x341ff2[_0x11cb1b(0x1a6)]=_0x235b34);}_0x341ff2[_0x11cb1b(0xc4)]&&_0x54e699['worZY'](_0x341ff2[_0x11cb1b(0xc4)],_0xef8b28[_0x11cb1b(0xc4)])?(await db[_0x11cb1b(0xb7)](_0x11cb1b(0x34a)+_0x54e699[_0x11cb1b(0x210)](sanitizeUsername,_0x341ff2[_0x11cb1b(0xc4)]))[_0x11cb1b(0x193)]({..._0xef8b28,..._0x341ff2}),await db['ref'](_0x11cb1b(0x34a)+_0x1cec50)[_0x11cb1b(0xa3)](),username=_0x341ff2[_0x11cb1b(0xc4)]):await db[_0x11cb1b(0xb7)](_0x11cb1b(0x34a)+_0x1cec50)[_0x11cb1b(0xcc)](_0x341ff2),_0x54e699[_0x11cb1b(0x2db)](alert,_0x54e699[_0x11cb1b(0x2ea)]),location[_0x11cb1b(0xf7)]();}function cancelEditProfile(){const _0x2d8c8b=_0x2bf026,_0x32877b={'gIMhQ':_0x2d8c8b(0x2e5),'oluGy':'none','EEcVs':function(_0x150e0c,_0x9bbaa9){return _0x150e0c(_0x9bbaa9);}};document[_0x2d8c8b(0x112)](_0x32877b['gIMhQ'])[_0x2d8c8b(0x108)][_0x2d8c8b(0x27a)]=_0x32877b[_0x2d8c8b(0xf3)],_0x32877b[_0x2d8c8b(0x2fb)](showScreen,'chatScreen');}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x2590b3=_0x2bf026,_0x586461={'cqdhG':function(_0x2df140){return _0x2df140();},'sthXj':function(_0x488737,_0x317677){return _0x488737(_0x317677);},'pFYfT':_0x2590b3(0x1fe)};db[_0x2590b3(0xb7)]('users/'+roomCode)['on'](_0x586461[_0x2590b3(0x26c)],async _0x740fdb=>{const _0x38ef2d=_0x2590b3;if(!_0x740fdb['exists']()){renderUserLists({});return;}const _0x541dd6=_0x740fdb[_0x38ef2d(0x2e1)]();await _0x586461[_0x38ef2d(0x17d)](loadRoomRoles),_0x586461[_0x38ef2d(0x1e2)](renderUserLists,_0x541dd6);});}function trackPresence(){const _0x1b2035=_0x2bf026,_0x36c0c0={'uwGkh':'system','SOajy':function(_0x15e4e7,_0x1577dd){return _0x15e4e7||_0x1577dd;},'gzZnt':function(_0x52c1ab,_0x818470){return _0x52c1ab(_0x818470);},'WRqzw':function(_0x3b9be8,_0x220ce9){return _0x3b9be8||_0x220ce9;}};if(_0x36c0c0['SOajy'](!username,!roomCode))return;const _0x2297e8=_0x36c0c0['gzZnt'](sanitizeUsername,username),_0x27db11=db['ref']('users/'+roomCode+'/'+_0x2297e8),_0x2cd668={'username':username,'avatarBase64':_0x36c0c0['WRqzw'](avatarBase64,''),'description':_0x36c0c0[_0x1b2035(0x21f)](userDescription,''),'online':!![],'lastOnline':firebase[_0x1b2035(0x230)][_0x1b2035(0x2ee)][_0x1b2035(0x34e)]};_0x27db11['onDisconnect']()[_0x1b2035(0xcc)]({'online':![],'lastOnline':Date[_0x1b2035(0xc7)]()}),_0x27db11[_0x1b2035(0x193)](_0x2cd668)['then'](()=>{const _0x40c01d=_0x1b2035,_0x32a1d8={'tOloZ':_0x36c0c0[_0x40c01d(0x222)]};updateOnlineIndicator();const _0x1c3ec5=db[_0x40c01d(0xb7)]()[_0x40c01d(0xad)]()[_0x40c01d(0x2ce)];db['ref'](_0x40c01d(0x1dc)+roomCode+_0x40c01d(0x168)+_0x1c3ec5)['set']({'msg':username+_0x40c01d(0x363),'sender':_0x40c01d(0x287),'senderId':_0x36c0c0[_0x40c01d(0x222)],'timestamp':Date[_0x40c01d(0xc7)]()}),_0x27db11[_0x40c01d(0x2b5)]()['remove']()[_0x40c01d(0xf1)](()=>{const _0x23204e=_0x40c01d,_0x141b31=db['ref']()[_0x23204e(0xad)]()['key'];db[_0x23204e(0xb7)]('rooms/'+roomCode+_0x23204e(0x168)+_0x141b31)[_0x23204e(0x193)]({'msg':username+_0x23204e(0x14d),'sender':_0x32a1d8['tOloZ'],'senderId':_0x32a1d8[_0x23204e(0x126)],'timestamp':Date['now']()});});});}function uploadSidebarAvatar(_0x42345f){const _0x23835a=_0x2bf026,_0x1eabb4={'qyFhu':'sidebarAvatarPreview','cyksf':_0x23835a(0x23b),'nmEhC':function(_0x40a880,_0x4afae4){return _0x40a880(_0x4afae4);},'YCBHM':'‚úÖ\x20Profile\x20picture\x20updated!'};if(!_0x42345f[_0x23835a(0x10f)]['length'])return;const _0x4d1e66=_0x42345f[_0x23835a(0x10f)][0x0],_0x524e5e=new FileReader();_0x524e5e[_0x23835a(0x136)]=async()=>{const _0x1f8e37=_0x23835a,_0xc5392=_0x524e5e['result'][_0x1f8e37(0x22c)](',')[0x1];document[_0x1f8e37(0x112)]('sidebarAvatarPreview')[_0x1f8e37(0x14b)]=_0x524e5e[_0x1f8e37(0xb4)],document[_0x1f8e37(0x112)](_0x1eabb4['qyFhu'])[_0x1f8e37(0x108)][_0x1f8e37(0x27a)]=_0x1eabb4[_0x1f8e37(0x2c4)];try{const _0x7d41b7=_0x1eabb4['nmEhC'](sanitizeUsername,username);await db[_0x1f8e37(0xb7)](_0x1f8e37(0x34a)+_0x7d41b7+'/avatarBase64')[_0x1f8e37(0x193)](_0xc5392),_0x1eabb4['nmEhC'](alert,_0x1eabb4[_0x1f8e37(0x21a)]);}catch(_0x3799c0){console[_0x1f8e37(0x197)](_0x3799c0),alert(_0x1f8e37(0x288));}},_0x524e5e[_0x23835a(0x120)](_0x4d1e66);}function muteUser(_0x4669a6,_0x43ad9a){const _0x10197f=_0x2bf026,_0x319c78={'sIKZN':function(_0x1163c7,_0x43e7c4){return _0x1163c7(_0x43e7c4);},'rzTkJ':function(_0x57bdde,_0x53926c){return _0x57bdde+_0x53926c;},'eargD':function(_0x48b5f5,_0x124a6a){return _0x48b5f5*_0x124a6a;},'qjRmJ':function(_0x9fc68e,_0x3269d8){return _0x9fc68e*_0x3269d8;},'ficHu':function(_0x349b4f,_0x4e56a4){return _0x349b4f(_0x4e56a4);}},_0x55e39d=_0x319c78[_0x10197f(0x1c9)](Date['now'](),_0x319c78[_0x10197f(0x221)](_0x319c78['qjRmJ'](_0x43ad9a,0x3c),0x3e8));db[_0x10197f(0xb7)](_0x10197f(0x123)+roomCode+'/'+_0x319c78[_0x10197f(0x22d)](sanitizeUsername,_0x4669a6))[_0x10197f(0x193)]({'muteUntil':_0x55e39d})[_0x10197f(0xf1)](()=>{const _0x312e41=_0x10197f;_0x319c78[_0x312e41(0x15d)](alert,_0x4669a6+_0x312e41(0x2eb)+_0x43ad9a+_0x312e41(0x234)),addSystemMessage(_0x4669a6+_0x312e41(0xb8)+_0x43ad9a+_0x312e41(0x2f6));});}function unmuteUser(_0x4c9419){const _0x117403=_0x2bf026,_0x213973={'yUKzp':function(_0x52bc3f,_0x1d4b6a){return _0x52bc3f(_0x1d4b6a);},'FhAeg':_0x117403(0x182),'kWLPn':function(_0x45a539,_0x2f9f6e){return _0x45a539(_0x2f9f6e);}};if(!isRoomAdmin)return _0x213973['yUKzp'](alert,_0x213973[_0x117403(0x1c0)]);db[_0x117403(0xb7)]('muted/'+roomCode+'/'+_0x213973[_0x117403(0x264)](sanitizeUsername,_0x4c9419))[_0x117403(0xa3)]();}function updateOnlineIndicator(){const _0x3adc59=_0x2bf026,_0x54e5f3={'AmOAu':_0x3adc59(0x21d),'DQpiw':_0x3adc59(0x34c)},_0x1edaac=document[_0x3adc59(0x112)](_0x3adc59(0x159));_0x1edaac[_0x3adc59(0xaa)]=_0x54e5f3['AmOAu'],_0x1edaac['style']['color']=_0x54e5f3[_0x3adc59(0x102)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x13dab4){const _0x3bd316=_0x2bf026,_0x5e24a9={'vUMpa':function(_0x5ecdde,_0x2aad0e){return _0x5ecdde(_0x2aad0e);},'FvlAy':_0x3bd316(0x27c),'QJrum':_0x3bd316(0x318),'ZAyea':_0x3bd316(0x272),'vseUa':_0x3bd316(0xb5),'qxduI':'profileContent','zmAne':_0x3bd316(0x23b)};db[_0x3bd316(0xb7)](_0x3bd316(0x34a)+_0x13dab4)[_0x3bd316(0xe5)]()[_0x3bd316(0xf1)](_0x17da7d=>{const _0x4aa806=_0x3bd316;if(!_0x17da7d[_0x4aa806(0x137)]())return _0x5e24a9[_0x4aa806(0x2d5)](alert,_0x5e24a9[_0x4aa806(0x2ed)]);const _0x10de49=_0x17da7d[_0x4aa806(0x2e1)](),_0x58d9b1=('\x0aName:\x20'+_0x10de49[_0x4aa806(0xc4)]+_0x4aa806(0x22b)+(_0x10de49[_0x4aa806(0x279)]||_0x5e24a9[_0x4aa806(0x31d)])+'\x0aUsername\x20History:\x20'+((_0x10de49[_0x4aa806(0x169)]||[])[_0x4aa806(0x213)](',\x20')||_0x5e24a9[_0x4aa806(0x16b)])+_0x4aa806(0x268)+(_0x10de49['lastChanged']?new Date(_0x10de49[_0x4aa806(0x1a6)])[_0x4aa806(0x117)]():_0x5e24a9['vseUa'])+_0x4aa806(0x251))['trim']();document['getElementById'](_0x5e24a9[_0x4aa806(0xd3)])[_0x4aa806(0xaa)]=_0x58d9b1,document[_0x4aa806(0x112)](_0x4aa806(0x282))['style'][_0x4aa806(0x27a)]=_0x5e24a9[_0x4aa806(0x371)];});}function initUsernameFlow(){const _0x1b67d9=_0x2bf026,_0x127407={'tjILQ':'chat_username','mHyHu':_0x1b67d9(0x1ac),'RNKEO':function(_0x5d0837,_0x1a0ed4){return _0x5d0837(_0x1a0ed4);},'RvEMX':_0x1b67d9(0x175)},_0x38ab66=localStorage[_0x1b67d9(0x214)](_0x127407[_0x1b67d9(0x2ef)]);!_0x38ab66?showScreen(_0x127407['mHyHu']):(username=_0x38ab66,document[_0x1b67d9(0x112)](_0x1b67d9(0x365))['innerText']=username,_0x127407[_0x1b67d9(0x178)](showScreen,_0x127407[_0x1b67d9(0xd4)]));}function closeProfile(){const _0xf411c5=_0x2bf026,_0x1d4d73={'aXYCv':'none'};document[_0xf411c5(0x112)](_0xf411c5(0x282))[_0xf411c5(0x108)][_0xf411c5(0x27a)]=_0x1d4d73[_0xf411c5(0x35e)];}function resetWebsiteData(){const _0x24bf51=_0x2bf026,_0x2136ab={'DWYCs':_0x24bf51(0x201),'yiipV':function(_0x3e1c6f,_0x56480d){return _0x3e1c6f||_0x56480d;},'MHGoF':function(_0x5a2507,_0x2811e0){return _0x5a2507+_0x2811e0;}};try{const _0x49d461=localStorage[_0x24bf51(0x214)](_0x2136ab[_0x24bf51(0x249)]);localStorage['clear'](),sessionStorage['clear'](),_0x49d461&&localStorage['setItem'](_0x2136ab[_0x24bf51(0x249)],_0x49d461);}catch(_0x569d39){}if(_0x2136ab['yiipV'](!username,!roomCode)){const _0x1969da=_0x24bf51(0x2e0)[_0x24bf51(0x22c)]('|');let _0x31eb9a=0x0;while(!![]){switch(_0x1969da[_0x31eb9a++]){case'0':isRoomAdmin=![];continue;case'1':roomCode=null;continue;case'2':clientId=_0x2136ab[_0x24bf51(0x27b)]('_',Math[_0x24bf51(0x1b2)]()['toString'](0x24)[_0x24bf51(0x2a0)](0x2,0x9));continue;case'3':pendingMessages=[];continue;case'4':username=null;continue;}break;}}}function addAnnouncement(){const _0x3a39dc=_0x2bf026,_0x45b35a={'xTaWk':function(_0x35b688,_0x1bfb53){return _0x35b688(_0x1bfb53);},'UdBdF':_0x3a39dc(0x2fa)},_0xed44ec=_0x45b35a[_0x3a39dc(0x2a6)](prompt,_0x45b35a[_0x3a39dc(0x232)]);if(!_0xed44ec)return;db[_0x3a39dc(0xb7)](_0x3a39dc(0x1dc)+roomCode+_0x3a39dc(0x2a7))[_0x3a39dc(0x193)]({'text':_0xed44ec,'by':username,'timestamp':Date[_0x3a39dc(0xc7)]()});}function listenForAnnouncement(){const _0x51dbf0=_0x2bf026,_0x5c43c6={'BYvab':'announcementArea','NiAuI':_0x51dbf0(0x1fe)},_0x15f79b=db[_0x51dbf0(0xb7)](_0x51dbf0(0x1dc)+roomCode+_0x51dbf0(0x2a7));_0x15f79b['on'](_0x5c43c6[_0x51dbf0(0x1d0)],_0xa14b0b=>{const _0x40e61a=_0x51dbf0,_0x2133af=_0xa14b0b['val']();if(!_0x2133af){document[_0x40e61a(0x112)](_0x40e61a(0x20d))[_0x40e61a(0xaa)]='';return;}const _0xcc997=document[_0x40e61a(0x112)](_0x5c43c6['BYvab']);_0xcc997[_0x40e61a(0xaa)]=''+_0x2133af[_0x40e61a(0x2ac)];});}document[_0x2bf026(0x112)](_0x2bf026(0x20d))[_0x2bf026(0x186)]('click',_0x59d332=>{const _0x4d2a2d=_0x2bf026,_0x1e9a63={'cdSJS':function(_0x1d20af,_0x42fb88){return _0x1d20af===_0x42fb88;},'hdLnt':function(_0x453cf4,_0x246a11){return _0x453cf4(_0x246a11);},'fiMfU':_0x4d2a2d(0x2da)};_0x1e9a63[_0x4d2a2d(0x1ae)](_0x59d332[_0x4d2a2d(0x118)],0x3)&&isRoomAdmin&&(_0x1e9a63[_0x4d2a2d(0x1a5)](confirm,_0x1e9a63[_0x4d2a2d(0x296)])&&db[_0x4d2a2d(0xb7)](_0x4d2a2d(0x1dc)+roomCode+_0x4d2a2d(0x2a7))[_0x4d2a2d(0xa3)]());}),document[_0x2bf026(0x112)](_0x2bf026(0x248))['addEventListener'](_0x2bf026(0x226),()=>{const _0x553f11=_0x2bf026,_0x2684a1={'NFnYK':_0x553f11(0x248),'UYSuU':'2px\x20solid\x20red'},_0x4c00ce=document[_0x553f11(0x112)](_0x2684a1[_0x553f11(0x187)]);_0x116421?_0x4c00ce['style'][_0x553f11(0x322)]=_0x2684a1[_0x553f11(0x116)]:_0x4c00ce[_0x553f11(0x108)][_0x553f11(0x322)]='';const _0xf90313=_0x4c00ce['value'][_0x553f11(0x297)](),_0x116421=swearWords[_0x553f11(0x134)](_0x33683a=>_0xf90313[_0x553f11(0x1db)](_0x33683a));_0x116421?(_0x4c00ce[_0x553f11(0x108)][_0x553f11(0x322)]=_0x2684a1[_0x553f11(0x116)],sendBtn[_0x553f11(0x204)]=!![]):(_0x4c00ce['style']['border']='',_0x116421?_0x4c00ce[_0x553f11(0x108)]['border']=_0x2684a1['UYSuU']:_0x4c00ce['style']['border']='');});function muteUser(_0x4a15cb,_0x2d977d){const _0x487b71=_0x2bf026,_0x3a939d={'Tbbth':function(_0x509dcf,_0x42b45e){return _0x509dcf(_0x42b45e);},'OSwBY':function(_0x4cd723,_0x1e4b25){return _0x4cd723+_0x1e4b25;},'Jigmv':function(_0x12e6e5,_0x11b4ea){return _0x12e6e5*_0x11b4ea;},'wCOcu':function(_0x1b496f,_0x388d43){return _0x1b496f(_0x388d43);}},_0x60d0a9=_0x3a939d['OSwBY'](Date[_0x487b71(0xc7)](),_0x3a939d['Jigmv'](_0x2d977d*0x3c,0x3e8));db[_0x487b71(0xb7)](_0x487b71(0x123)+roomCode+'/'+_0x3a939d['wCOcu'](sanitizeUsername,_0x4a15cb))['set']({'muteUntil':_0x60d0a9})[_0x487b71(0xf1)](()=>{const _0x2c56a1=_0x487b71;_0x3a939d[_0x2c56a1(0x254)](alert,_0x4a15cb+_0x2c56a1(0x2eb)+_0x2d977d+_0x2c56a1(0x234));});}function deleteUserMessages(_0x22e895){const _0xf73263=_0x2bf026,_0x519ae3={'BeXGr':'sender'};db[_0xf73263(0xb7)](_0xf73263(0x1dc)+roomCode+'/messages')[_0xf73263(0xb9)](_0x519ae3[_0xf73263(0x1f4)])['equalTo'](_0x22e895)[_0xf73263(0xe5)]()[_0xf73263(0xf1)](_0x35de43=>{const _0x29a099=_0xf73263;_0x35de43['forEach'](_0x31bd6f=>{const _0x2519f9=_0x27ff;db['ref'](_0x2519f9(0x1dc)+roomCode+_0x2519f9(0x168)+_0x31bd6f[_0x2519f9(0x2ce)])[_0x2519f9(0xa3)]();}),alert(_0x29a099(0x206)+_0x22e895+_0x29a099(0x157));});}function pauseRoom(_0x204aea){const _0x3127cd=_0x2bf026,_0x507aa7={'nBYGx':_0x3127cd(0x28f),'qGRvX':_0x3127cd(0x1bc),'rYGTc':_0x3127cd(0x1fe)};db['ref'](_0x3127cd(0x1dc)+roomCode+_0x3127cd(0x1c2))['on'](_0x507aa7[_0x3127cd(0x2a8)],_0x5277c8=>{const _0xcf8ab8=_0x3127cd,_0x45631c=_0x5277c8[_0xcf8ab8(0x2e1)]();document[_0xcf8ab8(0x112)](_0x507aa7[_0xcf8ab8(0x1e6)])[_0xcf8ab8(0x108)]['display']=_0x45631c?_0xcf8ab8(0x23b):_0x507aa7[_0xcf8ab8(0x24b)];});}function canPerformAction(_0x2e343f){const _0x2fab4a=_0x2bf026,_0x90a9a3={'rOhGR':function(_0x358f7b,_0x23bf38){return _0x358f7b===_0x23bf38;},'VwWAV':_0x2fab4a(0x16c),'hGqHW':function(_0x2c61a3,_0xeb9ed6){return _0x2c61a3===_0xeb9ed6;},'WvqAr':_0x2fab4a(0x2a2),'ePLxH':function(_0xadff9c,_0x431504){return _0xadff9c===_0x431504;},'PlQdM':'promote'};if(_0x90a9a3[_0x2fab4a(0x27e)](role,_0x2fab4a(0x150)))return!![];if(_0x90a9a3[_0x2fab4a(0x27e)](_0x2e343f,_0x2fab4a(0x246))||_0x2e343f===_0x2fab4a(0x245))return _0x90a9a3[_0x2fab4a(0x27e)](role,_0x90a9a3['VwWAV'])||_0x90a9a3[_0x2fab4a(0x2c9)](role,_0x90a9a3[_0x2fab4a(0x354)]);if(_0x90a9a3[_0x2fab4a(0x1dd)](_0x2e343f,_0x90a9a3[_0x2fab4a(0x2d1)]))return _0x90a9a3[_0x2fab4a(0x2c9)](role,_0x2fab4a(0x16c));return![];}const html=Object['values'](roomUsers)[_0x2bf026(0x247)](_0x60a6ea=>{const _0x486c54=_0x2bf026,_0x22e96a={'OaIPn':function(_0x662f9b,_0x512189){return _0x662f9b(_0x512189);},'qcbXP':function(_0x554c3c,_0x750f43){return _0x554c3c(_0x750f43);},'thtJt':function(_0x29c47f,_0x10820f){return _0x29c47f(_0x10820f);},'tijeP':function(_0x164f2f,_0x23dc5b){return _0x164f2f(_0x23dc5b);},'fKgub':function(_0x2e8f46,_0x456b5d){return _0x2e8f46===_0x456b5d;}},_0x3b5ac2=_0x22e96a[_0x486c54(0x133)](sanitizeUsername,_0x60a6ea[_0x486c54(0xc4)]),_0x55daac=[];if(_0x3b5ac2!==_0x22e96a[_0x486c54(0x33d)](sanitizeUsername,username)){_0x22e96a[_0x486c54(0x1bd)](canPerformAction,'mute')&&(_0x55daac[_0x486c54(0xad)]('<button\x20onclick=\x22muteUser(\x27'+_0x3b5ac2+_0x486c54(0x2de)),_0x55daac[_0x486c54(0xad)](_0x486c54(0xae)+_0x3b5ac2+_0x486c54(0x2cd)));_0x22e96a[_0x486c54(0xab)](canPerformAction,'deleteMessage')&&_0x55daac[_0x486c54(0xad)](_0x486c54(0xbc)+_0x3b5ac2+_0x486c54(0x373));if(role===_0x486c54(0x150))_0x55daac['push'](_0x486c54(0x17a)+_0x3b5ac2+_0x486c54(0x1c5)),_0x55daac[_0x486c54(0xad)](_0x486c54(0xf2)+_0x3b5ac2+_0x486c54(0x379));else _0x22e96a[_0x486c54(0x16a)](role,_0x486c54(0x16c))&&_0x55daac[_0x486c54(0xad)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x3b5ac2+_0x486c54(0x1c5));}return _0x486c54(0x307)+_0x60a6ea[_0x486c54(0xc4)]+'\x20'+_0x22e96a['qcbXP'](getRoleTag,sanitizeUsername(_0x60a6ea['username']))+_0x486c54(0x263)+_0x3b5ac2+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x55daac[_0x486c54(0x213)]('')+_0x486c54(0x1ad)+_0x3b5ac2+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>';})[_0x2bf026(0x213)]('');function promoteToModerator(_0x5ef50e){const _0x5ef924=_0x2bf026,_0x18aa00={'lPgll':function(_0x4a62d9,_0x51b467){return _0x4a62d9(_0x51b467);},'GoGUy':function(_0x3424e1,_0x53da19){return _0x3424e1(_0x53da19);},'kfvlZ':function(_0x2d2951,_0x1d940b){return _0x2d2951(_0x1d940b);},'CKXoK':function(_0x135f5e,_0x48127d){return _0x135f5e(_0x48127d);},'mvuqO':'üö´\x20Cannot\x20promote\x20Developers.','HbyxF':function(_0x34dbbc,_0x41e278){return _0x34dbbc!==_0x41e278;},'JKVEL':_0x5ef924(0x150),'bWRiC':'admin','YrnEH':function(_0x1cee4e,_0x1bf822){return _0x1cee4e(_0x1bf822);}},_0xe1ce0f=_0x18aa00[_0x5ef924(0x33f)](sanitizeUsername,_0x5ef50e);if(_0x18aa00['kfvlZ'](isProtected,_0xe1ce0f))return _0x18aa00[_0x5ef924(0x199)](alert,_0x18aa00[_0x5ef924(0x17b)]);if(_0x18aa00[_0x5ef924(0x1e5)](role,_0x18aa00[_0x5ef924(0x265)])&&role!==_0x18aa00[_0x5ef924(0x13a)]){_0x18aa00[_0x5ef924(0x299)](alert,_0x5ef924(0x18d));return;}db[_0x5ef924(0xb7)](_0x5ef924(0x24c)+roomCode+'/'+_0xe1ce0f)[_0x5ef924(0x193)](!![])[_0x5ef924(0xf1)](()=>{const _0x1be023=_0x5ef924;_0x18aa00['lPgll'](alert,_0x5ef50e+'\x20promoted\x20to\x20Moderator!'),_0x18aa00[_0x1be023(0x148)](addSystemMessage,_0x5ef50e+_0x1be023(0x170));});}function promoteToAdmin(_0x324e29){const _0x25c425=_0x2bf026,_0x4d0217={'qGxDN':function(_0x3b468a,_0x20b6c4){return _0x3b468a(_0x20b6c4);},'fRCyJ':function(_0x3d2176,_0x280e75){return _0x3d2176(_0x280e75);},'eRPZE':function(_0x1d9603,_0x3d5169){return _0x1d9603(_0x3d5169);},'jFiwn':_0x25c425(0x233),'JIFrm':function(_0x1e6d41,_0x2eb1aa){return _0x1e6d41!==_0x2eb1aa;},'AWVtV':_0x25c425(0x150),'UjIaq':function(_0x328f30,_0x42836a){return _0x328f30(_0x42836a);},'fpjCB':_0x25c425(0x308)},_0x1c40c9=_0x4d0217[_0x25c425(0x167)](sanitizeUsername,_0x324e29);if(_0x4d0217['eRPZE'](isProtected,_0x1c40c9))return alert(_0x4d0217[_0x25c425(0x1ce)]);if(_0x4d0217['JIFrm'](role,_0x4d0217[_0x25c425(0x1e7)])){_0x4d0217[_0x25c425(0x1cb)](alert,_0x4d0217['fpjCB']);return;}db[_0x25c425(0xb7)](_0x25c425(0x362)+roomCode+'/'+_0x1c40c9)[_0x25c425(0x193)](!![])[_0x25c425(0xf1)](()=>{const _0x2899b0=_0x25c425;_0x4d0217[_0x2899b0(0x309)](alert,_0x324e29+_0x2899b0(0x2b7)),_0x4d0217['qGxDN'](addSystemMessage,_0x324e29+_0x2899b0(0x285));});}function toggleUserOptions(_0x277f81){const _0x54a937=_0x2bf026,_0xf7e69a={'IAGAA':function(_0x5bdc21,_0x1ea589){return _0x5bdc21===_0x1ea589;},'mOXyt':'dev','yvVmW':_0x54a937(0x16c),'wZNKe':_0x54a937(0x1bc),'IqZgZ':'block'};(_0xf7e69a[_0x54a937(0x115)](role,_0xf7e69a[_0x54a937(0x15a)])||_0xf7e69a[_0x54a937(0x115)](role,_0xf7e69a[_0x54a937(0x36e)]))&&controls[_0x54a937(0xad)]('<button\x20onclick=\x22demoteUser(\x27'+safeName+'\x27)\x22>Demote</button>');const _0x16e4d5=document['getElementById'](_0x54a937(0xce)+_0x277f81);_0xf7e69a['IAGAA'](_0x16e4d5[_0x54a937(0x108)]['display'],_0xf7e69a['wZNKe'])?_0x16e4d5[_0x54a937(0x108)][_0x54a937(0x27a)]=_0xf7e69a['IqZgZ']:_0x16e4d5[_0x54a937(0x108)][_0x54a937(0x27a)]=_0xf7e69a[_0x54a937(0x139)];}function demoteUser(_0x1295e1){const _0x3b32bf=_0x2bf026,_0x3af4bc={'quldW':function(_0x3fc4f9,_0xb1ad2a){return _0x3fc4f9(_0xb1ad2a);},'AjHWK':function(_0x592580,_0x1ce7c6){return _0x592580===_0x1ce7c6;},'cegXs':function(_0x5cc957,_0x198b31){return _0x5cc957(_0x198b31);},'QEeJL':_0x3b32bf(0x1cd)};if(_0x3af4bc[_0x3b32bf(0x1df)](isProtected,_0x1295e1))return _0x3af4bc[_0x3b32bf(0x1df)](alert,'üö´\x20You\x20cannot\x20demote\x20a\x20Developer.');if(_0x3af4bc[_0x3b32bf(0x229)](role,_0x3b32bf(0x150)))db['ref']('admins/'+roomCode+'/'+_0x1295e1)[_0x3b32bf(0xa3)](),db[_0x3b32bf(0xb7)](_0x3b32bf(0x24c)+roomCode+'/'+_0x1295e1)[_0x3b32bf(0xa3)](),_0x3af4bc[_0x3b32bf(0x27f)](alert,_0x1295e1+_0x3b32bf(0xd7)),_0x3af4bc[_0x3b32bf(0x1df)](addSystemMessage,_0x1295e1+_0x3b32bf(0x17c));else _0x3af4bc[_0x3b32bf(0x229)](role,_0x3b32bf(0x16c))?(db[_0x3b32bf(0xb7)](_0x3b32bf(0x24c)+roomCode+'/'+_0x1295e1)[_0x3b32bf(0xa3)](),_0x3af4bc['quldW'](alert,_0x1295e1+_0x3b32bf(0xd7)),_0x3af4bc[_0x3b32bf(0x27f)](addSystemMessage,_0x1295e1+_0x3b32bf(0x17c))):alert(_0x3af4bc['QEeJL']);}function getRoleTag(_0x1f1fc2){const _0x393f59=_0x2bf026,_0x4af041=sanitizeUsername(_0x1f1fc2);if(globalDevs[_0x393f59(0x1db)](_0x4af041))return _0x393f59(0xec);if(roomAdmins[_0x393f59(0x1db)](_0x4af041))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x393f59(0x1db)](_0x4af041))return _0x393f59(0x2ad);return'';}async function loadRoomRoles(){const _0x143515=_0x2bf026,_0x32b731={'WzLaF':function(_0x559325,_0x5008f9){return _0x559325===_0x5008f9;},'jcSrA':'dev','TRFKl':function(_0x520644,_0x40e37a){return _0x520644(_0x40e37a);},'JAvTv':'moderator','kMLtA':'user'},_0x51bf6c=_0x32b731['TRFKl'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x53bb53=await db[_0x143515(0xb7)](_0x143515(0x336))[_0x143515(0xe5)]();_0x53bb53[_0x143515(0x306)](_0xe6bc91=>{const _0xafb3bd=_0x143515;if(_0x32b731[_0xafb3bd(0x207)](_0xe6bc91['val']()[_0xafb3bd(0x294)],_0x32b731[_0xafb3bd(0xdb)]))globalDevs[_0xafb3bd(0xad)](_0xe6bc91[_0xafb3bd(0x2ce)]);});const _0x5939c1=await db['ref']('admins/'+roomCode)[_0x143515(0xe5)]();_0x5939c1['exists']()&&_0x5939c1[_0x143515(0x306)](_0x1de8ad=>roomAdmins[_0x143515(0xad)](_0x1de8ad[_0x143515(0x2ce)]));const _0x1f8746=await db[_0x143515(0xb7)](_0x143515(0x24c)+roomCode)[_0x143515(0xe5)]();_0x1f8746[_0x143515(0x137)]()&&_0x1f8746[_0x143515(0x306)](_0x529b0a=>roomModerators[_0x143515(0xad)](_0x529b0a[_0x143515(0x2ce)]));if(globalDevs[_0x143515(0x1db)](_0x51bf6c))role=_0x32b731[_0x143515(0xdb)];else{if(roomAdmins[_0x143515(0x1db)](_0x51bf6c))role='admin';else roomModerators[_0x143515(0x1db)](_0x51bf6c)?role=_0x32b731[_0x143515(0x31b)]:role=_0x32b731[_0x143515(0x183)];}}async function renderUserLists(_0x5c4974){const _0x1f54cb=_0x2bf026,_0x47bc17={'zpRzS':function(_0x4590dc,_0x314e9a){return _0x4590dc(_0x314e9a);},'FErEL':function(_0x3cc0e1,_0x52205f){return _0x3cc0e1===_0x52205f;},'xGKaN':function(_0x21769e,_0x1f3811){return _0x21769e(_0x1f3811);},'lMUxA':_0x1f54cb(0x16c),'dKBEO':function(_0xff0533,_0x313211){return _0xff0533===_0x313211;},'eCrZg':_0x1f54cb(0x2a2),'LhmQq':_0x1f54cb(0x150),'qHrLf':function(_0x55bacd,_0x10fd10){return _0x55bacd===_0x10fd10;},'pRtlh':function(_0x43c4df,_0x52dcc6){return _0x43c4df===_0x52dcc6;},'Zcyzn':_0x1f54cb(0x153),'vsDDU':_0x1f54cb(0xd9),'TkEMX':'adminUserList'};roomUsers=_0x5c4974;const _0x535551=_0x47bc17[_0x1f54cb(0x238)](sanitizeUsername,username),_0x23620a=_0x47bc17['FErEL'](role,'dev')||role===_0x47bc17[_0x1f54cb(0x372)]||_0x47bc17[_0x1f54cb(0x330)](role,'moderator');document['getElementById'](_0x47bc17['Zcyzn'])[_0x1f54cb(0x108)][_0x1f54cb(0x27a)]=_0x23620a?_0x1f54cb(0x23b):'none';const _0x3d997a=Object['entries'](_0x5c4974)[_0x1f54cb(0x247)](async([_0x5a780e,_0x1781fb])=>{const _0x2bcd0d=_0x1f54cb,_0x3c0330=_0x47bc17[_0x2bcd0d(0x238)](sanitizeUsername,_0x1781fb[_0x2bcd0d(0xc4)]||_0x5a780e),_0x2dbad3=await _0x47bc17[_0x2bcd0d(0x238)](fetchAvatar,_0x3c0330),_0x5e541e=_0x2dbad3?_0x2bcd0d(0x1ee)+_0x2dbad3+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x4b2b0c=_0x1781fb[_0x2bcd0d(0x110)]?_0x2bcd0d(0x11f):'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>';return _0x2bcd0d(0x1e3)+_0x5e541e+'\x20'+_0x4b2b0c+_0x2bcd0d(0x2af)+_0x3c0330+_0x2bcd0d(0x1c4)+(_0x1781fb[_0x2bcd0d(0xc4)]||_0x5a780e)+_0x2bcd0d(0x1a7)+getRoleTag(_0x3c0330)+_0x2bcd0d(0x250);}),_0x574d3c=await Promise[_0x1f54cb(0x313)](_0x3d997a);document[_0x1f54cb(0x112)](_0x47bc17[_0x1f54cb(0x327)])[_0x1f54cb(0x31a)]=_0x574d3c[_0x1f54cb(0x213)]('');if(!_0x23620a)return;const _0x45758e=Object['entries'](_0x5c4974)[_0x1f54cb(0x247)](async([_0x4d9842,_0x946b0f])=>{const _0xa9e12e=_0x1f54cb,_0x532f66=sanitizeUsername(_0x946b0f[_0xa9e12e(0xc4)]||_0x4d9842);if(_0x47bc17['FErEL'](_0x532f66,_0x535551))return'';const _0x2e15b7=globalDevs[_0xa9e12e(0x1db)](_0x532f66),_0x4151cb=await _0x47bc17[_0xa9e12e(0x173)](fetchAvatar,_0x532f66),_0x1bbdb0=_0x4151cb?_0xa9e12e(0x1ee)+_0x4151cb+_0xa9e12e(0xdc):'',_0x360b04=_0x946b0f[_0xa9e12e(0x110)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':'<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>',_0x4e9a20=[];if(!_0x2e15b7){(_0x47bc17[_0xa9e12e(0xc5)](role,_0xa9e12e(0x150))||role===_0x47bc17['lMUxA']||_0x47bc17[_0xa9e12e(0x1bf)](role,_0x47bc17[_0xa9e12e(0x181)]))&&(_0x4e9a20[_0xa9e12e(0xad)]('<button\x20onclick=\x22muteUser(\x27'+_0x532f66+_0xa9e12e(0xf6)),_0x4e9a20[_0xa9e12e(0xad)]('<button\x20onclick=\x22muteUser(\x27'+_0x532f66+'\x27,\x205)\x22>Mute\x205m</button>'),_0x4e9a20[_0xa9e12e(0xad)](_0xa9e12e(0xae)+_0x532f66+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x47bc17[_0xa9e12e(0xc5)](role,_0x47bc17[_0xa9e12e(0x332)]))_0x4e9a20[_0xa9e12e(0xad)](_0xa9e12e(0x17a)+_0x532f66+'\x27)\x22>+Mod</button>'),_0x4e9a20['push'](_0xa9e12e(0xf2)+_0x532f66+'\x27)\x22>+Admin</button>'),_0x4e9a20['push']('<button\x20onclick=\x22demoteUser(\x27'+_0x532f66+_0xa9e12e(0x188));else _0x47bc17[_0xa9e12e(0x31f)](role,_0x47bc17[_0xa9e12e(0x372)])&&(_0x4e9a20[_0xa9e12e(0xad)](_0xa9e12e(0x17a)+_0x532f66+'\x27)\x22>+Mod</button>'),_0x4e9a20[_0xa9e12e(0xad)]('<button\x20onclick=\x22demoteUser(\x27'+_0x532f66+_0xa9e12e(0x188)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1bbdb0+'\x20'+_0x360b04+_0xa9e12e(0x1d4)+(_0x946b0f[_0xa9e12e(0xc4)]||_0x4d9842)+'\x20'+getRoleTag(_0x532f66)+_0xa9e12e(0x329)+_0x4e9a20[_0xa9e12e(0x213)]('\x20')+_0xa9e12e(0x20b);}),_0x35351f=await Promise['all'](_0x45758e);document[_0x1f54cb(0x112)](_0x47bc17[_0x1f54cb(0x32e)])[_0x1f54cb(0x31a)]=_0x35351f[_0x1f54cb(0x213)]('');}async function fetchAvatar(_0x508555){const _0xdb2ef6=_0x2bf026;if(userAvatars[_0x508555])return userAvatars[_0x508555];const _0x3a7801=await db[_0xdb2ef6(0xb7)](_0xdb2ef6(0x34a)+_0x508555)[_0xdb2ef6(0xe5)]();if(_0x3a7801[_0xdb2ef6(0x137)]()&&_0x3a7801[_0xdb2ef6(0x2e1)]()[_0xdb2ef6(0xe2)])return userAvatars[_0x508555]=_0x3a7801['val']()[_0xdb2ef6(0xe2)],userAvatars[_0x508555];return null;}function sendTyping(){const _0x192a34=_0x2bf026,_0x313f63={'twaTW':function(_0x2c1633,_0x187618){return _0x2c1633(_0x187618);},'aCpze':function(_0x53fdc8,_0x188721,_0x45caf3){return _0x53fdc8(_0x188721,_0x45caf3);}},_0x2e30d=sanitizeUsername(username),_0x5be03a=Date['now']();db[_0x192a34(0xb7)]('typing/'+roomCode+'/'+_0x2e30d)[_0x192a34(0x193)](_0x5be03a);if(typingTimeout)_0x313f63['twaTW'](clearTimeout,typingTimeout);typingTimeout=_0x313f63[_0x192a34(0x131)](setTimeout,()=>{const _0x52d55b=_0x192a34;db[_0x52d55b(0xb7)](_0x52d55b(0x128)+roomCode+'/'+_0x2e30d)[_0x52d55b(0xa3)]();},0x1f4);}function listenForTyping(){const _0x3fefab=_0x2bf026,_0x10eb09={'dtNHp':_0x3fefab(0x10d),'qLGzo':_0x3fefab(0x1fe)};db[_0x3fefab(0xb7)](_0x3fefab(0x128)+roomCode)['on'](_0x10eb09[_0x3fefab(0x29a)],_0xfb63e3=>{const _0x593ff9=_0x3fefab,_0xf10f75=document['getElementById'](_0x10eb09['dtNHp']);if(!_0xfb63e3[_0x593ff9(0x137)]())return _0xf10f75['innerText']='';const _0x401f54=Date['now'](),_0xa50c88=Object[_0x593ff9(0x35d)](_0xfb63e3['val']())['filter'](([_0x48f80b,_0x14c925])=>_0x48f80b!==sanitizeUsername(username)&&_0x401f54-_0x14c925<0x1388)[_0x593ff9(0x247)](([_0x247713])=>_0x247713);_0xf10f75['innerText']=_0xa50c88[_0x593ff9(0x227)]?_0xa50c88['join'](',\x20')+_0x593ff9(0x2f5):'';});}function watchMuteStatus(){const _0x1344af=_0x2bf026,_0x4fe1e9={'SZgUe':function(_0x276929,_0x5d7d62){return _0x276929===_0x5d7d62;},'WSAZq':function(_0x346589,_0x248956){return _0x346589>_0x248956;},'Dhiij':function(_0x63f399,_0x3d68af){return _0x63f399>_0x3d68af;},'VICAd':_0x1344af(0xe1),'XSoRw':'value'},_0x647376=db['ref']('muted/'+roomCode+'/'+sanitizeUsername(username));_0x647376['on'](_0x4fe1e9['XSoRw'],_0x2bd664=>{const _0x5d2557=_0x1344af,_0x22873e=document[_0x5d2557(0x112)]('msgInput');if(_0x2bd664[_0x5d2557(0x137)]()){const _0x3d3b69=_0x2bd664[_0x5d2557(0x2e1)](),_0x664d05=_0x4fe1e9[_0x5d2557(0x19e)](typeof _0x3d3b69,'object')&&_0x3d3b69[_0x5d2557(0x335)]?_0x3d3b69[_0x5d2557(0x335)]:_0x3d3b69;_0x22873e[_0x5d2557(0x204)]=_0x4fe1e9['WSAZq'](_0x664d05,Date[_0x5d2557(0xc7)]()),_0x22873e[_0x5d2557(0x1f1)]=_0x4fe1e9['Dhiij'](_0x664d05,Date[_0x5d2557(0xc7)]())?'‚õî\x20You\x20are\x20muted.':_0x4fe1e9['VICAd'];}else _0x22873e[_0x5d2557(0x204)]=![],_0x22873e[_0x5d2557(0x1f1)]=_0x5d2557(0xe1);});}function isProtected(_0x4440ba){return globalDevs['includes'](_0x4440ba);}function addSystemMessage(_0x49170e){const _0x19d8c1=_0x2bf026,_0x28f53b={'DkStw':_0x19d8c1(0x212),'iGRTs':_0x19d8c1(0x29d),'SaFrp':_0x19d8c1(0x2b2),'juJlE':_0x19d8c1(0x2a1)},_0x4acaa7=document[_0x19d8c1(0x130)](_0x19d8c1(0xba));_0x4acaa7[_0x19d8c1(0x108)][_0x19d8c1(0x273)]=_0x28f53b[_0x19d8c1(0x142)],_0x4acaa7[_0x19d8c1(0x108)][_0x19d8c1(0x1a2)]=_0x28f53b[_0x19d8c1(0x132)],_0x4acaa7[_0x19d8c1(0x108)][_0x19d8c1(0x243)]=_0x28f53b[_0x19d8c1(0x22f)],_0x4acaa7[_0x19d8c1(0x108)][_0x19d8c1(0xee)]='6px\x20auto',_0x4acaa7[_0x19d8c1(0xaa)]=_0x49170e,document[_0x19d8c1(0x112)](_0x19d8c1(0x2a1))[_0x19d8c1(0x360)](_0x4acaa7),document[_0x19d8c1(0x112)](_0x28f53b[_0x19d8c1(0x2bc)])[_0x19d8c1(0x231)]=document[_0x19d8c1(0x112)](_0x19d8c1(0x2a1))[_0x19d8c1(0x286)];}function reactToMessage(_0x571204,_0x322bd7){const _0xabd5f1=_0x2bf026,_0x670069={'HPrmy':function(_0x17d8e7,_0x204994){return _0x17d8e7(_0x204994);},'bIulu':_0xabd5f1(0x1fe)},_0x29b90e=_0x670069[_0xabd5f1(0x14a)](sanitizeUsername,username),_0x17f958=db[_0xabd5f1(0xb7)]('rooms/'+roomCode+_0xabd5f1(0x168)+_0x571204+_0xabd5f1(0xa7));_0x17f958[_0xabd5f1(0x2ff)](_0x670069[_0xabd5f1(0x26e)])[_0xabd5f1(0xf1)](_0x5ba065=>{const _0xe0ad57=_0xabd5f1,_0x1967a9=_0x5ba065['val']()||{},_0x8ef524={};for(const [_0x4131fc,_0x2c0846]of Object[_0xe0ad57(0x35d)](_0x1967a9)){_0x8ef524[_0x4131fc]=(_0x2c0846||[])[_0xe0ad57(0x109)](_0xcd1682=>_0xcd1682!==_0x29b90e);}if(!_0x1967a9[_0x322bd7]||!_0x1967a9[_0x322bd7][_0xe0ad57(0x1db)](_0x29b90e)){if(!_0x8ef524[_0x322bd7])_0x8ef524[_0x322bd7]=[];_0x8ef524[_0x322bd7][_0xe0ad57(0xad)](_0x29b90e);}_0x17f958[_0xe0ad57(0x193)](_0x8ef524);});}