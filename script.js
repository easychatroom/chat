const _0x2de16f=_0x2c92;(function(_0x347afe,_0x3cc093){const _0x5ce80e=_0x2c92,_0x16826d=_0x347afe();while(!![]){try{const _0x4e7a51=-parseInt(_0x5ce80e(0x306))/0x1*(-parseInt(_0x5ce80e(0x1ba))/0x2)+-parseInt(_0x5ce80e(0x1c3))/0x3*(-parseInt(_0x5ce80e(0x393))/0x4)+-parseInt(_0x5ce80e(0x300))/0x5*(parseInt(_0x5ce80e(0x3ef))/0x6)+-parseInt(_0x5ce80e(0x270))/0x7*(parseInt(_0x5ce80e(0x28e))/0x8)+parseInt(_0x5ce80e(0x3cd))/0x9+-parseInt(_0x5ce80e(0x353))/0xa*(parseInt(_0x5ce80e(0x3b7))/0xb)+-parseInt(_0x5ce80e(0x3f4))/0xc*(-parseInt(_0x5ce80e(0x3a5))/0xd);if(_0x4e7a51===_0x3cc093)break;else _0x16826d['push'](_0x16826d['shift']());}catch(_0x186105){_0x16826d['push'](_0x16826d['shift']());}}}(_0x45dd,0xea835));const firebaseConfig={'apiKey':_0x2de16f(0x37e),'authDomain':_0x2de16f(0x38d),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x2de16f(0x2d4),'storageBucket':_0x2de16f(0x2eb),'messagingSenderId':_0x2de16f(0x19d),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x2de16f(0x224)};firebase[_0x2de16f(0x27f)](firebaseConfig);const db=firebase[_0x2de16f(0x2cf)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x2de16f(0x2ff),'shit',_0x2de16f(0x30d),'asshole',_0x2de16f(0x337),_0x2de16f(0x1c2),_0x2de16f(0x3b0),_0x2de16f(0x282),_0x2de16f(0x30f),_0x2de16f(0x1ce),_0x2de16f(0x403),_0x2de16f(0x385),_0x2de16f(0x215),_0x2de16f(0x1c1),_0x2de16f(0x1d4),_0x2de16f(0x290),'puta',_0x2de16f(0x1b3),'otario',_0x2de16f(0x2c2),_0x2de16f(0x3eb),_0x2de16f(0x33f),'ulol',_0x2de16f(0x3af),_0x2de16f(0x245),_0x2de16f(0x1a9)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math['random']()[_0x2de16f(0x1db)](0x24)[_0x2de16f(0x1bc)](0x2,0x9),lastActivity=Date[_0x2de16f(0x34c)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0x2de16f(0x1b5));sound[_0x2de16f(0x3c6)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x5e1231=_0x2de16f,_0x48f938={'cerbi':function(_0x2b6f58,_0x25a9db){return _0x2b6f58+_0x25a9db;},'GLOhi':function(_0x5e69cf,_0x239a34){return _0x5e69cf(_0x239a34);},'fNjVg':function(_0x57c321,_0x2eea4e){return _0x57c321+_0x2eea4e;}},_0x4a3187=_0x48f938[_0x5e1231(0x423)](navigator[_0x5e1231(0x256)]+screen['width'],screen[_0x5e1231(0x3c7)]),_0x37372c=await _0x48f938['GLOhi'](sha256,_0x4a3187);return _0x48f938[_0x5e1231(0x269)]('_',_0x37372c[_0x5e1231(0x1bc)](0x0,0x14));}function sha256(_0x49f555){const _0x264d2f=_0x2de16f,_0xfd4ad0={'iJQKa':'SHA-256'},_0x18f809=new TextEncoder()[_0x264d2f(0x3c3)](_0x49f555);return crypto[_0x264d2f(0x3e8)][_0x264d2f(0x1b6)](_0xfd4ad0[_0x264d2f(0x3e4)],_0x18f809)[_0x264d2f(0x316)](_0x567ae7=>{const _0x4cb9ca=_0x264d2f;return Array[_0x4cb9ca(0x384)](new Uint8Array(_0x567ae7))[_0x4cb9ca(0x336)](_0x1e0c82=>_0x1e0c82['toString'](0x10)[_0x4cb9ca(0x3a3)](0x2,'0'))[_0x4cb9ca(0x3e2)]('');});}function toggleNotifications(){const _0x53003b=_0x2de16f,_0x5536c7={'IXokR':function(_0x1df05f,_0x3f405a){return _0x1df05f===_0x3f405a;},'KMkag':_0x53003b(0x3c4),'uBClh':_0x53003b(0x200),'pxxqG':_0x53003b(0x3a2),'fLsIM':_0x53003b(0x35f),'oNynh':function(_0x8f3daf,_0x119f20){return _0x8f3daf!==_0x119f20;},'uYYoT':_0x53003b(0x247),'TbpnO':_0x53003b(0x36d),'OhbpF':_0x53003b(0x3ac)};_0x5536c7[_0x53003b(0x2dd)](Notification[_0x53003b(0x2e1)],'granted')?Notification['requestPermission']()[_0x53003b(0x316)](_0x6bd2d8=>{const _0x9697b8=_0x53003b;_0x5536c7[_0x9697b8(0x3fa)](_0x6bd2d8,_0x5536c7[_0x9697b8(0x201)])&&(notificationsEnabled=!![],localStorage[_0x9697b8(0x216)](_0x5536c7[_0x9697b8(0x255)],_0x9697b8(0x247)),document[_0x9697b8(0x28d)](_0x5536c7[_0x9697b8(0x21f)])['innerText']=_0x5536c7['fLsIM']);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x53003b(0x216)](_0x5536c7[_0x53003b(0x255)],notificationsEnabled?_0x5536c7[_0x53003b(0x357)]:_0x5536c7[_0x53003b(0x405)]),document[_0x53003b(0x28d)](_0x5536c7[_0x53003b(0x21f)])['innerText']=notificationsEnabled?_0x5536c7[_0x53003b(0x376)]:_0x5536c7[_0x53003b(0x2a3)]);}function toggleAuthMode(){const _0x162a3d=_0x2de16f,_0x20d8cf={'XVAuJ':'Login','oUrmW':_0x162a3d(0x2a5),'kYVRC':_0x162a3d(0x2d7),'ntbAF':_0x162a3d(0x380),'tViIa':_0x162a3d(0x3c9),'ZcvoV':'authAvatar','SIIua':'authAvatarPreview','CALhw':_0x162a3d(0x38a),'Wfpoj':_0x162a3d(0x390),'nWfuK':'authError'};isRegisterMode=!isRegisterMode,document['getElementById']('authTitle')[_0x162a3d(0x1aa)]=isRegisterMode?_0x162a3d(0x390):_0x20d8cf[_0x162a3d(0x322)],document[_0x162a3d(0x28d)](_0x20d8cf['oUrmW'])[_0x162a3d(0x2d3)][_0x162a3d(0x1b1)]=isRegisterMode?_0x20d8cf[_0x162a3d(0x3c2)]:_0x20d8cf[_0x162a3d(0x3d1)],document[_0x162a3d(0x28d)](_0x20d8cf[_0x162a3d(0x1d2)])[_0x162a3d(0x2d3)][_0x162a3d(0x1b1)]=isRegisterMode?_0x20d8cf[_0x162a3d(0x3c2)]:_0x20d8cf[_0x162a3d(0x3d1)],document[_0x162a3d(0x28d)](_0x20d8cf[_0x162a3d(0x1a6)])[_0x162a3d(0x2d3)][_0x162a3d(0x1b1)]=isRegisterMode?_0x20d8cf[_0x162a3d(0x3c2)]:_0x20d8cf['ntbAF'],document[_0x162a3d(0x28d)](_0x20d8cf[_0x162a3d(0x40b)])[_0x162a3d(0x2d3)][_0x162a3d(0x1b1)]=_0x20d8cf[_0x162a3d(0x3d1)],document['getElementById'](_0x20d8cf[_0x162a3d(0x2e0)])[_0x162a3d(0x1aa)]=isRegisterMode?_0x20d8cf[_0x162a3d(0x251)]:_0x162a3d(0x3e3),document[_0x162a3d(0x28d)](_0x20d8cf[_0x162a3d(0x277)])[_0x162a3d(0x2d3)][_0x162a3d(0x1b1)]=_0x20d8cf['ntbAF'];}function previewAvatar(){const _0x4535ac=_0x2de16f,_0x347c47={'lepra':_0x4535ac(0x1fb)},_0x3c89db=document['getElementById'](_0x4535ac(0x32b));if(!_0x3c89db[_0x4535ac(0x3bc)][_0x4535ac(0x2ab)])return;const _0x33c1c9=new FileReader();_0x33c1c9[_0x4535ac(0x1ff)]=()=>{const _0x9d4bf0=_0x4535ac;document[_0x9d4bf0(0x28d)](_0x347c47[_0x9d4bf0(0x1bd)])[_0x9d4bf0(0x3ff)]=_0x33c1c9[_0x9d4bf0(0x219)],document['getElementById'](_0x347c47[_0x9d4bf0(0x1bd)])[_0x9d4bf0(0x2d3)][_0x9d4bf0(0x1b1)]=_0x9d4bf0(0x2d7);},_0x33c1c9[_0x4535ac(0x1bb)](_0x3c89db[_0x4535ac(0x3bc)][0x0]);}async function submitAuth(){const _0x5dcaf2=_0x2de16f,_0x1e8078={'RqFWH':function(_0x5fd3c9,_0x46d767){return _0x5fd3c9||_0x46d767;},'JDvAF':_0x5dcaf2(0x2e9),'OKcWM':_0x5dcaf2(0x339),'cDYVj':_0x5dcaf2(0x358),'eNpSB':'authDescription','TFiXa':_0x5dcaf2(0x380),'FcBlZ':function(_0x4c037a,_0x1c9fc1){return _0x4c037a||_0x1c9fc1;},'WWiZJ':_0x5dcaf2(0x238),'GelhC':_0x5dcaf2(0x2d7),'UISfn':function(_0x2c3e48,_0x3a965c){return _0x2c3e48(_0x3a965c);},'vAsxk':function(_0x2066d6,_0x5d7184){return _0x2066d6!==_0x5d7184;},'JAcGO':_0x5dcaf2(0x37c),'GsFZF':function(_0x33de68){return _0x33de68();},'hSBZV':'1|0|4|2|5|3','LOhDJ':function(_0x3fbe52,_0x3ba720){return _0x3fbe52||_0x3ba720;},'osCPG':function(_0x2610e8){return _0x2610e8();},'Kjpar':'Incorrect\x20password.'},_0x5a6898=document[_0x5dcaf2(0x28d)](_0x1e8078[_0x5dcaf2(0x38f)])[_0x5dcaf2(0x361)]['trim'](),_0x17e8e4=document[_0x5dcaf2(0x28d)](_0x1e8078[_0x5dcaf2(0x227)])[_0x5dcaf2(0x361)][_0x5dcaf2(0x371)](),_0x2f80d0=document['getElementById']('authPasswordConfirm')[_0x5dcaf2(0x361)][_0x5dcaf2(0x371)](),_0x4c639a=document[_0x5dcaf2(0x28d)](_0x1e8078[_0x5dcaf2(0x345)])['value']['trim'](),_0x16c528=document[_0x5dcaf2(0x28d)](_0x5dcaf2(0x32b)),_0x4c3b89=document[_0x5dcaf2(0x28d)](_0x5dcaf2(0x411));_0x4c3b89['style'][_0x5dcaf2(0x1b1)]=_0x1e8078[_0x5dcaf2(0x30a)];if(_0x1e8078[_0x5dcaf2(0x25a)](!_0x5a6898,!_0x17e8e4)){_0x4c3b89[_0x5dcaf2(0x1aa)]=_0x1e8078['WWiZJ'],_0x4c3b89[_0x5dcaf2(0x2d3)][_0x5dcaf2(0x1b1)]=_0x1e8078['GelhC'];return;}const _0x187301=_0x1e8078[_0x5dcaf2(0x1e7)](sanitizeUsername,_0x5a6898),_0x59c985=db['ref'](_0x5dcaf2(0x1fa)+_0x187301),_0x5bc7fd=await _0x59c985['get']();if(isRegisterMode){if(_0x5bc7fd[_0x5dcaf2(0x359)]()){_0x4c3b89['innerText']=_0x5dcaf2(0x2a6),_0x4c3b89[_0x5dcaf2(0x2d3)]['display']=_0x1e8078[_0x5dcaf2(0x421)];return;}if(_0x1e8078[_0x5dcaf2(0x375)](_0x17e8e4,_0x2f80d0)){_0x4c3b89[_0x5dcaf2(0x1aa)]=_0x1e8078[_0x5dcaf2(0x33e)],_0x4c3b89[_0x5dcaf2(0x2d3)]['display']=_0x1e8078['GelhC'];return;}const _0x543a6d=await sha256(_0x17e8e4),_0x18fe26=await _0x1e8078[_0x5dcaf2(0x32d)](generateDeviceId);if(_0x16c528['files'][_0x5dcaf2(0x2ab)]){const _0x300cac=_0x16c528['files'][0x0],_0x50479c=new FileReader();_0x50479c[_0x5dcaf2(0x1ff)]=async()=>{const _0x2f970c=_0x5dcaf2,_0x694bd4=_0x50479c[_0x2f970c(0x219)][_0x2f970c(0x21e)](',')[0x1];await _0x59c985[_0x2f970c(0x31e)]({'username':_0x5a6898,'passwordHash':_0x543a6d,'description':_0x1e8078[_0x2f970c(0x367)](_0x4c639a,''),'avatarBase64':_0x694bd4,'role':_0x1e8078[_0x2f970c(0x2a2)],'deviceId':_0x18fe26,'usernameHistory':[_0x5a6898],'lastChanged':Date['now']()}),username=_0x5a6898,userDescription=_0x4c639a,avatarBase64=_0x694bd4,role=_0x1e8078[_0x2f970c(0x2a2)],startAfterAuth();},_0x50479c[_0x5dcaf2(0x1bb)](_0x300cac);}else{const _0x4e2bd4=_0x1e8078[_0x5dcaf2(0x218)]['split']('|');let _0x1d359a=0x0;while(!![]){switch(_0x4e2bd4[_0x1d359a++]){case'0':username=_0x5a6898;continue;case'1':await _0x59c985[_0x5dcaf2(0x31e)]({'username':_0x5a6898,'passwordHash':_0x543a6d,'description':_0x1e8078[_0x5dcaf2(0x27e)](_0x4c639a,''),'avatarBase64':'','role':_0x1e8078[_0x5dcaf2(0x2a2)],'deviceId':_0x18fe26,'usernameHistory':[_0x5a6898],'lastChanged':Date[_0x5dcaf2(0x34c)]()});continue;case'2':avatarBase64='';continue;case'3':_0x1e8078['osCPG'](startAfterAuth);continue;case'4':userDescription=_0x4c639a;continue;case'5':role=_0x5dcaf2(0x2e9);continue;}break;}}}else{if(!_0x5bc7fd[_0x5dcaf2(0x359)]()){_0x4c3b89[_0x5dcaf2(0x1aa)]=_0x5dcaf2(0x1d0),_0x4c3b89['style']['display']=_0x1e8078['GelhC'];return;}const _0x14ee43=_0x5bc7fd[_0x5dcaf2(0x30c)](),_0x3546cc=await _0x1e8078['UISfn'](sha256,_0x17e8e4);if(_0x3546cc!==_0x14ee43[_0x5dcaf2(0x3d5)]){_0x4c3b89[_0x5dcaf2(0x1aa)]=_0x1e8078[_0x5dcaf2(0x273)],_0x4c3b89[_0x5dcaf2(0x2d3)][_0x5dcaf2(0x1b1)]=_0x5dcaf2(0x2d7);return;}username=_0x5a6898;if(_0x14ee43['description'])userDescription=_0x14ee43[_0x5dcaf2(0x241)];if(_0x14ee43[_0x5dcaf2(0x3bd)])avatarBase64=_0x14ee43[_0x5dcaf2(0x3bd)];if(_0x14ee43[_0x5dcaf2(0x257)])role=_0x14ee43[_0x5dcaf2(0x257)];else role=_0x1e8078['JDvAF'];startAfterAuth();}}async function saveNewUser(_0x531018,_0x163b7e,_0x375f94,_0x1b5314,_0x503fe2){const _0x3d80e6=_0x2de16f,_0x9e751={'Zjjij':function(_0x1a7f45,_0x2de468){return _0x1a7f45(_0x2de468);},'HyPeE':'user','JNuFx':function(_0x186690,_0x452a94){return _0x186690||_0x452a94;},'QsXWv':function(_0x49484b){return _0x49484b();}},_0x3adde3=db[_0x3d80e6(0x1ef)]('auth/'+_0x9e751[_0x3d80e6(0x199)](sanitizeUsername,_0x531018)),_0x5ce00f={'username':_0x531018,'passwordHash':_0x163b7e,'role':_0x9e751[_0x3d80e6(0x369)],'deviceId':_0x375f94,'description':_0x9e751[_0x3d80e6(0x21c)](_0x503fe2,''),'avatarBase64':_0x1b5314||'','usernameHistory':[_0x531018],'lastChanged':Date[_0x3d80e6(0x34c)]()};await _0x3adde3[_0x3d80e6(0x31e)](_0x5ce00f),username=_0x531018,_0x1b5314=_0x5ce00f[_0x3d80e6(0x3bd)],userDescription=_0x5ce00f['description'],_0x9e751[_0x3d80e6(0x26c)](startAfterAuth);}async function startAfterAuth(){const _0x483b99=_0x2de16f,_0x3de707={'wnQUK':_0x483b99(0x2e8),'VECkO':function(_0x3f1660,_0x30acd3){return _0x3f1660+_0x30acd3;},'uxhss':'data:image/png;base64,','SELqL':_0x483b99(0x26a),'CqZcM':function(_0x5e71f6){return _0x5e71f6();},'HeZNw':_0x483b99(0x1cf),'FInZr':function(_0x320db1,_0x444b4b){return _0x320db1(_0x444b4b);}},_0x583261=sanitizeUsername(username),_0x59ef18=db['ref'](_0x483b99(0x1fa)+_0x583261),_0x2aab9b=await _0x59ef18['get']();if(_0x2aab9b[_0x483b99(0x359)]()){const _0x2943b2=_0x2aab9b[_0x483b99(0x30c)]();username=_0x2943b2[_0x483b99(0x26f)],userDescription=_0x2943b2[_0x483b99(0x241)]||'',avatarBase64=_0x2943b2[_0x483b99(0x3bd)]||'',role=_0x2943b2['role']||_0x483b99(0x2e9);if(avatarBase64){const _0x2eb97c=document[_0x483b99(0x28d)](_0x3de707[_0x483b99(0x3c0)]);_0x2eb97c['src']=_0x3de707[_0x483b99(0x250)](_0x3de707[_0x483b99(0x2b1)],avatarBase64),_0x2eb97c[_0x483b99(0x2d3)][_0x483b99(0x1b1)]=_0x483b99(0x2d7);}}else console[_0x483b99(0x307)](_0x3de707['SELqL']);await _0x3de707['CqZcM'](loadRoomRoles),document['getElementById'](_0x3de707[_0x483b99(0x32f)])[_0x483b99(0x1aa)]=username,_0x3de707[_0x483b99(0x397)](showScreen,_0x483b99(0x30b));}function toggleRecording(){const _0xfe00f8=_0x2de16f,_0x31eff1={'ZUqUZ':function(_0x53c689){return _0x53c689();},'ainpU':_0xfe00f8(0x25e),'GqDPb':_0xfe00f8(0x3ca),'xvzDL':_0xfe00f8(0x243),'pwBoZ':function(_0x175062,_0x5adf66,_0x1dc6bc){return _0x175062(_0x5adf66,_0x1dc6bc);},'Eiaic':function(_0xfb6d57,_0x319dea){return _0xfb6d57(_0x319dea);},'VBGMF':'Microphone\x20permission\x20denied.'};isRecording?_0x31eff1['ZUqUZ'](stopRecording):navigator[_0xfe00f8(0x24a)][_0xfe00f8(0x333)]({'audio':!![]})['then'](_0x245688=>{const _0x445767=_0xfe00f8,_0x32242b={'mWcrf':_0x31eff1[_0x445767(0x402)],'mlTtd':function(_0x31fbaf,_0x3b996c){return _0x31fbaf(_0x3b996c);},'vdHDg':_0x31eff1['GqDPb']};mediaRecorder=new MediaRecorder(_0x245688),mediaRecorder[_0x445767(0x3b9)](),isRecording=!![],document[_0x445767(0x28d)](_0x31eff1['xvzDL'])[_0x445767(0x1aa)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x38e628=>audioChunks[_0x445767(0x204)](_0x38e628['data']),mediaRecorder[_0x445767(0x35d)]=()=>{const _0x318659=_0x445767;_0x32242b[_0x318659(0x34e)](clearTimeout,recordingTimer);const _0x58377f=new Blob(audioChunks,{'type':_0x32242b[_0x318659(0x377)]}),_0x4708fa=new FileReader();_0x4708fa[_0x318659(0x1ff)]=()=>{const _0x1def61=_0x318659,_0x247dd6=_0x4708fa[_0x1def61(0x219)]['split'](',')[0x1],_0x3fd917=db[_0x1def61(0x1ef)]()[_0x1def61(0x204)]()[_0x1def61(0x2bb)];db[_0x1def61(0x1ef)](_0x1def61(0x338)+roomCode+_0x1def61(0x1f0)+_0x3fd917)['set']({'msg':_0x32242b['mWcrf'],'audioBase64':_0x247dd6,'sender':username,'senderId':clientId,'timestamp':Date[_0x1def61(0x34c)]()});},_0x4708fa[_0x318659(0x1bb)](_0x58377f);},recordingTimer=_0x31eff1[_0x445767(0x272)](setTimeout,()=>{mediaRecorder&&isRecording&&_0x31eff1['ZUqUZ'](stopRecording);},0x4e20);})[_0xfe00f8(0x38e)](_0x168803=>{const _0x394c3f=_0xfe00f8;_0x31eff1[_0x394c3f(0x1da)](alert,_0x31eff1[_0x394c3f(0x3e6)]);});}function stopRecording(){const _0x368cf9=_0x2de16f,_0x128daf={'Xxnvo':function(_0x5e5603,_0x5140a1){return _0x5e5603&&_0x5140a1;},'XQgrs':'recordBtn'};_0x128daf[_0x368cf9(0x3b5)](mediaRecorder,isRecording)&&(mediaRecorder[_0x368cf9(0x368)](),isRecording=![],document[_0x368cf9(0x28d)](_0x128daf['XQgrs'])[_0x368cf9(0x1aa)]=_0x368cf9(0x1f8));}window[_0x2de16f(0x2a1)]=async()=>{const _0x153dcb=_0x2de16f,_0x48bab1={'DbICg':function(_0x46343c){return _0x46343c();},'eLktM':function(_0x38baeb){return _0x38baeb();},'LXCCz':_0x153dcb(0x200),'DNosM':function(_0x4942bd,_0x196bae){return _0x4942bd===_0x196bae;},'iMqEZ':'true'};_0x48bab1[_0x153dcb(0x2e5)](cleanupOldRooms),_0x48bab1[_0x153dcb(0x261)](setupSidebarBackHandler),_0x48bab1[_0x153dcb(0x2e5)](setupVisibilityAttention),resetWebsiteData();const _0x4aa27f=localStorage[_0x153dcb(0x3a1)](_0x48bab1[_0x153dcb(0x34f)]);notificationsEnabled=_0x48bab1[_0x153dcb(0x1be)](_0x4aa27f,_0x48bab1[_0x153dcb(0x1dd)]),showScreen(_0x153dcb(0x1ec));};function sanitizeUsername(_0x56bf27){const _0x101e22=_0x2de16f;return _0x56bf27[_0x101e22(0x1d5)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x1fb856=_0x2de16f,_0x5ef745={'AeGNw':_0x1fb856(0x2a4),'rOgLp':_0x1fb856(0x1d1),'GfVKd':_0x1fb856(0x1cf),'vOgKb':function(_0x5a5e08,_0x1c4743){return _0x5a5e08(_0x1c4743);},'sFleO':'roomChoiceScreen','LxWjP':_0x1fb856(0x1a1),'iYLwd':_0x1fb856(0x2d7),'bpdgx':_0x1fb856(0x239),'ocAWH':_0x1fb856(0x3f0),'iTAMk':_0x1fb856(0x20f),'sVFyP':'profileError','hxaUK':function(_0x52c42b,_0xed2086){return _0x52c42b||_0xed2086;},'sJhje':function(_0x839965,_0x2a8ab4){return _0x839965(_0x2a8ab4);},'scyIf':'value'},_0x574689=document['getElementById'](_0x5ef745[_0x1fb856(0x266)])['value']['trim'](),_0xc8a849=document[_0x1fb856(0x28d)]('profileDescriptionInput')[_0x1fb856(0x361)][_0x1fb856(0x371)](),_0x3ba6a3=document['getElementById'](_0x5ef745['sVFyP']);if(_0x5ef745['hxaUK'](!_0x574689,!_0xc8a849)){_0x3ba6a3[_0x1fb856(0x1aa)]=_0x1fb856(0x35a),_0x3ba6a3[_0x1fb856(0x2d3)]['display']=_0x5ef745[_0x1fb856(0x248)];return;}const _0x3be9f9=_0x5ef745[_0x1fb856(0x281)](sanitizeUsername,_0x574689),_0x2fa904=db['ref']('profiles/'+_0x3be9f9);_0x2fa904[_0x1fb856(0x232)](_0x5ef745['scyIf'])[_0x1fb856(0x316)](_0x5bf2ca=>{const _0x3004ca=_0x1fb856,_0x395232={'roKAM':_0x5ef745[_0x3004ca(0x38b)],'rRSWB':_0x5ef745[_0x3004ca(0x2b7)],'CJQve':_0x5ef745[_0x3004ca(0x1ea)],'fMLeq':function(_0x4179ee,_0x1a0629){const _0x55382a=_0x3004ca;return _0x5ef745[_0x55382a(0x373)](_0x4179ee,_0x1a0629);},'mXMER':_0x5ef745[_0x3004ca(0x2e7)]};if(_0x5bf2ca[_0x3004ca(0x359)]())_0x3ba6a3[_0x3004ca(0x1aa)]=_0x5ef745['LxWjP'],_0x3ba6a3[_0x3004ca(0x2d3)][_0x3004ca(0x1b1)]=_0x5ef745[_0x3004ca(0x248)];else{const _0x24b667={'username':_0x574689,'description':_0xc8a849,'lastChanged':Date['now'](),'usernameHistory':[_0x574689]};_0x2fa904[_0x3004ca(0x31e)](_0x24b667,_0x48713a=>{const _0x3afe24=_0x3004ca;if(_0x48713a)console[_0x3afe24(0x22e)](_0x395232[_0x3afe24(0x197)],_0x48713a),_0x3ba6a3['innerText']=_0x395232[_0x3afe24(0x1ae)],_0x3ba6a3[_0x3afe24(0x2d3)]['display']=_0x3afe24(0x2d7);else{const _0x2a7dc5=_0x3afe24(0x1e2)[_0x3afe24(0x21e)]('|');let _0x303aba=0x0;while(!![]){switch(_0x2a7dc5[_0x303aba++]){case'0':document[_0x3afe24(0x28d)](_0x395232['CJQve'])[_0x3afe24(0x1aa)]=_0x574689;continue;case'1':_0x395232[_0x3afe24(0x283)](showScreen,_0x395232[_0x3afe24(0x2ea)]);continue;case'2':localStorage['setItem'](_0x3afe24(0x391),_0xc8a849);continue;case'3':localStorage['setItem'](_0x3afe24(0x2f9),_0x574689);continue;case'4':username=_0x574689;continue;}break;}}});}})[_0x1fb856(0x38e)](_0x53cc1e=>{const _0x455316=_0x1fb856;console[_0x455316(0x22e)](_0x5ef745['bpdgx'],_0x53cc1e),_0x3ba6a3[_0x455316(0x1aa)]=_0x5ef745['ocAWH'],_0x3ba6a3[_0x455316(0x2d3)][_0x455316(0x1b1)]=_0x5ef745[_0x455316(0x248)];});}function saveProfile(_0x5ee366,_0x1592d2,_0xc41bf0){const _0x48d475=_0x2de16f,_0x456ef3={'BcBBW':_0x48d475(0x1cf),'xwrfE':function(_0x2874be,_0x1ed2fb){return _0x2874be(_0x1ed2fb);},'stIKj':_0x48d475(0x30b)},_0x29c109=Date[_0x48d475(0x34c)](),_0x722749=[_0x5ee366];db[_0x48d475(0x1ef)]('profiles/'+_0xc41bf0)[_0x48d475(0x31e)]({'username':_0x5ee366,'description':_0x1592d2,'lastChanged':_0x29c109,'usernameHistory':_0x722749}),document[_0x48d475(0x28d)](_0x456ef3['BcBBW'])[_0x48d475(0x1aa)]=_0x5ee366,_0x456ef3[_0x48d475(0x2fb)](showScreen,_0x456ef3['stIKj']);}function _0x2c92(_0x457712,_0x1dff58){const _0x45ddff=_0x45dd();return _0x2c92=function(_0x2c92d4,_0x2c0270){_0x2c92d4=_0x2c92d4-0x196;let _0x2f79d6=_0x45ddff[_0x2c92d4];return _0x2f79d6;},_0x2c92(_0x457712,_0x1dff58);}function generateRoom(){const _0x527f8e=_0x2de16f,_0x529959={'mxViK':function(_0x3cd79f){return _0x3cd79f();},'HTjgb':function(_0x5a452f,_0x403dbf){return _0x5a452f+_0x403dbf;},'lBnId':_0x527f8e(0x338),'Znldr':function(_0x5dc5eb){return _0x5dc5eb();}};roomCode=_0x529959['mxViK'](genRoomCode),db['ref'](_0x529959[_0x527f8e(0x20c)](_0x529959[_0x527f8e(0x2b8)],roomCode))[_0x527f8e(0x31e)]({'active':!![],'created':Date[_0x527f8e(0x34c)]()}),_0x529959[_0x527f8e(0x406)](startChat);}function joinRoom(){const _0x8038ac=_0x2de16f,_0x127b1a={'mhizX':function(_0x371adf,_0xfadc59){return _0x371adf!==_0xfadc59;},'oBiAI':function(_0x4550d5){return _0x4550d5();},'ZVPvE':function(_0x4bbd9e,_0x46f8f8){return _0x4bbd9e(_0x46f8f8);},'XDCiQ':_0x8038ac(0x31c),'ATGMr':_0x8038ac(0x258),'hdLjJ':_0x8038ac(0x364),'vZwLZ':function(_0x2b42ec,_0x44ba50){return _0x2b42ec+_0x44ba50;},'EiLit':_0x8038ac(0x338)},_0x2d799a=roomCode||document[_0x8038ac(0x28d)](_0x127b1a[_0x8038ac(0x304)])[_0x8038ac(0x361)][_0x8038ac(0x371)]()[_0x8038ac(0x1ab)]();if(!_0x2d799a)return alert(_0x127b1a[_0x8038ac(0x409)]);roomCode=_0x2d799a;if(roomCode===STATIC_ROOM){showScreen(_0x8038ac(0x3c5));return;}db[_0x8038ac(0x1ef)](_0x127b1a[_0x8038ac(0x1a2)](_0x127b1a['EiLit'],roomCode))[_0x8038ac(0x3dd)]()[_0x8038ac(0x316)](_0x34bd05=>{const _0x4fa95a=_0x8038ac;_0x34bd05[_0x4fa95a(0x359)]()&&_0x127b1a[_0x4fa95a(0x293)](_0x34bd05[_0x4fa95a(0x30c)]()['active'],![])?_0x127b1a[_0x4fa95a(0x2de)](startChat):_0x127b1a[_0x4fa95a(0x326)](alert,_0x127b1a['XDCiQ']);});}function _0x45dd(){const _0x36b21f=['Enter\x20a\x20valid\x20room\x20code','clear','xyNzK','RqFWH','stop','HyPeE','eJKOU','cpKzt','Delete\x20this\x20message?','false','sdZRU','\x27)\x22>Demote</button>','eNBkY','trim','nBXdL','vOgKb','No\x20changes\x20yet','vAsxk','fLsIM','vdHDg','editProfileScreen','XfRSd','HLUWs','gyHlf','Passwords\x20do\x20not\x20match.','HVuOF','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','none','edmjf','Tuugq','rEjfq','from','cabron','<button\x20onclick=\x22promoteToModerator(\x27','onDisconnect','YbyVZ','xbwDi','authSubmitBtn','AeGNw','input','easy-chatroom.firebaseapp.com','catch','OKcWM','Register','profile_description','QWyYB','4wbnBZH','qPMYq','eNKdY','SHpan','FInZr','ycKvt','contains','adminUserList','\x27,\x205)\x22>Mute\x205m</button>','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','XcozI','profileViewer','chatScreen','mjxZM','getItem','notifToggleBtn','padStart','WQima','26cOfUZA','MWGPv','✅\x20Profile\x20updated!\x20Please\x20reload.','cgSgZ','kymqI','Qmauz','\x20is\x20online','🔔\x20Enable\x20Notifications','staticPasswordInput','codeEntryScreen','bobo','cunt','orderByChild','limitToLast','yhBdY','users/','Xxnvo','JtqUy','1045rpJfMk','agCYz','start','Incorrect\x20current\x20password.','VcLCc','files','avatarBase64','<button\x20onclick=\x22deleteUserMessages(\x27','eMJdD','wnQUK','admin','kYVRC','encode','granted','passwordScreen','volume','height','tdtmA','authDescription','audio/webm','\x20demoted\x20to\x20user.','nFfiZ','12284469NHUxnE','aepsB','LoYyk','2-digit','ntbAF','typing','FTCdD','⛔\x20You\x20are\x20muted.','passwordHash','muted/','OiUbx','gXAYN','add','eYfjL','You\x20got\x20messages\x20from\x20','WqWdz','get','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','dXrDr','UunHR','\x20muted\x20for\x20','join','Login','iJQKa','ksLeu','VBGMF','EXXXc','subtle','announcementArea','flex','gago','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x20🔧\x20','reload','6839796ZbcYPy','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','⚠️\x20Failed\x20to\x20update\x20avatar.','\x20was\x20promoted\x20to\x20Moderator','yrSDZ','5894544yKBqmr','admins/','mryFJ','mnUHo','wmEwx','Profile\x20not\x20found.','IXokR','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','TfvPP',')\x20New\x20message\x20•\x20','IPBuE','src','KEDAU','GFbkD','ainpU','coño','visibilitychange','TbpnO','Znldr','QIKue','ZTDvj','hdLjJ','🚫\x20Cannot\x20promote\x20Developers.','SIIua','GMeiZ','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','/messages','VoJpn','YjqLf','authError','xvmke','EsDwH','child_added','appendChild','<img\x20src=\x22data:image/png;base64,','mOuxM','</li>','imageBase64','fENhD','VjZTw','DROjo','<img\x20src=\x22','MKFSy','mQRsS','QZtRc','GelhC','lxuuA','cerbi','HBJYK','Wtgqb','LxjDs','XbGOi','passwordError','roKAM','rhThR','Zjjij','moderator','zvlCV','xUqFm','985049198428','yDAku','\x20joined\x20the\x20chat','TmEXd','❌\x20Username\x20already\x20taken.','vZwLZ','all','profileContent','FJOXd','ZcvoV','audioUrl','color','putang\x20ina','innerText','toUpperCase','\x27)\x22>Promote\x20to\x20Admin</button>','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','rRSWB','QsIor','YAxao','display','LTWdg','fdp','Enter\x20your\x20new\x20username:','sounds/beep.mp3','digest','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','sGeVj','placeholder','1311698ApONAK','readAsDataURL','substr','lepra','DNosM','rZAbO','HvYNG','porra','dick','1659930emgBtS','innerHTML','unknown','qcGjN','FrXlO','qbbNh','pfbcJ','/announcement','kGMeN','ssySg','</small>','pendejo','namePreview','Account\x20not\x20found.','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','tViIa','cPuqs','caralho','replace','Type\x20a\x20message...','QGXrY','DesAF','PQNYH','Eiaic','toString','OFcip','iMqEZ','IDxNI','deleteMessage','click','YbXQD','3|2|4|0|1','classList','show','MEFgn','aolwA','UISfn','MbLFB','dev','GfVKd','auth','authScreen','AVied','msg','ref','/messages/','hbhRL','\x27,\x2010)\x22>Mute\x2010m</button>','Room\x20is\x20currently\x20paused.','IcPso','yxnNR','sent','UJgNJ','🎙️','uaPJc','auth/','authAvatarPreview','0.8rem','toLocaleString','vyZbn','onloadend','notifications_enabled','KMkag','adminControlsSection','✅\x20Profile\x20picture\x20updated!','push','QFnKy','TrjSd','Admins\x20only.','XxIfq','\x20was\x20promoted\x20to\x20Admin','equalTo','hDcoh','HTjgb','userSidebar','\x0aDescription:\x20','profileUsernameInput','yjnqD','zjowO','/paused','KEaZJ','2px\x20solid\x20red','gilipollas','setItem','manSP','hSBZV','result','xPLjG','xwOiZ','JNuFx','SnFHQ','split','pxxqG','antispam/','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','<button\x20onclick=\x22demoteUser(\x27','iJUQY','G-QDESJ2WR42','\x0aUsername\x20History:\x20','RXHPV','cDYVj','data:image/png;base64,','filter','ecjzt','usernameHistory','messages','DuIcV','error','xwDeO','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','ZjgLQ','once','kErfY','AcMVI','update','PUBPo','pyCQW','Please\x20fill\x20in\x20all\x20fields.','Error\x20checking\x20username:','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','muteUntil','[Unknown]','odAmH','ImWwU','\x27)\x22>Promote\x20to\x20Moderator</button>','ServerValue','description','fKZME','recordBtn','●\x20Online','bwisit','💬\x20','true','iYLwd','tDWrh','mediaDevices','hlAwy','eGjgQ','SGVef','object','nKyhP','VECkO','Wfpoj','system','Failed\x20to\x20register\x20user\x20into\x20room.','some','uBClh','userAgent','role','roomCodeInput','border','FcBlZ','vBrzv','cancel','TwoQc','[Voice\x20message]','vqHTI','PyveL','eLktM','AkWjz','fAlcw','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','zMtun','iTAMk','remove','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','fNjVg','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','<button\x20onclick=\x22promoteToAdmin(\x27','QsXWv','lRHlO','\x27)\x22>Delete\x20Messages</button>','username','378777NpEQUl','jdfvK','pwBoZ','Kjpar','yguUW','typing/','random','nWfuK','keys','lweTv','forEach','IvcfN','Messages\x20by\x20','\x27)\x22>+Mod</button>','LOhDJ','initializeApp','moderators/','sJhje','puta','fMLeq','\x20in\x20room\x20','LMswv','xpXqP','ECStG','disabled','RiVrV','roomDisplay','Please\x20enter\x20the\x20password.','values','getElementById','216VdFBlU','yrnqg','merda','avatar_base64','pWDFl','mhizX','nMKTS','editProfileError','uvgjT','scrollHeight','nzmij','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','dofFX','mrwYz','\x20went\x20offline','addAnnouncementBtn','eSrqw','msgInput','onload','JDvAF','OhbpF','Failed\x20to\x20save\x20profile:','authPasswordConfirm','Username\x20already\x20exists.','sender','HuhJZ','createElement','pakcS','length','roomStates/','New\x20Chat\x20Message','EmrQs','aBgdw','toLocaleTimeString','uxhss','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','❌\x20Image\x20must\x20be\x20under\x202MB','Session\x20expired.','textAlign','xYDWs','rOgLp','lBnId','div','fontSize','key','\x20is\x20typing...','addEventListener','PBGCJ','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','\x20promoted\x20to\x20Admin!','userOptions-','putangina','fSvNN','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','EeROz','bnvms','KFJTb','scrollTop','margin','vzyZu','<button\x20onclick=\x22muteUser(\x27','AbTCj','vsgwO','Jsqcm','database','hidden','UbcAN','jgXpB','style','easy-chatroom','antispamBlocked/','GtiLf','block','FIBgR','No\x20room\x20code\x20available\x20for\x20private\x20rooms','jpsOu','Remove\x20Announcement?','Yeubf','oNynh','oBiAI','dkFrz','CALhw','permission','gr8stg/','tTQhi','onlineStatus','DbICg','Enter','sFleO','sidebarAvatarPreview','user','mXMER','easy-chatroom.firebasestorage.app','QzSLd','fKhxY','entries','xOkOd','dNgUk','XxttZ','FIrUb','WXOey','received','woFjS','bPlHy','znVeM','SRlOn','chat_username','nTQuV','xwrfE','\x27)\x22>+Admin</button>','6px\x20auto','drfMU','fuck','5YEkJNt','includes','MCjWQ','vehBj','ATGMr','pushState','2IBdhkm','warn','antispam','back','TFiXa','roomChoiceScreen','val','bitch','zRlyc','mierda','flagPageAttention','\x20minutes','NqbIe','cJnqT','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','audioBase64','then','oRDkU','yDrNU','cdnzt','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','YCfjt','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','Xitcd','set','OccHN','IRSOG','qLkND','XVAuJ','userDisplay','content','duzFp','ZVPvE','online','antispamBlocked','<span\x20class=\x22sender-name\x22>','GBOaY','authAvatar','concat','GsFZF','\x20minutes.','HeZNw','</span>','vzbzo','noGfn','getUserMedia','TqVWJ','userList','map','bastard','rooms/','authUsername','play','center','wuBsD','GPRgk','JAcGO','tangina','IOckU','Please\x20enter\x20your\x20current\x20password.','KYLOT','DOMContentLoaded','title','eNpSB','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','toLowerCase','data:audio/webm;base64,','huHgC','</span>\x20','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','now','NNGEI','mlTtd','LXCCz','\x0aLast\x20Changed:\x20','OYQLz','\x0a\x20\x20\x20\x20','68510xZFKVD','\x20left\x20the\x20chat','KUvnw','pausedOverlay','uYYoT','authPassword','exists','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','rooms','onstop','aNWWz','🔕\x20Disable\x20Notifications','Unknown','value','ZNGkb','Room\x20password\x20not\x20set.\x20Cannot\x20join.'];_0x45dd=function(){return _0x36b21f;};return _0x45dd();}async function startChat(){const _0x5e977c=_0x2de16f,_0x120cb3={'nFfiZ':function(_0x37d36d,_0x216441){return _0x37d36d(_0x216441);},'pfbcJ':_0x5e977c(0x253),'GodWM':_0x5e977c(0x30b),'MccwE':_0x5e977c(0x2e8),'jMPTz':function(_0x5d614f,_0x1daa85){return _0x5d614f+_0x1daa85;},'ECStG':'data:image/png;base64,','QFnKy':_0x5e977c(0x323),'oRDkU':_0x5e977c(0x2d9),'cdnzt':_0x5e977c(0x19a),'yrSDZ':_0x5e977c(0x29e),'dXrDr':_0x5e977c(0x2d7),'RXHPV':_0x5e977c(0x252),'rZAbO':function(_0x39335e){return _0x39335e();},'YbXQD':function(_0x3df83e){return _0x3df83e();},'DesAF':function(_0x3a75dc){return _0x3a75dc();},'jpsOu':function(_0x11b093){return _0x11b093();},'AcMVI':function(_0x4ca73b,_0x244c0e){return _0x4ca73b||_0x244c0e;}};if(_0x120cb3[_0x5e977c(0x234)](!roomCode,!username))return _0x120cb3[_0x5e977c(0x3cc)](alert,'Missing\x20room\x20or\x20user\x20information.'),_0x120cb3[_0x5e977c(0x3cc)](showScreen,_0x5e977c(0x30b));_0x120cb3[_0x5e977c(0x1e1)](listenForPauseState),listenForUserList(),await loadRoomRoles(),_0x120cb3['DesAF'](listenForAnnouncement);const _0x17e86b=_0x120cb3[_0x5e977c(0x3cc)](sanitizeUsername,username),_0x51a1e4=db[_0x5e977c(0x1ef)]('users/'+roomCode+'/'+_0x17e86b),_0x465563={'username':username,'online':!![],'lastOnline':firebase[_0x5e977c(0x2cf)][_0x5e977c(0x240)]['TIMESTAMP']};_0x51a1e4[_0x5e977c(0x31e)](_0x465563,_0x49cd04=>{const _0x4a7d27=_0x5e977c;if(_0x49cd04)return _0x120cb3[_0x4a7d27(0x3cc)](alert,_0x120cb3[_0x4a7d27(0x1c9)]),_0x120cb3[_0x4a7d27(0x3cc)](showScreen,_0x120cb3['GodWM']);const _0x1cbc2a=document[_0x4a7d27(0x28d)](_0x120cb3['MccwE']);avatarBase64&&(_0x1cbc2a['src']=_0x120cb3['jMPTz'](_0x120cb3[_0x4a7d27(0x287)],avatarBase64),_0x1cbc2a['style']['display']='block');document['getElementById'](_0x120cb3[_0x4a7d27(0x205)])[_0x4a7d27(0x1c4)]=username+'\x20'+_0x120cb3[_0x4a7d27(0x3cc)](getRoleTag,_0x17e86b),document[_0x4a7d27(0x28d)](_0x4a7d27(0x28a))[_0x4a7d27(0x1aa)]=roomCode===STATIC_ROOM?_0x120cb3[_0x4a7d27(0x317)]:roomCode;['admin',_0x4a7d27(0x1e9),_0x120cb3[_0x4a7d27(0x319)]][_0x4a7d27(0x301)](role)?document[_0x4a7d27(0x28d)](_0x120cb3[_0x4a7d27(0x3f3)])[_0x4a7d27(0x2d3)][_0x4a7d27(0x1b1)]=_0x120cb3[_0x4a7d27(0x3df)]:document[_0x4a7d27(0x28d)](_0x120cb3[_0x4a7d27(0x3f3)])[_0x4a7d27(0x2d3)][_0x4a7d27(0x1b1)]=_0x4a7d27(0x380);const _0x5e8315=db[_0x4a7d27(0x1ef)]()[_0x4a7d27(0x204)]()[_0x4a7d27(0x2bb)];db[_0x4a7d27(0x1ef)](_0x4a7d27(0x338)+roomCode+_0x4a7d27(0x1f0)+_0x5e8315)[_0x4a7d27(0x31e)]({'msg':username+_0x4a7d27(0x3ab),'sender':_0x120cb3[_0x4a7d27(0x226)],'senderId':_0x120cb3['RXHPV'],'timestamp':Date[_0x4a7d27(0x34c)]()}),_0x120cb3[_0x4a7d27(0x3cc)](showScreen,'chatScreen'),_0x120cb3[_0x4a7d27(0x1bf)](listenForMessages),listenForTyping(),_0x120cb3['YbXQD'](startInactivityTimer),_0x120cb3[_0x4a7d27(0x1d8)](trackPresence),_0x120cb3[_0x4a7d27(0x2da)](watchProfileChanges),watchMuteStatus();});}function watchProfileChanges(){const _0x3f7ce0=_0x2de16f,_0x2e65fe={'Crreo':_0x3f7ce0(0x2e8),'fENhD':function(_0xec608,_0xfaf92f){return _0xec608+_0xfaf92f;},'zvlCV':'block','lweTv':function(_0x2dfbc4,_0x24a824){return _0x2dfbc4(_0x24a824);},'UXQvx':function(_0xd31ab6,_0x572ce4){return _0xd31ab6(_0x572ce4);},'vzyZu':'value'},_0x667576=_0x2e65fe['UXQvx'](sanitizeUsername,username);db['ref'](_0x3f7ce0(0x1fa)+_0x667576)['on'](_0x2e65fe[_0x3f7ce0(0x2ca)],_0x1523a3=>{const _0xd6050c=_0x3f7ce0;if(!_0x1523a3[_0xd6050c(0x359)]())return;const _0x38eb0c=_0x1523a3[_0xd6050c(0x30c)]();userDescription=_0x38eb0c[_0xd6050c(0x241)]||'',avatarBase64=_0x38eb0c['avatarBase64']||'',role=_0x38eb0c['role']||_0xd6050c(0x2e9);if(avatarBase64){const _0x2c6e03=document[_0xd6050c(0x28d)](_0x2e65fe['Crreo']);!_0x2c6e03[_0xd6050c(0x3ff)]['includes'](avatarBase64)&&(_0x2c6e03[_0xd6050c(0x3ff)]=_0x2e65fe[_0xd6050c(0x41a)](_0xd6050c(0x228),avatarBase64),_0x2c6e03[_0xd6050c(0x2d3)][_0xd6050c(0x1b1)]=_0x2e65fe[_0xd6050c(0x19b)]);}_0x2e65fe[_0xd6050c(0x279)](renderUserLists,roomUsers);});}function uploadImage(_0x327c65){const _0x35ca91=_0x2de16f,_0x5c56de={'TEEqC':function(_0x4c676b,_0x5e76e6){return _0x4c676b>_0x5e76e6;},'LTWdg':function(_0x3a67b3,_0xb86ee5){return _0x3a67b3*_0xb86ee5;},'qbbNh':function(_0x53bb73,_0x5372b2){return _0x53bb73(_0x5372b2);}},_0x366813=_0x327c65['files'][0x0];if(!_0x366813||_0x5c56de['TEEqC'](_0x366813['size'],_0x5c56de[_0x35ca91(0x1b2)](_0x5c56de[_0x35ca91(0x1b2)](0x2,0x400),0x400))){_0x5c56de[_0x35ca91(0x1c8)](alert,_0x35ca91(0x2b3));return;}const _0x1cd89f=new FileReader();_0x1cd89f[_0x35ca91(0x1ff)]=()=>{const _0x133dba=_0x35ca91,_0x299109=_0x1cd89f[_0x133dba(0x219)]['split'](',')[0x1],_0x50d8ef=db[_0x133dba(0x1ef)]()['push']()['key'];db[_0x133dba(0x1ef)](_0x133dba(0x338)+roomCode+'/messages/'+_0x50d8ef)[_0x133dba(0x31e)]({'imageBase64':_0x299109,'sender':username,'senderId':clientId,'timestamp':Date[_0x133dba(0x34c)]()});},_0x1cd89f['readAsDataURL'](_0x366813);}async function fetchProfile(_0x57d28f){const _0x51b3e6=_0x2de16f,_0x1f4314=await db[_0x51b3e6(0x1ef)](_0x51b3e6(0x1fa)+_0x57d28f)['get']();if(!_0x1f4314['exists']())return null;return _0x1f4314[_0x51b3e6(0x30c)]();}function validateStaticRoomPassword(){const _0x3bff90=_0x2de16f,_0x5722c2={'kGMeN':function(_0x5b916d,_0x229381){return _0x5b916d(_0x229381);},'jWFuY':function(_0xeb7410,_0x496766){return _0xeb7410===_0x496766;},'wuBsD':function(_0x37cecd){return _0x37cecd();},'tdtmA':'Incorrect\x20password','xwDeO':'passwordError','mOuxM':_0x3bff90(0x2d7),'VaZiY':function(_0x163c21,_0x1d2664){return _0x163c21(_0x1d2664);},'duzFp':_0x3bff90(0x3ad),'QWyYB':_0x3bff90(0x28b)},_0x4958f0=document[_0x3bff90(0x28d)](_0x5722c2[_0x3bff90(0x325)])[_0x3bff90(0x361)]['trim']();if(!_0x4958f0){alert(_0x5722c2[_0x3bff90(0x392)]);return;}db[_0x3bff90(0x1ef)](_0x3bff90(0x2e2)+STATIC_ROOM)[_0x3bff90(0x3dd)]()['then'](_0xaa0b02=>{const _0x22c969=_0x3bff90;if(!_0xaa0b02[_0x22c969(0x359)]()){_0x5722c2[_0x22c969(0x1cb)](alert,_0x22c969(0x363));return;}const _0x1cdc79=_0xaa0b02[_0x22c969(0x30c)]();_0x5722c2['jWFuY'](_0x4958f0,_0x1cdc79)?(roomCode=STATIC_ROOM,_0x5722c2[_0x22c969(0x33c)](startChat)):(document[_0x22c969(0x28d)](_0x22c969(0x196))[_0x22c969(0x1aa)]=_0x5722c2[_0x22c969(0x3c8)],document['getElementById'](_0x5722c2[_0x22c969(0x22f)])[_0x22c969(0x2d3)][_0x22c969(0x1b1)]=_0x5722c2[_0x22c969(0x417)]);})[_0x3bff90(0x38e)](_0x1fe1ca=>{const _0x511c1e=_0x3bff90;console[_0x511c1e(0x22e)](_0x1fe1ca),_0x5722c2['VaZiY'](alert,'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.');});}function listenForPauseState(){const _0x320d3f=_0x2de16f,_0x56f51d={'yNCmD':function(_0x46abaf,_0x52f240){return _0x46abaf===_0x52f240;},'UJgNJ':_0x320d3f(0x356),'odAmH':'none','uvgjT':_0x320d3f(0x361)};db[_0x320d3f(0x1ef)](_0x320d3f(0x2ac)+roomCode+_0x320d3f(0x212))['on'](_0x56f51d[_0x320d3f(0x296)],_0x145a81=>{const _0x1252b4=_0x320d3f,_0x536a21=_0x145a81[_0x1252b4(0x359)]()&&_0x56f51d['yNCmD'](_0x145a81[_0x1252b4(0x30c)](),!![]);document['getElementById'](_0x56f51d[_0x1252b4(0x1f7)])[_0x1252b4(0x2d3)][_0x1252b4(0x1b1)]=_0x536a21?_0x1252b4(0x2d7):_0x56f51d[_0x1252b4(0x23d)];});}const spamTimestamps=[];async function sendMessage(){const _0xdedd7e=_0x2de16f,_0x5131c={'XxttZ':_0xdedd7e(0x1d6),'vqHTI':function(_0x27ac1a,_0x555f45){return _0x27ac1a(_0x555f45);},'xvWzN':function(_0x2798f7,_0x2d6f33){return _0x2798f7===_0x2d6f33;},'MKFSy':_0xdedd7e(0x24e),'zjowO':function(_0x3daa8c,_0x2988dd){return _0x3daa8c>_0x2988dd;},'mQRsS':'⛔\x20You\x20are\x20muted.','QsIor':function(_0x5ed7d2,_0x78cede){return _0x5ed7d2===_0x78cede;},'SRlOn':function(_0x19d1f8,_0x166e16){return _0x19d1f8!==_0x166e16;},'eMJdD':_0xdedd7e(0x1e9),'sMxlz':_0xdedd7e(0x1f3),'WqWdz':function(_0x2ffd9e,_0x5288d0){return _0x2ffd9e||_0x5288d0;},'zmZJh':_0xdedd7e(0x35b),'zMlcx':function(_0x2b9e3a,_0x1add0e){return _0x2b9e3a>_0x1add0e;},'kErfY':function(_0x1813a3,_0xb921fd){return _0x1813a3(_0xb921fd);},'iwfvm':_0xdedd7e(0x314),'ZWdez':_0xdedd7e(0x291),'cMTjw':function(_0xd661e6,_0x1e81ae){return _0xd661e6(_0x1e81ae);}},_0x15b52f=await db[_0xdedd7e(0x1ef)](_0xdedd7e(0x2ac)+roomCode+_0xdedd7e(0x212))['get'](),_0xaee3dc=await db['ref']('muted/'+roomCode+'/'+_0x5131c[_0xdedd7e(0x25f)](sanitizeUsername,username))['get']();if(_0xaee3dc[_0xdedd7e(0x359)]()){const _0x6b946e=_0xaee3dc[_0xdedd7e(0x30c)](),_0x56990a=_0x5131c['xvWzN'](typeof _0x6b946e,_0x5131c[_0xdedd7e(0x41e)])&&_0x6b946e[_0xdedd7e(0x23b)]?_0x6b946e['muteUntil']:_0x6b946e;if(_0x5131c[_0xdedd7e(0x211)](_0x56990a,Date[_0xdedd7e(0x34c)]())){alert(_0x5131c[_0xdedd7e(0x41f)]);return;}}if(_0x15b52f[_0xdedd7e(0x359)]()&&_0x5131c[_0xdedd7e(0x1af)](_0x15b52f['val'](),!![])&&_0x5131c[_0xdedd7e(0x2f8)](role,_0x5131c[_0xdedd7e(0x3bf)])){_0x5131c[_0xdedd7e(0x25f)](alert,_0x5131c['sMxlz']);return;}const _0x4b3aea=document[_0xdedd7e(0x28d)](_0xdedd7e(0x2a0)),_0x1f5ce4=_0x4b3aea[_0xdedd7e(0x361)][_0xdedd7e(0x371)]();if(_0x5131c[_0xdedd7e(0x3dc)](!_0x1f5ce4,isBlocked))return;const _0x42f118=Date[_0xdedd7e(0x34c)](),_0x548fb7=_0x1f5ce4[_0xdedd7e(0x347)](),_0xf5343e=swearWords[_0xdedd7e(0x254)](_0x32ae65=>_0x548fb7[_0xdedd7e(0x301)](_0x32ae65));if(_0xf5343e){alert(_0x5131c['zmZJh']);return;}spamTimestamps[_0xdedd7e(0x204)](_0x42f118);const _0x59dbb3=spamTimestamps[_0xdedd7e(0x229)](_0x283b04=>_0x42f118-_0x283b04<0x1b58);if(_0x5131c['zMlcx'](_0x59dbb3[_0xdedd7e(0x2ab)],0x5)){isBlocked=!![],_0x4b3aea[_0xdedd7e(0x288)]=!![],_0x4b3aea[_0xdedd7e(0x1b9)]=_0xdedd7e(0x346),_0x5131c[_0xdedd7e(0x233)](alert,_0x5131c['iwfvm']),setTimeout(()=>{const _0x3df673=_0xdedd7e;isBlocked=![],_0x4b3aea[_0x3df673(0x288)]=![],_0x4b3aea['placeholder']=_0x5131c[_0x3df673(0x2f1)],spamTimestamps['length']=0x0;},0x7530);return;}const _0x6b834e=localStorage[_0xdedd7e(0x3a1)](_0x5131c['ZWdez'])||'',_0x990879=db[_0xdedd7e(0x1ef)]()[_0xdedd7e(0x204)]()[_0xdedd7e(0x2bb)];db[_0xdedd7e(0x1ef)]('rooms/'+roomCode+'/messages/'+_0x990879)[_0xdedd7e(0x31e)]({'msg':_0x1f5ce4,'sender':username,'senderId':clientId,'avatarBase64':_0x6b834e,'timestamp':_0x42f118}),_0x4b3aea['value']='',_0x5131c['cMTjw'](sendTyping,!![]),lastActivity=_0x42f118;}function listenForMessages(){const _0x5990f8=_0x2de16f,_0x273a99={'GPRgk':function(_0x441011,_0x2213f5,_0x37c406,_0x23e77b){return _0x441011(_0x2213f5,_0x37c406,_0x23e77b);},'HvYNG':function(_0x505ed2,_0xe95027){return _0x505ed2===_0xe95027;},'cJnqT':function(_0x2ff054,_0xb5f74e){return _0x2ff054!==_0xb5f74e;},'hDcoh':'system','Yeubf':function(_0x2374ad){return _0x2374ad();},'VMonI':function(_0x1e813d,_0x3195d0){return _0x1e813d&&_0x3195d0;},'noGfn':function(_0xfc1e36,_0x39d005){return _0xfc1e36===_0x39d005;},'KEaZJ':'[Voice\x20Message]','HBJYK':_0x5990f8(0x23c),'KSmPL':_0x5990f8(0x414)},_0x1da0d7=db['ref'](_0x5990f8(0x338)+roomCode+'/messages'),_0x1465a6=_0x1da0d7[_0x5990f8(0x3b2)](MAX_MESSAGES);userListReady=!![],_0x1465a6['on'](_0x273a99['KSmPL'],_0x2706c5=>{const _0x24c74a=_0x5990f8,_0x1e5629=_0x2706c5[_0x24c74a(0x30c)](),{senderId:_0x1e2250}=_0x1e5629,_0x4b2def=_0x273a99[_0x24c74a(0x1c0)](_0x1e2250,clientId);if(!userListReady){pendingMessages[_0x24c74a(0x27a)](({data:_0x3381e5,sent:_0xb61e00,key:_0x31a5af})=>{const _0x42e9d7=_0x24c74a;_0x273a99[_0x42e9d7(0x33d)](addMessage,_0x3381e5,_0xb61e00,_0x31a5af);}),pendingMessages=[];return;}const _0x2f10f0=_0x1e5629[_0x24c74a(0x1a7)]||null,_0x574c3a=_0x1e5629[_0x24c74a(0x315)]||null;addMessage(_0x1e5629,_0x4b2def,_0x2706c5[_0x24c74a(0x2bb)]);_0x273a99[_0x24c74a(0x313)](roomCode,STATIC_ROOM)&&_0x1e5629[_0x24c74a(0x2a7)]!==_0x273a99[_0x24c74a(0x20b)]&&db['ref'](_0x24c74a(0x338)+roomCode+'/messages/'+_0x2706c5[_0x24c74a(0x2bb)])['remove']();!_0x4b2def&&(sound[_0x24c74a(0x33a)](),_0x273a99[_0x24c74a(0x2dc)](flagPageAttention));if(_0x273a99['VMonI'](notificationsEnabled,!_0x4b2def)){if(document[_0x24c74a(0x2d0)]&&_0x273a99[_0x24c74a(0x332)](Notification[_0x24c74a(0x2e1)],_0x24c74a(0x3c4))){const _0x53a75a=_0x1e5629[_0x24c74a(0x1ee)]||(_0x1e5629[_0x24c74a(0x315)]?_0x273a99[_0x24c74a(0x213)]:_0x1e5629[_0x24c74a(0x419)]?'[Image]':_0x273a99[_0x24c74a(0x424)]);new Notification(_0x24c74a(0x246)+_0x1e5629[_0x24c74a(0x2a7)],{'body':_0x53a75a,'icon':_0x24c74a(0x1ad)});}}});}function stackNotification(_0x4db817,_0x40bcf6){const _0x36a62e=_0x2de16f,_0x1a8d27={'jgXpB':function(_0x57b537,_0x19377d){return _0x57b537(_0x19377d);},'RvqHo':function(_0x2c84d0,_0x49afff,_0x236a4e){return _0x2c84d0(_0x49afff,_0x236a4e);}};notificationStack[_0x36a62e(0x204)]({'sender':_0x4db817,'content':_0x40bcf6}),_0x1a8d27[_0x36a62e(0x2d2)](clearTimeout,notificationTimer),notificationTimer=_0x1a8d27['RvqHo'](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0xbaa958=_0x2de16f,_0x22cfe6={'Tuugq':_0xbaa958(0x2ad),'IDxNI':'granted','XfRSd':_0xbaa958(0x1c5),'Wtgqb':function(_0x112c35,_0x321dce){return _0x112c35===_0x321dce;},'pyCQW':function(_0x5a4b85,_0x2c550a,_0x3b2ef0){return _0x5a4b85(_0x2c550a,_0x3b2ef0);}};if(!notificationStack[_0xbaa958(0x2ab)]||Notification['permission']!==_0x22cfe6[_0xbaa958(0x1de)])return;const _0x27ce06=[...new Set(notificationStack['map'](_0x46add0=>_0x46add0[_0xbaa958(0x2a7)]))],_0x32963c=roomCode||_0x22cfe6[_0xbaa958(0x379)],_0x22f342=_0x22cfe6[_0xbaa958(0x425)](_0x27ce06[_0xbaa958(0x2ab)],0x1)?'You\x20got\x20a\x20message\x20from\x20'+_0x27ce06[0x0]+_0xbaa958(0x284)+_0x32963c+':\x20'+notificationStack[0x0][_0xbaa958(0x324)]:_0xbaa958(0x3db)+_0x27ce06[_0xbaa958(0x3e2)](',\x20')+_0xbaa958(0x284)+_0x32963c;_0x22cfe6[_0xbaa958(0x237)](setTimeout,()=>{const _0x34295e=_0xbaa958;new Notification(_0x22cfe6[_0x34295e(0x382)],{'body':_0x22f342,'icon':_0x34295e(0x1ad)});},0x64);}async function addMessage(_0x100714,_0x5dcd68,_0x899a69=null){const _0x202f8a=_0x2de16f,_0x3c3821={'vBrzv':function(_0x441aa0,_0x55ffbf){return _0x441aa0(_0x55ffbf);},'yDAku':_0x202f8a(0x36c),'XcozI':function(_0x1895c3,_0x48b18d,_0x28267f){return _0x1895c3(_0x48b18d,_0x28267f);},'Xitcd':function(_0x3ac57d,_0x23ac9d){return _0x3ac57d(_0x23ac9d);},'IPBuE':'div','sGeVj':function(_0x48db22,_0x4aed97){return _0x48db22===_0x4aed97;},'XbGOi':_0x202f8a(0x252),'xUqFm':_0x202f8a(0x33b),'RiVrV':_0x202f8a(0x1fc),'ImWwU':'#aaa','QIKue':_0x202f8a(0x2fd),'aFLSj':_0x202f8a(0x1ee),'SKlOV':_0x202f8a(0x1f6),'MbLFB':_0x202f8a(0x2f4),'huHgC':_0x202f8a(0x3d0),'gyHlf':function(_0xcfd1f1,_0x1c9a87){return _0xcfd1f1(_0x1c9a87);},'TwoQc':_0x202f8a(0x3c1),'wPuCm':_0x202f8a(0x1e0),'Jsqcm':_0x202f8a(0x22c)},{msg:_0x3457a9,sender:_0x4addc2,senderId:_0x377c17,timestamp:_0x225628,audioUrl:_0x2a0ced,audioBase64:_0x30989e,imageBase64:_0x781ed2}=_0x100714,_0x52f671=_0x3c3821[_0x202f8a(0x31d)](sanitizeUsername,_0x4addc2),_0x13f603=document[_0x202f8a(0x2a9)](_0x3c3821[_0x202f8a(0x3fe)]);if(_0x3c3821[_0x202f8a(0x1b8)](_0x100714[_0x202f8a(0x2a7)],_0x3c3821[_0x202f8a(0x427)])){const _0x15ae5a=document[_0x202f8a(0x2a9)]('div');_0x15ae5a[_0x202f8a(0x2d3)][_0x202f8a(0x2b5)]=_0x3c3821[_0x202f8a(0x19c)],_0x15ae5a['style'][_0x202f8a(0x2ba)]=_0x3c3821[_0x202f8a(0x289)],_0x15ae5a[_0x202f8a(0x2d3)][_0x202f8a(0x1a8)]=_0x3c3821[_0x202f8a(0x23e)],_0x15ae5a['style'][_0x202f8a(0x2c9)]=_0x3c3821[_0x202f8a(0x407)],_0x15ae5a[_0x202f8a(0x1aa)]=_0x100714['msg'];const _0xad510d=document[_0x202f8a(0x28d)](_0x202f8a(0x22c));_0xad510d[_0x202f8a(0x415)](_0x15ae5a),_0xad510d[_0x202f8a(0x2c8)]=_0xad510d[_0x202f8a(0x297)];return;}_0x13f603[_0x202f8a(0x1e3)][_0x202f8a(0x3d9)](_0x3c3821['aFLSj'],_0x5dcd68?_0x3c3821['SKlOV']:_0x3c3821[_0x202f8a(0x1e8)]);const _0x565c96=new Date(_0x225628)[_0x202f8a(0x2b0)]([],{'hour':_0x3c3821[_0x202f8a(0x349)],'minute':_0x202f8a(0x3d0)}),_0x1d180f=_0x3c3821[_0x202f8a(0x31d)](getRoleTag,_0x52f671),_0x13086c=await _0x3c3821[_0x202f8a(0x37b)](fetchAvatar,_0x52f671),_0x6416f1=_0x13086c?'<img\x20src=\x22data:image/png;base64,'+_0x13086c+_0x202f8a(0x3de):'',_0x4b32a6=_0x6416f1+_0x202f8a(0x329)+_0x4addc2+'\x20'+_0x1d180f+_0x202f8a(0x330),_0x3c2828=_0x3457a9?.[_0x202f8a(0x1d5)](new RegExp('@'+username+'\x5cb','gi'),_0x202f8a(0x299));let _0x44c222=_0x4b32a6+'<br>';if(_0x2a0ced)_0x44c222+='<audio\x20controls\x20src=\x22'+_0x2a0ced+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x30989e){const _0xc9e645=_0x202f8a(0x348)+_0x30989e;_0x44c222+='<audio\x20controls\x20src=\x22'+_0xc9e645+_0x202f8a(0x40d);}else{if(_0x781ed2){const _0x4439d3=_0x202f8a(0x228)+_0x781ed2;_0x44c222+=_0x202f8a(0x41d)+_0x4439d3+_0x202f8a(0x230);}else _0x44c222+='<div>'+_0x3c2828+'</div>';}}_0x44c222+='<small>'+_0x565c96+_0x202f8a(0x1cd),_0x13f603[_0x202f8a(0x1c4)]=_0x44c222;if([_0x202f8a(0x1e9),_0x3c3821[_0x202f8a(0x25d)],_0x202f8a(0x19a)][_0x202f8a(0x301)](role)){let _0x1043b0=0x0;_0x13f603[_0x202f8a(0x2bd)](_0x3c3821['wPuCm'],()=>{const _0x54a5c3=_0x202f8a;_0x1043b0++,_0x1043b0===0x3&&(_0x3c3821[_0x54a5c3(0x25b)](confirm,_0x3c3821[_0x54a5c3(0x19e)])&&(db[_0x54a5c3(0x1ef)](_0x54a5c3(0x338)+roomCode+'/messages/'+_0x899a69)[_0x54a5c3(0x267)](),_0x13f603[_0x54a5c3(0x267)]())),_0x3c3821[_0x54a5c3(0x39d)](setTimeout,()=>_0x1043b0=0x0,0x1f4);});}const _0x1f5d72=document[_0x202f8a(0x28d)](_0x3c3821[_0x202f8a(0x2ce)]);_0x1f5d72[_0x202f8a(0x415)](_0x13f603),_0x1f5d72['scrollTop']=_0x1f5d72[_0x202f8a(0x297)];}function cleanupOldRooms(){const _0x3e8b48=_0x2de16f,_0x51add3={'VuKzz':function(_0x57ac32,_0x595f01){return _0x57ac32!==_0x595f01;},'OFcip':function(_0x8782d1,_0x23dab5){return _0x8782d1!==_0x23dab5;},'RSifr':function(_0x57324b,_0x51d6fe){return _0x57324b===_0x51d6fe;},'aepsB':function(_0x23143a,_0x3dfaec){return _0x23143a>_0x3dfaec;},'xYDWs':function(_0x4f5a35,_0x56a8f9){return _0x4f5a35-_0x56a8f9;},'IcPso':function(_0x5c977e,_0x20a01d){return _0x5c977e+_0x20a01d;},'EsDwH':_0x3e8b48(0x308),'bPlHy':_0x3e8b48(0x361),'ZjgLQ':_0x3e8b48(0x328),'nzmij':_0x3e8b48(0x35c)};db[_0x3e8b48(0x1ef)](_0x51add3[_0x3e8b48(0x298)])[_0x3e8b48(0x232)](_0x3e8b48(0x361))['then'](_0x89e630=>{const _0x42ffc8=_0x3e8b48,_0x57ec26={'eQNxh':function(_0x3648bc,_0x6df6df){const _0x2230f0=_0x2c92;return _0x51add3[_0x2230f0(0x1dc)](_0x3648bc,_0x6df6df);}},_0x28bb45=_0x89e630[_0x42ffc8(0x30c)]();if(!_0x28bb45)return;const _0x6094d4=Date['now']();for(const _0x17c58a in _0x28bb45){if(_0x51add3['RSifr'](_0x17c58a,STATIC_ROOM))continue;const _0x1765a5=_0x28bb45[_0x17c58a];_0x51add3[_0x42ffc8(0x3ce)](_0x51add3[_0x42ffc8(0x2b6)](_0x6094d4,_0x1765a5['created']||0x0),0x2*0x3c*0x3e8)&&db[_0x42ffc8(0x1ef)](_0x51add3[_0x42ffc8(0x1f4)](_0x42ffc8(0x338),_0x17c58a))['remove']();}db[_0x42ffc8(0x1ef)](_0x51add3[_0x42ffc8(0x413)])['once'](_0x51add3[_0x42ffc8(0x2f6)])['then'](_0x3d7a03=>{const _0x3c7a68=_0x42ffc8,_0x27e682=_0x3d7a03[_0x3c7a68(0x30c)]();if(!_0x27e682)return;for(const _0x4e22ad in _0x27e682){if(_0x51add3['VuKzz'](_0x4e22ad,STATIC_ROOM))db[_0x3c7a68(0x1ef)](_0x3c7a68(0x220)+_0x4e22ad)[_0x3c7a68(0x267)]();}}),db['ref'](_0x51add3[_0x42ffc8(0x231)])[_0x42ffc8(0x232)](_0x51add3[_0x42ffc8(0x2f6)])['then'](_0x4f186e=>{const _0x25122a=_0x42ffc8,_0x518cdb=_0x4f186e[_0x25122a(0x30c)]();if(!_0x518cdb)return;for(const _0x3bbc9c in _0x518cdb){if(_0x57ec26['eQNxh'](_0x3bbc9c,STATIC_ROOM))db[_0x25122a(0x1ef)](_0x25122a(0x2d5)+_0x3bbc9c)[_0x25122a(0x267)]();}});});}document[_0x2de16f(0x2bd)](_0x2de16f(0x343),()=>{const _0x31f1f2=_0x2de16f,_0x57e26a={'AkWjz':_0x31f1f2(0x2e6),'nBXdL':function(_0x2053a8){return _0x2053a8();},'TmEXd':_0x31f1f2(0x2a0),'GLXHh':'keypress'},_0x5e1527=document[_0x31f1f2(0x28d)](_0x57e26a[_0x31f1f2(0x1a0)]);_0x5e1527&&_0x5e1527[_0x31f1f2(0x2bd)](_0x57e26a['GLXHh'],function(_0x248264){const _0x34ee09=_0x31f1f2;_0x248264[_0x34ee09(0x2bb)]===_0x57e26a[_0x34ee09(0x262)]&&(_0x248264['preventDefault'](),_0x57e26a[_0x34ee09(0x372)](sendMessage));});});function showScreen(_0x2779b4){const _0x3106fe=_0x2de16f,_0x16ab12={'gXAYN':'usernameScreen','LxjDs':_0x3106fe(0x30b),'vzbzo':_0x3106fe(0x3ae),'somnz':_0x3106fe(0x39f),'qPMYq':_0x3106fe(0x3c5),'NNGEI':'profileScreen','lRHlO':'profileViewer','MEFgn':_0x3106fe(0x378),'znVeM':_0x3106fe(0x3ea)};[_0x16ab12[_0x3106fe(0x3d8)],_0x16ab12[_0x3106fe(0x426)],_0x16ab12[_0x3106fe(0x331)],_0x16ab12['somnz'],_0x16ab12[_0x3106fe(0x394)],_0x16ab12[_0x3106fe(0x34d)],_0x16ab12[_0x3106fe(0x26d)],_0x3106fe(0x1ec),_0x16ab12[_0x3106fe(0x1e5)]]['forEach'](_0x10fbc6=>{const _0x27b512=_0x3106fe;document[_0x27b512(0x28d)](_0x10fbc6)['style'][_0x27b512(0x1b1)]=_0x27b512(0x380);}),document['getElementById'](_0x2779b4)['style']['display']=_0x16ab12[_0x3106fe(0x2f7)];}function genRoomCode(){const _0x3b7ddd=_0x2de16f,_0x148873={'TqVWJ':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','xwOiZ':'0123456789','ZTDvj':function(_0x4fa1cc,_0x5a04bc){return _0x4fa1cc+_0x5a04bc;},'yDrNU':function(_0x67e3f3,_0x358618){return _0x67e3f3+_0x358618;},'YZjGj':function(_0x57c429,_0x3ee982){return _0x57c429+_0x3ee982;},'XjKCA':function(_0x16cd2a,_0x1c8524,_0xeec42f){return _0x16cd2a(_0x1c8524,_0xeec42f);},'nMKTS':function(_0xa443ec,_0x186e83,_0x2e23e7){return _0xa443ec(_0x186e83,_0x2e23e7);}},_0x41820b=_0x148873[_0x3b7ddd(0x334)],_0x10b872=_0x148873[_0x3b7ddd(0x21b)],_0x290220=(_0x4d23e5,_0x1e9535)=>Array[_0x3b7ddd(0x384)]({'length':_0x1e9535},()=>_0x4d23e5[Math['floor'](Math[_0x3b7ddd(0x276)]()*_0x4d23e5[_0x3b7ddd(0x2ab)])])[_0x3b7ddd(0x3e2)]('');return _0x148873[_0x3b7ddd(0x408)](_0x148873[_0x3b7ddd(0x318)](_0x148873['YZjGj'](_0x290220(_0x10b872,0x3),_0x148873['XjKCA'](_0x290220,_0x41820b,0x3)),_0x290220(_0x10b872,0x2)),_0x148873[_0x3b7ddd(0x294)](_0x290220,_0x41820b,0x2));}function startInactivityTimer(){const _0x2c32e0=_0x2de16f,_0x10a040={'uaPJc':function(_0x519386,_0x4eac14){return _0x519386-_0x4eac14;},'pPuqs':function(_0x20faeb,_0x1f333f){return _0x20faeb*_0x1f333f;},'HLUWs':function(_0x832285,_0x17830c){return _0x832285*_0x17830c;},'GtiLf':function(_0x84543b,_0x2b0d99){return _0x84543b!==_0x2b0d99;},'vlpYo':function(_0x33b022,_0xf82de1){return _0x33b022+_0xf82de1;},'FIrUb':_0x2c32e0(0x338),'OiUbx':_0x2c32e0(0x2b4),'qeTJX':function(_0x5b1f4f,_0x41706f,_0x5e9019){return _0x5b1f4f(_0x41706f,_0x5e9019);}};_0x10a040['qeTJX'](setInterval,()=>{const _0x537d15=_0x2c32e0;_0x10a040[_0x537d15(0x1f9)](Date[_0x537d15(0x34c)](),lastActivity)>_0x10a040['pPuqs'](_0x10a040[_0x537d15(0x37a)](0x5,0x3c),0x3e8)&&_0x10a040[_0x537d15(0x2d6)](roomCode,STATIC_ROOM)&&(db[_0x537d15(0x1ef)](_0x10a040['vlpYo'](_0x10a040[_0x537d15(0x2f2)],roomCode))[_0x537d15(0x235)]({'active':![]}),alert(_0x10a040[_0x537d15(0x3d7)]),location[_0x537d15(0x3ee)]());},0x7530);}function setupSidebarBackHandler(){const _0x1898cc=_0x2de16f,_0x12749c={'bWnxz':_0x1898cc(0x20d),'aolwA':_0x1898cc(0x1e4),'PUBPo':'popstate'};window[_0x1898cc(0x2bd)](_0x12749c[_0x1898cc(0x236)],()=>{const _0x5d6945=_0x1898cc,_0x509b04=document[_0x5d6945(0x28d)](_0x12749c['bWnxz']);_0x509b04?.[_0x5d6945(0x1e3)]['contains'](_0x12749c[_0x5d6945(0x1e6)])&&_0x509b04[_0x5d6945(0x1e3)][_0x5d6945(0x267)](_0x12749c['aolwA']);});}function toggleSidebar(){const _0x2dbff7=_0x2de16f,_0x296340={'EmrQs':_0x2dbff7(0x20d),'AVied':'show'},_0x1b069d=document[_0x2dbff7(0x28d)](_0x296340[_0x2dbff7(0x2ae)]);if(!_0x1b069d[_0x2dbff7(0x1e3)][_0x2dbff7(0x399)](_0x296340[_0x2dbff7(0x1ed)]))_0x1b069d[_0x2dbff7(0x1e3)][_0x2dbff7(0x3d9)](_0x2dbff7(0x1e4)),history[_0x2dbff7(0x305)]({'sidebarOpen':!![]},'');else{_0x1b069d[_0x2dbff7(0x1e3)][_0x2dbff7(0x267)](_0x296340['AVied']);if(history['state']?.['sidebarOpen'])history[_0x2dbff7(0x309)]();}}function setupVisibilityAttention(){const _0x373bf1=_0x2de16f,_0x350db3={'tbuyu':_0x373bf1(0x404)};let _0x3c24c5=0x0,_0x326f47=document[_0x373bf1(0x344)];document[_0x373bf1(0x2bd)](_0x350db3['tbuyu'],()=>{!document['hidden']&&(document['title']=_0x326f47,_0x3c24c5=0x0);}),window[_0x373bf1(0x310)]=function(){const _0x38d794=_0x373bf1;document[_0x38d794(0x2d0)]&&(_0x3c24c5++,document[_0x38d794(0x344)]='('+_0x3c24c5+_0x38d794(0x3fd)+_0x326f47);};}function tryEditProfile(){const _0x1fa5d3=_0x2de16f,_0x44d81b={'Gnylb':_0x1fa5d3(0x3ea)};document[_0x1fa5d3(0x28d)](_0x1fa5d3(0x378))[_0x1fa5d3(0x2d3)][_0x1fa5d3(0x1b1)]=_0x44d81b['Gnylb'];}async function submitEditProfile(){const _0x1aa63a=_0x2de16f,_0x539686={'fKZME':'oldPasswordInput','DuIcV':'newPasswordInput','qcGjN':'editBioInput','VoJpn':_0x1aa63a(0x341),'iJUQY':'block','KUvnw':function(_0x4c9318,_0x30d006){return _0x4c9318(_0x30d006);},'YCfjt':_0x1aa63a(0x3f9),'dkFrz':function(_0x51c2ee,_0x57dba3){return _0x51c2ee!==_0x57dba3;},'GMeiZ':function(_0x3a32fa,_0x967405){return _0x3a32fa*_0x967405;},'OccHN':function(_0x290f11,_0x6eb832){return _0x290f11*_0x6eb832;},'gzQhW':function(_0x63fd4e,_0x507456){return _0x63fd4e>_0x507456;},'jdfvK':_0x1aa63a(0x2bf),'ksLeu':function(_0x57a9d0,_0x15a6f3){return _0x57a9d0(_0x15a6f3);}},_0xc19f4f=document[_0x1aa63a(0x28d)](_0x539686[_0x1aa63a(0x242)])['value'],_0x5d0b5e=document[_0x1aa63a(0x28d)](_0x539686[_0x1aa63a(0x22d)])[_0x1aa63a(0x361)],_0x581bc9=document[_0x1aa63a(0x28d)](_0x539686[_0x1aa63a(0x1c6)])[_0x1aa63a(0x361)][_0x1aa63a(0x371)](),_0x3bb3fa=document[_0x1aa63a(0x28d)](_0x1aa63a(0x295));if(!_0xc19f4f){_0x3bb3fa['innerText']=_0x539686[_0x1aa63a(0x40f)],_0x3bb3fa[_0x1aa63a(0x2d3)][_0x1aa63a(0x1b1)]=_0x539686[_0x1aa63a(0x223)];return;}const _0x253bdd=_0x539686[_0x1aa63a(0x355)](sanitizeUsername,username),_0x36b69c=await db['ref'](_0x1aa63a(0x1fa)+_0x253bdd)[_0x1aa63a(0x3dd)]();if(!_0x36b69c[_0x1aa63a(0x359)]()){_0x3bb3fa[_0x1aa63a(0x1aa)]=_0x539686[_0x1aa63a(0x31b)],_0x3bb3fa['style'][_0x1aa63a(0x1b1)]=_0x539686['iJUQY'];return;}const _0x5a1076=_0x36b69c[_0x1aa63a(0x30c)](),_0x29b366=await _0x539686['KUvnw'](sha256,_0xc19f4f);if(_0x539686['dkFrz'](_0x29b366,_0x5a1076['passwordHash'])){_0x3bb3fa[_0x1aa63a(0x1aa)]=_0x1aa63a(0x3ba),_0x3bb3fa[_0x1aa63a(0x2d3)][_0x1aa63a(0x1b1)]=_0x1aa63a(0x2d7);return;}const _0x51b637={};if(_0x5d0b5e){const _0x55f2f9=await _0x539686[_0x1aa63a(0x355)](sha256,_0x5d0b5e);_0x51b637['passwordHash']=_0x55f2f9;}_0x581bc9!==_0x5a1076[_0x1aa63a(0x241)]&&(_0x51b637[_0x1aa63a(0x241)]=_0x581bc9);const _0x436be7=Date[_0x1aa63a(0x34c)](),_0x604cbe=_0x539686[_0x1aa63a(0x40c)](_0x539686[_0x1aa63a(0x31f)](0x18*0x3c,0x3c),0x3e8),_0x1a904a=_0x539686['gzQhW'](_0x436be7-(_0x5a1076['lastChanged']||0x0),_0x604cbe);if(_0x1a904a&&_0x539686[_0x1aa63a(0x355)](confirm,_0x539686[_0x1aa63a(0x271)])){const _0xff2d6f=_0x539686['KUvnw'](prompt,_0x1aa63a(0x1b4));_0xff2d6f&&_0xff2d6f[_0x1aa63a(0x371)]()&&(_0x51b637[_0x1aa63a(0x26f)]=_0xff2d6f[_0x1aa63a(0x371)](),_0x51b637[_0x1aa63a(0x22b)]=(_0x5a1076['usernameHistory']||[])[_0x1aa63a(0x32c)](_0xff2d6f[_0x1aa63a(0x371)]()),_0x51b637['lastChanged']=_0x436be7);}_0x51b637[_0x1aa63a(0x26f)]&&_0x539686[_0x1aa63a(0x2df)](_0x51b637['username'],_0x5a1076[_0x1aa63a(0x26f)])?(await db['ref'](_0x1aa63a(0x1fa)+_0x539686[_0x1aa63a(0x3e5)](sanitizeUsername,_0x51b637[_0x1aa63a(0x26f)]))[_0x1aa63a(0x31e)]({..._0x5a1076,..._0x51b637}),await db[_0x1aa63a(0x1ef)](_0x1aa63a(0x1fa)+_0x253bdd)[_0x1aa63a(0x267)](),username=_0x51b637['username']):await db[_0x1aa63a(0x1ef)](_0x1aa63a(0x1fa)+_0x253bdd)[_0x1aa63a(0x235)](_0x51b637),_0x539686[_0x1aa63a(0x355)](alert,_0x1aa63a(0x3a7)),location['reload']();}function cancelEditProfile(){const _0x21e1ef=_0x2de16f,_0x56e015={'rhThR':_0x21e1ef(0x380),'DROjo':function(_0x56fcf3,_0x53229a){return _0x56fcf3(_0x53229a);},'mnUHo':_0x21e1ef(0x39f)};document[_0x21e1ef(0x28d)](_0x21e1ef(0x378))['style'][_0x21e1ef(0x1b1)]=_0x56e015[_0x21e1ef(0x198)],_0x56e015[_0x21e1ef(0x41c)](showScreen,_0x56e015[_0x21e1ef(0x3f7)]);}function listenForUserList(){const _0x2b58b2=_0x2de16f,_0x2ff389={'TrjSd':function(_0x541e5f,_0x20f63b){return _0x541e5f||_0x20f63b;},'SnFHQ':function(_0x57af06,_0x2b6dfb){return _0x57af06(_0x2b6dfb);},'agCYz':_0x2b58b2(0x361)};db[_0x2b58b2(0x1ef)](_0x2b58b2(0x3b4)+roomCode)['on'](_0x2ff389[_0x2b58b2(0x3b8)],async _0x284232=>{const _0x14ea33=_0x2b58b2;if(!_0x284232[_0x14ea33(0x359)]())return;const _0x5efea9=_0x284232[_0x14ea33(0x30c)]();await loadRoomRoles();let _0x259e3b=Object['keys'](_0x2ff389[_0x14ea33(0x206)](roomUsers,{})),_0x3af31f=Object[_0x14ea33(0x278)](_0x5efea9||{});const _0x506b2b=_0x3af31f[_0x14ea33(0x229)](_0x4fb7a8=>!_0x259e3b[_0x14ea33(0x301)](_0x4fb7a8)),_0x8cf2ee=_0x259e3b[_0x14ea33(0x229)](_0x1d19f9=>!_0x3af31f[_0x14ea33(0x301)](_0x1d19f9));_0x2ff389[_0x14ea33(0x21d)](renderUserLists,_0x5efea9),_0x506b2b[_0x14ea33(0x27a)](_0x313a8f=>addSystemMessage(_0x313a8f+_0x14ea33(0x19f))),_0x8cf2ee[_0x14ea33(0x27a)](_0x475870=>addSystemMessage(_0x475870+_0x14ea33(0x354)));});}function trackPresence(){const _0x95105b=_0x2de16f,_0x28fd20={'WQima':_0x95105b(0x252),'FJOXd':function(_0x5f6493,_0x17737a){return _0x5f6493||_0x17737a;},'eJKOU':function(_0x4860dd){return _0x4860dd();},'SGVef':function(_0x14bb9b,_0x3ec62a){return _0x14bb9b||_0x3ec62a;},'OWSrf':function(_0x71ba9b,_0xe724e1){return _0x71ba9b(_0xe724e1);},'KqQof':function(_0x30ac40,_0x8302d5){return _0x30ac40||_0x8302d5;},'GBOaY':function(_0x377338,_0x5932b1){return _0x377338||_0x5932b1;},'wTxcP':_0x95105b(0x361)};if(_0x28fd20[_0x95105b(0x24d)](!username,!roomCode))return;const _0x3e9478=_0x28fd20['OWSrf'](sanitizeUsername,username),_0x2e0b08=db[_0x95105b(0x1ef)]('users/'+roomCode+'/'+_0x3e9478),_0x16903b={'username':username,'avatarBase64':_0x28fd20['KqQof'](avatarBase64,''),'description':_0x28fd20[_0x95105b(0x32a)](userDescription,''),'online':!![],'lastOnline':firebase['database']['ServerValue']['TIMESTAMP']};db[_0x95105b(0x1ef)](_0x95105b(0x3f5)+roomCode+'/'+_0x3e9478)['once'](_0x28fd20['wTxcP'])[_0x95105b(0x316)](_0x168d6a=>{const _0x55e20=_0x95105b;_0x168d6a[_0x55e20(0x359)]()&&(_0x16903b[_0x55e20(0x3c1)]=!![]),_0x2e0b08[_0x55e20(0x31e)](_0x16903b),_0x2e0b08[_0x55e20(0x387)]()[_0x55e20(0x31e)]({'username':username,'avatarBase64':avatarBase64||'','description':_0x28fd20[_0x55e20(0x1a5)](userDescription,''),'online':![],'lastOnline':Date[_0x55e20(0x34c)]()}),_0x2e0b08['onDisconnect']()[_0x55e20(0x25c)](),_0x2e0b08[_0x55e20(0x387)]()[_0x55e20(0x267)]()[_0x55e20(0x316)](()=>{const _0x1bdbfc=_0x55e20,_0x537f56=db[_0x1bdbfc(0x1ef)]()[_0x1bdbfc(0x204)]()['key'];db[_0x1bdbfc(0x1ef)](_0x1bdbfc(0x338)+roomCode+_0x1bdbfc(0x1f0)+_0x537f56)[_0x1bdbfc(0x31e)]({'msg':username+_0x1bdbfc(0x29d),'sender':_0x28fd20[_0x1bdbfc(0x3a4)],'senderId':_0x28fd20['WQima'],'timestamp':Date['now']()});}),_0x28fd20[_0x55e20(0x36a)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x3f9573){const _0xc3952f=_0x2de16f,_0x496f33={'drfMU':_0xc3952f(0x2e8),'nKyhP':_0xc3952f(0x2d7),'EeROz':function(_0x7d0676,_0x2cf97c){return _0x7d0676(_0x2cf97c);},'IRSOG':function(_0x137196,_0x4fde45){return _0x137196(_0x4fde45);},'KEDAU':_0xc3952f(0x203),'YbyVZ':_0xc3952f(0x3f1)};if(!_0x3f9573['files'][_0xc3952f(0x2ab)])return;const _0xa333a5=_0x3f9573[_0xc3952f(0x3bc)][0x0],_0x2b3f4b=new FileReader();_0x2b3f4b[_0xc3952f(0x1ff)]=async()=>{const _0x24e3c7=_0xc3952f,_0x31d4d4=_0x2b3f4b[_0x24e3c7(0x219)][_0x24e3c7(0x21e)](',')[0x1];document[_0x24e3c7(0x28d)](_0x496f33[_0x24e3c7(0x2fe)])['src']=_0x2b3f4b[_0x24e3c7(0x219)],document['getElementById'](_0x496f33['drfMU'])[_0x24e3c7(0x2d3)][_0x24e3c7(0x1b1)]=_0x496f33[_0x24e3c7(0x24f)];try{const _0x4e7c48=_0x496f33[_0x24e3c7(0x2c5)](sanitizeUsername,username);await db[_0x24e3c7(0x1ef)](_0x24e3c7(0x1fa)+_0x4e7c48+'/avatarBase64')[_0x24e3c7(0x31e)](_0x31d4d4),_0x496f33[_0x24e3c7(0x320)](alert,_0x496f33[_0x24e3c7(0x400)]);}catch(_0x36696a){console['error'](_0x36696a),_0x496f33[_0x24e3c7(0x320)](alert,_0x496f33[_0x24e3c7(0x388)]);}},_0x2b3f4b[_0xc3952f(0x1bb)](_0xa333a5);}function muteUser(_0x57460e,_0x2c681c){const _0xa88d98=_0x2de16f,_0x19aa97={'yjnqD':function(_0x2f65b1,_0xb3d061){return _0x2f65b1(_0xb3d061);},'VcLCc':function(_0x5062e6,_0x3d1ec7){return _0x5062e6(_0x3d1ec7);},'UbcAN':function(_0x3b83ba,_0x5c171b){return _0x3b83ba+_0x5c171b;},'qLkND':function(_0x2f00fa,_0x317314){return _0x2f00fa(_0x317314);}},_0x24e62e=_0x19aa97[_0xa88d98(0x2d1)](Date[_0xa88d98(0x34c)](),_0x2c681c*0x3c*0x3e8);db['ref'](_0xa88d98(0x3d6)+roomCode+'/'+_0x19aa97[_0xa88d98(0x321)](sanitizeUsername,_0x57460e))[_0xa88d98(0x31e)]({'muteUntil':_0x24e62e})[_0xa88d98(0x316)](()=>{const _0x114f1d=_0xa88d98;_0x19aa97[_0x114f1d(0x210)](alert,_0x57460e+'\x20muted\x20for\x20'+_0x2c681c+_0x114f1d(0x32e)),_0x19aa97[_0x114f1d(0x3bb)](addSystemMessage,_0x57460e+'\x20was\x20muted\x20for\x20'+_0x2c681c+_0x114f1d(0x311));});}function unmuteUser(_0xe8c3d4){const _0x1c7cfd=_0x2de16f,_0x4fbf3c={'FrXlO':function(_0x6c418f,_0x354bc8){return _0x6c418f(_0x354bc8);},'MWGPv':_0x1c7cfd(0x207)};if(!isRoomAdmin)return _0x4fbf3c[_0x1c7cfd(0x1c7)](alert,_0x4fbf3c[_0x1c7cfd(0x3a6)]);db['ref'](_0x1c7cfd(0x3d6)+roomCode+'/'+sanitizeUsername(_0xe8c3d4))['remove']();}function updateOnlineIndicator(){const _0x2aeca1=_0x2de16f,_0x40d952={'KFJTb':_0x2aeca1(0x244),'rmhwJ':'#00ff88'},_0xa97f39=document['getElementById'](_0x2aeca1(0x2e4));_0xa97f39[_0x2aeca1(0x1aa)]=_0x40d952[_0x2aeca1(0x2c7)],_0xa97f39[_0x2aeca1(0x2d3)]['color']=_0x40d952['rmhwJ'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0xec34e3){const _0xfaa19b=_0x2de16f,_0x565fd7={'QGXrY':function(_0x58fe8b,_0x2bc3ae){return _0x58fe8b(_0x2bc3ae);},'IvcfN':_0xfaa19b(0x3f9),'yhBdY':_0xfaa19b(0x374),'woFjS':_0xfaa19b(0x1a4),'aBgdw':_0xfaa19b(0x39e),'wNvYt':'block'};db[_0xfaa19b(0x1ef)](_0xfaa19b(0x1fa)+_0xec34e3)[_0xfaa19b(0x3dd)]()['then'](_0x461c58=>{const _0x50d0c0=_0xfaa19b;if(!_0x461c58[_0x50d0c0(0x359)]())return _0x565fd7[_0x50d0c0(0x1d7)](alert,_0x565fd7[_0x50d0c0(0x27b)]);const _0x4506dc=_0x461c58[_0x50d0c0(0x30c)](),_0x5a77c1=('\x0aName:\x20'+_0x4506dc[_0x50d0c0(0x26f)]+_0x50d0c0(0x20e)+(_0x4506dc[_0x50d0c0(0x241)]||'No\x20bio\x20set')+_0x50d0c0(0x225)+((_0x4506dc[_0x50d0c0(0x22b)]||[])['join'](',\x20')||_0x565fd7[_0x50d0c0(0x3b3)])+_0x50d0c0(0x350)+(_0x4506dc['lastChanged']?new Date(_0x4506dc['lastChanged'])[_0x50d0c0(0x1fd)]():_0x50d0c0(0x360))+_0x50d0c0(0x352))['trim']();document['getElementById'](_0x565fd7[_0x50d0c0(0x2f5)])['innerText']=_0x5a77c1,document[_0x50d0c0(0x28d)](_0x565fd7[_0x50d0c0(0x2af)])[_0x50d0c0(0x2d3)][_0x50d0c0(0x1b1)]=_0x565fd7['wNvYt'];});}function initUsernameFlow(){const _0x1312fd=_0x2de16f,_0x4c0db9={'vehBj':'chat_username','WOqhw':function(_0x5b8c91,_0x3012b3){return _0x5b8c91(_0x3012b3);},'UunHR':'profileScreen','OYQLz':_0x1312fd(0x1cf),'rEjfq':function(_0x293956,_0x3b0fbc){return _0x293956(_0x3b0fbc);},'tDWrh':'roomChoiceScreen'},_0x1875cd=localStorage[_0x1312fd(0x3a1)](_0x4c0db9[_0x1312fd(0x303)]);!_0x1875cd?_0x4c0db9['WOqhw'](showScreen,_0x4c0db9[_0x1312fd(0x3e0)]):(username=_0x1875cd,document[_0x1312fd(0x28d)](_0x4c0db9[_0x1312fd(0x351)])[_0x1312fd(0x1aa)]=username,_0x4c0db9[_0x1312fd(0x383)](showScreen,_0x4c0db9[_0x1312fd(0x249)]));}function closeProfile(){const _0x59225e=_0x2de16f,_0x3c62fd={'BqQfE':_0x59225e(0x39e),'AbTCj':_0x59225e(0x380)};document[_0x59225e(0x28d)](_0x3c62fd['BqQfE'])[_0x59225e(0x2d3)][_0x59225e(0x1b1)]=_0x3c62fd[_0x59225e(0x2cc)];}function resetWebsiteData(){const _0xe183f7=_0x2de16f,_0xd34b0b={'YAxao':_0xe183f7(0x200),'eNKdY':function(_0x275951,_0x351cd9){return _0x275951||_0x351cd9;},'zMtun':'3|1|4|0|2','xbwDi':function(_0x4013ce,_0x476aec){return _0x4013ce+_0x476aec;}};try{const _0x4436bc=localStorage['getItem']('notifications_enabled');localStorage[_0xe183f7(0x365)](),sessionStorage[_0xe183f7(0x365)](),_0x4436bc&&localStorage[_0xe183f7(0x216)](_0xd34b0b[_0xe183f7(0x1b0)],_0x4436bc);}catch(_0x1e9324){}if(_0xd34b0b[_0xe183f7(0x395)](!username,!roomCode)){const _0x5a8eb7=_0xd34b0b[_0xe183f7(0x265)][_0xe183f7(0x21e)]('|');let _0x1aaea5=0x0;while(!![]){switch(_0x5a8eb7[_0x1aaea5++]){case'0':pendingMessages=[];continue;case'1':roomCode=null;continue;case'2':clientId=_0xd34b0b[_0xe183f7(0x389)]('_',Math[_0xe183f7(0x276)]()['toString'](0x24)['substr'](0x2,0x9));continue;case'3':username=null;continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x544492=_0x2de16f,_0xe7fa39={'dNgUk':function(_0x250cd9,_0x34c20c){return _0x250cd9(_0x34c20c);},'aNWWz':'Enter\x20Announcement\x20Text:'},_0x4fef59=_0xe7fa39[_0x544492(0x2f0)](prompt,_0xe7fa39[_0x544492(0x35e)]);if(!_0x4fef59)return;db[_0x544492(0x1ef)](_0x544492(0x338)+roomCode+'/announcement')[_0x544492(0x31e)]({'text':_0x4fef59,'by':username,'timestamp':Date[_0x544492(0x34c)]()});}function listenForAnnouncement(){const _0x32a6b8=_0x2de16f,_0x159746={'sdZRU':'announcementArea','cgSgZ':'value'},_0x333009=db['ref'](_0x32a6b8(0x338)+roomCode+_0x32a6b8(0x1ca));_0x333009['on'](_0x159746[_0x32a6b8(0x3a8)],_0x571152=>{const _0x259f9e=_0x32a6b8,_0x3b3811=_0x571152[_0x259f9e(0x30c)]();if(!_0x3b3811){document['getElementById'](_0x159746[_0x259f9e(0x36e)])[_0x259f9e(0x1aa)]='';return;}const _0x13e504=document[_0x259f9e(0x28d)](_0x159746[_0x259f9e(0x36e)]);_0x13e504[_0x259f9e(0x1aa)]=''+_0x3b3811['text'];});}document[_0x2de16f(0x28d)](_0x2de16f(0x3e9))[_0x2de16f(0x2bd)](_0x2de16f(0x1e0),_0x176d7a=>{const _0x51c0ce=_0x2de16f,_0x289d36={'XxIfq':function(_0x3df575,_0x189262){return _0x3df575(_0x189262);},'IOckU':_0x51c0ce(0x2db)};_0x176d7a['detail']===0x3&&isRoomAdmin&&(_0x289d36[_0x51c0ce(0x208)](confirm,_0x289d36[_0x51c0ce(0x340)])&&db['ref'](_0x51c0ce(0x338)+roomCode+_0x51c0ce(0x1ca))[_0x51c0ce(0x267)]());}),document[_0x2de16f(0x28d)](_0x2de16f(0x2a0))[_0x2de16f(0x2bd)](_0x2de16f(0x38c),()=>{const _0x4a9a7e=_0x2de16f,_0x2ed96a={'FQTsJ':_0x4a9a7e(0x2a0),'HUcJx':'2px\x20solid\x20red'},_0x33b7f4=document[_0x4a9a7e(0x28d)](_0x2ed96a['FQTsJ']);_0x2be054?_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]='2px\x20solid\x20red':_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]='';const _0x3eff61=_0x33b7f4[_0x4a9a7e(0x361)][_0x4a9a7e(0x347)](),_0x2be054=swearWords[_0x4a9a7e(0x254)](_0x25ac6b=>_0x3eff61[_0x4a9a7e(0x301)](_0x25ac6b));_0x2be054?(_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]=_0x4a9a7e(0x214),sendBtn[_0x4a9a7e(0x288)]=!![]):(_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]='',_0x2be054?_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]=_0x2ed96a['HUcJx']:_0x33b7f4[_0x4a9a7e(0x2d3)][_0x4a9a7e(0x259)]='');});function muteUser(_0x12d7b5,_0x548807){const _0x3b8372=_0x2de16f,_0x324755={'manSP':function(_0x2aa5bd,_0x36fd3c){return _0x2aa5bd+_0x36fd3c;},'ecjzt':function(_0x584ea2,_0x46d1b3){return _0x584ea2*_0x46d1b3;},'cpKzt':function(_0x3d997a,_0x5a8a70){return _0x3d997a(_0x5a8a70);}},_0x186f73=_0x324755[_0x3b8372(0x217)](Date[_0x3b8372(0x34c)](),_0x324755[_0x3b8372(0x22a)](_0x548807,0x3c)*0x3e8);db[_0x3b8372(0x1ef)]('muted/'+roomCode+'/'+_0x324755[_0x3b8372(0x36b)](sanitizeUsername,_0x12d7b5))[_0x3b8372(0x31e)]({'muteUntil':_0x186f73})[_0x3b8372(0x316)](()=>{const _0x37bd77=_0x3b8372;alert(_0x12d7b5+_0x37bd77(0x3e1)+_0x548807+_0x37bd77(0x32e));});}function deleteUserMessages(_0x42b42b){const _0x45d11e=_0x2de16f,_0x2f7109={'xiXAU':function(_0xaac92f,_0x3224b1){return _0xaac92f(_0x3224b1);},'vsgwO':_0x45d11e(0x2a7)};db[_0x45d11e(0x1ef)](_0x45d11e(0x338)+roomCode+_0x45d11e(0x40e))[_0x45d11e(0x3b1)](_0x2f7109[_0x45d11e(0x2cd)])[_0x45d11e(0x20a)](_0x42b42b)['get']()['then'](_0x2f5451=>{const _0x1c0516=_0x45d11e;_0x2f5451[_0x1c0516(0x27a)](_0x2cf658=>{const _0x4f13fa=_0x1c0516;db[_0x4f13fa(0x1ef)](_0x4f13fa(0x338)+roomCode+_0x4f13fa(0x1f0)+_0x2cf658[_0x4f13fa(0x2bb)])[_0x4f13fa(0x267)]();}),_0x2f7109['xiXAU'](alert,_0x1c0516(0x27c)+_0x42b42b+'\x20deleted.');});}function pauseRoom(_0x57a70d){const _0x4dfba9=_0x2de16f,_0x2a28af={'VjZTw':'pausedOverlay','zRlyc':_0x4dfba9(0x361)};db['ref']('rooms/'+roomCode+_0x4dfba9(0x212))['on'](_0x2a28af[_0x4dfba9(0x30e)],_0x276af6=>{const _0x376369=_0x4dfba9,_0x4afe49=_0x276af6['val']();document[_0x376369(0x28d)](_0x2a28af[_0x376369(0x41b)])['style'][_0x376369(0x1b1)]=_0x4afe49?_0x376369(0x2d7):_0x376369(0x380);});}function canPerformAction(_0x297835){const _0x288e7e=_0x2de16f,_0x34e0a3={'xyNzK':function(_0x59afa0,_0x18715e){return _0x59afa0===_0x18715e;},'mrwYz':'dev','NqbIe':'mute','XxbTz':'deleteMessage','eYfjL':function(_0x55dc82,_0x2880e9){return _0x55dc82===_0x2880e9;},'mjxZM':_0x288e7e(0x19a),'fKhxY':'promote','eGjgQ':function(_0xb41532,_0x456b2f){return _0xb41532===_0x456b2f;}};if(_0x34e0a3[_0x288e7e(0x366)](role,_0x34e0a3[_0x288e7e(0x29c)]))return!![];if(_0x34e0a3['xyNzK'](_0x297835,_0x34e0a3[_0x288e7e(0x312)])||_0x34e0a3[_0x288e7e(0x366)](_0x297835,_0x34e0a3['XxbTz']))return _0x34e0a3[_0x288e7e(0x3da)](role,'admin')||_0x34e0a3[_0x288e7e(0x366)](role,_0x34e0a3[_0x288e7e(0x3a0)]);if(_0x297835===_0x34e0a3[_0x288e7e(0x2ed)])return _0x34e0a3[_0x288e7e(0x24c)](role,_0x288e7e(0x3c1));return![];}const html=Object[_0x2de16f(0x28c)](roomUsers)['map'](_0x27ac5c=>{const _0x131dff=_0x2de16f,_0x3573d5={'xvmke':function(_0x13bbf8,_0x19d188){return _0x13bbf8(_0x19d188);},'bnvms':function(_0x23705f,_0x1a550c){return _0x23705f(_0x1a550c);},'HaDmr':function(_0x47ea32,_0x58727d){return _0x47ea32(_0x58727d);},'ycKvt':_0x131dff(0x1df),'yxnNR':_0x131dff(0x1e9),'BpDHR':function(_0x5d414b,_0x793997){return _0x5d414b===_0x793997;},'vfrvT':_0x131dff(0x3c1),'WXOey':function(_0x347284,_0x5e2778){return _0x347284(_0x5e2778);}},_0x59b1e6=_0x3573d5[_0x131dff(0x412)](sanitizeUsername,_0x27ac5c[_0x131dff(0x26f)]),_0x3aa3f9=[];if(_0x59b1e6!==_0x3573d5[_0x131dff(0x2c6)](sanitizeUsername,username)){_0x3573d5['HaDmr'](canPerformAction,'mute')&&(_0x3aa3f9[_0x131dff(0x204)](_0x131dff(0x2cb)+_0x59b1e6+_0x131dff(0x39b)),_0x3aa3f9[_0x131dff(0x204)](_0x131dff(0x2cb)+_0x59b1e6+_0x131dff(0x1f2)));canPerformAction(_0x3573d5[_0x131dff(0x398)])&&_0x3aa3f9['push'](_0x131dff(0x3be)+_0x59b1e6+_0x131dff(0x26e));if(role===_0x3573d5[_0x131dff(0x1f5)])_0x3aa3f9[_0x131dff(0x204)](_0x131dff(0x386)+_0x59b1e6+_0x131dff(0x23f)),_0x3aa3f9[_0x131dff(0x204)](_0x131dff(0x26b)+_0x59b1e6+_0x131dff(0x1ac));else _0x3573d5['BpDHR'](role,_0x3573d5['vfrvT'])&&_0x3aa3f9[_0x131dff(0x204)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x59b1e6+_0x131dff(0x23f));}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x27ac5c[_0x131dff(0x26f)]+'\x20'+getRoleTag(_0x3573d5[_0x131dff(0x2f3)](sanitizeUsername,_0x27ac5c[_0x131dff(0x26f)]))+_0x131dff(0x2c4)+_0x59b1e6+_0x131dff(0x3ec)+_0x3aa3f9[_0x131dff(0x3e2)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x59b1e6+_0x131dff(0x34b);})[_0x2de16f(0x3e2)]('');function promoteToModerator(_0x579bf5){const _0x290cde=_0x2de16f,_0x5afd89={'edmjf':function(_0x21f811,_0x2f97a9){return _0x21f811(_0x2f97a9);},'snGwI':_0x290cde(0x40a),'wmEwx':function(_0x1d41ef,_0x5fde26){return _0x1d41ef!==_0x5fde26;},'EXXXc':_0x290cde(0x1e9),'Qmauz':_0x290cde(0x3c1)},_0x32f483=_0x5afd89['edmjf'](sanitizeUsername,_0x579bf5);if(_0x5afd89[_0x290cde(0x381)](isProtected,_0x32f483))return _0x5afd89['edmjf'](alert,_0x5afd89['snGwI']);if(_0x5afd89['wmEwx'](role,_0x5afd89[_0x290cde(0x3e7)])&&_0x5afd89[_0x290cde(0x3f8)](role,_0x5afd89[_0x290cde(0x3aa)])){_0x5afd89[_0x290cde(0x381)](alert,'Only\x20Devs\x20or\x20Admins\x20can\x20promote.');return;}db[_0x290cde(0x1ef)]('moderators/'+roomCode+'/'+_0x32f483)['set'](!![])[_0x290cde(0x316)](()=>{const _0x1e5fa3=_0x290cde;_0x5afd89[_0x1e5fa3(0x381)](alert,_0x579bf5+'\x20promoted\x20to\x20Moderator!'),_0x5afd89[_0x1e5fa3(0x381)](addSystemMessage,_0x579bf5+_0x1e5fa3(0x3f2));});}function promoteToAdmin(_0x510a89){const _0x17bd30=_0x2de16f,_0x9d97fa={'GFbkD':function(_0x30baf6,_0x5339ee){return _0x30baf6(_0x5339ee);},'ssySg':function(_0x4b2c67,_0x561912){return _0x4b2c67(_0x561912);},'aSssl':function(_0x37fcfc,_0x3bfa98){return _0x37fcfc(_0x3bfa98);},'PQNYH':_0x17bd30(0x40a),'lxuuA':function(_0xe5f9e0,_0x25d43f){return _0xe5f9e0!==_0x25d43f;},'KYLOT':_0x17bd30(0x1b7)},_0x5abc05=_0x9d97fa[_0x17bd30(0x1cc)](sanitizeUsername,_0x510a89);if(_0x9d97fa['GFbkD'](isProtected,_0x5abc05))return _0x9d97fa['aSssl'](alert,_0x9d97fa[_0x17bd30(0x1d9)]);if(_0x9d97fa[_0x17bd30(0x422)](role,'dev')){_0x9d97fa[_0x17bd30(0x401)](alert,_0x9d97fa[_0x17bd30(0x342)]);return;}db['ref']('admins/'+roomCode+'/'+_0x5abc05)['set'](!![])[_0x17bd30(0x316)](()=>{const _0xb33910=_0x17bd30;_0x9d97fa['GFbkD'](alert,_0x510a89+_0xb33910(0x2c0)),_0x9d97fa[_0xb33910(0x401)](addSystemMessage,_0x510a89+_0xb33910(0x209));});}function toggleUserOptions(_0x1a64a6){const _0x153a09=_0x2de16f,_0x2962f3={'QZtRc':function(_0x32e5b9,_0x491834){return _0x32e5b9===_0x491834;},'yrnqg':'dev','vyZbn':function(_0x5a5f27,_0x5a6937){return _0x5a5f27===_0x5a6937;},'kymqI':_0x153a09(0x3c1),'fSvNN':function(_0x5177b8,_0x25a1d9){return _0x5177b8===_0x25a1d9;},'HVuOF':'none','xpXqP':_0x153a09(0x2d7)};(_0x2962f3[_0x153a09(0x420)](role,_0x2962f3[_0x153a09(0x28f)])||_0x2962f3[_0x153a09(0x1fe)](role,_0x2962f3[_0x153a09(0x3a9)]))&&controls[_0x153a09(0x204)](_0x153a09(0x222)+safeName+'\x27)\x22>Demote</button>');const _0xa71c53=document['getElementById'](_0x153a09(0x2c1)+_0x1a64a6);_0x2962f3[_0x153a09(0x2c3)](_0xa71c53['style']['display'],_0x2962f3[_0x153a09(0x37d)])?_0xa71c53['style'][_0x153a09(0x1b1)]=_0x2962f3[_0x153a09(0x286)]:_0xa71c53['style']['display']=_0x2962f3[_0x153a09(0x37d)];}function demoteUser(_0x4e760a){const _0x1f5ea3=_0x2de16f,_0x177228={'SHpan':function(_0x18113f,_0x582a54){return _0x18113f(_0x582a54);},'cPuqs':'🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','PyveL':function(_0x58e68f,_0x39ae4e){return _0x58e68f===_0x39ae4e;},'ikVpM':_0x1f5ea3(0x3c1),'eSrqw':function(_0x2f391d,_0x3dcda0){return _0x2f391d(_0x3dcda0);}};if(_0x177228[_0x1f5ea3(0x396)](isProtected,_0x4e760a))return _0x177228[_0x1f5ea3(0x396)](alert,_0x177228[_0x1f5ea3(0x1d3)]);if(_0x177228[_0x1f5ea3(0x260)](role,_0x1f5ea3(0x1e9)))db[_0x1f5ea3(0x1ef)](_0x1f5ea3(0x3f5)+roomCode+'/'+_0x4e760a)['remove'](),db['ref'](_0x1f5ea3(0x280)+roomCode+'/'+_0x4e760a)['remove'](),alert(_0x4e760a+'\x20demoted\x20to\x20user.');else _0x177228[_0x1f5ea3(0x260)](role,_0x177228['ikVpM'])?(db[_0x1f5ea3(0x1ef)]('moderators/'+roomCode+'/'+_0x4e760a)['remove'](),alert(_0x4e760a+_0x1f5ea3(0x3cb))):_0x177228[_0x1f5ea3(0x29f)](alert,_0x1f5ea3(0x39c));}function getRoleTag(_0x25ef49){const _0x2ec2f5=_0x2de16f,_0x92436=sanitizeUsername(_0x25ef49);if(globalDevs['includes'](_0x92436))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins[_0x2ec2f5(0x301)](_0x92436))return _0x2ec2f5(0x2b2);if(roomModerators[_0x2ec2f5(0x301)](_0x92436))return _0x2ec2f5(0x221);return'';}async function loadRoomRoles(){const _0x23a37a=_0x2de16f,_0x49f2f2={'WQWcL':function(_0x103d9f,_0x42294e){return _0x103d9f(_0x42294e);},'TYXNp':_0x23a37a(0x1eb),'hlAwy':'admin','HuhJZ':_0x23a37a(0x19a),'QzSLd':_0x23a37a(0x2e9)},_0x57031c=_0x49f2f2['WQWcL'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x252147=await db['ref'](_0x49f2f2['TYXNp'])[_0x23a37a(0x3dd)]();_0x252147[_0x23a37a(0x27a)](_0x370292=>{const _0xc81c46=_0x23a37a;if(_0x370292[_0xc81c46(0x30c)]()[_0xc81c46(0x257)]===_0xc81c46(0x1e9))globalDevs['push'](_0x370292['key']);});const _0x5734e9=await db['ref'](_0x23a37a(0x3f5)+roomCode)['get']();_0x5734e9['exists']()&&_0x5734e9[_0x23a37a(0x27a)](_0x2b4713=>roomAdmins[_0x23a37a(0x204)](_0x2b4713['key']));const _0x3798be=await db[_0x23a37a(0x1ef)]('moderators/'+roomCode)[_0x23a37a(0x3dd)]();_0x3798be[_0x23a37a(0x359)]()&&_0x3798be[_0x23a37a(0x27a)](_0xf56292=>roomModerators[_0x23a37a(0x204)](_0xf56292[_0x23a37a(0x2bb)]));if(globalDevs[_0x23a37a(0x301)](_0x57031c))role=_0x23a37a(0x1e9);else{if(roomAdmins[_0x23a37a(0x301)](_0x57031c))role=_0x49f2f2[_0x23a37a(0x24b)];else roomModerators[_0x23a37a(0x301)](_0x57031c)?role=_0x49f2f2[_0x23a37a(0x2a8)]:role=_0x49f2f2[_0x23a37a(0x2ec)];}}async function renderUserLists(_0x21dde5){const _0x36d5c4=_0x2de16f,_0x35b477={'YjqLf':function(_0x4c41c5,_0x3c22d9){return _0x4c41c5(_0x3c22d9);},'FIBgR':function(_0xf1a99,_0x3500a3){return _0xf1a99(_0x3500a3);},'JtqUy':function(_0x2e00a1,_0x5c0193){return _0x2e00a1===_0x5c0193;},'pWDFl':_0x36d5c4(0x1e9),'dofFX':function(_0x2b8ab1,_0x3e246d){return _0x2b8ab1===_0x3e246d;},'nTQuV':'admin','PBGCJ':_0x36d5c4(0x19a),'tTQhi':function(_0x3b5505,_0x512bd9){return _0x3b5505(_0x512bd9);},'yguUW':function(_0x483bdc,_0x3cc0ef){return _0x483bdc===_0x3cc0ef;},'tBhWH':_0x36d5c4(0x202),'xPLjG':_0x36d5c4(0x2d7),'xOkOd':'none','NKzKq':_0x36d5c4(0x39a)};roomUsers=_0x21dde5;const _0xe16cfd=_0x35b477['tTQhi'](sanitizeUsername,username),_0x4b4cb4=_0x35b477[_0x36d5c4(0x3b6)](role,_0x36d5c4(0x1e9))||_0x35b477['JtqUy'](role,_0x35b477['nTQuV'])||_0x35b477[_0x36d5c4(0x274)](role,_0x35b477['PBGCJ']);document[_0x36d5c4(0x28d)](_0x35b477['tBhWH'])['style'][_0x36d5c4(0x1b1)]=_0x4b4cb4?_0x35b477[_0x36d5c4(0x21a)]:_0x35b477[_0x36d5c4(0x2ef)];const _0x5256cb=Object[_0x36d5c4(0x2ee)](_0x21dde5)[_0x36d5c4(0x336)](async([_0x182248,_0x30bca1])=>{const _0x826a73=_0x36d5c4,_0x4961ae=_0x35b477[_0x826a73(0x410)](sanitizeUsername,_0x30bca1[_0x826a73(0x26f)]||_0x182248),_0x3e9d07=await _0x35b477[_0x826a73(0x410)](fetchAvatar,_0x4961ae),_0xa5b8b5=_0x3e9d07?_0x826a73(0x416)+_0x3e9d07+_0x826a73(0x31a):'',_0x5e9ee0=_0x30bca1[_0x826a73(0x327)]?_0x826a73(0x29a):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return'<li>'+_0xa5b8b5+'\x20'+_0x5e9ee0+_0x826a73(0x23a)+_0x4961ae+'\x27)\x22>'+(_0x30bca1[_0x826a73(0x26f)]||_0x182248)+_0x826a73(0x34a)+_0x35b477[_0x826a73(0x410)](getRoleTag,_0x4961ae)+_0x826a73(0x418);}),_0x4d71ed=await Promise[_0x36d5c4(0x1a3)](_0x5256cb);document[_0x36d5c4(0x28d)](_0x36d5c4(0x335))['innerHTML']=_0x4d71ed[_0x36d5c4(0x3e2)]('');if(!_0x4b4cb4)return;const _0x101a7a=Object[_0x36d5c4(0x2ee)](_0x21dde5)['map'](async([_0xbbf6b2,_0x1dd802])=>{const _0x5b007e=_0x36d5c4,_0x327830=_0x35b477[_0x5b007e(0x2d8)](sanitizeUsername,_0x1dd802[_0x5b007e(0x26f)]||_0xbbf6b2);if(_0x327830===_0xe16cfd)return'';const _0x4bee12=globalDevs['includes'](_0x327830),_0x23bece=await fetchAvatar(_0x327830),_0x10b5c7=_0x23bece?_0x5b007e(0x416)+_0x23bece+_0x5b007e(0x31a):'',_0x445aff=_0x1dd802[_0x5b007e(0x327)]?_0x5b007e(0x29a):_0x5b007e(0x264),_0x347b20=[];if(!_0x4bee12){(_0x35b477[_0x5b007e(0x3b6)](role,_0x35b477[_0x5b007e(0x292)])||_0x35b477[_0x5b007e(0x29b)](role,_0x35b477[_0x5b007e(0x2fa)])||_0x35b477[_0x5b007e(0x29b)](role,_0x35b477[_0x5b007e(0x2be)]))&&(_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x2cb)+_0x327830+_0x5b007e(0x39b)),_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x2cb)+_0x327830+_0x5b007e(0x1f2)));if(_0x35b477[_0x5b007e(0x29b)](role,_0x35b477[_0x5b007e(0x292)]))_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x386)+_0x327830+_0x5b007e(0x27d)),_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x26b)+_0x327830+_0x5b007e(0x2fc)),_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x222)+_0x327830+_0x5b007e(0x36f));else _0x35b477['JtqUy'](role,_0x35b477[_0x5b007e(0x2fa)])&&(_0x347b20[_0x5b007e(0x204)](_0x5b007e(0x386)+_0x327830+'\x27)\x22>+Mod</button>'),_0x347b20[_0x5b007e(0x204)]('<button\x20onclick=\x22demoteUser(\x27'+_0x327830+'\x27)\x22>Demote</button>'));}return _0x5b007e(0x268)+_0x10b5c7+'\x20'+_0x445aff+_0x5b007e(0x3ed)+(_0x1dd802[_0x5b007e(0x26f)]||_0xbbf6b2)+'\x20'+_0x35b477[_0x5b007e(0x2e3)](getRoleTag,_0x327830)+_0x5b007e(0x37f)+_0x347b20[_0x5b007e(0x3e2)]('\x20')+_0x5b007e(0x3fb);}),_0x545df3=await Promise[_0x36d5c4(0x1a3)](_0x101a7a);document[_0x36d5c4(0x28d)](_0x35b477['NKzKq'])[_0x36d5c4(0x1c4)]=_0x545df3['join']('');}async function fetchAvatar(_0x5a88f7){const _0x96f7f4=_0x2de16f;if(userAvatars[_0x5a88f7])return userAvatars[_0x5a88f7];const _0x474815=await db['ref'](_0x96f7f4(0x1fa)+_0x5a88f7)[_0x96f7f4(0x3dd)]();if(_0x474815['exists']()&&_0x474815[_0x96f7f4(0x30c)]()['avatarBase64'])return userAvatars[_0x5a88f7]=_0x474815[_0x96f7f4(0x30c)]()[_0x96f7f4(0x3bd)],userAvatars[_0x5a88f7];return null;}function sendTyping(){const _0x57c395=_0x2de16f,_0x44ddb8={'ZNGkb':function(_0x513a64,_0x176ff5){return _0x513a64(_0x176ff5);}},_0x153f66=_0x44ddb8[_0x57c395(0x362)](sanitizeUsername,username),_0x4d2d02=Date['now']();db[_0x57c395(0x1ef)](_0x57c395(0x275)+roomCode+'/'+_0x153f66)['set'](_0x4d2d02);if(typingTimeout)_0x44ddb8[_0x57c395(0x362)](clearTimeout,typingTimeout);typingTimeout=setTimeout(()=>{const _0x553a95=_0x57c395;db[_0x553a95(0x1ef)]('typing/'+roomCode+'/'+_0x153f66)[_0x553a95(0x267)]();},0xbb8);}function listenForTyping(){const _0x5a25fc=_0x2de16f,_0x5139fb={'FCDIQ':_0x5a25fc(0x3d2),'LMswv':_0x5a25fc(0x361)};db['ref'](_0x5a25fc(0x275)+roomCode)['on'](_0x5139fb[_0x5a25fc(0x285)],_0x544e01=>{const _0x1f4e49=_0x5a25fc,_0xd302b7=document['getElementById'](_0x5139fb['FCDIQ']);if(!_0x544e01['exists']())return _0xd302b7[_0x1f4e49(0x1aa)]='';const _0x1746be=Date[_0x1f4e49(0x34c)](),_0x5bcdf1=Object[_0x1f4e49(0x2ee)](_0x544e01['val']())[_0x1f4e49(0x229)](([_0x133029,_0x303ae1])=>_0x133029!==sanitizeUsername(username)&&_0x1746be-_0x303ae1<0x1388)[_0x1f4e49(0x336)](([_0x523fb7])=>_0x523fb7);_0xd302b7[_0x1f4e49(0x1aa)]=_0x5bcdf1[_0x1f4e49(0x2ab)]?_0x5bcdf1[_0x1f4e49(0x3e2)](',\x20')+_0x1f4e49(0x2bc):'';});}function watchMuteStatus(){const _0x18b4ec=_0x2de16f,_0x3f31ba={'fAohX':_0x18b4ec(0x2a0),'mryFJ':function(_0x960032,_0x3e79ee){return _0x960032===_0x3e79ee;},'eNBkY':function(_0x1f3a08,_0x18f71b){return _0x1f3a08>_0x18f71b;},'ROyQb':function(_0x3bdfe9,_0x7c9c19){return _0x3bdfe9>_0x7c9c19;},'FTCdD':_0x18b4ec(0x3d4),'hbhRL':_0x18b4ec(0x1d6),'LoYyk':function(_0x3d023b,_0x46da13){return _0x3d023b(_0x46da13);},'pakcS':_0x18b4ec(0x361)},_0x2e9f0a=db[_0x18b4ec(0x1ef)](_0x18b4ec(0x3d6)+roomCode+'/'+_0x3f31ba[_0x18b4ec(0x3cf)](sanitizeUsername,username));_0x2e9f0a['on'](_0x3f31ba[_0x18b4ec(0x2aa)],_0x13508c=>{const _0x2ce3d7=_0x18b4ec,_0x3607d9=document['getElementById'](_0x3f31ba['fAohX']);if(_0x13508c[_0x2ce3d7(0x359)]()){const _0x117851=_0x13508c[_0x2ce3d7(0x30c)](),_0x5738b5=_0x3f31ba[_0x2ce3d7(0x3f6)](typeof _0x117851,_0x2ce3d7(0x24e))&&_0x117851[_0x2ce3d7(0x23b)]?_0x117851[_0x2ce3d7(0x23b)]:_0x117851;_0x3607d9[_0x2ce3d7(0x288)]=_0x3f31ba[_0x2ce3d7(0x370)](_0x5738b5,Date['now']()),_0x3607d9['placeholder']=_0x3f31ba['ROyQb'](_0x5738b5,Date['now']())?_0x3f31ba[_0x2ce3d7(0x3d3)]:_0x3f31ba[_0x2ce3d7(0x1f1)];}else _0x3607d9[_0x2ce3d7(0x288)]=![],_0x3607d9[_0x2ce3d7(0x1b9)]=_0x2ce3d7(0x1d6);});}function isProtected(_0x586a4d){return globalDevs['includes'](_0x586a4d);}function addSystemMessage(_0x181858){const _0x2009db=_0x2de16f,_0x4d0ce7={'fAlcw':_0x2009db(0x33b),'RxWAE':_0x2009db(0x1fc),'MCjWQ':_0x2009db(0x2fd),'TfvPP':'messages'},_0x2938fd=document[_0x2009db(0x2a9)](_0x2009db(0x2b9));_0x2938fd['style'][_0x2009db(0x2b5)]=_0x4d0ce7[_0x2009db(0x263)],_0x2938fd[_0x2009db(0x2d3)][_0x2009db(0x2ba)]=_0x4d0ce7['RxWAE'],_0x2938fd[_0x2009db(0x2d3)][_0x2009db(0x1a8)]='#aaa',_0x2938fd['style'][_0x2009db(0x2c9)]=_0x4d0ce7[_0x2009db(0x302)],_0x2938fd[_0x2009db(0x1aa)]=_0x181858,document[_0x2009db(0x28d)](_0x2009db(0x22c))[_0x2009db(0x415)](_0x2938fd),document['getElementById'](_0x2009db(0x22c))[_0x2009db(0x2c8)]=document[_0x2009db(0x28d)](_0x4d0ce7[_0x2009db(0x3fc)])[_0x2009db(0x297)];}