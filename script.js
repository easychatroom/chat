const _0x48f994=_0xf700;(function(_0x32a216,_0x108ac9){const _0x1afe8f=_0xf700,_0x35ef41=_0x32a216();while(!![]){try{const _0xc29651=parseInt(_0x1afe8f(0x180))/0x1*(-parseInt(_0x1afe8f(0x1f8))/0x2)+-parseInt(_0x1afe8f(0x360))/0x3+-parseInt(_0x1afe8f(0x26a))/0x4*(parseInt(_0x1afe8f(0x157))/0x5)+-parseInt(_0x1afe8f(0x32e))/0x6+parseInt(_0x1afe8f(0x15f))/0x7*(parseInt(_0x1afe8f(0x238))/0x8)+-parseInt(_0x1afe8f(0x285))/0x9*(parseInt(_0x1afe8f(0x2f8))/0xa)+parseInt(_0x1afe8f(0x1e6))/0xb;if(_0xc29651===_0x108ac9)break;else _0x35ef41['push'](_0x35ef41['shift']());}catch(_0x567100){_0x35ef41['push'](_0x35ef41['shift']());}}}(_0x3983,0xdb53f));const firebaseConfig={'apiKey':_0x48f994(0x354),'authDomain':_0x48f994(0x29c),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x48f994(0x330),'storageBucket':_0x48f994(0x221),'messagingSenderId':_0x48f994(0x2c7),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':'G-QDESJ2WR42'};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x48f994(0x283)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=[_0x48f994(0x21f),_0x48f994(0x2fd),'bitch',_0x48f994(0x1e4),_0x48f994(0x2b4),_0x48f994(0x21d),_0x48f994(0x2bf),'puta',_0x48f994(0x338),_0x48f994(0x188),_0x48f994(0x235),_0x48f994(0x257),_0x48f994(0x333),_0x48f994(0x35f),'caralho',_0x48f994(0x286),'puta',_0x48f994(0x1b2),_0x48f994(0x2b6),_0x48f994(0x250),'gago',_0x48f994(0x301),_0x48f994(0x27b),_0x48f994(0x135),'bwisit','putang\x20ina'],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x48f994(0x1fe)]()['toString'](0x24)[_0x48f994(0x1a1)](0x2,0x9),lastActivity=Date[_0x48f994(0x346)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x48f994(0x22d),MAX_MESSAGES=0xfa,sound=new Audio(_0x48f994(0x203));sound[_0x48f994(0x269)]=0.3;function _0xf700(_0x4235c8,_0x55d884){const _0x398394=_0x3983();return _0xf700=function(_0xf70019,_0x18a5d0){_0xf70019=_0xf70019-0x133;let _0x56d9a2=_0x398394[_0xf70019];return _0x56d9a2;},_0xf700(_0x4235c8,_0x55d884);}let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2756f9=_0x48f994,_0x4c2a9f={'QzVTQ':function(_0x431a23,_0x217b62){return _0x431a23+_0x217b62;}},_0x45dcb5=_0x4c2a9f['QzVTQ'](_0x4c2a9f[_0x2756f9(0x2b7)](navigator[_0x2756f9(0x2b0)],screen[_0x2756f9(0x150)]),screen[_0x2756f9(0x2f6)]),_0x2256f7=await sha256(_0x45dcb5);return _0x4c2a9f[_0x2756f9(0x2b7)]('_',_0x2256f7[_0x2756f9(0x1a1)](0x0,0x14));}function sha256(_0xad644c){const _0x2d36ac=_0x48f994,_0x239111={'FFCrB':_0x2d36ac(0x17d)},_0x7ca487=new TextEncoder()['encode'](_0xad644c);return crypto['subtle'][_0x2d36ac(0x1ce)](_0x239111[_0x2d36ac(0x25c)],_0x7ca487)['then'](_0x275c59=>{const _0x167a10=_0x2d36ac;return Array[_0x167a10(0x1c3)](new Uint8Array(_0x275c59))['map'](_0xef4017=>_0xef4017[_0x167a10(0x2d0)](0x10)[_0x167a10(0x15c)](0x2,'0'))['join']('');});}function _0x3983(){const _0x3d085c=['Microphone\x20permission\x20denied.','fdp','announcementArea','div','antispam/','Room\x20is\x20currently\x20paused.','uAzDy','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','XgFEB','zOoKU','[Unknown\x20Message]','waFaP','chat_username','Error\x20checking\x20username:','CBciA','bXLZD','BxiWW','UPXbW','from','tlpRt','authError','JYiUZ','onDisconnect','Room\x20password\x20not\x20set.\x20Cannot\x20join.','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','PnmqA','EgtOV','eqRSI','axwif','digest','toLocaleString','CiZHl','OfGjy','Messages\x20by\x20','LLEdI','mkzcW','roomDisplay','IplYK','msgInput','received','bjBcF','Enter\x20your\x20new\x20username:','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','classList','toLowerCase','child_added','muted/','\x27)\x22>+Mod</button>','uPKvo','mwvyz','value','asshole','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','54328868iryTMb','scrollTop','FVfZc','\x20promoted\x20to\x20Moderator!','input','zntHF','uDBoe','editProfileScreen','zaGNH','concat','upHcv','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','[Voice\x20Message]','ihpjB','Vpfjn','RNRpD','clear','yQRgt','892BjYUss','Admins\x20only.','passwordScreen','Dtyux','ABCDEFGHIJKLMNOPQRSTUVWXYZ','audio/webm','random','data:audio/webm;base64,','üîï\x20Disable\x20Notifications','IYwwr','once','sounds/beep.mp3','zqjab','TvYrz','ZLaGq','readAsDataURL','mQVze','bffre','lpCEe','SHSwD','\x0aDescription:\x20','limitToLast','VwDsO','smUvJ','ygMcV','sender','qLZMk','\x27,\x205)\x22>Mute\x205m</button>','MrmMZ','upbox','xouyr','innerHTML','grrhW','nQNqE','getItem','RBXLG','mcIbE','dick','tyGWw','fuck','rMBhj','easy-chatroom.firebasestorage.app','rkDjJ','dDZOq','/avatarBase64','recordBtn','NxVsf','authPassword','rooms/','IrkYQ','GYlQF','XRxic','ERypQ','050BBB66HH','cGocU','DPNPo','LUxdO','hrMaV','rbCqT','<img\x20src=\x22data:image/png;base64,','rooms','co√±o','msg','nZgZZ','2112VBXumI','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','oldPasswordInput','Remove\x20Announcement?','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','You\x20are\x20muted.','state','border','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','/announcement','block','No\x20bio\x20set','Enter','jBnxN','BTpiG','stop','update','trim','Failed\x20to\x20register\x20user\x20into\x20room.','HmdbX','uZMGM','WYCgr','onlineStatus','peOOG','putangina','role','toLocaleTimeString','style','NsIJQ','setItem','RuJGt','cabron','kgSTv','profileScreen','sidebarAvatarPreview','editProfileError','FFCrB','orderByChild','0|2|1|3|5|4','audioUrl','passwordHash','description','userList','FUkpQ','\x20minutes.','ZHdam','qCjSc','dsqjo','values','volume','4DCZqyc','wUMgV','pxSib','abGaT','\x0aUsername\x20History:\x20','MKfWY','codeEntryScreen','dbpjj','messages','No\x20changes\x20yet','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','adminControlsSection','VjVXm','hidden','mUgVh','rWayA','WIzrL','ulol','sOZVs','XKRmN','lWnBF','back','profileUsernameInput','username','user','database','mvjSN','1377RyXeCw','merda','length','‚ùå\x20Username\x20already\x20taken.','<button\x20onclick=\x22deleteUserMessages(\x27','JzkKw','xQyNY','then','userDisplay','GESxu','PBoPa','equalTo','DNwUg','zowFC','lTqUw','display','\x20promoted\x20to\x20Admin!','color','AFpga','kgIXk','Gojzp','yEDai','passwordError','easy-chatroom.firebaseapp.com','none','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','aPvrI','TyZta','hbbGF','mloHa','all','FHcWp','pZJUr','<li>','xOPaj','\x20in\x20room\x20','result','vwaDs','TpMJD','KDDTm','yZztS','dev','JyqRI','userAgent','gPKaH','hGdIy','OelQS','bastard','get','otario','QzVTQ','visibilitychange','\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>','DNzkF','push','nAgxL','wwVQb','onloadend','cunt','Incorrect\x20password','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','DuvON','kUnva','authScreen','data','authSubmitBtn','985049198428','CzAQX','awxge','<div>','src','You\x20got\x20messages\x20from\x20','roomStates/','title','authDescription','toString','authAvatarPreview','set','hqnUt','Session\x20expired.','ZaNLN','WbVNJ','</small>','kDHVv','TlJIH','gr8stg/','PRCIe','ZvRSd','zyATq','aCkOA','Incorrect\x20current\x20password.','innerText','files','TchSx','moderator','fSGjy','profileViewer','Profile\x20not\x20found.','cMBwu','dZBdw','‚óè\x20Online','NjTeV','QHXZI','adminUserList','typing/','njJcY','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','Passwords\x20do\x20not\x20match.','editBioInput','chatScreen','RQdda','qLqlX','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','height','VowKH','50PUNiWF','notifToggleBtn','permission','Missing\x20room\x20or\x20user\x20information.','2-digit','shit','exists','AMbLw','ZzBeT','tangina','AhzCB','IwwDW','cHWLG','forEach','XhQAz','BgUou','mediaDevices','jZxri','authPasswordConfirm','Login','vBpmT','VDIGD','pCqZt','</span>','‚úÖ\x20Profile\x20picture\x20updated!','SxDgZ','Account\x20not\x20found.','ViNdN','VNqWV','\x20muted\x20for\x20','MzcAU','error','dnCrs','IuOWk','split','gkDSt','SkLMC','xrXQa','nQtoR','dabZO','YHVRk','ikvkh','qkuDA','content','auth','0123456789','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','entries','getUserMedia','üîî\x20Enable\x20Notifications','disabled','antispam','unknown','vKkjr','9514608TlOFWe','aHqKF','easy-chatroom','cbwKu','EOfBU','gilipollas','VLQzh','edMTh','show','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','mierda','gPBFG','profileContent','detail','scrollHeight','TIMESTAMP','admin','BZFxs','WFcgm','GimbM','‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','add','üë§\x20','addAnnouncementBtn','now','floor','some','userSidebar','hDALk','getElementById','pausedOverlay','onstop','ref','lastChanged','<audio\x20controls\x20src=\x22','ServerValue','eqDgM','VRAXO','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','appendChild','iezES','/messages','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','cvyfu','moderators/','userOptions-','itROj','[Voice\x20message]','Unscg','porra','4793271acTdVl','ThxdO','BXUsU','bobo','roomCodeInput','active','AiyDz','remove','jHYsu','granted','profileDescriptionInput','users/','kOzbg','replace','iTnVy','vkbLx','sogcH','JbbJH','admins/','Register','usernameScreen','join','BmSgZ','\x0aName:\x20','JwHWf','rHqFV','dnZdL','zCSCt','auth/','2|0|1|5|3|4','width','catch','KdCRf','val','Kcdxr','placeholder','SINJy','4118605RIufln','/paused','nRyyb','NqBtA','addEventListener','padStart','RimRr','profile_description','5131nhNQMV','map','aNvoQ','<button\x20onclick=\x22promoteToAdmin(\x27','BmyAL','YgYue','Enter\x20Announcement\x20Text:','audioBase64','IzMrn','UuQAn','#00ff88','eyxCT','keypress','obMll','</div>','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','requestPermission','VBFCA','dnaTJ','<button\x20onclick=\x22promoteToModerator(\x27','preventDefault','WLaXI','hPavz','Ddnrb','roomChoiceScreen','popstate','data:image/png;base64,','namePreview','/messages/','xXrJT','SHA-256','ondataavailable','filter','507tWmLKF','yDzKT','key','\x27)\x22>Delete\x20Messages</button>','kGnib','<span\x20class=\x22sender-name\x22>','KJMVd','DXnwe','pendejo','üîß\x20','flex','JxvnX','nEpdN','Failed\x20to\x20save\x20profile:','<button\x20onclick=\x22muteUser(\x27','includes','You\x20got\x20a\x20message\x20from\x20','acerS','onload','BKtLP','staticPasswordInput','<br>','HPcVb','antispamBlocked','ABPgy','XnRej','Please\x20enter\x20your\x20current\x20password.','VwjSy','avatarBase64','<small>','uaDBq','6|3|5|2|4|1|7|0','oKsNJ','substr','MoDMq','ynUke','3|2|0|1|4','profiles/','oCQVS','authAvatar','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','hfZcV','New\x20Chat\x20Message','BtBcl','bKLkT','LjtpO','contains','usernameHistory','mwzAT'];_0x3983=function(){return _0x3d085c;};return _0x3983();}function toggleNotifications(){const _0x84c679=_0x48f994,_0x34c178={'XnRej':function(_0x36d055,_0x5c43d7){return _0x36d055===_0x5c43d7;},'xOPaj':_0x84c679(0x13b),'cbwKu':function(_0x294241,_0x3ca984){return _0x294241!==_0x3ca984;},'EOYCC':_0x84c679(0x200),'wMTwG':_0x84c679(0x329)};_0x34c178[_0x84c679(0x331)](Notification[_0x84c679(0x2fa)],_0x34c178[_0x84c679(0x2a7)])?Notification[_0x84c679(0x16f)]()[_0x84c679(0x28c)](_0x32db7c=>{const _0x419b74=_0x84c679;_0x34c178[_0x419b74(0x199)](_0x32db7c,_0x34c178[_0x419b74(0x2a7)])&&(notificationsEnabled=!![],document[_0x419b74(0x34b)]('notifToggleBtn')[_0x419b74(0x2e0)]=_0x419b74(0x200));}):(notificationsEnabled=!notificationsEnabled,document[_0x84c679(0x34b)](_0x84c679(0x2f9))[_0x84c679(0x2e0)]=notificationsEnabled?_0x34c178['EOYCC']:_0x34c178['wMTwG']);}function toggleAuthMode(){const _0x41202b=_0x48f994,_0x23774a={'awxge':'authError','zowFC':_0x41202b(0x29d),'AiyDz':_0x41202b(0x2d1),'MoDMq':_0x41202b(0x2cf),'hPavz':_0x41202b(0x242),'Awdrk':'authTitle','dnCrs':_0x41202b(0x145),'rWayA':_0x41202b(0x30b),'VNqWV':'authAvatar','pBtGj':_0x41202b(0x30a)},_0x5486f5=_0x41202b(0x19f)['split']('|');let _0x43b0ae=0x0;while(!![]){switch(_0x5486f5[_0x43b0ae++]){case'0':document['getElementById'](_0x23774a[_0x41202b(0x2c9)])[_0x41202b(0x253)][_0x41202b(0x294)]=_0x23774a['zowFC'];continue;case'1':document['getElementById'](_0x23774a[_0x41202b(0x138)])[_0x41202b(0x253)][_0x41202b(0x294)]=_0x41202b(0x29d);continue;case'2':document[_0x41202b(0x34b)](_0x23774a[_0x41202b(0x1a2)])[_0x41202b(0x253)]['display']=isRegisterMode?_0x23774a['hPavz']:_0x23774a[_0x41202b(0x292)];continue;case'3':document['getElementById'](_0x23774a['Awdrk'])[_0x41202b(0x2e0)]=isRegisterMode?_0x23774a[_0x41202b(0x318)]:_0x23774a['rWayA'];continue;case'4':document[_0x41202b(0x34b)](_0x23774a[_0x41202b(0x314)])[_0x41202b(0x253)][_0x41202b(0x294)]=isRegisterMode?_0x23774a[_0x41202b(0x175)]:_0x41202b(0x29d);continue;case'5':document['getElementById'](_0x23774a['pBtGj'])[_0x41202b(0x253)][_0x41202b(0x294)]=isRegisterMode?_0x23774a[_0x41202b(0x175)]:_0x23774a[_0x41202b(0x292)];continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x41202b(0x34b)](_0x41202b(0x2c6))[_0x41202b(0x2e0)]=isRegisterMode?_0x23774a[_0x41202b(0x318)]:_0x23774a[_0x41202b(0x279)];continue;}break;}}function previewAvatar(){const _0x426cb2=_0x48f994,_0x524340={'FVfZc':'authAvatarPreview','LUxdO':_0x426cb2(0x242),'CAgiX':_0x426cb2(0x1a7)},_0x227bf3=document[_0x426cb2(0x34b)](_0x524340['CAgiX']);if(!_0x227bf3['files'][_0x426cb2(0x287)])return;const _0x223428=new FileReader();_0x223428[_0x426cb2(0x2be)]=()=>{const _0x5c0573=_0x426cb2;document[_0x5c0573(0x34b)](_0x524340[_0x5c0573(0x1e8)])['src']=_0x223428[_0x5c0573(0x2a9)],document[_0x5c0573(0x34b)](_0x524340[_0x5c0573(0x1e8)])['style'][_0x5c0573(0x294)]=_0x524340[_0x5c0573(0x230)];},_0x223428[_0x426cb2(0x207)](_0x227bf3[_0x426cb2(0x2e1)][0x0]);}async function submitAuth(){const _0x1eb9d1=_0x48f994,_0x1d2aa6={'eqRSI':function(_0x4cf640,_0x515945){return _0x4cf640||_0x515945;},'WYCgr':_0x1eb9d1(0x282),'HPcVb':function(_0x4ffe40){return _0x4ffe40();},'WFcgm':_0x1eb9d1(0x227),'dnaTJ':_0x1eb9d1(0x30a),'KDDTm':_0x1eb9d1(0x2cf),'eyxCT':_0x1eb9d1(0x1a7),'VwjSy':_0x1eb9d1(0x1c5),'gPBFG':_0x1eb9d1(0x29d),'cHWLG':'Please\x20fill\x20in\x20all\x20fields.','MHmrU':function(_0x3ca260,_0x2c86da){return _0x3ca260(_0x2c86da);},'KkVfs':'Username\x20already\x20exists.','JzkKw':_0x1eb9d1(0x242),'bozsz':function(_0x36404c,_0x57d82f){return _0x36404c!==_0x57d82f;},'jBnxN':_0x1eb9d1(0x2f0),'zaGNH':function(_0x5243f1,_0x400499){return _0x5243f1(_0x400499);},'IrkYQ':function(_0x58d129,_0x1f0ea){return _0x58d129!==_0x1f0ea;},'sOZVs':'Incorrect\x20password.'},_0x523459=document[_0x1eb9d1(0x34b)]('authUsername')['value'][_0x1eb9d1(0x249)](),_0x2082ce=document['getElementById'](_0x1d2aa6[_0x1eb9d1(0x340)])[_0x1eb9d1(0x1e3)][_0x1eb9d1(0x249)](),_0xb45de2=document[_0x1eb9d1(0x34b)](_0x1d2aa6[_0x1eb9d1(0x171)])[_0x1eb9d1(0x1e3)][_0x1eb9d1(0x249)](),_0x3ce3f9=document[_0x1eb9d1(0x34b)](_0x1d2aa6[_0x1eb9d1(0x2ac)])['value'][_0x1eb9d1(0x249)](),_0x5d9952=document[_0x1eb9d1(0x34b)](_0x1d2aa6[_0x1eb9d1(0x16a)]),_0x2d20e3=document[_0x1eb9d1(0x34b)](_0x1d2aa6[_0x1eb9d1(0x19b)]);_0x2d20e3[_0x1eb9d1(0x253)][_0x1eb9d1(0x294)]=_0x1d2aa6[_0x1eb9d1(0x339)];if(_0x1d2aa6['eqRSI'](!_0x523459,!_0x2082ce)){_0x2d20e3[_0x1eb9d1(0x2e0)]=_0x1d2aa6[_0x1eb9d1(0x304)],_0x2d20e3[_0x1eb9d1(0x253)]['display']='block';return;}const _0x3fade4=_0x1d2aa6['MHmrU'](sanitizeUsername,_0x523459),_0x5ca43c=db['ref'](_0x1eb9d1(0x14e)+_0x3fade4),_0x48c4bf=await _0x5ca43c[_0x1eb9d1(0x2b5)]();if(isRegisterMode){if(_0x48c4bf[_0x1eb9d1(0x2fe)]()){_0x2d20e3[_0x1eb9d1(0x2e0)]=_0x1d2aa6['KkVfs'],_0x2d20e3[_0x1eb9d1(0x253)][_0x1eb9d1(0x294)]=_0x1d2aa6[_0x1eb9d1(0x28a)];return;}if(_0x1d2aa6['bozsz'](_0x2082ce,_0xb45de2)){_0x2d20e3[_0x1eb9d1(0x2e0)]=_0x1d2aa6[_0x1eb9d1(0x245)],_0x2d20e3[_0x1eb9d1(0x253)]['display']=_0x1d2aa6[_0x1eb9d1(0x28a)];return;}const _0x430de2=await _0x1d2aa6[_0x1eb9d1(0x1ee)](sha256,_0x2082ce),_0x1e5485=await generateDeviceId();if(_0x5d9952[_0x1eb9d1(0x2e1)][_0x1eb9d1(0x287)]){const _0x2667bd=_0x5d9952[_0x1eb9d1(0x2e1)][0x0],_0xb475db=new FileReader();_0xb475db[_0x1eb9d1(0x2be)]=async()=>{const _0x16d2be=_0x1eb9d1,_0x2339ff=_0xb475db[_0x16d2be(0x2a9)][_0x16d2be(0x31a)](',')[0x1];await _0x5ca43c[_0x16d2be(0x2d2)]({'username':_0x523459,'passwordHash':_0x430de2,'description':_0x1d2aa6['eqRSI'](_0x3ce3f9,''),'avatarBase64':_0x2339ff,'role':_0x1d2aa6[_0x16d2be(0x24d)],'deviceId':_0x1e5485,'usernameHistory':[_0x523459],'lastChanged':Date[_0x16d2be(0x346)]()}),username=_0x523459,userDescription=_0x3ce3f9,avatarBase64=_0x2339ff,role=_0x1d2aa6[_0x16d2be(0x24d)],_0x1d2aa6[_0x16d2be(0x196)](startAfterAuth);},_0xb475db[_0x1eb9d1(0x207)](_0x2667bd);}else{const _0x575e96=_0x1eb9d1(0x14f)[_0x1eb9d1(0x31a)]('|');let _0x20a10a=0x0;while(!![]){switch(_0x575e96[_0x20a10a++]){case'0':username=_0x523459;continue;case'1':userDescription=_0x3ce3f9;continue;case'2':await _0x5ca43c[_0x1eb9d1(0x2d2)]({'username':_0x523459,'passwordHash':_0x430de2,'description':_0x1d2aa6[_0x1eb9d1(0x1cc)](_0x3ce3f9,''),'avatarBase64':'','role':_0x1d2aa6['WYCgr'],'deviceId':_0x1e5485,'usernameHistory':[_0x523459],'lastChanged':Date[_0x1eb9d1(0x346)]()});continue;case'3':role=_0x1d2aa6['WYCgr'];continue;case'4':startAfterAuth();continue;case'5':avatarBase64='';continue;}break;}}}else{if(!_0x48c4bf[_0x1eb9d1(0x2fe)]()){_0x2d20e3[_0x1eb9d1(0x2e0)]=_0x1eb9d1(0x312),_0x2d20e3['style'][_0x1eb9d1(0x294)]=_0x1d2aa6[_0x1eb9d1(0x28a)];return;}const _0x4a851d=_0x48c4bf[_0x1eb9d1(0x153)](),_0x272e1a=await _0x1d2aa6['MHmrU'](sha256,_0x2082ce);if(_0x1d2aa6[_0x1eb9d1(0x229)](_0x272e1a,_0x4a851d[_0x1eb9d1(0x260)])){_0x2d20e3[_0x1eb9d1(0x2e0)]=_0x1d2aa6[_0x1eb9d1(0x27c)],_0x2d20e3['style'][_0x1eb9d1(0x294)]='block';return;}username=_0x523459;if(_0x4a851d[_0x1eb9d1(0x261)])userDescription=_0x4a851d[_0x1eb9d1(0x261)];if(_0x4a851d['avatarBase64'])avatarBase64=_0x4a851d[_0x1eb9d1(0x19c)];if(_0x4a851d['role'])role=_0x4a851d[_0x1eb9d1(0x251)];else role=_0x1d2aa6[_0x1eb9d1(0x24d)];_0x1d2aa6[_0x1eb9d1(0x196)](startAfterAuth);}}async function saveNewUser(_0x21dda3,_0x456346,_0x52e434,_0xeb6112,_0x35f524){const _0x3a1cb9=_0x48f994,_0x588a99={'ynUke':function(_0x2b0d13,_0x56ffdd){return _0x2b0d13(_0x56ffdd);},'BmyAL':_0x3a1cb9(0x282),'jBoYZ':function(_0x27fe2f,_0x573c0c){return _0x27fe2f||_0x573c0c;},'oCQVS':function(_0x2b8bf2,_0x165e6c){return _0x2b8bf2||_0x165e6c;},'DNzkF':function(_0x13017e){return _0x13017e();}},_0x2b0045=db['ref'](_0x3a1cb9(0x14e)+_0x588a99[_0x3a1cb9(0x1a3)](sanitizeUsername,_0x21dda3)),_0x277108={'username':_0x21dda3,'passwordHash':_0x456346,'role':_0x588a99[_0x3a1cb9(0x163)],'deviceId':_0x52e434,'description':_0x588a99['jBoYZ'](_0x35f524,''),'avatarBase64':_0x588a99[_0x3a1cb9(0x1a6)](_0xeb6112,''),'usernameHistory':[_0x21dda3],'lastChanged':Date[_0x3a1cb9(0x346)]()};await _0x2b0045[_0x3a1cb9(0x2d2)](_0x277108),username=_0x21dda3,_0xeb6112=_0x277108[_0x3a1cb9(0x19c)],userDescription=_0x277108[_0x3a1cb9(0x261)],_0x588a99[_0x3a1cb9(0x2ba)](startAfterAuth);}async function startAfterAuth(){const _0x6e621=_0x48f994,_0x85554b={'KJMVd':function(_0x2d2f76,_0x5522e8){return _0x2d2f76(_0x5522e8);},'wUMgV':'user','hrMaV':function(_0xc71591,_0x55ba2d){return _0xc71591+_0x55ba2d;},'pCqZt':_0x6e621(0x179),'icazt':_0x6e621(0x242),'GZkfu':_0x6e621(0x337),'picef':function(_0x47a0d8){return _0x47a0d8();},'mkzcW':_0x6e621(0x177)},_0x157e80=_0x85554b[_0x6e621(0x186)](sanitizeUsername,username),_0x1bb728=db[_0x6e621(0x34e)](_0x6e621(0x14e)+_0x157e80),_0x209717=await _0x1bb728[_0x6e621(0x2b5)]();if(_0x209717[_0x6e621(0x2fe)]()){const _0x349ced=_0x209717[_0x6e621(0x153)]();username=_0x349ced[_0x6e621(0x281)],userDescription=_0x349ced['description']||'',avatarBase64=_0x349ced[_0x6e621(0x19c)]||'',role=_0x349ced[_0x6e621(0x251)]||_0x85554b[_0x6e621(0x26b)];if(avatarBase64){const _0x9b7355=document['getElementById'](_0x6e621(0x25a));_0x9b7355['src']=_0x85554b[_0x6e621(0x231)](_0x85554b[_0x6e621(0x30e)],avatarBase64),_0x9b7355['style'][_0x6e621(0x294)]=_0x85554b['icazt'];}}else console['warn'](_0x85554b['GZkfu']);await _0x85554b['picef'](loadRoomRoles),document[_0x6e621(0x34b)](_0x6e621(0x17a))[_0x6e621(0x2e0)]=username,showScreen(_0x85554b[_0x6e621(0x1d4)]);}function toggleRecording(){const _0x421aea=_0x48f994,_0x49509a={'FHcWp':_0x421aea(0x35d),'ZaNLN':function(_0x1560ec,_0x1fa5c0){return _0x1560ec(_0x1fa5c0);},'EOfBU':_0x421aea(0x1fd),'SxDgZ':function(_0x2aad65){return _0x2aad65();},'uVfRz':_0x421aea(0x1b1)};isRecording?_0x49509a[_0x421aea(0x311)](stopRecording):navigator[_0x421aea(0x308)][_0x421aea(0x328)]({'audio':!![]})[_0x421aea(0x28c)](_0x3bea9e=>{const _0x62e38=_0x421aea,_0x35c691={'oKsNJ':function(_0x4111ce,_0x40afbf){return _0x4111ce&&_0x40afbf;},'gilHv':function(_0x5a7413){return _0x49509a['SxDgZ'](_0x5a7413);}};mediaRecorder=new MediaRecorder(_0x3bea9e),mediaRecorder['start'](),isRecording=!![],document[_0x62e38(0x34b)]('recordBtn')['innerText']='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x62e38(0x17e)]=_0x470c23=>audioChunks[_0x62e38(0x2bb)](_0x470c23[_0x62e38(0x2c5)]),mediaRecorder[_0x62e38(0x34d)]=()=>{const _0x117d06=_0x62e38,_0x1e732e={'ABPgy':_0x49509a[_0x117d06(0x2a4)]};_0x49509a['ZaNLN'](clearTimeout,recordingTimer);const _0x463bc7=new Blob(audioChunks,{'type':_0x49509a[_0x117d06(0x332)]}),_0x29cff1=new FileReader();_0x29cff1[_0x117d06(0x2be)]=()=>{const _0xe8475d=_0x117d06,_0x44da6c=_0x29cff1[_0xe8475d(0x2a9)]['split'](',')[0x1],_0x5b14fe=db['ref']()[_0xe8475d(0x2bb)]()[_0xe8475d(0x182)];db[_0xe8475d(0x34e)]('rooms/'+roomCode+_0xe8475d(0x17b)+_0x5b14fe)[_0xe8475d(0x2d2)]({'msg':_0x1e732e[_0xe8475d(0x198)],'audioBase64':_0x44da6c,'sender':username,'senderId':clientId,'timestamp':Date[_0xe8475d(0x346)]()});},_0x29cff1[_0x117d06(0x207)](_0x463bc7);},recordingTimer=setTimeout(()=>{const _0x11b413=_0x62e38;_0x35c691[_0x11b413(0x1a0)](mediaRecorder,isRecording)&&_0x35c691['gilHv'](stopRecording);},0x4e20);})[_0x421aea(0x151)](_0x2fd4bf=>{const _0x56ceb7=_0x421aea;_0x49509a[_0x56ceb7(0x2d5)](alert,_0x49509a['uVfRz']);});}function stopRecording(){const _0x137a98=_0x48f994,_0x531a51={'rMBhj':_0x137a98(0x225),'JwHWf':'üéôÔ∏è'};mediaRecorder&&isRecording&&(mediaRecorder[_0x137a98(0x247)](),isRecording=![],document[_0x137a98(0x34b)](_0x531a51[_0x137a98(0x220)])['innerText']=_0x531a51[_0x137a98(0x14a)]);}window[_0x48f994(0x192)]=async()=>{const _0x3be2ce=_0x48f994,_0x5a70a1={'dDZOq':_0x3be2ce(0x1a4),'bKLkT':function(_0x38e456){return _0x38e456();},'smUvJ':function(_0x3dd60b,_0x3f2682){return _0x3dd60b(_0x3f2682);},'PBoPa':_0x3be2ce(0x2c4)},_0x538759=_0x5a70a1[_0x3be2ce(0x223)]['split']('|');let _0x14d247=0x0;while(!![]){switch(_0x538759[_0x14d247++]){case'0':setupVisibilityAttention();continue;case'1':resetWebsiteData();continue;case'2':setupSidebarBackHandler();continue;case'3':_0x5a70a1[_0x3be2ce(0x1ac)](cleanupOldRooms);continue;case'4':_0x5a70a1[_0x3be2ce(0x20f)](showScreen,_0x5a70a1[_0x3be2ce(0x28f)]);continue;}break;}};function sanitizeUsername(_0x4782be){return _0x4782be['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x25c086=_0x48f994,_0x11f7af={'PrEQM':_0x25c086(0x18d),'pZJUr':_0x25c086(0x242),'YWwoy':'namePreview','Fnihm':_0x25c086(0x177),'CJVsS':_0x25c086(0x288),'zCSCt':_0x25c086(0x1be),'tyGWw':_0x25c086(0x239),'IQUpw':_0x25c086(0x280),'SkLMC':function(_0x3d5d73,_0x513f){return _0x3d5d73||_0x513f;},'dabZO':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','PPkVK':function(_0x1b1d5a,_0x3fb8e7){return _0x1b1d5a(_0x3fb8e7);},'Kcdxr':_0x25c086(0x1e3)},_0x441604=document[_0x25c086(0x34b)](_0x11f7af['IQUpw'])[_0x25c086(0x1e3)]['trim'](),_0x4793c3=document['getElementById'](_0x25c086(0x13c))['value'][_0x25c086(0x249)](),_0x39f7cd=document[_0x25c086(0x34b)]('profileError');if(_0x11f7af[_0x25c086(0x31c)](!_0x441604,!_0x4793c3)){_0x39f7cd[_0x25c086(0x2e0)]=_0x11f7af[_0x25c086(0x31f)],_0x39f7cd['style']['display']=_0x11f7af[_0x25c086(0x2a5)];return;}const _0x7be63b=_0x11f7af['PPkVK'](sanitizeUsername,_0x441604),_0x380e67=db[_0x25c086(0x34e)](_0x25c086(0x1a5)+_0x7be63b);_0x380e67['once'](_0x11f7af[_0x25c086(0x154)])[_0x25c086(0x28c)](_0x9c0428=>{const _0x46c288=_0x25c086,_0x290160={'yyQEx':_0x11f7af['PrEQM'],'QHXZI':_0x11f7af[_0x46c288(0x2a5)],'hWGmm':_0x11f7af['YWwoy'],'WHvVa':function(_0x3c738e,_0xb95cc2){return _0x3c738e(_0xb95cc2);},'MzcAU':_0x11f7af['Fnihm']};if(_0x9c0428[_0x46c288(0x2fe)]())_0x39f7cd[_0x46c288(0x2e0)]=_0x11f7af['CJVsS'],_0x39f7cd[_0x46c288(0x253)][_0x46c288(0x294)]=_0x11f7af[_0x46c288(0x2a5)];else{const _0x2ed5c2={'username':_0x441604,'description':_0x4793c3,'lastChanged':Date[_0x46c288(0x346)](),'usernameHistory':[_0x441604]};_0x380e67[_0x46c288(0x2d2)](_0x2ed5c2,_0x22d7c7=>{const _0x236716=_0x46c288;_0x22d7c7?(console[_0x236716(0x317)](_0x290160['yyQEx'],_0x22d7c7),_0x39f7cd[_0x236716(0x2e0)]='‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.',_0x39f7cd[_0x236716(0x253)][_0x236716(0x294)]=_0x290160[_0x236716(0x2eb)]):(localStorage[_0x236716(0x255)](_0x236716(0x1bd),_0x441604),localStorage[_0x236716(0x255)](_0x236716(0x15e),_0x4793c3),username=_0x441604,document[_0x236716(0x34b)](_0x290160['hWGmm'])['innerText']=_0x441604,_0x290160['WHvVa'](showScreen,_0x290160[_0x236716(0x316)]));});}})[_0x25c086(0x151)](_0x2883f0=>{const _0x472b82=_0x25c086;console[_0x472b82(0x317)](_0x11f7af[_0x472b82(0x14d)],_0x2883f0),_0x39f7cd['innerText']=_0x11f7af[_0x472b82(0x21e)],_0x39f7cd[_0x472b82(0x253)]['display']='block';});}function saveProfile(_0x1ac450,_0x3d3925,_0x5c6ca0){const _0x365e3c=_0x48f994,_0x5695e5={'dEmvt':_0x365e3c(0x17a),'aCkOA':'roomChoiceScreen'},_0x4e8c85=Date[_0x365e3c(0x346)](),_0x358119=[_0x1ac450];db['ref'](_0x365e3c(0x1a5)+_0x5c6ca0)['set']({'username':_0x1ac450,'description':_0x3d3925,'lastChanged':_0x4e8c85,'usernameHistory':_0x358119}),document[_0x365e3c(0x34b)](_0x5695e5['dEmvt'])[_0x365e3c(0x2e0)]=_0x1ac450,showScreen(_0x5695e5[_0x365e3c(0x2de)]);}function generateRoom(){const _0x56b778=_0x48f994,_0x3b518c={'IuOWk':function(_0x48ce3e){return _0x48ce3e();},'mUgVh':function(_0x232890,_0xf8c075){return _0x232890+_0xf8c075;},'TpMJD':_0x56b778(0x228)};roomCode=_0x3b518c['IuOWk'](genRoomCode),db[_0x56b778(0x34e)](_0x3b518c[_0x56b778(0x278)](_0x3b518c[_0x56b778(0x2ab)],roomCode))[_0x56b778(0x2d2)]({'active':!![],'created':Date[_0x56b778(0x346)]()}),_0x3b518c[_0x56b778(0x319)](startChat);}function joinRoom(){const _0x15988d=_0x48f994,_0x2e4534={'LmkAH':function(_0x50bb5f,_0x16e829){return _0x50bb5f!==_0x16e829;},'acerS':_0x15988d(0x23c),'Gojzp':'Enter\x20a\x20valid\x20room\x20code','aNvoQ':function(_0x67241b,_0x108375){return _0x67241b===_0x108375;},'ZLaGq':function(_0x5da9dc,_0x5081b6){return _0x5da9dc(_0x5081b6);},'dZBdw':function(_0x20acbc,_0x182ce7){return _0x20acbc+_0x182ce7;},'TlJIH':_0x15988d(0x228)},_0x410d62=roomCode||document[_0x15988d(0x34b)](_0x15988d(0x136))[_0x15988d(0x1e3)]['trim']()['toUpperCase']();if(!_0x410d62)return alert(_0x2e4534[_0x15988d(0x299)]);roomCode=_0x410d62;if(_0x2e4534[_0x15988d(0x161)](roomCode,STATIC_ROOM)){_0x2e4534[_0x15988d(0x206)](showScreen,_0x15988d(0x1fa));return;}db[_0x15988d(0x34e)](_0x2e4534[_0x15988d(0x2e8)](_0x2e4534[_0x15988d(0x2d9)],roomCode))[_0x15988d(0x2b5)]()[_0x15988d(0x28c)](_0x4a0cf0=>{const _0x48d21f=_0x15988d;_0x4a0cf0[_0x48d21f(0x2fe)]()&&_0x2e4534['LmkAH'](_0x4a0cf0[_0x48d21f(0x153)]()[_0x48d21f(0x137)],![])?startChat():alert(_0x2e4534[_0x48d21f(0x191)]);});}async function startChat(){const _0x52a6e6=_0x48f994,_0x9aec30={'iTnVy':function(_0x21fbae,_0x550361){return _0x21fbae(_0x550361);},'yDzKT':function(_0xfb394,_0x2e8d8b){return _0xfb394(_0x2e8d8b);},'KdCRf':'roomChoiceScreen','BtBcl':function(_0x3d8689,_0xf2c43c){return _0x3d8689+_0xf2c43c;},'QNkYv':_0x52a6e6(0x179),'Unscg':_0x52a6e6(0x242),'eqDgM':_0x52a6e6(0x1d5),'dbpjj':function(_0xd65b96,_0xc036a8){return _0xd65b96===_0xc036a8;},'WIzrL':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','qLqlX':function(_0x3d72c8,_0x225038){return _0x3d72c8===_0x225038;},'GimbM':'dev','SHSwD':_0x52a6e6(0x345),'IzMrn':_0x52a6e6(0x29d),'AhzCB':function(_0x5c678e){return _0x5c678e();},'etTEf':function(_0x3e8060,_0x37a38a){return _0x3e8060||_0x37a38a;},'hbbGF':function(_0x233e02,_0x3d579d){return _0x233e02(_0x3d579d);},'PRCIe':_0x52a6e6(0x2fb),'ERypQ':function(_0x3ddc3a){return _0x3ddc3a();},'aRfjB':function(_0x22dd4){return _0x22dd4();}};if(_0x9aec30['etTEf'](!roomCode,!username))return _0x9aec30[_0x52a6e6(0x2a1)](alert,_0x9aec30[_0x52a6e6(0x2db)]),_0x9aec30[_0x52a6e6(0x2a1)](showScreen,_0x9aec30['KdCRf']);_0x9aec30[_0x52a6e6(0x22c)](listenForPauseState),_0x9aec30[_0x52a6e6(0x302)](listenForUserList),await loadRoomRoles(),_0x9aec30['aRfjB'](listenForAnnouncement);const _0x567588=_0x9aec30[_0x52a6e6(0x2a1)](sanitizeUsername,username),_0x334d9d=db[_0x52a6e6(0x34e)](_0x52a6e6(0x13d)+roomCode+'/'+_0x567588),_0x49cedc={'username':username,'online':!![],'lastOnline':firebase[_0x52a6e6(0x283)][_0x52a6e6(0x351)][_0x52a6e6(0x33d)]};_0x334d9d['set'](_0x49cedc,_0x3899b0=>{const _0x585def=_0x52a6e6;if(_0x3899b0)return _0x9aec30[_0x585def(0x140)](alert,_0x585def(0x24a)),_0x9aec30[_0x585def(0x181)](showScreen,_0x9aec30[_0x585def(0x152)]);_0x334d9d[_0x585def(0x1c7)]()[_0x585def(0x248)]({'online':![],'lastOnline':Date['now']()});const _0x2200e6=document[_0x585def(0x34b)]('sidebarAvatarPreview');avatarBase64&&(_0x2200e6['src']=_0x9aec30[_0x585def(0x1ab)](_0x9aec30['QNkYv'],avatarBase64),_0x2200e6[_0x585def(0x253)][_0x585def(0x294)]=_0x9aec30[_0x585def(0x35e)]),document['getElementById'](_0x585def(0x28d))['innerHTML']=username+'\x20'+getRoleTag(_0x567588),document[_0x585def(0x34b)](_0x9aec30[_0x585def(0x352)])[_0x585def(0x2e0)]=_0x9aec30['dbpjj'](roomCode,STATIC_ROOM)?_0x9aec30[_0x585def(0x27a)]:roomCode,_0x9aec30[_0x585def(0x2f4)](role,'admin')||_0x9aec30[_0x585def(0x271)](role,_0x9aec30[_0x585def(0x341)])?document[_0x585def(0x34b)](_0x9aec30[_0x585def(0x20b)])[_0x585def(0x253)][_0x585def(0x294)]=_0x585def(0x242):document[_0x585def(0x34b)](_0x9aec30['SHSwD'])[_0x585def(0x253)][_0x585def(0x294)]=_0x9aec30[_0x585def(0x167)],showScreen(_0x585def(0x2f2)),_0x9aec30['AhzCB'](listenForMessages),listenForTyping(),startInactivityTimer(),_0x9aec30[_0x585def(0x302)](trackPresence);});}async function fetchProfile(_0x1568dd){const _0xea804e=_0x48f994,_0x190a03=await db[_0xea804e(0x34e)](_0xea804e(0x14e)+_0x1568dd)[_0xea804e(0x2b5)]();if(!_0x190a03['exists']())return null;return _0x190a03['val']();}function validateStaticRoomPassword(){const _0x2dd807=_0x48f994,_0x5b5575={'gPKaH':function(_0x445493,_0x3c2730){return _0x445493(_0x3c2730);},'MrmMZ':_0x2dd807(0x1c8),'upHcv':function(_0x2f4473,_0xb81e2b){return _0x2f4473===_0xb81e2b;},'SINJy':_0x2dd807(0x29b),'OfGjy':_0x2dd807(0x242),'kgSTv':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.'},_0x4ca0fe=document[_0x2dd807(0x34b)](_0x2dd807(0x194))['value'][_0x2dd807(0x249)]();if(!_0x4ca0fe){_0x5b5575[_0x2dd807(0x2b1)](alert,'Please\x20enter\x20the\x20password.');return;}db[_0x2dd807(0x34e)](_0x2dd807(0x2da)+STATIC_ROOM)[_0x2dd807(0x2b5)]()[_0x2dd807(0x28c)](_0x5d818e=>{const _0x4a16bc=_0x2dd807;if(!_0x5d818e[_0x4a16bc(0x2fe)]()){_0x5b5575[_0x4a16bc(0x2b1)](alert,_0x5b5575[_0x4a16bc(0x214)]);return;}const _0x24896f=_0x5d818e['val']();_0x5b5575[_0x4a16bc(0x1f0)](_0x4ca0fe,_0x24896f)?(roomCode=STATIC_ROOM,startChat()):(document[_0x4a16bc(0x34b)](_0x5b5575[_0x4a16bc(0x156)])[_0x4a16bc(0x2e0)]=_0x4a16bc(0x2c0),document[_0x4a16bc(0x34b)]('passwordError')[_0x4a16bc(0x253)][_0x4a16bc(0x294)]=_0x5b5575[_0x4a16bc(0x1d1)]);})['catch'](_0x3eb26a=>{const _0x63ef60=_0x2dd807;console[_0x63ef60(0x317)](_0x3eb26a),_0x5b5575['gPKaH'](alert,_0x5b5575[_0x63ef60(0x258)]);});}function listenForPauseState(){const _0x5e74a7=_0x48f994,_0xcffc73={'swCTg':_0x5e74a7(0x242),'Dtyux':_0x5e74a7(0x29d)};db[_0x5e74a7(0x34e)](_0x5e74a7(0x2cd)+roomCode+'/paused')['on'](_0x5e74a7(0x1e3),_0x3226b5=>{const _0x52e82e=_0x5e74a7,_0x122572=_0x3226b5[_0x52e82e(0x2fe)]()&&_0x3226b5[_0x52e82e(0x153)]()===!![];document[_0x52e82e(0x34b)](_0x52e82e(0x34c))[_0x52e82e(0x253)][_0x52e82e(0x294)]=_0x122572?_0xcffc73['swCTg']:_0xcffc73[_0x52e82e(0x1fb)];});}const spamTimestamps=[];async function sendMessage(){const _0x39d79e=_0x48f994,_0x3ee1c3={'waFaP':'Type\x20a\x20message...','AkGDn':function(_0xdf55e5,_0x9353ed){return _0xdf55e5>_0x9353ed;},'edMTh':function(_0x1f2445,_0x12d7a0){return _0x1f2445(_0x12d7a0);},'mgxvc':_0x39d79e(0x23d),'zqjab':function(_0x232539,_0x4f632d){return _0x232539===_0x4f632d;},'Hyqdb':function(_0x2d84ba,_0x1b8013){return _0x2d84ba!==_0x1b8013;},'nEpdN':_0x39d79e(0x2ae),'AFpga':'msgInput','zOoKU':function(_0x3172c9,_0x89d1e1){return _0x3172c9||_0x89d1e1;},'cvyfu':_0x39d79e(0x1c9),'GESxu':'avatar_base64'},_0x175ade=await db[_0x39d79e(0x34e)](_0x39d79e(0x1df)+roomCode+'/'+sanitizeUsername(username))['get'](),_0x38d87b=await db[_0x39d79e(0x34e)]('roomStates/'+roomCode+_0x39d79e(0x158))[_0x39d79e(0x2b5)]();if(_0x175ade['exists']()&&_0x3ee1c3['AkGDn'](_0x175ade['val'](),Date[_0x39d79e(0x346)]())){_0x3ee1c3[_0x39d79e(0x335)](alert,_0x3ee1c3['mgxvc']);return;}if(_0x38d87b[_0x39d79e(0x2fe)]()&&_0x3ee1c3[_0x39d79e(0x204)](_0x38d87b[_0x39d79e(0x153)](),!![])&&_0x3ee1c3['Hyqdb'](role,_0x3ee1c3[_0x39d79e(0x18c)])){_0x3ee1c3[_0x39d79e(0x335)](alert,_0x39d79e(0x1b6));return;}const _0x10e7c5=document[_0x39d79e(0x34b)](_0x3ee1c3[_0x39d79e(0x297)]),_0x4f1545=_0x10e7c5[_0x39d79e(0x1e3)][_0x39d79e(0x249)]();if(_0x3ee1c3[_0x39d79e(0x1ba)](!_0x4f1545,isBlocked))return;const _0x5959d5=Date['now'](),_0x30ec53=_0x4f1545[_0x39d79e(0x1dd)](),_0x3fb7c6=swearWords[_0x39d79e(0x348)](_0x5bf96e=>_0x30ec53[_0x39d79e(0x18f)](_0x5bf96e));if(_0x3fb7c6){_0x3ee1c3['edMTh'](alert,_0x39d79e(0x342));return;}spamTimestamps['push'](_0x5959d5);const _0x4f59e2=spamTimestamps[_0x39d79e(0x17f)](_0x3c2674=>_0x5959d5-_0x3c2674<0x1b58);if(_0x4f59e2[_0x39d79e(0x287)]>0x5){const _0x453c59=_0x39d79e(0x25e)[_0x39d79e(0x31a)]('|');let _0x29c012=0x0;while(!![]){switch(_0x453c59[_0x29c012++]){case'0':isBlocked=!![];continue;case'1':_0x10e7c5['placeholder']='‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'2':_0x10e7c5['disabled']=!![];continue;case'3':_0x3ee1c3[_0x39d79e(0x335)](alert,_0x3ee1c3[_0x39d79e(0x359)]);continue;case'4':return;case'5':setTimeout(()=>{const _0x1da308=_0x39d79e;isBlocked=![],_0x10e7c5[_0x1da308(0x32a)]=![],_0x10e7c5[_0x1da308(0x155)]=_0x3ee1c3[_0x1da308(0x1bc)],spamTimestamps['length']=0x0;},0x7530);continue;}break;}}const _0x14b88e=localStorage[_0x39d79e(0x21a)](_0x3ee1c3[_0x39d79e(0x28e)])||'',_0x5451bf=db[_0x39d79e(0x34e)]()['push']()['key'];db[_0x39d79e(0x34e)](_0x39d79e(0x228)+roomCode+_0x39d79e(0x17b)+_0x5451bf)[_0x39d79e(0x2d2)]({'msg':_0x4f1545,'sender':username,'senderId':clientId,'avatarBase64':_0x14b88e,'timestamp':_0x5959d5}),_0x10e7c5[_0x39d79e(0x1e3)]='',_0x3ee1c3['edMTh'](sendTyping,!![]),lastActivity=_0x5959d5;}function listenForMessages(){const _0x16d5e1=_0x48f994,_0x5ba5c3={'DuvON':function(_0x7c7d95,_0x1fc2fb,_0x279e78,_0x16dc4c){return _0x7c7d95(_0x1fc2fb,_0x279e78,_0x16dc4c);},'bXLZD':function(_0x2b4d69,_0x413ab){return _0x2b4d69!==_0x413ab;},'Wlulc':function(_0x3680a3){return _0x3680a3();},'BXUsU':function(_0x3e9730,_0x5e90cc){return _0x3e9730&&_0x5e90cc;},'BxiWW':function(_0x42aaad,_0xb608ee,_0x9c2523){return _0x42aaad(_0xb608ee,_0x9c2523);},'JbbJH':_0x16d5e1(0x1f2),'dsqjo':_0x16d5e1(0x1bb),'njJcY':_0x16d5e1(0x1de)},_0x7b9d18=db[_0x16d5e1(0x34e)](_0x16d5e1(0x228)+roomCode+_0x16d5e1(0x357)),_0x2db25d=_0x7b9d18[_0x16d5e1(0x20d)](MAX_MESSAGES);userListReady=!![],_0x2db25d['on'](_0x5ba5c3[_0x16d5e1(0x2ee)],_0x533f7a=>{const _0x50a6dd=_0x16d5e1,_0x3ffc1a=_0x533f7a['val'](),{senderId:_0x567f9b}=_0x3ffc1a,_0x3efac3=_0x567f9b===clientId;if(!userListReady){pendingMessages[_0x50a6dd(0x305)](({data:_0x2d2059,sent:_0x16721e,key:_0x56669a})=>{const _0x60cb94=_0x50a6dd;_0x5ba5c3[_0x60cb94(0x2c2)](addMessage,_0x2d2059,_0x16721e,_0x56669a);}),pendingMessages=[];return;}const _0x3a9674=_0x3ffc1a[_0x50a6dd(0x25f)]||null,_0x80c559=_0x3ffc1a[_0x50a6dd(0x166)]||null;_0x5ba5c3[_0x50a6dd(0x2c2)](addMessage,_0x3ffc1a,_0x3efac3,_0x533f7a[_0x50a6dd(0x182)]),_0x5ba5c3[_0x50a6dd(0x1c0)](roomCode,STATIC_ROOM)&&db[_0x50a6dd(0x34e)]('rooms/'+roomCode+_0x50a6dd(0x17b)+_0x533f7a[_0x50a6dd(0x182)])[_0x50a6dd(0x139)](),!_0x3efac3&&(sound['play'](),_0x5ba5c3['Wlulc'](flagPageAttention)),_0x5ba5c3[_0x50a6dd(0x134)](notificationsEnabled,!_0x3efac3)&&_0x5ba5c3[_0x50a6dd(0x1c1)](stackNotification,_0x3ffc1a[_0x50a6dd(0x211)],_0x3ffc1a[_0x50a6dd(0x236)]||(_0x3ffc1a[_0x50a6dd(0x166)]?_0x5ba5c3[_0x50a6dd(0x143)]:_0x5ba5c3[_0x50a6dd(0x267)]));});}function stackNotification(_0x3bbd16,_0x3731ec){const _0xea8828=_0x48f994,_0x4ee83a={'TvYrz':function(_0x10ce89){return _0x10ce89();},'CiZHl':function(_0x378440,_0x34b45f){return _0x378440(_0x34b45f);},'XhQAz':function(_0x162310,_0x3fe39d,_0x577d01){return _0x162310(_0x3fe39d,_0x577d01);}};notificationStack[_0xea8828(0x2bb)]({'sender':_0x3bbd16,'content':_0x3731ec}),_0x4ee83a[_0xea8828(0x1d0)](clearTimeout,notificationTimer),notificationTimer=_0x4ee83a[_0xea8828(0x306)](setTimeout,()=>{const _0x2e6046=_0xea8828;_0x4ee83a[_0x2e6046(0x205)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x37412b=_0x48f994,_0x839c68={'MKfWY':_0x37412b(0x1aa),'nQtoR':function(_0x25a305,_0x3fd2a5){return _0x25a305!==_0x3fd2a5;},'VDaYp':_0x37412b(0x13b),'vcAza':function(_0x4b1a20,_0x531ea5){return _0x4b1a20||_0x531ea5;},'uPKvo':_0x37412b(0x32c),'BTpiG':function(_0x25ca0a,_0x5123bd){return _0x25ca0a===_0x5123bd;}};if(!notificationStack[_0x37412b(0x287)]||_0x839c68[_0x37412b(0x31e)](Notification[_0x37412b(0x2fa)],_0x839c68['VDaYp']))return;const _0x545a10=[...new Set(notificationStack['map'](_0x155d7a=>_0x155d7a['sender']))],_0x1a4a7a=_0x839c68['vcAza'](roomCode,_0x839c68[_0x37412b(0x1e1)]),_0x33cd81=_0x839c68[_0x37412b(0x246)](_0x545a10[_0x37412b(0x287)],0x1)?_0x37412b(0x190)+_0x545a10[0x0]+_0x37412b(0x2a8)+_0x1a4a7a+':\x20'+notificationStack[0x0][_0x37412b(0x323)]:_0x37412b(0x2cc)+_0x545a10[_0x37412b(0x147)](',\x20')+'\x20in\x20room\x20'+_0x1a4a7a;setTimeout(()=>{const _0x27c2a7=_0x37412b;new Notification(_0x839c68[_0x27c2a7(0x26f)],{'body':_0x33cd81,'icon':_0x27c2a7(0x2ef)});},0x64);}async function addMessage(_0x4746f6,_0x3700dd,_0x281a65=null){const _0x1a095d=_0x48f994,_0x449b2f={'jHYsu':_0x1a095d(0x1b4),'lGkuU':_0x1a095d(0x236),'wwVQb':'sent','tSQkH':_0x1a095d(0x1d8),'BmSgZ':_0x1a095d(0x2fc),'tlpRt':function(_0x3c0a6a,_0x3d8db5){return _0x3c0a6a(_0x3d8db5);},'dnZdL':function(_0x5a61ea,_0x44b4ec){return _0x5a61ea(_0x44b4ec);},'ZzBeT':_0x1a095d(0x272)},{msg:_0x3d3a3e,sender:_0x190e68,senderId:_0x600228,timestamp:_0x58c191,audioUrl:_0x247c53,audioBase64:_0x4d36a0,imageBase64:_0x1f4000}=_0x4746f6,_0x264b40=document['createElement'](_0x449b2f[_0x1a095d(0x13a)]);_0x264b40[_0x1a095d(0x1dc)][_0x1a095d(0x343)](_0x449b2f['lGkuU'],_0x3700dd?_0x449b2f[_0x1a095d(0x2bd)]:_0x449b2f['tSQkH']);const _0x5a3c82=new Date(_0x58c191)[_0x1a095d(0x252)]([],{'hour':_0x449b2f[_0x1a095d(0x148)],'minute':_0x449b2f[_0x1a095d(0x148)]}),_0x4fde99=_0x449b2f[_0x1a095d(0x1c4)](getRoleTag,safeSender),_0x1c6d4c=sanitizeUsername(_0x190e68),_0x1ba127=roomUsers[_0x1c6d4c]||{},_0x4e0821=await _0x449b2f[_0x1a095d(0x1c4)](fetchAvatar,_0x449b2f[_0x1a095d(0x14c)](sanitizeUsername,_0x190e68)),_0x586e1d=_0x4e0821?'<img\x20src=\x22data:image/png;base64,'+_0x4e0821+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x44c3e3=_0x586e1d+_0x1a095d(0x185)+_0x190e68+'\x20'+_0x4fde99+_0x1a095d(0x30f);msgEl[_0x1a095d(0x217)]=_0x44c3e3+'<br>'+text,content+=_0x1a095d(0x195);const _0x54a8da=_0x3d3a3e?.[_0x1a095d(0x13f)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');if(_0x247c53)content+=_0x1a095d(0x350)+_0x247c53+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';else{if(_0x4d36a0){const _0x2f29e2=_0x1a095d(0x1ff)+_0x4d36a0;content+=_0x1a095d(0x350)+_0x2f29e2+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x1f4000){const _0xf4dc3=_0x1a095d(0x179)+_0x1f4000;content+='<img\x20src=\x22'+_0xf4dc3+_0x1a095d(0x2b9);}else content+=_0x1a095d(0x2ca)+_0x54a8da+_0x1a095d(0x16d);}}content+=_0x1a095d(0x19d)+_0x5a3c82+_0x1a095d(0x2d7),_0x264b40[_0x1a095d(0x217)]=content;const _0x285c44=document[_0x1a095d(0x34b)](_0x449b2f[_0x1a095d(0x300)]);_0x285c44[_0x1a095d(0x355)](_0x264b40),_0x285c44[_0x1a095d(0x1e7)]=_0x285c44[_0x1a095d(0x33c)];}function cleanupOldRooms(){const _0x4526eb=_0x48f994,_0x48b978={'qkuDA':function(_0x1fe3bd,_0x22d592){return _0x1fe3bd!==_0x22d592;},'TpXzP':function(_0x58fce8,_0x211f44){return _0x58fce8===_0x211f44;},'hGdIy':function(_0x4030c5,_0x170da3){return _0x4030c5>_0x170da3;},'vwaDs':function(_0xde4b07,_0x4e5bae){return _0xde4b07-_0x4e5bae;},'nQNqE':function(_0x20f960,_0x524313){return _0x20f960*_0x524313;},'qAzGt':function(_0x1eb275,_0x23612d){return _0x1eb275+_0x23612d;},'HmdbX':'rooms/','sogcH':_0x4526eb(0x32b),'TchSx':'value','WLaXI':_0x4526eb(0x197),'cGocU':_0x4526eb(0x234)};db['ref'](_0x48b978[_0x4526eb(0x22e)])['once'](_0x48b978['TchSx'])['then'](_0x300161=>{const _0x51dc93=_0x4526eb,_0x17aec0={'mQVze':function(_0x2fc9bc,_0x5a42e3){const _0x3d9e49=_0xf700;return _0x48b978[_0x3d9e49(0x322)](_0x2fc9bc,_0x5a42e3);}},_0x355940=_0x300161[_0x51dc93(0x153)]();if(!_0x355940)return;const _0x4a04f6=Date[_0x51dc93(0x346)]();for(const _0x32ed12 in _0x355940){if(_0x48b978['TpXzP'](_0x32ed12,STATIC_ROOM))continue;const _0x2f3369=_0x355940[_0x32ed12];_0x48b978[_0x51dc93(0x2b2)](_0x48b978[_0x51dc93(0x2aa)](_0x4a04f6,_0x2f3369['created']||0x0),_0x48b978[_0x51dc93(0x219)](0x2*0x3c,0x3e8))&&db['ref'](_0x48b978['qAzGt'](_0x48b978[_0x51dc93(0x24b)],_0x32ed12))[_0x51dc93(0x139)]();}db[_0x51dc93(0x34e)](_0x48b978[_0x51dc93(0x142)])[_0x51dc93(0x202)](_0x48b978[_0x51dc93(0x2e2)])[_0x51dc93(0x28c)](_0x2d86f0=>{const _0xed60e1=_0x51dc93,_0x5b5492=_0x2d86f0[_0xed60e1(0x153)]();if(!_0x5b5492)return;for(const _0x32339c in _0x5b5492){if(_0x17aec0[_0xed60e1(0x208)](_0x32339c,STATIC_ROOM))db['ref'](_0xed60e1(0x1b5)+_0x32339c)[_0xed60e1(0x139)]();}}),db[_0x51dc93(0x34e)](_0x48b978[_0x51dc93(0x174)])['once']('value')[_0x51dc93(0x28c)](_0x39d924=>{const _0x32a325=_0x51dc93,_0x41b99b=_0x39d924[_0x32a325(0x153)]();if(!_0x41b99b)return;for(const _0x6e3441 in _0x41b99b){if(_0x6e3441!==STATIC_ROOM)db['ref']('antispamBlocked/'+_0x6e3441)[_0x32a325(0x139)]();}});});}document[_0x48f994(0x15b)]('DOMContentLoaded',()=>{const _0x150f99=_0x48f994,_0x2e6e1d={'qLZMk':_0x150f99(0x244),'iaWxc':function(_0x2d65bf){return _0x2d65bf();},'RwmBP':_0x150f99(0x16b)},_0x218cf0=document['getElementById']('msgInput');_0x218cf0&&_0x218cf0[_0x150f99(0x15b)](_0x2e6e1d['RwmBP'],function(_0x4a3262){const _0x2fd6ba=_0x150f99;_0x4a3262[_0x2fd6ba(0x182)]===_0x2e6e1d[_0x2fd6ba(0x212)]&&(_0x4a3262[_0x2fd6ba(0x173)](),_0x2e6e1d['iaWxc'](sendMessage));});});function showScreen(_0x5084d6){const _0x2d338a=_0x48f994,_0x54815d={'nZgZZ':_0x2d338a(0x146),'yYFaw':'roomChoiceScreen','ZvRSd':_0x2d338a(0x270),'ygMcV':'chatScreen','DNwUg':_0x2d338a(0x1fa),'abGaT':_0x2d338a(0x259),'nRyyb':_0x2d338a(0x2e5),'ihpjB':_0x2d338a(0x2c4),'aYwUG':_0x2d338a(0x18a)};[_0x54815d[_0x2d338a(0x237)],_0x54815d['yYFaw'],_0x54815d[_0x2d338a(0x2dc)],_0x54815d[_0x2d338a(0x210)],_0x54815d[_0x2d338a(0x291)],_0x54815d[_0x2d338a(0x26d)],_0x54815d[_0x2d338a(0x159)],_0x54815d[_0x2d338a(0x1f3)]][_0x2d338a(0x305)](_0x2eb40b=>{const _0x28d669=_0x2d338a;document['getElementById'](_0x2eb40b)[_0x28d669(0x253)]['display']='none';}),document[_0x2d338a(0x34b)](_0x5084d6)[_0x2d338a(0x253)]['display']=_0x54815d['aYwUG'];}function genRoomCode(){const _0x3bace9=_0x48f994,_0x2817c3={'ENgTP':_0x3bace9(0x1fc),'FUkpQ':function(_0xfd86a9,_0x5b1985){return _0xfd86a9+_0x5b1985;},'VLQzh':function(_0x559d12,_0x2dd6c3){return _0x559d12+_0x2dd6c3;},'BsYIE':function(_0x5cbf4c,_0x473431,_0x282c07){return _0x5cbf4c(_0x473431,_0x282c07);}},_0x2c0ea1=_0x2817c3['ENgTP'],_0x1780cb=_0x3bace9(0x325),_0x205fb7=(_0x5c6f77,_0x5bc0e0)=>Array[_0x3bace9(0x1c3)]({'length':_0x5bc0e0},()=>_0x5c6f77[Math[_0x3bace9(0x347)](Math['random']()*_0x5c6f77[_0x3bace9(0x287)])])[_0x3bace9(0x147)]('');return _0x2817c3[_0x3bace9(0x263)](_0x2817c3[_0x3bace9(0x334)](_0x2817c3['VLQzh'](_0x205fb7(_0x1780cb,0x3),_0x205fb7(_0x2c0ea1,0x3)),_0x2817c3['BsYIE'](_0x205fb7,_0x1780cb,0x2)),_0x205fb7(_0x2c0ea1,0x2));}function startInactivityTimer(){const _0x1a5502=_0x48f994,_0x28ec39={'NKaMe':function(_0x5bb8bb,_0x4774ae){return _0x5bb8bb>_0x4774ae;},'mwvyz':function(_0x467b01,_0x56184a){return _0x467b01-_0x56184a;},'RimRr':function(_0x4ca394,_0x304749){return _0x4ca394*_0x304749;},'VwDsO':function(_0x29c6d2,_0x5e8d5b){return _0x29c6d2!==_0x5e8d5b;},'CzAQX':function(_0x4c9e3b,_0x10ee56){return _0x4c9e3b+_0x10ee56;},'XoMIL':_0x1a5502(0x228),'IplYK':function(_0x174e63,_0x1db2a5){return _0x174e63(_0x1db2a5);},'lpCEe':function(_0x3f5c23,_0x20c913,_0x2882b9){return _0x3f5c23(_0x20c913,_0x2882b9);}};_0x28ec39[_0x1a5502(0x20a)](setInterval,()=>{const _0x23f4a7=_0x1a5502;_0x28ec39['NKaMe'](_0x28ec39[_0x23f4a7(0x1e2)](Date[_0x23f4a7(0x346)](),lastActivity),_0x28ec39['RimRr'](_0x28ec39[_0x23f4a7(0x15d)](0x5,0x3c),0x3e8))&&_0x28ec39[_0x23f4a7(0x20e)](roomCode,STATIC_ROOM)&&(db[_0x23f4a7(0x34e)](_0x28ec39[_0x23f4a7(0x2c8)](_0x28ec39['XoMIL'],roomCode))[_0x23f4a7(0x248)]({'active':![]}),_0x28ec39[_0x23f4a7(0x1d6)](alert,_0x23f4a7(0x2d4)),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x113966=_0x48f994,_0x130d47={'JxvnX':_0x113966(0x336),'IwwDW':_0x113966(0x178)};window['addEventListener'](_0x130d47[_0x113966(0x303)],()=>{const _0x2ceb94=_0x113966,_0x343aa9=document['getElementById'](_0x2ceb94(0x349));_0x343aa9?.['classList'][_0x2ceb94(0x1ae)](_0x130d47['JxvnX'])&&_0x343aa9[_0x2ceb94(0x1dc)]['remove'](_0x130d47[_0x2ceb94(0x18b)]);});}function toggleSidebar(){const _0x253c3c=_0x48f994,_0x3a61b7={'vkbLx':_0x253c3c(0x336)},_0x142a7c=document[_0x253c3c(0x34b)](_0x253c3c(0x349));if(!_0x142a7c['classList'][_0x253c3c(0x1ae)](_0x3a61b7[_0x253c3c(0x141)]))_0x142a7c[_0x253c3c(0x1dc)][_0x253c3c(0x343)](_0x3a61b7[_0x253c3c(0x141)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x142a7c['classList']['remove'](_0x253c3c(0x336));if(history[_0x253c3c(0x23e)]?.['sidebarOpen'])history[_0x253c3c(0x27f)]();}}function setupVisibilityAttention(){const _0x304e40=_0x48f994,_0x39204f={'VBFCA':_0x304e40(0x2b8)};let _0x3f1987=0x0,_0x5aaecf=document['title'];document[_0x304e40(0x15b)](_0x39204f[_0x304e40(0x170)],()=>{const _0x467f50=_0x304e40;!document['hidden']&&(document[_0x467f50(0x2ce)]=_0x5aaecf,_0x3f1987=0x0);}),window['flagPageAttention']=function(){const _0x55028b=_0x304e40;document[_0x55028b(0x277)]&&(_0x3f1987++,document[_0x55028b(0x2ce)]='('+_0x3f1987+')\x20New\x20message\x20‚Ä¢\x20'+_0x5aaecf);};}function tryEditProfile(){const _0x42b2cf=_0x48f994,_0x467b65={'lTqUw':'editProfileScreen'};document[_0x42b2cf(0x34b)](_0x467b65[_0x42b2cf(0x293)])[_0x42b2cf(0x253)][_0x42b2cf(0x294)]=_0x42b2cf(0x18a);}async function submitEditProfile(){const _0x33986c=_0x48f994,_0x353916={'vmTKE':'newPasswordInput','PmgRa':_0x33986c(0x2f1),'sVrUp':_0x33986c(0x25b),'VowKH':_0x33986c(0x19a),'kOzbg':_0x33986c(0x242),'nAgxL':function(_0x88fb28,_0x41a7fd){return _0x88fb28(_0x41a7fd);},'VDIGD':_0x33986c(0x2df),'NDnSO':function(_0x59d766,_0x4e7ab9){return _0x59d766!==_0x4e7ab9;},'kGnib':function(_0x152258,_0x205687){return _0x152258*_0x205687;},'xQyNY':function(_0x5261e3,_0x148171){return _0x5261e3*_0x148171;},'IYwwr':function(_0x3e11c5,_0x4948a3){return _0x3e11c5>_0x4948a3;},'Vpfjn':function(_0x8f473b,_0x38f734){return _0x8f473b(_0x38f734);},'NdElF':_0x33986c(0x29e),'LjtpO':_0x33986c(0x1da),'BKtLP':function(_0x20fd05,_0x1253c3){return _0x20fd05!==_0x1253c3;},'mvjSN':function(_0x131506,_0x5ed3aa){return _0x131506(_0x5ed3aa);},'cMBwu':_0x33986c(0x326)},_0x18d870=document['getElementById'](_0x33986c(0x23a))['value'],_0x15cfbd=document['getElementById'](_0x353916['vmTKE'])['value'],_0x3daa9c=document['getElementById'](_0x353916['PmgRa'])[_0x33986c(0x1e3)][_0x33986c(0x249)](),_0x421b41=document['getElementById'](_0x353916['sVrUp']);if(!_0x18d870){_0x421b41[_0x33986c(0x2e0)]=_0x353916[_0x33986c(0x2f7)],_0x421b41['style']['display']=_0x353916['kOzbg'];return;}const _0x423e3f=sanitizeUsername(username),_0x312f13=await db['ref'](_0x33986c(0x14e)+_0x423e3f)[_0x33986c(0x2b5)]();if(!_0x312f13['exists']()){_0x421b41[_0x33986c(0x2e0)]='Profile\x20not\x20found.',_0x421b41[_0x33986c(0x253)]['display']=_0x33986c(0x242);return;}const _0x2aef56=_0x312f13[_0x33986c(0x153)](),_0x5802b5=await _0x353916['nAgxL'](sha256,_0x18d870);if(_0x5802b5!==_0x2aef56[_0x33986c(0x260)]){_0x421b41[_0x33986c(0x2e0)]=_0x353916[_0x33986c(0x30d)],_0x421b41[_0x33986c(0x253)][_0x33986c(0x294)]=_0x353916[_0x33986c(0x13e)];return;}const _0x5321e9={};if(_0x15cfbd){const _0x59be64=await _0x353916[_0x33986c(0x2bc)](sha256,_0x15cfbd);_0x5321e9[_0x33986c(0x260)]=_0x59be64;}_0x353916['NDnSO'](_0x3daa9c,_0x2aef56[_0x33986c(0x261)])&&(_0x5321e9['description']=_0x3daa9c);const _0x22f825=Date[_0x33986c(0x346)](),_0x387bd0=_0x353916[_0x33986c(0x184)](_0x353916[_0x33986c(0x28b)](0x18,0x3c)*0x3c,0x3e8),_0x84362=_0x353916[_0x33986c(0x201)](_0x22f825-(_0x2aef56[_0x33986c(0x34f)]||0x0),_0x387bd0);if(_0x84362&&_0x353916[_0x33986c(0x1f4)](confirm,_0x353916['NdElF'])){const _0x1444f2=prompt(_0x353916[_0x33986c(0x1ad)]);_0x1444f2&&_0x1444f2[_0x33986c(0x249)]()&&(_0x5321e9[_0x33986c(0x281)]=_0x1444f2['trim'](),_0x5321e9[_0x33986c(0x1af)]=(_0x2aef56[_0x33986c(0x1af)]||[])[_0x33986c(0x1ef)](_0x1444f2[_0x33986c(0x249)]()),_0x5321e9['lastChanged']=_0x22f825);}_0x5321e9[_0x33986c(0x281)]&&_0x353916[_0x33986c(0x193)](_0x5321e9[_0x33986c(0x281)],_0x2aef56[_0x33986c(0x281)])?(await db[_0x33986c(0x34e)](_0x33986c(0x14e)+_0x353916[_0x33986c(0x1f4)](sanitizeUsername,_0x5321e9['username']))[_0x33986c(0x2d2)]({..._0x2aef56,..._0x5321e9}),await db['ref'](_0x33986c(0x14e)+_0x423e3f)[_0x33986c(0x139)](),username=_0x5321e9[_0x33986c(0x281)]):await db[_0x33986c(0x34e)]('auth/'+_0x423e3f)[_0x33986c(0x248)](_0x5321e9),_0x353916[_0x33986c(0x284)](alert,_0x353916[_0x33986c(0x2e7)]),location['reload']();}function cancelEditProfile(){const _0x53ebdc=_0x48f994,_0x49b037={'JyqRI':_0x53ebdc(0x29d),'kUnva':function(_0x4f61df,_0x106330){return _0x4f61df(_0x106330);},'mloHa':_0x53ebdc(0x2f2)};document[_0x53ebdc(0x34b)](_0x53ebdc(0x1ed))[_0x53ebdc(0x253)][_0x53ebdc(0x294)]=_0x49b037[_0x53ebdc(0x2af)],_0x49b037[_0x53ebdc(0x2c3)](showScreen,_0x49b037[_0x53ebdc(0x2a2)]);}function listenForUserList(){const _0xb11640=_0x48f994,_0x10a2bb={'PnmqA':function(_0x24e7b1){return _0x24e7b1();},'YHVRk':_0xb11640(0x1e3)};db[_0xb11640(0x34e)]('users/'+roomCode)['on'](_0x10a2bb[_0xb11640(0x320)],async _0x5e15ee=>{const _0x33de98=_0xb11640;if(!_0x5e15ee[_0x33de98(0x2fe)]())return;const _0x50af81=_0x5e15ee[_0x33de98(0x153)]();await _0x10a2bb[_0x33de98(0x1ca)](loadRoomRoles),renderUserLists(_0x50af81);});}function trackPresence(){const _0x238a7b=_0x48f994,_0x267604={'obMll':function(_0x7ff571,_0x172e2b){return _0x7ff571(_0x172e2b);},'ikvkh':function(_0x2ed1ce,_0x4eab02){return _0x2ed1ce||_0x4eab02;},'NqBtA':_0x238a7b(0x1e3)};if(!username||!roomCode)return;const _0x5c8867=_0x267604[_0x238a7b(0x16c)](sanitizeUsername,username),_0x40c6a6=db[_0x238a7b(0x34e)](_0x238a7b(0x13d)+roomCode+'/'+_0x5c8867),_0x2861e3={'username':username,'avatarBase64':avatarBase64||'','description':_0x267604[_0x238a7b(0x321)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x238a7b(0x351)][_0x238a7b(0x33d)]};db[_0x238a7b(0x34e)](_0x238a7b(0x144)+roomCode+'/'+_0x5c8867)[_0x238a7b(0x202)](_0x267604[_0x238a7b(0x15a)])[_0x238a7b(0x28c)](_0x2b593c=>{const _0x5bf734=_0x238a7b;_0x2b593c[_0x5bf734(0x2fe)]()&&(_0x2861e3[_0x5bf734(0x33e)]=!![]),_0x40c6a6[_0x5bf734(0x2d2)](_0x2861e3),_0x40c6a6[_0x5bf734(0x1c7)]()[_0x5bf734(0x248)]({'online':![],'lastOnline':Date['now']()}),updateOnlineIndicator();});}function uploadSidebarAvatar(_0x56a393){const _0x1c63ec=_0x48f994,_0x4b1765={'yEDai':'block','yZztS':function(_0x3d8b51,_0x4b14f0){return _0x3d8b51(_0x4b14f0);},'xrXQa':_0x1c63ec(0x310),'UuQAn':function(_0x363224,_0x389746){return _0x363224(_0x389746);},'aHqKF':'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.'};if(!_0x56a393[_0x1c63ec(0x2e1)][_0x1c63ec(0x287)])return;const _0x170f7c=_0x56a393[_0x1c63ec(0x2e1)][0x0],_0x150e58=new FileReader();_0x150e58[_0x1c63ec(0x2be)]=async()=>{const _0x275d83=_0x1c63ec,_0x1b7bb3=_0x150e58[_0x275d83(0x2a9)]['split'](',')[0x1];document['getElementById'](_0x275d83(0x25a))[_0x275d83(0x2cb)]=_0x150e58[_0x275d83(0x2a9)],document['getElementById'](_0x275d83(0x25a))[_0x275d83(0x253)][_0x275d83(0x294)]=_0x4b1765[_0x275d83(0x29a)];try{const _0x915e9f=_0x4b1765[_0x275d83(0x2ad)](sanitizeUsername,username);await db[_0x275d83(0x34e)](_0x275d83(0x14e)+_0x915e9f+_0x275d83(0x224))['set'](_0x1b7bb3),alert(_0x4b1765[_0x275d83(0x31d)]);}catch(_0x307d32){console[_0x275d83(0x317)](_0x307d32),_0x4b1765[_0x275d83(0x168)](alert,_0x4b1765[_0x275d83(0x32f)]);}},_0x150e58[_0x1c63ec(0x207)](_0x170f7c);}function muteUser(_0x32fc56,_0x1f300c){const _0x2dea13=_0x48f994,_0x4993d6={'sDlfP':_0x2dea13(0x1f9),'GYlQF':function(_0x10a62a,_0x198681){return _0x10a62a+_0x198681;},'mcIbE':function(_0x3138b5,_0x4683cd){return _0x3138b5(_0x4683cd);}};if(!isRoomAdmin)return alert(_0x4993d6['sDlfP']);const _0x3f6c5b=_0x4993d6[_0x2dea13(0x22a)](Date[_0x2dea13(0x346)](),_0x1f300c*0x3c*0x3e8);db[_0x2dea13(0x34e)](_0x2dea13(0x1df)+roomCode+'/'+_0x4993d6[_0x2dea13(0x21c)](sanitizeUsername,_0x32fc56))[_0x2dea13(0x2d2)](_0x3f6c5b);}function unmuteUser(_0x1a570b){const _0x2baf80=_0x48f994,_0xf0ce98={'XRxic':function(_0x4f7b6c,_0x326c8b){return _0x4f7b6c(_0x326c8b);},'yQRgt':_0x2baf80(0x1f9),'xcIHa':function(_0x1ab05f,_0x1b8f68){return _0x1ab05f(_0x1b8f68);}};if(!isRoomAdmin)return _0xf0ce98[_0x2baf80(0x22b)](alert,_0xf0ce98[_0x2baf80(0x1f7)]);db[_0x2baf80(0x34e)](_0x2baf80(0x1df)+roomCode+'/'+_0xf0ce98['xcIHa'](sanitizeUsername,_0x1a570b))[_0x2baf80(0x139)]();}function updateOnlineIndicator(){const _0x1cfc08=_0x48f994,_0x1bde0c=document[_0x1cfc08(0x34b)](_0x1cfc08(0x24e));_0x1bde0c['innerText']=_0x1cfc08(0x2e9),_0x1bde0c[_0x1cfc08(0x253)][_0x1cfc08(0x296)]=_0x1cfc08(0x169);}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x27cea6){const _0x415e62=_0x48f994,_0x41ae4a={'KJRRw':function(_0xdf17aa,_0xccd14b){return _0xdf17aa(_0xccd14b);},'RQdda':_0x415e62(0x243),'dBjfX':_0x415e62(0x273),'GMEqV':'Unknown','LLEdI':_0x415e62(0x33a),'RNRpD':_0x415e62(0x2e5),'hrpbh':_0x415e62(0x242)};db['ref'](_0x415e62(0x14e)+_0x27cea6)[_0x415e62(0x2b5)]()['then'](_0x4bba52=>{const _0x4ff03f=_0x415e62;if(!_0x4bba52[_0x4ff03f(0x2fe)]())return _0x41ae4a['KJRRw'](alert,_0x4ff03f(0x2e6));const _0x5a793c=_0x4bba52[_0x4ff03f(0x153)](),_0x29ff51=(_0x4ff03f(0x149)+_0x5a793c['username']+_0x4ff03f(0x20c)+(_0x5a793c[_0x4ff03f(0x261)]||_0x41ae4a[_0x4ff03f(0x2f3)])+_0x4ff03f(0x26e)+((_0x5a793c[_0x4ff03f(0x1af)]||[])[_0x4ff03f(0x147)](',\x20')||_0x41ae4a['dBjfX'])+'\x0aLast\x20Changed:\x20'+(_0x5a793c[_0x4ff03f(0x34f)]?new Date(_0x5a793c[_0x4ff03f(0x34f)])[_0x4ff03f(0x1cf)]():_0x41ae4a['GMEqV'])+'\x0a\x20\x20\x20\x20')[_0x4ff03f(0x249)]();document[_0x4ff03f(0x34b)](_0x41ae4a[_0x4ff03f(0x1d3)])[_0x4ff03f(0x2e0)]=_0x29ff51,document[_0x4ff03f(0x34b)](_0x41ae4a[_0x4ff03f(0x1f5)])[_0x4ff03f(0x253)][_0x4ff03f(0x294)]=_0x41ae4a['hrpbh'];});}function initUsernameFlow(){const _0x6652f2=_0x48f994,_0x533af7={'JYiUZ':'chat_username','YgYue':_0x6652f2(0x259),'RuJGt':'namePreview'},_0x206423=localStorage[_0x6652f2(0x21a)](_0x533af7[_0x6652f2(0x1c6)]);!_0x206423?showScreen(_0x533af7[_0x6652f2(0x164)]):(username=_0x206423,document[_0x6652f2(0x34b)](_0x533af7[_0x6652f2(0x256)])['innerText']=username,showScreen(_0x6652f2(0x177)));}function closeProfile(){const _0x4e0016=_0x48f994,_0x48f437={'MaCLY':_0x4e0016(0x2e5)};document[_0x4e0016(0x34b)](_0x48f437['MaCLY'])[_0x4e0016(0x253)][_0x4e0016(0x294)]=_0x4e0016(0x29d);}function resetWebsiteData(){const _0x3e79d1=_0x48f994,_0x565177={'WbVNJ':function(_0x17f97e,_0x1341f2){return _0x17f97e||_0x1341f2;},'OelQS':function(_0x3fdc6f,_0x18ce23){return _0x3fdc6f+_0x18ce23;}};try{localStorage[_0x3e79d1(0x1f6)](),sessionStorage[_0x3e79d1(0x1f6)]();}catch(_0x314971){}_0x565177[_0x3e79d1(0x2d6)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId=_0x565177[_0x3e79d1(0x2b3)]('_',Math['random']()['toString'](0x24)['substr'](0x2,0x9)));}function addAnnouncement(){const _0x23b5ae=_0x48f994,_0xebf029={'hDALk':function(_0x25a00b,_0x12788c){return _0x25a00b(_0x12788c);},'peOOG':_0x23b5ae(0x165)},_0x37f55c=_0xebf029[_0x23b5ae(0x34a)](prompt,_0xebf029[_0x23b5ae(0x24f)]);if(!_0x37f55c)return;db[_0x23b5ae(0x34e)]('rooms/'+roomCode+_0x23b5ae(0x241))[_0x23b5ae(0x2d2)]({'text':_0x37f55c,'by':username,'timestamp':Date[_0x23b5ae(0x346)]()});}function listenForAnnouncement(){const _0x1b6543=_0x48f994,_0x268bf0={'rHqFV':_0x1b6543(0x1b3),'TyZta':_0x1b6543(0x1e3)},_0x1c8be2=db['ref'](_0x1b6543(0x228)+roomCode+_0x1b6543(0x241));_0x1c8be2['on'](_0x268bf0[_0x1b6543(0x2a0)],_0x4eda82=>{const _0x296c04=_0x1b6543,_0x5cdf23=_0x4eda82[_0x296c04(0x153)]();if(!_0x5cdf23){document['getElementById'](_0x268bf0['rHqFV'])[_0x296c04(0x2e0)]='';return;}const _0x2a0430=document['getElementById'](_0x268bf0[_0x296c04(0x14b)]);_0x2a0430['innerText']=''+_0x5cdf23['text'];});}document[_0x48f994(0x34b)](_0x48f994(0x1b3))[_0x48f994(0x15b)]('click',_0x311808=>{const _0xe73fe7=_0x48f994,_0x5303ec={'axwif':function(_0xaf297d,_0xbcab51){return _0xaf297d===_0xbcab51;},'uAzDy':function(_0x2f6f5f,_0x248c5c){return _0x2f6f5f(_0x248c5c);}};_0x5303ec[_0xe73fe7(0x1cd)](_0x311808[_0xe73fe7(0x33b)],0x3)&&isRoomAdmin&&(_0x5303ec[_0xe73fe7(0x1b7)](confirm,_0xe73fe7(0x23b))&&db[_0xe73fe7(0x34e)](_0xe73fe7(0x228)+roomCode+_0xe73fe7(0x241))['remove']());}),document[_0x48f994(0x34b)](_0x48f994(0x1d7))[_0x48f994(0x15b)](_0x48f994(0x1ea),()=>{const _0x1d3b0a=_0x48f994,_0x195eec={'hqnUt':_0x1d3b0a(0x1d7),'upbox':'sendBtn'},_0x54ac7c=document[_0x1d3b0a(0x34b)](_0x195eec[_0x1d3b0a(0x2d3)]),_0x1d27b2=document[_0x1d3b0a(0x34b)](_0x195eec[_0x1d3b0a(0x215)]),_0x27703d=_0x54ac7c[_0x1d3b0a(0x1e3)][_0x1d3b0a(0x1dd)](),_0x221630=swearWords[_0x1d3b0a(0x348)](_0x3f57aa=>_0x27703d[_0x1d3b0a(0x18f)](_0x3f57aa));_0x221630?(_0x54ac7c[_0x1d3b0a(0x253)][_0x1d3b0a(0x23f)]='2px\x20solid\x20red',_0x1d27b2['disabled']=!![]):(_0x54ac7c['style'][_0x1d3b0a(0x23f)]='',_0x1d27b2['disabled']=![]);});function muteUser(_0x37a38f,_0x40c086){const _0xfd1cf8=_0x48f994,_0x3257e1={'kgIXk':function(_0x462b45,_0x84642d){return _0x462b45(_0x84642d);},'Lszjc':function(_0x4325c9,_0x23ba7b){return _0x4325c9+_0x23ba7b;},'ZHdam':function(_0x12e4f2,_0xca795a){return _0x12e4f2*_0xca795a;}},_0xcaea3b=_0x3257e1['Lszjc'](Date[_0xfd1cf8(0x346)](),_0x3257e1[_0xfd1cf8(0x265)](_0x3257e1[_0xfd1cf8(0x265)](_0x40c086,0x3c),0x3e8));db['ref'](_0xfd1cf8(0x1df)+roomCode+'/'+_0x3257e1[_0xfd1cf8(0x298)](sanitizeUsername,_0x37a38f))[_0xfd1cf8(0x2d2)]({'muteUntil':_0xcaea3b})[_0xfd1cf8(0x28c)](()=>{const _0x253f72=_0xfd1cf8;_0x3257e1[_0x253f72(0x298)](alert,_0x37a38f+_0x253f72(0x315)+_0x40c086+_0x253f72(0x264));});}function deleteUserMessages(_0x394f23){const _0x1bd66a=_0x48f994,_0x3de120={'qCjSc':function(_0x2e48c1,_0x382512){return _0x2e48c1(_0x382512);}};db[_0x1bd66a(0x34e)](_0x1bd66a(0x228)+roomCode+_0x1bd66a(0x357))[_0x1bd66a(0x25d)]('sender')[_0x1bd66a(0x290)](_0x394f23)['get']()[_0x1bd66a(0x28c)](_0x231b5d=>{const _0xb0db2f=_0x1bd66a;_0x231b5d[_0xb0db2f(0x305)](_0x561e74=>{const _0x56389b=_0xb0db2f;db['ref'](_0x56389b(0x228)+roomCode+_0x56389b(0x17b)+_0x561e74[_0x56389b(0x182)])[_0x56389b(0x139)]();}),_0x3de120[_0xb0db2f(0x266)](alert,_0xb0db2f(0x1d2)+_0x394f23+'\x20deleted.');});}function pauseRoom(_0x45dffb){const _0x2301ae=_0x48f994,_0x338878={'iJUjY':_0x2301ae(0x34c),'CBciA':_0x2301ae(0x242),'xouyr':'none'};db['ref'](_0x2301ae(0x228)+roomCode+_0x2301ae(0x158))['on'](_0x2301ae(0x1e3),_0x49f830=>{const _0x6aa2c=_0x2301ae,_0x464252=_0x49f830[_0x6aa2c(0x153)]();document[_0x6aa2c(0x34b)](_0x338878['iJUjY'])[_0x6aa2c(0x253)][_0x6aa2c(0x294)]=_0x464252?_0x338878[_0x6aa2c(0x1bf)]:_0x338878[_0x6aa2c(0x216)];});}function canPerformAction(_0x5e8524){const _0x5d31a3=_0x48f994,_0x1baf72={'NxVsf':function(_0x4163b8,_0x33c048){return _0x4163b8===_0x33c048;},'DFCKU':_0x5d31a3(0x2ae),'fSGjy':function(_0x1b932c,_0x366ba6){return _0x1b932c===_0x366ba6;},'itROj':'mute','XspqD':function(_0x308dde,_0x351ebe){return _0x308dde===_0x351ebe;},'NsIJQ':'deleteMessage','EgtOV':_0x5d31a3(0x33e),'BZFxs':function(_0x546ddc,_0x1e4e70){return _0x546ddc===_0x1e4e70;},'ThxdO':_0x5d31a3(0x2e3),'kDHVv':'promote','iezES':function(_0x1e43f0,_0x106f29){return _0x1e43f0===_0x106f29;}};if(_0x1baf72[_0x5d31a3(0x226)](role,_0x1baf72['DFCKU']))return!![];if(_0x1baf72[_0x5d31a3(0x2e4)](_0x5e8524,_0x1baf72[_0x5d31a3(0x35c)])||_0x1baf72['XspqD'](_0x5e8524,_0x1baf72[_0x5d31a3(0x254)]))return _0x1baf72['XspqD'](role,_0x1baf72[_0x5d31a3(0x1cb)])||_0x1baf72[_0x5d31a3(0x33f)](role,_0x1baf72[_0x5d31a3(0x133)]);if(_0x1baf72['BZFxs'](_0x5e8524,_0x1baf72[_0x5d31a3(0x2d8)]))return _0x1baf72[_0x5d31a3(0x356)](role,_0x1baf72[_0x5d31a3(0x1cb)]);return![];}const html=Object[_0x48f994(0x268)](activeUsers)[_0x48f994(0x160)](_0x4b3054=>{const _0x405cd1=_0x48f994,_0x502bbc={'uaDBq':function(_0x3bc40a,_0x4a2283){return _0x3bc40a(_0x4a2283);},'Amxda':function(_0x4c8382,_0x343509){return _0x4c8382(_0x343509);},'lWnBF':function(_0x573823,_0x143454){return _0x573823(_0x143454);},'nIZlW':'mute','grrhW':'deleteMessage','GIHqP':function(_0x1d0d61,_0x16c5b0){return _0x1d0d61===_0x16c5b0;},'vKkjr':_0x405cd1(0x2ae),'BgUou':_0x405cd1(0x33e),'aPvrI':function(_0x194f7e,_0x205345){return _0x194f7e(_0x205345);}},_0x1d75b4=_0x502bbc[_0x405cd1(0x19e)](sanitizeUsername,_0x4b3054[_0x405cd1(0x281)]),_0x3ab6cf=[];if(_0x1d75b4!==_0x502bbc['Amxda'](sanitizeUsername,username)){_0x502bbc[_0x405cd1(0x27e)](canPerformAction,_0x502bbc['nIZlW'])&&(_0x3ab6cf[_0x405cd1(0x2bb)]('<button\x20onclick=\x22muteUser(\x27'+_0x1d75b4+_0x405cd1(0x213)),_0x3ab6cf[_0x405cd1(0x2bb)](_0x405cd1(0x18e)+_0x1d75b4+'\x27,\x2010)\x22>Mute\x2010m</button>'));_0x502bbc[_0x405cd1(0x19e)](canPerformAction,_0x502bbc[_0x405cd1(0x218)])&&_0x3ab6cf[_0x405cd1(0x2bb)](_0x405cd1(0x289)+_0x1d75b4+_0x405cd1(0x183));if(_0x502bbc['GIHqP'](role,_0x502bbc[_0x405cd1(0x32d)]))_0x3ab6cf[_0x405cd1(0x2bb)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1d75b4+'\x27)\x22>Promote\x20to\x20Moderator</button>'),_0x3ab6cf['push'](_0x405cd1(0x162)+_0x1d75b4+'\x27)\x22>Promote\x20to\x20Admin</button>');else role===_0x502bbc[_0x405cd1(0x307)]&&_0x3ab6cf[_0x405cd1(0x2bb)](_0x405cd1(0x172)+_0x1d75b4+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20üë§\x20'+_0x4b3054[_0x405cd1(0x281)]+'\x20'+_0x502bbc[_0x405cd1(0x29f)](getRoleTag,_0x502bbc[_0x405cd1(0x19e)](sanitizeUsername,_0x4b3054['username']))+_0x405cd1(0x1a8)+_0x1d75b4+_0x405cd1(0x1e5)+_0x3ab6cf[_0x405cd1(0x147)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0x1d75b4+_0x405cd1(0x240);})['join']('');function promoteToModerator(_0x92455d){const _0x1e7b10=_0x48f994,_0x3ffd55={'XKRmN':function(_0x370dd5,_0x47e384){return _0x370dd5!==_0x47e384;},'bjBcF':'dev','mwzAT':_0x1e7b10(0x33e),'XgFEB':function(_0x47b167,_0x4dffdf){return _0x47b167(_0x4dffdf);}};if(_0x3ffd55[_0x1e7b10(0x27d)](role,_0x3ffd55[_0x1e7b10(0x1d9)])&&_0x3ffd55[_0x1e7b10(0x27d)](role,_0x3ffd55[_0x1e7b10(0x1b0)])){_0x3ffd55['XgFEB'](alert,_0x1e7b10(0x1b8));return;}db[_0x1e7b10(0x34e)]('moderators/'+roomCode+'/'+_0x3ffd55[_0x1e7b10(0x1b9)](sanitizeUsername,_0x92455d))[_0x1e7b10(0x2d2)](!![])['then'](()=>{const _0x2cd418=_0x1e7b10;alert(_0x92455d+_0x2cd418(0x1e9));});}function promoteToAdmin(_0x2c9cfd){const _0x46e696=_0x48f994,_0x3112aa={'UPXbW':function(_0x1e702f,_0x29df58){return _0x1e702f(_0x29df58);},'VRAXO':function(_0xda35c2,_0x318850){return _0xda35c2(_0x318850);},'DPNPo':_0x46e696(0x2c1)};if(role!==_0x46e696(0x2ae)){_0x3112aa[_0x46e696(0x353)](alert,_0x3112aa[_0x46e696(0x22f)]);return;}db['ref'](_0x46e696(0x144)+roomCode+'/'+_0x3112aa[_0x46e696(0x1c2)](sanitizeUsername,_0x2c9cfd))[_0x46e696(0x2d2)](!![])['then'](()=>{const _0x35983a=_0x46e696;_0x3112aa[_0x35983a(0x1c2)](alert,_0x2c9cfd+_0x35983a(0x295));});}function toggleUserOptions(_0x500d31){const _0x5b6a46=_0x48f994,_0x18fe44={'AMbLw':function(_0x59cdbf,_0x2a6454){return _0x59cdbf===_0x2a6454;},'ViNdN':_0x5b6a46(0x29d),'rkDjJ':'block'},_0x4f07fa=document[_0x5b6a46(0x34b)](_0x5b6a46(0x35b)+_0x500d31);_0x18fe44[_0x5b6a46(0x2ff)](_0x4f07fa[_0x5b6a46(0x253)][_0x5b6a46(0x294)],_0x18fe44['ViNdN'])?_0x4f07fa[_0x5b6a46(0x253)][_0x5b6a46(0x294)]=_0x18fe44[_0x5b6a46(0x222)]:_0x4f07fa[_0x5b6a46(0x253)][_0x5b6a46(0x294)]=_0x18fe44[_0x5b6a46(0x313)];}function getRoleTag(_0xab7d94){const _0x3fd4e3=_0x48f994,_0x1941ea={'gkDSt':function(_0x2f09b6,_0x2573f7){return _0x2f09b6(_0x2573f7);}},_0x55b7f3=_0x1941ea[_0x3fd4e3(0x31b)](sanitizeUsername,_0xab7d94);if(globalDevs[_0x3fd4e3(0x18f)](_0x55b7f3))return _0x3fd4e3(0x274);if(roomAdmins[_0x3fd4e3(0x18f)](_0x55b7f3))return _0x3fd4e3(0x1f1);if(roomModerators[_0x3fd4e3(0x18f)](_0x55b7f3))return _0x3fd4e3(0x16e);return'';}async function loadRoomRoles(){const _0x5881ba=_0x48f994,_0x4cfaf2={'bffre':_0x5881ba(0x2ae),'SRmUR':function(_0x216881,_0x4e1a47){return _0x216881(_0x4e1a47);},'xXrJT':'admin','uDBoe':_0x5881ba(0x2e3),'zntHF':_0x5881ba(0x282)},_0x310f17=_0x4cfaf2['SRmUR'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x11da3a=await db[_0x5881ba(0x34e)](_0x5881ba(0x324))[_0x5881ba(0x2b5)]();_0x11da3a[_0x5881ba(0x305)](_0x20366b=>{const _0x104e1d=_0x5881ba;if(_0x20366b[_0x104e1d(0x153)]()[_0x104e1d(0x251)]===_0x4cfaf2[_0x104e1d(0x209)])globalDevs[_0x104e1d(0x2bb)](_0x20366b[_0x104e1d(0x182)]);});const _0x45c135=await db[_0x5881ba(0x34e)](_0x5881ba(0x144)+roomCode)[_0x5881ba(0x2b5)]();_0x45c135['exists']()&&_0x45c135[_0x5881ba(0x305)](_0x2246e9=>roomAdmins[_0x5881ba(0x2bb)](_0x2246e9[_0x5881ba(0x182)]));const _0x45abae=await db[_0x5881ba(0x34e)](_0x5881ba(0x35a)+roomCode)[_0x5881ba(0x2b5)]();_0x45abae[_0x5881ba(0x2fe)]()&&_0x45abae['forEach'](_0xab4b8=>roomModerators['push'](_0xab4b8[_0x5881ba(0x182)]));if(globalDevs[_0x5881ba(0x18f)](_0x310f17))role=_0x5881ba(0x2ae);else{if(roomAdmins['includes'](_0x310f17))role=_0x4cfaf2[_0x5881ba(0x17c)];else roomModerators[_0x5881ba(0x18f)](_0x310f17)?role=_0x4cfaf2[_0x5881ba(0x1ec)]:role=_0x4cfaf2[_0x5881ba(0x1eb)];}}async function renderUserLists(_0x32d88c){const _0x150dfa=_0x48f994,_0x3bbd72={'NjTeV':function(_0x1047e7,_0x59e54b){return _0x1047e7(_0x59e54b);},'VjVXm':function(_0x2adec4,_0x494e83){return _0x2adec4===_0x494e83;},'hfZcV':_0x150dfa(0x2ae),'DXnwe':_0x150dfa(0x33e),'vBpmT':_0x150dfa(0x2e3),'jZxri':function(_0x117899,_0x3299c6){return _0x117899===_0x3299c6;},'uZMGM':function(_0x3499aa,_0x3d93c2){return _0x3499aa===_0x3d93c2;},'AXOVH':function(_0x5401a7,_0x56dd9a){return _0x5401a7(_0x56dd9a);},'rbCqT':function(_0x7acdeb,_0x2f7ab0){return _0x7acdeb===_0x2f7ab0;},'RBXLG':function(_0x42abf7,_0x5305d5){return _0x42abf7===_0x5305d5;},'Ddnrb':_0x150dfa(0x275),'pxSib':'block','InVpJ':_0x150dfa(0x29d),'zyATq':_0x150dfa(0x262)},_0xd81e09=sanitizeUsername(username),_0x2eedf1=_0x3bbd72[_0x150dfa(0x232)](role,_0x150dfa(0x2ae))||_0x3bbd72[_0x150dfa(0x21b)](role,_0x3bbd72[_0x150dfa(0x187)])||_0x3bbd72[_0x150dfa(0x309)](role,_0x3bbd72[_0x150dfa(0x30c)]);document[_0x150dfa(0x34b)](_0x3bbd72[_0x150dfa(0x176)])[_0x150dfa(0x253)]['display']=_0x2eedf1?_0x3bbd72[_0x150dfa(0x26c)]:_0x3bbd72['InVpJ'];const _0x3bd000=Object[_0x150dfa(0x327)](_0x32d88c)[_0x150dfa(0x160)](async([_0x34e430,_0x241884])=>{const _0x4020f9=_0x150dfa,_0x2369c9=_0x3bbd72['NjTeV'](sanitizeUsername,_0x241884[_0x4020f9(0x281)]||_0x34e430),_0x5c7851=await _0x3bbd72['NjTeV'](fetchAvatar,_0x2369c9),_0x3d3623=_0x5c7851?'<img\x20src=\x22data:image/png;base64,'+_0x5c7851+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'';return _0x4020f9(0x2a6)+_0x3d3623+_0x4020f9(0x344)+(_0x241884[_0x4020f9(0x281)]||_0x34e430)+'\x20'+_0x3bbd72[_0x4020f9(0x2ea)](getRoleTag,_0x2369c9)+'</li>';}),_0x35132a=await Promise[_0x150dfa(0x2a3)](_0x3bd000);document[_0x150dfa(0x34b)](_0x3bbd72[_0x150dfa(0x2dd)])[_0x150dfa(0x217)]=_0x35132a['join']('');if(!_0x2eedf1)return;const _0x520f97=Object[_0x150dfa(0x327)](_0x32d88c)[_0x150dfa(0x160)](async([_0x44ceb2,_0xc35c58])=>{const _0x2f2ee3=_0x150dfa,_0x570255=_0x3bbd72[_0x2f2ee3(0x2ea)](sanitizeUsername,_0xc35c58['username']||_0x44ceb2);if(_0x3bbd72[_0x2f2ee3(0x276)](_0x570255,_0xd81e09))return'';const _0x177f3e=await _0x3bbd72['NjTeV'](fetchAvatar,_0x570255),_0x538155=_0x177f3e?_0x2f2ee3(0x233)+_0x177f3e+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x2f6e4c=[];(role===_0x3bbd72[_0x2f2ee3(0x1a9)]||role===_0x3bbd72[_0x2f2ee3(0x187)]||_0x3bbd72[_0x2f2ee3(0x276)](role,_0x3bbd72['vBpmT']))&&(_0x2f6e4c[_0x2f2ee3(0x2bb)](_0x2f2ee3(0x18e)+_0x570255+'\x27,\x205)\x22>Mute\x205m</button>'),_0x2f6e4c[_0x2f2ee3(0x2bb)](_0x2f2ee3(0x18e)+_0x570255+'\x27,\x2010)\x22>Mute\x2010m</button>'));(_0x3bbd72[_0x2f2ee3(0x309)](role,_0x2f2ee3(0x2ae))||role===_0x3bbd72[_0x2f2ee3(0x187)])&&_0x2f6e4c['push'](_0x2f2ee3(0x289)+_0x570255+'\x27)\x22>Delete\x20Msgs</button>');if(_0x3bbd72[_0x2f2ee3(0x24c)](role,_0x3bbd72[_0x2f2ee3(0x1a9)]))_0x2f6e4c['push']('<button\x20onclick=\x22promoteToModerator(\x27'+_0x570255+_0x2f2ee3(0x1e0)),_0x2f6e4c[_0x2f2ee3(0x2bb)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x570255+'\x27)\x22>+Admin</button>');else _0x3bbd72[_0x2f2ee3(0x276)](role,_0x3bbd72[_0x2f2ee3(0x187)])&&_0x2f6e4c[_0x2f2ee3(0x2bb)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x570255+_0x2f2ee3(0x1e0));return _0x2f2ee3(0x2f5)+_0x538155+_0x2f2ee3(0x189)+(_0xc35c58['username']||_0x44ceb2)+'\x20'+_0x3bbd72['AXOVH'](getRoleTag,_0x570255)+_0x2f2ee3(0x358)+_0x2f6e4c[_0x2f2ee3(0x147)]('\x20')+_0x2f2ee3(0x1db);}),_0x453c1b=await Promise[_0x150dfa(0x2a3)](_0x520f97);document[_0x150dfa(0x34b)](_0x150dfa(0x2ec))[_0x150dfa(0x217)]=_0x453c1b[_0x150dfa(0x147)]('');}async function fetchAvatar(_0x115624){const _0x5b768b=_0x48f994;if(userAvatars[_0x115624])return userAvatars[_0x115624];const _0x587015=await db[_0x5b768b(0x34e)](_0x5b768b(0x14e)+_0x115624)[_0x5b768b(0x2b5)]();if(_0x587015['exists']()&&_0x587015[_0x5b768b(0x153)]()[_0x5b768b(0x19c)])return userAvatars[_0x115624]=_0x587015['val']()[_0x5b768b(0x19c)],userAvatars[_0x115624];return null;}function sendTyping(){const _0x4b6900=_0x48f994,_0x3c3925={'EFchP':function(_0x2691d0,_0xcb89af,_0x131540){return _0x2691d0(_0xcb89af,_0x131540);}},_0x2afafc=sanitizeUsername(username);db[_0x4b6900(0x34e)](_0x4b6900(0x2ed)+roomCode+'/'+_0x2afafc)[_0x4b6900(0x2d2)](Date[_0x4b6900(0x346)]()),_0x3c3925['EFchP'](setTimeout,()=>{const _0xa18b71=_0x4b6900;db[_0xa18b71(0x34e)](_0xa18b71(0x2ed)+roomCode+'/'+_0x2afafc)[_0xa18b71(0x139)]();},0x1388);}