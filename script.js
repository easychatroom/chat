const _0x26c91d=_0x1830;(function(_0x52a31f,_0x5af2cf){const _0x1d7175=_0x1830,_0x3a5a75=_0x52a31f();while(!![]){try{const _0x5812ae=-parseInt(_0x1d7175(0x370))/0x1*(parseInt(_0x1d7175(0x32c))/0x2)+parseInt(_0x1d7175(0x3c9))/0x3+-parseInt(_0x1d7175(0x4a6))/0x4*(parseInt(_0x1d7175(0x4da))/0x5)+-parseInt(_0x1d7175(0x325))/0x6+-parseInt(_0x1d7175(0x4a7))/0x7*(-parseInt(_0x1d7175(0x384))/0x8)+-parseInt(_0x1d7175(0x35a))/0x9+parseInt(_0x1d7175(0x4bd))/0xa;if(_0x5812ae===_0x5af2cf)break;else _0x3a5a75['push'](_0x3a5a75['shift']());}catch(_0x4eecdf){_0x3a5a75['push'](_0x3a5a75['shift']());}}}(_0x4560,0x26614));const firebaseConfig={'apiKey':_0x26c91d(0x33d),'authDomain':_0x26c91d(0x3c5),'databaseURL':_0x26c91d(0x433),'projectId':'easy-chatroom','storageBucket':_0x26c91d(0x1c4),'messagingSenderId':'985049198428','appId':_0x26c91d(0x397),'measurementId':_0x26c91d(0x36e)};let lastVerificationCode=null;firebase[_0x26c91d(0x42a)](firebaseConfig);function _0x4560(){const _0x5c2a4b=['data:audio/webm;base64,','No\x20changes\x20yet','ALuoY','tUHhe','Aspuo','HyWnx','profile_description','passwordScreen','email','audioBase64','pfVaq','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','tjZTq','clear','pTZxG','aOBRg','<li>','16gdnfmL','profileContent','gTJtw','SqkfX','toLocaleTimeString','iftBT','CzSuC','getElementById','hQlNd','codeEntryScreen','UiiVi','Fqald','illPm','KjfmE','val','JCRTN','TzeMx','BSzKw','title','1:985049198428:web:d0eb7e2de39887710c9b99','jpiqB','bahwW','username','PUaFS','bphQY','4|2|1|3|0','from','Tpkas','fgKJk','alignItems','message','RrvSH','sender','oRKxZ','includes','VBSdc','fDLnb','uLZlq','erKEM','color','ref','JAmZD','<button\x20onclick=\x22muteUser(\x27','RzWpa','block','onstop','LxnvS','style','GgjoJ','gfBmx','newPasswordInput','warn','nHWHT','jGMFN','RWpEv','sort','puta','leIRs','Enter\x20Announcement\x20Text:','mierda','children','uzxqQ','OlAkE','className','SOSeb','easy-chatroom.firebaseapp.com','NtDpe','roomStates/','JMbiD','550074zkoOKH','You\x20got\x20a\x20message\x20from\x20','chat_username','GSaUe','Room\x20password\x20not\x20set.\x20Cannot\x20join.','rthmT','promote','Microphone\x20permission\x20denied.','push','mute','none','tRPWj','GEPls','normal','<button\x20onclick=\x22deleteUserMessages(\x27','120px','authEmail','FWYMr','random','/paused','NTdFp','sidebarAvatarPreview','authSubmitBtn','avPQN','VEqIx','0|1|3|2|4|5','init','vzUKx','fdp','EooOA','readAsDataURL','maxWidth','SkCQV','AOnhW','antispam/','ecFLn','fdztc','HYMVN','preventDefault','leygU','0.8rem','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','gr8stg/','YzXTl','position','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','yrpOZ','entries','porra','Room\x20is\x20currently\x20paused.','NUZgi','object','QZLJd','addAnnouncementBtn','ZutZy','Delete\x20this\x20message?','cCWVl','xLGUr','huSLu','substr','XwUav','VIRDA','jpeSe','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','UOyxa','Missing\x20room\x20or\x20user\x20information.','TPseu','encode','scrollHeight','margin','xBsmq','gWvnw','requestPermission','profileScreen','</span>','zbYab','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','Register','2-digit','NiDlQ','div','true','DlMBS','SZlVL','Invalid\x20verification\x20code.','SwOdJ','audioUrl','kWfYi','kwDQJ','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','result','QOtoy','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','gQGza','RkrVO','profileViewer','initializeApp','HmLRt','padding','Enter','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x27)\x22>Promote\x20to\x20Moderator</button>','appendChild','avatarBase64','caralho','https://easy-chatroom-default-rtdb.firebaseio.com','MIRkZ','hRbGk','MsKpo','split','authPassword','top','recordBtn','jFTuF','DQKJP','users/','fYKRN','rVuXC','play','MGjRr','vKpHQ','0px','YdyAh','BlCHo','050BBB66HH','display','Please\x20enter\x20your\x20current\x20password.','pHmFC','roomDisplay','blnTz','template_uadxvmp','co√±o','Type\x20a\x20message...','<span\x20class=\x22sender-name\x22>','32px','WcJln','<button\x20onclick=\x22demoteUser(\x27','[Unknown]','onclick','qkMoH','bcQFQ','nGvdj','visibilitychange','gEHcG','yWsgQ','ndETv','forEach','yDMKT','jQnQh','placeholder','jwXLv','hDBpY','trim','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','muted/','oldPasswordInput','20px','Unknown','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','eQmkF','userDisplay','boxShadow','[Voice\x20message]','audio/webm','chatScreen','padStart','role','ODRin','ulol','qmuRI','\x27)\x22>Delete\x20Messages</button>','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','AxQdk','filter','QEkdg','ufNvB','onloadend','NZSqO','map','Profile\x20not\x20found.','lPSCo','<img\x20src=\x22','ZAucw','nYwNx','DTGwH','Create\x20Account','userSidebar','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','add','scrollTop','TvoJT','ABCDEFGHIJKLMNOPQRSTUVWXYZ','gkAGx','toString','moderators/','PvBGy','BsjLF','WJjKX','MTiva','child_removed','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','<button\x20onclick=\x22promoteToModerator(\x27','zEvnY','editProfileError','‚óè\x20Online','yEbBG','XfpAV','sidebarOpen','RYYDm','disabled','kAoVf','volume','tyPIJ','vbvgm','NHaFR','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','[Image]','sounds/beep.mp3','DqKzn','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','40396MesmFh','1009757fQHMnd','iQDNz','fbSed','fTmhU','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','</a>','set','Failed\x20to\x20register\x20user\x20into\x20room.','text','messaging','hiNjY','iJsPl','EjPlC','adminUserList','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','authError','\x20promoted\x20to\x20Admin!','granted','bitch','addEventListener','luKFq','aevwR','4342870yatfZE','FzwIm','jIaVt','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','editBioInput','DBjdg','JrUlU','pendejo','detail','qJfix','Passwords\x20do\x20not\x20match.','New\x20Chat\x20Message','<br>','</li>','pGfPk','PEecy','sHGkq','UgLGs','tzzdV','pausedOverlay','Incorrect\x20password','false','nuXnP','egIOT','‚ö†Ô∏è\x20No\x20spamming\x20allowed.','toUpperCase','tEYKq','background','UuNpT','105AxuXRS','flex','oIpuJ','4px','\x0aUsername\x20History:\x20','omMJX','whuhd','BppNZ','easy-chatroom.firebasestorage.app','Bjelx','qiBzJ','authTitle','toLowerCase','iRceB','bMMEq','thiLv','#aaa','Session\x20expired.','putang\x20ina','roomChoiceScreen','No\x20bio\x20set','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','KhoUa','hbjsY','DjEoO','dCwlP','Enter\x20a\x20valid\x20room\x20code','authAvatarPreview','hdpna','ggteq','uCKNB','classList','getItem','/reactions','replace','xnrRB','LIuob','hidden','WWYIh','auth','Rjroq','adminControlsSection','toggleAuthMode','hMVWQ','‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','<button\x20onclick=\x22promoteToAdmin(\x27','staticPasswordInput','state','iCyWT','‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.','bjqrX','/messages','QZdzs','uLXYk','online','vGHfJ','reaction-box','\x20muted\x20for\x20','FKiAf','UtexS','height','absolute','AxyjC','No\x20room\x20code\x20available\x20for\x20private\x20rooms','AKSCs','gOQMy','tCgPq','cPXKM','admin','Enter\x20username\x20and\x20password.','Fill\x20all\x20fields.','sent','gAAYc','vDuAo','active','icYqR','ksOUx','ywWPx','fkwVf','0|1|3|2|4','IklKM','eqVsC','\x27,\x2010)\x22>Mute\x2010m</button>','sDuYx','zUZRE','show','\x20is\x20typing...','data','gOZuz','EktTE','namePreview','HdYZE','center','üéôÔ∏è','<audio\x20controls\x20src=\x22','OdeIc','textAlign','orderByChild','profileError','child_changed','grid','KcMnV','click','BvAbj','vQpwZ','dSTAj','VqeqJ','mMJeD','borderRadius','jkUHj','dXahU','value','üïí\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','some','admins/','avatar_base64','ZAVwP','ZvqfN','WUsxL','Uddfb','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','<button>','uqvcW','-45px','border','Account\x20created!\x20You\x20may\x20now\x20login.','Vkujm','\x27)\x22>Promote\x20to\x20Admin</button>','blNMu','antispamBlocked','eWDJi','6px\x20auto','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','\x20minutes.','QilHm','onDisconnect','yFWRB','rPttC','FXLRv','RMRwd','wslOx','nGgSy','</button>','sbmye','#222','typing','BWlsF','IaGrz','Verification\x20code\x20sent!','hdKRX','/avatarBase64','ovITj','You\x20got\x20messages\x20from\x20','dlulG','Enter\x20your\x20new\x20username:','UZcfQ','ncJAm','eGqqB','bgKpq','UJgQJ','sendCodeBtn','JaQMc','notifications_enabled','DjLWx','msg','pGGJr','\x20demoted\x20to\x20user.','bobo','flagPageAttention','typing/','JSmYu','AzsCo','shit','emailVerified','JEcgg','width','msgId','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','qpKZb','announcementArea','BFQJs','subtle','moderator','BqRHs','\x0a\x20\x20\x20\x20','innerText','kbgOv','digest','Cxpld','üîï\x20Disable\x20Notifications','Error\x20checking\x20username:','CqzLm','floor','LbgUT','createElement','IBncc','Remove\x20Announcement?','length','VwWKO','join','zIndex','‚ùå\x20Image\x20must\x20be\x20under\x202MB','exists','<span\x20style=\x22margin-right:6px;\x22>','dgnPe','\x20deleted.','iqnKp','hCYzS','\x20in\x20room\x20','sXYfD','itqHu','toLocaleString','uUvJH','editProfileScreen','kVetO','authScreen','RCWzN','relative','once','\x20üîß\x20','inline-block','uHENB','muteUntil','mDTgQ','FfleV','\x20was\x20muted\x20for\x20','ZmAJj','uFfsH','user','SShgf','mtYoy','then','justifyContent','puerf','textContent','authAvatar','pointer','vUpcf','PjrFq','zKMIR','PfNVO','minWidth','yPjIM','authDescription','passwordError','KbSRD','htpvc','rTbyy','asshole','dIdgh','AINbj',')\x20New\x20message\x20‚Ä¢\x20','LhBns','rooms/','GxQYK','src','touchstart','Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.','EwPQd','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','rEZKO','üîî\x20Enable\x20Notifications','YGvPA','innerHTML','authPasswordConfirm','YsUHt','reaction-tray','sPNXJ','signOut','database','guXbf','notifToggleBtn','userAgent','rooms','files','messages','/messages/','kXdMv','repeat(auto-fill,\x20minmax(32px,\x201fr))','get','usernameHistory','16px','back','service_qfnrrrl','KBuBN','reload','cunt','signInWithEmailAndPassword','MuzPE','ServerValue','userList','catch','LZlbI','OXgQl','tangina','0\x202px\x206px\x20rgba(0,0,0,0.5)','XJxnr','GAPJJ','\x27)\x22>+Mod</button>','mod','querySelector','GPvtE','auth/','gap','LWGrB','child_added','msgInput','<img\x20src=\x22data:image/png;base64,','description','<a\x20href=\x22','fuck','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','whiteSpace','fqkLa','system','lWoXz','authUsername','aUpJo','match','passwordHash','QPiDr','cwyaI','etjdh','eZAFz','FbofR','[Voice\x20Message]','imageBase64','now','AZfUf','content','EGJlB','userOptions-','mxfsM','ILYsZ','iGioI','sCCPz','key','IrXWP','IUAlM','PYiLK','Remove\x20this\x20announcement?','send','WCAtJ','</div>','gKMpm','tneld','isArray','NaQsX','timestamp','dataset','mqQRD','authVerificationCode','CoswK','eLxYw','BPUUI','mIKDl','\x20is\x20online','OQAfH','deleteMessage','Username\x20not\x20found.','gridTemplateColumns','657906eREkKq','syYgt','160px','tdTZI','\x27)\x22>Demote</button>','üö´\x20Cannot\x20promote\x20Developers.','CTznd','246802isxUIs','uABHA','all','createUserWithEmailAndPassword','UIiOV','data:image/png;base64,','uFxTd','10px','ZHXxa','saSJs','XargI','concat','TIMESTAMP','lastChanged','ysWiQ','sdMeA','wPCOW','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','error','/announcement','update','pFwqQ','profiles/','system-msg','<small>','VmUrI','RzMoY','eyIdm','sGRez','profileDescriptionInput','fontSize','dGZhl','zhYla','contains','setItem','SHA-256','vhhTo','cRcTA','tTkQk','rUYqL','\x27,\x205)\x22>Mute\x205m</button>','CNmAz','Already\x20have\x20an\x20account?\x20Login','UVboA','bFSXg','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','1623699nxhRkI','remove','FROOY','oSixH','nbVvy','cqVYI','ZKzmh','IpbHV','dIxZP','HYQuK','mouseenter','onlineStatus','yuZxD','xsESC','dev','tcwOw','hqaEh','permission','Qhyiu','jSqxg','G-QDESJ2WR42','\x20was\x20demoted','2pRBrHZ','Enter\x20email\x20and\x20username\x20first.','\x20promoted\x20to\x20Moderator!'];_0x4560=function(){return _0x5c2a4b;};return _0x4560();}const messaging=firebase[_0x26c91d(0x4b0)](),db=firebase[_0x26c91d(0x2c9)]();emailjs[_0x26c91d(0x3e3)]('c1EG9jBJFQSM_dFHY');let deviceId=null;((async()=>{const _0x347de8=_0x26c91d,_0x7277a={'BFQJs':function(_0x160257){return _0x160257();}};deviceId=await _0x7277a[_0x347de8(0x270)](generateDeviceId);})());const swearWords=[_0x26c91d(0x2f2),_0x26c91d(0x268),_0x26c91d(0x4b9),_0x26c91d(0x2b4),'bastard','dick',_0x26c91d(0x2da),'puta',_0x26c91d(0x3bf),_0x26c91d(0x4c4),_0x26c91d(0x44d),'cabron','gilipollas',_0x26c91d(0x3f9),_0x26c91d(0x432),'merda',_0x26c91d(0x3bc),_0x26c91d(0x3e5),'otario','putangina','gago',_0x26c91d(0x2e2),_0x26c91d(0x472),_0x26c91d(0x263),'bwisit',_0x26c91d(0x1ce)],style=document[_0x26c91d(0x27e)](_0x26c91d(0x3b3));style[_0x26c91d(0x2c3)]='\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a',document['head']['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x26c91d(0x3db)]()[_0x26c91d(0x48b)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x26c91d(0x303)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x26c91d(0x446),MAX_MESSAGES=0xfa,sound=new Audio(_0x26c91d(0x4a3));sound[_0x26c91d(0x49d)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x1913dc=_0x26c91d,_0x5ac873={'eKUKp':function(_0x1f6f39,_0x44b54b){return _0x1f6f39+_0x44b54b;},'wSRXf':function(_0x23b2eb,_0x401bb1){return _0x23b2eb+_0x401bb1;},'IUAlM':function(_0x18c11a,_0x3a0184){return _0x18c11a+_0x3a0184;}},_0x509380=_0x5ac873['eKUKp'](_0x5ac873['wSRXf'](navigator[_0x1913dc(0x2cc)],screen[_0x1913dc(0x26b)]),screen[_0x1913dc(0x1f8)]),_0x1531c2=await sha256(_0x509380);return _0x5ac873[_0x1913dc(0x30e)]('_',_0x1531c2['substr'](0x0,0x14));}function sha256(_0x23d7f5){const _0x514633=_0x26c91d,_0x22d328={'VIRDA':_0x514633(0x34f)},_0x5c05cd=new TextEncoder()[_0x514633(0x40c)](_0x23d7f5);return crypto[_0x514633(0x271)][_0x514633(0x277)](_0x22d328[_0x514633(0x406)],_0x5c05cd)[_0x514633(0x2a3)](_0x4cf3f2=>{const _0xcf1a58=_0x514633;return Array[_0xcf1a58(0x39e)](new Uint8Array(_0x4cf3f2))[_0xcf1a58(0x47c)](_0x43a93d=>_0x43a93d['toString'](0x10)[_0xcf1a58(0x46f)](0x2,'0'))[_0xcf1a58(0x283)]('');});}function toggleNotifications(){const _0x34d6ab=_0x26c91d,_0x47f1fa={'ALuoY':function(_0x44d048,_0x437856){return _0x44d048===_0x437856;},'NYUNO':'granted','jkUHj':_0x34d6ab(0x25e),'Qhyiu':_0x34d6ab(0x2cb),'gQGza':_0x34d6ab(0x279),'iCyWT':function(_0x1f9501,_0x2b099b){return _0x1f9501!==_0x2b099b;},'NUZgi':_0x34d6ab(0x41a),'Oowug':_0x34d6ab(0x4d2),'WZDbP':_0x34d6ab(0x2c1)};_0x47f1fa[_0x34d6ab(0x1ec)](Notification[_0x34d6ab(0x36b)],_0x47f1fa['NYUNO'])?Notification[_0x34d6ab(0x411)]()['then'](_0x2b4f64=>{const _0x314a9c=_0x34d6ab;_0x47f1fa[_0x314a9c(0x375)](_0x2b4f64,_0x47f1fa['NYUNO'])&&(notificationsEnabled=!![],localStorage[_0x314a9c(0x34e)](_0x47f1fa[_0x314a9c(0x229)],_0x314a9c(0x41a)),document[_0x314a9c(0x38b)](_0x47f1fa[_0x314a9c(0x36c)])['innerText']=_0x47f1fa[_0x314a9c(0x427)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x34d6ab(0x34e)](_0x47f1fa[_0x34d6ab(0x229)],notificationsEnabled?_0x47f1fa[_0x34d6ab(0x3fb)]:_0x47f1fa['Oowug']),document[_0x34d6ab(0x38b)](_0x47f1fa['Qhyiu'])[_0x34d6ab(0x275)]=notificationsEnabled?_0x47f1fa['gQGza']:_0x47f1fa['WZDbP']);}function toggleAuthMode(){const _0x5bba14=_0x26c91d,_0x22169e={'mqQRD':_0x5bba14(0x3df),'FnWJG':_0x5bba14(0x483),'PEecy':'Login','UJgQJ':_0x5bba14(0x2af),'UgLGs':'block','jSqxg':_0x5bba14(0x3d3),'NtDpe':_0x5bba14(0x25c),'whuhd':_0x5bba14(0x3d9),'KhoUa':_0x5bba14(0x1c7),'Tpkas':_0x5bba14(0x416),'eqVsC':_0x5bba14(0x2f8),'WUsxL':_0x5bba14(0x2c4),'aOyaw':_0x5bba14(0x31b),'uzxqQ':_0x5bba14(0x1d7),'QEkdg':_0x5bba14(0x356),'iOwgv':'Don\x27t\x20have\x20an\x20account?\x20Register'},_0x251ed4='6|4|3|2|9|8|1|10|11|7|0|5|12'['split']('|');let _0x210715=0x0;while(!![]){switch(_0x251ed4[_0x210715++]){case'0':document[_0x5bba14(0x38b)](_0x22169e[_0x5bba14(0x31a)])[_0x5bba14(0x275)]=isRegisterMode?_0x22169e['FnWJG']:_0x22169e[_0x5bba14(0x4cc)];continue;case'1':document['getElementById'](_0x22169e[_0x5bba14(0x25b)])['style'][_0x5bba14(0x447)]=isRegisterMode?_0x22169e['UgLGs']:_0x22169e[_0x5bba14(0x36d)];continue;case'2':document['getElementById'](_0x22169e[_0x5bba14(0x3c6)])[_0x5bba14(0x3b3)]['display']=isRegisterMode?_0x5bba14(0x3b0):_0x22169e[_0x5bba14(0x36d)];continue;case'3':document[_0x5bba14(0x38b)](_0x22169e[_0x5bba14(0x4e0)])[_0x5bba14(0x3b3)]['display']=isRegisterMode?_0x5bba14(0x3b0):_0x22169e[_0x5bba14(0x36d)];continue;case'4':document[_0x5bba14(0x38b)](_0x22169e[_0x5bba14(0x1d2)])[_0x5bba14(0x275)]=isRegisterMode?_0x22169e[_0x5bba14(0x39f)]:_0x22169e[_0x5bba14(0x4cc)];continue;case'5':document[_0x5bba14(0x38b)](_0x5bba14(0x4b6))[_0x5bba14(0x3b3)]['display']=_0x22169e[_0x5bba14(0x36d)];continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x5bba14(0x38b)](_0x22169e[_0x5bba14(0x20d)])[_0x5bba14(0x3b3)][_0x5bba14(0x447)]=_0x22169e[_0x5bba14(0x4ce)];continue;case'8':document[_0x5bba14(0x38b)](_0x22169e[_0x5bba14(0x232)])[_0x5bba14(0x3b3)][_0x5bba14(0x447)]=isRegisterMode?_0x22169e[_0x5bba14(0x4ce)]:_0x22169e[_0x5bba14(0x36d)];continue;case'9':document[_0x5bba14(0x38b)](_0x22169e['aOyaw'])['style'][_0x5bba14(0x447)]=isRegisterMode?_0x22169e[_0x5bba14(0x4ce)]:_0x22169e[_0x5bba14(0x36d)];continue;case'10':document[_0x5bba14(0x38b)](_0x5bba14(0x2a7))['style']['display']=isRegisterMode?_0x5bba14(0x3b0):_0x22169e[_0x5bba14(0x36d)];continue;case'11':document['getElementById'](_0x22169e[_0x5bba14(0x3c1)])[_0x5bba14(0x3b3)]['display']=_0x5bba14(0x3d3);continue;case'12':document[_0x5bba14(0x38b)](_0x5bba14(0x1e6))[_0x5bba14(0x275)]=isRegisterMode?_0x22169e[_0x5bba14(0x478)]:_0x22169e['iOwgv'];continue;}break;}}function previewAvatar(){const _0x49d6f1=_0x26c91d,_0x562369={'CNmAz':_0x49d6f1(0x1d7),'kjgmD':'block','nGFFo':_0x49d6f1(0x2a7)},_0x18e74b=document[_0x49d6f1(0x38b)](_0x562369['nGFFo']);if(!_0x18e74b[_0x49d6f1(0x2ce)][_0x49d6f1(0x281)])return;const _0x3d71b6=new FileReader();_0x3d71b6[_0x49d6f1(0x47a)]=()=>{const _0x369fbe=_0x49d6f1;document['getElementById'](_0x369fbe(0x1d7))['src']=_0x3d71b6[_0x369fbe(0x423)],document[_0x369fbe(0x38b)](_0x562369[_0x369fbe(0x355)])['style'][_0x369fbe(0x447)]=_0x562369['kjgmD'];},_0x3d71b6[_0x49d6f1(0x3e7)](_0x18e74b[_0x49d6f1(0x2ce)][0x0]);}async function sendVerificationCode(){const _0x770675=_0x26c91d,_0x4a4f5d={'ksOUx':_0x770675(0x3d9),'MGjRr':_0x770675(0x2f8),'tCgPq':_0x770675(0x4b6),'kogrt':'none','PWJcG':function(_0x30a8c7,_0x16a1b0){return _0x30a8c7||_0x16a1b0;},'hdKRX':_0x770675(0x371),'luKFq':function(_0x69d62a,_0x181c0b){return _0x69d62a+_0x181c0b;},'EjPlC':function(_0x3f064b,_0x580974){return _0x3f064b*_0x580974;},'PYiLK':_0x770675(0x2d7),'SqkfX':function(_0x2318ca,_0x369eb5){return _0x2318ca(_0x369eb5);},'hQlNd':_0x770675(0x3b0),'Bjelx':_0x770675(0x2bd)},_0x9a1140=document[_0x770675(0x38b)](_0x4a4f5d[_0x770675(0x208)])[_0x770675(0x22b)][_0x770675(0x462)](),_0x2aa23a=document['getElementById'](_0x4a4f5d[_0x770675(0x441)])['value'][_0x770675(0x462)](),_0x487bc2=document[_0x770675(0x38b)](_0x4a4f5d[_0x770675(0x1fe)]);_0x487bc2['style']['display']=_0x4a4f5d['kogrt'];if(_0x4a4f5d['PWJcG'](!_0x9a1140,!_0x2aa23a)){_0x487bc2[_0x770675(0x275)]=_0x4a4f5d[_0x770675(0x251)],_0x487bc2['style']['display']='block';return;}const _0x4a1470=Math['floor'](_0x4a4f5d[_0x770675(0x4bb)](0x186a0,_0x4a4f5d[_0x770675(0x4b3)](Math[_0x770675(0x3db)](),0xdbba0)))[_0x770675(0x48b)]();lastVerificationCode=_0x4a1470;try{await emailjs[_0x770675(0x311)](_0x4a4f5d[_0x770675(0x30f)],_0x770675(0x44c),{'to_email':_0x9a1140,'to_name':_0x2aa23a,'message':_0x4a1470}),_0x4a4f5d[_0x770675(0x387)](alert,_0x770675(0x250)),document['getElementById']('authVerificationCode')[_0x770675(0x3b3)]['display']=_0x4a4f5d[_0x770675(0x38c)];}catch(_0x39c094){_0x487bc2[_0x770675(0x275)]=_0x4a4f5d[_0x770675(0x1c5)],_0x487bc2[_0x770675(0x3b3)][_0x770675(0x447)]=_0x770675(0x3b0),console[_0x770675(0x33e)](_0x39c094);}}async function submitAuth(){const _0x4e2c47=_0x26c91d,_0x5d7142={'dXahU':_0x4e2c47(0x3d9),'SBpkg':_0x4e2c47(0x2f8),'NZSqO':_0x4e2c47(0x438),'Pmslf':_0x4e2c47(0x2c4),'BPUUI':_0x4e2c47(0x31b),'CoswK':_0x4e2c47(0x4b6),'hCYzS':'none','FWYMr':_0x4e2c47(0x202),'kbgOv':function(_0x1988e3,_0x2a89f4){return _0x1988e3!==_0x2a89f4;},'yPjIM':_0x4e2c47(0x4c7),'gfBmx':function(_0x2dc1c6,_0x226132){return _0x2dc1c6!==_0x226132;},'nuXnP':'block','SShgf':function(_0x8e61a6,_0x4761f5){return _0x8e61a6+_0x4761f5;},'rthmT':_0x4e2c47(0x43d),'cRcTA':function(_0x3d05db,_0x367723){return _0x3d05db(_0x367723);},'FbofR':_0x4e2c47(0x239),'OdeIc':function(_0x418090){return _0x418090();},'gKMpm':_0x4e2c47(0x201),'rEZKO':function(_0x284f21,_0x2a3a66){return _0x284f21+_0x2a3a66;},'jEyXK':'Email\x20not\x20verified.'},_0x661abd=document['getElementById'](_0x5d7142[_0x4e2c47(0x22a)])[_0x4e2c47(0x22b)][_0x4e2c47(0x462)](),_0xe10c2f=document[_0x4e2c47(0x38b)](_0x5d7142['SBpkg'])[_0x4e2c47(0x22b)][_0x4e2c47(0x462)](),_0x1edb79=document[_0x4e2c47(0x38b)](_0x5d7142[_0x4e2c47(0x47b)])[_0x4e2c47(0x22b)][_0x4e2c47(0x462)](),_0x2b6a26=document[_0x4e2c47(0x38b)](_0x5d7142['Pmslf'])[_0x4e2c47(0x22b)][_0x4e2c47(0x462)](),_0x142081=document[_0x4e2c47(0x38b)](_0x5d7142[_0x4e2c47(0x31e)])['value'][_0x4e2c47(0x462)](),_0x599f88=document['getElementById'](_0x5d7142[_0x4e2c47(0x31c)]);_0x599f88[_0x4e2c47(0x3b3)][_0x4e2c47(0x447)]=_0x5d7142[_0x4e2c47(0x28b)];if(isRegisterMode){if(!_0x661abd||!_0xe10c2f||!_0x1edb79||!_0x2b6a26||!_0x142081){_0x599f88[_0x4e2c47(0x275)]=_0x5d7142[_0x4e2c47(0x3da)],_0x599f88[_0x4e2c47(0x3b3)][_0x4e2c47(0x447)]=_0x4e2c47(0x3b0);return;}if(_0x5d7142[_0x4e2c47(0x276)](_0x1edb79,_0x2b6a26)){_0x599f88[_0x4e2c47(0x275)]=_0x5d7142[_0x4e2c47(0x2ae)],_0x599f88[_0x4e2c47(0x3b3)]['display']=_0x4e2c47(0x3b0);return;}if(_0x5d7142[_0x4e2c47(0x3b5)](_0x142081,lastVerificationCode)){_0x599f88[_0x4e2c47(0x275)]=_0x4e2c47(0x41d),_0x599f88['style'][_0x4e2c47(0x447)]=_0x5d7142[_0x4e2c47(0x4d3)];return;}try{const _0x3fa47e=await firebase[_0x4e2c47(0x1e3)]()[_0x4e2c47(0x32f)](_0x661abd,_0x1edb79),_0x196192=_0x3fa47e[_0x4e2c47(0x2a0)],_0x15cf18=sanitizeUsername(_0xe10c2f);await db['ref'](_0x5d7142[_0x4e2c47(0x2a1)](_0x5d7142[_0x4e2c47(0x3ce)],_0x15cf18))[_0x4e2c47(0x4ad)]({'username':_0xe10c2f,'email':_0x661abd,'createdAt':Date[_0x4e2c47(0x303)]()}),await firebase[_0x4e2c47(0x1e3)]()[_0x4e2c47(0x2c8)](),_0x5d7142[_0x4e2c47(0x351)](alert,_0x5d7142[_0x4e2c47(0x300)]),_0x5d7142[_0x4e2c47(0x21b)](toggleAuthMode);}catch(_0x4d32a3){_0x599f88['innerText']=_0x4d32a3[_0x4e2c47(0x3a2)],_0x599f88[_0x4e2c47(0x3b3)][_0x4e2c47(0x447)]=_0x5d7142[_0x4e2c47(0x4d3)];}}else{const _0x35e57b=document[_0x4e2c47(0x38b)](_0x5d7142['SBpkg'])['value'][_0x4e2c47(0x462)]();if(!_0x35e57b||!_0x1edb79){_0x599f88[_0x4e2c47(0x275)]=_0x5d7142[_0x4e2c47(0x314)],_0x599f88[_0x4e2c47(0x3b3)][_0x4e2c47(0x447)]=_0x4e2c47(0x3b0);return;}try{const _0xa55b07=await db[_0x4e2c47(0x3ac)](_0x5d7142[_0x4e2c47(0x2c0)](_0x5d7142[_0x4e2c47(0x3ce)],sanitizeUsername(_0x35e57b)))['get']();if(!_0xa55b07[_0x4e2c47(0x286)]())throw new Error(_0x4e2c47(0x323));const _0x5b2e2b=_0xa55b07[_0x4e2c47(0x392)]()[_0x4e2c47(0x37b)],_0x35b30e=await firebase[_0x4e2c47(0x1e3)]()[_0x4e2c47(0x2db)](_0x5b2e2b,_0x1edb79),_0x712f1e=_0x35b30e['user'];if(!_0x712f1e[_0x4e2c47(0x269)]){await firebase[_0x4e2c47(0x1e3)]()[_0x4e2c47(0x2c8)]();throw new Error(_0x5d7142['jEyXK']);}username=_0x35e57b,startAfterAuth();}catch(_0x489505){_0x599f88[_0x4e2c47(0x275)]=_0x489505['message'],_0x599f88[_0x4e2c47(0x3b3)][_0x4e2c47(0x447)]=_0x5d7142[_0x4e2c47(0x4d3)];}}}async function saveNewUser(_0x39d6d4,_0x510165,_0x6df08f,_0x11859a,_0x203145){const _0xb28ad8=_0x26c91d,_0x261db0={'XoYLZ':function(_0x472732,_0x2f364d){return _0x472732(_0x2f364d);},'xBsmq':_0xb28ad8(0x2a0),'ZvqfN':function(_0x48a49a,_0x440c23){return _0x48a49a||_0x440c23;},'UZcfQ':function(_0x5983f6){return _0x5983f6();}},_0x508c1e=db['ref']('auth/'+_0x261db0['XoYLZ'](sanitizeUsername,_0x39d6d4)),_0x4d52ea={'username':_0x39d6d4,'passwordHash':_0x510165,'role':_0x261db0[_0xb28ad8(0x40f)],'deviceId':_0x6df08f,'description':_0x203145||'','avatarBase64':_0x261db0[_0xb28ad8(0x231)](_0x11859a,''),'usernameHistory':[_0x39d6d4],'lastChanged':Date[_0xb28ad8(0x303)]()};await _0x508c1e['set'](_0x4d52ea),username=_0x39d6d4,_0x11859a=_0x4d52ea[_0xb28ad8(0x431)],userDescription=_0x4d52ea['description'],_0x261db0[_0xb28ad8(0x257)](startAfterAuth);}async function startAfterAuth(){const _0x5acf73=_0x26c91d,_0x55df27={'iGioI':function(_0xfac487,_0x18ffe6){return _0xfac487(_0x18ffe6);},'XJxnr':_0x5acf73(0x2a0),'DDeYD':_0x5acf73(0x3de),'JSmYu':_0x5acf73(0x3b0),'hMVWQ':_0x5acf73(0x425),'zhYla':_0x5acf73(0x216),'pAtzX':_0x5acf73(0x1cf)},_0x3d8e50=_0x55df27[_0x5acf73(0x30a)](sanitizeUsername,username),_0x1b4218=db[_0x5acf73(0x3ac)](_0x5acf73(0x2ea)+_0x3d8e50),_0x26c427=await _0x1b4218['get']();if(_0x26c427['exists']()){const _0x5cd3c7=_0x26c427[_0x5acf73(0x392)]();username=_0x5cd3c7[_0x5acf73(0x39a)],userDescription=_0x5cd3c7[_0x5acf73(0x2f0)]||'',avatarBase64=_0x5cd3c7[_0x5acf73(0x431)]||'',role=_0x5cd3c7[_0x5acf73(0x470)]||_0x55df27[_0x5acf73(0x2e4)];if(avatarBase64){const _0x5cdaba=document[_0x5acf73(0x38b)](_0x55df27['DDeYD']);_0x5cdaba['src']=_0x5acf73(0x331)+avatarBase64,_0x5cdaba[_0x5acf73(0x3b3)]['display']=_0x55df27[_0x5acf73(0x266)];}}else console[_0x5acf73(0x3b7)](_0x55df27[_0x5acf73(0x1e7)]);await loadRoomRoles(),document[_0x5acf73(0x38b)](_0x55df27[_0x5acf73(0x34c)])['innerText']=username,_0x55df27[_0x5acf73(0x30a)](showScreen,_0x55df27['pAtzX']);}function toggleRecording(){const _0x1a6e00=_0x26c91d,_0x198046={'fFcMZ':_0x1a6e00(0x43a),'UqCvq':function(_0x3c78ae,_0x512d34){return _0x3c78ae(_0x512d34);},'mtYoy':_0x1a6e00(0x3d0),'HmLRt':function(_0x58f59c){return _0x58f59c();}};isRecording?_0x198046[_0x1a6e00(0x42b)](stopRecording):navigator['mediaDevices']['getUserMedia']({'audio':!![]})[_0x1a6e00(0x2a3)](_0x432caa=>{const _0x1ff6c4=_0x1a6e00,_0x434427={'FfleV':_0x1ff6c4(0x46d)};mediaRecorder=new MediaRecorder(_0x432caa),mediaRecorder['start'](),isRecording=!![],document[_0x1ff6c4(0x38b)](_0x198046['fFcMZ'])[_0x1ff6c4(0x275)]='‚èπÔ∏è',audioChunks=[],mediaRecorder['ondataavailable']=_0x50af5c=>audioChunks[_0x1ff6c4(0x3d1)](_0x50af5c[_0x1ff6c4(0x213)]),mediaRecorder[_0x1ff6c4(0x3b1)]=()=>{const _0x346331=_0x1ff6c4;clearTimeout(recordingTimer);const _0x53cefa=new Blob(audioChunks,{'type':_0x434427[_0x346331(0x29c)]}),_0x4ef376=new FileReader();_0x4ef376[_0x346331(0x47a)]=()=>{const _0x56618b=_0x346331,_0xc6b610=_0x4ef376['result'][_0x56618b(0x437)](',')[0x1],_0x156e42=db[_0x56618b(0x3ac)]()[_0x56618b(0x3d1)]()[_0x56618b(0x30c)];db['ref'](_0x56618b(0x2b9)+roomCode+_0x56618b(0x2d0)+_0x156e42)[_0x56618b(0x4ad)]({'msg':_0x56618b(0x46c),'audioBase64':_0xc6b610,'sender':username,'senderId':clientId,'timestamp':Date[_0x56618b(0x303)]()});},_0x4ef376[_0x346331(0x3e7)](_0x53cefa);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})[_0x1a6e00(0x2df)](_0xccee25=>{const _0x46962f=_0x1a6e00;_0x198046['UqCvq'](alert,_0x198046[_0x46962f(0x2a2)]);});}function stopRecording(){const _0x3d4fab=_0x26c91d;mediaRecorder&&isRecording&&(mediaRecorder['stop'](),isRecording=![],document[_0x3d4fab(0x38b)]('recordBtn')[_0x3d4fab(0x275)]=_0x3d4fab(0x219));}window['onload']=async()=>{const _0x4359e6=_0x26c91d,_0xbd79ef={'ncJAm':function(_0x99020){return _0x99020();},'vzUKx':_0x4359e6(0x25e),'GgjoJ':function(_0x29dd6f,_0x46684f){return _0x29dd6f===_0x46684f;},'IklKM':'true','jpiqB':function(_0x24b44f,_0x45717d){return _0x24b44f(_0x45717d);},'qpKZb':_0x4359e6(0x293)};_0xbd79ef['ncJAm'](cleanupOldRooms),setupSidebarBackHandler(),setupVisibilityAttention(),_0xbd79ef[_0x4359e6(0x258)](resetWebsiteData);const _0xd99c4a=localStorage[_0x4359e6(0x1dc)](_0xbd79ef[_0x4359e6(0x3e4)]);notificationsEnabled=_0xbd79ef[_0x4359e6(0x3b4)](_0xd99c4a,_0xbd79ef[_0x4359e6(0x20c)]),isRegisterMode=![],toggleAuthMode(),_0xbd79ef[_0x4359e6(0x398)](showScreen,_0xbd79ef[_0x4359e6(0x26e)]);};function sanitizeUsername(_0x53deb5){const _0x3cb49c=_0x26c91d;return _0x53deb5[_0x3cb49c(0x1de)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3e7816=_0x26c91d,_0x3a303e={'egIOT':'‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','DTGwH':'block','UlqCC':_0x3e7816(0x39d),'icYqR':_0x3e7816(0x1cf),'YsUHt':_0x3e7816(0x379),'jQnQh':'namePreview','ecFLn':_0x3e7816(0x27a),'hDcon':'profileUsernameInput','QOtoy':_0x3e7816(0x349),'Fqald':_0x3e7816(0x21e),'veVnE':function(_0x470270,_0x2bdcb5){return _0x470270||_0x2bdcb5;},'RrvSH':_0x3e7816(0x240),'tneld':function(_0x19182c,_0x181aff){return _0x19182c(_0x181aff);},'EooOA':_0x3e7816(0x22b)},_0x5b94b9=document['getElementById'](_0x3a303e['hDcon'])[_0x3e7816(0x22b)][_0x3e7816(0x462)](),_0x380821=document['getElementById'](_0x3a303e[_0x3e7816(0x424)])[_0x3e7816(0x22b)][_0x3e7816(0x462)](),_0x5d1a1f=document['getElementById'](_0x3a303e[_0x3e7816(0x38f)]);if(_0x3a303e['veVnE'](!_0x5b94b9,!_0x380821)){_0x5d1a1f[_0x3e7816(0x275)]=_0x3a303e[_0x3e7816(0x3a3)],_0x5d1a1f[_0x3e7816(0x3b3)][_0x3e7816(0x447)]=_0x3a303e[_0x3e7816(0x482)];return;}const _0x2718fd=_0x3a303e[_0x3e7816(0x315)](sanitizeUsername,_0x5b94b9),_0x60c295=db[_0x3e7816(0x3ac)](_0x3e7816(0x342)+_0x2718fd);_0x60c295['once'](_0x3a303e[_0x3e7816(0x3e6)])[_0x3e7816(0x2a3)](_0x4a2d31=>{const _0x33f25f=_0x3e7816;if(_0x4a2d31['exists']())_0x5d1a1f[_0x33f25f(0x275)]='‚ùå\x20Username\x20already\x20taken.',_0x5d1a1f[_0x33f25f(0x3b3)][_0x33f25f(0x447)]=_0x3a303e[_0x33f25f(0x482)];else{const _0x5ea3f8={'username':_0x5b94b9,'description':_0x380821,'lastChanged':Date[_0x33f25f(0x303)](),'usernameHistory':[_0x5b94b9]};_0x60c295[_0x33f25f(0x4ad)](_0x5ea3f8,_0xb0cb70=>{const _0x33a20e=_0x33f25f;if(_0xb0cb70)console[_0x33a20e(0x33e)]('Failed\x20to\x20save\x20profile:',_0xb0cb70),_0x5d1a1f['innerText']=_0x3a303e[_0x33a20e(0x4d4)],_0x5d1a1f[_0x33a20e(0x3b3)]['display']=_0x3a303e[_0x33a20e(0x482)];else{const _0x2e65a4=_0x3a303e['UlqCC'][_0x33a20e(0x437)]('|');let _0x5903ac=0x0;while(!![]){switch(_0x2e65a4[_0x5903ac++]){case'0':showScreen(_0x3a303e[_0x33a20e(0x207)]);continue;case'1':username=_0x5b94b9;continue;case'2':localStorage[_0x33a20e(0x34e)](_0x3a303e[_0x33a20e(0x2c5)],_0x380821);continue;case'3':document['getElementById'](_0x3a303e[_0x33a20e(0x45e)])[_0x33a20e(0x275)]=_0x5b94b9;continue;case'4':localStorage[_0x33a20e(0x34e)](_0x33a20e(0x3cb),_0x5b94b9);continue;}break;}}});}})[_0x3e7816(0x2df)](_0x5179d5=>{const _0x3ef92a=_0x3e7816;console['error'](_0x3a303e[_0x3ef92a(0x3ec)],_0x5179d5),_0x5d1a1f['innerText']=_0x3ef92a(0x408),_0x5d1a1f['style']['display']=_0x3a303e[_0x3ef92a(0x482)];});}function saveProfile(_0x28e994,_0x22609b,_0x55d520){const _0x287c8f=_0x26c91d,_0x3743ee={'JCRTN':function(_0x288aab,_0x1cae10){return _0x288aab(_0x1cae10);},'ZmAJj':_0x287c8f(0x1cf)},_0x328526=Date[_0x287c8f(0x303)](),_0x4039a8=[_0x28e994];db[_0x287c8f(0x3ac)](_0x287c8f(0x342)+_0x55d520)[_0x287c8f(0x4ad)]({'username':_0x28e994,'description':_0x22609b,'lastChanged':_0x328526,'usernameHistory':_0x4039a8}),document[_0x287c8f(0x38b)](_0x287c8f(0x216))['innerText']=_0x28e994,_0x3743ee[_0x287c8f(0x393)](showScreen,_0x3743ee[_0x287c8f(0x29e)]);}function generateRoom(){const _0x15ad35=_0x26c91d,_0x40d282={'zEvnY':function(_0x151b45){return _0x151b45();},'mMJeD':function(_0x36813a){return _0x36813a();}};roomCode=_0x40d282[_0x15ad35(0x494)](genRoomCode),db['ref'](_0x15ad35(0x2b9)+roomCode)[_0x15ad35(0x4ad)]({'active':!![],'created':Date['now']()}),_0x40d282[_0x15ad35(0x227)](startChat);}function joinRoom(){const _0x5f32d3=_0x26c91d,_0x1e592a={'lPSCo':function(_0x2b994e,_0x2dd7a2){return _0x2b994e!==_0x2dd7a2;},'sXYfD':function(_0x4b08e3){return _0x4b08e3();},'FKiAf':function(_0x2dcabe,_0x9d41ef){return _0x2dcabe(_0x9d41ef);},'tEYKq':function(_0x456e60,_0x1af216){return _0x456e60===_0x1af216;},'fbSed':_0x5f32d3(0x37a),'pTZxG':function(_0x42214a,_0x4c6694){return _0x42214a+_0x4c6694;},'tzzdV':_0x5f32d3(0x2b9)},_0x163fa2=roomCode||document['getElementById']('roomCodeInput')[_0x5f32d3(0x22b)][_0x5f32d3(0x462)]()[_0x5f32d3(0x4d6)]();if(!_0x163fa2)return _0x1e592a[_0x5f32d3(0x1f6)](alert,_0x5f32d3(0x1d6));roomCode=_0x163fa2;if(_0x1e592a[_0x5f32d3(0x4d7)](roomCode,STATIC_ROOM)){_0x1e592a['FKiAf'](showScreen,_0x1e592a[_0x5f32d3(0x4a9)]);return;}db[_0x5f32d3(0x3ac)](_0x1e592a[_0x5f32d3(0x381)](_0x1e592a[_0x5f32d3(0x4cf)],roomCode))[_0x5f32d3(0x2d3)]()[_0x5f32d3(0x2a3)](_0x26dcb9=>{const _0x16f398=_0x5f32d3;_0x26dcb9[_0x16f398(0x286)]()&&_0x1e592a[_0x16f398(0x47e)](_0x26dcb9[_0x16f398(0x392)]()[_0x16f398(0x206)],![])?_0x1e592a[_0x16f398(0x28d)](startChat):alert(_0x16f398(0x1d1));});}function _0x1830(_0x1d12fc,_0x1abcfe){const _0x4560a0=_0x4560();return _0x1830=function(_0x18304c,_0x26bb65){_0x18304c=_0x18304c-0x1c4;let _0x4b8162=_0x4560a0[_0x18304c];return _0x4b8162;},_0x1830(_0x1d12fc,_0x1abcfe);}async function startChat(){const _0x593eb6=_0x26c91d,_0x5e71be={'fqkLa':function(_0x52e174,_0x22a286){return _0x52e174===_0x22a286;},'fTmhU':_0x593eb6(0x200),'AOnhW':'dev','mIKDl':function(_0x28d17d,_0x2b0876){return _0x28d17d(_0x2b0876);},'LfsxJ':_0x593eb6(0x310),'kAoVf':function(_0x45c6dd){return _0x45c6dd();},'kwDQJ':'sidebarAvatarPreview','MTiva':function(_0x2defde,_0x15f056){return _0x2defde+_0x15f056;},'YGvPA':_0x593eb6(0x331),'eyIdm':'block','EwPQd':_0x593eb6(0x46a),'bgKpq':_0x593eb6(0x44a),'ZHXxa':function(_0x5cd5dd,_0x1740b6){return _0x5cd5dd===_0x1740b6;},'uVcxL':_0x593eb6(0x1fb),'tjZTq':_0x593eb6(0x2f6),'GEPls':'chatScreen','leygU':'announcementArea','uFxTd':'click','hqaEh':_0x593eb6(0x21f),'bFSXg':_0x593eb6(0x1e3),'tRPWj':_0x593eb6(0x2ed),'hiNjY':function(_0x583e1d,_0x2e6816){return _0x583e1d||_0x2e6816;},'DJZRs':_0x593eb6(0x40a),'vUpcf':function(_0x3f0203,_0x2719ca){return _0x3f0203(_0x2719ca);},'YOvSL':_0x593eb6(0x1cf),'VmUrI':function(_0x443efa){return _0x443efa();},'IBncc':function(_0x25b29d){return _0x25b29d();},'vxiEc':function(_0x51ba3d,_0x5899d0){return _0x51ba3d(_0x5899d0);}};if(_0x5e71be[_0x593eb6(0x4b1)](!roomCode,!username))return alert(_0x5e71be['DJZRs']),_0x5e71be[_0x593eb6(0x2a9)](showScreen,_0x5e71be['YOvSL']);_0x5e71be[_0x593eb6(0x345)](listenForPauseState),_0x5e71be[_0x593eb6(0x345)](listenForUserList),await loadRoomRoles(),_0x5e71be[_0x593eb6(0x27f)](listenForAnnouncement);const _0x172ae9=_0x5e71be['vxiEc'](sanitizeUsername,username),_0x1b5420=db[_0x593eb6(0x3ac)](_0x593eb6(0x43d)+roomCode+'/'+_0x172ae9),_0x4109a9={'username':username,'online':!![],'lastOnline':firebase[_0x593eb6(0x2c9)][_0x593eb6(0x2dd)][_0x593eb6(0x338)]};_0x1b5420[_0x593eb6(0x4ad)](_0x4109a9,_0x77babb=>{const _0x51c584=_0x593eb6,_0x463b13={'KcMnV':function(_0x5cfd33,_0x4170b9){return _0x5cfd33===_0x4170b9;},'nGvdj':function(_0x13d211,_0x1356db){const _0x468c59=_0x1830;return _0x5e71be[_0x468c59(0x2f5)](_0x13d211,_0x1356db);},'sbmye':_0x5e71be[_0x51c584(0x4aa)],'ZKzmh':_0x5e71be[_0x51c584(0x3ea)],'fdztc':function(_0x286825,_0x985309){return _0x5e71be['mIKDl'](_0x286825,_0x985309);},'nbVvy':_0x5e71be['LfsxJ'],'ywWPx':function(_0x1b39c7){const _0x98aefc=_0x51c584;return _0x5e71be[_0x98aefc(0x49c)](_0x1b39c7);},'RzWpa':function(_0x980068){return _0x980068();}};if(_0x77babb)return _0x5e71be[_0x51c584(0x31f)](alert,_0x51c584(0x4ae)),_0x5e71be[_0x51c584(0x31f)](showScreen,'roomChoiceScreen');const _0x2b8deb=document[_0x51c584(0x38b)](_0x5e71be[_0x51c584(0x421)]);avatarBase64&&(_0x2b8deb['src']=_0x5e71be[_0x51c584(0x490)](_0x5e71be[_0x51c584(0x2c2)],avatarBase64),_0x2b8deb[_0x51c584(0x3b3)]['display']=_0x5e71be[_0x51c584(0x347)]);document[_0x51c584(0x38b)](_0x5e71be[_0x51c584(0x2be)])[_0x51c584(0x2c3)]=username+'\x20'+_0x5e71be[_0x51c584(0x31f)](getRoleTag,_0x172ae9),document[_0x51c584(0x38b)](_0x5e71be[_0x51c584(0x25a)])[_0x51c584(0x275)]=_0x5e71be[_0x51c584(0x334)](roomCode,STATIC_ROOM)?_0x5e71be['uVcxL']:roomCode,_0x5e71be[_0x51c584(0x49c)](updateAnnouncementVisibility);const _0x541500=db[_0x51c584(0x3ac)]()['push']()[_0x51c584(0x30c)];db[_0x51c584(0x3ac)](_0x51c584(0x2b9)+roomCode+'/messages/'+_0x541500)[_0x51c584(0x4ad)]({'msg':username+_0x51c584(0x320),'sender':_0x5e71be[_0x51c584(0x37f)],'senderId':_0x5e71be[_0x51c584(0x37f)],'timestamp':Date[_0x51c584(0x303)]()}),_0x5e71be['mIKDl'](showScreen,_0x5e71be[_0x51c584(0x3d5)]),document[_0x51c584(0x38b)](_0x5e71be[_0x51c584(0x3f0)])[_0x51c584(0x4ba)](_0x5e71be[_0x51c584(0x332)],_0x242d8a=>{const _0x209789=_0x51c584;_0x463b13[_0x209789(0x221)](_0x242d8a['detail'],0x3)&&(_0x463b13[_0x209789(0x457)](role,_0x463b13[_0x209789(0x24b)])||role===_0x463b13[_0x209789(0x360)])&&(_0x463b13[_0x209789(0x3ed)](confirm,_0x463b13[_0x209789(0x35e)])&&db[_0x209789(0x3ac)](_0x209789(0x2b9)+roomCode+'/announcement')[_0x209789(0x35b)]()[_0x209789(0x2a3)](()=>{const _0x3d9eaa=_0x209789;document[_0x3d9eaa(0x38b)](_0x3d9eaa(0x26f))[_0x3d9eaa(0x275)]='';}));}),_0x5e71be['kAoVf'](listenForMessages),_0x5e71be[_0x51c584(0x49c)](listenForTyping),_0x5e71be['kAoVf'](startInactivityTimer),_0x5e71be['kAoVf'](trackPresence),watchProfileChanges(),_0x5e71be[_0x51c584(0x49c)](watchMuteStatus),startSidebarSyncLoop();const _0x19d16a=()=>{const _0x20fa45=_0x51c584;_0x463b13[_0x20fa45(0x3af)](loadRoomRoles)['then'](()=>{const _0x5d7a1d=_0x20fa45;_0x463b13[_0x5d7a1d(0x3ed)](renderUserLists,roomUsers),_0x463b13[_0x5d7a1d(0x209)](updateAnnouncementVisibility);});};db['ref']('auth')['on'](_0x5e71be[_0x51c584(0x36a)],_0x19d16a),db[_0x51c584(0x3ac)](_0x5e71be[_0x51c584(0x358)])['on'](_0x5e71be[_0x51c584(0x3d4)],_0x19d16a);});}function updateAnnouncementVisibility(){const _0x21be16=_0x26c91d,_0x27d8c2={'FXLRv':_0x21be16(0x3fe),'SXgeX':function(_0x2fb3e0,_0x48bb99){return _0x2fb3e0===_0x48bb99;},'rVuXC':'admin','HyWnx':'dev','rTbyy':_0x21be16(0x3d3)},_0x16fc7a=document[_0x21be16(0x38b)](_0x27d8c2[_0x21be16(0x246)]);_0x27d8c2['SXgeX'](role,_0x27d8c2[_0x21be16(0x43f)])||_0x27d8c2['SXgeX'](role,_0x27d8c2[_0x21be16(0x378)])?_0x16fc7a[_0x21be16(0x3b3)][_0x21be16(0x447)]='block':_0x16fc7a['style'][_0x21be16(0x447)]=_0x27d8c2[_0x21be16(0x2b3)];}function watchProfileChanges(){const _0x60cbd7=_0x26c91d,_0x511b76={'tUHhe':_0x60cbd7(0x2a0),'XnLLt':_0x60cbd7(0x3de),'eZAFz':function(_0x4373e5,_0x3c9025){return _0x4373e5+_0x3c9025;},'TzeMx':_0x60cbd7(0x331),'guXbf':_0x60cbd7(0x3b0),'ZBUlU':function(_0x4bd1e4,_0x321210){return _0x4bd1e4(_0x321210);},'DqKzn':function(_0x3a5a47,_0x5cbffd){return _0x3a5a47(_0x5cbffd);},'uLXYk':_0x60cbd7(0x22b)},_0x219b34=_0x511b76[_0x60cbd7(0x4a4)](sanitizeUsername,username);db[_0x60cbd7(0x3ac)](_0x60cbd7(0x2ea)+_0x219b34)['on'](_0x511b76[_0x60cbd7(0x1f1)],_0x51fe0f=>{const _0x586eb7=_0x60cbd7;if(!_0x51fe0f['exists']())return;const _0x3279a9=_0x51fe0f[_0x586eb7(0x392)]();userDescription=_0x3279a9[_0x586eb7(0x2f0)]||'',avatarBase64=_0x3279a9[_0x586eb7(0x431)]||'',role=_0x3279a9[_0x586eb7(0x470)]||_0x511b76[_0x586eb7(0x376)];if(avatarBase64){const _0x8707d4=document[_0x586eb7(0x38b)](_0x511b76['XnLLt']);!_0x8707d4[_0x586eb7(0x2bb)][_0x586eb7(0x3a6)](avatarBase64)&&(_0x8707d4[_0x586eb7(0x2bb)]=_0x511b76[_0x586eb7(0x2ff)](_0x511b76[_0x586eb7(0x394)],avatarBase64),_0x8707d4[_0x586eb7(0x3b3)][_0x586eb7(0x447)]=_0x511b76[_0x586eb7(0x2ca)]);}_0x511b76['ZBUlU'](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x4e3722){const _0x44067f=_0x26c91d,_0x1fd4f1={'CZWAv':function(_0x242efe,_0x59192d){return _0x242efe<_0x59192d;},'yXyNh':function(_0x3e5a72,_0x416231){return _0x3e5a72(_0x416231);},'lbPEp':_0x44067f(0x22c),'cPXKM':function(_0x39bf1a,_0x45cb9c){return _0x39bf1a>_0x45cb9c;},'dlulG':function(_0x298f58,_0x4169a4){return _0x298f58*_0x4169a4;},'SkCQV':function(_0x5729b9,_0x1cd6ae){return _0x5729b9(_0x1cd6ae);},'JEcgg':_0x44067f(0x285)},_0x2e612d=Date[_0x44067f(0x303)]();if(_0x1fd4f1['CZWAv'](_0x2e612d-lastImageTime,0x2710)){_0x1fd4f1['yXyNh'](alert,_0x1fd4f1['lbPEp']);return;}lastImageTime=_0x2e612d;const _0x562c8a=_0x4e3722[_0x44067f(0x2ce)][0x0];if(!_0x562c8a||_0x1fd4f1[_0x44067f(0x1ff)](_0x562c8a['size'],_0x1fd4f1[_0x44067f(0x255)](0x2,0x400)*0x400)){_0x1fd4f1[_0x44067f(0x3e9)](alert,_0x1fd4f1[_0x44067f(0x26a)]);return;}const _0x43277a=new FileReader();_0x43277a[_0x44067f(0x47a)]=()=>{const _0x5edc34=_0x44067f,_0x2903d4=_0x43277a[_0x5edc34(0x423)]['split'](',')[0x1],_0x631ff8=db[_0x5edc34(0x3ac)]()['push']()[_0x5edc34(0x30c)];db[_0x5edc34(0x3ac)](_0x5edc34(0x2b9)+roomCode+_0x5edc34(0x2d0)+_0x631ff8)[_0x5edc34(0x4ad)]({'imageBase64':_0x2903d4,'sender':username,'senderId':clientId,'timestamp':Date[_0x5edc34(0x303)]()});},_0x43277a[_0x44067f(0x3e7)](_0x562c8a);}async function fetchProfile(_0x1a1ac4){const _0x5e8aa6=_0x26c91d,_0x1e1618=await db[_0x5e8aa6(0x3ac)](_0x5e8aa6(0x2ea)+_0x1a1ac4)['get']();if(!_0x1e1618['exists']())return null;return _0x1e1618['val']();}function validateStaticRoomPassword(){const _0x475a32=_0x26c91d,_0x429dbb={'LZlbI':function(_0x4ec7a6,_0x768e1f){return _0x4ec7a6(_0x768e1f);},'JAmZD':_0x475a32(0x3cd),'uCKNB':_0x475a32(0x2b0),'iQDNz':'block','XwUav':_0x475a32(0x1ea),'jpeSe':'Please\x20enter\x20the\x20password.'},_0x18298c=document['getElementById'](_0x429dbb[_0x475a32(0x405)])[_0x475a32(0x22b)][_0x475a32(0x462)]();if(!_0x18298c){_0x429dbb[_0x475a32(0x2e0)](alert,_0x429dbb[_0x475a32(0x407)]);return;}db[_0x475a32(0x3ac)](_0x475a32(0x3f3)+STATIC_ROOM)[_0x475a32(0x2d3)]()[_0x475a32(0x2a3)](_0x266794=>{const _0x1dae5f=_0x475a32;if(!_0x266794['exists']()){_0x429dbb[_0x1dae5f(0x2e0)](alert,_0x429dbb[_0x1dae5f(0x3ad)]);return;}const _0x3840aa=_0x266794[_0x1dae5f(0x392)]();_0x18298c===_0x3840aa?(roomCode=STATIC_ROOM,startChat()):(document[_0x1dae5f(0x38b)](_0x429dbb[_0x1dae5f(0x1da)])['innerText']=_0x1dae5f(0x4d1),document[_0x1dae5f(0x38b)](_0x1dae5f(0x2b0))[_0x1dae5f(0x3b3)][_0x1dae5f(0x447)]=_0x429dbb[_0x1dae5f(0x4a8)]);})[_0x475a32(0x2df)](_0x1559e0=>{const _0x4df64=_0x475a32;console[_0x4df64(0x33e)](_0x1559e0),_0x429dbb[_0x4df64(0x2e0)](alert,_0x4df64(0x26d));});}function listenForPauseState(){const _0x269d36=_0x26c91d,_0x49d0dc={'AxQdk':_0x269d36(0x3b0),'vQpwZ':_0x269d36(0x3d3)};db['ref'](_0x269d36(0x3c7)+roomCode+_0x269d36(0x3dc))['on'](_0x269d36(0x22b),_0x165786=>{const _0x15878e=_0x269d36,_0x4635b6=_0x165786[_0x15878e(0x286)]()&&_0x165786[_0x15878e(0x392)]()===!![];document[_0x15878e(0x38b)](_0x15878e(0x4d0))[_0x15878e(0x3b3)][_0x15878e(0x447)]=_0x4635b6?_0x49d0dc[_0x15878e(0x476)]:_0x49d0dc[_0x15878e(0x224)];});}const spamTimestamps=[];async function sendMessage(){const _0x365da2=_0x26c91d,_0x195744={'blNMu':_0x365da2(0x44e),'JMbiD':function(_0xe4525,_0x264b64){return _0xe4525(_0x264b64);},'vKpHQ':function(_0xdb2a6b,_0xfa2c17){return _0xdb2a6b===_0xfa2c17;},'RzMoY':_0x365da2(0x3fc),'HYMVN':function(_0xff907e,_0x53067e){return _0xff907e>_0x53067e;},'DKkVI':'‚õî\x20You\x20are\x20muted.','tTkQk':function(_0x1d40d0,_0x3e40ca){return _0x1d40d0===_0x3e40ca;},'eGqqB':function(_0x5d07ad,_0x1b3ce9){return _0x5d07ad!==_0x1b3ce9;},'Cxpld':_0x365da2(0x368),'zbYab':function(_0x134477,_0x7bc85f){return _0x134477(_0x7bc85f);},'PQFdz':'msgInput','CHSSq':function(_0x4bf180,_0x55d8b7){return _0x4bf180||_0x55d8b7;},'lZmoR':_0x365da2(0x1e8),'eWDJi':_0x365da2(0x485),'zEgCd':function(_0x395157,_0x32b172){return _0x395157(_0x32b172);},'XargI':_0x365da2(0x4d5),'bgjZl':_0x365da2(0x22f)},_0x4058a4=await db['ref'](_0x365da2(0x3c7)+roomCode+_0x365da2(0x3dc))[_0x365da2(0x2d3)](),_0x14c405=await db[_0x365da2(0x3ac)](_0x365da2(0x464)+roomCode+'/'+_0x195744[_0x365da2(0x3c8)](sanitizeUsername,username))['get']();if(_0x14c405[_0x365da2(0x286)]()){const _0x12a46c=_0x14c405[_0x365da2(0x392)](),_0x24ca3b=_0x195744[_0x365da2(0x442)](typeof _0x12a46c,_0x195744[_0x365da2(0x346)])&&_0x12a46c[_0x365da2(0x29a)]?_0x12a46c[_0x365da2(0x29a)]:_0x12a46c;if(_0x195744[_0x365da2(0x3ee)](_0x24ca3b,Date[_0x365da2(0x303)]())){_0x195744[_0x365da2(0x3c8)](alert,_0x195744['DKkVI']);return;}}if(_0x4058a4[_0x365da2(0x286)]()&&_0x195744[_0x365da2(0x352)](_0x4058a4[_0x365da2(0x392)](),!![])&&_0x195744[_0x365da2(0x259)](role,_0x195744[_0x365da2(0x278)])){_0x195744[_0x365da2(0x414)](alert,_0x365da2(0x3fa));return;}const _0x564c25=document[_0x365da2(0x38b)](_0x195744['PQFdz']),_0x3514a4=_0x564c25['value'][_0x365da2(0x462)]();if(_0x195744['CHSSq'](!_0x3514a4,isBlocked))return;const _0x54cfa2=Date['now'](),_0x21cfcd=_0x3514a4[_0x365da2(0x1c8)](),_0x104e1b=swearWords[_0x365da2(0x22d)](_0x292f98=>_0x21cfcd['includes'](_0x292f98));if(_0x104e1b){_0x195744[_0x365da2(0x3c8)](alert,'‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.');return;}spamTimestamps['push'](_0x54cfa2);const _0x56fd1e=spamTimestamps[_0x365da2(0x477)](_0x8ac9c=>_0x54cfa2-_0x8ac9c<0x1b58);if(_0x195744[_0x365da2(0x3ee)](_0x56fd1e[_0x365da2(0x281)],0x5)){isBlocked=!![],_0x564c25[_0x365da2(0x49b)]=!![],_0x564c25[_0x365da2(0x45f)]=_0x195744['lZmoR'],alert(_0x195744[_0x365da2(0x23e)]),setTimeout(()=>{const _0x5efc08=_0x365da2;isBlocked=![],_0x564c25[_0x5efc08(0x49b)]=![],_0x564c25[_0x5efc08(0x45f)]=_0x195744[_0x5efc08(0x23c)],spamTimestamps['length']=0x0;},0x7530);return;}const _0x16ae15=_0x3514a4[_0x365da2(0x2fa)](/(.)\1{14,}/);if(_0x16ae15){_0x195744['zEgCd'](alert,_0x195744[_0x365da2(0x336)]);return;}const _0x441cb9=localStorage['getItem'](_0x195744['bgjZl'])||'',_0x4dedf5=db['ref']()[_0x365da2(0x3d1)]()['key'];db[_0x365da2(0x3ac)](_0x365da2(0x2b9)+roomCode+_0x365da2(0x2d0)+_0x4dedf5)[_0x365da2(0x4ad)]({'msg':_0x3514a4,'sender':username,'senderId':clientId,'avatarBase64':_0x441cb9,'timestamp':_0x54cfa2}),_0x564c25['value']='',_0x195744[_0x365da2(0x414)](sendTyping,!![]),lastActivity=_0x54cfa2;}function listenForMessages(){const _0x101cd2=_0x26c91d,_0x15370c={'FzwIm':function(_0xcef5fa,_0x3101b5,_0x4acf73,_0x382999){return _0xcef5fa(_0x3101b5,_0x4acf73,_0x382999);},'GAPJJ':function(_0x3c8195,_0x14a29a){return _0x3c8195===_0x14a29a;},'CqzLm':function(_0x46b805,_0x41ad86){return _0x46b805!==_0x41ad86;},'pmsPb':'system','kfvrY':function(_0x162463){return _0x162463();},'UYKvf':function(_0x2c1407,_0x54fc81){return _0x2c1407&&_0x54fc81;},'hDBpY':_0x101cd2(0x301),'WJjKX':_0x101cd2(0x4a2),'iOwzB':_0x101cd2(0x453),'EgVsV':_0x101cd2(0x4a1),'ljVBI':function(_0x2eab36,_0x1d2f75){return _0x2eab36>_0x1d2f75;},'HYQuK':_0x101cd2(0x2ed),'GPvtE':_0x101cd2(0x491)},_0x8317d1=db[_0x101cd2(0x3ac)](_0x101cd2(0x2b9)+roomCode+_0x101cd2(0x1ef)),_0x50db5c=_0x8317d1['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x50db5c['on'](_0x15370c[_0x101cd2(0x363)],_0x3687c0=>{const _0x558274=_0x101cd2,_0x36f88c=_0x3687c0[_0x558274(0x392)](),{senderId:_0x5af4fe}=_0x36f88c,_0x3546e2=_0x15370c[_0x558274(0x2e5)](_0x5af4fe,clientId);if(!userListReady){pendingMessages['forEach'](({data:_0x228b95,sent:_0x78db6a,key:_0xdc3dd5})=>{const _0x865d62=_0x558274;_0x15370c[_0x865d62(0x4be)](addMessage,_0x228b95,_0x78db6a,_0xdc3dd5);}),pendingMessages=[];return;}const _0x1d6790=_0x36f88c[_0x558274(0x41f)]||null,_0x15ba37=_0x36f88c[_0x558274(0x37c)]||null;_0x15370c['FzwIm'](addMessage,_0x36f88c,_0x3546e2,_0x3687c0['key']);if(roomCode!==STATIC_ROOM&&_0x15370c[_0x558274(0x27b)](_0x36f88c[_0x558274(0x3a4)],_0x15370c['pmsPb'])){}!_0x3546e2&&(sound[_0x558274(0x440)](),_0x15370c['kfvrY'](flagPageAttention));if(_0x15370c['UYKvf'](notificationsEnabled,!_0x3546e2)&&_0x15370c[_0x558274(0x2e5)](Notification[_0x558274(0x36b)],'granted')){const _0x3549b2=_0x36f88c[_0x558274(0x260)]||(_0x36f88c[_0x558274(0x37c)]?_0x15370c[_0x558274(0x461)]:_0x36f88c[_0x558274(0x302)]?_0x15370c[_0x558274(0x48f)]:_0x15370c['iOwzB']);new Notification('üí¨\x20'+_0x36f88c[_0x558274(0x3a4)],{'body':_0x3549b2,'icon':_0x15370c['EgVsV']});}}),_0x8317d1[_0x101cd2(0x296)]('value')['then'](_0x1d67f1=>{const _0x19fd41=_0x101cd2,_0x4d6505=_0x1d67f1[_0x19fd41(0x392)](),_0x28ec11=Object['keys'](_0x4d6505||{});if(_0x15370c['ljVBI'](_0x28ec11[_0x19fd41(0x281)],MAX_MESSAGES)){const _0xac1775=_0x28ec11[_0x19fd41(0x281)]-MAX_MESSAGES,_0xb0bec7=_0x28ec11[_0x19fd41(0x3bb)]((_0x5222d2,_0xc95b7e)=>_0x4d6505[_0x5222d2][_0x19fd41(0x318)]-_0x4d6505[_0xc95b7e][_0x19fd41(0x318)])['slice'](0x0,_0xac1775);_0xb0bec7[_0x19fd41(0x45c)](_0x35e53e=>{const _0x2ab909=_0x19fd41;db[_0x2ab909(0x3ac)]('rooms/'+roomCode+'/messages/'+_0x35e53e)[_0x2ab909(0x35b)]();});}}),db[_0x101cd2(0x3ac)](_0x101cd2(0x2b9)+roomCode+_0x101cd2(0x1ef))['on'](_0x15370c[_0x101cd2(0x2e9)],_0xd70c3=>{const _0x5f4f11=_0x101cd2,_0x6a539=_0xd70c3['key'],_0x45cf4a=document[_0x5f4f11(0x2e8)]('[data-msg-id=\x22'+_0x6a539+'\x22]');if(_0x45cf4a)_0x45cf4a[_0x5f4f11(0x35b)]();});}function stackNotification(_0x252962,_0x487646){const _0x50191c=_0x26c91d,_0xeaf69b={'xLGUr':function(_0x40d4a5,_0x32a449){return _0x40d4a5(_0x32a449);},'SOSeb':function(_0x40da28,_0x34bd77,_0xc559a5){return _0x40da28(_0x34bd77,_0xc559a5);}};notificationStack[_0x50191c(0x3d1)]({'sender':_0x252962,'content':_0x487646}),_0xeaf69b[_0x50191c(0x402)](clearTimeout,notificationTimer),notificationTimer=_0xeaf69b[_0x50191c(0x3c4)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x20c05e=_0x26c91d,_0x2c86e3={'dIdgh':_0x20c05e(0x4c8),'mDTgQ':function(_0x2cb96d,_0x3e278f){return _0x2cb96d!==_0x3e278f;},'sHGkq':function(_0x2113e4,_0x3ed7c4){return _0x2113e4||_0x3ed7c4;},'cCWVl':'unknown','PExeh':function(_0x1685a0,_0x3f022c){return _0x1685a0===_0x3f022c;},'SCJhQ':function(_0x20f89f,_0x269105,_0x496cb6){return _0x20f89f(_0x269105,_0x496cb6);}};if(!notificationStack[_0x20c05e(0x281)]||_0x2c86e3[_0x20c05e(0x29b)](Notification['permission'],_0x20c05e(0x4b8)))return;const _0x31a34f=[...new Set(notificationStack['map'](_0x4a37db=>_0x4a37db['sender']))],_0x46e603=_0x2c86e3[_0x20c05e(0x4cd)](roomCode,_0x2c86e3[_0x20c05e(0x401)]),_0x386a9c=_0x2c86e3['PExeh'](_0x31a34f[_0x20c05e(0x281)],0x1)?_0x20c05e(0x3ca)+_0x31a34f[0x0]+_0x20c05e(0x28c)+_0x46e603+':\x20'+notificationStack[0x0][_0x20c05e(0x305)]:_0x20c05e(0x254)+_0x31a34f[_0x20c05e(0x283)](',\x20')+'\x20in\x20room\x20'+_0x46e603;_0x2c86e3['SCJhQ'](setTimeout,()=>{const _0x1c3784=_0x20c05e;new Notification(_0x2c86e3[_0x1c3784(0x2b5)],{'body':_0x386a9c,'icon':_0x1c3784(0x4a1)});},0x64);}async function addMessage(_0x237787,_0x53630e,_0x3e4730=null){const _0x3320a7=_0x26c91d,_0x17d867={'uqvcW':_0x3320a7(0x2a8),'UIiOV':_0x3320a7(0x3e2),'xnrRB':_0x3320a7(0x450),'wPCOW':_0x3320a7(0x218),'GxQYK':_0x3320a7(0x4db),'jwXLv':_0x3320a7(0x466),'GSaUe':function(_0xa3a914,_0x1af66e,_0x2bc642){return _0xa3a914(_0x1af66e,_0x2bc642);},'yEbBG':function(_0x3f8dc3,_0x3b69bd){return _0x3f8dc3(_0x3b69bd);},'AZfUf':_0x3320a7(0x3d3),'dGZhl':_0x3320a7(0x298),'iqnKp':function(_0x199250,_0x42c182){return _0x199250>_0x42c182;},'ODRin':function(_0x347482,_0x47f24e){return _0x347482===_0x47f24e;},'BvAbj':function(_0x1bd096,_0x19bcca){return _0x1bd096(_0x19bcca);},'lWoXz':_0x3320a7(0x400),'sCCPz':_0x3320a7(0x419),'WWYIh':_0x3320a7(0x3f1),'MTBzP':'#aaa','rDvfy':_0x3320a7(0x23f),'qJfix':_0x3320a7(0x2cf),'pfVaq':_0x3320a7(0x260),'aUpJo':_0x3320a7(0x203),'tyPIJ':'received','qiBzJ':_0x3320a7(0x295),'nHWHT':_0x3320a7(0x417),'puerf':function(_0x125adc,_0x5dbae6){return _0x125adc(_0x5dbae6);},'OXgQl':_0x3320a7(0x1f4),'aevwR':_0x3320a7(0x4dd),'sDuYx':_0x3320a7(0x2d5),'UtexS':_0x3320a7(0x1f9),'IpqIb':_0x3320a7(0x24c),'Rjroq':'6px','zKMIR':_0x3320a7(0x333),'AKSCs':'18px','mVdsT':_0x3320a7(0x237),'KjfmE':_0x3320a7(0x327),'iftBT':_0x3320a7(0x3d8),'LhBns':_0x3320a7(0x3d6),'bahwW':_0x3320a7(0x220),'PfNVO':_0x3320a7(0x2d2),'yumLl':_0x3320a7(0x2bc),'blnTz':_0x3320a7(0x368),'LvGyt':'admin','sGRez':_0x3320a7(0x272),'rPttC':_0x3320a7(0x222)},{msg:_0x3613c1,sender:_0x1d91ec,senderId:_0x53bc38,timestamp:_0x5fafc9,audioUrl:_0x311053,audioBase64:_0x4d0681,imageBase64:_0x446f77}=_0x237787,_0x1d48dd=_0x17d867[_0x3320a7(0x497)](sanitizeUsername,_0x1d91ec),_0x3801f0=document['createElement'](_0x17d867[_0x3320a7(0x30b)]);if(_0x237787[_0x3320a7(0x3a4)]===_0x3320a7(0x2f6)){const _0x500080=document[_0x3320a7(0x27e)](_0x17d867['sCCPz']);_0x500080[_0x3320a7(0x3c3)]=_0x3320a7(0x343),_0x500080[_0x3320a7(0x319)]['msgId']=_0x3e4730||_0x237787[_0x3320a7(0x318)],_0x500080['dataset'][_0x3320a7(0x318)]=_0x237787[_0x3320a7(0x318)],_0x500080[_0x3320a7(0x3b3)][_0x3320a7(0x21c)]=_0x17d867['wPCOW'],_0x500080['style'][_0x3320a7(0x34a)]=_0x17d867[_0x3320a7(0x1e2)],_0x500080[_0x3320a7(0x3b3)][_0x3320a7(0x3ab)]=_0x17d867['MTBzP'],_0x500080[_0x3320a7(0x3b3)]['margin']=_0x17d867['rDvfy'],_0x500080[_0x3320a7(0x275)]=_0x237787[_0x3320a7(0x260)];const _0x2c2b92=document[_0x3320a7(0x38b)](_0x17d867['qJfix']);_0x2c2b92[_0x3320a7(0x430)](_0x500080);const _0x18ae1b=Array[_0x3320a7(0x39e)](_0x2c2b92[_0x3320a7(0x3c0)]);_0x18ae1b[_0x3320a7(0x3bb)]((_0x1d9c8f,_0x95627e)=>{const _0x4416da=_0x3320a7;return(+_0x1d9c8f['dataset'][_0x4416da(0x318)]||0x0)-(+_0x95627e[_0x4416da(0x319)][_0x4416da(0x318)]||0x0);}),_0x2c2b92['innerHTML']='',_0x18ae1b['forEach'](_0x32024e=>_0x2c2b92[_0x3320a7(0x430)](_0x32024e)),_0x2c2b92['scrollTop']=_0x2c2b92['scrollHeight'];return;}_0x3801f0[_0x3320a7(0x1db)]['add'](_0x17d867[_0x3320a7(0x37d)],_0x53630e?_0x17d867[_0x3320a7(0x2f9)]:_0x17d867[_0x3320a7(0x49e)]),_0x3801f0[_0x3320a7(0x3b3)][_0x3320a7(0x3f5)]=_0x17d867[_0x3320a7(0x1c6)];_0x3e4730&&(_0x3801f0['dataset'][_0x3320a7(0x26c)]=_0x3e4730);const _0x564a8f=new Date(_0x5fafc9)[_0x3320a7(0x388)]([],{'hour':_0x17d867[_0x3320a7(0x3b8)],'minute':_0x17d867[_0x3320a7(0x3b8)]}),_0x1d9684=_0x17d867[_0x3320a7(0x497)](getRoleTag,_0x1d48dd),_0x52cce2=await _0x17d867[_0x3320a7(0x2a5)](fetchAvatar,_0x1d48dd),_0x324780=_0x52cce2?_0x3320a7(0x2ef)+_0x52cce2+_0x3320a7(0x4a5):'',_0x851594=_0x324780+_0x3320a7(0x44f)+_0x1d91ec+'\x20'+_0x1d9684+_0x3320a7(0x413),_0x13681a=_0x3613c1?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x3320a7(0x468));let _0xaee444=_0x851594+_0x3320a7(0x4c9);if(_0x311053)_0xaee444+=_0x3320a7(0x21a)+_0x311053+_0x3320a7(0x492);else{if(_0x4d0681){const _0x4920ed=_0x3320a7(0x373)+_0x4d0681;_0xaee444+=_0x3320a7(0x21a)+_0x4920ed+_0x3320a7(0x492);}else{if(_0x446f77){const _0x18d391=_0x3320a7(0x331)+_0x446f77;_0xaee444+=_0x3320a7(0x47f)+_0x18d391+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else{const _0x14b8e2=_0x13681a[_0x3320a7(0x1de)](/(https?:\/\/[^\s]+)/g,_0x4a533e=>{const _0x525aec=_0x3320a7;return _0x525aec(0x2f1)+_0x4a533e+_0x525aec(0x4ab)+_0x4a533e+_0x525aec(0x4ac);});_0xaee444+='<div>'+_0x14b8e2+_0x3320a7(0x313);}}}_0xaee444+=_0x3320a7(0x344)+_0x564a8f+'</small>',_0x3801f0[_0x3320a7(0x2c3)]=_0xaee444;const _0x213b2b=document[_0x3320a7(0x27e)](_0x3320a7(0x419));_0x213b2b[_0x3320a7(0x3c3)]=_0x17d867[_0x3320a7(0x2e1)],_0x213b2b[_0x3320a7(0x3b3)]['marginTop']=_0x17d867[_0x3320a7(0x4bc)],_0x213b2b[_0x3320a7(0x3b3)][_0x3320a7(0x34a)]=_0x17d867[_0x3320a7(0x20f)],_0x3801f0[_0x3320a7(0x430)](_0x213b2b);const _0x5ef2f7=document['createElement'](_0x17d867[_0x3320a7(0x30b)]);_0x5ef2f7[_0x3320a7(0x3c3)]=_0x3320a7(0x2c6);const _0x43cc3c=['‚ù§Ô∏è','üòÇ','üòÆ','üò¢','üëé','üíÄ','ü§Ø'];_0x5ef2f7[_0x3320a7(0x2c3)]=_0x43cc3c[_0x3320a7(0x47c)](_0xb16cae=>_0x3320a7(0x235)+_0xb16cae+_0x3320a7(0x24a))[_0x3320a7(0x283)](''),_0x5ef2f7['style'][_0x3320a7(0x447)]=_0x17d867[_0x3320a7(0x304)],_0x5ef2f7['style'][_0x3320a7(0x3f5)]=_0x17d867[_0x3320a7(0x1f7)],_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x4d8)]=_0x17d867['IpqIb'],_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x42c)]=_0x17d867[_0x3320a7(0x1e4)],_0x5ef2f7['style'][_0x3320a7(0x228)]=_0x17d867[_0x3320a7(0x2ab)],_0x5ef2f7['style']['fontSize']=_0x17d867[_0x3320a7(0x1fc)],_0x5ef2f7['style'][_0x3320a7(0x439)]=_0x17d867['mVdsT'],_0x5ef2f7[_0x3320a7(0x3b3)]['left']=_0x3320a7(0x443),_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x284)]='10',_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x3e8)]=_0x17d867[_0x3320a7(0x391)],_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x2ad)]=_0x17d867[_0x3320a7(0x389)],_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x2f4)]=_0x17d867[_0x3320a7(0x2b8)],_0x5ef2f7['style'][_0x3320a7(0x447)]=_0x17d867[_0x3320a7(0x399)],_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x324)]=_0x17d867[_0x3320a7(0x2ac)],_0x5ef2f7['style'][_0x3320a7(0x2eb)]='4px',_0x5ef2f7[_0x3320a7(0x3b3)][_0x3320a7(0x46b)]=_0x3320a7(0x2e3),Array[_0x3320a7(0x39e)](_0x5ef2f7[_0x3320a7(0x3c0)])[_0x3320a7(0x45c)](_0xe2482b=>{const _0x559c62=_0x3320a7;_0xe2482b['style']['cursor']=_0x17d867[_0x559c62(0x236)],_0xe2482b[_0x559c62(0x454)]=_0x59eb90=>{const _0x1bcb0c=_0x559c62;_0x59eb90['stopPropagation']();const _0x179a82=_0xe2482b[_0x1bcb0c(0x2a6)];reactToMessage(_0x3e4730,_0x179a82);};}),Array[_0x3320a7(0x39e)](_0x5ef2f7[_0x3320a7(0x3c0)])['forEach'](_0x369dc2=>{const _0x1711e3=_0x3320a7,_0x5b0a41=_0x17d867[_0x1711e3(0x330)][_0x1711e3(0x437)]('|');let _0x5ec2f3=0x0;while(!![]){switch(_0x5b0a41[_0x5ec2f3++]){case'0':_0x369dc2[_0x1711e3(0x3b3)][_0x1711e3(0x26b)]=_0x17d867['xnrRB'];continue;case'1':_0x369dc2['style'][_0x1711e3(0x1f8)]=_0x17d867[_0x1711e3(0x1df)];continue;case'2':_0x369dc2[_0x1711e3(0x3b3)][_0x1711e3(0x3a1)]=_0x17d867['wPCOW'];continue;case'3':_0x369dc2[_0x1711e3(0x3b3)][_0x1711e3(0x447)]=_0x17d867[_0x1711e3(0x2ba)];continue;case'4':_0x369dc2[_0x1711e3(0x3b3)][_0x1711e3(0x2a4)]=_0x17d867[_0x1711e3(0x33c)];continue;case'5':_0x369dc2[_0x1711e3(0x3b3)][_0x1711e3(0x34a)]=_0x17d867[_0x1711e3(0x460)];continue;}break;}}),_0x3801f0[_0x3320a7(0x430)](_0x5ef2f7),_0x5ef2f7['style'][_0x3320a7(0x447)]=_0x17d867['AZfUf'];let _0x524be6;_0x3801f0['addEventListener'](_0x3320a7(0x364),()=>{const _0x536698=_0x3320a7,_0x38c6ea={'tnFis':_0x536698(0x298)};_0x524be6=_0x17d867[_0x536698(0x3cc)](setTimeout,()=>{const _0x4a9931=_0x536698;_0x5ef2f7[_0x4a9931(0x3b3)][_0x4a9931(0x447)]=_0x38c6ea['tnFis'];},0x5dc);}),_0x3801f0['addEventListener']('mouseleave',()=>{const _0x4bffb0=_0x3320a7;_0x17d867[_0x4bffb0(0x497)](clearTimeout,_0x524be6),_0x5ef2f7[_0x4bffb0(0x3b3)]['display']=_0x17d867[_0x4bffb0(0x304)];});let _0x4c3343;_0x3801f0[_0x3320a7(0x4ba)](_0x17d867['yumLl'],()=>{const _0x2eb368=_0x3320a7;_0x4c3343=_0x17d867[_0x2eb368(0x3cc)](setTimeout,()=>{const _0x2a43e3=_0x2eb368;_0x5ef2f7[_0x2a43e3(0x3b3)]['display']=_0x17d867[_0x2a43e3(0x34b)];},0x5dc);}),_0x3801f0[_0x3320a7(0x4ba)]('touchend',()=>clearTimeout(_0x4c3343));_0x3e4730&&db[_0x3320a7(0x3ac)](_0x3320a7(0x2b9)+roomCode+_0x3320a7(0x2d0)+_0x3e4730+_0x3320a7(0x1dd))['on']('value',_0x49fdf9=>{const _0x54b583=_0x3320a7;if(!_0x49fdf9['exists']()){_0x213b2b[_0x54b583(0x2c3)]='';return;}const _0x2c7650=_0x49fdf9[_0x54b583(0x392)]();let _0x560ec6='';Object[_0x54b583(0x3f8)](_0x2c7650)[_0x54b583(0x45c)](([_0x2585da,_0xa1763d])=>{const _0x43587d=_0x54b583;Array[_0x43587d(0x316)](_0xa1763d)&&_0x17d867[_0x43587d(0x28a)](_0xa1763d['length'],0x0)&&(_0x560ec6+=_0x43587d(0x287)+_0x2585da+'\x20'+_0xa1763d[_0x43587d(0x281)]+_0x43587d(0x413));}),_0x213b2b[_0x54b583(0x2c3)]=_0x560ec6;});if([_0x17d867[_0x3320a7(0x44b)],_0x17d867['LvGyt'],_0x17d867[_0x3320a7(0x348)]][_0x3320a7(0x3a6)](role)){let _0x19cce1=0x0;_0x3801f0[_0x3320a7(0x4ba)](_0x17d867[_0x3320a7(0x245)],()=>{const _0x169519=_0x3320a7;_0x19cce1++,_0x17d867[_0x169519(0x471)](_0x19cce1,0x3)&&(_0x17d867[_0x169519(0x223)](confirm,_0x17d867[_0x169519(0x2f7)])&&(db['ref'](_0x169519(0x2b9)+roomCode+_0x169519(0x2d0)+_0x3e4730)[_0x169519(0x35b)](),_0x3801f0[_0x169519(0x35b)]())),_0x17d867['GSaUe'](setTimeout,()=>_0x19cce1=0x0,0x5dc);});}const _0x59efbb=document[_0x3320a7(0x38b)](_0x17d867[_0x3320a7(0x4c6)]);_0x59efbb['appendChild'](_0x3801f0),_0x59efbb[_0x3320a7(0x487)]=_0x59efbb[_0x3320a7(0x40d)];}function cleanupOldRooms(){const _0x20f8c2=_0x26c91d,_0xe0a428={'yFWRB':function(_0x193c21,_0x3983da){return _0x193c21!==_0x3983da;},'uUvJH':function(_0x43c8af,_0xd14a91){return _0x43c8af===_0xd14a91;},'aOBRg':function(_0x5eb232,_0x39accd){return _0x5eb232-_0x39accd;},'DQKJP':function(_0x5364ed,_0x34f2eb){return _0x5364ed*_0x34f2eb;},'XfpAV':function(_0x1ddc37,_0x28f682){return _0x1ddc37+_0x28f682;},'YyYZU':'rooms/','QPiDr':'antispam','omMJX':_0x20f8c2(0x23d),'SwOdJ':'value'};db['ref'](_0x20f8c2(0x2cd))[_0x20f8c2(0x296)](_0xe0a428[_0x20f8c2(0x41e)])['then'](_0x4137d4=>{const _0x1d97f9=_0x20f8c2,_0x45001d=_0x4137d4[_0x1d97f9(0x392)]();if(!_0x45001d)return;const _0x50d26a=Date[_0x1d97f9(0x303)]();for(const _0x5f0788 in _0x45001d){if(_0xe0a428[_0x1d97f9(0x290)](_0x5f0788,STATIC_ROOM))continue;const _0x7a6b71=_0x45001d[_0x5f0788];_0xe0a428[_0x1d97f9(0x382)](_0x50d26a,_0x7a6b71['created']||0x0)>_0xe0a428[_0x1d97f9(0x43c)](0x2,0x3c)*0x3e8&&db['ref'](_0xe0a428[_0x1d97f9(0x498)](_0xe0a428['YyYZU'],_0x5f0788))[_0x1d97f9(0x35b)]();}db[_0x1d97f9(0x3ac)](_0xe0a428[_0x1d97f9(0x2fc)])['once'](_0x1d97f9(0x22b))[_0x1d97f9(0x2a3)](_0x10ceff=>{const _0xa33fa8=_0x1d97f9,_0x5a4f16=_0x10ceff[_0xa33fa8(0x392)]();if(!_0x5a4f16)return;for(const _0x35fca5 in _0x5a4f16){if(_0xe0a428[_0xa33fa8(0x244)](_0x35fca5,STATIC_ROOM))db['ref'](_0xa33fa8(0x3eb)+_0x35fca5)[_0xa33fa8(0x35b)]();}}),db[_0x1d97f9(0x3ac)](_0xe0a428[_0x1d97f9(0x4df)])[_0x1d97f9(0x296)](_0xe0a428[_0x1d97f9(0x41e)])[_0x1d97f9(0x2a3)](_0x387153=>{const _0x461981=_0x1d97f9,_0x5eca9b=_0x387153[_0x461981(0x392)]();if(!_0x5eca9b)return;for(const _0x1c7527 in _0x5eca9b){if(_0xe0a428[_0x461981(0x244)](_0x1c7527,STATIC_ROOM))db[_0x461981(0x3ac)]('antispamBlocked/'+_0x1c7527)['remove']();}});});}document['addEventListener']('DOMContentLoaded',()=>{const _0x2b55a4=_0x26c91d,_0x4c97d1={'oSixH':_0x2b55a4(0x42d),'BppNZ':function(_0x270417){return _0x270417();},'YzXTl':_0x2b55a4(0x2ee),'gAAYc':'keypress'},_0x14fc82=document['getElementById'](_0x4c97d1[_0x2b55a4(0x3f4)]);_0x14fc82&&_0x14fc82[_0x2b55a4(0x4ba)](_0x4c97d1[_0x2b55a4(0x204)],function(_0x4c5a50){const _0x4a5481=_0x2b55a4;_0x4c5a50[_0x4a5481(0x30c)]===_0x4c97d1[_0x4a5481(0x35d)]&&(_0x4c5a50[_0x4a5481(0x3ef)](),_0x4c97d1[_0x4a5481(0x4e1)](sendMessage));});});function showScreen(_0x262ad1){const _0x5c9cd5=_0x26c91d,_0x18a9a1={'KzZiy':'none','kXdMv':'usernameScreen','NTdFp':'roomChoiceScreen','IaGrz':_0x5c9cd5(0x38d),'uFfsH':'chatScreen','Uddfb':_0x5c9cd5(0x429),'MsKpo':_0x5c9cd5(0x293),'LOvAH':_0x5c9cd5(0x291),'cIvCs':_0x5c9cd5(0x4db)};[_0x18a9a1[_0x5c9cd5(0x2d1)],_0x18a9a1[_0x5c9cd5(0x3dd)],_0x18a9a1[_0x5c9cd5(0x24f)],_0x18a9a1[_0x5c9cd5(0x29f)],_0x5c9cd5(0x37a),_0x5c9cd5(0x412),_0x18a9a1[_0x5c9cd5(0x233)],_0x18a9a1[_0x5c9cd5(0x436)],_0x18a9a1['LOvAH']][_0x5c9cd5(0x45c)](_0x1dc60e=>{const _0x329f55=_0x5c9cd5;document['getElementById'](_0x1dc60e)['style'][_0x329f55(0x447)]=_0x18a9a1['KzZiy'];}),document['getElementById'](_0x262ad1)['style'][_0x5c9cd5(0x447)]=_0x18a9a1['cIvCs'];}function genRoomCode(){const _0x4af9de=_0x26c91d,_0x266d68={'AxyjC':'0123456789','YdyAh':function(_0x36c96f,_0x18f1b8){return _0x36c96f+_0x18f1b8;},'FvnwB':function(_0x4f6ac,_0x42398a){return _0x4f6ac+_0x42398a;},'DjEoO':function(_0x11cba9,_0x20298d){return _0x11cba9+_0x20298d;},'ggteq':function(_0x248ac5,_0x32a200,_0x2d05ba){return _0x248ac5(_0x32a200,_0x2d05ba);},'bphQY':function(_0x3de14f,_0x382185,_0x442441){return _0x3de14f(_0x382185,_0x442441);}},_0x338a76=_0x4af9de(0x489),_0x35f97c=_0x266d68[_0x4af9de(0x1fa)],_0x5d5567=(_0x5decb9,_0x579740)=>Array[_0x4af9de(0x39e)]({'length':_0x579740},()=>_0x5decb9[Math[_0x4af9de(0x27c)](Math[_0x4af9de(0x3db)]()*_0x5decb9[_0x4af9de(0x281)])])[_0x4af9de(0x283)]('');return _0x266d68[_0x4af9de(0x444)](_0x266d68['FvnwB'](_0x266d68[_0x4af9de(0x1d4)](_0x266d68[_0x4af9de(0x1d9)](_0x5d5567,_0x35f97c,0x3),_0x266d68[_0x4af9de(0x39c)](_0x5d5567,_0x338a76,0x3)),_0x266d68['ggteq'](_0x5d5567,_0x35f97c,0x2)),_0x266d68[_0x4af9de(0x1d9)](_0x5d5567,_0x338a76,0x2));}function startInactivityTimer(){const _0x238569=_0x26c91d,_0x1fc459={'VwWKO':function(_0x1e5ca9,_0x39f023){return _0x1e5ca9>_0x39f023;},'jIaVt':function(_0x5e7dfd,_0x422937){return _0x5e7dfd-_0x422937;},'givDo':function(_0x104c51,_0x2b832){return _0x104c51*_0x2b832;},'vGHfJ':_0x238569(0x2b9),'BWlsF':function(_0x42a177,_0x13b4f2){return _0x42a177(_0x13b4f2);}};setInterval(()=>{const _0x31cfa3=_0x238569;_0x1fc459[_0x31cfa3(0x282)](_0x1fc459[_0x31cfa3(0x4bf)](Date[_0x31cfa3(0x303)](),lastActivity),_0x1fc459['givDo'](0x5,0x3c)*0x3e8)&&roomCode!==STATIC_ROOM&&(db[_0x31cfa3(0x3ac)](_0x1fc459[_0x31cfa3(0x1f3)]+roomCode)[_0x31cfa3(0x340)]({'active':![]}),_0x1fc459[_0x31cfa3(0x24e)](alert,_0x31cfa3(0x1cd)),location[_0x31cfa3(0x2d9)]());},0x7530);}function setupSidebarBackHandler(){const _0x28c4f9=_0x26c91d,_0x3764e2={'fgKJk':'userSidebar','ZAVwP':'show','etjdh':'popstate'};window[_0x28c4f9(0x4ba)](_0x3764e2[_0x28c4f9(0x2fe)],()=>{const _0x34674f=_0x28c4f9,_0x513a29=document[_0x34674f(0x38b)](_0x3764e2[_0x34674f(0x3a0)]);_0x513a29?.['classList'][_0x34674f(0x34d)](_0x3764e2[_0x34674f(0x230)])&&_0x513a29[_0x34674f(0x1db)][_0x34674f(0x35b)]('show');});}function toggleSidebar(){const _0x193c5f=_0x26c91d,_0x208ca={'hRbGk':_0x193c5f(0x484),'hbjsY':_0x193c5f(0x211)},_0x5d3a4a=document[_0x193c5f(0x38b)](_0x208ca[_0x193c5f(0x435)]);if(!_0x5d3a4a['classList'][_0x193c5f(0x34d)](_0x208ca[_0x193c5f(0x1d3)]))_0x5d3a4a[_0x193c5f(0x1db)][_0x193c5f(0x486)](_0x193c5f(0x211)),history['pushState']({'sidebarOpen':!![]},'');else{_0x5d3a4a['classList'][_0x193c5f(0x35b)](_0x208ca['hbjsY']);if(history[_0x193c5f(0x1eb)]?.[_0x193c5f(0x499)])history[_0x193c5f(0x2d6)]();}}function setupVisibilityAttention(){const _0xe3cfcd=_0x26c91d,_0x46b5d5={'gOZuz':_0xe3cfcd(0x458)};let _0x5c0047=0x0,_0x45876f=document[_0xe3cfcd(0x396)];document[_0xe3cfcd(0x4ba)](_0x46b5d5[_0xe3cfcd(0x214)],()=>{const _0x10d02c=_0xe3cfcd;!document[_0x10d02c(0x1e1)]&&(document['title']=_0x45876f,_0x5c0047=0x0);}),window[_0xe3cfcd(0x264)]=function(){const _0xbb1f35=_0xe3cfcd;document['hidden']&&(_0x5c0047++,document['title']='('+_0x5c0047+_0xbb1f35(0x2b7)+_0x45876f);};}function tryEditProfile(){const _0x8f360f=_0x26c91d,_0x188cfb={'LbgUT':function(_0xcc41e8,_0x23a39c){return _0xcc41e8(_0x23a39c);},'hXWcE':'editProfileScreen'};_0x188cfb[_0x8f360f(0x27d)](showScreen,_0x188cfb['hXWcE']);}async function submitEditProfile(){const _0x5e7aeb=_0x26c91d,_0x2c1af7={'OQaMN':_0x5e7aeb(0x4c1),'dCwlP':_0x5e7aeb(0x495),'kESEi':_0x5e7aeb(0x448),'VqeqJ':_0x5e7aeb(0x3b0),'QZLJd':function(_0x139d6b,_0x3d9846){return _0x139d6b(_0x3d9846);},'KBuBN':_0x5e7aeb(0x47d),'avPQN':function(_0x502c42,_0x402871){return _0x502c42(_0x402871);},'vbvgm':function(_0xfddccc,_0x17f1b8){return _0xfddccc!==_0x17f1b8;},'zJpDd':'Incorrect\x20current\x20password.','pGfPk':function(_0x4424dc,_0x5cdf1a){return _0x4424dc*_0x5cdf1a;},'wslOx':function(_0x12d93d,_0x16a00a){return _0x12d93d*_0x16a00a;},'JaQMc':function(_0x3ca3ad,_0x5a50ae){return _0x3ca3ad(_0x5a50ae);},'illPm':_0x5e7aeb(0x426),'CTznd':_0x5e7aeb(0x256),'ZutZy':function(_0x11a4be,_0x861d3d){return _0x11a4be(_0x861d3d);},'RMRwd':_0x5e7aeb(0x4b5)},_0x2465d2=document[_0x5e7aeb(0x38b)](_0x5e7aeb(0x465))[_0x5e7aeb(0x22b)],_0xd0459e=document[_0x5e7aeb(0x38b)](_0x5e7aeb(0x3b6))[_0x5e7aeb(0x22b)],_0x570965=document[_0x5e7aeb(0x38b)](_0x2c1af7['OQaMN'])[_0x5e7aeb(0x22b)][_0x5e7aeb(0x462)](),_0xacafd=document[_0x5e7aeb(0x38b)](_0x2c1af7[_0x5e7aeb(0x1d5)]);if(!_0x2465d2){_0xacafd[_0x5e7aeb(0x275)]=_0x2c1af7['kESEi'],_0xacafd[_0x5e7aeb(0x3b3)]['display']=_0x2c1af7[_0x5e7aeb(0x226)];return;}const _0x41c5a9=_0x2c1af7[_0x5e7aeb(0x3fd)](sanitizeUsername,username),_0x3de9b6=await db[_0x5e7aeb(0x3ac)]('auth/'+_0x41c5a9)['get']();if(!_0x3de9b6[_0x5e7aeb(0x286)]()){_0xacafd['innerText']=_0x2c1af7[_0x5e7aeb(0x2d8)],_0xacafd[_0x5e7aeb(0x3b3)][_0x5e7aeb(0x447)]=_0x2c1af7['VqeqJ'];return;}const _0x20d816=_0x3de9b6[_0x5e7aeb(0x392)](),_0x230f0b=await _0x2c1af7[_0x5e7aeb(0x3e0)](sha256,_0x2465d2);if(_0x2c1af7[_0x5e7aeb(0x49f)](_0x230f0b,_0x20d816[_0x5e7aeb(0x2fb)])){_0xacafd['innerText']=_0x2c1af7['zJpDd'],_0xacafd[_0x5e7aeb(0x3b3)][_0x5e7aeb(0x447)]=_0x2c1af7[_0x5e7aeb(0x226)];return;}const _0x162f84={};if(_0xd0459e){const _0xbcfb12=await _0x2c1af7['avPQN'](sha256,_0xd0459e);_0x162f84['passwordHash']=_0xbcfb12;}_0x2c1af7[_0x5e7aeb(0x49f)](_0x570965,_0x20d816['description'])&&(_0x162f84[_0x5e7aeb(0x2f0)]=_0x570965);const _0x371ec8=Date[_0x5e7aeb(0x303)](),_0xf43e9a=_0x2c1af7[_0x5e7aeb(0x4cb)](_0x2c1af7[_0x5e7aeb(0x248)](0x18,0x3c),0x3c)*0x3e8,_0x40839d=_0x371ec8-(_0x20d816[_0x5e7aeb(0x339)]||0x0)>_0xf43e9a;if(_0x40839d&&_0x2c1af7['JaQMc'](confirm,_0x2c1af7[_0x5e7aeb(0x390)])){const _0x4f8288=prompt(_0x2c1af7[_0x5e7aeb(0x32b)]);_0x4f8288&&_0x4f8288[_0x5e7aeb(0x462)]()&&(_0x162f84[_0x5e7aeb(0x39a)]=_0x4f8288['trim'](),_0x162f84['usernameHistory']=(_0x20d816['usernameHistory']||[])[_0x5e7aeb(0x337)](_0x4f8288[_0x5e7aeb(0x462)]()),_0x162f84[_0x5e7aeb(0x339)]=_0x371ec8);}_0x162f84['username']&&_0x2c1af7['vbvgm'](_0x162f84['username'],_0x20d816[_0x5e7aeb(0x39a)])?(await db[_0x5e7aeb(0x3ac)](_0x5e7aeb(0x2ea)+_0x2c1af7[_0x5e7aeb(0x3ff)](sanitizeUsername,_0x162f84['username']))[_0x5e7aeb(0x4ad)]({..._0x20d816,..._0x162f84}),await db['ref'](_0x5e7aeb(0x2ea)+_0x41c5a9)['remove'](),username=_0x162f84[_0x5e7aeb(0x39a)]):await db['ref'](_0x5e7aeb(0x2ea)+_0x41c5a9)[_0x5e7aeb(0x340)](_0x162f84),_0x2c1af7[_0x5e7aeb(0x25d)](alert,_0x2c1af7[_0x5e7aeb(0x247)]),location['reload']();}function cancelEditProfile(){const _0x4ea22f=_0x26c91d,_0x213f59={'FYnSA':_0x4ea22f(0x291),'cqVYI':function(_0x5bad31,_0x1808e8){return _0x5bad31(_0x1808e8);},'Hwxdm':_0x4ea22f(0x46e)};document[_0x4ea22f(0x38b)](_0x213f59['FYnSA'])[_0x4ea22f(0x3b3)][_0x4ea22f(0x447)]=_0x4ea22f(0x3d3),_0x213f59[_0x4ea22f(0x35f)](showScreen,_0x213f59['Hwxdm']);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x7d481d=_0x26c91d,_0x125c66={'leIRs':function(_0x1b58c7,_0x244fd5){return _0x1b58c7(_0x244fd5);},'DlMBS':function(_0x5e5194){return _0x5e5194();},'QZdzs':_0x7d481d(0x22b)};db[_0x7d481d(0x3ac)](_0x7d481d(0x43d)+roomCode)['on'](_0x125c66[_0x7d481d(0x1f0)],async _0x468daa=>{const _0x6cc7a9=_0x7d481d;if(!_0x468daa[_0x6cc7a9(0x286)]())return;const _0x592e55=_0x468daa['val']();for(const _0x23597d in previousUsers){if(!_0x592e55[_0x23597d])_0x592e55[_0x23597d]=previousUsers[_0x23597d];}_0x125c66[_0x6cc7a9(0x3bd)](renderUserLists,_0x592e55),previousUsers=_0x592e55,await _0x125c66[_0x6cc7a9(0x41b)](loadRoomRoles),_0x125c66[_0x6cc7a9(0x3bd)](renderUserLists,_0x592e55);});}function trackPresence(){const _0x91fa60=_0x26c91d,_0x520798={'bjqrX':function(_0x41bfec){return _0x41bfec();},'LWGrB':function(_0x29b86e,_0x36851e){return _0x29b86e||_0x36851e;},'iRceB':function(_0x2162f5,_0x42617b){return _0x2162f5(_0x42617b);},'yDMKT':function(_0x19fc17,_0x57b9af){return _0x19fc17||_0x57b9af;},'RULvM':_0x91fa60(0x22b)};if(_0x520798[_0x91fa60(0x2ec)](!username,!roomCode))return;const _0x4f0390=_0x520798[_0x91fa60(0x1c9)](sanitizeUsername,username),_0x53a0cb=db[_0x91fa60(0x3ac)](_0x91fa60(0x43d)+roomCode+'/'+_0x4f0390),_0x75c9e={'username':username,'avatarBase64':avatarBase64||'','description':_0x520798[_0x91fa60(0x45d)](userDescription,''),'online':!![],'lastOnline':firebase['database'][_0x91fa60(0x2dd)][_0x91fa60(0x338)]};_0x53a0cb[_0x91fa60(0x296)](_0x520798['RULvM'])[_0x91fa60(0x2a3)](_0x3a156d=>{const _0x20122a=_0x91fa60,_0x3aa71e={'itqHu':function(_0x3f42c3){const _0x3c842a=_0x1830;return _0x520798[_0x3c842a(0x1ee)](_0x3f42c3);},'qBYQJ':'system'},_0x630c82=_0x3a156d[_0x20122a(0x392)]()?.[_0x20122a(0x1f2)];_0x53a0cb[_0x20122a(0x4ad)](_0x75c9e)[_0x20122a(0x2a3)](()=>{const _0x4f08f2=_0x20122a;_0x3aa71e[_0x4f08f2(0x28e)](updateOnlineIndicator);if(!_0x630c82){const _0x2e6aec=db[_0x4f08f2(0x3ac)]()[_0x4f08f2(0x3d1)]()['key'];db[_0x4f08f2(0x3ac)](_0x4f08f2(0x2b9)+roomCode+_0x4f08f2(0x2d0)+_0x2e6aec)[_0x4f08f2(0x4ad)]({'msg':username+'\x20is\x20online','sender':_0x3aa71e['qBYQJ'],'senderId':_0x4f08f2(0x2f6),'timestamp':Date[_0x4f08f2(0x303)]()});}_0x53a0cb[_0x4f08f2(0x243)]()['update']({'online':![],'lastOnline':Date[_0x4f08f2(0x303)]()});});});}function uploadSidebarAvatar(_0x53e4ac){const _0xbb20fa=_0x26c91d,_0x402f3e={'jGMFN':'sidebarAvatarPreview','gWvnw':_0xbb20fa(0x3b0),'LxnvS':function(_0x2635e9,_0x220b9f){return _0x2635e9(_0x220b9f);},'yuZxD':'‚úÖ\x20Profile\x20picture\x20updated!'};if(!_0x53e4ac[_0xbb20fa(0x2ce)][_0xbb20fa(0x281)])return;const _0x203a10=_0x53e4ac[_0xbb20fa(0x2ce)][0x0],_0xf07797=new FileReader();_0xf07797[_0xbb20fa(0x47a)]=async()=>{const _0xf7d77d=_0xbb20fa,_0x38664e=_0xf07797[_0xf7d77d(0x423)][_0xf7d77d(0x437)](',')[0x1];document[_0xf7d77d(0x38b)](_0x402f3e[_0xf7d77d(0x3b9)])['src']=_0xf07797[_0xf7d77d(0x423)],document['getElementById'](_0x402f3e['jGMFN'])[_0xf7d77d(0x3b3)]['display']=_0x402f3e[_0xf7d77d(0x410)];try{const _0x5354cb=sanitizeUsername(username);await db[_0xf7d77d(0x3ac)]('auth/'+_0x5354cb+_0xf7d77d(0x252))[_0xf7d77d(0x4ad)](_0x38664e),_0x402f3e[_0xf7d77d(0x3b2)](alert,_0x402f3e[_0xf7d77d(0x366)]);}catch(_0x5b4875){console[_0xf7d77d(0x33e)](_0x5b4875),alert(_0xf7d77d(0x1ed));}},_0xf07797[_0xbb20fa(0x3e7)](_0x203a10);}function muteUser(_0x50b679,_0x4b465e){const _0x3040db=_0x26c91d,_0x19418b={'UVboA':function(_0x44805e,_0x91dab6){return _0x44805e(_0x91dab6);},'uABHA':function(_0x5ccdd1,_0x17da17){return _0x5ccdd1+_0x17da17;},'hCXrM':function(_0x1ead1d,_0x153fcb){return _0x1ead1d*_0x153fcb;},'gEHcG':function(_0x370b7a,_0x32ca0a){return _0x370b7a*_0x32ca0a;}},_0x59e688=_0x19418b[_0x3040db(0x32d)](Date[_0x3040db(0x303)](),_0x19418b['hCXrM'](_0x19418b[_0x3040db(0x459)](_0x4b465e,0x3c),0x3e8));db[_0x3040db(0x3ac)](_0x3040db(0x464)+roomCode+'/'+sanitizeUsername(_0x50b679))[_0x3040db(0x4ad)]({'muteUntil':_0x59e688})[_0x3040db(0x2a3)](()=>{const _0x17e380=_0x3040db;_0x19418b[_0x17e380(0x357)](alert,_0x50b679+'\x20muted\x20for\x20'+_0x4b465e+_0x17e380(0x241)),_0x19418b[_0x17e380(0x357)](addSystemMessage,_0x50b679+_0x17e380(0x29d)+_0x4b465e+'\x20minutes');});}function unmuteUser(_0x29fc6b){const _0x49c9fe=_0x26c91d,_0x464dda={'jFTuF':'Admins\x20only.','cwyaI':function(_0x2c8a79,_0x545745){return _0x2c8a79(_0x545745);}};if(!isRoomAdmin)return alert(_0x464dda[_0x49c9fe(0x43b)]);db[_0x49c9fe(0x3ac)](_0x49c9fe(0x464)+roomCode+'/'+_0x464dda[_0x49c9fe(0x2fd)](sanitizeUsername,_0x29fc6b))[_0x49c9fe(0x35b)]();}function updateOnlineIndicator(){const _0x552c7a=_0x26c91d,_0x2dc99d={'BSzKw':_0x552c7a(0x365),'eLxYw':_0x552c7a(0x496),'DMBUO':'#00ff88'},_0x25811a=document[_0x552c7a(0x38b)](_0x2dc99d[_0x552c7a(0x395)]);_0x25811a[_0x552c7a(0x275)]=_0x2dc99d[_0x552c7a(0x31d)],_0x25811a[_0x552c7a(0x3b3)]['color']=_0x2dc99d['DMBUO'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x34202c){const _0x5a2fa3=_0x26c91d,_0x2f46d9={'pGGJr':function(_0x14ddeb,_0x3b8a96){return _0x14ddeb(_0x3b8a96);},'VBSdc':'Profile\x20not\x20found.','ZAucw':_0x5a2fa3(0x467),'rUYqL':_0x5a2fa3(0x385),'pFwqQ':_0x5a2fa3(0x429)};db['ref'](_0x5a2fa3(0x2ea)+_0x34202c)[_0x5a2fa3(0x2d3)]()['then'](_0x5755e6=>{const _0x16164d=_0x5a2fa3;if(!_0x5755e6[_0x16164d(0x286)]())return _0x2f46d9[_0x16164d(0x261)](alert,_0x2f46d9[_0x16164d(0x3a7)]);const _0x4b52d0=_0x5755e6[_0x16164d(0x392)](),_0x54b622=('\x0aName:\x20'+_0x4b52d0['username']+'\x0aDescription:\x20'+(_0x4b52d0[_0x16164d(0x2f0)]||_0x16164d(0x1d0))+_0x16164d(0x4de)+((_0x4b52d0[_0x16164d(0x2d4)]||[])['join'](',\x20')||_0x16164d(0x374))+'\x0aLast\x20Changed:\x20'+(_0x4b52d0['lastChanged']?new Date(_0x4b52d0[_0x16164d(0x339)])[_0x16164d(0x28f)]():_0x2f46d9[_0x16164d(0x480)])+_0x16164d(0x274))[_0x16164d(0x462)]();document[_0x16164d(0x38b)](_0x2f46d9[_0x16164d(0x353)])[_0x16164d(0x275)]=_0x54b622,document[_0x16164d(0x38b)](_0x2f46d9[_0x16164d(0x341)])[_0x16164d(0x3b3)][_0x16164d(0x447)]=_0x16164d(0x3b0);});}function initUsernameFlow(){const _0x37aad9=_0x26c91d,_0x48bc46={'oRKxZ':_0x37aad9(0x3cb),'FROOY':function(_0x4dddf3,_0x670344){return _0x4dddf3(_0x670344);},'WcJln':'profileScreen'},_0x464ee1=localStorage[_0x37aad9(0x1dc)](_0x48bc46[_0x37aad9(0x3a5)]);!_0x464ee1?_0x48bc46[_0x37aad9(0x35c)](showScreen,_0x48bc46[_0x37aad9(0x451)]):(username=_0x464ee1,document['getElementById'](_0x37aad9(0x216))[_0x37aad9(0x275)]=username,_0x48bc46[_0x37aad9(0x35c)](showScreen,_0x37aad9(0x1cf)));}function closeProfile(){const _0x39e203=_0x26c91d,_0x3a946a={'CzSuC':_0x39e203(0x3d3)};document['getElementById'](_0x39e203(0x429))[_0x39e203(0x3b3)][_0x39e203(0x447)]=_0x3a946a[_0x39e203(0x38a)];}function resetWebsiteData(){const _0x5543e8=_0x26c91d,_0x3a0814={'JrUlU':_0x5543e8(0x25e),'OQAfH':function(_0x3495ec,_0x16a3c3){return _0x3495ec||_0x16a3c3;}};try{const _0xc7928=localStorage[_0x5543e8(0x1dc)](_0x3a0814[_0x5543e8(0x4c3)]);localStorage[_0x5543e8(0x380)](),sessionStorage[_0x5543e8(0x380)](),_0xc7928&&localStorage['setItem'](_0x3a0814['JrUlU'],_0xc7928);}catch(_0x1ebdf5){}if(_0x3a0814[_0x5543e8(0x321)](!username,!roomCode)){const _0x90fcad=_0x5543e8(0x20b)[_0x5543e8(0x437)]('|');let _0x18ff04=0x0;while(!![]){switch(_0x90fcad[_0x18ff04++]){case'0':username=null;continue;case'1':roomCode=null;continue;case'2':pendingMessages=[];continue;case'3':isRoomAdmin=![];continue;case'4':clientId='_'+Math[_0x5543e8(0x3db)]()[_0x5543e8(0x48b)](0x24)[_0x5543e8(0x404)](0x2,0x9);continue;}break;}}}function addAnnouncement(){const _0x376553=_0x26c91d,_0x2590d5={'DCwSV':function(_0x1323ca,_0x51f09a){return _0x1323ca(_0x51f09a);},'zUZRE':_0x376553(0x3be)},_0x9e8a6c=_0x2590d5['DCwSV'](prompt,_0x2590d5[_0x376553(0x210)]);if(!_0x9e8a6c)return;db[_0x376553(0x3ac)](_0x376553(0x2b9)+roomCode+_0x376553(0x33f))['set']({'text':_0x9e8a6c,'by':username,'timestamp':Date[_0x376553(0x303)]()});}function listenForAnnouncement(){const _0x9457b2=_0x26c91d,_0x59ddd6={'mxfsM':_0x9457b2(0x26f),'NHaFR':_0x9457b2(0x22b)},_0x37bdbc=db['ref'](_0x9457b2(0x2b9)+roomCode+_0x9457b2(0x33f));_0x37bdbc['on'](_0x59ddd6[_0x9457b2(0x4a0)],_0x23e7f=>{const _0x4c53bc=_0x9457b2,_0x5c350b=_0x23e7f['val']();if(!_0x5c350b){document[_0x4c53bc(0x38b)](_0x59ddd6[_0x4c53bc(0x308)])[_0x4c53bc(0x275)]='';return;}const _0x674711=document[_0x4c53bc(0x38b)](_0x59ddd6[_0x4c53bc(0x308)]);_0x674711[_0x4c53bc(0x275)]=''+_0x5c350b[_0x4c53bc(0x4af)];});}document[_0x26c91d(0x38b)](_0x26c91d(0x26f))[_0x26c91d(0x4ba)](_0x26c91d(0x222),_0xf804f0=>{const _0x4d0fd2=_0x26c91d,_0x32e642={'DjLWx':function(_0x4c258b,_0x5b086e){return _0x4c258b===_0x5b086e;},'IrXWP':function(_0x3c6731,_0x43c8b3){return _0x3c6731(_0x43c8b3);}};_0x32e642[_0x4d0fd2(0x25f)](_0xf804f0[_0x4d0fd2(0x4c5)],0x3)&&isRoomAdmin&&(_0x32e642[_0x4d0fd2(0x30d)](confirm,_0x4d0fd2(0x280))&&db['ref'](_0x4d0fd2(0x2b9)+roomCode+_0x4d0fd2(0x33f))[_0x4d0fd2(0x35b)]());}),document[_0x26c91d(0x38b)](_0x26c91d(0x2ee))[_0x26c91d(0x4ba)]('input',()=>{const _0x59c72f=_0x26c91d,_0xd29fcb={'dgnPe':'msgInput','hdpna':'2px\x20solid\x20red'},_0x410064=document[_0x59c72f(0x38b)](_0xd29fcb[_0x59c72f(0x288)]);_0x13fc61?_0x410064[_0x59c72f(0x3b3)][_0x59c72f(0x238)]=_0xd29fcb[_0x59c72f(0x1d8)]:_0x410064[_0x59c72f(0x3b3)][_0x59c72f(0x238)]='';const _0x3c5320=_0x410064['value']['toLowerCase'](),_0x13fc61=swearWords[_0x59c72f(0x22d)](_0x290e34=>_0x3c5320['includes'](_0x290e34));_0x13fc61?(_0x410064['style'][_0x59c72f(0x238)]=_0xd29fcb[_0x59c72f(0x1d8)],sendBtn['disabled']=!![]):(_0x410064[_0x59c72f(0x3b3)][_0x59c72f(0x238)]='',_0x13fc61?_0x410064[_0x59c72f(0x3b3)]['border']=_0xd29fcb[_0x59c72f(0x1d8)]:_0x410064[_0x59c72f(0x3b3)]['border']='');});function muteUser(_0x56db5d,_0x2fd7da){const _0x348a84=_0x26c91d,_0xee159f={'RkrVO':function(_0x57b1e2,_0x4967be){return _0x57b1e2(_0x4967be);},'kVetO':function(_0x87e2da,_0x26257e){return _0x87e2da+_0x26257e;},'QilHm':function(_0x2fb1c8,_0x1db577){return _0x2fb1c8*_0x1db577;},'eQmkF':function(_0x40aaef,_0x512577){return _0x40aaef*_0x512577;}},_0x221466=_0xee159f[_0x348a84(0x292)](Date[_0x348a84(0x303)](),_0xee159f[_0x348a84(0x242)](_0xee159f[_0x348a84(0x469)](_0x2fd7da,0x3c),0x3e8));db[_0x348a84(0x3ac)](_0x348a84(0x464)+roomCode+'/'+_0xee159f[_0x348a84(0x428)](sanitizeUsername,_0x56db5d))[_0x348a84(0x4ad)]({'muteUntil':_0x221466})[_0x348a84(0x2a3)](()=>{const _0x4e8ade=_0x348a84;_0xee159f[_0x4e8ade(0x428)](alert,_0x56db5d+_0x4e8ade(0x1f5)+_0x2fd7da+_0x4e8ade(0x241));});}function deleteUserMessages(_0x489200){const _0xdffc0f=_0x26c91d,_0x5a2087={'nGgSy':function(_0x85193b,_0x1fa507){return _0x85193b(_0x1fa507);},'gTJtw':_0xdffc0f(0x3a4)};db[_0xdffc0f(0x3ac)](_0xdffc0f(0x2b9)+roomCode+'/messages')[_0xdffc0f(0x21d)](_0x5a2087[_0xdffc0f(0x386)])['equalTo'](_0x489200)[_0xdffc0f(0x2d3)]()['then'](_0x3422dc=>{const _0x1b623e=_0xdffc0f;_0x3422dc[_0x1b623e(0x45c)](_0x4168cf=>{const _0x19b9b1=_0x1b623e;db[_0x19b9b1(0x3ac)]('rooms/'+roomCode+_0x19b9b1(0x2d0)+_0x4168cf[_0x19b9b1(0x30c)])[_0x19b9b1(0x35b)]();}),_0x5a2087[_0x1b623e(0x249)](alert,'Messages\x20by\x20'+_0x489200+_0x1b623e(0x289));});}function pauseRoom(_0xbd394e){const _0x5574f3=_0x26c91d,_0x2f7a0f={'dFbfe':_0x5574f3(0x4d0),'dSTAj':_0x5574f3(0x3b0),'AINbj':_0x5574f3(0x3d3),'RyeKV':_0x5574f3(0x22b)};db[_0x5574f3(0x3ac)](_0x5574f3(0x2b9)+roomCode+_0x5574f3(0x3dc))['on'](_0x2f7a0f['RyeKV'],_0x33849b=>{const _0x2e7997=_0x5574f3,_0x5e4886=_0x33849b[_0x2e7997(0x392)]();document[_0x2e7997(0x38b)](_0x2f7a0f['dFbfe'])['style'][_0x2e7997(0x447)]=_0x5e4886?_0x2f7a0f[_0x2e7997(0x225)]:_0x2f7a0f[_0x2e7997(0x2b6)];});}function canPerformAction(_0x518f1f){const _0x3ac138=_0x26c91d,_0x234202={'huSLu':function(_0x35c8f2,_0x3dd4ad){return _0x35c8f2===_0x3dd4ad;},'KFpDc':'dev','TPseu':function(_0x435ab4,_0x478494){return _0x435ab4===_0x478494;},'syYgt':_0x3ac138(0x3d2),'IpbHV':'moderator','kWfYi':_0x3ac138(0x2e7),'bMMEq':'deleteMessage','pHmFC':_0x3ac138(0x3cf),'dIxZP':function(_0x4e8a0d,_0x10f9a9){return _0x4e8a0d===_0x10f9a9;}};if(_0x234202['huSLu'](role,_0x234202['KFpDc']))return!![];if(_0x234202[_0x3ac138(0x40b)](_0x518f1f,_0x234202[_0x3ac138(0x326)]))return _0x234202[_0x3ac138(0x403)](role,'admin')||_0x234202[_0x3ac138(0x40b)](role,_0x234202[_0x3ac138(0x361)])||role===_0x234202[_0x3ac138(0x420)];if(_0x518f1f===_0x234202[_0x3ac138(0x1ca)]||_0x234202[_0x3ac138(0x40b)](_0x518f1f,_0x234202[_0x3ac138(0x449)]))return _0x234202[_0x3ac138(0x362)](role,_0x3ac138(0x200));if(_0x234202['dIxZP'](_0x518f1f,_0x3ac138(0x3cf)))return role===_0x3ac138(0x200);return![];}const html=Object['values'](roomUsers)[_0x26c91d(0x47c)](_0x2162e7=>{const _0x4938d5=_0x26c91d,_0x44f06e={'fYKRN':function(_0x1f4c98,_0x438626){return _0x1f4c98(_0x438626);},'EktTE':function(_0x178a15,_0x1417cc){return _0x178a15!==_0x1417cc;},'UiiVi':_0x4938d5(0x3d2),'nYwNx':function(_0x55ce68,_0x386548){return _0x55ce68(_0x386548);},'bUcVm':_0x4938d5(0x322),'NiDlQ':function(_0x11e767,_0x5171a2){return _0x11e767===_0x5171a2;},'ErHbj':_0x4938d5(0x368),'fkwVf':function(_0x32c8e1,_0x2ba0c1){return _0x32c8e1===_0x2ba0c1;},'htpvc':'admin','PelKO':function(_0x1925a0,_0x21fd6c){return _0x1925a0(_0x21fd6c);}},_0xbe02e1=_0x44f06e['fYKRN'](sanitizeUsername,_0x2162e7[_0x4938d5(0x39a)]),_0x12d108=[];if(_0x44f06e[_0x4938d5(0x215)](_0xbe02e1,_0x44f06e[_0x4938d5(0x43e)](sanitizeUsername,username))){canPerformAction(_0x44f06e[_0x4938d5(0x38e)])&&(_0x12d108[_0x4938d5(0x3d1)](_0x4938d5(0x3ae)+_0xbe02e1+_0x4938d5(0x354)),_0x12d108[_0x4938d5(0x3d1)]('<button\x20onclick=\x22muteUser(\x27'+_0xbe02e1+_0x4938d5(0x20e)));_0x44f06e['nYwNx'](canPerformAction,_0x44f06e['bUcVm'])&&_0x12d108[_0x4938d5(0x3d1)](_0x4938d5(0x3d7)+_0xbe02e1+_0x4938d5(0x474));if(_0x44f06e[_0x4938d5(0x418)](role,_0x44f06e['ErHbj']))_0x12d108[_0x4938d5(0x3d1)](_0x4938d5(0x493)+_0xbe02e1+_0x4938d5(0x42f)),_0x12d108[_0x4938d5(0x3d1)](_0x4938d5(0x1e9)+_0xbe02e1+_0x4938d5(0x23b));else _0x44f06e[_0x4938d5(0x20a)](role,_0x44f06e[_0x4938d5(0x2b2)])&&_0x12d108[_0x4938d5(0x3d1)](_0x4938d5(0x493)+_0xbe02e1+_0x4938d5(0x42f));}return _0x4938d5(0x3f6)+_0x2162e7[_0x4938d5(0x39a)]+'\x20'+_0x44f06e[_0x4938d5(0x481)](getRoleTag,_0x44f06e['PelKO'](sanitizeUsername,_0x2162e7[_0x4938d5(0x39a)]))+_0x4938d5(0x37e)+_0xbe02e1+_0x4938d5(0x42e)+_0x12d108[_0x4938d5(0x283)]('')+'\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27'+_0xbe02e1+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>';})[_0x26c91d(0x283)]('');function promoteToModerator(_0x3f6372){const _0x2dae63=_0x26c91d,_0x5b9585={'tcwOw':function(_0x1f5cd5,_0x42198a){return _0x1f5cd5(_0x42198a);},'saSJs':function(_0x3d68fd,_0x947bf6){return _0x3d68fd(_0x947bf6);},'BsjLF':function(_0x34cdb7,_0x2fc319){return _0x34cdb7(_0x2fc319);},'ndETv':_0x2dae63(0x32a),'sPNXJ':function(_0x4d4b3d,_0x4772d9){return _0x4d4b3d!==_0x4772d9;},'vDuAo':_0x2dae63(0x368),'thiLv':'admin','MIRkZ':function(_0x4c3742,_0x8329dd){return _0x4c3742(_0x8329dd);},'yWsgQ':_0x2dae63(0x3f2)},_0x305bef=_0x5b9585[_0x2dae63(0x48e)](sanitizeUsername,_0x3f6372);if(isProtected(_0x305bef))return alert(_0x5b9585[_0x2dae63(0x45b)]);if(_0x5b9585[_0x2dae63(0x2c7)](role,_0x5b9585[_0x2dae63(0x205)])&&role!==_0x5b9585[_0x2dae63(0x1cb)]){_0x5b9585[_0x2dae63(0x434)](alert,_0x5b9585[_0x2dae63(0x45a)]);return;}db['ref'](_0x2dae63(0x48c)+roomCode+'/'+_0x305bef)[_0x2dae63(0x4ad)](!![])[_0x2dae63(0x2a3)](()=>{const _0x3af4bd=_0x2dae63;_0x5b9585[_0x3af4bd(0x369)](alert,_0x3f6372+_0x3af4bd(0x372)),_0x5b9585[_0x3af4bd(0x335)](addSystemMessage,_0x3f6372+'\x20was\x20promoted\x20to\x20Moderator');});}function promoteToAdmin(_0x498281){const _0x25ce15=_0x26c91d,_0x217eaf={'fDLnb':function(_0x9e6f6f,_0x4d2bef){return _0x9e6f6f(_0x4d2bef);},'ysWiQ':function(_0x27929f,_0x3a3f4b){return _0x27929f(_0x3a3f4b);},'TvoJT':function(_0xdf3d49,_0x1be948){return _0xdf3d49(_0x1be948);},'lPAlj':_0x25ce15(0x32a),'erKEM':_0x25ce15(0x368),'VEqIx':_0x25ce15(0x422)},_0x5b3276=sanitizeUsername(_0x498281);if(_0x217eaf[_0x25ce15(0x33a)](isProtected,_0x5b3276))return _0x217eaf[_0x25ce15(0x488)](alert,_0x217eaf['lPAlj']);if(role!==_0x217eaf[_0x25ce15(0x3aa)]){_0x217eaf[_0x25ce15(0x3a8)](alert,_0x217eaf[_0x25ce15(0x3e1)]);return;}db['ref'](_0x25ce15(0x22e)+roomCode+'/'+_0x5b3276)[_0x25ce15(0x4ad)](!![])[_0x25ce15(0x2a3)](()=>{const _0x4a4baa=_0x25ce15;_0x217eaf['fDLnb'](alert,_0x498281+_0x4a4baa(0x4b7)),_0x217eaf[_0x4a4baa(0x33a)](addSystemMessage,_0x498281+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x20b322){const _0x33dc54=_0x26c91d,_0x1ac367={'bcQFQ':function(_0x32af39,_0x23cef2){return _0x32af39===_0x23cef2;},'vhhTo':'dev','gkAGx':_0x33dc54(0x200),'iJsPl':function(_0x337c06,_0xb0761c){return _0x337c06===_0xb0761c;},'UuNpT':_0x33dc54(0x3b0),'NaQsX':_0x33dc54(0x3d3)};(_0x1ac367[_0x33dc54(0x456)](role,_0x1ac367[_0x33dc54(0x350)])||_0x1ac367[_0x33dc54(0x456)](role,_0x1ac367[_0x33dc54(0x48a)]))&&controls[_0x33dc54(0x3d1)](_0x33dc54(0x452)+safeName+_0x33dc54(0x329));const _0x33ad20=document[_0x33dc54(0x38b)](_0x33dc54(0x307)+_0x20b322);_0x1ac367[_0x33dc54(0x4b2)](_0x33ad20[_0x33dc54(0x3b3)][_0x33dc54(0x447)],_0x33dc54(0x3d3))?_0x33ad20[_0x33dc54(0x3b3)][_0x33dc54(0x447)]=_0x1ac367[_0x33dc54(0x4d9)]:_0x33ad20[_0x33dc54(0x3b3)][_0x33dc54(0x447)]=_0x1ac367[_0x33dc54(0x317)];}function demoteUser(_0x3fb364){const _0x404187=_0x26c91d,_0x1add34={'AzsCo':function(_0x554aec,_0x53bc48){return _0x554aec(_0x53bc48);},'ijVQN':_0x404187(0x475)};if(_0x1add34[_0x404187(0x267)](isProtected,_0x3fb364))return _0x1add34['AzsCo'](alert,'üö´\x20You\x20cannot\x20demote\x20a\x20Developer.');if(role===_0x404187(0x368))db['ref'](_0x404187(0x22e)+roomCode+'/'+_0x3fb364)[_0x404187(0x35b)](),db[_0x404187(0x3ac)]('moderators/'+roomCode+'/'+_0x3fb364)[_0x404187(0x35b)](),alert(_0x3fb364+_0x404187(0x262)),addSystemMessage(_0x3fb364+_0x404187(0x36f));else role===_0x404187(0x200)?(db[_0x404187(0x3ac)](_0x404187(0x48c)+roomCode+'/'+_0x3fb364)[_0x404187(0x35b)](),_0x1add34[_0x404187(0x267)](alert,_0x3fb364+_0x404187(0x262)),_0x1add34[_0x404187(0x267)](addSystemMessage,_0x3fb364+_0x404187(0x36f))):alert(_0x1add34['ijVQN']);}function getRoleTag(_0x5dfd18){const _0x4f15a2=_0x26c91d,_0x18089a=sanitizeUsername(_0x5dfd18);if(globalDevs[_0x4f15a2(0x3a6)](_0x18089a))return _0x4f15a2(0x359);if(roomAdmins[_0x4f15a2(0x3a6)](_0x18089a))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x4f15a2(0x3a6)](_0x18089a))return _0x4f15a2(0x234);return'';}async function loadRoomRoles(){const _0x1adcf4=_0x26c91d,_0x583a58={'BqRHs':function(_0x2b7a93,_0xd8aed3){return _0x2b7a93===_0xd8aed3;},'LIuob':_0x1adcf4(0x368),'tdTZI':function(_0x4ffabe,_0x59e739){return _0x4ffabe(_0x59e739);},'xsESC':_0x1adcf4(0x200),'qkMoH':'moderator','yrpOZ':_0x1adcf4(0x2a0)},_0x1eeb59=_0x583a58[_0x1adcf4(0x328)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x8b2504=await db[_0x1adcf4(0x3ac)](_0x1adcf4(0x1e3))[_0x1adcf4(0x2d3)]();_0x8b2504[_0x1adcf4(0x45c)](_0x168b46=>{const _0xa5e86e=_0x1adcf4;if(_0x583a58[_0xa5e86e(0x273)](_0x168b46['val']()['role'],_0x583a58['LIuob']))globalDevs[_0xa5e86e(0x3d1)](_0x168b46[_0xa5e86e(0x30c)]);});const _0x4636dd=await db[_0x1adcf4(0x3ac)]('admins/'+roomCode)[_0x1adcf4(0x2d3)]();_0x4636dd[_0x1adcf4(0x286)]()&&_0x4636dd['forEach'](_0x3691f2=>roomAdmins['push'](_0x3691f2['key']));const _0x1f2218=await db[_0x1adcf4(0x3ac)](_0x1adcf4(0x48c)+roomCode)[_0x1adcf4(0x2d3)]();_0x1f2218[_0x1adcf4(0x286)]()&&_0x1f2218[_0x1adcf4(0x45c)](_0x2b4144=>roomModerators[_0x1adcf4(0x3d1)](_0x2b4144[_0x1adcf4(0x30c)]));if(globalDevs[_0x1adcf4(0x3a6)](_0x1eeb59))role=_0x583a58[_0x1adcf4(0x1e0)];else{if(roomAdmins[_0x1adcf4(0x3a6)](_0x1eeb59))role=_0x583a58[_0x1adcf4(0x367)];else roomModerators[_0x1adcf4(0x3a6)](_0x1eeb59)?role=_0x583a58[_0x1adcf4(0x455)]:role=_0x583a58[_0x1adcf4(0x3f7)];}}async function renderUserLists(_0x3766ad){const _0x431386=_0x26c91d,_0x3589ee={'oIpuJ':function(_0x178645,_0x5aa4b3){return _0x178645(_0x5aa4b3);},'hKzJr':function(_0x23d946,_0x2cb6e4){return _0x23d946(_0x2cb6e4);},'UOyxa':function(_0x5aa3bd,_0x468a52){return _0x5aa3bd===_0x468a52;},'qmuRI':_0x431386(0x2e7),'MuzPE':_0x431386(0x272),'ILYsZ':_0x431386(0x200),'EGJlB':function(_0xf6b19a,_0x526732){return _0xf6b19a===_0x526732;},'PvBGy':_0x431386(0x368),'KbSRD':function(_0x1c8fab,_0x42dde2){return _0x1c8fab(_0x42dde2);},'xJRBg':function(_0x36a9fb,_0x125b6f){return _0x36a9fb(_0x125b6f);},'RCWzN':_0x431386(0x1e5),'OlAkE':_0x431386(0x3b0),'sdMeA':'none','BlCHo':_0x431386(0x2de),'WCAtJ':_0x431386(0x4b4)};roomUsers=_0x3766ad;const _0x2fcd5f=_0x3589ee['xJRBg'](sanitizeUsername,username),_0x3f4bd2=[_0x3589ee[_0x431386(0x48d)],_0x3589ee[_0x431386(0x309)],_0x3589ee[_0x431386(0x2dc)],_0x3589ee[_0x431386(0x473)]][_0x431386(0x3a6)](role);document[_0x431386(0x38b)](_0x3589ee[_0x431386(0x294)])['style'][_0x431386(0x447)]=_0x3f4bd2?_0x3589ee[_0x431386(0x3c2)]:_0x3589ee[_0x431386(0x33b)];const _0x2023ed=Object[_0x431386(0x3f8)](_0x3766ad)['map'](async([_0x1de0f0,_0x25c8bb])=>{const _0xc3ebd3=_0x431386,_0x85bb48=_0x3589ee['oIpuJ'](sanitizeUsername,_0x25c8bb['username']||_0x1de0f0),_0x3a3e00=await _0x3589ee[_0xc3ebd3(0x4dc)](fetchAvatar,_0x85bb48),_0x5715ea=_0x3a3e00?_0xc3ebd3(0x2ef)+_0x3a3e00+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x160749=_0x25c8bb[_0xc3ebd3(0x1f2)]?_0xc3ebd3(0x2bf):_0xc3ebd3(0x463);return _0xc3ebd3(0x383)+_0x5715ea+'\x20'+_0x160749+'\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27'+_0x85bb48+'\x27)\x22>'+(_0x25c8bb['username']||_0x1de0f0)+'</span>\x20'+getRoleTag(_0x85bb48)+_0xc3ebd3(0x4ca);});document[_0x431386(0x38b)](_0x3589ee[_0x431386(0x445)])['innerHTML']=(await Promise['all'](_0x2023ed))[_0x431386(0x283)]('');if(!_0x3f4bd2)return;const _0x31439d=Object[_0x431386(0x3f8)](_0x3766ad)['map'](async([_0x4fec38,_0x1a0a51])=>{const _0x376de4=_0x431386,_0x273931=_0x3589ee['hKzJr'](sanitizeUsername,_0x1a0a51['username']||_0x4fec38);if(_0x3589ee[_0x376de4(0x409)](_0x273931,_0x2fcd5f))return'';const _0x2dd008=globalDevs[_0x376de4(0x3a6)](_0x273931),_0x224750=await _0x3589ee['oIpuJ'](fetchAvatar,_0x273931),_0x1ca6b5=_0x224750?'<img\x20src=\x22data:image/png;base64,'+_0x224750+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x3bdcb3=_0x1a0a51[_0x376de4(0x1f2)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>':_0x376de4(0x463),_0xc45ffe=[];if(!_0x2dd008){[_0x3589ee[_0x376de4(0x473)],_0x3589ee[_0x376de4(0x2dc)],_0x3589ee[_0x376de4(0x309)],_0x376de4(0x368)][_0x376de4(0x3a6)](role)&&(_0xc45ffe[_0x376de4(0x3d1)]('<button\x20onclick=\x22muteUser(\x27'+_0x273931+'\x27,\x201)\x22>Mute\x201m</button>'),_0xc45ffe[_0x376de4(0x3d1)](_0x376de4(0x3ae)+_0x273931+'\x27,\x205)\x22>Mute\x205m</button>'),_0xc45ffe[_0x376de4(0x3d1)](_0x376de4(0x3ae)+_0x273931+_0x376de4(0x20e)));if(_0x3589ee[_0x376de4(0x306)](role,_0x3589ee[_0x376de4(0x48d)]))_0xc45ffe['push'](_0x376de4(0x493)+_0x273931+_0x376de4(0x2e6)),_0xc45ffe[_0x376de4(0x3d1)](_0x376de4(0x1e9)+_0x273931+'\x27)\x22>+Admin</button>'),_0xc45ffe['push'](_0x376de4(0x452)+_0x273931+'\x27)\x22>Demote</button>');else _0x3589ee['UOyxa'](role,_0x3589ee[_0x376de4(0x309)])&&(_0xc45ffe[_0x376de4(0x3d1)](_0x376de4(0x493)+_0x273931+_0x376de4(0x2e6)),_0xc45ffe['push'](_0x376de4(0x452)+_0x273931+_0x376de4(0x329)));}return _0x376de4(0x2f3)+_0x1ca6b5+'\x20'+_0x3bdcb3+_0x376de4(0x297)+(_0x1a0a51[_0x376de4(0x39a)]||_0x4fec38)+'\x20'+_0x3589ee[_0x376de4(0x2b1)](getRoleTag,_0x273931)+_0x376de4(0x4c0)+_0xc45ffe[_0x376de4(0x283)]('\x20')+_0x376de4(0x415);});document[_0x431386(0x38b)](_0x3589ee[_0x431386(0x312)])[_0x431386(0x2c3)]=(await Promise[_0x431386(0x32e)](_0x31439d))[_0x431386(0x283)]('');}function updateAnnouncementVisibility(){const _0x3cf9ba=_0x26c91d,_0x2e9eac={'hYXgQ':_0x3cf9ba(0x3fe),'saJbQ':function(_0x2e7563,_0x2957ff){return _0x2e7563===_0x2957ff;},'ufNvB':_0x3cf9ba(0x200),'SZlVL':function(_0x42ae6e,_0x371ee2){return _0x42ae6e===_0x371ee2;},'RYYDm':_0x3cf9ba(0x368)},_0x1fba86=document[_0x3cf9ba(0x38b)](_0x2e9eac['hYXgQ']);_0x2e9eac['saJbQ'](role,_0x2e9eac[_0x3cf9ba(0x479)])||_0x2e9eac[_0x3cf9ba(0x41c)](role,_0x2e9eac[_0x3cf9ba(0x49a)])?_0x1fba86['style'][_0x3cf9ba(0x447)]=_0x3cf9ba(0x3b0):_0x1fba86['style']['display']=_0x3cf9ba(0x3d3);}async function fetchAvatar(_0x461459){const _0x3489e8=_0x26c91d;if(userAvatars[_0x461459])return userAvatars[_0x461459];const _0x3bf0ff=await db[_0x3489e8(0x3ac)](_0x3489e8(0x2ea)+_0x461459)[_0x3489e8(0x2d3)]();if(_0x3bf0ff[_0x3489e8(0x286)]()&&_0x3bf0ff['val']()[_0x3489e8(0x431)])return userAvatars[_0x461459]=_0x3bf0ff[_0x3489e8(0x392)]()['avatarBase64'],userAvatars[_0x461459];return null;}function sendTyping(){const _0x449acd=_0x26c91d,_0x833f96={'uHENB':function(_0x2ce534,_0x208910){return _0x2ce534(_0x208910);},'RWpEv':function(_0x7eb9d7,_0x5d6f2d,_0x1a3136){return _0x7eb9d7(_0x5d6f2d,_0x1a3136);}},_0x2c07ff=_0x833f96[_0x449acd(0x299)](sanitizeUsername,username),_0xe2d432=Date[_0x449acd(0x303)]();db[_0x449acd(0x3ac)](_0x449acd(0x265)+roomCode+'/'+_0x2c07ff)[_0x449acd(0x4ad)](_0xe2d432);if(typingTimeout)_0x833f96[_0x449acd(0x299)](clearTimeout,typingTimeout);typingTimeout=_0x833f96[_0x449acd(0x3ba)](setTimeout,()=>{const _0x3e9d5e=_0x449acd;db[_0x3e9d5e(0x3ac)](_0x3e9d5e(0x265)+roomCode+'/'+_0x2c07ff)['remove']();},0x1f4);}function listenForTyping(){const _0x6f9f=_0x26c91d,_0x4f8210={'PUaFS':_0x6f9f(0x24d),'Vkujm':_0x6f9f(0x22b)};db[_0x6f9f(0x3ac)](_0x6f9f(0x265)+roomCode)['on'](_0x4f8210[_0x6f9f(0x23a)],_0x149d0d=>{const _0x4d5671=_0x6f9f,_0x5e3fc7=document[_0x4d5671(0x38b)](_0x4f8210[_0x4d5671(0x39b)]);if(!_0x149d0d[_0x4d5671(0x286)]())return _0x5e3fc7[_0x4d5671(0x275)]='';const _0x54cf9b=Date[_0x4d5671(0x303)](),_0x513b9d=Object[_0x4d5671(0x3f8)](_0x149d0d[_0x4d5671(0x392)]())[_0x4d5671(0x477)](([_0x173188,_0x20e54a])=>_0x173188!==sanitizeUsername(username)&&_0x54cf9b-_0x20e54a<0x1388)[_0x4d5671(0x47c)](([_0x469f3e])=>_0x469f3e);_0x5e3fc7['innerText']=_0x513b9d[_0x4d5671(0x281)]?_0x513b9d[_0x4d5671(0x283)](',\x20')+_0x4d5671(0x212):'';});}function watchMuteStatus(){const _0x5d1161=_0x26c91d,_0x4ec308={'gOQMy':function(_0x4ba2e3,_0x4b3dff){return _0x4ba2e3(_0x4b3dff);},'GpxCT':_0x5d1161(0x2ee),'hpozd':function(_0x4238a2,_0x36db61){return _0x4238a2===_0x36db61;},'zxnZr':function(_0x522b77,_0x1950a2){return _0x522b77>_0x1950a2;},'PjrFq':'‚õî\x20You\x20are\x20muted.','Aspuo':_0x5d1161(0x44e),'kEBbr':_0x5d1161(0x22b)},_0x2748c8=db[_0x5d1161(0x3ac)](_0x5d1161(0x464)+roomCode+'/'+_0x4ec308[_0x5d1161(0x1fd)](sanitizeUsername,username));let _0x4a9abb;_0x2748c8['on'](_0x4ec308['kEBbr'],_0x5b2cf8=>{const _0x4656e5=_0x5d1161;_0x4ec308[_0x4656e5(0x1fd)](clearInterval,_0x4a9abb);const _0x40a596=document['getElementById'](_0x4ec308['GpxCT']);if(!_0x5b2cf8[_0x4656e5(0x286)]()){_0x40a596[_0x4656e5(0x49b)]=![],_0x40a596[_0x4656e5(0x45f)]=_0x4656e5(0x44e);return;}const _0x224b55=_0x5b2cf8[_0x4656e5(0x392)](),_0x159f47=_0x4ec308['hpozd'](typeof _0x224b55,'object')&&_0x224b55[_0x4656e5(0x29a)]?_0x224b55['muteUntil']:_0x224b55;_0x4ec308['zxnZr'](_0x159f47,Date[_0x4656e5(0x303)]())?(_0x40a596[_0x4656e5(0x49b)]=!![],_0x40a596['placeholder']=_0x4ec308[_0x4656e5(0x2aa)],_0x4a9abb=setInterval(()=>{const _0x3c17f1=_0x4656e5;Date[_0x3c17f1(0x303)]()>_0x159f47&&_0x2748c8['remove']();},0xbb8)):(_0x40a596[_0x4656e5(0x49b)]=![],_0x40a596['placeholder']=_0x4ec308[_0x4656e5(0x377)],_0x2748c8[_0x4656e5(0x35b)]());});}function isProtected(_0x3c7a4c){const _0x38d9fe=_0x26c91d;return globalDevs[_0x38d9fe(0x3a6)](_0x3c7a4c);}function addSystemMessage(_0x2c158c){const _0x18b74e=_0x26c91d,_0x2f7f37={'nPPyl':_0x18b74e(0x419),'GhdCz':'center','uLZlq':_0x18b74e(0x3f1),'NuNch':_0x18b74e(0x1cc),'HdYZE':_0x18b74e(0x23f),'ovITj':_0x18b74e(0x2cf)},_0x12ea42=document[_0x18b74e(0x27e)](_0x2f7f37['nPPyl']);_0x12ea42[_0x18b74e(0x3b3)]['textAlign']=_0x2f7f37['GhdCz'],_0x12ea42[_0x18b74e(0x3b3)]['fontSize']=_0x2f7f37[_0x18b74e(0x3a9)],_0x12ea42[_0x18b74e(0x3b3)][_0x18b74e(0x3ab)]=_0x2f7f37['NuNch'],_0x12ea42['style'][_0x18b74e(0x40e)]=_0x2f7f37[_0x18b74e(0x217)],_0x12ea42[_0x18b74e(0x275)]=_0x2c158c,document[_0x18b74e(0x38b)](_0x2f7f37[_0x18b74e(0x253)])[_0x18b74e(0x430)](_0x12ea42),document[_0x18b74e(0x38b)](_0x18b74e(0x2cf))[_0x18b74e(0x487)]=document['getElementById'](_0x18b74e(0x2cf))[_0x18b74e(0x40d)];}function reactToMessage(_0x3bdb5d,_0x2022c0){const _0x995606=_0x26c91d,_0x1f31aa={'DBjdg':'value'},_0x56d158=sanitizeUsername(username),_0x40f617=db['ref'](_0x995606(0x2b9)+roomCode+_0x995606(0x2d0)+_0x3bdb5d+'/reactions');_0x40f617['once'](_0x1f31aa[_0x995606(0x4c2)])[_0x995606(0x2a3)](_0x1c2e8f=>{const _0x59d1a3=_0x995606,_0x12285d=_0x1c2e8f[_0x59d1a3(0x392)]()||{},_0x16fda4={};for(const [_0x52ffae,_0x348853]of Object[_0x59d1a3(0x3f8)](_0x12285d)){_0x16fda4[_0x52ffae]=(_0x348853||[])['filter'](_0x570b09=>_0x570b09!==_0x56d158);}if(!_0x12285d[_0x2022c0]||!_0x12285d[_0x2022c0]['includes'](_0x56d158)){if(!_0x16fda4[_0x2022c0])_0x16fda4[_0x2022c0]=[];_0x16fda4[_0x2022c0][_0x59d1a3(0x3d1)](_0x56d158);}_0x40f617[_0x59d1a3(0x4ad)](_0x16fda4);});}function startSidebarSyncLoop(){const _0x471caa={'pawfC':function(_0x5c90f0,_0x2cfae4){return _0x5c90f0(_0x2cfae4);}};setInterval(async()=>{const _0x433fc1=_0x1830;if(!roomCode)return;const _0x320d3d=await db[_0x433fc1(0x3ac)](_0x433fc1(0x43d)+roomCode)[_0x433fc1(0x2d3)]();if(_0x320d3d['exists']()){const _0x3b5a37=_0x320d3d[_0x433fc1(0x392)]();_0x471caa['pawfC'](renderUserLists,_0x3b5a37);}},0x1388);}