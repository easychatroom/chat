const _0x20c1d8=_0x1021;(function(_0x3dd42e,_0x36558a){const _0x31fc41=_0x1021,_0x119167=_0x3dd42e();while(!![]){try{const _0x1d037e=parseInt(_0x31fc41(0xf1))/0x1*(parseInt(_0x31fc41(0x181))/0x2)+parseInt(_0x31fc41(0x109))/0x3+parseInt(_0x31fc41(0x343))/0x4+-parseInt(_0x31fc41(0x298))/0x5*(-parseInt(_0x31fc41(0x176))/0x6)+parseInt(_0x31fc41(0x158))/0x7*(parseInt(_0x31fc41(0x2fe))/0x8)+-parseInt(_0x31fc41(0x217))/0x9+parseInt(_0x31fc41(0xfa))/0xa*(-parseInt(_0x31fc41(0x352))/0xb);if(_0x1d037e===_0x36558a)break;else _0x119167['push'](_0x119167['shift']());}catch(_0x113ebf){_0x119167['push'](_0x119167['shift']());}}}(_0x33a2,0xc295b));const firebaseConfig={'apiKey':_0x20c1d8(0x125),'authDomain':_0x20c1d8(0x21e),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':'easy-chatroom','storageBucket':_0x20c1d8(0x184),'messagingSenderId':'985049198428','appId':_0x20c1d8(0x1e3),'measurementId':'G-QDESJ2WR42'};firebase[_0x20c1d8(0x196)](firebaseConfig);const db=firebase[_0x20c1d8(0x2aa)]();let deviceId=null;((async()=>{const _0x560ad9=_0x20c1d8,_0x3eec53={'kJJgS':function(_0x42be66){return _0x42be66();}};deviceId=await _0x3eec53[_0x560ad9(0x2eb)](generateDeviceId);})());const swearWords=[_0x20c1d8(0x19b),_0x20c1d8(0x1f8),_0x20c1d8(0x31f),_0x20c1d8(0x276),'bastard',_0x20c1d8(0x2f3),_0x20c1d8(0x261),_0x20c1d8(0x316),_0x20c1d8(0xfb),'pendejo',_0x20c1d8(0x28b),_0x20c1d8(0x1ee),_0x20c1d8(0x360),'porra',_0x20c1d8(0xc0),_0x20c1d8(0xde),_0x20c1d8(0x316),_0x20c1d8(0xa6),'otario',_0x20c1d8(0x1a7),_0x20c1d8(0x2e0),'tangina',_0x20c1d8(0x2b4),_0x20c1d8(0x213),'bwisit',_0x20c1d8(0x1ca)],style=document[_0x20c1d8(0x195)](_0x20c1d8(0x16c));style[_0x20c1d8(0x16e)]=_0x20c1d8(0x2ab),document[_0x20c1d8(0x214)]['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x20c1d8(0x162)]()['toString'](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x20c1d8(0xfe)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x20c1d8(0x18e),MAX_MESSAGES=0xfa,sound=new Audio(_0x20c1d8(0x119));sound[_0x20c1d8(0x192)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3b80a6=_0x20c1d8,_0x3470fa={'NbKrC':function(_0x3cfcab,_0x3f6d3c){return _0x3cfcab+_0x3f6d3c;},'IvcQa':function(_0x33f8d0,_0x15e3d1){return _0x33f8d0(_0x15e3d1);}},_0x4de567=_0x3470fa['NbKrC'](navigator[_0x3b80a6(0xbf)]+screen['width'],screen[_0x3b80a6(0xee)]),_0x12e0b5=await _0x3470fa[_0x3b80a6(0x1b8)](sha256,_0x4de567);return _0x3470fa[_0x3b80a6(0x1a2)]('_',_0x12e0b5['substr'](0x0,0x14));}function sha256(_0x4cceea){const _0x42335f=_0x20c1d8,_0x1e08ae={'WaWAX':'SHA-256'},_0x54413f=new TextEncoder()[_0x42335f(0x19c)](_0x4cceea);return crypto[_0x42335f(0x167)][_0x42335f(0x10c)](_0x1e08ae['WaWAX'],_0x54413f)[_0x42335f(0x19a)](_0x4de46e=>{const _0x1bf3f6=_0x42335f;return Array[_0x1bf3f6(0x15a)](new Uint8Array(_0x4de46e))[_0x1bf3f6(0x117)](_0x1e6953=>_0x1e6953[_0x1bf3f6(0x23d)](0x10)['padStart'](0x2,'0'))[_0x1bf3f6(0x2cf)]('');});}function toggleNotifications(){const _0x251ac7=_0x20c1d8,_0x5d74e2={'yjQUp':function(_0x45bbde,_0x4ecc6d){return _0x45bbde===_0x4ecc6d;},'HnOeJ':_0x251ac7(0x1ec),'WYQzt':_0x251ac7(0xd6),'iWJrp':_0x251ac7(0x146),'prkXC':function(_0x11137e,_0x414598){return _0x11137e!==_0x414598;},'ScUdn':'notifications_enabled','dYHEh':_0x251ac7(0x9f)};_0x5d74e2[_0x251ac7(0x1f5)](Notification[_0x251ac7(0x1cd)],_0x5d74e2[_0x251ac7(0x26f)])?Notification[_0x251ac7(0xcb)]()[_0x251ac7(0x19a)](_0x181b9c=>{const _0x36df74=_0x251ac7;_0x5d74e2[_0x36df74(0x270)](_0x181b9c,_0x5d74e2[_0x36df74(0x26f)])&&(notificationsEnabled=!![],localStorage[_0x36df74(0x12b)](_0x36df74(0x1ff),_0x5d74e2[_0x36df74(0x1bf)]),document['getElementById'](_0x36df74(0x9f))[_0x36df74(0x359)]=_0x5d74e2[_0x36df74(0x223)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x251ac7(0x12b)](_0x5d74e2['ScUdn'],notificationsEnabled?_0x5d74e2[_0x251ac7(0x1bf)]:_0x251ac7(0x295)),document['getElementById'](_0x5d74e2['dYHEh'])[_0x251ac7(0x359)]=notificationsEnabled?_0x5d74e2['iWJrp']:_0x251ac7(0xf2));}function toggleAuthMode(){const _0xbaee12=_0x20c1d8,_0x312953={'kOOJc':'Register','RadAJ':_0xbaee12(0x18c),'XOFCt':_0xbaee12(0x22f),'FEWzF':_0xbaee12(0x31d),'qbYjT':_0xbaee12(0x2fd),'TVwTT':_0xbaee12(0x13e),'qlUJn':'authAvatar','LnYQL':'authSubmitBtn','OleBE':_0xbaee12(0x29c)};isRegisterMode=!isRegisterMode,document['getElementById'](_0xbaee12(0xda))[_0xbaee12(0x359)]=isRegisterMode?_0x312953[_0xbaee12(0x334)]:_0x312953[_0xbaee12(0x208)],document['getElementById'](_0x312953[_0xbaee12(0x2cb)])[_0xbaee12(0x16c)]['display']=isRegisterMode?_0x312953[_0xbaee12(0x34f)]:_0x312953[_0xbaee12(0x1a8)],document[_0xbaee12(0x33d)](_0x312953[_0xbaee12(0x21c)])[_0xbaee12(0x16c)][_0xbaee12(0x292)]=isRegisterMode?_0x312953[_0xbaee12(0x34f)]:_0x312953[_0xbaee12(0x1a8)],document[_0xbaee12(0x33d)](_0x312953[_0xbaee12(0xc1)])['style'][_0xbaee12(0x292)]=isRegisterMode?_0xbaee12(0x31d):_0x312953['qbYjT'],document[_0xbaee12(0x33d)](_0xbaee12(0x182))[_0xbaee12(0x16c)][_0xbaee12(0x292)]=_0x312953[_0xbaee12(0x1a8)],document[_0xbaee12(0x33d)](_0x312953[_0xbaee12(0x311)])[_0xbaee12(0x359)]=isRegisterMode?_0x312953[_0xbaee12(0x334)]:_0x312953[_0xbaee12(0x208)],document[_0xbaee12(0x33d)](_0x312953[_0xbaee12(0x23f)])[_0xbaee12(0x16c)]['display']=_0x312953[_0xbaee12(0x1a8)];}function previewAvatar(){const _0x168577=_0x20c1d8,_0x13983c={'rhcjC':_0x168577(0x182),'APbht':_0x168577(0x31d)},_0x4ec9b4=document['getElementById']('authAvatar');if(!_0x4ec9b4[_0x168577(0x1d5)][_0x168577(0x17d)])return;const _0x4cb408=new FileReader();_0x4cb408[_0x168577(0x121)]=()=>{const _0x1a93fb=_0x168577;document[_0x1a93fb(0x33d)](_0x13983c[_0x1a93fb(0x331)])['src']=_0x4cb408['result'],document[_0x1a93fb(0x33d)](_0x13983c[_0x1a93fb(0x331)])[_0x1a93fb(0x16c)][_0x1a93fb(0x292)]=_0x13983c[_0x1a93fb(0xcd)];},_0x4cb408[_0x168577(0x1df)](_0x4ec9b4[_0x168577(0x1d5)][0x0]);}async function submitAuth(){const _0x3f079f=_0x20c1d8,_0x1aa661={'PABsU':function(_0x30c00f,_0x217c3f){return _0x30c00f||_0x217c3f;},'tCqsf':_0x3f079f(0x2e8),'HMkdu':_0x3f079f(0x207),'WgzVg':'authPassword','uJOOL':_0x3f079f(0x22f),'UXYPJ':_0x3f079f(0x13e),'riLKm':_0x3f079f(0x231),'sCgmg':_0x3f079f(0x29c),'JEfCD':function(_0x4f7546,_0x4b7479){return _0x4f7546||_0x4b7479;},'lipcU':'Please\x20fill\x20in\x20all\x20fields.','cShBY':'block','zUXTQ':function(_0x1e2330,_0x4df680){return _0x1e2330(_0x4df680);},'EAHcI':_0x3f079f(0x202),'FsgsF':function(_0x1f6b36){return _0x1f6b36();},'itRrt':function(_0x491d98){return _0x491d98();},'WkQJW':function(_0x56b538,_0x464e59){return _0x56b538||_0x464e59;},'NoqsA':function(_0x23e52a,_0x4ddf88){return _0x23e52a!==_0x4ddf88;},'zjIEO':_0x3f079f(0xb5),'zRHzn':function(_0x44baa7){return _0x44baa7();}},_0x5c6ba4=document[_0x3f079f(0x33d)](_0x1aa661[_0x3f079f(0x234)])[_0x3f079f(0xef)][_0x3f079f(0x212)](),_0x24b508=document[_0x3f079f(0x33d)](_0x1aa661[_0x3f079f(0x1c8)])[_0x3f079f(0xef)][_0x3f079f(0x212)](),_0x4f7b78=document[_0x3f079f(0x33d)](_0x1aa661['uJOOL'])[_0x3f079f(0xef)][_0x3f079f(0x212)](),_0x1bc651=document['getElementById'](_0x1aa661[_0x3f079f(0x111)])['value']['trim'](),_0xd3ebb8=document[_0x3f079f(0x33d)](_0x1aa661[_0x3f079f(0x2ff)]),_0x593f2d=document['getElementById'](_0x1aa661[_0x3f079f(0x11b)]);_0x593f2d[_0x3f079f(0x16c)][_0x3f079f(0x292)]='none';if(_0x1aa661['JEfCD'](!_0x5c6ba4,!_0x24b508)){_0x593f2d[_0x3f079f(0x359)]=_0x1aa661[_0x3f079f(0x2af)],_0x593f2d[_0x3f079f(0x16c)]['display']=_0x1aa661[_0x3f079f(0x183)];return;}const _0x4a0840=_0x1aa661['zUXTQ'](sanitizeUsername,_0x5c6ba4),_0x492427=db[_0x3f079f(0xf6)](_0x3f079f(0x164)+_0x4a0840),_0x4cc2cb=await _0x492427[_0x3f079f(0x13c)]();if(isRegisterMode){if(_0x4cc2cb['exists']()){_0x593f2d['innerText']=_0x1aa661[_0x3f079f(0x24e)],_0x593f2d[_0x3f079f(0x16c)][_0x3f079f(0x292)]=_0x1aa661[_0x3f079f(0x183)];return;}if(_0x24b508!==_0x4f7b78){_0x593f2d[_0x3f079f(0x359)]=_0x3f079f(0x2c7),_0x593f2d['style'][_0x3f079f(0x292)]=_0x1aa661[_0x3f079f(0x183)];return;}const _0x2a19ac=await _0x1aa661[_0x3f079f(0xbc)](sha256,_0x24b508),_0x8d002b=await _0x1aa661[_0x3f079f(0x160)](generateDeviceId);if(_0xd3ebb8[_0x3f079f(0x1d5)][_0x3f079f(0x17d)]){const _0x2515c3=_0xd3ebb8['files'][0x0],_0x55fb30=new FileReader();_0x55fb30[_0x3f079f(0x121)]=async()=>{const _0x33c661=_0x3f079f,_0x4c82ab=_0x55fb30['result'][_0x33c661(0x227)](',')[0x1];await _0x492427[_0x33c661(0x173)]({'username':_0x5c6ba4,'passwordHash':_0x2a19ac,'description':_0x1aa661[_0x33c661(0x303)](_0x1bc651,''),'avatarBase64':_0x4c82ab,'role':_0x33c661(0x2e8),'deviceId':_0x8d002b,'usernameHistory':[_0x5c6ba4],'lastChanged':Date[_0x33c661(0xfe)]()}),username=_0x5c6ba4,userDescription=_0x1bc651,avatarBase64=_0x4c82ab,role=_0x1aa661['tCqsf'],startAfterAuth();},_0x55fb30['readAsDataURL'](_0x2515c3);}else{const _0x626a01=_0x3f079f(0x30b)[_0x3f079f(0x227)]('|');let _0x3a9e29=0x0;while(!![]){switch(_0x626a01[_0x3a9e29++]){case'0':avatarBase64='';continue;case'1':_0x1aa661[_0x3f079f(0xed)](startAfterAuth);continue;case'2':userDescription=_0x1bc651;continue;case'3':username=_0x5c6ba4;continue;case'4':await _0x492427[_0x3f079f(0x173)]({'username':_0x5c6ba4,'passwordHash':_0x2a19ac,'description':_0x1aa661[_0x3f079f(0x25d)](_0x1bc651,''),'avatarBase64':'','role':_0x1aa661[_0x3f079f(0x180)],'deviceId':_0x8d002b,'usernameHistory':[_0x5c6ba4],'lastChanged':Date[_0x3f079f(0xfe)]()});continue;case'5':role=_0x1aa661[_0x3f079f(0x180)];continue;}break;}}}else{if(!_0x4cc2cb['exists']()){_0x593f2d[_0x3f079f(0x359)]=_0x3f079f(0x233),_0x593f2d['style'][_0x3f079f(0x292)]=_0x1aa661[_0x3f079f(0x183)];return;}const _0xfbdcc2=_0x4cc2cb['val'](),_0x4aed99=await sha256(_0x24b508);if(_0x1aa661['NoqsA'](_0x4aed99,_0xfbdcc2['passwordHash'])){_0x593f2d[_0x3f079f(0x359)]=_0x1aa661['zjIEO'],_0x593f2d[_0x3f079f(0x16c)][_0x3f079f(0x292)]=_0x1aa661[_0x3f079f(0x183)];return;}username=_0x5c6ba4;if(_0xfbdcc2[_0x3f079f(0x25b)])userDescription=_0xfbdcc2[_0x3f079f(0x25b)];if(_0xfbdcc2[_0x3f079f(0x166)])avatarBase64=_0xfbdcc2[_0x3f079f(0x166)];if(_0xfbdcc2[_0x3f079f(0x2a2)])role=_0xfbdcc2['role'];else role='user';_0x1aa661[_0x3f079f(0xaf)](startAfterAuth);}}async function saveNewUser(_0x30a078,_0x775e6,_0x377335,_0x580977,_0x5cc6ff){const _0x3cd18c=_0x20c1d8,_0x49efd2={'hGpSV':'user','eExza':function(_0x3a3555,_0x2e05f4){return _0x3a3555||_0x2e05f4;},'bQMmr':function(_0xde1ec6){return _0xde1ec6();}},_0x48a0ea=db[_0x3cd18c(0xf6)](_0x3cd18c(0x164)+sanitizeUsername(_0x30a078)),_0x29be23={'username':_0x30a078,'passwordHash':_0x775e6,'role':_0x49efd2[_0x3cd18c(0x2b6)],'deviceId':_0x377335,'description':_0x49efd2['eExza'](_0x5cc6ff,''),'avatarBase64':_0x580977||'','usernameHistory':[_0x30a078],'lastChanged':Date['now']()};await _0x48a0ea[_0x3cd18c(0x173)](_0x29be23),username=_0x30a078,_0x580977=_0x29be23[_0x3cd18c(0x166)],userDescription=_0x29be23[_0x3cd18c(0x25b)],_0x49efd2[_0x3cd18c(0x2ad)](startAfterAuth);}async function startAfterAuth(){const _0x59e92c=_0x20c1d8,_0x5d56b7={'wQPIb':'user','LScFv':_0x59e92c(0x26c),'RoZZO':_0x59e92c(0x17c),'lnoCh':_0x59e92c(0x31d),'Rjzxa':_0x59e92c(0x35a),'jJRsO':function(_0x2a86c8){return _0x2a86c8();},'zrwNd':function(_0x19b7a7,_0x51b2b5){return _0x19b7a7(_0x51b2b5);}},_0x28d2f7=sanitizeUsername(username),_0x5c8155=db[_0x59e92c(0xf6)](_0x59e92c(0x164)+_0x28d2f7),_0x114221=await _0x5c8155[_0x59e92c(0x13c)]();if(_0x114221[_0x59e92c(0xe0)]()){const _0x5512d8=_0x114221['val']();username=_0x5512d8[_0x59e92c(0xad)],userDescription=_0x5512d8[_0x59e92c(0x25b)]||'',avatarBase64=_0x5512d8[_0x59e92c(0x166)]||'',role=_0x5512d8['role']||_0x5d56b7[_0x59e92c(0xaa)];if(avatarBase64){const _0x212964=document['getElementById'](_0x5d56b7[_0x59e92c(0xb4)]);_0x212964[_0x59e92c(0x19d)]=_0x5d56b7['RoZZO']+avatarBase64,_0x212964[_0x59e92c(0x16c)][_0x59e92c(0x292)]=_0x5d56b7[_0x59e92c(0x1d1)];}}else console['warn'](_0x5d56b7[_0x59e92c(0x242)]);await _0x5d56b7['jJRsO'](loadRoomRoles),document[_0x59e92c(0x33d)](_0x59e92c(0x2a9))['innerText']=username,_0x5d56b7[_0x59e92c(0x12a)](showScreen,'roomChoiceScreen');}function toggleRecording(){const _0x2d3208=_0x20c1d8,_0x216f3b={'XKteB':function(_0x23dea5,_0x3cd7d0){return _0x23dea5&&_0x3cd7d0;},'DrSxK':_0x2d3208(0x1e2),'GYqic':function(_0x5bc5c4,_0x346b0a,_0x2ef1dd){return _0x5bc5c4(_0x346b0a,_0x2ef1dd);},'hyIyH':function(_0x57f8a2,_0x34acf7){return _0x57f8a2(_0x34acf7);},'yxHTH':_0x2d3208(0x2c6),'ZkrlS':function(_0x60bbeb){return _0x60bbeb();}};isRecording?_0x216f3b[_0x2d3208(0x1ea)](stopRecording):navigator[_0x2d3208(0x2d8)][_0x2d3208(0x201)]({'audio':!![]})[_0x2d3208(0x19a)](_0x34638c=>{const _0x30d9c9=_0x2d3208,_0x3a1d1d={'UMMFK':function(_0x34c19c,_0x54f23b){return _0x34c19c(_0x54f23b);},'KrsCm':_0x216f3b[_0x30d9c9(0x230)]};mediaRecorder=new MediaRecorder(_0x34638c),mediaRecorder[_0x30d9c9(0x1bd)](),isRecording=!![],document[_0x30d9c9(0x33d)](_0x30d9c9(0x28d))[_0x30d9c9(0x359)]='⏹️',audioChunks=[],mediaRecorder[_0x30d9c9(0x140)]=_0x59247d=>audioChunks[_0x30d9c9(0xb2)](_0x59247d[_0x30d9c9(0x229)]),mediaRecorder[_0x30d9c9(0x280)]=()=>{const _0x258f9=_0x30d9c9;_0x3a1d1d[_0x258f9(0x14a)](clearTimeout,recordingTimer);const _0x3c18b9=new Blob(audioChunks,{'type':_0x3a1d1d[_0x258f9(0x1b2)]}),_0xc22c7e=new FileReader();_0xc22c7e[_0x258f9(0x121)]=()=>{const _0x28f2d9=_0x258f9,_0x3e5472=_0xc22c7e[_0x28f2d9(0x307)]['split'](',')[0x1],_0x147c56=db[_0x28f2d9(0xf6)]()[_0x28f2d9(0xb2)]()[_0x28f2d9(0x340)];db[_0x28f2d9(0xf6)](_0x28f2d9(0x204)+roomCode+_0x28f2d9(0x18d)+_0x147c56)[_0x28f2d9(0x173)]({'msg':_0x28f2d9(0x2e6),'audioBase64':_0x3e5472,'sender':username,'senderId':clientId,'timestamp':Date[_0x28f2d9(0xfe)]()});},_0xc22c7e['readAsDataURL'](_0x3c18b9);},recordingTimer=_0x216f3b[_0x30d9c9(0x333)](setTimeout,()=>{const _0x152362=_0x30d9c9;_0x216f3b[_0x152362(0x19f)](mediaRecorder,isRecording)&&stopRecording();},0x4e20);})[_0x2d3208(0x2a6)](_0x4f6473=>{const _0x5a5863=_0x2d3208;_0x216f3b['hyIyH'](alert,_0x216f3b[_0x5a5863(0xe4)]);});}function stopRecording(){const _0x41d91a=_0x20c1d8,_0x3468d7={'rvTVa':_0x41d91a(0x28d),'tFIaT':'🎙️'};mediaRecorder&&isRecording&&(mediaRecorder['stop'](),isRecording=![],document['getElementById'](_0x3468d7[_0x41d91a(0x199)])[_0x41d91a(0x359)]=_0x3468d7[_0x41d91a(0x22b)]);}window[_0x20c1d8(0x24d)]=async()=>{const _0x2a8392=_0x20c1d8,_0x4bbbb4={'MskXs':function(_0x4148a0){return _0x4148a0();},'bCsuh':function(_0x1f0d56){return _0x1f0d56();},'LeZNR':function(_0xe2ab2e){return _0xe2ab2e();},'BRwhc':'notifications_enabled','xVtaT':function(_0xe070c6,_0x121cfc){return _0xe070c6===_0x121cfc;},'jfncV':'true','NSZTI':function(_0x324208,_0x428274){return _0x324208(_0x428274);},'tMpDo':_0x2a8392(0x2d2)};_0x4bbbb4[_0x2a8392(0x1fa)](cleanupOldRooms),_0x4bbbb4[_0x2a8392(0x1fa)](setupSidebarBackHandler),_0x4bbbb4['bCsuh'](setupVisibilityAttention),_0x4bbbb4[_0x2a8392(0x9e)](resetWebsiteData);const _0x17ea7f=localStorage[_0x2a8392(0x1fd)](_0x4bbbb4[_0x2a8392(0xcf)]);notificationsEnabled=_0x4bbbb4['xVtaT'](_0x17ea7f,_0x4bbbb4[_0x2a8392(0x1e0)]),_0x4bbbb4[_0x2a8392(0x247)](showScreen,_0x4bbbb4[_0x2a8392(0x33e)]);};function sanitizeUsername(_0xbf7b4f){const _0xc24129=_0x20c1d8;return _0xbf7b4f[_0xc24129(0x300)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3f7a0d=_0x20c1d8,_0x3e966b={'LRCAu':_0x3f7a0d(0x31d),'UauUz':'4|1|3|2|0','fxyzf':_0x3f7a0d(0x345),'QjHav':_0x3f7a0d(0x2a9),'PFLLu':'❌\x20Username\x20already\x20taken.','yYuXa':_0x3f7a0d(0x15d),'yXdEz':_0x3f7a0d(0x1b6),'AnjjU':'profileDescriptionInput','dWVtd':'profileError','LJJlv':function(_0x513bb1,_0x7283df){return _0x513bb1||_0x7283df;},'jqBAU':function(_0x173245,_0x5b85ff){return _0x173245(_0x5b85ff);},'MiWwN':_0x3f7a0d(0xef)},_0x54406c=document[_0x3f7a0d(0x33d)](_0x3f7a0d(0x200))[_0x3f7a0d(0xef)][_0x3f7a0d(0x212)](),_0x34a8e3=document['getElementById'](_0x3e966b[_0x3f7a0d(0x308)])[_0x3f7a0d(0xef)][_0x3f7a0d(0x212)](),_0x54f51e=document[_0x3f7a0d(0x33d)](_0x3e966b[_0x3f7a0d(0x350)]);if(_0x3e966b[_0x3f7a0d(0x330)](!_0x54406c,!_0x34a8e3)){_0x54f51e[_0x3f7a0d(0x359)]=_0x3f7a0d(0x25e),_0x54f51e[_0x3f7a0d(0x16c)]['display']=_0x3e966b[_0x3f7a0d(0x2bf)];return;}const _0x151b3c=_0x3e966b[_0x3f7a0d(0x153)](sanitizeUsername,_0x54406c),_0x55dfb7=db[_0x3f7a0d(0xf6)](_0x3f7a0d(0xc8)+_0x151b3c);_0x55dfb7[_0x3f7a0d(0x268)](_0x3e966b[_0x3f7a0d(0xae)])[_0x3f7a0d(0x19a)](_0x45f2a8=>{const _0x4527ec=_0x3f7a0d,_0x2aa40c={'rkOEb':_0x4527ec(0x13a),'ZZIXQ':_0x3e966b[_0x4527ec(0x2bf)],'JMkeW':_0x3e966b[_0x4527ec(0xb0)],'sgjTC':function(_0x2c0636,_0x41eb51){return _0x2c0636(_0x41eb51);},'GCfCj':_0x3e966b[_0x4527ec(0x2ed)],'aElBN':_0x3e966b[_0x4527ec(0x17a)],'UNOYP':_0x4527ec(0xd0)};if(_0x45f2a8[_0x4527ec(0xe0)]())_0x54f51e['innerText']=_0x3e966b[_0x4527ec(0x127)],_0x54f51e[_0x4527ec(0x16c)][_0x4527ec(0x292)]=_0x3e966b[_0x4527ec(0x2bf)];else{const _0x571598={'username':_0x54406c,'description':_0x34a8e3,'lastChanged':Date[_0x4527ec(0xfe)](),'usernameHistory':[_0x54406c]};_0x55dfb7[_0x4527ec(0x173)](_0x571598,_0x3960f2=>{const _0x48cf30=_0x4527ec;if(_0x3960f2)console[_0x48cf30(0x23a)](_0x2aa40c[_0x48cf30(0x1c0)],_0x3960f2),_0x54f51e['innerText']=_0x48cf30(0x24c),_0x54f51e[_0x48cf30(0x16c)][_0x48cf30(0x292)]=_0x2aa40c[_0x48cf30(0x22e)];else{const _0x38f0a7=_0x2aa40c['JMkeW'][_0x48cf30(0x227)]('|');let _0x35efd3=0x0;while(!![]){switch(_0x38f0a7[_0x35efd3++]){case'0':_0x2aa40c[_0x48cf30(0x147)](showScreen,_0x2aa40c[_0x48cf30(0x10d)]);continue;case'1':localStorage[_0x48cf30(0x12b)]('profile_description',_0x34a8e3);continue;case'2':document[_0x48cf30(0x33d)](_0x2aa40c[_0x48cf30(0x12d)])[_0x48cf30(0x359)]=_0x54406c;continue;case'3':username=_0x54406c;continue;case'4':localStorage[_0x48cf30(0x12b)](_0x2aa40c[_0x48cf30(0x2d0)],_0x54406c);continue;}break;}}});}})['catch'](_0x60e505=>{const _0x29f1f1=_0x3f7a0d;console[_0x29f1f1(0x23a)](_0x3e966b[_0x29f1f1(0x22d)],_0x60e505),_0x54f51e[_0x29f1f1(0x359)]=_0x3e966b[_0x29f1f1(0xf7)],_0x54f51e['style'][_0x29f1f1(0x292)]=_0x3e966b[_0x29f1f1(0x2bf)];});}function saveProfile(_0x36f7bf,_0x19f818,_0x20e601){const _0x5e2fe0=_0x20c1d8,_0x446643={'zGLyQ':_0x5e2fe0(0x2a9),'NWaXL':function(_0x250268,_0x3755ff){return _0x250268(_0x3755ff);},'QXZWT':_0x5e2fe0(0x345)},_0x518e4c=Date[_0x5e2fe0(0xfe)](),_0xe166c4=[_0x36f7bf];db['ref'](_0x5e2fe0(0xc8)+_0x20e601)[_0x5e2fe0(0x173)]({'username':_0x36f7bf,'description':_0x19f818,'lastChanged':_0x518e4c,'usernameHistory':_0xe166c4}),document['getElementById'](_0x446643['zGLyQ'])[_0x5e2fe0(0x359)]=_0x36f7bf,_0x446643[_0x5e2fe0(0x2ba)](showScreen,_0x446643[_0x5e2fe0(0x241)]);}function generateRoom(){const _0x336197=_0x20c1d8,_0x24e51a={'HLsvn':function(_0x45625e,_0x1bd5b1){return _0x45625e+_0x1bd5b1;},'xRyny':_0x336197(0x204),'fvaYd':function(_0x2f55e4){return _0x2f55e4();}};roomCode=genRoomCode(),db[_0x336197(0xf6)](_0x24e51a[_0x336197(0x1dd)](_0x24e51a[_0x336197(0x15b)],roomCode))[_0x336197(0x173)]({'active':!![],'created':Date[_0x336197(0xfe)]()}),_0x24e51a[_0x336197(0x101)](startChat);}function joinRoom(){const _0x217fbd=_0x20c1d8,_0x2d6818={'HbduP':function(_0x338796,_0x1f2779){return _0x338796!==_0x1f2779;},'pfaEL':_0x217fbd(0x11f),'HZXov':function(_0xe7d027,_0x14d2cf){return _0xe7d027===_0x14d2cf;},'rZFCV':_0x217fbd(0x204)},_0x512e38=roomCode||document[_0x217fbd(0x33d)](_0x2d6818[_0x217fbd(0xb1)])['value']['trim']()[_0x217fbd(0x11d)]();if(!_0x512e38)return alert(_0x217fbd(0x14f));roomCode=_0x512e38;if(_0x2d6818[_0x217fbd(0x128)](roomCode,STATIC_ROOM)){showScreen(_0x217fbd(0x30f));return;}db[_0x217fbd(0xf6)](_0x2d6818[_0x217fbd(0x177)]+roomCode)[_0x217fbd(0x13c)]()[_0x217fbd(0x19a)](_0xa3512c=>{const _0x4a4a17=_0x217fbd;_0xa3512c['exists']()&&_0x2d6818[_0x4a4a17(0x1b7)](_0xa3512c['val']()[_0x4a4a17(0x10b)],![])?startChat():alert(_0x4a4a17(0x221));});}async function startChat(){const _0x5690f5=_0x20c1d8,_0x47fbd2={'DirJF':function(_0x4ff39c,_0x1c58f4){return _0x4ff39c===_0x1c58f4;},'EaAhV':'admin','nOfLd':function(_0x4705ae,_0x457533){return _0x4705ae(_0x457533);},'ywkTR':'Failed\x20to\x20register\x20user\x20into\x20room.','Tixqk':_0x5690f5(0x345),'UKGwq':function(_0x5ea36f,_0x4118b9){return _0x5ea36f+_0x4118b9;},'XNQgZ':_0x5690f5(0x17c),'qGApI':'userDisplay','uGxFG':_0x5690f5(0x31d),'lfQik':_0x5690f5(0x272),'XaWGR':function(_0x5c6c66,_0x1962c1){return _0x5c6c66(_0x1962c1);},'DsXpQ':'chatScreen','ziCTh':_0x5690f5(0x15e),'TChWy':_0x5690f5(0x11a),'OAqnH':function(_0xa89fdc){return _0xa89fdc();},'ovpHH':function(_0x40cff8){return _0x40cff8();},'JSiLl':function(_0x2fcc52,_0x32d6a3){return _0x2fcc52||_0x32d6a3;},'veFzf':'Missing\x20room\x20or\x20user\x20information.','OcAuQ':function(_0x666c85,_0x1917e2){return _0x666c85(_0x1917e2);},'HIWsn':function(_0x378b82){return _0x378b82();},'zjvrO':function(_0x39e753){return _0x39e753();},'JyTsy':function(_0x45211d){return _0x45211d();}};if(_0x47fbd2['JSiLl'](!roomCode,!username))return _0x47fbd2['nOfLd'](alert,_0x47fbd2[_0x5690f5(0xb8)]),_0x47fbd2['OcAuQ'](showScreen,_0x47fbd2[_0x5690f5(0xa5)]);_0x47fbd2[_0x5690f5(0x264)](listenForPauseState),_0x47fbd2[_0x5690f5(0x14e)](listenForUserList),await _0x47fbd2[_0x5690f5(0x21d)](loadRoomRoles),_0x47fbd2[_0x5690f5(0x108)](listenForAnnouncement);const _0x316ea9=_0x47fbd2[_0x5690f5(0xdc)](sanitizeUsername,username),_0x4c2549=db[_0x5690f5(0xf6)](_0x5690f5(0x1bb)+roomCode+'/'+_0x316ea9),_0x105a18={'username':username,'online':!![],'lastOnline':firebase[_0x5690f5(0x2aa)]['ServerValue']['TIMESTAMP']};_0x4c2549[_0x5690f5(0x173)](_0x105a18,_0x35a87f=>{const _0x453e2a=_0x5690f5,_0x32c622={'vGvXu':function(_0x35e3fb,_0x12e71b){const _0x24366d=_0x1021;return _0x47fbd2[_0x24366d(0x346)](_0x35e3fb,_0x12e71b);},'HpnZW':_0x47fbd2[_0x453e2a(0x2f6)],'CvNtR':'dev','khTQb':function(_0x1ee849,_0xb0664){return _0x47fbd2['nOfLd'](_0x1ee849,_0xb0664);}};if(_0x35a87f)return _0x47fbd2[_0x453e2a(0xdc)](alert,_0x47fbd2['ywkTR']),_0x47fbd2[_0x453e2a(0xdc)](showScreen,_0x47fbd2['Tixqk']);const _0x40738f=document[_0x453e2a(0x33d)](_0x453e2a(0x26c));avatarBase64&&(_0x40738f[_0x453e2a(0x19d)]=_0x47fbd2['UKGwq'](_0x47fbd2[_0x453e2a(0x1c4)],avatarBase64),_0x40738f[_0x453e2a(0x16c)][_0x453e2a(0x292)]=_0x453e2a(0x31d));document['getElementById'](_0x47fbd2[_0x453e2a(0x107)])[_0x453e2a(0x16e)]=username+'\x20'+getRoleTag(_0x316ea9),document['getElementById'](_0x453e2a(0x1b1))['innerText']=_0x47fbd2['DirJF'](roomCode,STATIC_ROOM)?_0x453e2a(0x357):roomCode;[_0x47fbd2[_0x453e2a(0x2f6)],_0x453e2a(0x35f),_0x453e2a(0x116)][_0x453e2a(0x310)](role)?document[_0x453e2a(0x33d)](_0x453e2a(0x161))[_0x453e2a(0x16c)][_0x453e2a(0x292)]=_0x47fbd2['uGxFG']:document[_0x453e2a(0x33d)](_0x453e2a(0x161))[_0x453e2a(0x16c)][_0x453e2a(0x292)]=_0x453e2a(0x2fd);const _0x29f809=db[_0x453e2a(0xf6)]()[_0x453e2a(0xb2)]()[_0x453e2a(0x340)];db['ref']('rooms/'+roomCode+_0x453e2a(0x18d)+_0x29f809)['set']({'msg':username+'\x20is\x20online','sender':'system','senderId':_0x47fbd2[_0x453e2a(0x21a)],'timestamp':Date[_0x453e2a(0xfe)]()}),_0x47fbd2[_0x453e2a(0x26a)](showScreen,_0x47fbd2[_0x453e2a(0x244)]);const _0x1fd382=document[_0x453e2a(0x33d)](_0x47fbd2[_0x453e2a(0xc7)]);_0x1fd382[_0x453e2a(0x15c)](_0x47fbd2[_0x453e2a(0xca)],_0x4da6c1=>{const _0x59a123=_0x453e2a;_0x32c622[_0x59a123(0x203)](_0x4da6c1[_0x59a123(0x34d)],0x3)&&(_0x32c622[_0x59a123(0x203)](role,_0x32c622[_0x59a123(0x285)])||_0x32c622[_0x59a123(0x203)](role,_0x32c622['CvNtR']))&&(_0x32c622[_0x59a123(0xfc)](confirm,'Remove\x20this\x20announcement?')&&db[_0x59a123(0xf6)]('rooms/'+roomCode+_0x59a123(0xd2))['remove']()['then'](()=>{const _0x552b66=_0x59a123;_0x1fd382[_0x552b66(0x359)]='';}));}),listenForMessages(),_0x47fbd2[_0x453e2a(0x1aa)](listenForTyping),_0x47fbd2[_0x453e2a(0x1aa)](startInactivityTimer),_0x47fbd2['OAqnH'](trackPresence),_0x47fbd2[_0x453e2a(0x108)](watchProfileChanges),_0x47fbd2[_0x453e2a(0x1aa)](watchMuteStatus);});}function watchProfileChanges(){const _0x1baf28=_0x20c1d8,_0x48f27c={'lpeXp':'sidebarAvatarPreview','ucluO':function(_0x1eec2b,_0x4d9298){return _0x1eec2b+_0x4d9298;},'oqwRp':_0x1baf28(0x17c),'EvBMS':function(_0x5af8be,_0x4c2aa4){return _0x5af8be(_0x4c2aa4);},'qpudo':_0x1baf28(0xef)},_0x524213=_0x48f27c['EvBMS'](sanitizeUsername,username);db[_0x1baf28(0xf6)](_0x1baf28(0x164)+_0x524213)['on'](_0x48f27c[_0x1baf28(0x120)],_0xcc97a7=>{const _0x3ecb94=_0x1baf28;if(!_0xcc97a7[_0x3ecb94(0xe0)]())return;const _0x522892=_0xcc97a7[_0x3ecb94(0x2be)]();userDescription=_0x522892['description']||'',avatarBase64=_0x522892[_0x3ecb94(0x166)]||'',role=_0x522892[_0x3ecb94(0x2a2)]||_0x3ecb94(0x2e8);if(avatarBase64){const _0x2d8044=document[_0x3ecb94(0x33d)](_0x48f27c[_0x3ecb94(0x351)]);!_0x2d8044[_0x3ecb94(0x19d)][_0x3ecb94(0x310)](avatarBase64)&&(_0x2d8044['src']=_0x48f27c[_0x3ecb94(0x23e)](_0x48f27c[_0x3ecb94(0x28e)],avatarBase64),_0x2d8044[_0x3ecb94(0x16c)]['display']=_0x3ecb94(0x31d));}renderUserLists(roomUsers);});}function uploadImage(_0x17b22a){const _0x240d53=_0x20c1d8,_0x2bd9aa={'jvsgQ':function(_0x32ee73,_0x2b6d60){return _0x32ee73>_0x2b6d60;},'aZlXh':function(_0x279668,_0xf5f1e4){return _0x279668*_0xf5f1e4;},'tinCT':function(_0x340a03,_0x526e1a){return _0x340a03*_0x526e1a;},'tPPtT':function(_0x322bae,_0xc1a79){return _0x322bae(_0xc1a79);},'VCJMj':_0x240d53(0x1db)},_0x344a28=_0x17b22a[_0x240d53(0x1d5)][0x0];if(!_0x344a28||_0x2bd9aa['jvsgQ'](_0x344a28['size'],_0x2bd9aa[_0x240d53(0x106)](_0x2bd9aa[_0x240d53(0x2dc)](0x2,0x400),0x400))){_0x2bd9aa[_0x240d53(0x174)](alert,_0x2bd9aa[_0x240d53(0x294)]);return;}const _0x4a1b9e=new FileReader();_0x4a1b9e['onloadend']=()=>{const _0x447878=_0x240d53,_0x45e12e=_0x4a1b9e[_0x447878(0x307)][_0x447878(0x227)](',')[0x1],_0x40e744=db[_0x447878(0xf6)]()[_0x447878(0xb2)]()[_0x447878(0x340)];db['ref'](_0x447878(0x204)+roomCode+_0x447878(0x18d)+_0x40e744)[_0x447878(0x173)]({'imageBase64':_0x45e12e,'sender':username,'senderId':clientId,'timestamp':Date[_0x447878(0xfe)]()});},_0x4a1b9e[_0x240d53(0x1df)](_0x344a28);}async function fetchProfile(_0x29a852){const _0x5ec906=_0x20c1d8,_0x447c44=await db[_0x5ec906(0xf6)](_0x5ec906(0x164)+_0x29a852)['get']();if(!_0x447c44[_0x5ec906(0xe0)]())return null;return _0x447c44[_0x5ec906(0x2be)]();}function validateStaticRoomPassword(){const _0x42c89d=_0x20c1d8,_0x352e6b={'fAqqB':function(_0x43e323,_0x2a9133){return _0x43e323(_0x2a9133);},'JEgga':function(_0x12f7a1){return _0x12f7a1();},'nrCbL':_0x42c89d(0x232),'degpd':function(_0x21b868,_0x185172){return _0x21b868(_0x185172);},'VLKwl':_0x42c89d(0xf5),'yDIdJ':'staticPasswordInput','GTXsO':'Please\x20enter\x20the\x20password.'},_0x2e8645=document[_0x42c89d(0x33d)](_0x352e6b['yDIdJ'])[_0x42c89d(0xef)][_0x42c89d(0x212)]();if(!_0x2e8645){_0x352e6b[_0x42c89d(0x35b)](alert,_0x352e6b[_0x42c89d(0x2ce)]);return;}db['ref'](_0x42c89d(0x34c)+STATIC_ROOM)[_0x42c89d(0x13c)]()[_0x42c89d(0x19a)](_0x4b7228=>{const _0x44bcbe=_0x42c89d;if(!_0x4b7228['exists']()){_0x352e6b[_0x44bcbe(0x2e4)](alert,_0x44bcbe(0x193));return;}const _0x2c0d3d=_0x4b7228[_0x44bcbe(0x2be)]();_0x2e8645===_0x2c0d3d?(roomCode=STATIC_ROOM,_0x352e6b[_0x44bcbe(0x1c5)](startChat)):(document[_0x44bcbe(0x33d)](_0x44bcbe(0x253))[_0x44bcbe(0x359)]=_0x352e6b[_0x44bcbe(0x178)],document[_0x44bcbe(0x33d)](_0x44bcbe(0x253))['style']['display']=_0x44bcbe(0x31d));})['catch'](_0x27fc17=>{const _0x381bdd=_0x42c89d;console[_0x381bdd(0x23a)](_0x27fc17),_0x352e6b[_0x381bdd(0x35b)](alert,_0x352e6b['VLKwl']);});}function listenForPauseState(){const _0x4daee3=_0x20c1d8,_0x165dd7={'PWODj':'pausedOverlay','NHPrS':_0x4daee3(0x31d),'GTGPE':_0x4daee3(0x2fd),'bnLza':_0x4daee3(0xef)};db['ref'](_0x4daee3(0x20f)+roomCode+_0x4daee3(0x314))['on'](_0x165dd7[_0x4daee3(0x114)],_0x1508e9=>{const _0x47bfa2=_0x4daee3,_0x423fbb=_0x1508e9[_0x47bfa2(0xe0)]()&&_0x1508e9[_0x47bfa2(0x2be)]()===!![];document[_0x47bfa2(0x33d)](_0x165dd7[_0x47bfa2(0xa9)])[_0x47bfa2(0x16c)][_0x47bfa2(0x292)]=_0x423fbb?_0x165dd7[_0x47bfa2(0x12f)]:_0x165dd7[_0x47bfa2(0xe9)];});}const spamTimestamps=[];async function sendMessage(){const _0x55f471=_0x20c1d8,_0x29b04e={'sUjcb':_0x55f471(0x2db),'Qjfrx':function(_0x124d9c,_0x15b28e){return _0x124d9c(_0x15b28e);},'WoEkz':_0x55f471(0xa8),'odDIl':function(_0x41e687,_0x250c03){return _0x41e687(_0x250c03);},'vmzFP':'⛔\x20You\x20are\x20muted.','HChCE':function(_0x2d18ed,_0xdf875c){return _0x2d18ed===_0xdf875c;},'NQXeV':function(_0x4d17ef,_0x463188){return _0x4d17ef!==_0x463188;},'CfoEY':_0x55f471(0x35f),'dvurN':'Room\x20is\x20currently\x20paused.','DnkzJ':_0x55f471(0x32f),'JIQEW':function(_0x526407,_0x311bd3){return _0x526407||_0x311bd3;},'xrLnr':_0x55f471(0x27d),'nMcfQ':_0x55f471(0xb6),'IJyco':function(_0x33f47e,_0x38d81b){return _0x33f47e(_0x38d81b);},'bcIpE':'⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.'},_0x14cd2b=await db[_0x55f471(0xf6)](_0x55f471(0x20f)+roomCode+_0x55f471(0x314))[_0x55f471(0x13c)](),_0x5d777d=await db['ref'](_0x55f471(0xc3)+roomCode+'/'+_0x29b04e[_0x55f471(0x27c)](sanitizeUsername,username))[_0x55f471(0x13c)]();if(_0x5d777d[_0x55f471(0xe0)]()){const _0xac7b31=_0x5d777d[_0x55f471(0x2be)](),_0x500eb6=typeof _0xac7b31===_0x29b04e['WoEkz']&&_0xac7b31[_0x55f471(0x171)]?_0xac7b31[_0x55f471(0x171)]:_0xac7b31;if(_0x500eb6>Date['now']()){_0x29b04e[_0x55f471(0x358)](alert,_0x29b04e[_0x55f471(0x256)]);return;}}if(_0x14cd2b[_0x55f471(0xe0)]()&&_0x29b04e[_0x55f471(0x29a)](_0x14cd2b[_0x55f471(0x2be)](),!![])&&_0x29b04e[_0x55f471(0x148)](role,_0x29b04e[_0x55f471(0x237)])){alert(_0x29b04e[_0x55f471(0xd1)]);return;}const _0x192f7e=document[_0x55f471(0x33d)](_0x29b04e[_0x55f471(0x122)]),_0x1cd9f6=_0x192f7e[_0x55f471(0xef)][_0x55f471(0x212)]();if(_0x29b04e['JIQEW'](!_0x1cd9f6,isBlocked))return;const _0x29d6fd=Date[_0x55f471(0xfe)](),_0x59f218=_0x1cd9f6[_0x55f471(0x187)](),_0x45bc22=swearWords[_0x55f471(0x112)](_0x311b23=>_0x59f218[_0x55f471(0x310)](_0x311b23));if(_0x45bc22){_0x29b04e[_0x55f471(0x27c)](alert,_0x29b04e[_0x55f471(0x2e2)]);return;}spamTimestamps['push'](_0x29d6fd);const _0x27a020=spamTimestamps['filter'](_0x59199d=>_0x29d6fd-_0x59199d<0x1b58);if(_0x27a020['length']>0x5){const _0x4c564a=_0x29b04e[_0x55f471(0x2f5)][_0x55f471(0x227)]('|');let _0x2a43e9=0x0;while(!![]){switch(_0x4c564a[_0x2a43e9++]){case'0':_0x192f7e['disabled']=!![];continue;case'1':_0x29b04e[_0x55f471(0xe3)](alert,_0x29b04e[_0x55f471(0xe7)]);continue;case'2':setTimeout(()=>{const _0x458815=_0x55f471;isBlocked=![],_0x192f7e[_0x458815(0x1a6)]=![],_0x192f7e[_0x458815(0x32e)]=_0x29b04e[_0x458815(0x110)],spamTimestamps[_0x458815(0x17d)]=0x0;},0x7530);continue;case'3':_0x192f7e[_0x55f471(0x32e)]='⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'4':isBlocked=!![];continue;case'5':return;}break;}}const _0x13630c=localStorage[_0x55f471(0x1fd)]('avatar_base64')||'',_0x39f36e=db[_0x55f471(0xf6)]()[_0x55f471(0xb2)]()[_0x55f471(0x340)];db[_0x55f471(0xf6)](_0x55f471(0x204)+roomCode+_0x55f471(0x18d)+_0x39f36e)['set']({'msg':_0x1cd9f6,'sender':username,'senderId':clientId,'avatarBase64':_0x13630c,'timestamp':_0x29d6fd}),_0x192f7e[_0x55f471(0xef)]='',_0x29b04e['IJyco'](sendTyping,!![]),lastActivity=_0x29d6fd;}function listenForMessages(){const _0x1809c5=_0x20c1d8,_0x2de247={'vKoRE':function(_0x5dfd2d,_0x4dcab2,_0x1c087e,_0x3d0463){return _0x5dfd2d(_0x4dcab2,_0x1c087e,_0x3d0463);},'sxLoM':function(_0x4eaa0c,_0x3c5ed2){return _0x4eaa0c===_0x3c5ed2;},'NIBAs':function(_0x28d0e9,_0x379df2){return _0x28d0e9!==_0x379df2;},'cUpLa':_0x1809c5(0x272),'HIMve':function(_0x328232,_0x37dd59){return _0x328232&&_0x37dd59;},'KLmCv':'granted','qJmGp':_0x1809c5(0xb9),'Zamxo':'[Image]','gDILN':'[Unknown]','dLukm':_0x1809c5(0x35c),'AtNam':_0x1809c5(0x2f4),'cWjpX':_0x1809c5(0x132)},_0x4c813f=db[_0x1809c5(0xf6)](_0x1809c5(0x204)+roomCode+'/messages'),_0x1782f6=_0x4c813f[_0x1809c5(0x23b)](MAX_MESSAGES);userListReady=!![],_0x1782f6['on'](_0x2de247[_0x1809c5(0x17e)],_0x5413cd=>{const _0x38952e=_0x1809c5,_0x37ce00=_0x5413cd['val'](),{senderId:_0x3ac187}=_0x37ce00,_0x3e7396=_0x2de247[_0x38952e(0x2c2)](_0x3ac187,clientId);if(!userListReady){pendingMessages[_0x38952e(0x2b8)](({data:_0x1f474b,sent:_0x3f8019,key:_0x461755})=>{_0x2de247['vKoRE'](addMessage,_0x1f474b,_0x3f8019,_0x461755);}),pendingMessages=[];return;}const _0x3b0510=_0x37ce00[_0x38952e(0x129)]||null,_0x2f437c=_0x37ce00[_0x38952e(0x34a)]||null;_0x2de247[_0x38952e(0x27a)](addMessage,_0x37ce00,_0x3e7396,_0x5413cd[_0x38952e(0x340)]);_0x2de247['NIBAs'](roomCode,STATIC_ROOM)&&_0x37ce00['sender']!==_0x2de247[_0x38952e(0x313)]&&db[_0x38952e(0xf6)](_0x38952e(0x204)+roomCode+_0x38952e(0x18d)+_0x5413cd[_0x38952e(0x340)])[_0x38952e(0x159)]();!_0x3e7396&&(sound[_0x38952e(0x133)](),flagPageAttention());if(_0x2de247['HIMve'](notificationsEnabled,!_0x3e7396)){if(document[_0x38952e(0x1d4)]&&Notification['permission']===_0x2de247[_0x38952e(0x2f2)]){const _0x18bdb9=_0x37ce00[_0x38952e(0x1b5)]||(_0x37ce00[_0x38952e(0x34a)]?_0x2de247[_0x38952e(0x2c5)]:_0x37ce00[_0x38952e(0x1f4)]?_0x2de247[_0x38952e(0xe2)]:_0x2de247[_0x38952e(0x209)]);new Notification(_0x38952e(0x220)+_0x37ce00[_0x38952e(0x17b)],{'body':_0x18bdb9,'icon':_0x2de247[_0x38952e(0x1ed)]});}}}),db[_0x1809c5(0xf6)](_0x1809c5(0x204)+roomCode+_0x1809c5(0x315))['on'](_0x2de247[_0x1809c5(0x19e)],_0x3887c3=>{const _0x424e51=_0x1809c5,_0x574b37=_0x3887c3[_0x424e51(0x340)],_0x2ba34f=document['querySelector'](_0x424e51(0xbe)+_0x574b37+'\x22]');if(_0x2ba34f)_0x2ba34f[_0x424e51(0x159)]();});}function stackNotification(_0x1d8b91,_0x3949da){const _0x48df2c=_0x20c1d8,_0xf31ebf={'NJkEN':function(_0x2cf1d9){return _0x2cf1d9();},'UOmFr':function(_0x8bcd7b,_0x2a60bf){return _0x8bcd7b(_0x2a60bf);}};notificationStack[_0x48df2c(0xb2)]({'sender':_0x1d8b91,'content':_0x3949da}),_0xf31ebf[_0x48df2c(0x222)](clearTimeout,notificationTimer),notificationTimer=setTimeout(()=>{const _0x37be04=_0x48df2c;_0xf31ebf[_0x37be04(0x2ea)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x3d736e=_0x20c1d8,_0x21c447={'vKBNC':_0x3d736e(0x1a5),'lbYZY':function(_0x597bde,_0xb7a910){return _0x597bde!==_0xb7a910;},'heuqk':_0x3d736e(0x1ec),'PVijP':function(_0x5751c1,_0x13c08){return _0x5751c1||_0x13c08;},'oFlag':_0x3d736e(0xd9),'BsaeH':function(_0xebbba7,_0x1994cb){return _0xebbba7===_0x1994cb;},'RjUjz':function(_0x27aa91,_0xbae54a,_0x1be354){return _0x27aa91(_0xbae54a,_0x1be354);}};if(!notificationStack[_0x3d736e(0x17d)]||_0x21c447[_0x3d736e(0x28a)](Notification[_0x3d736e(0x1cd)],_0x21c447[_0x3d736e(0x277)]))return;const _0x499c4f=[...new Set(notificationStack[_0x3d736e(0x117)](_0x58c2d6=>_0x58c2d6[_0x3d736e(0x17b)]))],_0x30d111=_0x21c447['PVijP'](roomCode,_0x21c447[_0x3d736e(0x10e)]),_0x2919b5=_0x21c447[_0x3d736e(0x1ce)](_0x499c4f[_0x3d736e(0x17d)],0x1)?_0x3d736e(0x142)+_0x499c4f[0x0]+_0x3d736e(0x27b)+_0x30d111+':\x20'+notificationStack[0x0][_0x3d736e(0x24f)]:_0x3d736e(0x169)+_0x499c4f[_0x3d736e(0x2cf)](',\x20')+_0x3d736e(0x27b)+_0x30d111;_0x21c447[_0x3d736e(0xc5)](setTimeout,()=>{const _0x11c1cf=_0x3d736e;new Notification(_0x21c447[_0x11c1cf(0xf0)],{'body':_0x2919b5,'icon':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg'});},0x64);}async function addMessage(_0x47bf0e,_0x1af0fc,_0x8b6ef0=null){const _0x2ee516=_0x20c1d8,_0x3459b7={'RegKy':function(_0x1a3490,_0x251cc7,_0x231e6a){return _0x1a3490(_0x251cc7,_0x231e6a);},'ieHlm':_0x2ee516(0x135),'rupIr':_0x2ee516(0x225),'BWbOQ':function(_0x4f4de9,_0xccb41d){return _0x4f4de9(_0xccb41d);},'puBRd':'none','XEbTY':function(_0x7d3322,_0x3adf59){return _0x7d3322>_0x3adf59;},'mHJqc':function(_0x4254e5,_0x357c4e){return _0x4254e5===_0x357c4e;},'tOGuE':function(_0x156138,_0x537335){return _0x156138(_0x537335);},'xSdTb':_0x2ee516(0x206),'PDGnw':_0x2ee516(0x272),'qbUDZ':_0x2ee516(0x29d),'vtEmQ':_0x2ee516(0x1de),'agLZJ':'0.8rem','lcQOq':'#aaa','FPxUG':_0x2ee516(0x317),'jMFtG':_0x2ee516(0x1c1),'PaNEw':'msg','foLNv':_0x2ee516(0x34b),'iHgOw':_0x2ee516(0x248),'zYHkJ':_0x2ee516(0x25f),'cFDdb':'2-digit','ZrfmJ':function(_0xec66e2,_0x538ca4){return _0xec66e2(_0x538ca4);},'wOZCu':_0x2ee516(0x1ba),'JOoCn':_0x2ee516(0x2e3),'DXAue':_0x2ee516(0x1c3),'lAfFp':'#222','fywiZ':_0x2ee516(0x30d),'rRTCU':_0x2ee516(0x279),'JvrRS':_0x2ee516(0xce),'eQmsj':'0px','VlTrg':'160px','PBptD':'normal','Ducul':_0x2ee516(0x28c),'DmpAw':_0x2ee516(0x257),'WtiBy':_0x2ee516(0x305),'hyYyP':'touchstart','LaMuO':_0x2ee516(0x342),'BrSZC':_0x2ee516(0xef),'oKPES':_0x2ee516(0x31b),'bgmPO':_0x2ee516(0x116)},{msg:_0x42bad7,sender:_0x61bbd5,senderId:_0x506e80,timestamp:_0x3969cc,audioUrl:_0x3cb4fc,audioBase64:_0x2782dc,imageBase64:_0x467909}=_0x47bf0e,_0x13c56c=_0x3459b7[_0x2ee516(0x33f)](sanitizeUsername,_0x61bbd5),_0x5bcece=document[_0x2ee516(0x195)]('div');if(_0x3459b7['mHJqc'](_0x47bf0e[_0x2ee516(0x17b)],_0x3459b7['PDGnw'])){const _0x499196=document['createElement'](_0x3459b7[_0x2ee516(0x1f9)]);_0x499196[_0x2ee516(0x16c)][_0x2ee516(0x14d)]=_0x3459b7[_0x2ee516(0x24b)],_0x499196['style'][_0x2ee516(0x2d5)]=_0x3459b7['agLZJ'],_0x499196[_0x2ee516(0x16c)][_0x2ee516(0x1b4)]=_0x3459b7[_0x2ee516(0x2c3)],_0x499196[_0x2ee516(0x16c)][_0x2ee516(0x34e)]=_0x3459b7[_0x2ee516(0x2b3)],_0x499196[_0x2ee516(0x359)]=_0x47bf0e['msg'];const _0x7bdefa=document[_0x2ee516(0x33d)](_0x3459b7[_0x2ee516(0xc6)]);_0x7bdefa['appendChild'](_0x499196),_0x7bdefa[_0x2ee516(0x2b1)]=_0x7bdefa['scrollHeight'];return;}_0x5bcece[_0x2ee516(0x274)]['add'](_0x3459b7[_0x2ee516(0x2d6)],_0x1af0fc?_0x3459b7[_0x2ee516(0xec)]:_0x3459b7[_0x2ee516(0x1d9)]),_0x5bcece['style']['position']=_0x3459b7['zYHkJ'];_0x8b6ef0&&(_0x5bcece[_0x2ee516(0x32d)][_0x2ee516(0x18f)]=_0x8b6ef0);const _0xc46af3=new Date(_0x3969cc)[_0x2ee516(0x2c9)]([],{'hour':_0x3459b7[_0x2ee516(0x2a1)],'minute':_0x3459b7[_0x2ee516(0x2a1)]}),_0x4f6b6a=_0x3459b7[_0x2ee516(0x33b)](getRoleTag,_0x13c56c),_0x54e4ef=await _0x3459b7[_0x2ee516(0x33f)](fetchAvatar,_0x13c56c),_0x5c4e14=_0x54e4ef?_0x2ee516(0x266)+_0x54e4ef+_0x2ee516(0x9b):'',_0x12d200=_0x5c4e14+_0x2ee516(0x20a)+_0x61bbd5+'\x20'+_0x4f6b6a+'</span>',_0x42aff5=_0x42bad7?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x2ee516(0x250));let _0x5498c0=_0x12d200+_0x2ee516(0x215);if(_0x3cb4fc)_0x5498c0+=_0x2ee516(0x226)+_0x3cb4fc+_0x2ee516(0x2ca);else{if(_0x2782dc){const _0x2d61fb='data:audio/webm;base64,'+_0x2782dc;_0x5498c0+=_0x2ee516(0x226)+_0x2d61fb+_0x2ee516(0x2ca);}else{if(_0x467909){const _0xed1512=_0x2ee516(0x17c)+_0x467909;_0x5498c0+=_0x2ee516(0x2a3)+_0xed1512+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x5498c0+=_0x2ee516(0x29e)+_0x42aff5+_0x2ee516(0x31a);}}_0x5498c0+='<small>'+_0xc46af3+_0x2ee516(0x30e),_0x5bcece[_0x2ee516(0x16e)]=_0x5498c0;const _0x468387=document[_0x2ee516(0x195)](_0x3459b7[_0x2ee516(0x1f9)]);_0x468387[_0x2ee516(0x2f1)]='reaction-box',_0x468387[_0x2ee516(0x16c)][_0x2ee516(0x297)]=_0x3459b7[_0x2ee516(0x123)],_0x468387[_0x2ee516(0x16c)][_0x2ee516(0x2d5)]=_0x3459b7[_0x2ee516(0xb7)],_0x5bcece[_0x2ee516(0x130)](_0x468387);const _0x583016=document[_0x2ee516(0x195)](_0x3459b7['qbUDZ']);_0x583016[_0x2ee516(0x2f1)]=_0x2ee516(0x102);const _0x1ea9a1=['❤️','😂','😮','😢','👎','💀','🤯'];_0x583016['innerHTML']=_0x1ea9a1[_0x2ee516(0x117)](_0x4a79c6=>_0x2ee516(0x124)+_0x4a79c6+_0x2ee516(0x2b2))[_0x2ee516(0x2cf)](''),_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x292)]=_0x3459b7[_0x2ee516(0x275)],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x1da)]=_0x3459b7['DXAue'],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x16d)]=_0x3459b7[_0x2ee516(0x1d7)],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x32c)]=_0x3459b7['fywiZ'],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x2bd)]=_0x2ee516(0xe1),_0x583016[_0x2ee516(0x16c)]['fontSize']=_0x3459b7['rRTCU'],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x12c)]=_0x3459b7['JvrRS'],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x254)]=_0x3459b7[_0x2ee516(0x262)],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x33c)]='10',_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x2ee)]=_0x3459b7['VlTrg'],_0x583016['style'][_0x2ee516(0x2f7)]=_0x2ee516(0xf9),_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x273)]=_0x3459b7['PBptD'],_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x292)]='grid',_0x583016[_0x2ee516(0x16c)][_0x2ee516(0x1ac)]=_0x3459b7[_0x2ee516(0x25a)],_0x583016['style'][_0x2ee516(0x26e)]=_0x3459b7['wOZCu'],_0x583016['style'][_0x2ee516(0x100)]=_0x2ee516(0xbb),Array[_0x2ee516(0x15a)](_0x583016[_0x2ee516(0x2bc)])[_0x2ee516(0x2b8)](_0x441c8d=>{const _0x407749=_0x2ee516;_0x441c8d[_0x407749(0x16c)]['cursor']=_0x3459b7['ieHlm'],_0x441c8d[_0x407749(0x194)]=_0x16cb15=>{const _0x5e3438=_0x407749;_0x16cb15[_0x5e3438(0x318)]();const _0x4d67f7=_0x441c8d[_0x5e3438(0x2c0)];_0x3459b7[_0x5e3438(0x2c1)](reactToMessage,_0x8b6ef0,_0x4d67f7);};}),_0x5bcece[_0x2ee516(0x130)](_0x583016);let _0x14203c;_0x5bcece[_0x2ee516(0x15c)](_0x3459b7[_0x2ee516(0x32a)],()=>{const _0x431841=_0x2ee516,_0xa51166={'MCDoG':_0x3459b7[_0x431841(0xbd)]};_0x14203c=setTimeout(()=>{const _0xa4c3f0=_0x431841;_0x583016[_0xa4c3f0(0x16c)][_0xa4c3f0(0x292)]=_0xa51166[_0xa4c3f0(0xdb)];},0xbb8);}),_0x5bcece[_0x2ee516(0x15c)](_0x3459b7['WtiBy'],()=>{const _0x5976c2=_0x2ee516;_0x3459b7[_0x5976c2(0x33f)](clearTimeout,_0x14203c),_0x583016[_0x5976c2(0x16c)]['display']=_0x3459b7[_0x5976c2(0x275)];});let _0x463406;_0x5bcece[_0x2ee516(0x15c)](_0x3459b7[_0x2ee516(0x139)],()=>{const _0x11f53a=_0x2ee516;_0x463406=_0x3459b7[_0x11f53a(0x2c1)](setTimeout,()=>{const _0x5863fc=_0x11f53a;_0x583016[_0x5863fc(0x16c)][_0x5863fc(0x292)]=_0x3459b7['rupIr'];},0xbb8);}),_0x5bcece[_0x2ee516(0x15c)](_0x3459b7[_0x2ee516(0x1f0)],()=>clearTimeout(_0x463406));_0x8b6ef0&&db[_0x2ee516(0xf6)]('rooms/'+roomCode+_0x2ee516(0x18d)+_0x8b6ef0+_0x2ee516(0x344))['on'](_0x3459b7[_0x2ee516(0xd3)],_0x28f1f4=>{const _0x1f9260=_0x2ee516,_0x1742be={'EKJFd':function(_0x4f3902,_0x5131fe){return _0x3459b7['XEbTY'](_0x4f3902,_0x5131fe);}};if(!_0x28f1f4[_0x1f9260(0xe0)]()){_0x468387[_0x1f9260(0x16e)]='';return;}const _0x5644a3=_0x28f1f4[_0x1f9260(0x2be)]();let _0x26fd08='';Object[_0x1f9260(0x1a9)](_0x5644a3)['forEach'](([_0x236412,_0x758975])=>{const _0x1205b8=_0x1f9260;Array['isArray'](_0x758975)&&_0x1742be[_0x1205b8(0x2a4)](_0x758975[_0x1205b8(0x17d)],0x0)&&(_0x26fd08+=_0x1205b8(0x329)+_0x236412+'\x20'+_0x758975[_0x1205b8(0x17d)]+_0x1205b8(0x29f));}),_0x468387[_0x1f9260(0x16e)]=_0x26fd08;});if([_0x2ee516(0x35f),_0x3459b7[_0x2ee516(0x328)],_0x3459b7[_0x2ee516(0x2f0)]][_0x2ee516(0x310)](role)){let _0x5043f9=0x0;_0x5bcece['addEventListener']('click',()=>{const _0xcac6e9=_0x2ee516;_0x5043f9++,_0x3459b7[_0xcac6e9(0x126)](_0x5043f9,0x3)&&(_0x3459b7['tOGuE'](confirm,_0x3459b7[_0xcac6e9(0x1cb)])&&(db['ref'](_0xcac6e9(0x204)+roomCode+_0xcac6e9(0x18d)+_0x8b6ef0)['remove'](),_0x5bcece[_0xcac6e9(0x159)]())),setTimeout(()=>_0x5043f9=0x0,0x5dc);});}const _0x408264=document[_0x2ee516(0x33d)](_0x3459b7[_0x2ee516(0xc6)]);_0x408264['appendChild'](_0x5bcece),_0x408264[_0x2ee516(0x2b1)]=_0x408264['scrollHeight'];}function cleanupOldRooms(){const _0x124732=_0x20c1d8,_0x556b63={'OwyiR':function(_0x2feeaf,_0x1a2bb3){return _0x2feeaf!==_0x1a2bb3;},'uaxtT':function(_0x93c40f,_0x10e3df){return _0x93c40f!==_0x10e3df;},'QRWit':function(_0x5e8833,_0x4e5f2f){return _0x5e8833===_0x4e5f2f;},'gbaYC':function(_0x420147,_0x4fed69){return _0x420147>_0x4fed69;},'Rkhok':function(_0x21f018,_0x1838bd){return _0x21f018-_0x1838bd;},'irTIw':function(_0x4f1c55,_0x20a8be){return _0x4f1c55*_0x20a8be;},'eTaAS':function(_0x5a036e,_0x170db0){return _0x5a036e+_0x170db0;},'LvjrM':'antispam','hTEtU':_0x124732(0xac),'TunUt':_0x124732(0xef),'KVlmk':_0x124732(0x118)};db[_0x124732(0xf6)](_0x556b63[_0x124732(0x35e)])[_0x124732(0x268)](_0x556b63['TunUt'])[_0x124732(0x19a)](_0xec67aa=>{const _0x31fc36=_0x124732,_0x353bed=_0xec67aa[_0x31fc36(0x2be)]();if(!_0x353bed)return;const _0x1d9394=Date['now']();for(const _0x363ac7 in _0x353bed){if(_0x556b63[_0x31fc36(0x28f)](_0x363ac7,STATIC_ROOM))continue;const _0x44926d=_0x353bed[_0x363ac7];_0x556b63[_0x31fc36(0x151)](_0x556b63[_0x31fc36(0x228)](_0x1d9394,_0x44926d[_0x31fc36(0x22c)]||0x0),_0x556b63[_0x31fc36(0x1f6)](_0x556b63[_0x31fc36(0x1f6)](0x2,0x3c),0x3e8))&&db[_0x31fc36(0xf6)](_0x556b63['eTaAS'](_0x31fc36(0x204),_0x363ac7))[_0x31fc36(0x159)]();}db[_0x31fc36(0xf6)](_0x556b63[_0x31fc36(0xd8)])[_0x31fc36(0x268)](_0x31fc36(0xef))[_0x31fc36(0x19a)](_0x4390b3=>{const _0x696443=_0x31fc36,_0x3500d5=_0x4390b3[_0x696443(0x2be)]();if(!_0x3500d5)return;for(const _0x5c48d4 in _0x3500d5){if(_0x556b63[_0x696443(0x20c)](_0x5c48d4,STATIC_ROOM))db[_0x696443(0xf6)](_0x696443(0x149)+_0x5c48d4)[_0x696443(0x159)]();}}),db[_0x31fc36(0xf6)](_0x556b63[_0x31fc36(0x306)])[_0x31fc36(0x268)](_0x556b63[_0x31fc36(0xfd)])['then'](_0x5dadc3=>{const _0x39e835=_0x31fc36,_0x48a861=_0x5dadc3[_0x39e835(0x2be)]();if(!_0x48a861)return;for(const _0x5e4252 in _0x48a861){if(_0x556b63[_0x39e835(0x339)](_0x5e4252,STATIC_ROOM))db[_0x39e835(0xf6)](_0x39e835(0x1d6)+_0x5e4252)[_0x39e835(0x159)]();}});});}function _0x1021(_0x320e57,_0x4419b2){const _0x33a257=_0x33a2();return _0x1021=function(_0x1021a3,_0x463639){_0x1021a3=_0x1021a3-0x99;let _0x4d6cf0=_0x33a257[_0x1021a3];return _0x4d6cf0;},_0x1021(_0x320e57,_0x4419b2);}document[_0x20c1d8(0x15c)](_0x20c1d8(0x1c6),()=>{const _0x5a12cc=_0x20c1d8,_0x10d303={'MTUkb':function(_0x3dfebe,_0x39811b){return _0x3dfebe===_0x39811b;},'AhBNn':_0x5a12cc(0x1cf),'PMIcr':function(_0x42b4e8){return _0x42b4e8();},'OOdHC':_0x5a12cc(0x32f),'yqDhN':_0x5a12cc(0x10a)},_0x4c099a=document[_0x5a12cc(0x33d)](_0x10d303[_0x5a12cc(0x267)]);_0x4c099a&&_0x4c099a['addEventListener'](_0x10d303['yqDhN'],function(_0x2394f0){const _0x928e83=_0x5a12cc;_0x10d303['MTUkb'](_0x2394f0[_0x928e83(0x340)],_0x10d303[_0x928e83(0x296)])&&(_0x2394f0[_0x928e83(0x355)](),_0x10d303[_0x928e83(0x27e)](sendMessage));});});function showScreen(_0x376ea4){const _0x1237e1=_0x20c1d8,_0x1e6666={'cwims':_0x1237e1(0x2fc),'gtvZz':_0x1237e1(0x345),'XKDQn':_0x1237e1(0x11e),'fGZXS':_0x1237e1(0x30f),'CUKNh':_0x1237e1(0x347),'aSJLC':_0x1237e1(0x115),'zaEPJ':_0x1237e1(0x245),'uSOmu':'flex'};[_0x1e6666[_0x1237e1(0x1e4)],_0x1e6666[_0x1237e1(0x198)],_0x1237e1(0x186),_0x1e6666[_0x1237e1(0x2ec)],_0x1e6666[_0x1237e1(0x1d2)],_0x1e6666[_0x1237e1(0x30c)],_0x1e6666['aSJLC'],'authScreen',_0x1e6666['zaEPJ']]['forEach'](_0x562649=>{const _0x19e7f7=_0x1237e1;document[_0x19e7f7(0x33d)](_0x562649)[_0x19e7f7(0x16c)][_0x19e7f7(0x292)]=_0x19e7f7(0x2fd);}),document[_0x1237e1(0x33d)](_0x376ea4)[_0x1237e1(0x16c)]['display']=_0x1e6666[_0x1237e1(0x16f)];}function genRoomCode(){const _0x3d535b=_0x20c1d8,_0xeb637f={'zmgMp':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','niAiY':_0x3d535b(0x24a),'jKxVV':function(_0x5e325b,_0x3f6183){return _0x5e325b+_0x3f6183;},'zhnQG':function(_0x3a5f63,_0x5800ef){return _0x3a5f63+_0x5800ef;},'lCecz':function(_0x3154ad,_0x3c8b73,_0x24d878){return _0x3154ad(_0x3c8b73,_0x24d878);}},_0x322caf=_0xeb637f['zmgMp'],_0x564ff5=_0xeb637f[_0x3d535b(0x99)],_0x264010=(_0x5c7196,_0x123cc9)=>Array['from']({'length':_0x123cc9},()=>_0x5c7196[Math[_0x3d535b(0x1f7)](Math['random']()*_0x5c7196[_0x3d535b(0x17d)])])[_0x3d535b(0x2cf)]('');return _0xeb637f[_0x3d535b(0x2e9)](_0xeb637f[_0x3d535b(0x1e1)](_0xeb637f[_0x3d535b(0x1eb)](_0x264010,_0x564ff5,0x3)+_0x264010(_0x322caf,0x3),_0xeb637f[_0x3d535b(0x1eb)](_0x264010,_0x564ff5,0x2)),_0x264010(_0x322caf,0x2));}function startInactivityTimer(){const _0x24bb48=_0x20c1d8,_0x23dd37={'FxYXu':function(_0x157c0b,_0x1ded89){return _0x157c0b-_0x1ded89;},'KzxHu':function(_0x48bb09,_0x213882){return _0x48bb09*_0x213882;},'vEdSg':function(_0x3228da,_0x336f57){return _0x3228da*_0x336f57;},'XpXOI':function(_0x42f822,_0x1a4731){return _0x42f822!==_0x1a4731;},'yMeZY':function(_0x3e0a52,_0x2849b1){return _0x3e0a52+_0x2849b1;},'fNpMu':function(_0x3fcb59,_0x1039c7){return _0x3fcb59(_0x1039c7);},'xUTOx':_0x24bb48(0x1fc),'mAMbK':function(_0x4c18af,_0x578fac,_0x5b0f2e){return _0x4c18af(_0x578fac,_0x5b0f2e);}};_0x23dd37[_0x24bb48(0x20d)](setInterval,()=>{const _0x5320ce=_0x24bb48;_0x23dd37[_0x5320ce(0x197)](Date[_0x5320ce(0xfe)](),lastActivity)>_0x23dd37['KzxHu'](_0x23dd37[_0x5320ce(0x216)](0x5,0x3c),0x3e8)&&_0x23dd37[_0x5320ce(0xcc)](roomCode,STATIC_ROOM)&&(db['ref'](_0x23dd37['yMeZY'](_0x5320ce(0x204),roomCode))['update']({'active':![]}),_0x23dd37[_0x5320ce(0x1ab)](alert,_0x23dd37['xUTOx']),location[_0x5320ce(0xab)]());},0x7530);}function setupSidebarBackHandler(){const _0x29a698=_0x20c1d8,_0x21ca54={'ppPUR':_0x29a698(0x2b0),'DNLXa':_0x29a698(0x113)};window[_0x29a698(0x15c)](_0x29a698(0xea),()=>{const _0x1475e3=_0x29a698,_0x1b8a1c=document['getElementById'](_0x21ca54[_0x1475e3(0x320)]);_0x1b8a1c?.[_0x1475e3(0x274)][_0x1475e3(0x30a)](_0x21ca54[_0x1475e3(0x18b)])&&_0x1b8a1c[_0x1475e3(0x274)][_0x1475e3(0x159)](_0x1475e3(0x113));});}function toggleSidebar(){const _0x1950ed=_0x20c1d8,_0x412ff5={'TouSO':'userSidebar','vkVIx':_0x1950ed(0x113)},_0x4ca419=document[_0x1950ed(0x33d)](_0x412ff5['TouSO']);if(!_0x4ca419[_0x1950ed(0x274)][_0x1950ed(0x30a)](_0x412ff5[_0x1950ed(0x1be)]))_0x4ca419[_0x1950ed(0x274)][_0x1950ed(0x2a7)](_0x412ff5['vkVIx']),history['pushState']({'sidebarOpen':!![]},'');else{_0x4ca419['classList'][_0x1950ed(0x159)](_0x412ff5[_0x1950ed(0x1be)]);if(history[_0x1950ed(0x2da)]?.[_0x1950ed(0x321)])history[_0x1950ed(0xd7)]();}}function setupVisibilityAttention(){const _0x3f93c2=_0x20c1d8;let _0x39b633=0x0,_0x4d0bbd=document[_0x3f93c2(0xc2)];document['addEventListener'](_0x3f93c2(0x236),()=>{const _0x3a2c4e=_0x3f93c2;!document[_0x3a2c4e(0x1d4)]&&(document[_0x3a2c4e(0xc2)]=_0x4d0bbd,_0x39b633=0x0);}),window[_0x3f93c2(0x332)]=function(){const _0x384f9d=_0x3f93c2;document[_0x384f9d(0x1d4)]&&(_0x39b633++,document[_0x384f9d(0xc2)]='('+_0x39b633+')\x20New\x20message\x20•\x20'+_0x4d0bbd);};}function tryEditProfile(){const _0x11eabd=_0x20c1d8,_0x5d3fca={'KKwSH':'editProfileScreen','IzWYk':_0x11eabd(0x143)};document[_0x11eabd(0x33d)](_0x5d3fca[_0x11eabd(0x1b0)])[_0x11eabd(0x16c)][_0x11eabd(0x292)]=_0x5d3fca[_0x11eabd(0x1c9)];}async function submitEditProfile(){const _0x3c4e81=_0x20c1d8,_0x477eb5={'jrlUg':'oldPasswordInput','fLJQH':'newPasswordInput','fzYCE':_0x3c4e81(0x104),'bDthD':_0x3c4e81(0x251),'EJddc':_0x3c4e81(0x283),'ssERo':_0x3c4e81(0x31d),'ULPcm':function(_0x2f2948,_0x10fe33){return _0x2f2948(_0x10fe33);},'ERTOE':_0x3c4e81(0xd5),'StmpW':function(_0x2c6bc7,_0x45119c){return _0x2c6bc7!==_0x45119c;},'vODNC':'Incorrect\x20current\x20password.','ABTNb':function(_0x4d3548,_0x372c9e){return _0x4d3548*_0x372c9e;},'QcBCy':function(_0x39c135,_0x1ad3c5){return _0x39c135>_0x1ad3c5;},'wavkY':'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','hefVy':_0x3c4e81(0x10f),'IGBjX':function(_0x32319f,_0x1ae74e){return _0x32319f(_0x1ae74e);},'MhUyX':function(_0x52079e,_0x5c36b4){return _0x52079e(_0x5c36b4);},'qKmPS':_0x3c4e81(0x1fe)},_0x1921c7=document[_0x3c4e81(0x33d)](_0x477eb5[_0x3c4e81(0x353)])[_0x3c4e81(0xef)],_0x47edb0=document[_0x3c4e81(0x33d)](_0x477eb5[_0x3c4e81(0xf8)])[_0x3c4e81(0xef)],_0x5f0747=document[_0x3c4e81(0x33d)](_0x477eb5[_0x3c4e81(0x2c8)])[_0x3c4e81(0xef)]['trim'](),_0x2afd4f=document[_0x3c4e81(0x33d)](_0x477eb5[_0x3c4e81(0x336)]);if(!_0x1921c7){_0x2afd4f[_0x3c4e81(0x359)]=_0x477eb5[_0x3c4e81(0x289)],_0x2afd4f[_0x3c4e81(0x16c)]['display']=_0x477eb5[_0x3c4e81(0x189)];return;}const _0x2f5f5b=_0x477eb5['ULPcm'](sanitizeUsername,username),_0x24824a=await db[_0x3c4e81(0xf6)](_0x3c4e81(0x164)+_0x2f5f5b)[_0x3c4e81(0x13c)]();if(!_0x24824a['exists']()){_0x2afd4f[_0x3c4e81(0x359)]=_0x477eb5['ERTOE'],_0x2afd4f[_0x3c4e81(0x16c)][_0x3c4e81(0x292)]=_0x477eb5[_0x3c4e81(0x189)];return;}const _0x155590=_0x24824a[_0x3c4e81(0x2be)](),_0x31555b=await sha256(_0x1921c7);if(_0x477eb5[_0x3c4e81(0x168)](_0x31555b,_0x155590[_0x3c4e81(0x1e7)])){_0x2afd4f[_0x3c4e81(0x359)]=_0x477eb5[_0x3c4e81(0x20b)],_0x2afd4f[_0x3c4e81(0x16c)][_0x3c4e81(0x292)]=_0x477eb5[_0x3c4e81(0x189)];return;}const _0x47788a={};if(_0x47edb0){const _0x46084f=await sha256(_0x47edb0);_0x47788a[_0x3c4e81(0x1e7)]=_0x46084f;}_0x477eb5['StmpW'](_0x5f0747,_0x155590[_0x3c4e81(0x25b)])&&(_0x47788a[_0x3c4e81(0x25b)]=_0x5f0747);const _0xae02d7=Date['now'](),_0x13ddc2=_0x477eb5['ABTNb'](_0x477eb5[_0x3c4e81(0x348)](_0x477eb5[_0x3c4e81(0x348)](0x18,0x3c),0x3c),0x3e8),_0xbd9044=_0x477eb5['QcBCy'](_0xae02d7-(_0x155590[_0x3c4e81(0x170)]||0x0),_0x13ddc2);if(_0xbd9044&&_0x477eb5[_0x3c4e81(0xa7)](confirm,_0x477eb5['wavkY'])){const _0x1a2bfd=_0x477eb5['ULPcm'](prompt,_0x477eb5[_0x3c4e81(0x33a)]);_0x1a2bfd&&_0x1a2bfd[_0x3c4e81(0x212)]()&&(_0x47788a['username']=_0x1a2bfd[_0x3c4e81(0x212)](),_0x47788a[_0x3c4e81(0x13f)]=(_0x155590[_0x3c4e81(0x13f)]||[])[_0x3c4e81(0x2fb)](_0x1a2bfd[_0x3c4e81(0x212)]()),_0x47788a[_0x3c4e81(0x170)]=_0xae02d7);}_0x47788a[_0x3c4e81(0xad)]&&_0x477eb5[_0x3c4e81(0x168)](_0x47788a['username'],_0x155590[_0x3c4e81(0xad)])?(await db[_0x3c4e81(0xf6)]('auth/'+_0x477eb5[_0x3c4e81(0x20e)](sanitizeUsername,_0x47788a['username']))[_0x3c4e81(0x173)]({..._0x155590,..._0x47788a}),await db[_0x3c4e81(0xf6)]('auth/'+_0x2f5f5b)[_0x3c4e81(0x159)](),username=_0x47788a['username']):await db['ref'](_0x3c4e81(0x164)+_0x2f5f5b)[_0x3c4e81(0x290)](_0x47788a),_0x477eb5[_0x3c4e81(0x18a)](alert,_0x477eb5['qKmPS']),location[_0x3c4e81(0xab)]();}function cancelEditProfile(){const _0x39eaae=_0x20c1d8,_0x3218c4={'zxNlC':_0x39eaae(0x245),'EOPik':_0x39eaae(0x2fd)};document[_0x39eaae(0x33d)](_0x3218c4[_0x39eaae(0xe6)])[_0x39eaae(0x16c)]['display']=_0x3218c4[_0x39eaae(0x282)],showScreen('chatScreen');}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x3396d0=_0x20c1d8,_0x254111={'YsdQV':function(_0x5a02a4,_0x432bfe){return _0x5a02a4(_0x432bfe);},'tgnYG':_0x3396d0(0xef)};db['ref']('users/'+roomCode)['on'](_0x254111['tgnYG'],async _0x4f1121=>{const _0x8886d1=_0x3396d0;if(!_0x4f1121[_0x8886d1(0xe0)]()){_0x254111['YsdQV'](renderUserLists,{});return;}const _0x26be2e=_0x4f1121['val']();await loadRoomRoles(),_0x254111[_0x8886d1(0x278)](renderUserLists,_0x26be2e);});}function trackPresence(){const _0x30d1b5=_0x20c1d8,_0x2c95f4={'sNmFA':_0x30d1b5(0x13b),'AfouH':function(_0x48601b,_0x1b8be5){return _0x48601b||_0x1b8be5;},'UCtJN':function(_0xd73829,_0x392c04){return _0xd73829(_0x392c04);},'yzhKI':_0x30d1b5(0xef)};if(!username||!roomCode)return;const _0x358f43=_0x2c95f4['UCtJN'](sanitizeUsername,username),_0x5c6c9e=db[_0x30d1b5(0xf6)](_0x30d1b5(0x1bb)+roomCode+'/'+_0x358f43),_0xbf8ea8={'username':username,'avatarBase64':avatarBase64||'','description':userDescription||'','online':!![],'lastOnline':firebase[_0x30d1b5(0x2aa)][_0x30d1b5(0x2b9)][_0x30d1b5(0x172)]};db[_0x30d1b5(0xf6)](_0x30d1b5(0x131)+roomCode+'/'+_0x358f43)[_0x30d1b5(0x268)](_0x2c95f4['yzhKI'])[_0x30d1b5(0x19a)](_0x7ea53c=>{const _0x4a0604=_0x30d1b5,_0x27cc25=_0x2c95f4['sNmFA'][_0x4a0604(0x227)]('|');let _0x2e64b6=0x0;while(!![]){switch(_0x27cc25[_0x2e64b6++]){case'0':_0x5c6c9e[_0x4a0604(0x173)](_0xbf8ea8);continue;case'1':_0x5c6c9e[_0x4a0604(0x210)]()[_0x4a0604(0x290)]({'online':![],'lastOnline':Date[_0x4a0604(0xfe)]()});continue;case'2':_0x7ea53c['exists']()&&(_0xbf8ea8[_0x4a0604(0x31b)]=!![]);continue;case'3':_0x5c6c9e[_0x4a0604(0x210)]()['set']({'username':username,'avatarBase64':_0x2c95f4['AfouH'](avatarBase64,''),'description':_0x2c95f4[_0x4a0604(0x1cc)](userDescription,''),'online':![],'lastOnline':Date[_0x4a0604(0xfe)]()});continue;case'4':updateOnlineIndicator();continue;}break;}});}function uploadSidebarAvatar(_0x321930){const _0x4f412a=_0x20c1d8,_0x106df5={'ogIOe':_0x4f412a(0x26c),'cwOtt':function(_0x2ab7b2,_0x3983ae){return _0x2ab7b2(_0x3983ae);},'gUlcF':_0x4f412a(0x2df),'qgyGm':_0x4f412a(0x2e1)};if(!_0x321930[_0x4f412a(0x1d5)][_0x4f412a(0x17d)])return;const _0x2bbf49=_0x321930['files'][0x0],_0x49ce4f=new FileReader();_0x49ce4f['onloadend']=async()=>{const _0x211a45=_0x4f412a,_0x586542=_0x49ce4f[_0x211a45(0x307)][_0x211a45(0x227)](',')[0x1];document['getElementById']('sidebarAvatarPreview')['src']=_0x49ce4f['result'],document[_0x211a45(0x33d)](_0x106df5[_0x211a45(0x136)])[_0x211a45(0x16c)][_0x211a45(0x292)]=_0x211a45(0x31d);try{const _0x1c59eb=sanitizeUsername(username);await db[_0x211a45(0xf6)](_0x211a45(0x164)+_0x1c59eb+_0x211a45(0x11c))[_0x211a45(0x173)](_0x586542),_0x106df5[_0x211a45(0x205)](alert,_0x106df5[_0x211a45(0x1e8)]);}catch(_0x188594){console[_0x211a45(0x23a)](_0x188594),alert(_0x106df5[_0x211a45(0x21f)]);}},_0x49ce4f[_0x4f412a(0x1df)](_0x2bbf49);}function muteUser(_0x4812c9,_0x312dde){const _0x507bd5=_0x20c1d8,_0x5a6c96={'XBFpV':function(_0x4bdec4,_0x2f8012){return _0x4bdec4(_0x2f8012);},'KPiwK':function(_0x9ec2f3,_0x556b04){return _0x9ec2f3+_0x556b04;},'cRwtk':function(_0x37d8f0,_0x46f063){return _0x37d8f0*_0x46f063;},'aFflm':function(_0x1588ea,_0x157ab4){return _0x1588ea(_0x157ab4);}},_0x42170a=_0x5a6c96['KPiwK'](Date[_0x507bd5(0xfe)](),_0x5a6c96[_0x507bd5(0x191)](_0x312dde*0x3c,0x3e8));db[_0x507bd5(0xf6)]('muted/'+roomCode+'/'+_0x5a6c96['aFflm'](sanitizeUsername,_0x4812c9))[_0x507bd5(0x173)]({'muteUntil':_0x42170a})[_0x507bd5(0x19a)](()=>{const _0x5b0759=_0x507bd5;_0x5a6c96['XBFpV'](alert,_0x4812c9+'\x20muted\x20for\x20'+_0x312dde+_0x5b0759(0x25c)),addSystemMessage(_0x4812c9+'\x20was\x20muted\x20for\x20'+_0x312dde+_0x5b0759(0x154));});}function unmuteUser(_0x393780){const _0x2b9202=_0x20c1d8,_0xf683cf={'tIlwA':function(_0x41e5d9,_0x1e4bfe){return _0x41e5d9(_0x1e4bfe);},'gKHJu':_0x2b9202(0x301)};if(!isRoomAdmin)return _0xf683cf[_0x2b9202(0xb3)](alert,_0xf683cf[_0x2b9202(0x361)]);db[_0x2b9202(0xf6)](_0x2b9202(0xc3)+roomCode+'/'+_0xf683cf['tIlwA'](sanitizeUsername,_0x393780))[_0x2b9202(0x159)]();}function updateOnlineIndicator(){const _0x396dea=_0x20c1d8,_0x47d3ef={'IweFt':_0x396dea(0x1af),'EDhHn':_0x396dea(0x144),'heZco':'#00ff88'},_0x1f9223=document[_0x396dea(0x33d)](_0x47d3ef[_0x396dea(0xeb)]);_0x1f9223[_0x396dea(0x359)]=_0x47d3ef[_0x396dea(0x12e)],_0x1f9223['style'][_0x396dea(0x1b4)]=_0x47d3ef[_0x396dea(0x1c2)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x5dda95){const _0x3aff01=_0x20c1d8,_0x1dbf39={'EPsJg':function(_0x4e1084,_0x10e365){return _0x4e1084(_0x10e365);},'WPQtP':'Profile\x20not\x20found.','NRnyi':_0x3aff01(0x23c),'SjWWp':_0x3aff01(0x1a0),'SEEJn':_0x3aff01(0x2fa),'iefNV':_0x3aff01(0x258),'oztUE':_0x3aff01(0x115),'Nzjbg':'block'};db[_0x3aff01(0xf6)]('auth/'+_0x5dda95)['get']()[_0x3aff01(0x19a)](_0x312f13=>{const _0x51545f=_0x3aff01;if(!_0x312f13['exists']())return _0x1dbf39[_0x51545f(0x281)](alert,_0x1dbf39[_0x51545f(0xc9)]);const _0x41a77e=_0x312f13[_0x51545f(0x2be)](),_0x39aad1=(_0x51545f(0x29b)+_0x41a77e[_0x51545f(0xad)]+_0x51545f(0xe5)+(_0x41a77e[_0x51545f(0x25b)]||_0x1dbf39[_0x51545f(0x2bb)])+_0x51545f(0x152)+((_0x41a77e[_0x51545f(0x13f)]||[])[_0x51545f(0x2cf)](',\x20')||_0x1dbf39[_0x51545f(0xdd)])+_0x51545f(0x1d8)+(_0x41a77e[_0x51545f(0x170)]?new Date(_0x41a77e[_0x51545f(0x170)])['toLocaleString']():_0x1dbf39['SEEJn'])+'\x0a\x20\x20\x20\x20')[_0x51545f(0x212)]();document['getElementById'](_0x1dbf39[_0x51545f(0x2d7)])[_0x51545f(0x359)]=_0x39aad1,document[_0x51545f(0x33d)](_0x1dbf39[_0x51545f(0x2cd)])['style'][_0x51545f(0x292)]=_0x1dbf39[_0x51545f(0x2b5)];});}function initUsernameFlow(){const _0x4cd879=_0x20c1d8,_0x1ee3b9={'eLdQj':_0x4cd879(0xd0),'Hingf':function(_0x17658a,_0x4f8e39){return _0x17658a(_0x4f8e39);},'aAuFN':function(_0x1a5f25,_0x360dcf){return _0x1a5f25(_0x360dcf);},'bgYSD':_0x4cd879(0x345)},_0x155417=localStorage[_0x4cd879(0x1fd)](_0x1ee3b9[_0x4cd879(0x141)]);!_0x155417?_0x1ee3b9[_0x4cd879(0x2d3)](showScreen,_0x4cd879(0x347)):(username=_0x155417,document[_0x4cd879(0x33d)](_0x4cd879(0x2a9))[_0x4cd879(0x359)]=username,_0x1ee3b9[_0x4cd879(0x286)](showScreen,_0x1ee3b9[_0x4cd879(0xa4)]));}function closeProfile(){const _0x2e0573=_0x20c1d8,_0x7d20fa={'MDfhW':_0x2e0573(0x115),'rcqHV':_0x2e0573(0x2fd)};document[_0x2e0573(0x33d)](_0x7d20fa[_0x2e0573(0x2a8)])[_0x2e0573(0x16c)][_0x2e0573(0x292)]=_0x7d20fa[_0x2e0573(0xa1)];}function resetWebsiteData(){const _0x21d570=_0x20c1d8,_0x2380b1={'DuXij':_0x21d570(0x1ff),'uSMRq':function(_0x27eea3,_0x4112af){return _0x27eea3+_0x4112af;}};try{const _0x3d96c4=localStorage['getItem'](_0x2380b1[_0x21d570(0x246)]);localStorage[_0x21d570(0x31e)](),sessionStorage[_0x21d570(0x31e)](),_0x3d96c4&&localStorage['setItem'](_0x21d570(0x1ff),_0x3d96c4);}catch(_0x19aa77){}if(!username||!roomCode){const _0x5445f8=_0x21d570(0x2e5)[_0x21d570(0x227)]('|');let _0x1cd590=0x0;while(!![]){switch(_0x5445f8[_0x1cd590++]){case'0':username=null;continue;case'1':pendingMessages=[];continue;case'2':roomCode=null;continue;case'3':isRoomAdmin=![];continue;case'4':clientId=_0x2380b1[_0x21d570(0x323)]('_',Math[_0x21d570(0x162)]()[_0x21d570(0x23d)](0x24)['substr'](0x2,0x9));continue;}break;}}}function addAnnouncement(){const _0x1fb2c3=_0x20c1d8,_0x2aa015={'QnovZ':function(_0xb0f021,_0x37fa37){return _0xb0f021(_0x37fa37);}},_0x628c1e=_0x2aa015['QnovZ'](prompt,_0x1fb2c3(0x338));if(!_0x628c1e)return;db[_0x1fb2c3(0xf6)](_0x1fb2c3(0x204)+roomCode+_0x1fb2c3(0xd2))[_0x1fb2c3(0x173)]({'text':_0x628c1e,'by':username,'timestamp':Date[_0x1fb2c3(0xfe)]()});}function listenForAnnouncement(){const _0x30ed70=_0x20c1d8,_0x164c52={'vomrf':_0x30ed70(0x15e),'Shoht':'value'},_0x5f366f=db[_0x30ed70(0xf6)]('rooms/'+roomCode+_0x30ed70(0xd2));_0x5f366f['on'](_0x164c52['Shoht'],_0xde7538=>{const _0x57ad9f=_0x30ed70,_0x3c9459=_0xde7538[_0x57ad9f(0x2be)]();if(!_0x3c9459){document[_0x57ad9f(0x33d)](_0x164c52[_0x57ad9f(0x288)])[_0x57ad9f(0x359)]='';return;}const _0x36f215=document[_0x57ad9f(0x33d)](_0x164c52[_0x57ad9f(0x288)]);_0x36f215[_0x57ad9f(0x359)]=''+_0x3c9459[_0x57ad9f(0x249)];});}document[_0x20c1d8(0x33d)](_0x20c1d8(0x15e))['addEventListener']('click',_0x1bb351=>{const _0x169acb=_0x20c1d8,_0x2a7ec8={'FVSnx':function(_0x1b9b21,_0x5d0173){return _0x1b9b21===_0x5d0173;},'quCtG':function(_0x2c52fb,_0x3cd333){return _0x2c52fb(_0x3cd333);},'ejoXb':_0x169acb(0x299)};_0x2a7ec8[_0x169acb(0x2ae)](_0x1bb351[_0x169acb(0x34d)],0x3)&&isRoomAdmin&&(_0x2a7ec8[_0x169acb(0x269)](confirm,_0x2a7ec8[_0x169acb(0x15f)])&&db[_0x169acb(0xf6)]('rooms/'+roomCode+_0x169acb(0xd2))[_0x169acb(0x159)]());}),document[_0x20c1d8(0x33d)](_0x20c1d8(0x32f))['addEventListener']('input',()=>{const _0x2f588a=_0x20c1d8,_0x55632f={'kLYaU':_0x2f588a(0x32f),'jxXum':_0x2f588a(0x291)},_0xe89b3e=document[_0x2f588a(0x33d)](_0x55632f[_0x2f588a(0x218)]);_0x3352c1?_0xe89b3e[_0x2f588a(0x16c)][_0x2f588a(0xa0)]=_0x55632f['jxXum']:_0xe89b3e[_0x2f588a(0x16c)]['border']='';const _0x389f34=_0xe89b3e[_0x2f588a(0xef)]['toLowerCase'](),_0x3352c1=swearWords[_0x2f588a(0x112)](_0x374dd2=>_0x389f34[_0x2f588a(0x310)](_0x374dd2));_0x3352c1?(_0xe89b3e[_0x2f588a(0x16c)][_0x2f588a(0xa0)]=_0x2f588a(0x291),sendBtn[_0x2f588a(0x1a6)]=!![]):(_0xe89b3e[_0x2f588a(0x16c)]['border']='',_0x3352c1?_0xe89b3e[_0x2f588a(0x16c)][_0x2f588a(0xa0)]=_0x55632f[_0x2f588a(0x16a)]:_0xe89b3e[_0x2f588a(0x16c)][_0x2f588a(0xa0)]='');});function muteUser(_0x138096,_0x40adfc){const _0x24e415=_0x20c1d8,_0x11677d={'rvaWW':function(_0x23c948,_0x289b66){return _0x23c948+_0x289b66;},'vbudk':function(_0x31b836,_0x320f80){return _0x31b836*_0x320f80;},'GZZai':function(_0x113e7c,_0x51d62d){return _0x113e7c*_0x51d62d;},'lVqLf':function(_0x2311ab,_0x95374f){return _0x2311ab(_0x95374f);}},_0x129b2b=_0x11677d[_0x24e415(0xf4)](Date[_0x24e415(0xfe)](),_0x11677d['vbudk'](_0x11677d['GZZai'](_0x40adfc,0x3c),0x3e8));db['ref'](_0x24e415(0xc3)+roomCode+'/'+_0x11677d['lVqLf'](sanitizeUsername,_0x138096))['set']({'muteUntil':_0x129b2b})[_0x24e415(0x19a)](()=>{const _0x45ed71=_0x24e415;alert(_0x138096+_0x45ed71(0x26b)+_0x40adfc+'\x20minutes.');});}function deleteUserMessages(_0x8cf448){const _0x2f85ab=_0x20c1d8,_0x37c3e1={'URwjX':function(_0xee380b,_0x567263){return _0xee380b(_0x567263);},'SNcLc':'sender'};db[_0x2f85ab(0xf6)]('rooms/'+roomCode+_0x2f85ab(0x315))[_0x2f85ab(0x1f3)](_0x37c3e1['SNcLc'])[_0x2f85ab(0x284)](_0x8cf448)[_0x2f85ab(0x13c)]()[_0x2f85ab(0x19a)](_0x435546=>{const _0xa8ce42=_0x2f85ab;_0x435546[_0xa8ce42(0x2b8)](_0x1875d5=>{const _0x21007e=_0xa8ce42;db[_0x21007e(0xf6)](_0x21007e(0x204)+roomCode+_0x21007e(0x18d)+_0x1875d5[_0x21007e(0x340)])[_0x21007e(0x159)]();}),_0x37c3e1['URwjX'](alert,_0xa8ce42(0x1e6)+_0x8cf448+_0xa8ce42(0x252));});}function pauseRoom(_0x41a17e){const _0x23de55=_0x20c1d8,_0x3294f2={'wLzzD':_0x23de55(0x31d),'KWEPw':_0x23de55(0xef)};db['ref'](_0x23de55(0x204)+roomCode+'/paused')['on'](_0x3294f2[_0x23de55(0x31c)],_0x1337c1=>{const _0x57a3de=_0x23de55,_0x1518c8=_0x1337c1[_0x57a3de(0x2be)]();document[_0x57a3de(0x33d)]('pausedOverlay')[_0x57a3de(0x16c)]['display']=_0x1518c8?_0x3294f2['wLzzD']:_0x57a3de(0x2fd);});}function canPerformAction(_0xf40398){const _0xa5708f=_0x20c1d8,_0x531484={'IRQyM':function(_0x9f884f,_0x50a1f9){return _0x9f884f===_0x50a1f9;},'UyvPr':_0xa5708f(0x13d),'NyVLE':_0xa5708f(0x1d0),'uTZSH':_0xa5708f(0x31b),'Roifa':function(_0x251b4a,_0x3bca2d){return _0x251b4a===_0x3bca2d;},'NuaHB':_0xa5708f(0x349)};if(_0x531484['IRQyM'](role,'dev'))return!![];if(_0xf40398===_0x531484['UyvPr']||_0xf40398===_0x531484[_0xa5708f(0x260)])return role===_0x531484[_0xa5708f(0x1ad)]||_0x531484['Roifa'](role,_0xa5708f(0x116));if(_0x531484[_0xa5708f(0x35d)](_0xf40398,_0x531484[_0xa5708f(0x188)]))return _0x531484[_0xa5708f(0x35d)](role,_0x531484['uTZSH']);return![];}const html=Object[_0x20c1d8(0x235)](roomUsers)[_0x20c1d8(0x117)](_0x2b7a2e=>{const _0x5bbf1a=_0x20c1d8,_0x1bf8a6={'woQVp':function(_0xd2ecce,_0x41535b){return _0xd2ecce(_0x41535b);},'CvdVp':function(_0x4ef963,_0xa450c8){return _0x4ef963!==_0xa450c8;},'BWvBJ':function(_0x5cc3e5,_0x297266){return _0x5cc3e5(_0x297266);},'Sntgw':_0x5bbf1a(0x13d),'epNna':function(_0x3ebd8a,_0x4be730){return _0x3ebd8a(_0x4be730);},'nLQbn':function(_0x2f22ab,_0x15f18f){return _0x2f22ab===_0x15f18f;},'HIrPU':_0x5bbf1a(0x35f),'pRMpq':_0x5bbf1a(0x31b),'NoHMU':function(_0x3bf1d9,_0x3388e4){return _0x3bf1d9(_0x3388e4);}},_0x1c9751=_0x1bf8a6['woQVp'](sanitizeUsername,_0x2b7a2e[_0x5bbf1a(0xad)]),_0x2cfc69=[];if(_0x1bf8a6[_0x5bbf1a(0x325)](_0x1c9751,_0x1bf8a6['woQVp'](sanitizeUsername,username))){_0x1bf8a6[_0x5bbf1a(0xc4)](canPerformAction,_0x1bf8a6['Sntgw'])&&(_0x2cfc69['push']('<button\x20onclick=\x22muteUser(\x27'+_0x1c9751+_0x5bbf1a(0xba)),_0x2cfc69[_0x5bbf1a(0xb2)](_0x5bbf1a(0x2dd)+_0x1c9751+_0x5bbf1a(0x2b7)));_0x1bf8a6[_0x5bbf1a(0x322)](canPerformAction,_0x5bbf1a(0x1d0))&&_0x2cfc69[_0x5bbf1a(0xb2)](_0x5bbf1a(0x22a)+_0x1c9751+'\x27)\x22>Delete\x20Messages</button>');if(_0x1bf8a6['nLQbn'](role,_0x1bf8a6[_0x5bbf1a(0x105)]))_0x2cfc69[_0x5bbf1a(0xb2)](_0x5bbf1a(0x1e9)+_0x1c9751+_0x5bbf1a(0xa2)),_0x2cfc69[_0x5bbf1a(0xb2)](_0x5bbf1a(0x293)+_0x1c9751+_0x5bbf1a(0x312));else role===_0x1bf8a6[_0x5bbf1a(0x2c4)]&&_0x2cfc69[_0x5bbf1a(0xb2)](_0x5bbf1a(0x1e9)+_0x1c9751+_0x5bbf1a(0xa2));}return'\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0x2b7a2e[_0x5bbf1a(0xad)]+'\x20'+_0x1bf8a6[_0x5bbf1a(0xdf)](getRoleTag,sanitizeUsername(_0x2b7a2e['username']))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x1c9751+_0x5bbf1a(0x1a4)+_0x2cfc69[_0x5bbf1a(0x2cf)]('')+_0x5bbf1a(0x2ef)+_0x1c9751+_0x5bbf1a(0x17f);})[_0x20c1d8(0x2cf)]('');function promoteToModerator(_0x35f7dc){const _0x26c3a8=_0x20c1d8,_0x2f0ea4={'vInQE':function(_0x12fb59,_0x2d8f44){return _0x12fb59(_0x2d8f44);},'TcoTi':function(_0x367510,_0x519854){return _0x367510(_0x519854);},'QBdsx':_0x26c3a8(0x2ac),'LxMnB':_0x26c3a8(0x35f),'SzXVp':function(_0x1fbf87,_0x3204d2){return _0x1fbf87!==_0x3204d2;},'ZzKDj':_0x26c3a8(0x31b),'OiOjn':_0x26c3a8(0x145)},_0x1f91d6=_0x2f0ea4['vInQE'](sanitizeUsername,_0x35f7dc);if(_0x2f0ea4[_0x26c3a8(0x243)](isProtected,_0x1f91d6))return _0x2f0ea4[_0x26c3a8(0x243)](alert,_0x2f0ea4[_0x26c3a8(0x2d1)]);if(role!==_0x2f0ea4[_0x26c3a8(0x239)]&&_0x2f0ea4[_0x26c3a8(0x1e5)](role,_0x2f0ea4['ZzKDj'])){alert(_0x2f0ea4[_0x26c3a8(0x1b3)]);return;}db[_0x26c3a8(0xf6)](_0x26c3a8(0x1f2)+roomCode+'/'+_0x1f91d6)[_0x26c3a8(0x173)](!![])['then'](()=>{const _0xbb2c56=_0x26c3a8;_0x2f0ea4[_0xbb2c56(0xa3)](alert,_0x35f7dc+_0xbb2c56(0x324)),addSystemMessage(_0x35f7dc+'\x20was\x20promoted\x20to\x20Moderator');});}function promoteToAdmin(_0x32a862){const _0x4555df=_0x20c1d8,_0x2a21f2={'XkLJv':function(_0xd7b987,_0x532012){return _0xd7b987(_0x532012);},'luwvq':function(_0x31b44d,_0x120d77){return _0x31b44d(_0x120d77);},'AqQGQ':function(_0x580a26,_0x5f0f76){return _0x580a26(_0x5f0f76);},'oAtTf':_0x4555df(0x35f),'Qxqvz':function(_0x5ebb34,_0x20db56){return _0x5ebb34(_0x20db56);},'XfFVU':_0x4555df(0x337)},_0x45dbd8=_0x2a21f2[_0x4555df(0x157)](sanitizeUsername,_0x32a862);if(_0x2a21f2[_0x4555df(0x211)](isProtected,_0x45dbd8))return _0x2a21f2[_0x4555df(0x157)](alert,'🚫\x20Cannot\x20promote\x20Developers.');if(role!==_0x2a21f2[_0x4555df(0x175)]){_0x2a21f2[_0x4555df(0x134)](alert,_0x2a21f2[_0x4555df(0x240)]);return;}db[_0x4555df(0xf6)](_0x4555df(0x131)+roomCode+'/'+_0x45dbd8)['set'](!![])[_0x4555df(0x19a)](()=>{const _0x1ba1fa=_0x4555df;_0x2a21f2[_0x1ba1fa(0x163)](alert,_0x32a862+_0x1ba1fa(0x165)),_0x2a21f2[_0x1ba1fa(0x211)](addSystemMessage,_0x32a862+_0x1ba1fa(0x1a1));});}function toggleUserOptions(_0x43d2c4){const _0x6b4fbf=_0x20c1d8,_0x19d5c0={'VbEZi':function(_0x4e4a4e,_0x3778f1){return _0x4e4a4e===_0x3778f1;},'nSKxK':'dev','srqQn':_0x6b4fbf(0x31b),'sEhOq':_0x6b4fbf(0x2fd),'KJOgK':'block'};(_0x19d5c0['VbEZi'](role,_0x19d5c0[_0x6b4fbf(0x1fb)])||_0x19d5c0[_0x6b4fbf(0x2de)](role,_0x19d5c0[_0x6b4fbf(0x2d4)]))&&controls[_0x6b4fbf(0xb2)](_0x6b4fbf(0x155)+safeName+_0x6b4fbf(0x238));const _0x5aaf4a=document[_0x6b4fbf(0x33d)]('userOptions-'+_0x43d2c4);_0x19d5c0[_0x6b4fbf(0x2de)](_0x5aaf4a[_0x6b4fbf(0x16c)][_0x6b4fbf(0x292)],_0x19d5c0['sEhOq'])?_0x5aaf4a[_0x6b4fbf(0x16c)][_0x6b4fbf(0x292)]=_0x19d5c0[_0x6b4fbf(0x32b)]:_0x5aaf4a[_0x6b4fbf(0x16c)]['display']=_0x6b4fbf(0x2fd);}function demoteUser(_0x3445c7){const _0x425c66=_0x20c1d8,_0x34ad21={'SmtMU':function(_0x5d1be6,_0x8ccd78){return _0x5d1be6(_0x8ccd78);},'yrzmd':_0x425c66(0x1bc),'dIabR':function(_0x1f8fbd,_0x101334){return _0x1f8fbd===_0x101334;},'AsDXq':_0x425c66(0x35f),'oWPdZ':function(_0x53570e,_0x3b94d8){return _0x53570e(_0x3b94d8);},'wUzwh':function(_0x1c630a,_0x90b98){return _0x1c630a===_0x90b98;}};if(_0x34ad21[_0x425c66(0x271)](isProtected,_0x3445c7))return _0x34ad21['SmtMU'](alert,_0x34ad21['yrzmd']);if(_0x34ad21[_0x425c66(0x1b9)](role,_0x34ad21['AsDXq']))db[_0x425c66(0xf6)](_0x425c66(0x131)+roomCode+'/'+_0x3445c7)[_0x425c66(0x159)](),db[_0x425c66(0xf6)]('moderators/'+roomCode+'/'+_0x3445c7)[_0x425c66(0x159)](),_0x34ad21[_0x425c66(0x2a5)](alert,_0x3445c7+'\x20demoted\x20to\x20user.');else _0x34ad21['wUzwh'](role,_0x425c66(0x31b))?(db[_0x425c66(0xf6)]('moderators/'+roomCode+'/'+_0x3445c7)[_0x425c66(0x159)](),_0x34ad21['oWPdZ'](alert,_0x3445c7+_0x425c66(0x326))):_0x34ad21['oWPdZ'](alert,_0x425c66(0x1ae));}function getRoleTag(_0x1588bc){const _0x23dfe6=_0x20c1d8,_0x391b39={'vMKGi':function(_0x22a850,_0x5db20f){return _0x22a850(_0x5db20f);}},_0x4f8315=_0x391b39['vMKGi'](sanitizeUsername,_0x1588bc);if(globalDevs['includes'](_0x4f8315))return _0x23dfe6(0x327);if(roomAdmins[_0x23dfe6(0x310)](_0x4f8315))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x23dfe6(0x310)](_0x4f8315))return _0x23dfe6(0x265);return'';}function _0x33a2(){const _0x4c73bc=['mediaDevices','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','state','Type\x20a\x20message...','tinCT','<button\x20onclick=\x22muteUser(\x27','VbEZi','✅\x20Profile\x20picture\x20updated!','gago','⚠️\x20Failed\x20to\x20update\x20avatar.','xrLnr','16px','fAqqB','0|2|3|1|4','[Voice\x20message]','</li>','user','jKxVV','NJkEN','kJJgS','XKDQn','fxyzf','maxWidth','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','bgmPO','className','KLmCv','dick','child_added','nMcfQ','EaAhV','minWidth','UkqNJ','ZLnQV','Unknown','concat','usernameScreen','none','11835856BxPImM','riLKm','replace','Admins\x20only.','0.8rem','PABsU','kdgXx','mouseleave','hTEtU','result','AnjjU','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','contains','4|3|2|0|5|1','CUKNh','6px','</small>','passwordScreen','includes','LnYQL','\x27)\x22>Promote\x20to\x20Admin</button>','cUpLa','/paused','/messages','puta','6px\x20auto','stopPropagation','<li>','</div>','admin','KWEPw','block','clear','bitch','ppPUR','sidebarOpen','epNna','uSMRq','\x20promoted\x20to\x20Moderator!','CvdVp','\x20demoted\x20to\x20user.','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','oKPES','<span\x20style=\x22margin-right:6px;\x22>','DmpAw','KJOgK','padding','dataset','placeholder','msgInput','LJJlv','rhcjC','flagPageAttention','GYqic','kOOJc','qAMqM','bDthD','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','Enter\x20Announcement\x20Text:','uaxtT','hefVy','ZrfmJ','zIndex','getElementById','tMpDo','BWbOQ','key','\x27)\x22>+Mod</button>','touchend','115904FKmvZN','/reactions','roomChoiceScreen','DirJF','profileScreen','ABTNb','promote','audioBase64','sent','gr8stg/','detail','margin','FEWzF','dWVtd','lpeXp','11fhbFHC','jrlUg','/reactions/','preventDefault','\x20is\x20typing...','No\x20room\x20code\x20available\x20for\x20private\x20rooms','odDIl','innerText','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','degpd','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','IRQyM','KVlmk','dev','gilipollas','gKHJu','niAiY','filter','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','WsVMR','VTzBs','LeZNR','notifToggleBtn','border','rcqHV','\x27)\x22>Promote\x20to\x20Moderator</button>','vInQE','bgYSD','Tixqk','fdp','ULPcm','object','PWODj','wQPIb','reload','antispamBlocked','username','MiWwN','zRHzn','UauUz','pfaEL','push','tIlwA','LScFv','Incorrect\x20password.','4|0|3|1|2|5','JOoCn','veFzf','[Voice\x20Message]','\x27,\x205)\x22>Mute\x205m</button>','0\x202px\x206px\x20rgba(0,0,0,0.5)','zUXTQ','rupIr','[data-msg-id=\x22','userAgent','caralho','qlUJn','title','muted/','BWvBJ','RjUjz','jMFtG','ziCTh','profiles/','WPQtP','TChWy','requestPermission','XpXOI','APbht','-45px','BRwhc','chat_username','dvurN','/announcement','BrSZC','adminUserList','Profile\x20not\x20found.','true','back','LvjrM','unknown','authTitle','MCDoG','nOfLd','SjWWp','merda','NoHMU','exists','10px','Zamxo','IJyco','yxHTH','\x0aDescription:\x20','zxNlC','bcIpE','oqDTZ','GTGPE','popstate','IweFt','foLNv','itRrt','height','value','vKBNC','119dCZfxF','🔔\x20Enable\x20Notifications','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','rvaWW','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','ref','yXdEz','fLJQH','120px','5189800UkpZgc','mierda','khTQb','TunUt','now','PowZm','boxShadow','fvaYd','reaction-tray','rmpkd','editBioInput','HIrPU','aZlXh','qGApI','ovpHH','932922KldSXV','keypress','active','digest','GCfCj','oFlag','Enter\x20your\x20new\x20username:','sUjcb','UXYPJ','some','show','bnLza','profileViewer','moderator','map','rooms','sounds/beep.mp3','click','sCgmg','/avatarBase64','toUpperCase','chatScreen','roomCodeInput','qpudo','onloadend','DnkzJ','wOZCu','<button>','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','mHJqc','PFLLu','HZXov','audioUrl','zrwNd','setItem','top','aElBN','EDhHn','NHPrS','appendChild','admins/','child_removed','play','Qxqvz','pointer','ogIOe','online','#aaa','hyYyP','Failed\x20to\x20save\x20profile:','2|1|0|3|4','get','mute','authDescription','usernameHistory','ondataavailable','eLdQj','You\x20got\x20a\x20message\x20from\x20','flex','●\x20Online','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','🔕\x20Disable\x20Notifications','sgjTC','NQXeV','antispam/','UMMFK','adminControlsSection','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','textAlign','zjvrO','Enter\x20a\x20valid\x20room\x20code','Pfdjj','gbaYC','\x0aUsername\x20History:\x20','jqBAU','\x20minutes','<button\x20onclick=\x22demoteUser(\x27','gZNlZ','AqQGQ','7dejUAt','remove','from','xRyny','addEventListener','Error\x20checking\x20username:','announcementArea','ejoXb','FsgsF','addAnnouncementBtn','random','XkLJv','auth/','\x20promoted\x20to\x20Admin!','avatarBase64','subtle','StmpW','You\x20got\x20messages\x20from\x20','jxXum','NhiOQ','style','background','innerHTML','uSOmu','lastChanged','muteUntil','TIMESTAMP','set','tPPtT','oAtTf','150HWsFKR','rZFCV','nrCbL','mKhcv','QjHav','sender','data:image/png;base64,','length','AtNam','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','tCqsf','8858KBkcwf','authAvatarPreview','cShBY','easy-chatroom.firebasestorage.app','all','codeEntryScreen','toLowerCase','NuaHB','ssERo','MhUyX','DNLXa','Login','/messages/','050BBB66HH','msgId','UkOKw','cRwtk','volume','Room\x20password\x20not\x20set.\x20Cannot\x20join.','onclick','createElement','initializeApp','FxYXu','gtvZz','rvTVa','then','fuck','encode','src','cWjpX','XKteB','No\x20changes\x20yet','\x20was\x20promoted\x20to\x20Admin','NbKrC','FXGZe','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','New\x20Chat\x20Message','disabled','putangina','qbYjT','entries','OAqnH','fNpMu','gridTemplateColumns','uTZSH','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','onlineStatus','KKwSH','roomDisplay','KrsCm','OiOjn','color','msg','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','HbduP','IvcQa','dIabR','4px','users/','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','start','vkVIx','WYQzt','rkOEb','messages','heZco','absolute','XNQgZ','JEgga','DOMContentLoaded','FqDgn','WgzVg','IzWYk','putang\x20ina','xSdTb','AfouH','permission','BsaeH','Enter','deleteMessage','lnoCh','fGZXS','fDPDS','hidden','files','antispamBlocked/','lAfFp','\x0aLast\x20Changed:\x20','iHgOw','position','❌\x20Image\x20must\x20be\x20under\x202MB','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','HLsvn','center','readAsDataURL','jfncV','zhnQG','audio/webm','1:985049198428:web:d0eb7e2de39887710c9b99','cwims','SzXVp','Messages\x20by\x20','passwordHash','gUlcF','<button\x20onclick=\x22promoteToModerator(\x27','ZkrlS','lCecz','granted','dLukm','cabron','MOKya','LaMuO','zIMVd','moderators/','orderByChild','imageBase64','prkXC','irTIw','floor','shit','qbUDZ','MskXs','nSKxK','Session\x20expired.','getItem','✅\x20Profile\x20updated!\x20Please\x20reload.','notifications_enabled','profileUsernameInput','getUserMedia','Username\x20already\x20exists.','vGvXu','rooms/','cwOtt','Delete\x20this\x20message?','authUsername','RadAJ','gDILN','<span\x20class=\x22sender-name\x22>','vODNC','OwyiR','mAMbK','IGBjX','roomStates/','onDisconnect','luwvq','trim','bobo','head','<br>','vEdSg','9916281FIcsNy','kLYaU','nQyDW','lfQik','tWyuK','TVwTT','JyTsy','easy-chatroom.firebaseapp.com','qgyGm','💬\x20','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','UOmFr','iWJrp','typing/','inline-block','<audio\x20controls\x20src=\x22','split','Rkhok','data','<button\x20onclick=\x22deleteUserMessages(\x27','tFIaT','created','yYuXa','ZZIXQ','authPasswordConfirm','DrSxK','authAvatar','Incorrect\x20password','Account\x20not\x20found.','HMkdu','values','visibilitychange','CfoEY','\x27)\x22>Demote</button>','LxMnB','error','limitToLast','No\x20bio\x20set','toString','ucluO','OleBE','XfFVU','QXZWT','Rjzxa','TcoTi','DsXpQ','editProfileScreen','DuXij','NSZTI','received','text','0123456789','vtEmQ','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','onload','EAHcI','content','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','editProfileError','\x20deleted.','passwordError','left','auth','vmzFP','mouseenter','profileContent','\x27)\x22>','Ducul','description','\x20minutes.','WkQJW','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','relative','NyVLE','cunt','eQmsj','KlTAy','HIWsn','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','<img\x20src=\x22data:image/png;base64,','OOdHC','once','quCtG','XaWGR','\x20muted\x20for\x20','sidebarAvatarPreview','\x20🔧\x20','gap','HnOeJ','yjQUp','SmtMU','system','whiteSpace','classList','puBRd','asshole','heuqk','YsdQV','18px','vKoRE','\x20in\x20room\x20','Qjfrx','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','PMIcr','</span>\x20','onstop','EPsJg','EOPik','Please\x20enter\x20your\x20current\x20password.','equalTo','HpnZW','aAuFN','\x27)\x22>+Admin</button>','vomrf','EJddc','lbYZY','coño','repeat(auto-fill,\x20minmax(32px,\x201fr))','recordBtn','oqwRp','QRWit','update','2px\x20solid\x20red','display','<button\x20onclick=\x22promoteToAdmin(\x27','VCJMj','false','AhBNn','marginTop','14265ZxqkAq','Remove\x20Announcement?','HChCE','\x0aName:\x20','authError','div','<div>','</span>','aezPg','cFDdb','role','<img\x20src=\x22','EKJFd','oWPdZ','catch','add','MDfhW','namePreview','database','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x2025%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','🚫\x20Cannot\x20promote\x20Developers.','bQMmr','FVSnx','lipcU','userSidebar','scrollTop','</button>','FPxUG','ulol','Nzjbg','hGpSV','\x27,\x2010)\x22>Mute\x2010m</button>','forEach','ServerValue','NWaXL','NRnyi','children','borderRadius','val','LRCAu','textContent','RegKy','sxLoM','lcQOq','pRMpq','qJmGp','Microphone\x20permission\x20denied.','Passwords\x20do\x20not\x20match.','fzYCE','toLocaleTimeString','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','XOFCt','⛔\x20You\x20are\x20muted.','oztUE','GTXsO','join','UNOYP','QBdsx','authScreen','Hingf','srqQn','fontSize','PaNEw','iefNV'];_0x33a2=function(){return _0x4c73bc;};return _0x33a2();}async function loadRoomRoles(){const _0x300d53=_0x20c1d8,_0x3453e9={'UkOKw':function(_0x18aebb,_0x35d0ed){return _0x18aebb===_0x35d0ed;},'gXSbl':_0x300d53(0x35f),'KlTAy':function(_0x14d518,_0x315109){return _0x14d518(_0x315109);},'MOKya':_0x300d53(0x255),'fGrEV':_0x300d53(0x31b),'aezPg':_0x300d53(0x116),'FqDgn':_0x300d53(0x2e8)},_0x5bd792=_0x3453e9[_0x300d53(0x263)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x3fd041=await db[_0x300d53(0xf6)](_0x3453e9[_0x300d53(0x1ef)])[_0x300d53(0x13c)]();_0x3fd041[_0x300d53(0x2b8)](_0x40c530=>{const _0x295a4f=_0x300d53;if(_0x3453e9[_0x295a4f(0x190)](_0x40c530[_0x295a4f(0x2be)]()['role'],_0x3453e9['gXSbl']))globalDevs[_0x295a4f(0xb2)](_0x40c530[_0x295a4f(0x340)]);});const _0x544dce=await db[_0x300d53(0xf6)](_0x300d53(0x131)+roomCode)['get']();_0x544dce[_0x300d53(0xe0)]()&&_0x544dce[_0x300d53(0x2b8)](_0xcfbf54=>roomAdmins[_0x300d53(0xb2)](_0xcfbf54[_0x300d53(0x340)]));const _0xc20f9d=await db['ref'](_0x300d53(0x1f2)+roomCode)['get']();_0xc20f9d[_0x300d53(0xe0)]()&&_0xc20f9d[_0x300d53(0x2b8)](_0x4e35e1=>roomModerators[_0x300d53(0xb2)](_0x4e35e1['key']));if(globalDevs[_0x300d53(0x310)](_0x5bd792))role=_0x300d53(0x35f);else{if(roomAdmins[_0x300d53(0x310)](_0x5bd792))role=_0x3453e9['fGrEV'];else roomModerators[_0x300d53(0x310)](_0x5bd792)?role=_0x3453e9[_0x300d53(0x2a0)]:role=_0x3453e9[_0x300d53(0x1c7)];}}async function renderUserLists(_0x4bafbe){const _0x379f44=_0x20c1d8,_0x3b06b0={'gZNlZ':function(_0x24713d,_0x35a03c){return _0x24713d(_0x35a03c);},'rmpkd':function(_0x51419f,_0x251680){return _0x51419f===_0x251680;},'qAMqM':'dev','mKhcv':_0x379f44(0x31b),'iFPPr':function(_0x41abda,_0xe0b61f){return _0x41abda===_0xe0b61f;},'ZLnQV':'moderator','WsVMR':function(_0x38fdbc,_0x163e67){return _0x38fdbc===_0x163e67;},'NhiOQ':function(_0x2155a0,_0x51d556){return _0x2155a0===_0x51d556;},'mGqWw':function(_0x141f0c,_0x44eec3){return _0x141f0c(_0x44eec3);},'jbutO':'block','tWyuK':_0x379f44(0x2fd),'VBTKr':'userList'};roomUsers=_0x4bafbe;const _0x4203ca=_0x3b06b0[_0x379f44(0x156)](sanitizeUsername,username),_0x50e0db=role===_0x3b06b0[_0x379f44(0x335)]||_0x3b06b0[_0x379f44(0x9c)](role,'admin')||role==='moderator';document['getElementById'](_0x379f44(0x14b))[_0x379f44(0x16c)][_0x379f44(0x292)]=_0x50e0db?_0x3b06b0['jbutO']:_0x3b06b0[_0x379f44(0x21b)];const _0x5d9db4=Object[_0x379f44(0x1a9)](_0x4bafbe)['map'](async([_0x48e196,_0x26a510])=>{const _0x28a45f=_0x379f44,_0x41bbbb=_0x3b06b0[_0x28a45f(0x156)](sanitizeUsername,_0x26a510[_0x28a45f(0xad)]||_0x48e196),_0x3e0b84=await _0x3b06b0[_0x28a45f(0x156)](fetchAvatar,_0x41bbbb),_0x2025c8=_0x3e0b84?'<img\x20src=\x22data:image/png;base64,'+_0x3e0b84+_0x28a45f(0x1dc):'',_0x2e6807=_0x26a510[_0x28a45f(0x137)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x28a45f(0xf3);return _0x28a45f(0x319)+_0x2025c8+'\x20'+_0x2e6807+'\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27'+_0x41bbbb+_0x28a45f(0x259)+(_0x26a510[_0x28a45f(0xad)]||_0x48e196)+_0x28a45f(0x27f)+getRoleTag(_0x41bbbb)+_0x28a45f(0x2e7);}),_0x5ac7bf=await Promise['all'](_0x5d9db4);document['getElementById'](_0x3b06b0['VBTKr'])[_0x379f44(0x16e)]=_0x5ac7bf[_0x379f44(0x2cf)]('');if(!_0x50e0db)return;const _0x31c12e=Object[_0x379f44(0x1a9)](_0x4bafbe)['map'](async([_0x472602,_0x3dc178])=>{const _0x49c9d2=_0x379f44,_0x4ca8fa=sanitizeUsername(_0x3dc178['username']||_0x472602);if(_0x3b06b0[_0x49c9d2(0x103)](_0x4ca8fa,_0x4203ca))return'';const _0x1dd61c=globalDevs[_0x49c9d2(0x310)](_0x4ca8fa),_0x31d5a2=await fetchAvatar(_0x4ca8fa),_0x368007=_0x31d5a2?'<img\x20src=\x22data:image/png;base64,'+_0x31d5a2+_0x49c9d2(0x1dc):'',_0x391cda=_0x3dc178[_0x49c9d2(0x137)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x49c9d2(0xf3),_0x530013=[];if(!_0x1dd61c){(role===_0x3b06b0['qAMqM']||role===_0x3b06b0[_0x49c9d2(0x179)]||_0x3b06b0['iFPPr'](role,_0x3b06b0[_0x49c9d2(0x2f9)]))&&(_0x530013[_0x49c9d2(0xb2)](_0x49c9d2(0x2dd)+_0x4ca8fa+'\x27,\x201)\x22>Mute\x201m</button>'),_0x530013['push'](_0x49c9d2(0x2dd)+_0x4ca8fa+_0x49c9d2(0xba)),_0x530013['push'](_0x49c9d2(0x2dd)+_0x4ca8fa+_0x49c9d2(0x2b7)));if(_0x3b06b0[_0x49c9d2(0x9c)](role,'dev'))_0x530013['push'](_0x49c9d2(0x1e9)+_0x4ca8fa+_0x49c9d2(0x341)),_0x530013['push'](_0x49c9d2(0x293)+_0x4ca8fa+_0x49c9d2(0x287)),_0x530013['push'](_0x49c9d2(0x155)+_0x4ca8fa+_0x49c9d2(0x238));else _0x3b06b0[_0x49c9d2(0x16b)](role,_0x3b06b0[_0x49c9d2(0x179)])&&(_0x530013[_0x49c9d2(0xb2)](_0x49c9d2(0x1e9)+_0x4ca8fa+_0x49c9d2(0x341)),_0x530013['push']('<button\x20onclick=\x22demoteUser(\x27'+_0x4ca8fa+_0x49c9d2(0x238)));}return _0x49c9d2(0x2d9)+_0x368007+'\x20'+_0x391cda+_0x49c9d2(0x26d)+(_0x3dc178[_0x49c9d2(0xad)]||_0x472602)+'\x20'+_0x3b06b0['mGqWw'](getRoleTag,_0x4ca8fa)+_0x49c9d2(0x309)+_0x530013['join']('\x20')+_0x49c9d2(0x14c);}),_0x4f70de=await Promise[_0x379f44(0x185)](_0x31c12e);document['getElementById'](_0x379f44(0xd4))['innerHTML']=_0x4f70de[_0x379f44(0x2cf)]('');}async function fetchAvatar(_0x114928){const _0x470fa4=_0x20c1d8;if(userAvatars[_0x114928])return userAvatars[_0x114928];const _0x6e082d=await db['ref'](_0x470fa4(0x164)+_0x114928)[_0x470fa4(0x13c)]();if(_0x6e082d[_0x470fa4(0xe0)]()&&_0x6e082d[_0x470fa4(0x2be)]()[_0x470fa4(0x166)])return userAvatars[_0x114928]=_0x6e082d[_0x470fa4(0x2be)]()['avatarBase64'],userAvatars[_0x114928];return null;}function sendTyping(){const _0x3addde=_0x20c1d8,_0x2581c9={'AvJhJ':function(_0x50a576,_0x4b3c80){return _0x50a576(_0x4b3c80);}},_0x382203=_0x2581c9['AvJhJ'](sanitizeUsername,username),_0x5b1bae=Date[_0x3addde(0xfe)]();db[_0x3addde(0xf6)](_0x3addde(0x224)+roomCode+'/'+_0x382203)[_0x3addde(0x173)](_0x5b1bae);if(typingTimeout)_0x2581c9['AvJhJ'](clearTimeout,typingTimeout);typingTimeout=setTimeout(()=>{const _0x910691=_0x3addde;db['ref'](_0x910691(0x224)+roomCode+'/'+_0x382203)[_0x910691(0x159)]();},0xbb8);}function listenForTyping(){const _0x22d1ec=_0x20c1d8,_0x434b14={'FXGZe':'typing'};db[_0x22d1ec(0xf6)]('typing/'+roomCode)['on'](_0x22d1ec(0xef),_0x593e0b=>{const _0xa2714=_0x22d1ec,_0x114346=document['getElementById'](_0x434b14[_0xa2714(0x1a3)]);if(!_0x593e0b[_0xa2714(0xe0)]())return _0x114346[_0xa2714(0x359)]='';const _0x3efa69=Date[_0xa2714(0xfe)](),_0x5f460d=Object['entries'](_0x593e0b[_0xa2714(0x2be)]())['filter'](([_0x3372e3,_0x3458f3])=>_0x3372e3!==sanitizeUsername(username)&&_0x3efa69-_0x3458f3<0x1388)[_0xa2714(0x117)](([_0x5dbe4c])=>_0x5dbe4c);_0x114346[_0xa2714(0x359)]=_0x5f460d['length']?_0x5f460d[_0xa2714(0x2cf)](',\x20')+_0xa2714(0x356):'';});}function watchMuteStatus(){const _0x13c33f=_0x20c1d8,_0x44b6cd={'nQyDW':_0x13c33f(0x32f),'xAWxc':function(_0x5658ca,_0x41dbfa){return _0x5658ca===_0x41dbfa;},'UkqNJ':_0x13c33f(0xa8),'PowZm':function(_0x129af7,_0x213747){return _0x129af7>_0x213747;},'ltLBn':_0x13c33f(0x2cc),'VTzBs':'Type\x20a\x20message...','fDPDS':function(_0x5d647b,_0x4103d0){return _0x5d647b(_0x4103d0);},'oqDTZ':'value'},_0x529c15=db['ref'](_0x13c33f(0xc3)+roomCode+'/'+_0x44b6cd[_0x13c33f(0x1d3)](sanitizeUsername,username));_0x529c15['on'](_0x44b6cd[_0x13c33f(0xe8)],_0x3357d5=>{const _0x4d5887=_0x13c33f,_0x39cd8b=document[_0x4d5887(0x33d)](_0x44b6cd[_0x4d5887(0x219)]);if(_0x3357d5['exists']()){const _0x580875=_0x3357d5['val'](),_0x5125a4=_0x44b6cd['xAWxc'](typeof _0x580875,_0x44b6cd[_0x4d5887(0x2f8)])&&_0x580875[_0x4d5887(0x171)]?_0x580875[_0x4d5887(0x171)]:_0x580875;_0x39cd8b['disabled']=_0x44b6cd[_0x4d5887(0xff)](_0x5125a4,Date['now']()),_0x39cd8b[_0x4d5887(0x32e)]=_0x44b6cd[_0x4d5887(0xff)](_0x5125a4,Date[_0x4d5887(0xfe)]())?_0x44b6cd['ltLBn']:_0x44b6cd['VTzBs'];}else _0x39cd8b['disabled']=![],_0x39cd8b[_0x4d5887(0x32e)]=_0x44b6cd[_0x4d5887(0x9d)];});}function isProtected(_0x5e0e24){const _0x5251b8=_0x20c1d8;return globalDevs[_0x5251b8(0x310)](_0x5e0e24);}function addSystemMessage(_0x56e407){const _0x42033e=_0x20c1d8,_0x2d6bf5={'Pfdjj':'center','kdgXx':_0x42033e(0x138),'AmFGo':'6px\x20auto','LsNxH':_0x42033e(0x1c1)},_0xdad9c3=document['createElement']('div');_0xdad9c3[_0x42033e(0x16c)]['textAlign']=_0x2d6bf5[_0x42033e(0x150)],_0xdad9c3['style'][_0x42033e(0x2d5)]=_0x42033e(0x302),_0xdad9c3[_0x42033e(0x16c)][_0x42033e(0x1b4)]=_0x2d6bf5[_0x42033e(0x304)],_0xdad9c3[_0x42033e(0x16c)]['margin']=_0x2d6bf5['AmFGo'],_0xdad9c3[_0x42033e(0x359)]=_0x56e407,document['getElementById'](_0x42033e(0x1c1))['appendChild'](_0xdad9c3),document[_0x42033e(0x33d)](_0x2d6bf5['LsNxH'])[_0x42033e(0x2b1)]=document[_0x42033e(0x33d)](_0x42033e(0x1c1))['scrollHeight'];}function reactToMessage(_0x27a1e3,_0x1b6e9d){const _0x35befb=_0x20c1d8,_0x770f9a={'quPQf':function(_0x352d3e,_0x55466a){return _0x352d3e(_0x55466a);},'zIMVd':_0x35befb(0xef)},_0x24e70a=_0x770f9a['quPQf'](sanitizeUsername,username),_0x53350a=db[_0x35befb(0xf6)]('rooms/'+roomCode+_0x35befb(0x18d)+_0x27a1e3+_0x35befb(0x354)+_0x1b6e9d);_0x53350a['once'](_0x770f9a[_0x35befb(0x1f1)])['then'](_0x12424f=>{const _0x8a5b02=_0x35befb;let _0x423f30=_0x12424f['exists']()?_0x12424f[_0x8a5b02(0x2be)]():[];!_0x423f30['includes'](_0x24e70a)?_0x423f30['push'](_0x24e70a):_0x423f30=_0x423f30[_0x8a5b02(0x9a)](_0x20a7b4=>_0x20a7b4!==_0x24e70a),_0x423f30[_0x8a5b02(0x17d)]?_0x53350a[_0x8a5b02(0x173)](_0x423f30):_0x53350a['remove']();});}