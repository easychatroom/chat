const _0x385ff3=_0x4800;function _0x4800(_0x3c7a02,_0x2ceed0){const _0x46f292=_0x46f2();return _0x4800=function(_0x48000a,_0x4cb984){_0x48000a=_0x48000a-0x128;let _0x447aa5=_0x46f292[_0x48000a];return _0x447aa5;},_0x4800(_0x3c7a02,_0x2ceed0);}(function(_0x25e4e3,_0x5169b7){const _0x4575a5=_0x4800,_0x3ffea2=_0x25e4e3();while(!![]){try{const _0x55c408=-parseInt(_0x4575a5(0x2ec))/0x1+parseInt(_0x4575a5(0x22f))/0x2+-parseInt(_0x4575a5(0x1f3))/0x3+parseInt(_0x4575a5(0x29b))/0x4*(-parseInt(_0x4575a5(0x228))/0x5)+parseInt(_0x4575a5(0x274))/0x6*(-parseInt(_0x4575a5(0x330))/0x7)+parseInt(_0x4575a5(0x387))/0x8*(parseInt(_0x4575a5(0x205))/0x9)+parseInt(_0x4575a5(0x242))/0xa;if(_0x55c408===_0x5169b7)break;else _0x3ffea2['push'](_0x3ffea2['shift']());}catch(_0x2e7b6e){_0x3ffea2['push'](_0x3ffea2['shift']());}}}(_0x46f2,0x911a4));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x385ff3(0x201),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0x385ff3(0x321),'storageBucket':_0x385ff3(0x276),'messagingSenderId':_0x385ff3(0x337),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':'G-QDESJ2WR42'};firebase[_0x385ff3(0x294)](firebaseConfig);const db=firebase[_0x385ff3(0x369)]();let deviceId=null;((async()=>{const _0x1048c7=_0x385ff3,_0xbc9a6={'tXhNu':function(_0x2601e8){return _0x2601e8();}};deviceId=await _0xbc9a6[_0x1048c7(0x1bd)](generateDeviceId);})());const swearWords=[_0x385ff3(0x241),_0x385ff3(0x250),_0x385ff3(0x2db),_0x385ff3(0x29a),_0x385ff3(0x146),_0x385ff3(0x170),_0x385ff3(0x309),_0x385ff3(0x145),_0x385ff3(0x25f),_0x385ff3(0x182),'co√±o','cabron',_0x385ff3(0x2e5),_0x385ff3(0x2b5),'caralho','merda',_0x385ff3(0x145),_0x385ff3(0x2a1),_0x385ff3(0x307),_0x385ff3(0x2a3),_0x385ff3(0x184),_0x385ff3(0x175),'ulol',_0x385ff3(0x17e),_0x385ff3(0x39e),_0x385ff3(0x277)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x385ff3(0x2f3)]()['toString'](0x24)[_0x385ff3(0x376)](0x2,0x9),lastActivity=Date[_0x385ff3(0x1ff)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x385ff3(0x27e),MAX_MESSAGES=0xfa,sound=new Audio(_0x385ff3(0x2fa));sound[_0x385ff3(0x2e4)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x2d43ab=_0x385ff3,_0x3d7e35={'WGIzW':function(_0x453506,_0x2beb49){return _0x453506+_0x2beb49;},'SeddE':function(_0x466500,_0x2d1407){return _0x466500+_0x2d1407;},'koliJ':function(_0x133ed0,_0x27c1db){return _0x133ed0(_0x27c1db);},'cCHsr':function(_0x8f39a0,_0x168acf){return _0x8f39a0+_0x168acf;}},_0x2b8757=_0x3d7e35[_0x2d43ab(0x2e2)](_0x3d7e35[_0x2d43ab(0x1e7)](navigator[_0x2d43ab(0x31b)],screen[_0x2d43ab(0x213)]),screen[_0x2d43ab(0x351)]),_0x3d2fad=await _0x3d7e35['koliJ'](sha256,_0x2b8757);return _0x3d7e35[_0x2d43ab(0x2c9)]('_',_0x3d2fad[_0x2d43ab(0x376)](0x0,0x14));}function sha256(_0x5b408f){const _0x224ae3=_0x385ff3,_0x3bdf5f={'efdlk':'SHA-256'},_0x2afe73=new TextEncoder()[_0x224ae3(0x155)](_0x5b408f);return crypto['subtle'][_0x224ae3(0x2c2)](_0x3bdf5f['efdlk'],_0x2afe73)[_0x224ae3(0x29f)](_0x301413=>{const _0x2c30b0=_0x224ae3;return Array[_0x2c30b0(0x1aa)](new Uint8Array(_0x301413))[_0x2c30b0(0x211)](_0x3ed93f=>_0x3ed93f[_0x2c30b0(0x12a)](0x10)[_0x2c30b0(0x33e)](0x2,'0'))[_0x2c30b0(0x208)]('');});}function toggleNotifications(){const _0x2b50fe=_0x385ff3,_0x28097c={'xwKkV':function(_0x55e936,_0x1896fb){return _0x55e936===_0x1896fb;},'FyFvw':_0x2b50fe(0x347),'AUikW':_0x2b50fe(0x214),'ZJnoq':function(_0x35d877,_0x3e625f){return _0x35d877!==_0x3e625f;},'PqNbC':_0x2b50fe(0x13b),'IeMzN':'true','JTgOo':_0x2b50fe(0x2c4),'KZjnO':_0x2b50fe(0x372)};_0x28097c[_0x2b50fe(0x303)](Notification['permission'],_0x28097c['FyFvw'])?Notification['requestPermission']()[_0x2b50fe(0x29f)](_0x314972=>{const _0x28999f=_0x2b50fe;_0x28097c[_0x28999f(0x35f)](_0x314972,_0x28097c[_0x28999f(0x297)])&&(notificationsEnabled=!![],localStorage['setItem'](_0x28999f(0x13b),_0x28999f(0x1cc)),document[_0x28999f(0x319)]('notifToggleBtn')[_0x28999f(0x371)]=_0x28097c['AUikW']);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x2b50fe(0x271)](_0x28097c['PqNbC'],notificationsEnabled?_0x28097c[_0x2b50fe(0x37a)]:_0x28097c[_0x2b50fe(0x1d8)]),document[_0x2b50fe(0x319)](_0x2b50fe(0x15b))['innerText']=notificationsEnabled?_0x28097c[_0x2b50fe(0x278)]:_0x28097c[_0x2b50fe(0x332)]);}function toggleAuthMode(){const _0x59c800=_0x385ff3,_0xf8bc71={'JIjUI':_0x59c800(0x282),'PMIOm':_0x59c800(0x3b5),'ioFpu':_0x59c800(0x359),'ttAtW':'authError','mvtWF':'authSubmitBtn','bPbqB':'Register','OYZRg':_0x59c800(0x38a),'OLjdk':_0x59c800(0x3a9),'ZYDLK':_0x59c800(0x312),'ThLhB':'authAvatar','Qzzvv':_0x59c800(0x34f)},_0x406b89=_0xf8bc71[_0x59c800(0x25d)][_0x59c800(0x15c)]('|');let _0x4369a8=0x0;while(!![]){switch(_0x406b89[_0x4369a8++]){case'0':document[_0x59c800(0x319)](_0xf8bc71[_0x59c800(0x168)])['style'][_0x59c800(0x210)]=_0xf8bc71['ioFpu'];continue;case'1':document[_0x59c800(0x319)](_0xf8bc71[_0x59c800(0x219)])['style']['display']=_0xf8bc71[_0x59c800(0x2e8)];continue;case'2':document['getElementById'](_0xf8bc71[_0x59c800(0x188)])[_0x59c800(0x371)]=isRegisterMode?_0xf8bc71['bPbqB']:_0xf8bc71[_0x59c800(0x141)];continue;case'3':isRegisterMode=!isRegisterMode;continue;case'4':document[_0x59c800(0x319)](_0xf8bc71[_0x59c800(0x3b2)])[_0x59c800(0x190)][_0x59c800(0x210)]=isRegisterMode?_0xf8bc71['ZYDLK']:_0xf8bc71['ioFpu'];continue;case'5':document[_0x59c800(0x319)](_0xf8bc71[_0x59c800(0x2d4)])[_0x59c800(0x190)][_0x59c800(0x210)]=isRegisterMode?_0xf8bc71[_0x59c800(0x1f6)]:_0xf8bc71['ioFpu'];continue;case'6':document['getElementById'](_0xf8bc71['Qzzvv'])[_0x59c800(0x371)]=isRegisterMode?_0x59c800(0x3ae):_0xf8bc71['OYZRg'];continue;case'7':document['getElementById'](_0x59c800(0x138))['style']['display']=isRegisterMode?_0xf8bc71[_0x59c800(0x1f6)]:_0xf8bc71['ioFpu'];continue;}break;}}function previewAvatar(){const _0x5ebbb6=_0x385ff3,_0x35338c={'rhjua':_0x5ebbb6(0x3b5),'lJXoe':'block','driMv':_0x5ebbb6(0x16d)},_0xc7d2de=document['getElementById'](_0x35338c[_0x5ebbb6(0x392)]);if(!_0xc7d2de[_0x5ebbb6(0x296)][_0x5ebbb6(0x1e6)])return;const _0xdcba04=new FileReader();_0xdcba04[_0x5ebbb6(0x310)]=()=>{const _0x5c12f4=_0x5ebbb6;document[_0x5c12f4(0x319)](_0x35338c[_0x5c12f4(0x2a0)])['src']=_0xdcba04['result'],document[_0x5c12f4(0x319)](_0x35338c[_0x5c12f4(0x2a0)])[_0x5c12f4(0x190)]['display']=_0x35338c[_0x5c12f4(0x224)];},_0xdcba04[_0x5ebbb6(0x288)](_0xc7d2de[_0x5ebbb6(0x296)][0x0]);}async function submitAuth(){const _0x2e6e81=_0x385ff3,_0x4eb886={'mnEIs':function(_0x4846df,_0x6c7fcf){return _0x4846df||_0x6c7fcf;},'qNgYI':_0x2e6e81(0x352),'pjKTj':function(_0x348932){return _0x348932();},'RtPWt':'authPassword','mqKOM':_0x2e6e81(0x3a9),'mvkMe':'authDescription','sRQlq':'authAvatar','DiIgb':_0x2e6e81(0x2b6),'ySOgo':_0x2e6e81(0x133),'qAbGC':'block','ecMnC':function(_0x470669,_0x8aa2f6){return _0x470669(_0x8aa2f6);},'HLxtx':_0x2e6e81(0x290),'yAviQ':_0x2e6e81(0x186),'fMBBm':_0x2e6e81(0x327),'xAFnp':function(_0xb8cbaf,_0x113be0){return _0xb8cbaf(_0x113be0);},'QcUtA':_0x2e6e81(0x243)},_0x4f82b9=document[_0x2e6e81(0x319)]('authUsername')[_0x2e6e81(0x295)]['trim'](),_0x321dd8=document['getElementById'](_0x4eb886['RtPWt'])[_0x2e6e81(0x295)][_0x2e6e81(0x1fe)](),_0xe49f04=document[_0x2e6e81(0x319)](_0x4eb886[_0x2e6e81(0x1f9)])['value'][_0x2e6e81(0x1fe)](),_0x526fa8=document['getElementById'](_0x4eb886['mvkMe'])[_0x2e6e81(0x295)]['trim'](),_0xa889ef=document['getElementById'](_0x4eb886[_0x2e6e81(0x26f)]),_0x910b00=document[_0x2e6e81(0x319)](_0x4eb886['DiIgb']);_0x910b00[_0x2e6e81(0x190)][_0x2e6e81(0x210)]='none';if(_0x4eb886[_0x2e6e81(0x1fa)](!_0x4f82b9,!_0x321dd8)){_0x910b00[_0x2e6e81(0x371)]=_0x4eb886[_0x2e6e81(0x15f)],_0x910b00[_0x2e6e81(0x190)][_0x2e6e81(0x210)]=_0x4eb886[_0x2e6e81(0x236)];return;}const _0x35bbc4=_0x4eb886[_0x2e6e81(0x395)](sanitizeUsername,_0x4f82b9),_0x5619f9=db[_0x2e6e81(0x2f0)](_0x2e6e81(0x26c)+_0x35bbc4),_0x26c923=await _0x5619f9['get']();if(isRegisterMode){if(_0x26c923[_0x2e6e81(0x21c)]()){_0x910b00[_0x2e6e81(0x371)]=_0x4eb886[_0x2e6e81(0x238)],_0x910b00[_0x2e6e81(0x190)]['display']='block';return;}if(_0x321dd8!==_0xe49f04){_0x910b00[_0x2e6e81(0x371)]=_0x4eb886[_0x2e6e81(0x397)],_0x910b00['style']['display']=_0x4eb886[_0x2e6e81(0x236)];return;}const _0x491559=await sha256(_0x321dd8),_0x52ca7d=await _0x4eb886[_0x2e6e81(0x287)](generateDeviceId);if(_0xa889ef[_0x2e6e81(0x296)][_0x2e6e81(0x1e6)]){const _0x37b023=_0xa889ef[_0x2e6e81(0x296)][0x0],_0x6dca05=new FileReader();_0x6dca05[_0x2e6e81(0x310)]=async()=>{const _0x9dfcea=_0x2e6e81,_0x2b8ddb=_0x6dca05[_0x9dfcea(0x198)][_0x9dfcea(0x15c)](',')[0x1];await _0x5619f9['set']({'username':_0x4f82b9,'passwordHash':_0x491559,'description':_0x4eb886[_0x9dfcea(0x1fa)](_0x526fa8,''),'avatarBase64':_0x2b8ddb,'role':_0x4eb886[_0x9dfcea(0x148)],'deviceId':_0x52ca7d,'usernameHistory':[_0x4f82b9],'lastChanged':Date[_0x9dfcea(0x1ff)]()}),username=_0x4f82b9,userDescription=_0x526fa8,avatarBase64=_0x2b8ddb,role=_0x9dfcea(0x352),_0x4eb886['pjKTj'](startAfterAuth);},_0x6dca05[_0x2e6e81(0x288)](_0x37b023);}else await _0x5619f9['set']({'username':_0x4f82b9,'passwordHash':_0x491559,'description':_0x4eb886[_0x2e6e81(0x1fa)](_0x526fa8,''),'avatarBase64':'','role':_0x4eb886[_0x2e6e81(0x148)],'deviceId':_0x52ca7d,'usernameHistory':[_0x4f82b9],'lastChanged':Date[_0x2e6e81(0x1ff)]()}),username=_0x4f82b9,userDescription=_0x526fa8,avatarBase64='',role=_0x4eb886[_0x2e6e81(0x148)],_0x4eb886['pjKTj'](startAfterAuth);}else{if(!_0x26c923[_0x2e6e81(0x21c)]()){_0x910b00['innerText']=_0x4eb886[_0x2e6e81(0x23a)],_0x910b00[_0x2e6e81(0x190)][_0x2e6e81(0x210)]=_0x4eb886[_0x2e6e81(0x236)];return;}const _0x2dcb5c=_0x26c923['val'](),_0x3d8b5a=await _0x4eb886[_0x2e6e81(0x176)](sha256,_0x321dd8);if(_0x3d8b5a!==_0x2dcb5c[_0x2e6e81(0x167)]){_0x910b00[_0x2e6e81(0x371)]=_0x4eb886[_0x2e6e81(0x361)],_0x910b00[_0x2e6e81(0x190)][_0x2e6e81(0x210)]=_0x4eb886[_0x2e6e81(0x236)];return;}username=_0x4f82b9;if(_0x2dcb5c[_0x2e6e81(0x2aa)])userDescription=_0x2dcb5c[_0x2e6e81(0x2aa)];if(_0x2dcb5c[_0x2e6e81(0x2b4)])avatarBase64=_0x2dcb5c[_0x2e6e81(0x2b4)];if(_0x2dcb5c[_0x2e6e81(0x1a5)])role=_0x2dcb5c[_0x2e6e81(0x1a5)];else role=_0x4eb886[_0x2e6e81(0x148)];_0x4eb886['pjKTj'](startAfterAuth);}}async function saveNewUser(_0x2497e8,_0x4e3752,_0x5e4e31,_0x4cb08a,_0x612e6d){const _0x330cfd=_0x385ff3,_0x2b7cee={'YYheX':function(_0x16e669,_0x16662f){return _0x16e669(_0x16662f);},'hjXpU':function(_0x5e4fa2,_0x2bdac8){return _0x5e4fa2||_0x2bdac8;},'wTuYH':function(_0x494fc7){return _0x494fc7();}},_0x2820d7=db[_0x330cfd(0x2f0)](_0x330cfd(0x26c)+_0x2b7cee['YYheX'](sanitizeUsername,_0x2497e8)),_0x50ac53={'username':_0x2497e8,'passwordHash':_0x4e3752,'role':_0x330cfd(0x352),'deviceId':_0x5e4e31,'description':_0x2b7cee[_0x330cfd(0x19b)](_0x612e6d,''),'avatarBase64':_0x2b7cee[_0x330cfd(0x19b)](_0x4cb08a,''),'usernameHistory':[_0x2497e8],'lastChanged':Date[_0x330cfd(0x1ff)]()};await _0x2820d7[_0x330cfd(0x36d)](_0x50ac53),username=_0x2497e8,_0x4cb08a=_0x50ac53['avatarBase64'],userDescription=_0x50ac53[_0x330cfd(0x2aa)],_0x2b7cee[_0x330cfd(0x1eb)](startAfterAuth);}async function startAfterAuth(){const _0x244710=_0x385ff3,_0x37f247={'HwaNg':function(_0x3e9afd,_0x5897ac){return _0x3e9afd(_0x5897ac);},'UQwhK':_0x244710(0x352),'dpnyF':function(_0x38c928,_0x3a9c36){return _0x38c928+_0x3a9c36;},'iIJxQ':_0x244710(0x30a),'NJkTP':'block','ABnqJ':'namePreview','twQLZ':function(_0x5875b9,_0x163584){return _0x5875b9(_0x163584);},'tMDnp':_0x244710(0x339)},_0x44b505=_0x37f247[_0x244710(0x24d)](sanitizeUsername,username),_0xd22ad=db['ref']('auth/'+_0x44b505),_0x2819f6=await _0xd22ad[_0x244710(0x149)]();if(_0x2819f6[_0x244710(0x21c)]()){const _0x206f4c=_0x2819f6[_0x244710(0x17c)]();username=_0x206f4c['username'],userDescription=_0x206f4c[_0x244710(0x2aa)]||'',avatarBase64=_0x206f4c['avatarBase64']||'',role=_0x206f4c[_0x244710(0x1a5)]||_0x37f247[_0x244710(0x283)];if(avatarBase64){const _0x142737=document[_0x244710(0x319)](_0x244710(0x17b));_0x142737[_0x244710(0x247)]=_0x37f247['dpnyF'](_0x37f247['iIJxQ'],avatarBase64),_0x142737[_0x244710(0x190)][_0x244710(0x210)]=_0x37f247['NJkTP'];}}else console[_0x244710(0x185)](_0x244710(0x1e2));await loadRoomRoles(),document[_0x244710(0x319)](_0x37f247['ABnqJ'])['innerText']=username,_0x37f247[_0x244710(0x21d)](showScreen,_0x37f247[_0x244710(0x212)]);}function toggleRecording(){const _0x5d4903=_0x385ff3,_0x61bc04={'ZoSCH':function(_0x5855f3,_0x48b7ad){return _0x5855f3(_0x48b7ad);},'FeCVz':'audio/webm','wNyaw':function(_0x122320){return _0x122320();},'OEVzY':_0x5d4903(0x32c),'jyAiQ':function(_0x35da94){return _0x35da94();}};isRecording?_0x61bc04[_0x5d4903(0x314)](stopRecording):navigator[_0x5d4903(0x1de)][_0x5d4903(0x317)]({'audio':!![]})[_0x5d4903(0x29f)](_0x5c0f04=>{const _0x2afdf4=_0x5d4903,_0x2d172e={'ieTSx':'[Voice\x20message]','saFeQ':function(_0x52d3dd,_0xa871a5){const _0xed4e3f=_0x4800;return _0x61bc04[_0xed4e3f(0x323)](_0x52d3dd,_0xa871a5);},'GWBKP':_0x61bc04['FeCVz'],'MDEKz':function(_0x4b34f6,_0x109cb0){return _0x4b34f6&&_0x109cb0;},'ZCHXc':function(_0x14ecb4){const _0x37843d=_0x4800;return _0x61bc04[_0x37843d(0x1f2)](_0x14ecb4);}};mediaRecorder=new MediaRecorder(_0x5c0f04),mediaRecorder[_0x2afdf4(0x15d)](),isRecording=!![],document[_0x2afdf4(0x319)](_0x61bc04['OEVzY'])[_0x2afdf4(0x371)]='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x2afdf4(0x144)]=_0x5a8201=>audioChunks[_0x2afdf4(0x316)](_0x5a8201[_0x2afdf4(0x2c5)]),mediaRecorder[_0x2afdf4(0x263)]=()=>{const _0x3b73fa=_0x2afdf4,_0x1a99c7={'VpPxD':_0x2d172e['ieTSx']};_0x2d172e[_0x3b73fa(0x3af)](clearTimeout,recordingTimer);const _0x4e6257=new Blob(audioChunks,{'type':_0x2d172e['GWBKP']}),_0xc502df=new FileReader();_0xc502df[_0x3b73fa(0x310)]=()=>{const _0x57a47d=_0x3b73fa,_0x1157aa=_0xc502df[_0x57a47d(0x198)][_0x57a47d(0x15c)](',')[0x1],_0x43a829=db[_0x57a47d(0x2f0)]()['push']()[_0x57a47d(0x29d)];db[_0x57a47d(0x2f0)](_0x57a47d(0x333)+roomCode+'/messages/'+_0x43a829)['set']({'msg':_0x1a99c7[_0x57a47d(0x39d)],'audioBase64':_0x1157aa,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0xc502df[_0x3b73fa(0x288)](_0x4e6257);},recordingTimer=setTimeout(()=>{const _0x7f7aa9=_0x2afdf4;_0x2d172e[_0x7f7aa9(0x345)](mediaRecorder,isRecording)&&_0x2d172e[_0x7f7aa9(0x230)](stopRecording);},0x4e20);})[_0x5d4903(0x2cd)](_0x27310a=>{const _0x51cf95=_0x5d4903;_0x61bc04[_0x51cf95(0x323)](alert,_0x51cf95(0x27f));});}function stopRecording(){const _0x4627e7=_0x385ff3,_0x43a3fd={'KoxaS':function(_0x2ea3bd,_0x2730ca){return _0x2ea3bd&&_0x2730ca;},'jFhEl':_0x4627e7(0x32c),'wvDmV':_0x4627e7(0x1e8)};_0x43a3fd[_0x4627e7(0x256)](mediaRecorder,isRecording)&&(mediaRecorder[_0x4627e7(0x1a3)](),isRecording=![],document[_0x4627e7(0x319)](_0x43a3fd[_0x4627e7(0x29c)])[_0x4627e7(0x371)]=_0x43a3fd['wvDmV']);}function _0x46f2(){const _0x1ab1bd=['error','add','sQIpl','preventDefault','getItem','Messages\x20by\x20','msg','digest','\x27)\x22>+Mod</button>','false','data','Incorrect\x20current\x20password.','zFXkS','mbHpZ','cCHsr','visibilitychange','OdKQL','dAXrx','catch','staticPasswordInput','<div>','GWoBx','uNPJR','\x0a\x20\x20\x20\x20','gbyUL','ThLhB','OkZNG','MQfFR','typing','\x27)\x22>','dLMRS','CJTfS','bitch','FSTJW','\x20was\x20promoted\x20to\x20Admin','OJmsT','oldPasswordInput','yYtAi','vuVxq','WGIzW','\x20is\x20online','volume','gilipollas','WwTDF','toLocaleString','ioFpu','DhvaG','passwordError','avatar_base64','552175hzAYKU','\x20promoted\x20to\x20Moderator!','mlplc','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','ref','tVXxo','xlBXN','random','ServerValue','xiSkp','WCTJo','MYHSg','editProfileScreen','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','sounds/beep.mp3','aDTPX','xeRmO','Pxylc','placeholder','zpZfj','lastChanged','XwxAd','<small>','ZJnoq','<span\x20class=\x22sender-name\x22>','LAbac','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','otario','No\x20room\x20code\x20available\x20for\x20private\x20rooms','cunt','data:image/png;base64,','ZBDvi','audioUrl','dFaSI','play','No\x20changes\x20yet','onloadend','AcXyJ','block','some','jyAiQ','SjWUu','push','getUserMedia','BTfRD','getElementById','ffrOn','userAgent','entries','Mcwdy','Enter\x20your\x20new\x20username:','Type\x20a\x20message...','alqNh','easy-chatroom','TWOkq','ZoSCH','pkOMd','profileContent','uUodf','Account\x20not\x20found.','<li>','FlVnP','Enter','Incorrect\x20password','recordBtn','muted/','qVCZZ','fzMdL','21FoAoBg','<img\x20src=\x22data:image/png;base64,','KZjnO','rooms/','KUeDJ','TOiDA','CdVgC','985049198428','rHQvq','roomChoiceScreen','MbcIf','zKWuv','DnKQM','object','padStart','/messages/','dev','lzdAh','tOUnK','\x0aLast\x20Changed:\x20','bVxqV','MDEKz','SHlGn','granted','DHLMm','size','title','NNILH','You\x20got\x20a\x20message\x20from\x20','disabled','kUuLr','authTitle','RnneA','height','user','üö´\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','pxQsI','\x27)\x22>Promote\x20to\x20Moderator</button>','editProfileError','onDisconnect','aoPiM','none','bKnog','iTNHe','addEventListener','FxSHA','‚úÖ\x20Profile\x20updated!\x20Please\x20reload.','xwKkV','\x20demoted\x20to\x20user.','QcUtA','evAfu','MiFPO','4|3|0|1|2','\x27)\x22>+Admin</button>','njMjJ','username','ItOcU','database','New\x20Chat\x20Message','Room\x20password\x20not\x20set.\x20Cannot\x20join.','fChuJ','set','#aaa','\x20went\x20offline','VlkmS','innerText','üîî\x20Enable\x20Notifications','You\x20got\x20messages\x20from\x20','MdvvM','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','substr','udPlz','GlCOV','\x20minutes.','IeMzN','üö´\x20You\x20cannot\x20demote\x20a\x20Developer.','forEach','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>‚öôÔ∏è</button>\x0a\x20\x20\x20\x20</li>','<button\x20onclick=\x22promoteToModerator(\x27','usernameScreen','biGSQ','AcRAC','LJqbR','authScreen','RhrPw','UnRhF','concat','32KPOVIN','onlineStatus','zDhzF','Login','miMxA','xOjCu','</span>','IuNDV','\x20is\x20typing...','cuwwH','messages','driMv','online','muteUntil','ecMnC','ZPHLP','yAviQ','fzTTO','</li>','dHxmd','text','vaKgM','VpPxD','bwisit','values','zLwnx','fqdHQ','received','ugKUa','XKsIB','sheQt','ILtAk','toLowerCase','antispamBlocked','authPasswordConfirm','ywkwa','admins/','typing/','ZqPOI','Register','saFeQ','NSvSJ','unUPL','OLjdk','KiTxk','rooms','authAvatarPreview','‚õî\x20You\x20are\x20muted.','userList','toString','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','content','created','pausedOverlay','profile_description','MiBXx','PcQMA','MAUpB','Please\x20fill\x20in\x20all\x20fields.','jDQNH','usernameHistory','clear','back','authDescription','yZnky','‚ùå\x20Username\x20already\x20taken.','notifications_enabled','ZPRtf','profileViewer','Fgdxw','otrks','innerHTML','OYZRg','iQjmm','KeUoa','ondataavailable','puta','bastard','\x20was\x20muted\x20for\x20','qNgYI','get','MwwwS','BKlXq','BanEp','div','msgInput','YOBgI','namePreview','MxyvO','FIecS','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','scrollTop','encode','XEMrU','jXkRp','Gzjbw','sxtyE','jCRZH','notifToggleBtn','split','start','NoBwh','ySOgo','audioBase64','Remove\x20Announcement?','Zjrdd','CsDaH','UXleZ','\x0aName:\x20','qtKfh','passwordHash','PMIOm','hidden','sXzKQ','PnIHJ','announcementArea','authAvatar','TIMESTAMP','sender','dick','gWLJE','Fbaur','userOptions-','oioFc','tangina','xAFnp','TBabO','Uwmba','LVXth','‚ö†Ô∏è\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','sidebarAvatarPreview','val','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>‚óè</span>','bobo','oaFyf','TAoPr','eSmYu','pendejo','kXnuH','gago','warn','Passwords\x20do\x20not\x20match.','TsfnA','mvtWF','ijDpH','moderator','dZgpp','peNHo','iTrLc','RPsXh','xifpD','style','popstate','kTgZj','HDCMy','\x27)\x22>Demote</button>','HWqWP','fgpej','EyxnT','result','chatScreen','all','hjXpU','<span\x20style=\x22color:red;font-size:1rem;\x22>‚óè</span>','‚ùå\x20Image\x20must\x20be\x20under\x202MB','VcwwZ','rkFMX','AVMLp','GLcbW','MBSNv','stop','newPasswordInput','role','border','LUgpL','Room\x20is\x20currently\x20paused.','mute','from','includes','xrSXh','profileScreen','‚óè\x20Online','remove','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','data:audio/webm;base64,','chHNF','naJYJ','\x20muted\x20for\x20','Enter\x20a\x20valid\x20room\x20code','Missing\x20room\x20or\x20user\x20information.','Please\x20enter\x20your\x20current\x20password.','owuii','TQYkW','profiles/','bHijV','filter','tXhNu','\x27,\x2010)\x22>Mute\x2010m</button>','roomStates/','[Voice\x20Message]','PUqdE','/paused','ChUOw','rETWJ','pDmVQ','margin','HtIml','sHIUW','ytESO','SkMau','antispam','true','deleteMessage','XiVQx','<button\x20onclick=\x22muteUser(\x27','hMIBG','lgItC','Profile\x20not\x20found.','cZEdp','/announcement','HJujD','WsNbA','QvkDa','JTgOo','egSWd','0.8rem','mxxLl','LDlar','passwordScreen','mediaDevices','zRQuB','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','zXRsc','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','<button\x20onclick=\x22demoteUser(\x27','adminControlsSection','sidebarOpen','length','SeddE','üéôÔ∏è','Please\x20enter\x20the\x20password.','cVIGT','wTuYH','JTuBJ','/avatarBase64','mlxfk','Remove\x20this\x20announcement?','scrollHeight','detail','wNyaw','1124559EkMhQZ','profileError','RLxoM','ZYDLK','\x27)\x22>Promote\x20to\x20Admin</button>','orderByChild','mqKOM','mnEIs','eDsRp','iebbz','createElement','trim','now','zPIln','easy-chatroom.firebaseapp.com','DOMContentLoaded','</small>','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','1132371sUavcO','BxOrR','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','join','HnZCf','Enter\x20Announcement\x20Text:','once','LNYgh','GZWhl','RmBSv','iCmgA','display','map','tMDnp','width','üîï\x20Disable\x20Notifications','ywDHb','agYdy','input','nxelH','ttAtW','qVXac','YWbNK','exists','twQLZ','roomCodeInput','ibrHR','IdFoH','fxztc','Session\x20expired.','2-digit','lJXoe','addAnnouncementBtn','hBHUU','4|1|0|2|3','335foRKYD','\x27,\x205)\x22>Mute\x205m</button>','oKZmf','TimmA','system','<button\x20onclick=\x22promoteToAdmin(\x27','moderators/','1812798Bprzwv','ZCHXc','zPNcn','\x20promoted\x20to\x20Admin!','fontSize','sPbdH','NGHNf','qAbGC','mAHVY','HLxtx','aOwDt','fMBBm','\x20in\x20room\x20','contains','QWNSP','equalTo','color','6px\x20auto','fuck','16148330YAzmsP','Incorrect\x20password.','\x20minutes','floor','BBVAd','src','gr8stg/','flex','nGjBO','<audio\x20controls\x20src=\x22','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','HwaNg','classList','hFSbr','shit','rYWhJ','ilaoK','Ahjru','JHeqz','sSDba','KoxaS','oNseN','vXWqc','RogYr','antispamBlocked/','ZsAmQ','\x0aDescription:\x20','JIjUI','[Unknown]','mierda','\x0aUsername\x20History:\x20','unknown','No\x20bio\x20set','onstop','btQYF','hnbNd','mTQDs','nkYAH','waPrI','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','kVOIc','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','auth/','qZCmO','‚õî\x20You‚Äôve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','sRQlq','etVST','setItem','textAlign','jGEBC','1342938NaiHjF','#00ff88','easy-chatroom.firebasestorage.app','putang\x20ina','AUikW','auth','reload','replace','Ehjva','yNLDU','050BBB66HH','Microphone\x20permission\x20denied.','pZzpf','userDisplay','3|6|4|7|5|0|2|1','UQwhK','CMHpz',')\x20New\x20message\x20‚Ä¢\x20','üö´\x20Cannot\x20promote\x20Developers.','pjKTj','readAsDataURL','DrrgI','</span>\x20','2px\x20solid\x20red','KpYPW','ZeOZY','THGJh','üí¨\x20','Username\x20already\x20exists.','admin','chat_username','<br>','initializeApp','value','files','FyFvw','profileDescriptionInput','userSidebar','asshole','49652GnyAWB','jFhEl','key','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','then','rhjua','fdp','permission','putangina','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','users/','UAlZq','UPSYD','itUZA','0123456789','description','AXvdW','adminUserList','FjFiF','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','mimGO','update','ePUvh','pushState','\x20was\x20promoted\x20to\x20Moderator','avatarBase64','porra','authError','‚ö†Ô∏è\x20Could\x20not\x20check\x20username.\x20Try\x20again.','/messages','appendChild','codeEntryScreen'];_0x46f2=function(){return _0x1ab1bd;};return _0x46f2();}window['onload']=async()=>{const _0xe5343=_0x385ff3,_0x3be53c={'zPIln':function(_0x449f4e){return _0x449f4e();},'tpMpo':function(_0x534957){return _0x534957();},'ISzsU':_0xe5343(0x13b),'owuii':function(_0x1ca938,_0x202f78){return _0x1ca938===_0x202f78;},'mTQDs':_0xe5343(0x1cc),'QofVT':_0xe5343(0x383)};_0x3be53c['zPIln'](cleanupOldRooms),_0x3be53c[_0xe5343(0x200)](setupSidebarBackHandler),_0x3be53c['tpMpo'](setupVisibilityAttention),_0x3be53c[_0xe5343(0x200)](resetWebsiteData);const _0x472569=localStorage[_0xe5343(0x2bf)](_0x3be53c['ISzsU']);notificationsEnabled=_0x3be53c[_0xe5343(0x1b8)](_0x472569,_0x3be53c[_0xe5343(0x266)]),showScreen(_0x3be53c['QofVT']);};function sanitizeUsername(_0x419323){const _0x3a1ae3=_0x385ff3;return _0x419323[_0x3a1ae3(0x27b)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x597865=_0x385ff3,_0x2fc960={'LAbac':'Failed\x20to\x20save\x20profile:','WCTJo':_0x597865(0x17a),'pDmVQ':'block','HWqWP':_0x597865(0x364),'zRQuB':_0x597865(0x150),'dLMRS':function(_0xcc5790,_0x4468a0){return _0xcc5790(_0x4468a0);},'TQYkW':_0x597865(0x339),'mlplc':_0x597865(0x12f),'QtAKD':_0x597865(0x292),'iTNHe':_0x597865(0x13a),'AXvdW':_0x597865(0x2b7),'kSUwW':'profileUsernameInput','QvkDa':_0x597865(0x298),'RogYr':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','rVvnk':function(_0x165142,_0x4814fe){return _0x165142(_0x4814fe);},'Zjrdd':_0x597865(0x295)},_0x5832af=document['getElementById'](_0x2fc960['kSUwW'])[_0x597865(0x295)][_0x597865(0x1fe)](),_0x6a0878=document[_0x597865(0x319)](_0x2fc960[_0x597865(0x1d7)])['value'][_0x597865(0x1fe)](),_0x43ae36=document['getElementById'](_0x597865(0x1f4));if(!_0x5832af||!_0x6a0878){_0x43ae36[_0x597865(0x371)]=_0x2fc960[_0x597865(0x259)],_0x43ae36[_0x597865(0x190)]['display']=_0x2fc960[_0x597865(0x1c5)];return;}const _0x56505b=_0x2fc960['rVvnk'](sanitizeUsername,_0x5832af),_0x124300=db[_0x597865(0x2f0)](_0x597865(0x1ba)+_0x56505b);_0x124300['once'](_0x2fc960[_0x597865(0x162)])['then'](_0x2ec928=>{const _0x1a0d6b=_0x597865;if(_0x2ec928[_0x1a0d6b(0x21c)]())_0x43ae36[_0x1a0d6b(0x371)]=_0x2fc960[_0x1a0d6b(0x35b)],_0x43ae36['style'][_0x1a0d6b(0x210)]=_0x2fc960['pDmVQ'];else{const _0x3a2ad5={'username':_0x5832af,'description':_0x6a0878,'lastChanged':Date[_0x1a0d6b(0x1ff)](),'usernameHistory':[_0x5832af]};_0x124300[_0x1a0d6b(0x36d)](_0x3a2ad5,_0x5f37e4=>{const _0x4d14fd=_0x1a0d6b;if(_0x5f37e4)console[_0x4d14fd(0x2bb)](_0x2fc960[_0x4d14fd(0x305)],_0x5f37e4),_0x43ae36[_0x4d14fd(0x371)]=_0x2fc960[_0x4d14fd(0x2f6)],_0x43ae36['style'][_0x4d14fd(0x210)]=_0x2fc960[_0x4d14fd(0x1c5)];else{const _0x148aff=_0x2fc960[_0x4d14fd(0x195)][_0x4d14fd(0x15c)]('|');let _0x43cb0d=0x0;while(!![]){switch(_0x148aff[_0x43cb0d++]){case'0':username=_0x5832af;continue;case'1':document[_0x4d14fd(0x319)](_0x2fc960[_0x4d14fd(0x1df)])[_0x4d14fd(0x371)]=_0x5832af;continue;case'2':_0x2fc960[_0x4d14fd(0x2d9)](showScreen,_0x2fc960[_0x4d14fd(0x1b9)]);continue;case'3':localStorage[_0x4d14fd(0x271)](_0x2fc960[_0x4d14fd(0x2ee)],_0x6a0878);continue;case'4':localStorage[_0x4d14fd(0x271)](_0x2fc960['QtAKD'],_0x5832af);continue;}break;}}});}})['catch'](_0x18434c=>{const _0x4df8df=_0x597865;console[_0x4df8df(0x2bb)]('Error\x20checking\x20username:',_0x18434c),_0x43ae36[_0x4df8df(0x371)]=_0x2fc960[_0x4df8df(0x2ab)],_0x43ae36[_0x4df8df(0x190)][_0x4df8df(0x210)]='block';});}function saveProfile(_0x4554d8,_0x372eda,_0x474f7a){const _0x2d3263=_0x385ff3,_0x38b86d={'mAHVY':function(_0xcbe9dc,_0x4adb67){return _0xcbe9dc(_0x4adb67);},'oioFc':_0x2d3263(0x339)},_0x2b3b38=Date[_0x2d3263(0x1ff)](),_0x59bc09=[_0x4554d8];db['ref'](_0x2d3263(0x1ba)+_0x474f7a)[_0x2d3263(0x36d)]({'username':_0x4554d8,'description':_0x372eda,'lastChanged':_0x2b3b38,'usernameHistory':_0x59bc09}),document['getElementById']('namePreview')['innerText']=_0x4554d8,_0x38b86d[_0x2d3263(0x237)](showScreen,_0x38b86d[_0x2d3263(0x174)]);}function generateRoom(){const _0x201c46=_0x385ff3,_0x1c5987={'FjFiF':function(_0x759090){return _0x759090();},'dFaSI':_0x201c46(0x333)};roomCode=_0x1c5987[_0x201c46(0x2ad)](genRoomCode),db['ref'](_0x1c5987[_0x201c46(0x30d)]+roomCode)[_0x201c46(0x36d)]({'active':!![],'created':Date[_0x201c46(0x1ff)]()}),startChat();}function joinRoom(){const _0x49cda1=_0x385ff3,_0x2d48dc={'DnKQM':function(_0x59e81a){return _0x59e81a();},'GZWhl':function(_0x43b00d,_0x5297c5){return _0x43b00d(_0x5297c5);},'biGSQ':_0x49cda1(0x269),'TAoPr':_0x49cda1(0x21e),'XwxAd':_0x49cda1(0x1b5),'tVXxo':function(_0x435a00,_0x2372c8){return _0x435a00===_0x2372c8;},'HHBKR':function(_0x5e8931,_0x3c7c9c){return _0x5e8931(_0x3c7c9c);},'TBabO':function(_0x2fac06,_0x18e245){return _0x2fac06+_0x18e245;}},_0x4db4b4=roomCode||document[_0x49cda1(0x319)](_0x2d48dc[_0x49cda1(0x180)])['value'][_0x49cda1(0x1fe)]()['toUpperCase']();if(!_0x4db4b4)return _0x2d48dc[_0x49cda1(0x20d)](alert,_0x2d48dc[_0x49cda1(0x301)]);roomCode=_0x4db4b4;if(_0x2d48dc[_0x49cda1(0x2f1)](roomCode,STATIC_ROOM)){_0x2d48dc['HHBKR'](showScreen,_0x49cda1(0x1dd));return;}db[_0x49cda1(0x2f0)](_0x2d48dc[_0x49cda1(0x177)]('rooms/',roomCode))[_0x49cda1(0x149)]()[_0x49cda1(0x29f)](_0x6ea2bd=>{const _0x1871e9=_0x49cda1;_0x6ea2bd[_0x1871e9(0x21c)]()&&_0x6ea2bd[_0x1871e9(0x17c)]()['active']!==![]?_0x2d48dc[_0x1871e9(0x33c)](startChat):_0x2d48dc['GZWhl'](alert,_0x2d48dc[_0x1871e9(0x380)]);});}async function startChat(){const _0x435d02=_0x385ff3,_0x32324a={'WwTDF':function(_0x57149a,_0x26a13d){return _0x57149a===_0x26a13d;},'egSWd':_0x435d02(0x340),'UnRhF':_0x435d02(0x1ef),'xeRmO':'Failed\x20to\x20register\x20user\x20into\x20room.','aoPiM':_0x435d02(0x339),'CMHpz':_0x435d02(0x17b),'Fgdxw':_0x435d02(0x30a),'MQfFR':'block','LQLok':_0x435d02(0x281),'BanEp':function(_0x786dee,_0x5d9edf){return _0x786dee(_0x5d9edf);},'qZCmO':'roomDisplay','dHxmd':_0x435d02(0x308),'rYWhJ':_0x435d02(0x291),'alqNh':_0x435d02(0x18a),'evAfu':_0x435d02(0x225),'iTrLc':_0x435d02(0x359),'LOeVH':_0x435d02(0x22c),'RhrPw':function(_0x2d513e,_0x2d5619){return _0x2d513e(_0x2d5619);},'Pxylc':_0x435d02(0x199),'njMjJ':_0x435d02(0x16c),'TWOkq':function(_0x5df541){return _0x5df541();},'Uwmba':function(_0x1a17be){return _0x1a17be();},'FSTJW':_0x435d02(0x1b6),'RmBSv':function(_0x2e51cd){return _0x2e51cd();},'sQIpl':function(_0x729eca){return _0x729eca();},'OkZNG':function(_0x12dbbd){return _0x12dbbd();}};if(!roomCode||!username)return _0x32324a[_0x435d02(0x384)](alert,_0x32324a[_0x435d02(0x2dc)]),showScreen(_0x32324a[_0x435d02(0x358)]);_0x32324a['RmBSv'](listenForPauseState),_0x32324a[_0x435d02(0x2bd)](listenForUserList),await _0x32324a[_0x435d02(0x20e)](loadRoomRoles),_0x32324a[_0x435d02(0x2d5)](listenForAnnouncement);const _0xf94601=_0x32324a[_0x435d02(0x384)](sanitizeUsername,username),_0x56e76e=db[_0x435d02(0x2f0)](_0x435d02(0x2a5)+roomCode+'/'+_0xf94601),_0x3f2229={'username':username,'online':!![],'lastOnline':firebase[_0x435d02(0x369)]['ServerValue'][_0x435d02(0x16e)]};_0x56e76e['set'](_0x3f2229,_0x212782=>{const _0x9c2c92=_0x435d02,_0x5ab139={'rHQvq':function(_0x58962f,_0x2484a7){const _0x103401=_0x4800;return _0x32324a[_0x103401(0x2e6)](_0x58962f,_0x2484a7);},'KpYPW':_0x32324a[_0x9c2c92(0x1d9)],'pkOMd':function(_0x18017e,_0x3d91d6){return _0x18017e(_0x3d91d6);},'waPrI':_0x32324a[_0x9c2c92(0x385)]};if(_0x212782)return alert(_0x32324a[_0x9c2c92(0x2fc)]),showScreen(_0x32324a[_0x9c2c92(0x358)]);const _0x5d4b8c=document['getElementById'](_0x32324a[_0x9c2c92(0x284)]);avatarBase64&&(_0x5d4b8c[_0x9c2c92(0x247)]=_0x32324a[_0x9c2c92(0x13e)]+avatarBase64,_0x5d4b8c[_0x9c2c92(0x190)][_0x9c2c92(0x210)]=_0x32324a[_0x9c2c92(0x2d6)]);document['getElementById'](_0x32324a['LQLok'])[_0x9c2c92(0x140)]=username+'\x20'+_0x32324a[_0x9c2c92(0x14c)](getRoleTag,_0xf94601),document[_0x9c2c92(0x319)](_0x32324a[_0x9c2c92(0x26d)])[_0x9c2c92(0x371)]=roomCode===STATIC_ROOM?_0x32324a[_0x9c2c92(0x39a)]:roomCode;[_0x32324a[_0x9c2c92(0x251)],_0x32324a['egSWd'],_0x32324a[_0x9c2c92(0x320)]][_0x9c2c92(0x1ab)](role)?document['getElementById'](_0x32324a[_0x9c2c92(0x362)])[_0x9c2c92(0x190)][_0x9c2c92(0x210)]=_0x32324a[_0x9c2c92(0x2d6)]:document['getElementById'](_0x9c2c92(0x225))[_0x9c2c92(0x190)][_0x9c2c92(0x210)]=_0x32324a[_0x9c2c92(0x18d)];const _0x4162b1=db['ref']()[_0x9c2c92(0x316)]()[_0x9c2c92(0x29d)];db['ref'](_0x9c2c92(0x333)+roomCode+'/messages/'+_0x4162b1)[_0x9c2c92(0x36d)]({'msg':username+_0x9c2c92(0x2e3),'sender':_0x9c2c92(0x22c),'senderId':_0x32324a['LOeVH'],'timestamp':Date[_0x9c2c92(0x1ff)]()}),_0x32324a[_0x9c2c92(0x384)](showScreen,_0x32324a[_0x9c2c92(0x2fd)]);const _0x4c6262=document[_0x9c2c92(0x319)](_0x32324a[_0x9c2c92(0x366)]);_0x4c6262['addEventListener']('click',_0xea9c7=>{const _0x16dcc0=_0x9c2c92;_0xea9c7[_0x16dcc0(0x1f1)]===0x3&&(_0x5ab139[_0x16dcc0(0x338)](role,_0x16dcc0(0x291))||role===_0x5ab139[_0x16dcc0(0x28c)])&&(_0x5ab139[_0x16dcc0(0x324)](confirm,_0x5ab139[_0x16dcc0(0x268)])&&db[_0x16dcc0(0x2f0)](_0x16dcc0(0x333)+roomCode+_0x16dcc0(0x1d4))[_0x16dcc0(0x1af)]()[_0x16dcc0(0x29f)](()=>{const _0x194c78=_0x16dcc0;_0x4c6262[_0x194c78(0x371)]='';}));}),_0x32324a[_0x9c2c92(0x322)](listenForMessages),listenForTyping(),_0x32324a['TWOkq'](startInactivityTimer),_0x32324a[_0x9c2c92(0x322)](trackPresence),_0x32324a['Uwmba'](watchProfileChanges),_0x32324a[_0x9c2c92(0x178)](watchMuteStatus);});}function watchProfileChanges(){const _0x2387fa=_0x385ff3,_0x523b73={'kRnxR':_0x2387fa(0x17b),'jDQNH':'data:image/png;base64,','LNYgh':_0x2387fa(0x312),'EvIQu':function(_0x47d614,_0x2c91f1){return _0x47d614(_0x2c91f1);},'Ivrmy':function(_0x5e117e,_0x25b0c0){return _0x5e117e(_0x25b0c0);},'uUodf':_0x2387fa(0x295)},_0x1bff78=_0x523b73['Ivrmy'](sanitizeUsername,username);db[_0x2387fa(0x2f0)](_0x2387fa(0x26c)+_0x1bff78)['on'](_0x523b73[_0x2387fa(0x326)],_0x3061a1=>{const _0x492c53=_0x2387fa;if(!_0x3061a1[_0x492c53(0x21c)]())return;const _0x127edd=_0x3061a1[_0x492c53(0x17c)]();userDescription=_0x127edd[_0x492c53(0x2aa)]||'',avatarBase64=_0x127edd[_0x492c53(0x2b4)]||'',role=_0x127edd[_0x492c53(0x1a5)]||'user';if(avatarBase64){const _0x732e1a=document['getElementById'](_0x523b73['kRnxR']);!_0x732e1a[_0x492c53(0x247)]['includes'](avatarBase64)&&(_0x732e1a[_0x492c53(0x247)]=_0x523b73[_0x492c53(0x134)]+avatarBase64,_0x732e1a[_0x492c53(0x190)][_0x492c53(0x210)]=_0x523b73[_0x492c53(0x20c)]);}_0x523b73['EvIQu'](renderUserLists,roomUsers);});}function uploadImage(_0x279409){const _0x5c8967=_0x385ff3,_0x2613b1={'XEMrU':function(_0x1d4b77,_0x529082){return _0x1d4b77>_0x529082;},'zKWuv':function(_0xc5395a,_0x51ee54){return _0xc5395a*_0x51ee54;},'OJOHd':function(_0x3341cb,_0x10aa61){return _0x3341cb(_0x10aa61);},'etVST':_0x5c8967(0x19d)},_0x5c0e34=_0x279409['files'][0x0];if(!_0x5c0e34||_0x2613b1[_0x5c8967(0x156)](_0x5c0e34[_0x5c8967(0x349)],_0x2613b1[_0x5c8967(0x33b)](0x2*0x400,0x400))){_0x2613b1['OJOHd'](alert,_0x2613b1[_0x5c8967(0x270)]);return;}const _0x137674=new FileReader();_0x137674[_0x5c8967(0x310)]=()=>{const _0xcedea4=_0x5c8967,_0x54747b=_0x137674['result'][_0xcedea4(0x15c)](',')[0x1],_0x3a99ea=db[_0xcedea4(0x2f0)]()[_0xcedea4(0x316)]()[_0xcedea4(0x29d)];db[_0xcedea4(0x2f0)](_0xcedea4(0x333)+roomCode+_0xcedea4(0x33f)+_0x3a99ea)[_0xcedea4(0x36d)]({'imageBase64':_0x54747b,'sender':username,'senderId':clientId,'timestamp':Date[_0xcedea4(0x1ff)]()});},_0x137674[_0x5c8967(0x288)](_0x5c0e34);}async function fetchProfile(_0x4595f0){const _0x2fef37=_0x385ff3,_0x37c174=await db[_0x2fef37(0x2f0)](_0x2fef37(0x26c)+_0x4595f0)[_0x2fef37(0x149)]();if(!_0x37c174[_0x2fef37(0x21c)]())return null;return _0x37c174[_0x2fef37(0x17c)]();}function validateStaticRoomPassword(){const _0x121851=_0x385ff3,_0x5441f5={'XincK':function(_0x128f0f,_0x465f2f){return _0x128f0f(_0x465f2f);},'ilaoK':function(_0x3073e1,_0x5ef12d){return _0x3073e1===_0x5ef12d;},'xOjCu':function(_0x58626e){return _0x58626e();},'MiBXx':_0x121851(0x2ea),'bVxqV':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','GLcbW':_0x121851(0x2ce),'ywDHb':_0x121851(0x1e9)},_0x518fbe=document[_0x121851(0x319)](_0x5441f5[_0x121851(0x1a1)])[_0x121851(0x295)][_0x121851(0x1fe)]();if(!_0x518fbe){alert(_0x5441f5[_0x121851(0x215)]);return;}db['ref'](_0x121851(0x248)+STATIC_ROOM)[_0x121851(0x149)]()['then'](_0x3b6d93=>{const _0x313b63=_0x121851;if(!_0x3b6d93[_0x313b63(0x21c)]()){_0x5441f5['XincK'](alert,_0x313b63(0x36b));return;}const _0x2395e0=_0x3b6d93[_0x313b63(0x17c)]();_0x5441f5[_0x313b63(0x252)](_0x518fbe,_0x2395e0)?(roomCode=STATIC_ROOM,_0x5441f5[_0x313b63(0x38c)](startChat)):(document[_0x313b63(0x319)](_0x5441f5[_0x313b63(0x130)])[_0x313b63(0x371)]=_0x313b63(0x32b),document[_0x313b63(0x319)](_0x313b63(0x2ea))[_0x313b63(0x190)]['display']=_0x313b63(0x312));})[_0x121851(0x2cd)](_0x4b28a3=>{const _0x2b0842=_0x121851;console[_0x2b0842(0x2bb)](_0x4b28a3),alert(_0x5441f5[_0x2b0842(0x344)]);});}function listenForPauseState(){const _0x2bb084=_0x385ff3,_0x11f71d={'MgTwC':function(_0x358383,_0x27f85e){return _0x358383===_0x27f85e;},'GLVgS':_0x2bb084(0x12e),'hFSbr':_0x2bb084(0x312),'dAXrx':_0x2bb084(0x359)};db[_0x2bb084(0x2f0)](_0x2bb084(0x1bf)+roomCode+'/paused')['on'](_0x2bb084(0x295),_0x3dc981=>{const _0x2bf531=_0x2bb084,_0x2e368b=_0x3dc981[_0x2bf531(0x21c)]()&&_0x11f71d['MgTwC'](_0x3dc981['val'](),!![]);document[_0x2bf531(0x319)](_0x11f71d['GLVgS'])[_0x2bf531(0x190)][_0x2bf531(0x210)]=_0x2e368b?_0x11f71d[_0x2bf531(0x24f)]:_0x11f71d[_0x2bf531(0x2cc)];});}const spamTimestamps=[];async function sendMessage(){const _0x547cdc=_0x385ff3,_0x4cc154={'cZEdp':_0x547cdc(0x31f),'eDsRp':function(_0x1780dd,_0x4d69e2){return _0x1780dd(_0x4d69e2);},'NSvSJ':function(_0x5cbf11,_0xc6d597){return _0x5cbf11>_0xc6d597;},'uNPJR':_0x547cdc(0x128),'JElkv':function(_0x20cef8,_0x4db3dd){return _0x20cef8===_0x4db3dd;},'zLwnx':function(_0x2ed706,_0x28bd9b){return _0x2ed706!==_0x28bd9b;},'fzMdL':_0x547cdc(0x1a8),'rkFMX':'msgInput','OdKQL':function(_0x277964,_0x5da042){return _0x277964||_0x5da042;},'ryRuM':function(_0x5d7a1f,_0x597f5f){return _0x5d7a1f(_0x597f5f);},'EyxnT':'‚ö†Ô∏è\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','lgItC':'5|2|3|4|0|1','JHeqz':function(_0x1e2762,_0x549113,_0xec1896){return _0x1e2762(_0x549113,_0xec1896);},'cVIGT':function(_0x1d2ad8,_0x203099){return _0x1d2ad8(_0x203099);},'qVXac':_0x547cdc(0x26e),'kjmwD':_0x547cdc(0x2eb),'XiVQx':function(_0x34a024,_0x4d0afc){return _0x34a024(_0x4d0afc);}},_0x2ae139=await db[_0x547cdc(0x2f0)](_0x547cdc(0x1bf)+roomCode+'/paused')[_0x547cdc(0x149)](),_0x5ab60e=await db[_0x547cdc(0x2f0)](_0x547cdc(0x32d)+roomCode+'/'+_0x4cc154[_0x547cdc(0x1fb)](sanitizeUsername,username))['get']();if(_0x5ab60e[_0x547cdc(0x21c)]()){const _0x452ca8=_0x5ab60e[_0x547cdc(0x17c)](),_0x142a4d=typeof _0x452ca8===_0x547cdc(0x33d)&&_0x452ca8[_0x547cdc(0x394)]?_0x452ca8[_0x547cdc(0x394)]:_0x452ca8;if(_0x4cc154[_0x547cdc(0x3b0)](_0x142a4d,Date['now']())){alert(_0x4cc154[_0x547cdc(0x2d1)]);return;}}if(_0x2ae139[_0x547cdc(0x21c)]()&&_0x4cc154['JElkv'](_0x2ae139['val'](),!![])&&_0x4cc154[_0x547cdc(0x3a0)](role,_0x547cdc(0x340))){_0x4cc154['eDsRp'](alert,_0x4cc154[_0x547cdc(0x32f)]);return;}const _0x35837e=document[_0x547cdc(0x319)](_0x4cc154[_0x547cdc(0x19f)]),_0x29bac4=_0x35837e['value'][_0x547cdc(0x1fe)]();if(_0x4cc154[_0x547cdc(0x2cb)](!_0x29bac4,isBlocked))return;const _0x134232=Date[_0x547cdc(0x1ff)](),_0x24f978=_0x29bac4[_0x547cdc(0x3a7)](),_0x1ceb53=swearWords['some'](_0x1261fd=>_0x24f978[_0x547cdc(0x1ab)](_0x1261fd));if(_0x1ceb53){_0x4cc154['ryRuM'](alert,_0x4cc154[_0x547cdc(0x197)]);return;}spamTimestamps['push'](_0x134232);const _0x14b267=spamTimestamps['filter'](_0x28eacf=>_0x134232-_0x28eacf<0x1b58);if(_0x4cc154[_0x547cdc(0x3b0)](_0x14b267[_0x547cdc(0x1e6)],0x5)){const _0xac8a97=_0x4cc154[_0x547cdc(0x1d1)][_0x547cdc(0x15c)]('|');let _0x171849=0x0;while(!![]){switch(_0xac8a97[_0x171849++]){case'0':_0x4cc154[_0x547cdc(0x254)](setTimeout,()=>{const _0x461071=_0x547cdc;isBlocked=![],_0x35837e[_0x461071(0x34d)]=![],_0x35837e[_0x461071(0x2fe)]=_0x4cc154[_0x461071(0x1d3)],spamTimestamps[_0x461071(0x1e6)]=0x0;},0x7530);continue;case'1':return;case'2':_0x35837e[_0x547cdc(0x34d)]=!![];continue;case'3':_0x35837e[_0x547cdc(0x2fe)]='‚õî\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)';continue;case'4':_0x4cc154[_0x547cdc(0x1ea)](alert,_0x4cc154[_0x547cdc(0x21a)]);continue;case'5':isBlocked=!![];continue;}break;}}const _0x542ba7=localStorage[_0x547cdc(0x2bf)](_0x4cc154['kjmwD'])||'',_0xb0f391=db[_0x547cdc(0x2f0)]()[_0x547cdc(0x316)]()['key'];db[_0x547cdc(0x2f0)](_0x547cdc(0x333)+roomCode+_0x547cdc(0x33f)+_0xb0f391)[_0x547cdc(0x36d)]({'msg':_0x29bac4,'sender':username,'senderId':clientId,'avatarBase64':_0x542ba7,'timestamp':_0x134232}),_0x35837e[_0x547cdc(0x295)]='',_0x4cc154[_0x547cdc(0x1ce)](sendTyping,!![]),lastActivity=_0x134232;}function listenForMessages(){const _0xa85e34=_0x385ff3,_0x359807={'NoBwh':function(_0x436acb,_0x4f524f,_0x2f4cb1,_0xf48abb){return _0x436acb(_0x4f524f,_0x2f4cb1,_0xf48abb);},'AVMLp':function(_0x46bd97,_0x1fad22){return _0x46bd97===_0x1fad22;},'muonU':function(_0x51a892,_0xd404b0){return _0x51a892!==_0xd404b0;},'gGquk':_0xa85e34(0x22c),'ZsAmQ':function(_0x4f117c){return _0x4f117c();},'sXzKQ':function(_0x2be8eb,_0x356839){return _0x2be8eb&&_0x356839;},'xOjZD':_0xa85e34(0x1c0),'miMxA':'[Image]','lLhWY':_0xa85e34(0x25e),'hMIBG':_0xa85e34(0x12b),'nYjJi':'child_added'},_0x31e28a=db[_0xa85e34(0x2f0)]('rooms/'+roomCode+'/messages'),_0x198ca6=_0x31e28a['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x198ca6['on'](_0x359807['nYjJi'],_0x191412=>{const _0x5bfb83=_0xa85e34,_0x4a3f94=_0x191412[_0x5bfb83(0x17c)](),{senderId:_0xf2e3e1}=_0x4a3f94,_0x4c95d9=_0x359807[_0x5bfb83(0x1a0)](_0xf2e3e1,clientId);if(!userListReady){pendingMessages[_0x5bfb83(0x37c)](({data:_0x493152,sent:_0x424f05,key:_0x5ef186})=>{const _0x881de6=_0x5bfb83;_0x359807[_0x881de6(0x15e)](addMessage,_0x493152,_0x424f05,_0x5ef186);}),pendingMessages=[];return;}const _0x64749b=_0x4a3f94[_0x5bfb83(0x30c)]||null,_0x1790a0=_0x4a3f94[_0x5bfb83(0x160)]||null;_0x359807['NoBwh'](addMessage,_0x4a3f94,_0x4c95d9,_0x191412[_0x5bfb83(0x29d)]);roomCode!==STATIC_ROOM&&_0x359807['muonU'](_0x4a3f94[_0x5bfb83(0x16f)],_0x359807['gGquk'])&&db[_0x5bfb83(0x2f0)]('rooms/'+roomCode+_0x5bfb83(0x33f)+_0x191412[_0x5bfb83(0x29d)])['remove']();!_0x4c95d9&&(sound[_0x5bfb83(0x30e)](),_0x359807[_0x5bfb83(0x25b)](flagPageAttention));if(_0x359807[_0x5bfb83(0x16a)](notificationsEnabled,!_0x4c95d9)){if(document['hidden']&&_0x359807[_0x5bfb83(0x1a0)](Notification[_0x5bfb83(0x2a2)],_0x5bfb83(0x347))){const _0x3ff80b=_0x4a3f94[_0x5bfb83(0x2c1)]||(_0x4a3f94[_0x5bfb83(0x160)]?_0x359807['xOjZD']:_0x4a3f94['imageBase64']?_0x359807[_0x5bfb83(0x38b)]:_0x359807['lLhWY']);new Notification(_0x5bfb83(0x28f)+_0x4a3f94[_0x5bfb83(0x16f)],{'body':_0x3ff80b,'icon':_0x359807[_0x5bfb83(0x1d0)]});}}});}function stackNotification(_0x41bd62,_0x51f6b3){const _0x1c4b7b=_0x385ff3,_0x336219={'cuwwH':function(_0x4311bd){return _0x4311bd();},'ZacBq':function(_0x5f3809,_0x397737){return _0x5f3809(_0x397737);},'ZPHLP':function(_0x1baf89,_0x25a804,_0x232730){return _0x1baf89(_0x25a804,_0x232730);}};notificationStack[_0x1c4b7b(0x316)]({'sender':_0x41bd62,'content':_0x51f6b3}),_0x336219['ZacBq'](clearTimeout,notificationTimer),notificationTimer=_0x336219[_0x1c4b7b(0x396)](setTimeout,()=>{const _0x3a29d0=_0x1c4b7b;_0x336219[_0x3a29d0(0x390)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0xea32b3=_0x385ff3,_0x326de4={'IuNDV':'https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','Pwnls':function(_0x25d2a6,_0x1245bc){return _0x25d2a6!==_0x1245bc;},'fgpej':function(_0x169f7c,_0x19b343){return _0x169f7c||_0x19b343;},'hBHUU':_0xea32b3(0x261),'unUPL':function(_0x4336d8,_0x4ea1b8){return _0x4336d8===_0x4ea1b8;},'MnRXm':function(_0x11ab6c,_0x2e4e50,_0x5b824f){return _0x11ab6c(_0x2e4e50,_0x5b824f);}};if(!notificationStack['length']||_0x326de4['Pwnls'](Notification[_0xea32b3(0x2a2)],_0xea32b3(0x347)))return;const _0x3517f2=[...new Set(notificationStack[_0xea32b3(0x211)](_0x16f28e=>_0x16f28e[_0xea32b3(0x16f)]))],_0x3849ea=_0x326de4[_0xea32b3(0x196)](roomCode,_0x326de4[_0xea32b3(0x226)]),_0x46ae64=_0x326de4[_0xea32b3(0x3b1)](_0x3517f2[_0xea32b3(0x1e6)],0x1)?_0xea32b3(0x34c)+_0x3517f2[0x0]+'\x20in\x20room\x20'+_0x3849ea+':\x20'+notificationStack[0x0][_0xea32b3(0x12c)]:_0xea32b3(0x373)+_0x3517f2[_0xea32b3(0x208)](',\x20')+_0xea32b3(0x23b)+_0x3849ea;_0x326de4['MnRXm'](setTimeout,()=>{const _0x51391f=_0xea32b3;new Notification(_0x51391f(0x36a),{'body':_0x46ae64,'icon':_0x326de4[_0x51391f(0x38e)]});},0x64);}async function addMessage(_0x5d5d07,_0x184134,_0x698392=null){const _0x1e1870=_0x385ff3,_0x17c76d={'FxSHA':function(_0x3836ee,_0x4d1eae){return _0x3836ee===_0x4d1eae;},'FlVnP':'Delete\x20this\x20message?','VlkmS':function(_0x423c29,_0xcc5f7e,_0x1411fd){return _0x423c29(_0xcc5f7e,_0x1411fd);},'MbcIf':'div','PUqdE':function(_0x5939b1,_0x2e1a69){return _0x5939b1===_0x2e1a69;},'VqEET':_0x1e1870(0x22c),'AcRAC':'center','weozT':_0x1e1870(0x1da),'jSqWy':_0x1e1870(0x36e),'ibrHR':_0x1e1870(0x391),'RnneA':_0x1e1870(0x2c1),'vaKgM':'sent','LJqbR':_0x1e1870(0x3a2),'qtKfh':_0x1e1870(0x223),'SkMau':function(_0x90b01,_0x592e5a){return _0x90b01(_0x592e5a);},'Ahjru':'dev','ZBDvi':'admin','LVXth':_0x1e1870(0x18a),'naJYJ':'click'},{msg:_0x44e174,sender:_0x248ac4,senderId:_0x142083,timestamp:_0x325b27,audioUrl:_0x57baa4,audioBase64:_0x23e3b9,imageBase64:_0x3f62ff}=_0x5d5d07,_0x26f5a6=sanitizeUsername(_0x248ac4),_0x916c7f=document[_0x1e1870(0x1fd)](_0x17c76d[_0x1e1870(0x33a)]);if(_0x17c76d[_0x1e1870(0x1c1)](_0x5d5d07[_0x1e1870(0x16f)],_0x17c76d['VqEET'])){const _0x3e3324=document[_0x1e1870(0x1fd)](_0x1e1870(0x14d));_0x3e3324[_0x1e1870(0x190)][_0x1e1870(0x272)]=_0x17c76d[_0x1e1870(0x381)],_0x3e3324[_0x1e1870(0x190)]['fontSize']=_0x17c76d['weozT'],_0x3e3324[_0x1e1870(0x190)][_0x1e1870(0x23f)]=_0x17c76d['jSqWy'],_0x3e3324['style'][_0x1e1870(0x1c6)]=_0x1e1870(0x240),_0x3e3324[_0x1e1870(0x371)]=_0x5d5d07['msg'];const _0x1f1bca=document[_0x1e1870(0x319)](_0x17c76d[_0x1e1870(0x21f)]);_0x1f1bca['appendChild'](_0x3e3324),_0x1f1bca['scrollTop']=_0x1f1bca[_0x1e1870(0x1f0)];return;}_0x916c7f['classList'][_0x1e1870(0x2bc)](_0x17c76d[_0x1e1870(0x350)],_0x184134?_0x17c76d[_0x1e1870(0x39c)]:_0x17c76d[_0x1e1870(0x382)]);const _0xff735f=new Date(_0x325b27)['toLocaleTimeString']([],{'hour':_0x17c76d['qtKfh'],'minute':_0x17c76d[_0x1e1870(0x166)]}),_0x303db7=_0x17c76d[_0x1e1870(0x1ca)](getRoleTag,_0x26f5a6),_0x36481e=await fetchAvatar(_0x26f5a6),_0x5c975b=_0x36481e?_0x1e1870(0x331)+_0x36481e+_0x1e1870(0x2ef):'',_0x13cdfc=_0x5c975b+_0x1e1870(0x304)+_0x248ac4+'\x20'+_0x303db7+_0x1e1870(0x38d),_0x3811c5=_0x44e174?.[_0x1e1870(0x27b)](new RegExp('@'+username+'\x5cb','gi'),'<span\x20style=\x22color:#ff4081;\x22>@$&</span>');let _0x522ae4=_0x13cdfc+_0x1e1870(0x293);if(_0x57baa4)_0x522ae4+=_0x1e1870(0x24b)+_0x57baa4+_0x1e1870(0x24c);else{if(_0x23e3b9){const _0x807590=_0x1e1870(0x1b1)+_0x23e3b9;_0x522ae4+=_0x1e1870(0x24b)+_0x807590+_0x1e1870(0x24c);}else{if(_0x3f62ff){const _0x328aa5=_0x1e1870(0x30a)+_0x3f62ff;_0x522ae4+='<img\x20src=\x22'+_0x328aa5+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x522ae4+=_0x1e1870(0x2cf)+_0x3811c5+'</div>';}}_0x522ae4+=_0x1e1870(0x302)+_0xff735f+_0x1e1870(0x203),_0x916c7f[_0x1e1870(0x140)]=_0x522ae4;if([_0x17c76d[_0x1e1870(0x253)],_0x17c76d[_0x1e1870(0x30b)],_0x17c76d[_0x1e1870(0x179)]][_0x1e1870(0x1ab)](role)){let _0x16880b=0x0;_0x916c7f[_0x1e1870(0x35c)](_0x17c76d[_0x1e1870(0x1b3)],()=>{const _0x1b550a=_0x1e1870;_0x16880b++,_0x17c76d[_0x1b550a(0x35d)](_0x16880b,0x3)&&(confirm(_0x17c76d[_0x1b550a(0x329)])&&(db['ref'](_0x1b550a(0x333)+roomCode+_0x1b550a(0x33f)+_0x698392)[_0x1b550a(0x1af)](),_0x916c7f['remove']())),_0x17c76d[_0x1b550a(0x370)](setTimeout,()=>_0x16880b=0x0,0x1f4);});}const _0x4f2a24=document[_0x1e1870(0x319)](_0x1e1870(0x391));_0x4f2a24[_0x1e1870(0x2b9)](_0x916c7f),_0x4f2a24[_0x1e1870(0x154)]=_0x4f2a24['scrollHeight'];}function cleanupOldRooms(){const _0x29e22d=_0x385ff3,_0x21a079={'DHLMm':function(_0x166465,_0x117161){return _0x166465!==_0x117161;},'xrSXh':function(_0x3005d9,_0x165de1){return _0x3005d9===_0x165de1;},'ILtAk':function(_0x20f299,_0x1eba5a){return _0x20f299>_0x1eba5a;},'ItOcU':function(_0x296da0,_0x1259f9){return _0x296da0*_0x1259f9;},'nkYAH':function(_0x1235d4,_0x273f6b){return _0x1235d4+_0x273f6b;},'WsNbA':_0x29e22d(0x1cb),'lzdAh':_0x29e22d(0x3a8),'PnIHJ':_0x29e22d(0x295)};db[_0x29e22d(0x2f0)](_0x29e22d(0x3b4))[_0x29e22d(0x20b)](_0x21a079[_0x29e22d(0x16b)])[_0x29e22d(0x29f)](_0x444482=>{const _0xa2c1ac=_0x29e22d,_0x41ac89={'qtlJo':function(_0x210aec,_0x398ca5){const _0x5e3fa4=_0x4800;return _0x21a079[_0x5e3fa4(0x348)](_0x210aec,_0x398ca5);}},_0x359e6a=_0x444482[_0xa2c1ac(0x17c)]();if(!_0x359e6a)return;const _0x232c60=Date[_0xa2c1ac(0x1ff)]();for(const _0x31386c in _0x359e6a){if(_0x21a079[_0xa2c1ac(0x1ac)](_0x31386c,STATIC_ROOM))continue;const _0x26c56e=_0x359e6a[_0x31386c];_0x21a079[_0xa2c1ac(0x3a6)](_0x232c60-(_0x26c56e[_0xa2c1ac(0x12d)]||0x0),_0x21a079[_0xa2c1ac(0x368)](_0x21a079[_0xa2c1ac(0x368)](0x2,0x3c),0x3e8))&&db[_0xa2c1ac(0x2f0)](_0x21a079[_0xa2c1ac(0x267)](_0xa2c1ac(0x333),_0x31386c))[_0xa2c1ac(0x1af)]();}db[_0xa2c1ac(0x2f0)](_0x21a079[_0xa2c1ac(0x1d6)])[_0xa2c1ac(0x20b)]('value')[_0xa2c1ac(0x29f)](_0x540d1c=>{const _0x2c7b75=_0xa2c1ac,_0x25ea8c=_0x540d1c['val']();if(!_0x25ea8c)return;for(const _0x44d497 in _0x25ea8c){if(_0x41ac89['qtlJo'](_0x44d497,STATIC_ROOM))db['ref']('antispam/'+_0x44d497)[_0x2c7b75(0x1af)]();}}),db[_0xa2c1ac(0x2f0)](_0x21a079[_0xa2c1ac(0x341)])[_0xa2c1ac(0x20b)](_0x21a079[_0xa2c1ac(0x16b)])[_0xa2c1ac(0x29f)](_0x2243d1=>{const _0x25d086=_0xa2c1ac,_0x428758=_0x2243d1[_0x25d086(0x17c)]();if(!_0x428758)return;for(const _0x528a60 in _0x428758){if(_0x528a60!==STATIC_ROOM)db[_0x25d086(0x2f0)](_0x25d086(0x25a)+_0x528a60)[_0x25d086(0x1af)]();}});});}document[_0x385ff3(0x35c)](_0x385ff3(0x202),()=>{const _0x3e2d1d=_0x385ff3,_0x531a73={'oaFyf':function(_0xe0354a,_0x325595){return _0xe0354a===_0x325595;},'TOiDA':_0x3e2d1d(0x32a),'RPsXh':function(_0x33f5af){return _0x33f5af();}},_0x4c8826=document[_0x3e2d1d(0x319)](_0x3e2d1d(0x14e));_0x4c8826&&_0x4c8826[_0x3e2d1d(0x35c)]('keypress',function(_0x53aadf){const _0x295cd0=_0x3e2d1d;_0x531a73[_0x295cd0(0x17f)](_0x53aadf[_0x295cd0(0x29d)],_0x531a73[_0x295cd0(0x335)])&&(_0x53aadf[_0x295cd0(0x2be)](),_0x531a73[_0x295cd0(0x18e)](sendMessage));});});function showScreen(_0x8a8eb2){const _0x4918c2=_0x385ff3,_0x1ad55a={'OJmsT':'none','illUK':'roomChoiceScreen','VcwwZ':_0x4918c2(0x2ba),'HsLba':_0x4918c2(0x199),'RLxoM':_0x4918c2(0x1dd),'MYHSg':'profileViewer','agYdy':_0x4918c2(0x2f8),'iCmgA':'flex'};[_0x4918c2(0x37f),_0x1ad55a['illUK'],_0x1ad55a[_0x4918c2(0x19e)],_0x1ad55a['HsLba'],_0x1ad55a[_0x4918c2(0x1f5)],_0x4918c2(0x1ad),_0x1ad55a[_0x4918c2(0x2f7)],_0x4918c2(0x383),_0x1ad55a[_0x4918c2(0x216)]][_0x4918c2(0x37c)](_0x415daa=>{const _0x5e3be8=_0x4918c2;document[_0x5e3be8(0x319)](_0x415daa)[_0x5e3be8(0x190)]['display']=_0x1ad55a[_0x5e3be8(0x2de)];}),document['getElementById'](_0x8a8eb2)['style'][_0x4918c2(0x210)]=_0x1ad55a[_0x4918c2(0x20f)];}function genRoomCode(){const _0x8f6ea4=_0x385ff3,_0x37fd89={'udPlz':'ABCDEFGHIJKLMNOPQRSTUVWXYZ','bHijV':_0x8f6ea4(0x2a9),'YOBgI':function(_0x10c2bf,_0x3cac05){return _0x10c2bf+_0x3cac05;},'KUeDJ':function(_0x2196b7,_0x2160a8,_0x18711c){return _0x2196b7(_0x2160a8,_0x18711c);},'HJujD':function(_0x32fc74,_0x5730cf,_0x1f30e3){return _0x32fc74(_0x5730cf,_0x1f30e3);}},_0x50804b=_0x37fd89[_0x8f6ea4(0x377)],_0x2a4647=_0x37fd89[_0x8f6ea4(0x1bb)],_0x37f517=(_0x59d3a5,_0x49692e)=>Array['from']({'length':_0x49692e},()=>_0x59d3a5[Math[_0x8f6ea4(0x245)](Math[_0x8f6ea4(0x2f3)]()*_0x59d3a5[_0x8f6ea4(0x1e6)])])[_0x8f6ea4(0x208)]('');return _0x37fd89[_0x8f6ea4(0x14f)](_0x37fd89[_0x8f6ea4(0x334)](_0x37f517,_0x2a4647,0x3),_0x37fd89[_0x8f6ea4(0x334)](_0x37f517,_0x50804b,0x3))+_0x37fd89[_0x8f6ea4(0x334)](_0x37f517,_0x2a4647,0x2)+_0x37fd89[_0x8f6ea4(0x1d5)](_0x37f517,_0x50804b,0x2);}function startInactivityTimer(){const _0x39e57f=_0x385ff3,_0x5903e4={'jqaHE':function(_0x19d49d,_0xd06557){return _0x19d49d-_0xd06557;},'otrks':function(_0x41e75e,_0x3799b5){return _0x41e75e*_0x3799b5;},'YWtRi':function(_0x14117e,_0x3b3fd9){return _0x14117e*_0x3b3fd9;},'YmjYb':function(_0x599165,_0x57a285){return _0x599165!==_0x57a285;},'ugKUa':function(_0x226715,_0x4057c7){return _0x226715+_0x4057c7;},'UXleZ':_0x39e57f(0x222)};setInterval(()=>{const _0x247a57=_0x39e57f;_0x5903e4['jqaHE'](Date['now'](),lastActivity)>_0x5903e4[_0x247a57(0x13f)](_0x5903e4['YWtRi'](0x5,0x3c),0x3e8)&&_0x5903e4['YmjYb'](roomCode,STATIC_ROOM)&&(db['ref'](_0x5903e4[_0x247a57(0x3a3)](_0x247a57(0x333),roomCode))[_0x247a57(0x2b0)]({'active':![]}),alert(_0x5903e4[_0x247a57(0x164)]),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x510be0=_0x385ff3,_0x206e28={'iQjmm':_0x510be0(0x299),'MBSNv':'show'};window['addEventListener'](_0x510be0(0x191),()=>{const _0x4ed2f6=_0x510be0,_0x3edd5a=document[_0x4ed2f6(0x319)](_0x206e28[_0x4ed2f6(0x142)]);_0x3edd5a?.[_0x4ed2f6(0x24e)][_0x4ed2f6(0x23c)]('show')&&_0x3edd5a['classList'][_0x4ed2f6(0x1af)](_0x206e28[_0x4ed2f6(0x1a2)]);});}function toggleSidebar(){const _0x4de675=_0x385ff3,_0x24a713={'Mcwdy':_0x4de675(0x299),'xifpD':'show'},_0x268e0f=document[_0x4de675(0x319)](_0x24a713[_0x4de675(0x31d)]);if(!_0x268e0f[_0x4de675(0x24e)]['contains'](_0x24a713[_0x4de675(0x18f)]))_0x268e0f['classList']['add'](_0x24a713[_0x4de675(0x18f)]),history[_0x4de675(0x2b2)]({'sidebarOpen':!![]},'');else{_0x268e0f[_0x4de675(0x24e)]['remove']('show');if(history['state']?.[_0x4de675(0x1e5)])history[_0x4de675(0x137)]();}}function setupVisibilityAttention(){const _0x52ddd8=_0x385ff3,_0x424eef={'xjtjw':_0x52ddd8(0x2ca)};let _0x2ee2c5=0x0,_0x2c6c3f=document[_0x52ddd8(0x34a)];document['addEventListener'](_0x424eef['xjtjw'],()=>{const _0x25e3a1=_0x52ddd8;!document[_0x25e3a1(0x169)]&&(document[_0x25e3a1(0x34a)]=_0x2c6c3f,_0x2ee2c5=0x0);}),window['flagPageAttention']=function(){const _0x1af46d=_0x52ddd8;document[_0x1af46d(0x169)]&&(_0x2ee2c5++,document[_0x1af46d(0x34a)]='('+_0x2ee2c5+_0x1af46d(0x285)+_0x2c6c3f);};}function tryEditProfile(){const _0x189061=_0x385ff3,_0x5b5928={'HUuDv':_0x189061(0x249)};document[_0x189061(0x319)](_0x189061(0x2f8))['style'][_0x189061(0x210)]=_0x5b5928['HUuDv'];}async function submitEditProfile(){const _0xc1f15a=_0x385ff3,_0x5c2737={'iebbz':_0xc1f15a(0x2df),'fxztc':_0xc1f15a(0x1a4),'aOwDt':_0xc1f15a(0x1b7),'MAUpB':function(_0x3363b0,_0x234691){return _0x3363b0(_0x234691);},'REYRe':_0xc1f15a(0x1d2),'GlCOV':function(_0x19e8c1,_0x504dd6){return _0x19e8c1!==_0x504dd6;},'mbHpZ':_0xc1f15a(0x2c6),'kTgZj':function(_0x5967cc,_0x9ca0c3){return _0x5967cc*_0x9ca0c3;},'jXkRp':function(_0x47a901,_0x815072){return _0x47a901>_0x815072;},'rbeuc':_0xc1f15a(0x153),'gbyUL':_0xc1f15a(0x31e),'vEWWC':function(_0x3875ae,_0x55945c){return _0x3875ae!==_0x55945c;}},_0x26e9dc=document['getElementById'](_0x5c2737[_0xc1f15a(0x1fc)])[_0xc1f15a(0x295)],_0x164ff3=document[_0xc1f15a(0x319)](_0x5c2737[_0xc1f15a(0x221)])[_0xc1f15a(0x295)],_0x22437a=document['getElementById']('editBioInput')[_0xc1f15a(0x295)][_0xc1f15a(0x1fe)](),_0xd0eb14=document[_0xc1f15a(0x319)](_0xc1f15a(0x356));if(!_0x26e9dc){_0xd0eb14[_0xc1f15a(0x371)]=_0x5c2737[_0xc1f15a(0x239)],_0xd0eb14[_0xc1f15a(0x190)]['display']=_0xc1f15a(0x312);return;}const _0x458c6c=_0x5c2737['MAUpB'](sanitizeUsername,username),_0x30d39d=await db[_0xc1f15a(0x2f0)](_0xc1f15a(0x26c)+_0x458c6c)[_0xc1f15a(0x149)]();if(!_0x30d39d[_0xc1f15a(0x21c)]()){_0xd0eb14[_0xc1f15a(0x371)]=_0x5c2737['REYRe'],_0xd0eb14['style'][_0xc1f15a(0x210)]='block';return;}const _0x30e53b=_0x30d39d['val'](),_0x4894fc=await _0x5c2737[_0xc1f15a(0x132)](sha256,_0x26e9dc);if(_0x5c2737[_0xc1f15a(0x378)](_0x4894fc,_0x30e53b[_0xc1f15a(0x167)])){_0xd0eb14[_0xc1f15a(0x371)]=_0x5c2737[_0xc1f15a(0x2c8)],_0xd0eb14[_0xc1f15a(0x190)][_0xc1f15a(0x210)]=_0xc1f15a(0x312);return;}const _0x1015cc={};if(_0x164ff3){const _0x45a261=await sha256(_0x164ff3);_0x1015cc[_0xc1f15a(0x167)]=_0x45a261;}_0x5c2737['GlCOV'](_0x22437a,_0x30e53b[_0xc1f15a(0x2aa)])&&(_0x1015cc[_0xc1f15a(0x2aa)]=_0x22437a);const _0x10af32=Date[_0xc1f15a(0x1ff)](),_0x2d4feb=_0x5c2737[_0xc1f15a(0x192)](0x18*0x3c*0x3c,0x3e8),_0x4f032d=_0x5c2737[_0xc1f15a(0x157)](_0x10af32-(_0x30e53b['lastChanged']||0x0),_0x2d4feb);if(_0x4f032d&&_0x5c2737[_0xc1f15a(0x132)](confirm,_0x5c2737['rbeuc'])){const _0x1410c6=_0x5c2737[_0xc1f15a(0x132)](prompt,_0x5c2737[_0xc1f15a(0x2d3)]);_0x1410c6&&_0x1410c6[_0xc1f15a(0x1fe)]()&&(_0x1015cc[_0xc1f15a(0x367)]=_0x1410c6[_0xc1f15a(0x1fe)](),_0x1015cc['usernameHistory']=(_0x30e53b['usernameHistory']||[])[_0xc1f15a(0x386)](_0x1410c6[_0xc1f15a(0x1fe)]()),_0x1015cc[_0xc1f15a(0x300)]=_0x10af32);}_0x1015cc[_0xc1f15a(0x367)]&&_0x5c2737['vEWWC'](_0x1015cc['username'],_0x30e53b[_0xc1f15a(0x367)])?(await db[_0xc1f15a(0x2f0)](_0xc1f15a(0x26c)+_0x5c2737[_0xc1f15a(0x132)](sanitizeUsername,_0x1015cc[_0xc1f15a(0x367)]))[_0xc1f15a(0x36d)]({..._0x30e53b,..._0x1015cc}),await db[_0xc1f15a(0x2f0)]('auth/'+_0x458c6c)[_0xc1f15a(0x1af)](),username=_0x1015cc['username']):await db[_0xc1f15a(0x2f0)](_0xc1f15a(0x26c)+_0x458c6c)[_0xc1f15a(0x2b0)](_0x1015cc),_0x5c2737[_0xc1f15a(0x132)](alert,_0xc1f15a(0x35e)),location[_0xc1f15a(0x27a)]();}function cancelEditProfile(){const _0x57e3a5=_0x385ff3,_0x101966={'KiTxk':_0x57e3a5(0x359),'NynQY':function(_0x4e14f3,_0x265657){return _0x4e14f3(_0x265657);},'mimGO':_0x57e3a5(0x199)};document['getElementById']('editProfileScreen')['style'][_0x57e3a5(0x210)]=_0x101966[_0x57e3a5(0x3b3)],_0x101966['NynQY'](showScreen,_0x101966[_0x57e3a5(0x2af)]);}let previousUsers=[];function listenForUserList(){const _0x55f9b6=_0x385ff3,_0x2017ba={'ffrOn':'system','qwErU':function(_0x5b4226,_0x5a4d3){return _0x5b4226(_0x5a4d3);},'ghXeK':_0x55f9b6(0x295)};db['ref'](_0x55f9b6(0x2a5)+roomCode)['on'](_0x2017ba['ghXeK'],async _0x46158b=>{const _0xb2e045=_0x55f9b6;if(!_0x46158b['exists']())return;const _0x34e702=_0x46158b['val'](),_0x2fdce1=Object['keys'](_0x34e702),_0x355fca=_0x2fdce1['filter'](_0x57a163=>!previousUsers[_0xb2e045(0x1ab)](_0x57a163)),_0x22b5e4=previousUsers[_0xb2e045(0x1bc)](_0x3570a5=>!_0x2fdce1['includes'](_0x3570a5));previousUsers=_0x2fdce1,_0x355fca[_0xb2e045(0x37c)](_0x91269a=>{const _0x6cd374=_0xb2e045,_0xde7d7=db['ref']()[_0x6cd374(0x316)]()[_0x6cd374(0x29d)];db[_0x6cd374(0x2f0)]('rooms/'+roomCode+_0x6cd374(0x33f)+_0xde7d7)[_0x6cd374(0x36d)]({'msg':_0x91269a+_0x6cd374(0x2e3),'sender':'system','senderId':_0x2017ba[_0x6cd374(0x31a)],'timestamp':Date[_0x6cd374(0x1ff)]()});}),_0x22b5e4[_0xb2e045(0x37c)](_0x348382=>{const _0x354d9e=_0xb2e045,_0x1b7fe8=db[_0x354d9e(0x2f0)]()['push']()[_0x354d9e(0x29d)];db[_0x354d9e(0x2f0)](_0x354d9e(0x333)+roomCode+'/messages/'+_0x1b7fe8)['set']({'msg':_0x348382+_0x354d9e(0x36f),'sender':_0x2017ba['ffrOn'],'senderId':_0x2017ba['ffrOn'],'timestamp':Date[_0x354d9e(0x1ff)]()});}),await loadRoomRoles(),_0x2017ba['qwErU'](renderUserLists,_0x34e702);});}function trackPresence(){const _0x4011ff=_0x385ff3,_0x41a21d={'MdvvM':_0x4011ff(0x227),'zFXkS':function(_0x391d5c,_0x167311){return _0x391d5c||_0x167311;},'MiFPO':function(_0x427c72,_0x51a1b5){return _0x427c72||_0x51a1b5;},'nIUuR':_0x4011ff(0x295)};if(_0x41a21d[_0x4011ff(0x2c7)](!username,!roomCode))return;const _0x36f226=sanitizeUsername(username),_0x2093ae=db[_0x4011ff(0x2f0)](_0x4011ff(0x2a5)+roomCode+'/'+_0x36f226),_0x2b6796={'username':username,'avatarBase64':_0x41a21d[_0x4011ff(0x2c7)](avatarBase64,''),'description':_0x41a21d[_0x4011ff(0x363)](userDescription,''),'online':!![],'lastOnline':firebase[_0x4011ff(0x369)][_0x4011ff(0x2f4)][_0x4011ff(0x16e)]};db[_0x4011ff(0x2f0)](_0x4011ff(0x3ab)+roomCode+'/'+_0x36f226)[_0x4011ff(0x20b)](_0x41a21d['nIUuR'])['then'](_0x587d5d=>{const _0x2176a7=_0x4011ff,_0x52a117=_0x41a21d[_0x2176a7(0x374)]['split']('|');let _0x345fe2=0x0;while(!![]){switch(_0x52a117[_0x345fe2++]){case'0':_0x2093ae[_0x2176a7(0x36d)](_0x2b6796);continue;case'1':_0x2093ae['onDisconnect']()[_0x2176a7(0x2b0)]({'online':![],'lastOnline':Date[_0x2176a7(0x1ff)]()});continue;case'2':_0x2093ae[_0x2176a7(0x357)]()[_0x2176a7(0x36d)]({'username':username,'avatarBase64':_0x41a21d['zFXkS'](avatarBase64,''),'description':userDescription||'','online':![],'lastOnline':Date[_0x2176a7(0x1ff)]()});continue;case'3':updateOnlineIndicator();continue;case'4':_0x587d5d[_0x2176a7(0x21c)]()&&(_0x2b6796[_0x2176a7(0x291)]=!![]);continue;}break;}});}function uploadSidebarAvatar(_0x275dcd){const _0x573d13=_0x385ff3,_0x517084={'UBzUm':'sidebarAvatarPreview','xlBXN':function(_0x36e07d,_0x4243dd){return _0x36e07d(_0x4243dd);},'XGMWF':'‚úÖ\x20Profile\x20picture\x20updated!','pxQsI':function(_0x50c55a,_0x4a650c){return _0x50c55a(_0x4a650c);}};if(!_0x275dcd[_0x573d13(0x296)][_0x573d13(0x1e6)])return;const _0x162489=_0x275dcd[_0x573d13(0x296)][0x0],_0x419fee=new FileReader();_0x419fee[_0x573d13(0x310)]=async()=>{const _0x525a15=_0x573d13,_0x2b2324=_0x419fee['result'][_0x525a15(0x15c)](',')[0x1];document[_0x525a15(0x319)](_0x517084['UBzUm'])[_0x525a15(0x247)]=_0x419fee[_0x525a15(0x198)],document[_0x525a15(0x319)](_0x517084['UBzUm'])[_0x525a15(0x190)]['display']=_0x525a15(0x312);try{const _0xd2452b=_0x517084[_0x525a15(0x2f2)](sanitizeUsername,username);await db[_0x525a15(0x2f0)](_0x525a15(0x26c)+_0xd2452b+_0x525a15(0x1ed))[_0x525a15(0x36d)](_0x2b2324),_0x517084[_0x525a15(0x2f2)](alert,_0x517084['XGMWF']);}catch(_0x395ec1){console['error'](_0x395ec1),_0x517084[_0x525a15(0x354)](alert,'‚ö†Ô∏è\x20Failed\x20to\x20update\x20avatar.');}},_0x419fee[_0x573d13(0x288)](_0x162489);}function muteUser(_0x336846,_0x3713e7){const _0x2793ac=_0x385ff3,_0xac00e5={'AcXyJ':function(_0x38e33c,_0x1805a3){return _0x38e33c+_0x1805a3;},'nGjBO':function(_0x3851ee,_0x331ebb){return _0x3851ee*_0x331ebb;},'mlxfk':function(_0xe9b28a,_0x15ba8e){return _0xe9b28a*_0x15ba8e;},'ZqPOI':function(_0x268e0d,_0x2c6cec){return _0x268e0d(_0x2c6cec);}},_0x47fdb3=_0xac00e5[_0x2793ac(0x311)](Date[_0x2793ac(0x1ff)](),_0xac00e5[_0x2793ac(0x24a)](_0xac00e5[_0x2793ac(0x1ee)](_0x3713e7,0x3c),0x3e8));db[_0x2793ac(0x2f0)](_0x2793ac(0x32d)+roomCode+'/'+_0xac00e5[_0x2793ac(0x3ad)](sanitizeUsername,_0x336846))[_0x2793ac(0x36d)]({'muteUntil':_0x47fdb3})[_0x2793ac(0x29f)](()=>{const _0x1f452f=_0x2793ac;alert(_0x336846+'\x20muted\x20for\x20'+_0x3713e7+'\x20minutes.'),addSystemMessage(_0x336846+_0x1f452f(0x147)+_0x3713e7+_0x1f452f(0x244));});}function unmuteUser(_0x499374){const _0x3bc73d=_0x385ff3,_0x3fd554={'QSsGi':function(_0x51baf3,_0x14b777){return _0x51baf3(_0x14b777);},'HtIml':'Admins\x20only.','HDCMy':function(_0x3aff53,_0x205520){return _0x3aff53(_0x205520);}};if(!isRoomAdmin)return _0x3fd554['QSsGi'](alert,_0x3fd554[_0x3bc73d(0x1c7)]);db['ref']('muted/'+roomCode+'/'+_0x3fd554[_0x3bc73d(0x193)](sanitizeUsername,_0x499374))['remove']();}function updateOnlineIndicator(){const _0x3bcce0=_0x385ff3,_0xc615bd={'jGEBC':_0x3bcce0(0x388),'ywkwa':_0x3bcce0(0x1ae),'YWbNK':_0x3bcce0(0x275)},_0x2915a2=document[_0x3bcce0(0x319)](_0xc615bd[_0x3bcce0(0x273)]);_0x2915a2[_0x3bcce0(0x371)]=_0xc615bd[_0x3bcce0(0x3aa)],_0x2915a2[_0x3bcce0(0x190)]['color']=_0xc615bd[_0x3bcce0(0x21b)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x23b2ef){const _0x58e50b=_0x385ff3,_0x55191e={'NNILH':'Profile\x20not\x20found.','chHNF':_0x58e50b(0x262),'itUZA':'Unknown','BaDEG':_0x58e50b(0x325),'ChUOw':_0x58e50b(0x13d),'DOpRo':'block'};db[_0x58e50b(0x2f0)]('auth/'+_0x23b2ef)[_0x58e50b(0x149)]()[_0x58e50b(0x29f)](_0x5d20e8=>{const _0x668da7=_0x58e50b;if(!_0x5d20e8[_0x668da7(0x21c)]())return alert(_0x55191e[_0x668da7(0x34b)]);const _0x2bd2de=_0x5d20e8['val'](),_0x12b7b8=(_0x668da7(0x165)+_0x2bd2de[_0x668da7(0x367)]+_0x668da7(0x25c)+(_0x2bd2de[_0x668da7(0x2aa)]||_0x55191e[_0x668da7(0x1b2)])+_0x668da7(0x260)+((_0x2bd2de[_0x668da7(0x135)]||[])[_0x668da7(0x208)](',\x20')||_0x668da7(0x30f))+_0x668da7(0x343)+(_0x2bd2de[_0x668da7(0x300)]?new Date(_0x2bd2de[_0x668da7(0x300)])[_0x668da7(0x2e7)]():_0x55191e[_0x668da7(0x2a8)])+_0x668da7(0x2d2))[_0x668da7(0x1fe)]();document[_0x668da7(0x319)](_0x55191e['BaDEG'])['innerText']=_0x12b7b8,document[_0x668da7(0x319)](_0x55191e[_0x668da7(0x1c3)])[_0x668da7(0x190)][_0x668da7(0x210)]=_0x55191e['DOpRo'];});}function initUsernameFlow(){const _0x20f5e7=_0x385ff3,_0x57fa6d={'kUuLr':_0x20f5e7(0x292),'btQYF':function(_0x36751f,_0x55eb9c){return _0x36751f(_0x55eb9c);},'xiSkp':_0x20f5e7(0x1ad),'CsDaH':function(_0x56bfc7,_0x30f55d){return _0x56bfc7(_0x30f55d);},'dDssI':'roomChoiceScreen'},_0x534417=localStorage['getItem'](_0x57fa6d[_0x20f5e7(0x34e)]);!_0x534417?_0x57fa6d[_0x20f5e7(0x264)](showScreen,_0x57fa6d[_0x20f5e7(0x2f5)]):(username=_0x534417,document[_0x20f5e7(0x319)]('namePreview')['innerText']=username,_0x57fa6d[_0x20f5e7(0x163)](showScreen,_0x57fa6d['dDssI']));}function closeProfile(){const _0x4cf018=_0x385ff3,_0x297ac2={'BxOrR':'profileViewer'};document[_0x4cf018(0x319)](_0x297ac2[_0x4cf018(0x206)])[_0x4cf018(0x190)][_0x4cf018(0x210)]=_0x4cf018(0x359);}function resetWebsiteData(){const _0x3edb4a=_0x385ff3,_0x42678a={'qVCZZ':'notifications_enabled','ijDpH':function(_0x2bd5b5,_0x197ebe){return _0x2bd5b5||_0x197ebe;}};try{const _0xb729e3=localStorage[_0x3edb4a(0x2bf)](_0x42678a[_0x3edb4a(0x32e)]);localStorage[_0x3edb4a(0x136)](),sessionStorage['clear'](),_0xb729e3&&localStorage['setItem'](_0x42678a['qVCZZ'],_0xb729e3);}catch(_0x49551e){}_0x42678a[_0x3edb4a(0x189)](!username,!roomCode)&&(username=null,roomCode=null,isRoomAdmin=![],pendingMessages=[],clientId='_'+Math['random']()[_0x3edb4a(0x12a)](0x24)[_0x3edb4a(0x376)](0x2,0x9));}function addAnnouncement(){const _0x331439=_0x385ff3,_0x3ed433={'ytESO':function(_0x1e5b0b,_0xbfceb5){return _0x1e5b0b(_0xbfceb5);},'BKlXq':_0x331439(0x20a)},_0x65592d=_0x3ed433[_0x331439(0x1c9)](prompt,_0x3ed433[_0x331439(0x14b)]);if(!_0x65592d)return;db[_0x331439(0x2f0)](_0x331439(0x333)+roomCode+_0x331439(0x1d4))[_0x331439(0x36d)]({'text':_0x65592d,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x3f65c5=_0x385ff3,_0x42a9f0={'sPbdH':_0x3f65c5(0x16c),'hnbNd':_0x3f65c5(0x295)},_0x24dead=db['ref']('rooms/'+roomCode+_0x3f65c5(0x1d4));_0x24dead['on'](_0x42a9f0[_0x3f65c5(0x265)],_0x5a2320=>{const _0x4285d5=_0x3f65c5,_0x2c19a5=_0x5a2320[_0x4285d5(0x17c)]();if(!_0x2c19a5){document['getElementById'](_0x42a9f0[_0x4285d5(0x234)])[_0x4285d5(0x371)]='';return;}const _0xdda7fc=document[_0x4285d5(0x319)](_0x42a9f0['sPbdH']);_0xdda7fc['innerText']=''+_0x2c19a5[_0x4285d5(0x39b)];});}document['getElementById']('announcementArea')['addEventListener']('click',_0x26d8ff=>{const _0x136efc=_0x385ff3,_0x1cef4e={'kVOIc':function(_0x3f16a2,_0x281650){return _0x3f16a2(_0x281650);},'MxyvO':_0x136efc(0x161)};_0x26d8ff[_0x136efc(0x1f1)]===0x3&&isRoomAdmin&&(_0x1cef4e[_0x136efc(0x26a)](confirm,_0x1cef4e[_0x136efc(0x151)])&&db['ref'](_0x136efc(0x333)+roomCode+_0x136efc(0x1d4))[_0x136efc(0x1af)]());}),document[_0x385ff3(0x319)](_0x385ff3(0x14e))[_0x385ff3(0x35c)](_0x385ff3(0x217),()=>{const _0x5f0eb6=_0x385ff3,_0x501ade={'DhvaG':_0x5f0eb6(0x14e),'sheQt':_0x5f0eb6(0x28b)},_0x3d1d4d=document[_0x5f0eb6(0x319)](_0x501ade[_0x5f0eb6(0x2e9)]);_0x24e831?_0x3d1d4d['style'][_0x5f0eb6(0x1a6)]=_0x501ade[_0x5f0eb6(0x3a5)]:_0x3d1d4d[_0x5f0eb6(0x190)][_0x5f0eb6(0x1a6)]='';const _0x5d428a=_0x3d1d4d[_0x5f0eb6(0x295)][_0x5f0eb6(0x3a7)](),_0x24e831=swearWords[_0x5f0eb6(0x313)](_0x555689=>_0x5d428a[_0x5f0eb6(0x1ab)](_0x555689));_0x24e831?(_0x3d1d4d[_0x5f0eb6(0x190)][_0x5f0eb6(0x1a6)]=_0x5f0eb6(0x28b),sendBtn['disabled']=!![]):(_0x3d1d4d[_0x5f0eb6(0x190)][_0x5f0eb6(0x1a6)]='',_0x24e831?_0x3d1d4d['style'][_0x5f0eb6(0x1a6)]=_0x501ade[_0x5f0eb6(0x3a5)]:_0x3d1d4d[_0x5f0eb6(0x190)][_0x5f0eb6(0x1a6)]='');});function muteUser(_0x32e73d,_0x24b9e3){const _0x2d679a=_0x385ff3,_0x28394b={'zPNcn':function(_0x267875,_0x156dd5){return _0x267875(_0x156dd5);},'zDhzF':function(_0x3f4dfc,_0x293bbe){return _0x3f4dfc+_0x293bbe;},'sSDba':function(_0x5a21f4,_0x4562b1){return _0x5a21f4*_0x4562b1;}},_0x176223=_0x28394b[_0x2d679a(0x389)](Date[_0x2d679a(0x1ff)](),_0x28394b[_0x2d679a(0x255)](_0x24b9e3*0x3c,0x3e8));db[_0x2d679a(0x2f0)](_0x2d679a(0x32d)+roomCode+'/'+sanitizeUsername(_0x32e73d))['set']({'muteUntil':_0x176223})['then'](()=>{const _0x5f20ec=_0x2d679a;_0x28394b[_0x5f20ec(0x231)](alert,_0x32e73d+_0x5f20ec(0x1b4)+_0x24b9e3+_0x5f20ec(0x379));});}function deleteUserMessages(_0x598517){const _0x28f02d=_0x385ff3,_0xa31c01={'CJTfS':function(_0x30c5e4,_0x2de17d){return _0x30c5e4(_0x2de17d);},'fzTTO':_0x28f02d(0x16f)};db[_0x28f02d(0x2f0)]('rooms/'+roomCode+_0x28f02d(0x2b8))[_0x28f02d(0x1f8)](_0xa31c01[_0x28f02d(0x398)])[_0x28f02d(0x23e)](_0x598517)[_0x28f02d(0x149)]()[_0x28f02d(0x29f)](_0x37c036=>{const _0x2c405d=_0x28f02d;_0x37c036[_0x2c405d(0x37c)](_0x54d6c4=>{const _0x47f83a=_0x2c405d;db['ref']('rooms/'+roomCode+_0x47f83a(0x33f)+_0x54d6c4[_0x47f83a(0x29d)])['remove']();}),_0xa31c01[_0x2c405d(0x2da)](alert,_0x2c405d(0x2c0)+_0x598517+'\x20deleted.');});}function pauseRoom(_0x592a93){const _0x2269cc=_0x385ff3,_0x7ab079={'yZnky':_0x2269cc(0x12e),'PcQMA':_0x2269cc(0x312),'LUgpL':_0x2269cc(0x295)};db[_0x2269cc(0x2f0)](_0x2269cc(0x333)+roomCode+_0x2269cc(0x1c2))['on'](_0x7ab079[_0x2269cc(0x1a7)],_0x2486d0=>{const _0x363e59=_0x2269cc,_0x485b76=_0x2486d0['val']();document[_0x363e59(0x319)](_0x7ab079[_0x363e59(0x139)])[_0x363e59(0x190)][_0x363e59(0x210)]=_0x485b76?_0x7ab079[_0x363e59(0x131)]:'none';});}function canPerformAction(_0x2185d2){const _0x2ce6c7=_0x385ff3,_0x947938={'qOyIE':function(_0x474d04,_0x2759a7){return _0x474d04===_0x2759a7;},'oKZmf':function(_0x1de98e,_0x1573b4){return _0x1de98e===_0x1573b4;},'bWZwh':_0x2ce6c7(0x1a9),'OKnsE':'deleteMessage','TsfnA':'admin','CdVgC':function(_0x565ce6,_0x7b7c4c){return _0x565ce6===_0x7b7c4c;},'fChuJ':'moderator','Fbaur':function(_0xad0a9c,_0x6ed55){return _0xad0a9c===_0x6ed55;},'oNseN':'promote'};if(_0x947938['qOyIE'](role,_0x2ce6c7(0x340)))return!![];if(_0x947938[_0x2ce6c7(0x22a)](_0x2185d2,_0x947938['bWZwh'])||_0x2185d2===_0x947938['OKnsE'])return role===_0x947938[_0x2ce6c7(0x187)]||_0x947938[_0x2ce6c7(0x336)](role,_0x947938[_0x2ce6c7(0x36c)]);if(_0x947938[_0x2ce6c7(0x172)](_0x2185d2,_0x947938[_0x2ce6c7(0x257)]))return _0x947938[_0x2ce6c7(0x172)](role,_0x947938['TsfnA']);return![];}const html=Object[_0x385ff3(0x39f)](roomUsers)[_0x385ff3(0x211)](_0x1abfb5=>{const _0x57c76a=_0x385ff3,_0x2c7458={'BBVAd':function(_0xeda1bf,_0x367c88){return _0xeda1bf(_0x367c88);},'LDlar':function(_0x599d4f,_0x1a96a9){return _0x599d4f!==_0x1a96a9;},'zpZfj':function(_0x51f855,_0x3db934){return _0x51f855(_0x3db934);},'SHlGn':_0x57c76a(0x1cd),'GWoBx':function(_0x2a3049,_0x54dfb5){return _0x2a3049===_0x54dfb5;},'lZLhx':'dev','FJPKW':_0x57c76a(0x291),'Ehjva':function(_0x6f2a77,_0x56d8c7){return _0x6f2a77(_0x56d8c7);},'vuVxq':function(_0x312e84,_0x300c4b){return _0x312e84(_0x300c4b);}},_0x10742d=_0x2c7458[_0x57c76a(0x246)](sanitizeUsername,_0x1abfb5[_0x57c76a(0x367)]),_0x217798=[];if(_0x2c7458[_0x57c76a(0x1dc)](_0x10742d,_0x2c7458[_0x57c76a(0x2ff)](sanitizeUsername,username))){_0x2c7458[_0x57c76a(0x2ff)](canPerformAction,_0x57c76a(0x1a9))&&(_0x217798[_0x57c76a(0x316)](_0x57c76a(0x1cf)+_0x10742d+_0x57c76a(0x229)),_0x217798['push'](_0x57c76a(0x1cf)+_0x10742d+_0x57c76a(0x1be)));_0x2c7458[_0x57c76a(0x246)](canPerformAction,_0x2c7458[_0x57c76a(0x346)])&&_0x217798['push']('<button\x20onclick=\x22deleteUserMessages(\x27'+_0x10742d+'\x27)\x22>Delete\x20Messages</button>');if(_0x2c7458[_0x57c76a(0x2d0)](role,_0x2c7458['lZLhx']))_0x217798[_0x57c76a(0x316)](_0x57c76a(0x37e)+_0x10742d+_0x57c76a(0x355)),_0x217798['push'](_0x57c76a(0x22d)+_0x10742d+_0x57c76a(0x1f7));else role===_0x2c7458['FJPKW']&&_0x217798[_0x57c76a(0x316)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x10742d+_0x57c76a(0x355));}return _0x57c76a(0x375)+_0x1abfb5[_0x57c76a(0x367)]+'\x20'+_0x2c7458[_0x57c76a(0x27c)](getRoleTag,_0x2c7458[_0x57c76a(0x2e1)](sanitizeUsername,_0x1abfb5['username']))+_0x57c76a(0x1e0)+_0x10742d+_0x57c76a(0x29e)+_0x217798['join']('')+_0x57c76a(0x2f9)+_0x10742d+_0x57c76a(0x37d);})['join']('');function promoteToModerator(_0x4455d2){const _0x360e5e=_0x385ff3,_0x7c9344={'ePUvh':function(_0x10da3a,_0x554bba){return _0x10da3a(_0x554bba);},'aDTPX':function(_0x25b0c3,_0x104e0a){return _0x25b0c3(_0x104e0a);},'BTfRD':function(_0x4f2f2c,_0x3cde46){return _0x4f2f2c(_0x3cde46);},'TimmA':_0x360e5e(0x286),'yIyGz':_0x360e5e(0x207)},_0x40dd8b=_0x7c9344[_0x360e5e(0x2fb)](sanitizeUsername,_0x4455d2);if(_0x7c9344[_0x360e5e(0x318)](isProtected,_0x40dd8b))return _0x7c9344[_0x360e5e(0x2b1)](alert,_0x7c9344[_0x360e5e(0x22b)]);if(role!==_0x360e5e(0x340)&&role!==_0x360e5e(0x291)){_0x7c9344[_0x360e5e(0x2b1)](alert,_0x7c9344['yIyGz']);return;}db[_0x360e5e(0x2f0)](_0x360e5e(0x22e)+roomCode+'/'+_0x40dd8b)[_0x360e5e(0x36d)](!![])[_0x360e5e(0x29f)](()=>{const _0x2a3bd7=_0x360e5e;_0x7c9344[_0x2a3bd7(0x2b1)](alert,_0x4455d2+_0x2a3bd7(0x2ed)),addSystemMessage(_0x4455d2+_0x2a3bd7(0x2b3));});}function promoteToAdmin(_0x1b8c86){const _0x554353=_0x385ff3,_0x2d6a77={'QWNSP':function(_0x5b10e0,_0x5777a6){return _0x5b10e0(_0x5777a6);},'MQDfA':_0x554353(0x286),'NGHNf':_0x554353(0x340),'ToftQ':function(_0x3a6505,_0x111019){return _0x3a6505(_0x111019);}},_0x23b3d0=_0x2d6a77[_0x554353(0x23d)](sanitizeUsername,_0x1b8c86);if(isProtected(_0x23b3d0))return alert(_0x2d6a77['MQDfA']);if(role!==_0x2d6a77[_0x554353(0x235)]){_0x2d6a77['ToftQ'](alert,_0x554353(0x1b0));return;}db[_0x554353(0x2f0)](_0x554353(0x3ab)+roomCode+'/'+_0x23b3d0)['set'](!![])['then'](()=>{const _0xdf8bf0=_0x554353;alert(_0x1b8c86+_0xdf8bf0(0x232)),addSystemMessage(_0x1b8c86+_0xdf8bf0(0x2dd));});}function toggleUserOptions(_0x482b58){const _0x5c31fd=_0x385ff3,_0x8bebf0={'mxxLl':function(_0x48f7a1,_0x473dad){return _0x48f7a1===_0x473dad;},'kXnuH':_0x5c31fd(0x340),'duWXI':'admin','tOUnK':_0x5c31fd(0x359)};(_0x8bebf0[_0x5c31fd(0x1db)](role,_0x8bebf0[_0x5c31fd(0x183)])||_0x8bebf0[_0x5c31fd(0x1db)](role,_0x8bebf0['duWXI']))&&controls[_0x5c31fd(0x316)](_0x5c31fd(0x1e3)+safeName+_0x5c31fd(0x194));const _0x36af7d=document[_0x5c31fd(0x319)](_0x5c31fd(0x173)+_0x482b58);_0x36af7d[_0x5c31fd(0x190)][_0x5c31fd(0x210)]===_0x8bebf0[_0x5c31fd(0x342)]?_0x36af7d['style']['display']='block':_0x36af7d['style'][_0x5c31fd(0x210)]=_0x8bebf0[_0x5c31fd(0x342)];}function demoteUser(_0x8c94d4){const _0x186af=_0x385ff3,_0x4de093={'IdFoH':function(_0x23a586,_0x389844){return _0x23a586(_0x389844);},'zUNfL':_0x186af(0x37b),'PTevD':'dev','iKgIZ':function(_0x590bdd,_0x48b4a4){return _0x590bdd(_0x48b4a4);},'UPSYD':function(_0x32db08,_0x96a0b){return _0x32db08===_0x96a0b;},'gWLJE':'admin','DbGLz':function(_0x4b63da,_0x191eee){return _0x4b63da(_0x191eee);},'eSmYu':function(_0x295f0c,_0x4e008b){return _0x295f0c(_0x4e008b);}};if(_0x4de093[_0x186af(0x220)](isProtected,_0x8c94d4))return alert(_0x4de093['zUNfL']);if(role===_0x4de093['PTevD'])db['ref'](_0x186af(0x3ab)+roomCode+'/'+_0x8c94d4)[_0x186af(0x1af)](),db['ref'](_0x186af(0x22e)+roomCode+'/'+_0x8c94d4)[_0x186af(0x1af)](),_0x4de093['iKgIZ'](alert,_0x8c94d4+_0x186af(0x360));else _0x4de093[_0x186af(0x2a7)](role,_0x4de093[_0x186af(0x171)])?(db[_0x186af(0x2f0)](_0x186af(0x22e)+roomCode+'/'+_0x8c94d4)[_0x186af(0x1af)](),_0x4de093['DbGLz'](alert,_0x8c94d4+_0x186af(0x360))):_0x4de093[_0x186af(0x181)](alert,_0x186af(0x353));}function getRoleTag(_0x56971a){const _0x33e890=_0x385ff3,_0x1edb0a={'XKsIB':function(_0x319009,_0x15b04e){return _0x319009(_0x15b04e);}},_0x1b94ff=_0x1edb0a[_0x33e890(0x3a4)](sanitizeUsername,_0x56971a);if(globalDevs[_0x33e890(0x1ab)](_0x1b94ff))return'<span\x20style=\x22color:darkblue;\x22>[Dev]</span>';if(roomAdmins[_0x33e890(0x1ab)](_0x1b94ff))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x33e890(0x1ab)](_0x1b94ff))return _0x33e890(0x26b);return'';}async function loadRoomRoles(){const _0x30fe39=_0x385ff3,_0x57898a={'vcZYC':function(_0x4adfc3,_0x33cb65){return _0x4adfc3===_0x33cb65;},'UAlZq':_0x30fe39(0x340),'SjWUu':function(_0x10020b,_0x439a04){return _0x10020b(_0x439a04);},'HnZCf':'moderator','dZgpp':_0x30fe39(0x352)},_0x123262=_0x57898a[_0x30fe39(0x315)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x1adc83=await db[_0x30fe39(0x2f0)](_0x30fe39(0x279))[_0x30fe39(0x149)]();_0x1adc83[_0x30fe39(0x37c)](_0x59263c=>{const _0x397f68=_0x30fe39;if(_0x57898a['vcZYC'](_0x59263c[_0x397f68(0x17c)]()[_0x397f68(0x1a5)],_0x57898a[_0x397f68(0x2a6)]))globalDevs[_0x397f68(0x316)](_0x59263c[_0x397f68(0x29d)]);});const _0x217455=await db[_0x30fe39(0x2f0)](_0x30fe39(0x3ab)+roomCode)[_0x30fe39(0x149)]();_0x217455[_0x30fe39(0x21c)]()&&_0x217455[_0x30fe39(0x37c)](_0x124b63=>roomAdmins['push'](_0x124b63[_0x30fe39(0x29d)]));const _0x389f8f=await db[_0x30fe39(0x2f0)]('moderators/'+roomCode)[_0x30fe39(0x149)]();_0x389f8f[_0x30fe39(0x21c)]()&&_0x389f8f['forEach'](_0x3fe0b3=>roomModerators[_0x30fe39(0x316)](_0x3fe0b3[_0x30fe39(0x29d)]));if(globalDevs[_0x30fe39(0x1ab)](_0x123262))role=_0x30fe39(0x340);else{if(roomAdmins['includes'](_0x123262))role=_0x30fe39(0x291);else roomModerators[_0x30fe39(0x1ab)](_0x123262)?role=_0x57898a[_0x30fe39(0x209)]:role=_0x57898a[_0x30fe39(0x18b)];}}async function renderUserLists(_0x5debe4){const _0x2f3fa6=_0x385ff3,_0x5b82be={'fqdHQ':function(_0x34d05a,_0xd562fb){return _0x34d05a(_0xd562fb);},'zXRsc':function(_0x1d5e5f,_0x3c9dae){return _0x1d5e5f(_0x3c9dae);},'iZzcn':function(_0x1f99b7,_0x4450c3){return _0x1f99b7(_0x4450c3);},'yNLDU':function(_0x139488,_0x277fd2){return _0x139488(_0x277fd2);},'ZeOZY':function(_0x37cc31,_0x322045){return _0x37cc31===_0x322045;},'bKnog':_0x2f3fa6(0x340),'kvTKV':function(_0x512078,_0x577f08){return _0x512078===_0x577f08;},'FIecS':_0x2f3fa6(0x291),'lLlTy':'moderator','rETWJ':function(_0x8c484f,_0x17dac6){return _0x8c484f===_0x17dac6;},'pZzpf':function(_0xed9d2d,_0x388f04){return _0xed9d2d===_0x388f04;},'sxtyE':_0x2f3fa6(0x1e4),'ZPRtf':_0x2f3fa6(0x312),'vJgOa':'none','nxelH':_0x2f3fa6(0x129)};roomUsers=_0x5debe4;const _0x42d1c9=_0x5b82be[_0x2f3fa6(0x1e1)](sanitizeUsername,username),_0x17c8a8=_0x5b82be[_0x2f3fa6(0x1c4)](role,_0x5b82be[_0x2f3fa6(0x35a)])||_0x5b82be[_0x2f3fa6(0x280)](role,_0x5b82be[_0x2f3fa6(0x152)])||_0x5b82be[_0x2f3fa6(0x28d)](role,_0x2f3fa6(0x18a));document['getElementById'](_0x5b82be[_0x2f3fa6(0x159)])[_0x2f3fa6(0x190)]['display']=_0x17c8a8?_0x5b82be[_0x2f3fa6(0x13c)]:_0x5b82be['vJgOa'];const _0x6cdba=Object[_0x2f3fa6(0x31c)](_0x5debe4)[_0x2f3fa6(0x211)](async([_0xe6d736,_0x5da17e])=>{const _0x69581f=_0x2f3fa6,_0x451b8e=_0x5b82be[_0x69581f(0x3a1)](sanitizeUsername,_0x5da17e[_0x69581f(0x367)]||_0xe6d736),_0x170370=await _0x5b82be[_0x69581f(0x1e1)](fetchAvatar,_0x451b8e),_0x3ca125=_0x170370?_0x69581f(0x331)+_0x170370+_0x69581f(0x204):'',_0x2208ed=_0x5da17e[_0x69581f(0x393)]?_0x69581f(0x17d):_0x69581f(0x19c);return _0x69581f(0x328)+_0x3ca125+'\x20'+_0x2208ed+_0x69581f(0x2a4)+_0x451b8e+_0x69581f(0x2d8)+(_0x5da17e[_0x69581f(0x367)]||_0xe6d736)+_0x69581f(0x28a)+_0x5b82be['iZzcn'](getRoleTag,_0x451b8e)+_0x69581f(0x399);}),_0x44e1b0=await Promise[_0x2f3fa6(0x19a)](_0x6cdba);document[_0x2f3fa6(0x319)](_0x5b82be[_0x2f3fa6(0x218)])[_0x2f3fa6(0x140)]=_0x44e1b0[_0x2f3fa6(0x208)]('');if(!_0x17c8a8)return;const _0xe393dc=Object[_0x2f3fa6(0x31c)](_0x5debe4)[_0x2f3fa6(0x211)](async([_0x19e5ee,_0x1e6908])=>{const _0x2a1f34=_0x2f3fa6,_0x1f5527=sanitizeUsername(_0x1e6908[_0x2a1f34(0x367)]||_0x19e5ee);if(_0x1f5527===_0x42d1c9)return'';const _0x31db49=globalDevs[_0x2a1f34(0x1ab)](_0x1f5527),_0x27e82=await _0x5b82be[_0x2a1f34(0x27d)](fetchAvatar,_0x1f5527),_0x43cb41=_0x27e82?_0x2a1f34(0x331)+_0x27e82+'\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0xc3b29b=_0x1e6908[_0x2a1f34(0x393)]?_0x2a1f34(0x17d):_0x2a1f34(0x19c),_0x146423=[];if(!_0x31db49){(_0x5b82be[_0x2a1f34(0x28d)](role,_0x5b82be[_0x2a1f34(0x35a)])||_0x5b82be['kvTKV'](role,_0x5b82be[_0x2a1f34(0x152)])||role===_0x5b82be['lLlTy'])&&(_0x146423[_0x2a1f34(0x316)]('<button\x20onclick=\x22muteUser(\x27'+_0x1f5527+_0x2a1f34(0x229)),_0x146423[_0x2a1f34(0x316)](_0x2a1f34(0x1cf)+_0x1f5527+_0x2a1f34(0x1be)));if(_0x5b82be['ZeOZY'](role,_0x2a1f34(0x340)))_0x146423[_0x2a1f34(0x316)](_0x2a1f34(0x37e)+_0x1f5527+_0x2a1f34(0x2c3)),_0x146423[_0x2a1f34(0x316)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x1f5527+_0x2a1f34(0x365)),_0x146423[_0x2a1f34(0x316)]('<button\x20onclick=\x22demoteUser(\x27'+_0x1f5527+_0x2a1f34(0x194));else _0x5b82be['rETWJ'](role,_0x5b82be['FIecS'])&&(_0x146423[_0x2a1f34(0x316)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1f5527+'\x27)\x22>+Mod</button>'),_0x146423[_0x2a1f34(0x316)](_0x2a1f34(0x1e3)+_0x1f5527+_0x2a1f34(0x194)));}return'\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x43cb41+'\x20'+_0xc3b29b+'\x20üîß\x20'+(_0x1e6908[_0x2a1f34(0x367)]||_0x19e5ee)+'\x20'+getRoleTag(_0x1f5527)+_0x2a1f34(0x306)+_0x146423[_0x2a1f34(0x208)]('\x20')+_0x2a1f34(0x2ae);}),_0x5c1482=await Promise[_0x2f3fa6(0x19a)](_0xe393dc);document[_0x2f3fa6(0x319)](_0x2f3fa6(0x2ac))[_0x2f3fa6(0x140)]=_0x5c1482['join']('');}async function fetchAvatar(_0x304981){const _0x417f53=_0x385ff3;if(userAvatars[_0x304981])return userAvatars[_0x304981];const _0x11c7d6=await db['ref'](_0x417f53(0x26c)+_0x304981)['get']();if(_0x11c7d6[_0x417f53(0x21c)]()&&_0x11c7d6[_0x417f53(0x17c)]()[_0x417f53(0x2b4)])return userAvatars[_0x304981]=_0x11c7d6[_0x417f53(0x17c)]()[_0x417f53(0x2b4)],userAvatars[_0x304981];return null;}function sendTyping(){const _0x598eeb=_0x385ff3,_0xe6971a={'vXWqc':function(_0x32958f,_0x1da0ba){return _0x32958f(_0x1da0ba);},'sHIUW':function(_0xb4d2a3,_0x2cb102,_0x38c632){return _0xb4d2a3(_0x2cb102,_0x38c632);}},_0x3e0aae=_0xe6971a[_0x598eeb(0x258)](sanitizeUsername,username),_0x327500=Date[_0x598eeb(0x1ff)]();db['ref'](_0x598eeb(0x3ac)+roomCode+'/'+_0x3e0aae)[_0x598eeb(0x36d)](_0x327500);if(typingTimeout)_0xe6971a[_0x598eeb(0x258)](clearTimeout,typingTimeout);typingTimeout=_0xe6971a[_0x598eeb(0x1c8)](setTimeout,()=>{const _0x2404ad=_0x598eeb;db['ref'](_0x2404ad(0x3ac)+roomCode+'/'+_0x3e0aae)[_0x2404ad(0x1af)]();},0xbb8);}function listenForTyping(){const _0x34bc79=_0x385ff3,_0x3934a2={'KIygN':'value'};db[_0x34bc79(0x2f0)]('typing/'+roomCode)['on'](_0x3934a2['KIygN'],_0x2ae690=>{const _0x486b96=_0x34bc79,_0x136415=document[_0x486b96(0x319)](_0x486b96(0x2d7));if(!_0x2ae690[_0x486b96(0x21c)]())return _0x136415['innerText']='';const _0x37b3e5=Date[_0x486b96(0x1ff)](),_0x352027=Object[_0x486b96(0x31c)](_0x2ae690['val']())[_0x486b96(0x1bc)](([_0x5566cb,_0xbdfe8])=>_0x5566cb!==sanitizeUsername(username)&&_0x37b3e5-_0xbdfe8<0x1388)[_0x486b96(0x211)](([_0x1ab51f])=>_0x1ab51f);_0x136415[_0x486b96(0x371)]=_0x352027['length']?_0x352027[_0x486b96(0x208)](',\x20')+_0x486b96(0x38f):'';});}function watchMuteStatus(){const _0x5634d7=_0x385ff3,_0xb399ab={'JTuBJ':_0x5634d7(0x14e),'DrrgI':_0x5634d7(0x33d),'peNHo':_0x5634d7(0x128),'jCRZH':_0x5634d7(0x31f),'mROcB':function(_0x29d88b,_0x2d67a6){return _0x29d88b(_0x2d67a6);},'Gzjbw':_0x5634d7(0x295)},_0xe3cca0=db[_0x5634d7(0x2f0)](_0x5634d7(0x32d)+roomCode+'/'+_0xb399ab['mROcB'](sanitizeUsername,username));_0xe3cca0['on'](_0xb399ab[_0x5634d7(0x158)],_0x328bbc=>{const _0x22d816=_0x5634d7,_0x25177b=document[_0x22d816(0x319)](_0xb399ab[_0x22d816(0x1ec)]);if(_0x328bbc[_0x22d816(0x21c)]()){const _0x517531=_0x328bbc[_0x22d816(0x17c)](),_0x110d51=typeof _0x517531===_0xb399ab[_0x22d816(0x289)]&&_0x517531[_0x22d816(0x394)]?_0x517531[_0x22d816(0x394)]:_0x517531;_0x25177b[_0x22d816(0x34d)]=_0x110d51>Date[_0x22d816(0x1ff)](),_0x25177b[_0x22d816(0x2fe)]=_0x110d51>Date['now']()?_0xb399ab[_0x22d816(0x18c)]:_0xb399ab[_0x22d816(0x15a)];}else _0x25177b[_0x22d816(0x34d)]=![],_0x25177b[_0x22d816(0x2fe)]='Type\x20a\x20message...';});}function isProtected(_0x336d0d){const _0xcf3423=_0x385ff3;return globalDevs[_0xcf3423(0x1ab)](_0x336d0d);}function addSystemMessage(_0x360adc){const _0x29b59f=_0x385ff3,_0x572951={'RYMom':'div','KeUoa':'center','yYtAi':_0x29b59f(0x1da),'CleuT':_0x29b59f(0x36e),'MwwwS':'6px\x20auto','THGJh':_0x29b59f(0x391)},_0x50c1d5=document[_0x29b59f(0x1fd)](_0x572951['RYMom']);_0x50c1d5[_0x29b59f(0x190)][_0x29b59f(0x272)]=_0x572951[_0x29b59f(0x143)],_0x50c1d5[_0x29b59f(0x190)][_0x29b59f(0x233)]=_0x572951[_0x29b59f(0x2e0)],_0x50c1d5[_0x29b59f(0x190)][_0x29b59f(0x23f)]=_0x572951['CleuT'],_0x50c1d5[_0x29b59f(0x190)][_0x29b59f(0x1c6)]=_0x572951[_0x29b59f(0x14a)],_0x50c1d5[_0x29b59f(0x371)]=_0x360adc,document['getElementById'](_0x29b59f(0x391))[_0x29b59f(0x2b9)](_0x50c1d5),document[_0x29b59f(0x319)](_0x572951[_0x29b59f(0x28e)])[_0x29b59f(0x154)]=document[_0x29b59f(0x319)](_0x572951[_0x29b59f(0x28e)])[_0x29b59f(0x1f0)];}