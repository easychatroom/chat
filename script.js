const _0x4e5702=_0x8bb9;(function(_0x2ff946,_0xae067){const _0x6568e=_0x8bb9,_0x1b5ba3=_0x2ff946();while(!![]){try{const _0x117948=parseInt(_0x6568e(0x1b1))/0x1+parseInt(_0x6568e(0x458))/0x2*(parseInt(_0x6568e(0x3c2))/0x3)+parseInt(_0x6568e(0x487))/0x4+parseInt(_0x6568e(0x3b4))/0x5*(-parseInt(_0x6568e(0x463))/0x6)+-parseInt(_0x6568e(0x310))/0x7+parseInt(_0x6568e(0x2cc))/0x8*(-parseInt(_0x6568e(0x1c6))/0x9)+parseInt(_0x6568e(0x46f))/0xa*(-parseInt(_0x6568e(0x474))/0xb);if(_0x117948===_0xae067)break;else _0x1b5ba3['push'](_0x1b5ba3['shift']());}catch(_0xa2aff8){_0x1b5ba3['push'](_0x1b5ba3['shift']());}}}(_0x45d4,0x9d80b));const firebaseConfig={'apiKey':_0x4e5702(0x211),'authDomain':_0x4e5702(0x24f),'databaseURL':_0x4e5702(0x30f),'projectId':_0x4e5702(0x454),'storageBucket':'easy-chatroom.firebasestorage.app','messagingSenderId':_0x4e5702(0x478),'appId':_0x4e5702(0x1c1),'measurementId':_0x4e5702(0x28b)};let lastVerificationCode=null;firebase[_0x4e5702(0x2b6)](firebaseConfig);const messaging=firebase[_0x4e5702(0x2a3)](),db=firebase[_0x4e5702(0x3ad)]();let deviceId=null;((async()=>{const _0x39a170=_0x4e5702,_0x40068c={'bGbfF':function(_0x1b6f41){return _0x1b6f41();}};deviceId=await _0x40068c[_0x39a170(0x444)](generateDeviceId);})());const swearWords=[_0x4e5702(0x28a),_0x4e5702(0x2a8),_0x4e5702(0x289),'asshole','bastard',_0x4e5702(0x34a),_0x4e5702(0x45c),_0x4e5702(0x2f2),_0x4e5702(0x3ce),_0x4e5702(0x240),'coño',_0x4e5702(0x48d),_0x4e5702(0x475),'porra',_0x4e5702(0x330),'merda',_0x4e5702(0x2f2),_0x4e5702(0x25d),_0x4e5702(0x365),_0x4e5702(0x2cf),_0x4e5702(0x37b),_0x4e5702(0x41e),_0x4e5702(0x1da),_0x4e5702(0x47c),_0x4e5702(0x38b),'putang\x20ina'],style=document[_0x4e5702(0x3cb)]('style');style[_0x4e5702(0x48a)]=_0x4e5702(0x2b7),document[_0x4e5702(0x305)]['appendChild'](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x4e5702(0x3a1)]()[_0x4e5702(0x2ec)](0x24)['substr'](0x2,0x9),lastActivity=Date[_0x4e5702(0x443)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x4e5702(0x471),MAX_MESSAGES=0xfa,sound=new Audio(_0x4e5702(0x3e3));sound[_0x4e5702(0x2fc)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0xb9e575=_0x4e5702,_0x213ef3={'TdNUW':function(_0x1f3d26,_0x4f54f7){return _0x1f3d26+_0x4f54f7;},'DkVhi':function(_0x264268,_0xd70d3e){return _0x264268+_0xd70d3e;}},_0x4bb80f=_0x213ef3[_0xb9e575(0x373)](_0x213ef3[_0xb9e575(0x38f)](navigator['userAgent'],screen['width']),screen['height']),_0x273f8a=await sha256(_0x4bb80f);return'_'+_0x273f8a[_0xb9e575(0x26f)](0x0,0x14);}function sha256(_0x525fd6){const _0x5ad752=_0x4e5702,_0x110289=new TextEncoder()['encode'](_0x525fd6);return crypto[_0x5ad752(0x481)][_0x5ad752(0x2dc)](_0x5ad752(0x27e),_0x110289)[_0x5ad752(0x1fd)](_0x11ab38=>{const _0x259fed=_0x5ad752;return Array[_0x259fed(0x482)](new Uint8Array(_0x11ab38))[_0x259fed(0x2f0)](_0x5c9637=>_0x5c9637[_0x259fed(0x2ec)](0x10)[_0x259fed(0x23c)](0x2,'0'))[_0x259fed(0x479)]('');});}function toggleNotifications(){const _0x29c52c=_0x4e5702,_0xf21183={'fwCkH':function(_0x45a792,_0x3d7358){return _0x45a792===_0x3d7358;},'CiGOk':_0x29c52c(0x2f7),'Rddne':_0x29c52c(0x32c),'VtLdP':'true','QSQuX':_0x29c52c(0x318),'AktwK':_0x29c52c(0x1e9),'diNzk':_0x29c52c(0x3a6),'wwIbn':_0x29c52c(0x350)};Notification[_0x29c52c(0x33d)]!==_0xf21183['CiGOk']?Notification[_0x29c52c(0x42e)]()[_0x29c52c(0x1fd)](_0x158802=>{const _0xc1d53b=_0x29c52c;_0xf21183[_0xc1d53b(0x366)](_0x158802,_0xf21183[_0xc1d53b(0x42a)])&&(notificationsEnabled=!![],localStorage[_0xc1d53b(0x206)](_0xf21183[_0xc1d53b(0x341)],_0xf21183[_0xc1d53b(0x48f)]),document[_0xc1d53b(0x210)](_0xc1d53b(0x3a6))[_0xc1d53b(0x370)]=_0xf21183[_0xc1d53b(0x49d)]);}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x29c52c(0x206)](_0xf21183['Rddne'],notificationsEnabled?_0x29c52c(0x3fe):_0xf21183[_0x29c52c(0x38e)]),document[_0x29c52c(0x210)](_0xf21183[_0x29c52c(0x3b2)])['innerText']=notificationsEnabled?'🔕\x20Disable\x20Notifications':_0xf21183[_0x29c52c(0x2e1)]);}function toggleAuthMode(){const _0x3a5025=_0x4e5702,_0x27ab9c={'WIpsU':_0x3a5025(0x4a1),'jklDo':'sendCodeBtn','aUvvv':'block','slpHn':_0x3a5025(0x397),'UwFLG':_0x3a5025(0x24e),'ivMlc':_0x3a5025(0x2fe),'gaqwg':_0x3a5025(0x416),'UinGY':'Don\x27t\x20have\x20an\x20account?\x20Register','JahZH':_0x3a5025(0x1a7),'KQRpu':_0x3a5025(0x25f),'tCCrp':_0x3a5025(0x389),'ElKHJ':'authUsername','QdqnC':_0x3a5025(0x1ca),'mvzPC':_0x3a5025(0x403),'zsicw':'Login','pxkzA':_0x3a5025(0x40b),'sIuTm':'authSubmitBtn','MDlok':_0x3a5025(0x364)},_0x483b87=_0x27ab9c[_0x3a5025(0x288)][_0x3a5025(0x317)]('|');let _0x2f5c5f=0x0;while(!![]){switch(_0x483b87[_0x2f5c5f++]){case'0':document['getElementById'](_0x27ab9c[_0x3a5025(0x1bc)])[_0x3a5025(0x374)][_0x3a5025(0x48e)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x2ad)]:_0x27ab9c['slpHn'];continue;case'1':document['getElementById'](_0x27ab9c['UwFLG'])['style'][_0x3a5025(0x48e)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x2ad)]:_0x27ab9c[_0x3a5025(0x35e)];continue;case'2':document[_0x3a5025(0x210)](_0x27ab9c[_0x3a5025(0x398)])['style'][_0x3a5025(0x48e)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x2ad)]:_0x3a5025(0x397);continue;case'3':document['getElementById'](_0x27ab9c['gaqwg'])['innerText']=isRegisterMode?_0x3a5025(0x46e):_0x27ab9c[_0x3a5025(0x312)];continue;case'4':document[_0x3a5025(0x210)](_0x27ab9c[_0x3a5025(0x49b)])['style'][_0x3a5025(0x48e)]=_0x27ab9c['slpHn'];continue;case'5':document['getElementById'](_0x27ab9c[_0x3a5025(0x256)])[_0x3a5025(0x374)][_0x3a5025(0x48e)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x2ad)]:_0x3a5025(0x397);continue;case'6':isRegisterMode=!isRegisterMode;continue;case'7':document[_0x3a5025(0x210)](_0x27ab9c[_0x3a5025(0x325)])[_0x3a5025(0x374)][_0x3a5025(0x48e)]=_0x3a5025(0x397);continue;case'8':document['getElementById'](_0x27ab9c[_0x3a5025(0x2bf)])[_0x3a5025(0x374)][_0x3a5025(0x48e)]=_0x3a5025(0x3de);continue;case'9':document[_0x3a5025(0x210)](_0x27ab9c['QdqnC'])[_0x3a5025(0x370)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x426)]:_0x27ab9c[_0x3a5025(0x4a4)];continue;case'10':document[_0x3a5025(0x210)](_0x27ab9c[_0x3a5025(0x3e2)])[_0x3a5025(0x374)][_0x3a5025(0x48e)]=isRegisterMode?_0x3a5025(0x3de):_0x27ab9c[_0x3a5025(0x35e)];continue;case'11':document[_0x3a5025(0x210)](_0x27ab9c[_0x3a5025(0x472)])[_0x3a5025(0x370)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x275)]:_0x27ab9c[_0x3a5025(0x4a4)];continue;case'12':document['getElementById'](_0x3a5025(0x388))['style'][_0x3a5025(0x48e)]=isRegisterMode?_0x27ab9c[_0x3a5025(0x2ad)]:_0x3a5025(0x397);continue;}break;}}function previewAvatar(){const _0x492c68=_0x4e5702,_0x5c826a={'BIJSU':_0x492c68(0x389),'ivrBM':_0x492c68(0x3de)},_0x41c1bf=document['getElementById']('authAvatar');if(!_0x41c1bf['files']['length'])return;const _0x4ed71b=new FileReader();_0x4ed71b[_0x492c68(0x3a9)]=()=>{const _0x12c2e3=_0x492c68;document[_0x12c2e3(0x210)](_0x5c826a['BIJSU'])['src']=_0x4ed71b[_0x12c2e3(0x212)],document['getElementById'](_0x12c2e3(0x389))[_0x12c2e3(0x374)][_0x12c2e3(0x48e)]=_0x5c826a[_0x12c2e3(0x43f)];},_0x4ed71b[_0x492c68(0x2c6)](_0x41c1bf['files'][0x0]);}async function sendVerificationCode(){const _0x5aa9c5=_0x4e5702,_0x584f04={'GQQNF':_0x5aa9c5(0x40b),'MmWrV':_0x5aa9c5(0x3f1),'QXoVH':'authError','QkZuu':'none','RKTZC':function(_0x15174e,_0x2c5418){return _0x15174e||_0x2c5418;},'WcjNG':_0x5aa9c5(0x1c4),'ALrMH':_0x5aa9c5(0x448),'KLHfi':function(_0xaf3117,_0x242279){return _0xaf3117+_0x242279;},'wLANh':function(_0x5cc51a,_0x1374b4){return _0x5cc51a*_0x1374b4;},'wduoA':_0x5aa9c5(0x1aa),'LGyUW':_0x5aa9c5(0x42c),'ghluh':_0x5aa9c5(0x48b),'hxydU':'authVerificationCode','RksFw':_0x5aa9c5(0x296),'OQwax':_0x5aa9c5(0x3de)},_0x3d1ee8=document[_0x5aa9c5(0x210)](_0x584f04[_0x5aa9c5(0x412)])[_0x5aa9c5(0x295)][_0x5aa9c5(0x262)](),_0x23dbdb=document['getElementById'](_0x584f04[_0x5aa9c5(0x2ba)])[_0x5aa9c5(0x295)][_0x5aa9c5(0x262)](),_0x47f637=document[_0x5aa9c5(0x210)](_0x584f04['QXoVH']);_0x47f637[_0x5aa9c5(0x374)][_0x5aa9c5(0x48e)]=_0x584f04['QkZuu'];if(_0x584f04['RKTZC'](!_0x3d1ee8,!_0x23dbdb)){_0x47f637['innerText']=_0x584f04[_0x5aa9c5(0x229)],_0x47f637[_0x5aa9c5(0x374)][_0x5aa9c5(0x48e)]=_0x5aa9c5(0x3de);return;}emailjs[_0x5aa9c5(0x300)](_0x584f04[_0x5aa9c5(0x25c)]);const _0x4cdd69=Math[_0x5aa9c5(0x319)](_0x584f04[_0x5aa9c5(0x2c5)](0x186a0,_0x584f04[_0x5aa9c5(0x368)](Math[_0x5aa9c5(0x3a1)](),0xdbba0)))['toString']();lastVerificationCode=_0x4cdd69;try{await emailjs[_0x5aa9c5(0x22a)](_0x584f04['wduoA'],_0x584f04[_0x5aa9c5(0x497)],{'to_email':_0x3d1ee8,'to_name':_0x23dbdb,'message':_0x4cdd69}),alert(_0x584f04[_0x5aa9c5(0x243)]),document[_0x5aa9c5(0x210)](_0x584f04[_0x5aa9c5(0x424)])[_0x5aa9c5(0x374)][_0x5aa9c5(0x48e)]='block';}catch(_0x4d2cb3){_0x47f637[_0x5aa9c5(0x370)]=_0x584f04['RksFw'],_0x47f637[_0x5aa9c5(0x374)][_0x5aa9c5(0x48e)]=_0x584f04[_0x5aa9c5(0x20c)],console[_0x5aa9c5(0x498)](_0x4d2cb3);}}async function submitAuth(){const _0x3b54e2=_0x4e5702,_0x503fe0={'ajqLK':_0x3b54e2(0x40b),'MovKu':_0x3b54e2(0x3f1),'xPhWe':_0x3b54e2(0x499),'ebWgS':_0x3b54e2(0x25f),'FAWit':_0x3b54e2(0x24e),'abWhR':'none','JaiaC':_0x3b54e2(0x224),'Zihle':_0x3b54e2(0x3de),'LhgvP':function(_0x153a87,_0x39380e){return _0x153a87!==_0x39380e;},'UgdGM':_0x3b54e2(0x313),'RtftT':function(_0xaaf4e5,_0x5a2a56){return _0xaaf4e5+_0x5a2a56;},'yjzqG':_0x3b54e2(0x323),'wDDHa':function(_0x47c01e,_0x2203e9){return _0x47c01e(_0x2203e9);},'ncmMU':function(_0x509808,_0x441639){return _0x509808||_0x441639;},'gDLyY':_0x3b54e2(0x207),'OySwZ':_0x3b54e2(0x423)},_0x4fcbe1=document[_0x3b54e2(0x210)](_0x503fe0[_0x3b54e2(0x254)])[_0x3b54e2(0x295)][_0x3b54e2(0x262)](),_0x3345df=document[_0x3b54e2(0x210)](_0x503fe0[_0x3b54e2(0x255)])['value'][_0x3b54e2(0x262)](),_0x123108=document[_0x3b54e2(0x210)](_0x503fe0['xPhWe'])['value'][_0x3b54e2(0x262)](),_0xf79992=document[_0x3b54e2(0x210)](_0x503fe0[_0x3b54e2(0x36a)])[_0x3b54e2(0x295)][_0x3b54e2(0x262)](),_0x3a602a=document[_0x3b54e2(0x210)](_0x503fe0[_0x3b54e2(0x2b3)])[_0x3b54e2(0x295)][_0x3b54e2(0x262)](),_0x4b69f8=document['getElementById'](_0x3b54e2(0x1a7));_0x4b69f8['style']['display']=_0x503fe0['abWhR'];if(isRegisterMode){if(!_0x4fcbe1||!_0x3345df||!_0x123108||!_0xf79992||!_0x3a602a){_0x4b69f8[_0x3b54e2(0x370)]=_0x503fe0[_0x3b54e2(0x2ff)],_0x4b69f8[_0x3b54e2(0x374)]['display']=_0x503fe0['Zihle'];return;}if(_0x503fe0[_0x3b54e2(0x23f)](_0x123108,_0xf79992)){_0x4b69f8[_0x3b54e2(0x370)]=_0x3b54e2(0x349),_0x4b69f8[_0x3b54e2(0x374)]['display']=_0x503fe0[_0x3b54e2(0x438)];return;}if(_0x503fe0['LhgvP'](_0x3a602a,lastVerificationCode)){_0x4b69f8['innerText']=_0x503fe0[_0x3b54e2(0x23b)],_0x4b69f8[_0x3b54e2(0x374)]['display']='block';return;}try{const _0x5333a5=await firebase[_0x3b54e2(0x4a2)]()['createUserWithEmailAndPassword'](_0x4fcbe1,_0x123108),_0x163180=_0x5333a5['user'],_0x9876f8=sanitizeUsername(_0x3345df);await db['ref'](_0x503fe0[_0x3b54e2(0x221)](_0x503fe0['yjzqG'],_0x9876f8))[_0x3b54e2(0x46d)]({'username':_0x3345df,'email':_0x4fcbe1,'createdAt':Date[_0x3b54e2(0x443)]()}),await firebase[_0x3b54e2(0x4a2)]()[_0x3b54e2(0x1ed)](),_0x503fe0['wDDHa'](alert,_0x3b54e2(0x45d)),toggleAuthMode();}catch(_0x351fc7){_0x4b69f8[_0x3b54e2(0x370)]=_0x351fc7[_0x3b54e2(0x265)],_0x4b69f8['style'][_0x3b54e2(0x48e)]=_0x503fe0[_0x3b54e2(0x438)];}}else{const _0x65bde5=document['getElementById'](_0x503fe0[_0x3b54e2(0x255)])['value'][_0x3b54e2(0x262)]();if(_0x503fe0[_0x3b54e2(0x271)](!_0x65bde5,!_0x123108)){_0x4b69f8['innerText']=_0x3b54e2(0x252),_0x4b69f8[_0x3b54e2(0x374)][_0x3b54e2(0x48e)]=_0x503fe0[_0x3b54e2(0x438)];return;}try{const _0x57b6d4=await db[_0x3b54e2(0x26a)](_0x503fe0[_0x3b54e2(0x221)](_0x503fe0[_0x3b54e2(0x37f)],_0x503fe0['wDDHa'](sanitizeUsername,_0x65bde5)))['get']();if(!_0x57b6d4[_0x3b54e2(0x384)]())throw new Error(_0x503fe0[_0x3b54e2(0x218)]);const _0x5a62e4=_0x57b6d4['val']()[_0x3b54e2(0x1c5)],_0x5e6d6b=await firebase[_0x3b54e2(0x4a2)]()[_0x3b54e2(0x450)](_0x5a62e4,_0x123108),_0x46d94a=_0x5e6d6b['user'];if(!_0x46d94a[_0x3b54e2(0x345)]){await firebase[_0x3b54e2(0x4a2)]()['signOut']();throw new Error(_0x503fe0['OySwZ']);}username=_0x65bde5,startAfterAuth();}catch(_0xfe4424){_0x4b69f8[_0x3b54e2(0x370)]=_0xfe4424[_0x3b54e2(0x265)],_0x4b69f8[_0x3b54e2(0x374)]['display']=_0x503fe0[_0x3b54e2(0x438)];}}}async function saveNewUser(_0x31cbaa,_0x30a176,_0x2680f9,_0x54e02b,_0x16a54a){const _0x4e5b19=_0x4e5702,_0x45e97f={'llYeC':function(_0x4ddf3e,_0x2a846c){return _0x4ddf3e(_0x2a846c);},'vtNIz':function(_0x191f58,_0x1a3f8b){return _0x191f58||_0x1a3f8b;},'MImRx':function(_0x1a52a9){return _0x1a52a9();}},_0x30c2ac=db['ref']('auth/'+_0x45e97f[_0x4e5b19(0x1ec)](sanitizeUsername,_0x31cbaa)),_0x288f21={'username':_0x31cbaa,'passwordHash':_0x30a176,'role':_0x4e5b19(0x378),'deviceId':_0x2680f9,'description':_0x45e97f[_0x4e5b19(0x3f3)](_0x16a54a,''),'avatarBase64':_0x45e97f[_0x4e5b19(0x3f3)](_0x54e02b,''),'usernameHistory':[_0x31cbaa],'lastChanged':Date['now']()};await _0x30c2ac[_0x4e5b19(0x46d)](_0x288f21),username=_0x31cbaa,_0x54e02b=_0x288f21[_0x4e5b19(0x3af)],userDescription=_0x288f21[_0x4e5b19(0x457)],_0x45e97f['MImRx'](startAfterAuth);}async function startAfterAuth(){const _0x4d0dbc=_0x4e5702,_0x12992a={'fgrZR':'user','NXcLU':_0x4d0dbc(0x44f),'zGAaU':function(_0x19d53b,_0x46122a){return _0x19d53b+_0x46122a;},'AvODD':_0x4d0dbc(0x3de),'OSLfi':_0x4d0dbc(0x274),'FubrF':function(_0x125c0c){return _0x125c0c();},'PmIRX':'namePreview','BgaMB':function(_0x568797,_0x54d710){return _0x568797(_0x54d710);}},_0x42272a=sanitizeUsername(username),_0x3a4ae8=db['ref'](_0x4d0dbc(0x4a3)+_0x42272a),_0x5256cb=await _0x3a4ae8[_0x4d0dbc(0x375)]();if(_0x5256cb['exists']()){const _0x164e7c=_0x5256cb[_0x4d0dbc(0x2c4)]();username=_0x164e7c[_0x4d0dbc(0x43c)],userDescription=_0x164e7c[_0x4d0dbc(0x457)]||'',avatarBase64=_0x164e7c[_0x4d0dbc(0x3af)]||'',role=_0x164e7c['role']||_0x12992a[_0x4d0dbc(0x28d)];if(avatarBase64){const _0x586021=document[_0x4d0dbc(0x210)](_0x12992a[_0x4d0dbc(0x1a6)]);_0x586021['src']=_0x12992a[_0x4d0dbc(0x3a3)]('data:image/png;base64,',avatarBase64),_0x586021[_0x4d0dbc(0x374)][_0x4d0dbc(0x48e)]=_0x12992a['AvODD'];}}else console['warn'](_0x12992a[_0x4d0dbc(0x244)]);await _0x12992a[_0x4d0dbc(0x2e6)](loadRoomRoles),document['getElementById'](_0x12992a['PmIRX'])[_0x4d0dbc(0x370)]=username,_0x12992a[_0x4d0dbc(0x36f)](showScreen,'roomChoiceScreen');}function toggleRecording(){const _0x39ff77=_0x4e5702,_0x1260da={'XsfJH':function(_0x478858,_0x3092e0){return _0x478858(_0x3092e0);},'nVvZB':_0x39ff77(0x486),'MaFod':function(_0x145d17){return _0x145d17();},'qJszV':'Microphone\x20permission\x20denied.'};isRecording?_0x1260da[_0x39ff77(0x39c)](stopRecording):navigator['mediaDevices'][_0x39ff77(0x3db)]({'audio':!![]})[_0x39ff77(0x1fd)](_0x279af1=>{const _0x1717c6=_0x39ff77,_0x3110da={'SBDRq':function(_0x382991){const _0xc795ce=_0x8bb9;return _0x1260da[_0xc795ce(0x39c)](_0x382991);}};mediaRecorder=new MediaRecorder(_0x279af1),mediaRecorder[_0x1717c6(0x238)](),isRecording=!![],document['getElementById'](_0x1717c6(0x324))[_0x1717c6(0x370)]='⏹️',audioChunks=[],mediaRecorder[_0x1717c6(0x47b)]=_0xbf1413=>audioChunks[_0x1717c6(0x2b4)](_0xbf1413[_0x1717c6(0x3c8)]),mediaRecorder[_0x1717c6(0x425)]=()=>{const _0x5d8b36=_0x1717c6,_0x498a71={'CQVNS':_0x5d8b36(0x415)};_0x1260da[_0x5d8b36(0x1f3)](clearTimeout,recordingTimer);const _0x60747a=new Blob(audioChunks,{'type':_0x1260da[_0x5d8b36(0x43a)]}),_0x368965=new FileReader();_0x368965[_0x5d8b36(0x3a9)]=()=>{const _0x55f1d0=_0x5d8b36,_0x45f4ca=_0x368965[_0x55f1d0(0x212)][_0x55f1d0(0x317)](',')[0x1],_0x61d0c9=db['ref']()[_0x55f1d0(0x2b4)]()[_0x55f1d0(0x231)];db[_0x55f1d0(0x26a)](_0x55f1d0(0x358)+roomCode+_0x55f1d0(0x361)+_0x61d0c9)[_0x55f1d0(0x46d)]({'msg':_0x498a71[_0x55f1d0(0x2e5)],'audioBase64':_0x45f4ca,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x368965[_0x5d8b36(0x2c6)](_0x60747a);},recordingTimer=setTimeout(()=>{const _0x52d51e=_0x1717c6;mediaRecorder&&isRecording&&_0x3110da[_0x52d51e(0x1ba)](stopRecording);},0x4e20);})[_0x39ff77(0x32a)](_0x5973b5=>{alert(_0x1260da['qJszV']);});}function stopRecording(){const _0x155540=_0x4e5702,_0xac1e45={'YLOah':function(_0x4027e0,_0x59554d){return _0x4027e0&&_0x59554d;},'EGjnh':_0x155540(0x1ee)};_0xac1e45[_0x155540(0x1d8)](mediaRecorder,isRecording)&&(mediaRecorder['stop'](),isRecording=![],document[_0x155540(0x210)]('recordBtn')[_0x155540(0x370)]=_0xac1e45['EGjnh']);}window['onload']=async()=>{const _0x2fa844=_0x4e5702,_0x2ff188={'BVBZn':function(_0x31d2c5){return _0x31d2c5();},'gmBEC':_0x2fa844(0x3fe),'cnxiF':function(_0x3a7de3){return _0x3a7de3();},'WDpWv':function(_0x43e754,_0x1e452e){return _0x43e754(_0x1e452e);}};_0x2ff188[_0x2fa844(0x402)](cleanupOldRooms),_0x2ff188[_0x2fa844(0x402)](setupSidebarBackHandler),setupVisibilityAttention(),resetWebsiteData();const _0x3b51fb=localStorage['getItem'](_0x2fa844(0x32c));notificationsEnabled=_0x3b51fb===_0x2ff188[_0x2fa844(0x34c)],isRegisterMode=![],_0x2ff188['cnxiF'](toggleAuthMode),_0x2ff188[_0x2fa844(0x3a8)](showScreen,_0x2fa844(0x2c8));};function sanitizeUsername(_0x1513c5){const _0x32c1ae=_0x4e5702;return _0x1513c5[_0x32c1ae(0x3b1)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x560e90=_0x4e5702,_0x26b993={'qnUyh':_0x560e90(0x42d),'tstgK':_0x560e90(0x37d),'qBQLv':_0x560e90(0x3de),'ApGWX':_0x560e90(0x329),'lfgle':function(_0x5d86d6,_0x5c20f2){return _0x5d86d6(_0x5c20f2);},'Rgaai':'roomChoiceScreen','dqMdJ':_0x560e90(0x376),'xNrIA':'profileUsernameInput','hfhdq':_0x560e90(0x49e),'nNQtF':function(_0xcc3c35,_0x323481){return _0xcc3c35||_0x323481;},'ndIJv':_0x560e90(0x295)},_0x45c977=document['getElementById'](_0x26b993[_0x560e90(0x2fb)])[_0x560e90(0x295)][_0x560e90(0x262)](),_0x35c33a=document[_0x560e90(0x210)](_0x26b993[_0x560e90(0x406)])[_0x560e90(0x295)][_0x560e90(0x262)](),_0x3e51e9=document[_0x560e90(0x210)]('profileError');if(_0x26b993['nNQtF'](!_0x45c977,!_0x35c33a)){_0x3e51e9[_0x560e90(0x370)]=_0x560e90(0x1e4),_0x3e51e9[_0x560e90(0x374)][_0x560e90(0x48e)]=_0x560e90(0x3de);return;}const _0x2fe9d2=_0x26b993['lfgle'](sanitizeUsername,_0x45c977),_0x334c36=db[_0x560e90(0x26a)]('profiles/'+_0x2fe9d2);_0x334c36[_0x560e90(0x2f5)](_0x26b993[_0x560e90(0x3a2)])[_0x560e90(0x1fd)](_0x2952f7=>{const _0x31d2cf=_0x560e90,_0x251bc1={'UCdIw':_0x26b993[_0x31d2cf(0x451)],'vNFFw':_0x26b993['tstgK'],'ZIQYx':_0x26b993['qBQLv'],'FxUgz':_0x26b993[_0x31d2cf(0x336)],'phHWh':_0x31d2cf(0x1c2),'dhwMw':function(_0x3e3514,_0x2a0e79){const _0x1592a9=_0x31d2cf;return _0x26b993[_0x1592a9(0x45a)](_0x3e3514,_0x2a0e79);},'qnhHY':_0x26b993['Rgaai'],'XQNoB':_0x31d2cf(0x1bf)};if(_0x2952f7['exists']())_0x3e51e9[_0x31d2cf(0x370)]=_0x26b993[_0x31d2cf(0x242)],_0x3e51e9[_0x31d2cf(0x374)]['display']=_0x31d2cf(0x3de);else{const _0x245263={'username':_0x45c977,'description':_0x35c33a,'lastChanged':Date[_0x31d2cf(0x443)](),'usernameHistory':[_0x45c977]};_0x334c36[_0x31d2cf(0x46d)](_0x245263,_0x15c30b=>{const _0x2953bd=_0x31d2cf;if(_0x15c30b)console['error'](_0x251bc1[_0x2953bd(0x1bb)],_0x15c30b),_0x3e51e9[_0x2953bd(0x370)]=_0x251bc1[_0x2953bd(0x321)],_0x3e51e9[_0x2953bd(0x374)][_0x2953bd(0x48e)]=_0x251bc1[_0x2953bd(0x337)];else{const _0x5323af=_0x251bc1[_0x2953bd(0x2ef)][_0x2953bd(0x317)]('|');let _0x34e674=0x0;while(!![]){switch(_0x5323af[_0x34e674++]){case'0':localStorage['setItem'](_0x251bc1[_0x2953bd(0x40e)],_0x45c977);continue;case'1':username=_0x45c977;continue;case'2':document[_0x2953bd(0x210)]('namePreview')[_0x2953bd(0x370)]=_0x45c977;continue;case'3':_0x251bc1[_0x2953bd(0x39b)](showScreen,_0x251bc1[_0x2953bd(0x490)]);continue;case'4':localStorage[_0x2953bd(0x206)](_0x251bc1[_0x2953bd(0x20e)],_0x35c33a);continue;}break;}}});}})[_0x560e90(0x32a)](_0x5a0ff4=>{const _0x3ff181=_0x560e90;console['error'](_0x3ff181(0x3c3),_0x5a0ff4),_0x3e51e9[_0x3ff181(0x370)]=_0x3ff181(0x22b),_0x3e51e9[_0x3ff181(0x374)][_0x3ff181(0x48e)]=_0x3ff181(0x3de);});}function saveProfile(_0x4a3ca6,_0x24fd20,_0xd54068){const _0x1a36a6=_0x4e5702,_0x1a8e37={'VJIae':_0x1a36a6(0x3ee),'lfApg':function(_0xa2d5e2,_0x2f7f86){return _0xa2d5e2(_0x2f7f86);},'sGvPJ':_0x1a36a6(0x419)},_0x4350c2=Date[_0x1a36a6(0x443)](),_0x350b00=[_0x4a3ca6];db[_0x1a36a6(0x26a)]('profiles/'+_0xd54068)[_0x1a36a6(0x46d)]({'username':_0x4a3ca6,'description':_0x24fd20,'lastChanged':_0x4350c2,'usernameHistory':_0x350b00}),document[_0x1a36a6(0x210)](_0x1a8e37['VJIae'])['innerText']=_0x4a3ca6,_0x1a8e37[_0x1a36a6(0x353)](showScreen,_0x1a8e37[_0x1a36a6(0x1ad)]);}function generateRoom(){const _0x18858a=_0x4e5702,_0x55b947={'zOGpO':function(_0x164ddb){return _0x164ddb();},'BojMX':function(_0xd11096,_0x209733){return _0xd11096+_0x209733;},'MWcJu':_0x18858a(0x358)};roomCode=_0x55b947[_0x18858a(0x3d7)](genRoomCode),db[_0x18858a(0x26a)](_0x55b947[_0x18858a(0x304)](_0x55b947[_0x18858a(0x430)],roomCode))[_0x18858a(0x46d)]({'active':!![],'created':Date[_0x18858a(0x443)]()}),_0x55b947['zOGpO'](startChat);}function joinRoom(){const _0x515392=_0x4e5702,_0x3120c0={'hkJVS':function(_0x46cfbe){return _0x46cfbe();},'umygH':function(_0x27084f,_0x1375b2){return _0x27084f(_0x1375b2);},'GSOae':'Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','uvGCj':_0x515392(0x3aa),'YTARw':_0x515392(0x23d),'DeHrr':function(_0x114791,_0x890aa3){return _0x114791===_0x890aa3;},'fIFpX':'passwordScreen','qqiUu':'rooms/'},_0x5d7d7c=roomCode||document[_0x515392(0x210)](_0x3120c0[_0x515392(0x44a)])['value'][_0x515392(0x262)]()[_0x515392(0x3c5)]();if(!_0x5d7d7c)return _0x3120c0[_0x515392(0x495)](alert,_0x3120c0[_0x515392(0x36e)]);roomCode=_0x5d7d7c;if(_0x3120c0[_0x515392(0x461)](roomCode,STATIC_ROOM)){_0x3120c0[_0x515392(0x495)](showScreen,_0x3120c0[_0x515392(0x2fd)]);return;}db[_0x515392(0x26a)](_0x3120c0['qqiUu']+roomCode)[_0x515392(0x375)]()[_0x515392(0x1fd)](_0x572817=>{const _0x2d814e=_0x515392;_0x572817[_0x2d814e(0x384)]()&&_0x572817[_0x2d814e(0x2c4)]()['active']!==![]?_0x3120c0[_0x2d814e(0x297)](startChat):_0x3120c0[_0x2d814e(0x495)](alert,_0x3120c0[_0x2d814e(0x202)]);});}async function startChat(){const _0x4f8b3f=_0x4e5702,_0x214359={'IhYWN':_0x4f8b3f(0x477),'atJib':function(_0x36a6c3,_0x380bdf){return _0x36a6c3===_0x380bdf;},'wuJcT':_0x4f8b3f(0x2fa),'OLwYz':_0x4f8b3f(0x2a0),'lFNZQ':function(_0x44ee24,_0x41d30d){return _0x44ee24(_0x41d30d);},'UZGEX':_0x4f8b3f(0x3d6),'fDPzA':function(_0x4c5106){return _0x4c5106();},'aBpuB':function(_0x32dae9){return _0x32dae9();},'oKpxU':_0x4f8b3f(0x1a2),'OedSr':_0x4f8b3f(0x419),'MUMTC':_0x4f8b3f(0x44f),'TNGUN':_0x4f8b3f(0x2bc),'bSmzH':'block','sMAfM':_0x4f8b3f(0x3f8),'upkQf':_0x4f8b3f(0x3e1),'QAwdh':_0x4f8b3f(0x27d),'QXTda':_0x4f8b3f(0x21b),'CEWam':function(_0x7a71de){return _0x7a71de();},'AYpCr':function(_0x1896b0){return _0x1896b0();},'pLfbE':function(_0x222ed4){return _0x222ed4();},'Kzyey':function(_0x514c22){return _0x514c22();},'BztKJ':'auth','VbHpM':_0x4f8b3f(0x1c7),'JFCew':'child_added','pLzdc':function(_0x4bc23a,_0x520560){return _0x4bc23a||_0x520560;},'geqwq':function(_0x4cf9e4,_0x56ffe0){return _0x4cf9e4(_0x56ffe0);},'UMjNC':function(_0x2d60bd){return _0x2d60bd();}};if(_0x214359[_0x4f8b3f(0x286)](!roomCode,!username))return _0x214359['geqwq'](alert,_0x4f8b3f(0x3ab)),showScreen(_0x214359['OedSr']);_0x214359[_0x4f8b3f(0x230)](listenForPauseState),_0x214359[_0x4f8b3f(0x283)](listenForUserList),await _0x214359['aBpuB'](loadRoomRoles),_0x214359[_0x4f8b3f(0x47e)](listenForAnnouncement);const _0x237fec=_0x214359[_0x4f8b3f(0x428)](sanitizeUsername,username),_0x761ebf=db['ref'](_0x4f8b3f(0x323)+roomCode+'/'+_0x237fec),_0x3eabf6={'username':username,'online':!![],'lastOnline':firebase[_0x4f8b3f(0x3ad)]['ServerValue'][_0x4f8b3f(0x335)]};_0x761ebf['set'](_0x3eabf6,_0x407c88=>{const _0x328c39=_0x4f8b3f,_0x410096={'UxFuS':function(_0x40cfd1,_0x18ae38){const _0x4d5f04=_0x8bb9;return _0x214359[_0x4d5f04(0x2a6)](_0x40cfd1,_0x18ae38);},'xMTmH':function(_0x333333){const _0x274de3=_0x8bb9;return _0x214359[_0x274de3(0x225)](_0x333333);},'VVDDz':function(_0xf0b49){const _0x4f315a=_0x8bb9;return _0x214359[_0x4f315a(0x2c1)](_0xf0b49);}};if(_0x407c88)return alert(_0x214359[_0x328c39(0x343)]),_0x214359['lFNZQ'](showScreen,_0x214359['OedSr']);const _0x219b59=document['getElementById'](_0x214359[_0x328c39(0x3f7)]);avatarBase64&&(_0x219b59[_0x328c39(0x1d0)]=_0x214359['TNGUN']+avatarBase64,_0x219b59['style'][_0x328c39(0x48e)]=_0x214359[_0x328c39(0x3bb)]);document[_0x328c39(0x210)](_0x214359['sMAfM'])[_0x328c39(0x48a)]=username+'\x20'+_0x214359[_0x328c39(0x2a6)](getRoleTag,_0x237fec),document[_0x328c39(0x210)](_0x214359['upkQf'])[_0x328c39(0x370)]=roomCode===STATIC_ROOM?_0x214359[_0x328c39(0x2f9)]:roomCode,_0x214359['fDPzA'](updateAnnouncementVisibility);const _0xb9bf35=db[_0x328c39(0x26a)]()[_0x328c39(0x2b4)]()[_0x328c39(0x231)];db[_0x328c39(0x26a)](_0x328c39(0x358)+roomCode+_0x328c39(0x361)+_0xb9bf35)[_0x328c39(0x46d)]({'msg':username+_0x328c39(0x23a),'sender':_0x214359[_0x328c39(0x40c)],'senderId':_0x214359[_0x328c39(0x40c)],'timestamp':Date[_0x328c39(0x443)]()}),showScreen(_0x328c39(0x2af)),document['getElementById'](_0x214359[_0x328c39(0x3ff)])[_0x328c39(0x3d9)]('click',_0x26e82a=>{const _0x3d0b81=_0x328c39,_0x4ce55b={'FQGJI':_0x214359['IhYWN']};_0x214359[_0x3d0b81(0x42f)](_0x26e82a['detail'],0x3)&&(role===_0x214359['wuJcT']||_0x214359[_0x3d0b81(0x42f)](role,_0x214359[_0x3d0b81(0x2ed)]))&&(_0x214359[_0x3d0b81(0x2a6)](confirm,_0x214359[_0x3d0b81(0x40f)])&&db[_0x3d0b81(0x26a)](_0x3d0b81(0x358)+roomCode+_0x3d0b81(0x32f))[_0x3d0b81(0x21d)]()[_0x3d0b81(0x1fd)](()=>{const _0x4b8697=_0x3d0b81;document[_0x4b8697(0x210)](_0x4ce55b[_0x4b8697(0x2bb)])[_0x4b8697(0x370)]='';}));}),_0x214359[_0x328c39(0x316)](listenForMessages),_0x214359[_0x328c39(0x316)](listenForTyping),_0x214359['AYpCr'](startInactivityTimer),trackPresence(),_0x214359[_0x328c39(0x25e)](watchProfileChanges),_0x214359[_0x328c39(0x230)](watchMuteStatus),startSidebarSyncLoop();const _0x3d8eaa=()=>{const _0x1a847b=_0x328c39;_0x410096[_0x1a847b(0x26c)](loadRoomRoles)['then'](()=>{const _0x5dc638=_0x1a847b;_0x410096[_0x5dc638(0x236)](renderUserLists,roomUsers),_0x410096['xMTmH'](updateAnnouncementVisibility);});};db[_0x328c39(0x26a)](_0x214359[_0x328c39(0x3fc)])['on'](_0x214359[_0x328c39(0x277)],_0x3d8eaa),db['ref'](_0x214359[_0x328c39(0x3fc)])['on'](_0x214359['JFCew'],_0x3d8eaa);});}function updateAnnouncementVisibility(){const _0x48a822=_0x4e5702,_0x48092d={'CtFwA':_0x48a822(0x441),'SICFP':function(_0x383abd,_0x444a91){return _0x383abd===_0x444a91;},'fFGED':function(_0x568a24,_0x13c427){return _0x568a24===_0x13c427;},'VFrTQ':_0x48a822(0x2a0),'NLywa':_0x48a822(0x3de),'PThJk':_0x48a822(0x397)},_0x379835=document['getElementById'](_0x48092d[_0x48a822(0x3ef)]);_0x48092d[_0x48a822(0x427)](role,_0x48a822(0x2fa))||_0x48092d[_0x48a822(0x1d4)](role,_0x48092d['VFrTQ'])?_0x379835[_0x48a822(0x374)]['display']=_0x48092d[_0x48a822(0x456)]:_0x379835[_0x48a822(0x374)][_0x48a822(0x48e)]=_0x48092d['PThJk'];}function watchProfileChanges(){const _0x3c47a2=_0x4e5702,_0x4fb6df={'QMPxY':function(_0x400216,_0x32cc85){return _0x400216+_0x32cc85;},'CRzld':'data:image/png;base64,','eyVYU':_0x3c47a2(0x3de),'hKAkh':function(_0x5ab7e1,_0x1dc48e){return _0x5ab7e1(_0x1dc48e);},'VokId':function(_0x39aa5b,_0x33541f){return _0x39aa5b(_0x33541f);},'dvnQD':_0x3c47a2(0x295)},_0xacb48b=_0x4fb6df[_0x3c47a2(0x404)](sanitizeUsername,username);db[_0x3c47a2(0x26a)](_0x3c47a2(0x4a3)+_0xacb48b)['on'](_0x4fb6df[_0x3c47a2(0x3d3)],_0x35a199=>{const _0xe1a3b0=_0x3c47a2;if(!_0x35a199[_0xe1a3b0(0x384)]())return;const _0x580b01=_0x35a199[_0xe1a3b0(0x2c4)]();userDescription=_0x580b01[_0xe1a3b0(0x457)]||'',avatarBase64=_0x580b01[_0xe1a3b0(0x3af)]||'',role=_0x580b01['role']||_0xe1a3b0(0x378);if(avatarBase64){const _0x1e1094=document[_0xe1a3b0(0x210)](_0xe1a3b0(0x44f));!_0x1e1094['src'][_0xe1a3b0(0x4a9)](avatarBase64)&&(_0x1e1094['src']=_0x4fb6df[_0xe1a3b0(0x272)](_0x4fb6df[_0xe1a3b0(0x44d)],avatarBase64),_0x1e1094[_0xe1a3b0(0x374)]['display']=_0x4fb6df[_0xe1a3b0(0x246)]);}_0x4fb6df[_0xe1a3b0(0x421)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x38b320){const _0x3ed29c=_0x4e5702,_0x449269={'GJhsM':function(_0x2f4a0f,_0x529ae9){return _0x2f4a0f-_0x529ae9;},'mqMeO':function(_0x97e244,_0x363097){return _0x97e244(_0x363097);},'lYqql':function(_0x70f743,_0x449b1e){return _0x70f743>_0x449b1e;},'jGLgD':function(_0x36df4b,_0x93c1d9){return _0x36df4b*_0x93c1d9;},'mIwkE':function(_0x96557,_0xd0e90e){return _0x96557(_0xd0e90e);}},_0x367cd4=Date[_0x3ed29c(0x443)]();if(_0x449269[_0x3ed29c(0x1a3)](_0x367cd4,lastImageTime)<0x2710){_0x449269[_0x3ed29c(0x2ca)](alert,_0x3ed29c(0x268));return;}lastImageTime=_0x367cd4;const _0x2720bc=_0x38b320[_0x3ed29c(0x4a5)][0x0];if(!_0x2720bc||_0x449269['lYqql'](_0x2720bc[_0x3ed29c(0x3a5)],_0x449269[_0x3ed29c(0x1b6)](0x2,0x400)*0x400)){_0x449269[_0x3ed29c(0x24b)](alert,_0x3ed29c(0x38c));return;}const _0xc9dbcf=new FileReader();_0xc9dbcf[_0x3ed29c(0x3a9)]=()=>{const _0x44b1b3=_0x3ed29c,_0x213a56=_0xc9dbcf[_0x44b1b3(0x212)][_0x44b1b3(0x317)](',')[0x1],_0xf9e051=db['ref']()[_0x44b1b3(0x2b4)]()[_0x44b1b3(0x231)];db[_0x44b1b3(0x26a)](_0x44b1b3(0x358)+roomCode+_0x44b1b3(0x361)+_0xf9e051)[_0x44b1b3(0x46d)]({'imageBase64':_0x213a56,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0xc9dbcf[_0x3ed29c(0x2c6)](_0x2720bc);}async function fetchProfile(_0x2746fb){const _0x39f13d=_0x4e5702,_0x26720a=await db[_0x39f13d(0x26a)](_0x39f13d(0x4a3)+_0x2746fb)[_0x39f13d(0x375)]();if(!_0x26720a['exists']())return null;return _0x26720a[_0x39f13d(0x2c4)]();}function validateStaticRoomPassword(){const _0x5935c3=_0x4e5702,_0x4bd1bd={'OCzDF':_0x5935c3(0x3c9),'cnjtL':function(_0x553473,_0x44a309){return _0x553473===_0x44a309;},'gLwtL':function(_0x5a8943){return _0x5a8943();},'DqFmT':_0x5935c3(0x34d),'raCcG':'Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','gVyAQ':_0x5935c3(0x1e8),'MRLVB':function(_0x4e3f01,_0x44c6ba){return _0x4e3f01(_0x44c6ba);}},_0xbb21d7=document[_0x5935c3(0x210)](_0x4bd1bd['gVyAQ'])['value'][_0x5935c3(0x262)]();if(!_0xbb21d7){_0x4bd1bd['MRLVB'](alert,_0x5935c3(0x2f8));return;}db[_0x5935c3(0x26a)](_0x5935c3(0x401)+STATIC_ROOM)[_0x5935c3(0x375)]()[_0x5935c3(0x1fd)](_0x4d3187=>{const _0x480d38=_0x5935c3;if(!_0x4d3187[_0x480d38(0x384)]()){alert(_0x4bd1bd[_0x480d38(0x30c)]);return;}const _0x363d36=_0x4d3187[_0x480d38(0x2c4)]();_0x4bd1bd[_0x480d38(0x22c)](_0xbb21d7,_0x363d36)?(roomCode=STATIC_ROOM,_0x4bd1bd[_0x480d38(0x435)](startChat)):(document[_0x480d38(0x210)](_0x480d38(0x34d))['innerText']=_0x480d38(0x1b8),document[_0x480d38(0x210)](_0x4bd1bd[_0x480d38(0x369)])[_0x480d38(0x374)][_0x480d38(0x48e)]=_0x480d38(0x3de));})['catch'](_0xdf045a=>{const _0x56817b=_0x5935c3;console[_0x56817b(0x498)](_0xdf045a),alert(_0x4bd1bd[_0x56817b(0x1de)]);});}function listenForPauseState(){const _0x437c4d=_0x4e5702,_0x5e07b0={'BDcGY':function(_0x4c681b,_0x351599){return _0x4c681b===_0x351599;},'xwOOQ':_0x437c4d(0x3de)};db['ref'](_0x437c4d(0x328)+roomCode+_0x437c4d(0x3fa))['on'](_0x437c4d(0x295),_0x5b2a3d=>{const _0x267512=_0x437c4d,_0x166c5c=_0x5b2a3d['exists']()&&_0x5e07b0[_0x267512(0x20a)](_0x5b2a3d['val'](),!![]);document[_0x267512(0x210)](_0x267512(0x28c))[_0x267512(0x374)]['display']=_0x166c5c?_0x5e07b0['xwOOQ']:_0x267512(0x397);});}const spamTimestamps=[];async function sendMessage(){const _0x3d8785=_0x4e5702,_0x19c782={'WHRXu':_0x3d8785(0x493),'uUndR':function(_0x5a83f0,_0xe06603){return _0x5a83f0===_0xe06603;},'PFypT':function(_0x1c9cf4,_0x10f18a){return _0x1c9cf4(_0x10f18a);},'ETuLw':function(_0x151242,_0x1517f8){return _0x151242===_0x1517f8;},'zkhkG':function(_0x37d366,_0x1d8f66){return _0x37d366!==_0x1d8f66;},'eTlUP':_0x3d8785(0x2a0),'CbfuA':_0x3d8785(0x27f),'plNvo':_0x3d8785(0x245),'YBmZO':function(_0x356fe6,_0x2c29b2){return _0x356fe6||_0x2c29b2;},'rzePH':function(_0x2d9cd0,_0x1f4e81){return _0x2d9cd0>_0x1f4e81;},'FXSWw':_0x3d8785(0x452),'OSrpN':function(_0x5b4d9e,_0x569063){return _0x5b4d9e(_0x569063);},'asRSi':_0x3d8785(0x200),'hZNPl':function(_0x4c89fd,_0x4a13f3,_0x3a93ea){return _0x4c89fd(_0x4a13f3,_0x3a93ea);},'nHqNi':_0x3d8785(0x43e)},_0x4d901a=await db[_0x3d8785(0x26a)]('roomStates/'+roomCode+_0x3d8785(0x3fa))['get'](),_0x521c1d=await db['ref'](_0x3d8785(0x383)+roomCode+'/'+sanitizeUsername(username))[_0x3d8785(0x375)]();if(_0x521c1d[_0x3d8785(0x384)]()){const _0x47b1a1=_0x521c1d['val'](),_0x4c29d6=_0x19c782[_0x3d8785(0x1d3)](typeof _0x47b1a1,_0x3d8785(0x38d))&&_0x47b1a1[_0x3d8785(0x2ac)]?_0x47b1a1[_0x3d8785(0x2ac)]:_0x47b1a1;if(_0x4c29d6>Date[_0x3d8785(0x443)]()){_0x19c782['PFypT'](alert,'⛔\x20You\x20are\x20muted.');return;}}if(_0x4d901a[_0x3d8785(0x384)]()&&_0x19c782[_0x3d8785(0x417)](_0x4d901a[_0x3d8785(0x2c4)](),!![])&&_0x19c782[_0x3d8785(0x354)](role,_0x19c782[_0x3d8785(0x204)])){_0x19c782[_0x3d8785(0x26e)](alert,_0x19c782['CbfuA']);return;}const _0x4c185a=document[_0x3d8785(0x210)](_0x19c782['plNvo']),_0x52758e=_0x4c185a[_0x3d8785(0x295)][_0x3d8785(0x262)]();if(_0x19c782['YBmZO'](!_0x52758e,isBlocked))return;const _0x21884b=Date['now'](),_0x3e2bf4=_0x52758e[_0x3d8785(0x465)](),_0x1e9b8e=swearWords[_0x3d8785(0x1b9)](_0x1e6614=>_0x3e2bf4[_0x3d8785(0x4a9)](_0x1e6614));if(_0x1e9b8e){_0x19c782[_0x3d8785(0x26e)](alert,_0x3d8785(0x1f6));return;}spamTimestamps[_0x3d8785(0x2b4)](_0x21884b);const _0x1bdee7=spamTimestamps[_0x3d8785(0x2eb)](_0x3a1f14=>_0x21884b-_0x3a1f14<0x1b58);if(_0x19c782[_0x3d8785(0x24d)](_0x1bdee7[_0x3d8785(0x37c)],0x5)){const _0x5411d4=_0x19c782[_0x3d8785(0x276)][_0x3d8785(0x317)]('|');let _0x151385=0x0;while(!![]){switch(_0x5411d4[_0x151385++]){case'0':_0x4c185a['disabled']=!![];continue;case'1':_0x4c185a['placeholder']=_0x3d8785(0x39f);continue;case'2':_0x19c782[_0x3d8785(0x433)](alert,_0x19c782[_0x3d8785(0x1dc)]);continue;case'3':return;case'4':_0x19c782[_0x3d8785(0x34f)](setTimeout,()=>{const _0x3b65f0=_0x3d8785;isBlocked=![],_0x4c185a[_0x3b65f0(0x1b5)]=![],_0x4c185a[_0x3b65f0(0x2b0)]=_0x19c782[_0x3b65f0(0x33e)],spamTimestamps[_0x3b65f0(0x37c)]=0x0;},0x7530);continue;case'5':isBlocked=!![];continue;}break;}}const _0x9346cf=_0x52758e[_0x3d8785(0x21a)](/(.)\1{14,}/);if(_0x9346cf){_0x19c782[_0x3d8785(0x26e)](alert,_0x19c782['nHqNi']);return;}const _0x21a9b3=localStorage[_0x3d8785(0x2ae)](_0x3d8785(0x377))||'',_0x36ee81=db['ref']()['push']()[_0x3d8785(0x231)];db[_0x3d8785(0x26a)](_0x3d8785(0x358)+roomCode+_0x3d8785(0x361)+_0x36ee81)[_0x3d8785(0x46d)]({'msg':_0x52758e,'sender':username,'senderId':clientId,'avatarBase64':_0x21a9b3,'timestamp':_0x21884b}),_0x4c185a['value']='',sendTyping(!![]),lastActivity=_0x21884b;}function listenForMessages(){const _0x59913b=_0x4e5702,_0x5e1d23={'YlJNx':function(_0x2e2f59,_0x46bfcd){return _0x2e2f59===_0x46bfcd;},'cEOQN':function(_0x1908b0,_0x3acf1c,_0x2ad4c5,_0x37828a){return _0x1908b0(_0x3acf1c,_0x2ad4c5,_0x37828a);},'hBWyd':function(_0x59eccd,_0x127c5c){return _0x59eccd!==_0x127c5c;},'Xcevz':function(_0x2ae777){return _0x2ae777();},'saITt':function(_0x1dbd2f,_0x105caf){return _0x1dbd2f&&_0x105caf;},'WrmwC':_0x59913b(0x2f7),'qgHjC':'[Voice\x20Message]','VIvsc':'[Image]','WcYsZ':function(_0x2c767f,_0x4b114c){return _0x2c767f>_0x4b114c;},'GJeTb':function(_0x50ca09,_0x567712){return _0x50ca09-_0x567712;},'SAXfr':_0x59913b(0x281),'qMmAM':'value','EaCKL':'child_removed'},_0x499220=db[_0x59913b(0x26a)](_0x59913b(0x358)+roomCode+_0x59913b(0x219)),_0xe5c0bf=_0x499220['limitToLast'](MAX_MESSAGES);userListReady=!![],_0xe5c0bf['on'](_0x5e1d23[_0x59913b(0x464)],_0x17b0e7=>{const _0x189f35=_0x59913b,_0xa02d64=_0x17b0e7['val'](),{senderId:_0x564971}=_0xa02d64,_0x474bbc=_0x5e1d23[_0x189f35(0x309)](_0x564971,clientId);if(!userListReady){pendingMessages[_0x189f35(0x2d5)](({data:_0x532a15,sent:_0x338500,key:_0x272a18})=>{addMessage(_0x532a15,_0x338500,_0x272a18);}),pendingMessages=[];return;}const _0x498161=_0xa02d64[_0x189f35(0x2c7)]||null,_0x4ca879=_0xa02d64[_0x189f35(0x214)]||null;_0x5e1d23['cEOQN'](addMessage,_0xa02d64,_0x474bbc,_0x17b0e7['key']);if(roomCode!==STATIC_ROOM&&_0x5e1d23[_0x189f35(0x1ab)](_0xa02d64[_0x189f35(0x1d5)],'system')){}!_0x474bbc&&(sound[_0x189f35(0x301)](),_0x5e1d23['Xcevz'](flagPageAttention));if(_0x5e1d23[_0x189f35(0x2db)](notificationsEnabled,!_0x474bbc)&&_0x5e1d23[_0x189f35(0x309)](Notification['permission'],_0x5e1d23[_0x189f35(0x331)])){const _0x50bb8a=_0xa02d64['msg']||(_0xa02d64['audioBase64']?_0x5e1d23[_0x189f35(0x307)]:_0xa02d64['imageBase64']?_0x5e1d23[_0x189f35(0x269)]:_0x189f35(0x299));new Notification('💬\x20'+_0xa02d64[_0x189f35(0x1d5)],{'body':_0x50bb8a,'icon':_0x189f35(0x40a)});}}),_0x499220[_0x59913b(0x2f5)](_0x5e1d23['qMmAM'])[_0x59913b(0x1fd)](_0x1eb3d0=>{const _0xc879fe=_0x59913b,_0x45b25e=_0x1eb3d0[_0xc879fe(0x2c4)](),_0x540071=Object['keys'](_0x45b25e||{});if(_0x5e1d23[_0xc879fe(0x1df)](_0x540071['length'],MAX_MESSAGES)){const _0x51df9d=_0x5e1d23[_0xc879fe(0x340)](_0x540071[_0xc879fe(0x37c)],MAX_MESSAGES),_0x34e048=_0x540071['sort']((_0x565932,_0x5970b8)=>_0x45b25e[_0x565932][_0xc879fe(0x2a1)]-_0x45b25e[_0x5970b8][_0xc879fe(0x2a1)])[_0xc879fe(0x253)](0x0,_0x51df9d);_0x34e048[_0xc879fe(0x2d5)](_0x1e926a=>{const _0x15f013=_0xc879fe;db['ref'](_0x15f013(0x358)+roomCode+'/messages/'+_0x1e926a)['remove']();});}}),db[_0x59913b(0x26a)]('rooms/'+roomCode+_0x59913b(0x219))['on'](_0x5e1d23['EaCKL'],_0x49aa30=>{const _0x3c0c7e=_0x59913b,_0x1596ff=_0x49aa30[_0x3c0c7e(0x231)],_0x12e20=document[_0x3c0c7e(0x47a)](_0x3c0c7e(0x3f0)+_0x1596ff+'\x22]');if(_0x12e20)_0x12e20['remove']();});}function stackNotification(_0x4f7592,_0xab3f13){const _0x40f6aa=_0x4e5702,_0x2bd627={'TFYeH':function(_0x586add){return _0x586add();},'cuAyy':function(_0x4b90fd,_0xca0f5a){return _0x4b90fd(_0xca0f5a);}};notificationStack[_0x40f6aa(0x2b4)]({'sender':_0x4f7592,'content':_0xab3f13}),_0x2bd627['cuAyy'](clearTimeout,notificationTimer),notificationTimer=setTimeout(()=>{const _0x2b40e6=_0x40f6aa;_0x2bd627[_0x2b40e6(0x1c3)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x5834c6=_0x4e5702,_0x21d4cb={'gGlMX':_0x5834c6(0x2a5),'XjKQo':_0x5834c6(0x40a),'DKeEZ':function(_0x9998ef,_0x2888fc){return _0x9998ef||_0x2888fc;},'VihER':_0x5834c6(0x22d),'QlnYZ':function(_0x33d386,_0x200a7b){return _0x33d386===_0x200a7b;},'NaoLP':function(_0xadca1,_0x45d3eb,_0x2c3028){return _0xadca1(_0x45d3eb,_0x2c3028);}};if(!notificationStack['length']||Notification['permission']!=='granted')return;const _0x2d6c3c=[...new Set(notificationStack['map'](_0x27ab0e=>_0x27ab0e[_0x5834c6(0x1d5)]))],_0x1e852d=_0x21d4cb[_0x5834c6(0x1f0)](roomCode,_0x21d4cb[_0x5834c6(0x278)]),_0x2525fd=_0x21d4cb[_0x5834c6(0x3c1)](_0x2d6c3c[_0x5834c6(0x37c)],0x1)?_0x5834c6(0x36b)+_0x2d6c3c[0x0]+_0x5834c6(0x386)+_0x1e852d+':\x20'+notificationStack[0x0][_0x5834c6(0x496)]:_0x5834c6(0x19c)+_0x2d6c3c[_0x5834c6(0x479)](',\x20')+_0x5834c6(0x386)+_0x1e852d;_0x21d4cb[_0x5834c6(0x1b2)](setTimeout,()=>{const _0x23b01a=_0x5834c6;new Notification(_0x21d4cb[_0x23b01a(0x33b)],{'body':_0x2525fd,'icon':_0x21d4cb['XjKQo']});},0x64);}async function addMessage(_0x16c33d,_0x24b7ba,_0xc72cc7=null){const _0x10b7e8=_0x4e5702,_0x501057={'eSPDm':function(_0xc34c84,_0x5b0de5,_0x1c777d){return _0xc34c84(_0x5b0de5,_0x1c777d);},'BNvTl':_0x10b7e8(0x33a),'fpcKZ':_0x10b7e8(0x37e),'baiUg':'32px','KFMej':_0x10b7e8(0x44e),'CBNTG':_0x10b7e8(0x1bd),'aWqPN':_0x10b7e8(0x460),'NvkDT':function(_0x322545,_0x361462,_0xab8206){return _0x322545(_0x361462,_0xab8206);},'LIovZ':function(_0xd4dbe,_0x17e830){return _0xd4dbe(_0x17e830);},'aSAFd':'none','SnmCB':_0x10b7e8(0x414),'WJVQV':function(_0x483f25,_0x14b008,_0x59a976){return _0x483f25(_0x14b008,_0x59a976);},'BiqqT':function(_0x1d5380,_0x5621a8){return _0x1d5380===_0x5621a8;},'bTfLh':function(_0x5343b7,_0x19a688){return _0x5343b7(_0x19a688);},'NBgRI':'Delete\x20this\x20message?','lJibf':function(_0x52ebfa,_0x52ba40,_0x7678c6){return _0x52ebfa(_0x52ba40,_0x7678c6);},'UDDVg':_0x10b7e8(0x193),'OjTbN':_0x10b7e8(0x21b),'qhJPK':_0x10b7e8(0x348),'YfLmf':_0x10b7e8(0x1f9),'cLAry':_0x10b7e8(0x19b),'aBBgt':'received','DqMeh':_0x10b7e8(0x44c),'wOnIN':function(_0x1bcf89,_0x5a5a5d){return _0x1bcf89(_0x5a5a5d);},'Ncnar':_0x10b7e8(0x2e7),'QumsQ':_0x10b7e8(0x291),'RmZyt':_0x10b7e8(0x434),'cpewJ':_0x10b7e8(0x31b),'GBETC':'18px','GsNFV':_0x10b7e8(0x1a1),'qvSED':'0px','aUdXw':'160px','ALJBk':_0x10b7e8(0x241),'wFBqM':_0x10b7e8(0x1d9),'VzDmj':'grid','AXTmu':_0x10b7e8(0x347),'NQPZL':_0x10b7e8(0x1ff),'PMhSt':'mouseenter','ulOnR':'mouseleave','udrVD':'touchstart','FZsmf':_0x10b7e8(0x2a0),'aTUGG':_0x10b7e8(0x2fa),'wHzsQ':_0x10b7e8(0x351),'tjHoK':_0x10b7e8(0x24a)},{msg:_0x342fc7,sender:_0x40813f,senderId:_0x50f9c7,timestamp:_0x29b7ea,audioUrl:_0x116184,audioBase64:_0x36a779,imageBase64:_0x31ac1e}=_0x16c33d,_0x3f58b7=sanitizeUsername(_0x40813f),_0x4348d2=document[_0x10b7e8(0x3cb)](_0x501057[_0x10b7e8(0x3d8)]);if(_0x16c33d[_0x10b7e8(0x1d5)]===_0x501057[_0x10b7e8(0x197)]){const _0x524a31=document[_0x10b7e8(0x3cb)](_0x10b7e8(0x193));_0x524a31[_0x10b7e8(0x2da)]=_0x10b7e8(0x43b),_0x524a31[_0x10b7e8(0x35c)][_0x10b7e8(0x2e0)]=_0xc72cc7||_0x16c33d['timestamp'],_0x524a31['dataset'][_0x10b7e8(0x2a1)]=_0x16c33d[_0x10b7e8(0x2a1)],_0x524a31['style'][_0x10b7e8(0x36d)]=_0x501057[_0x10b7e8(0x1e2)],_0x524a31[_0x10b7e8(0x374)][_0x10b7e8(0x390)]=_0x501057[_0x10b7e8(0x48c)],_0x524a31[_0x10b7e8(0x374)][_0x10b7e8(0x315)]=_0x10b7e8(0x2de),_0x524a31[_0x10b7e8(0x374)][_0x10b7e8(0x203)]=_0x501057['YfLmf'],_0x524a31['innerText']=_0x16c33d['msg'];const _0x36885e=document[_0x10b7e8(0x210)](_0x501057[_0x10b7e8(0x2be)]);_0x36885e['appendChild'](_0x524a31);const _0x5262c0=Array[_0x10b7e8(0x482)](_0x36885e[_0x10b7e8(0x476)]);_0x5262c0[_0x10b7e8(0x407)]((_0x1023c0,_0x49d206)=>{const _0x22cbd7=_0x10b7e8;return(+_0x1023c0['dataset'][_0x22cbd7(0x2a1)]||0x0)-(+_0x49d206[_0x22cbd7(0x35c)][_0x22cbd7(0x2a1)]||0x0);}),_0x36885e['innerHTML']='',_0x5262c0[_0x10b7e8(0x2d5)](_0x5159da=>_0x36885e[_0x10b7e8(0x44b)](_0x5159da)),_0x36885e[_0x10b7e8(0x3cc)]=_0x36885e['scrollHeight'];return;}_0x4348d2[_0x10b7e8(0x2c3)][_0x10b7e8(0x1cc)](_0x10b7e8(0x3ca),_0x24b7ba?_0x10b7e8(0x45b):_0x501057[_0x10b7e8(0x3d0)]),_0x4348d2[_0x10b7e8(0x374)][_0x10b7e8(0x3d1)]=_0x10b7e8(0x1fa);_0xc72cc7&&(_0x4348d2[_0x10b7e8(0x35c)]['msgId']=_0xc72cc7);const _0x531370=new Date(_0x29b7ea)[_0x10b7e8(0x314)]([],{'hour':_0x501057['DqMeh'],'minute':_0x501057[_0x10b7e8(0x27b)]}),_0x2a2219=_0x501057[_0x10b7e8(0x1f1)](getRoleTag,_0x3f58b7),_0xa4d33a=await _0x501057[_0x10b7e8(0x1f1)](fetchAvatar,_0x3f58b7),_0x1316e9=_0xa4d33a?'<img\x20src=\x22data:image/png;base64,'+_0xa4d33a+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0xb44290=_0x1316e9+'<span\x20class=\x22sender-name\x22>'+_0x40813f+'\x20'+_0x2a2219+'</span>',_0x277236=_0x342fc7?.[_0x10b7e8(0x3b1)](new RegExp('@'+username+'\x5cb','gi'),_0x10b7e8(0x232));let _0x5782de=_0xb44290+_0x10b7e8(0x3d2);if(_0x116184)_0x5782de+=_0x10b7e8(0x2dd)+_0x116184+_0x10b7e8(0x284);else{if(_0x36a779){const _0x493e48=_0x10b7e8(0x42b)+_0x36a779;_0x5782de+='<audio\x20controls\x20src=\x22'+_0x493e48+'\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>';}else{if(_0x31ac1e){const _0x5d4bb7=_0x10b7e8(0x2bc)+_0x31ac1e;_0x5782de+=_0x10b7e8(0x39a)+_0x5d4bb7+_0x10b7e8(0x213);}else{const _0x3b50c6=_0x277236['replace'](/(https?:\/\/[^\s]+)/g,_0x43494e=>{const _0xec19e3=_0x10b7e8;return _0xec19e3(0x2f1)+_0x43494e+'\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>'+_0x43494e+'</a>';});_0x5782de+=_0x10b7e8(0x257)+_0x3b50c6+_0x10b7e8(0x1cf);}}}_0x5782de+=_0x10b7e8(0x233)+_0x531370+_0x10b7e8(0x429),_0x4348d2['innerHTML']=_0x5782de;const _0x2b1732=document['createElement'](_0x501057['UDDVg']);_0x2b1732[_0x10b7e8(0x2da)]=_0x10b7e8(0x1fc),_0x2b1732[_0x10b7e8(0x374)][_0x10b7e8(0x205)]=_0x501057['Ncnar'],_0x2b1732['style']['fontSize']=_0x501057['QumsQ'],_0x4348d2['appendChild'](_0x2b1732);const _0xd57b46=document[_0x10b7e8(0x3cb)](_0x501057[_0x10b7e8(0x3d8)]);_0xd57b46[_0x10b7e8(0x2da)]=_0x501057[_0x10b7e8(0x258)];const _0x346f2f=['❤️','😂','😮','😢','👎','💀','🤯'];_0xd57b46[_0x10b7e8(0x48a)]=_0x346f2f[_0x10b7e8(0x2f0)](_0x4ac5cc=>_0x10b7e8(0x1d7)+_0x4ac5cc+_0x10b7e8(0x3e7))[_0x10b7e8(0x479)](''),_0xd57b46['style']['display']=_0x501057[_0x10b7e8(0x338)],_0xd57b46['style'][_0x10b7e8(0x3d1)]=_0x10b7e8(0x19e),_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x294)]=_0x10b7e8(0x420),_0xd57b46['style'][_0x10b7e8(0x1c9)]=_0x10b7e8(0x3da),_0xd57b46[_0x10b7e8(0x374)]['borderRadius']=_0x501057['cpewJ'],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x390)]=_0x501057['GBETC'],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x273)]=_0x501057[_0x10b7e8(0x3cf)],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x409)]=_0x501057[_0x10b7e8(0x1e1)],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x327)]='10',_0xd57b46['style'][_0x10b7e8(0x29f)]=_0x501057[_0x10b7e8(0x292)],_0xd57b46[_0x10b7e8(0x374)]['minWidth']=_0x501057[_0x10b7e8(0x3e0)],_0xd57b46[_0x10b7e8(0x374)]['whiteSpace']=_0x501057[_0x10b7e8(0x453)],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x48e)]=_0x501057[_0x10b7e8(0x2a9)],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x1f4)]=_0x501057[_0x10b7e8(0x484)],_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x21f)]=_0x10b7e8(0x2e7),_0xd57b46[_0x10b7e8(0x374)][_0x10b7e8(0x222)]=_0x501057[_0x10b7e8(0x35d)],Array[_0x10b7e8(0x482)](_0xd57b46['children'])[_0x10b7e8(0x2d5)](_0x3ed278=>{const _0x52fa78=_0x10b7e8;_0x3ed278['style']['cursor']=_0x501057[_0x52fa78(0x47d)],_0x3ed278['onclick']=_0x6cca6=>{const _0x57a0db=_0x52fa78;_0x6cca6[_0x57a0db(0x196)]();const _0xe001d2=_0x3ed278['textContent'];_0x501057['eSPDm'](reactToMessage,_0xc72cc7,_0xe001d2);};}),Array[_0x10b7e8(0x482)](_0xd57b46[_0x10b7e8(0x476)])[_0x10b7e8(0x2d5)](_0x2feca9=>{const _0x2877b3=_0x10b7e8,_0x282c3e=_0x501057[_0x2877b3(0x1fb)]['split']('|');let _0x383f05=0x0;while(!![]){switch(_0x282c3e[_0x383f05++]){case'0':_0x2feca9['style'][_0x2877b3(0x3ec)]=_0x501057[_0x2877b3(0x3c4)];continue;case'1':_0x2feca9[_0x2877b3(0x374)][_0x2877b3(0x390)]=_0x501057[_0x2877b3(0x2c2)];continue;case'2':_0x2feca9[_0x2877b3(0x374)][_0x2877b3(0x1a4)]=_0x501057[_0x2877b3(0x1e2)];continue;case'3':_0x2feca9[_0x2877b3(0x374)][_0x2877b3(0x270)]=_0x501057['CBNTG'];continue;case'4':_0x2feca9[_0x2877b3(0x374)]['width']=_0x2877b3(0x41b);continue;case'5':_0x2feca9[_0x2877b3(0x374)][_0x2877b3(0x48e)]=_0x501057[_0x2877b3(0x239)];continue;}break;}}),_0x4348d2[_0x10b7e8(0x44b)](_0xd57b46),_0xd57b46['style'][_0x10b7e8(0x48e)]=_0x501057[_0x10b7e8(0x338)];let _0x10d8fc;_0x4348d2['addEventListener'](_0x501057[_0x10b7e8(0x3bc)],()=>{_0x10d8fc=_0x501057['NvkDT'](setTimeout,()=>{const _0x209059=_0x8bb9;_0xd57b46[_0x209059(0x374)][_0x209059(0x48e)]=_0x209059(0x414);},0x5dc);}),_0x4348d2['addEventListener'](_0x501057[_0x10b7e8(0x3df)],()=>{const _0x40e9af=_0x10b7e8;_0x501057['LIovZ'](clearTimeout,_0x10d8fc),_0xd57b46[_0x40e9af(0x374)][_0x40e9af(0x48e)]=_0x501057[_0x40e9af(0x338)];});let _0x30f597;_0x4348d2['addEventListener'](_0x501057[_0x10b7e8(0x2e8)],()=>{const _0x48a156=_0x10b7e8;_0x30f597=_0x501057[_0x48a156(0x391)](setTimeout,()=>{const _0xe7ed0a=_0x48a156;_0xd57b46[_0xe7ed0a(0x374)][_0xe7ed0a(0x48e)]=_0x501057['SnmCB'];},0x5dc);}),_0x4348d2[_0x10b7e8(0x3d9)](_0x10b7e8(0x380),()=>clearTimeout(_0x30f597));_0xc72cc7&&db[_0x10b7e8(0x26a)](_0x10b7e8(0x358)+roomCode+'/messages/'+_0xc72cc7+_0x10b7e8(0x293))['on'](_0x10b7e8(0x295),_0x47824e=>{const _0x1956ed=_0x10b7e8,_0x1de4ea={'GOoyL':function(_0x151fca,_0x21d768){return _0x151fca>_0x21d768;}};if(!_0x47824e['exists']()){_0x2b1732[_0x1956ed(0x48a)]='';return;}const _0x2d9c99=_0x47824e[_0x1956ed(0x2c4)]();let _0x545f96='';Object[_0x1956ed(0x344)](_0x2d9c99)[_0x1956ed(0x2d5)](([_0x3ff7e8,_0x1f6d6b])=>{const _0x1b04a3=_0x1956ed;Array['isArray'](_0x1f6d6b)&&_0x1de4ea['GOoyL'](_0x1f6d6b['length'],0x0)&&(_0x545f96+=_0x1b04a3(0x1ce)+_0x3ff7e8+'\x20'+_0x1f6d6b['length']+_0x1b04a3(0x31c));}),_0x2b1732[_0x1956ed(0x48a)]=_0x545f96;});if([_0x501057[_0x10b7e8(0x49c)],_0x501057[_0x10b7e8(0x326)],_0x501057[_0x10b7e8(0x2ee)]][_0x10b7e8(0x4a9)](role)){let _0x5adab5=0x0;_0x4348d2[_0x10b7e8(0x3d9)](_0x501057[_0x10b7e8(0x30a)],()=>{const _0x368c93=_0x10b7e8;_0x5adab5++,_0x501057['BiqqT'](_0x5adab5,0x3)&&(_0x501057['bTfLh'](confirm,_0x501057[_0x368c93(0x440)])&&(db[_0x368c93(0x26a)](_0x368c93(0x358)+roomCode+_0x368c93(0x361)+_0xc72cc7)['remove'](),_0x4348d2['remove']())),_0x501057[_0x368c93(0x28f)](setTimeout,()=>_0x5adab5=0x0,0x5dc);});}const _0xab291a=document[_0x10b7e8(0x210)](_0x501057[_0x10b7e8(0x2be)]);_0xab291a[_0x10b7e8(0x44b)](_0x4348d2),_0xab291a[_0x10b7e8(0x3cc)]=_0xab291a[_0x10b7e8(0x322)];}function cleanupOldRooms(){const _0x53cc5c=_0x4e5702,_0x39608b={'AZQfm':function(_0x1ad3eb,_0x262757){return _0x1ad3eb!==_0x262757;},'jPScy':function(_0x31eebc,_0xcac8f9){return _0x31eebc===_0xcac8f9;},'mxImp':function(_0x45f3a5,_0x5f5b98){return _0x45f3a5>_0x5f5b98;},'AuDcY':function(_0x2a1716,_0x41553b){return _0x2a1716-_0x41553b;},'uPzTE':function(_0x2564d8,_0x202190){return _0x2564d8*_0x202190;},'aBdWl':function(_0x1fc9ce,_0x465f36){return _0x1fc9ce+_0x465f36;},'pkvJI':_0x53cc5c(0x358),'NyspE':_0x53cc5c(0x2f3),'ejEkU':'value','btHSK':_0x53cc5c(0x25a)};db[_0x53cc5c(0x26a)](_0x39608b[_0x53cc5c(0x1d1)])['once'](_0x53cc5c(0x295))[_0x53cc5c(0x1fd)](_0x22a71f=>{const _0x5adab2=_0x53cc5c,_0x3a1da9=_0x22a71f[_0x5adab2(0x2c4)]();if(!_0x3a1da9)return;const _0x5509c4=Date[_0x5adab2(0x443)]();for(const _0x2eb840 in _0x3a1da9){if(_0x39608b[_0x5adab2(0x396)](_0x2eb840,STATIC_ROOM))continue;const _0x1e9102=_0x3a1da9[_0x2eb840];_0x39608b[_0x5adab2(0x363)](_0x39608b[_0x5adab2(0x1f5)](_0x5509c4,_0x1e9102[_0x5adab2(0x32d)]||0x0),_0x39608b[_0x5adab2(0x488)](0x2,0x3c)*0x3e8)&&db['ref'](_0x39608b['aBdWl'](_0x39608b[_0x5adab2(0x3e9)],_0x2eb840))['remove']();}db['ref'](_0x39608b[_0x5adab2(0x395)])[_0x5adab2(0x2f5)](_0x5adab2(0x295))['then'](_0x35f16f=>{const _0x2a1183=_0x5adab2,_0x2da0a6=_0x35f16f[_0x2a1183(0x2c4)]();if(!_0x2da0a6)return;for(const _0x2fbc21 in _0x2da0a6){if(_0x39608b[_0x2a1183(0x3c7)](_0x2fbc21,STATIC_ROOM))db[_0x2a1183(0x26a)](_0x2a1183(0x226)+_0x2fbc21)[_0x2a1183(0x21d)]();}}),db[_0x5adab2(0x26a)]('antispamBlocked')[_0x5adab2(0x2f5)](_0x39608b[_0x5adab2(0x483)])['then'](_0x320635=>{const _0x51aba8=_0x5adab2,_0x3553ce=_0x320635[_0x51aba8(0x2c4)]();if(!_0x3553ce)return;for(const _0xbfb458 in _0x3553ce){if(_0xbfb458!==STATIC_ROOM)db[_0x51aba8(0x26a)](_0x51aba8(0x2e3)+_0xbfb458)['remove']();}});});}function _0x8bb9(_0x37ac2e,_0x2e0650){const _0x45d419=_0x45d4();return _0x8bb9=function(_0x8bb909,_0x306f53){_0x8bb909=_0x8bb909-0x193;let _0x12b235=_0x45d419[_0x8bb909];return _0x12b235;},_0x8bb9(_0x37ac2e,_0x2e0650);}document[_0x4e5702(0x3d9)]('DOMContentLoaded',()=>{const _0x56daf1=_0x4e5702,_0x5b4940={'Jsqrl':function(_0x5ee8ef){return _0x5ee8ef();},'YQiMM':_0x56daf1(0x245),'ujPHa':_0x56daf1(0x39d)},_0x2f454a=document[_0x56daf1(0x210)](_0x5b4940[_0x56daf1(0x4a8)]);_0x2f454a&&_0x2f454a[_0x56daf1(0x3d9)](_0x5b4940[_0x56daf1(0x411)],function(_0x5236e4){const _0x1d9de9=_0x56daf1;_0x5236e4['key']===_0x1d9de9(0x3f2)&&(_0x5236e4['preventDefault'](),_0x5b4940[_0x1d9de9(0x38a)](sendMessage));});});function showScreen(_0x26dff0){const _0x24f4bf=_0x4e5702,_0x91add={'cxGkH':_0x24f4bf(0x397),'SxZfQ':_0x24f4bf(0x1f7),'JPGmV':_0x24f4bf(0x419),'ojDqq':'codeEntryScreen','VFkNl':_0x24f4bf(0x4a0),'hdyjX':_0x24f4bf(0x3cd),'vxfqt':_0x24f4bf(0x381),'QOeNc':_0x24f4bf(0x2c8),'rjgeK':'editProfileScreen','pEVAP':'flex'};[_0x91add['SxZfQ'],_0x91add[_0x24f4bf(0x22e)],_0x91add[_0x24f4bf(0x2a2)],_0x24f4bf(0x2af),_0x91add['VFkNl'],_0x91add[_0x24f4bf(0x285)],_0x91add[_0x24f4bf(0x3e8)],_0x91add[_0x24f4bf(0x1a5)],_0x91add['rjgeK']]['forEach'](_0x1fd25f=>{const _0x53848e=_0x24f4bf;document[_0x53848e(0x210)](_0x1fd25f)[_0x53848e(0x374)][_0x53848e(0x48e)]=_0x91add[_0x53848e(0x35a)];}),document[_0x24f4bf(0x210)](_0x26dff0)[_0x24f4bf(0x374)][_0x24f4bf(0x48e)]=_0x91add[_0x24f4bf(0x2a4)];}function genRoomCode(){const _0x35ab2=_0x4e5702,_0x26115f={'bBlfC':_0x35ab2(0x34e),'WYQgg':function(_0x54b479,_0x27dd5d){return _0x54b479+_0x27dd5d;},'bcMAX':function(_0x565ae5,_0x5642b8,_0x4526d2){return _0x565ae5(_0x5642b8,_0x4526d2);},'OFhQe':function(_0x46b60a,_0x59ef1c,_0x563169){return _0x46b60a(_0x59ef1c,_0x563169);}},_0x40f39e=_0x26115f[_0x35ab2(0x387)],_0xf959d7=_0x35ab2(0x49a),_0x58e33f=(_0x56881b,_0x734d7a)=>Array[_0x35ab2(0x482)]({'length':_0x734d7a},()=>_0x56881b[Math['floor'](Math['random']()*_0x56881b[_0x35ab2(0x37c)])])['join']('');return _0x26115f[_0x35ab2(0x3fb)](_0x26115f[_0x35ab2(0x3fb)](_0x26115f[_0x35ab2(0x3fb)](_0x58e33f(_0xf959d7,0x3),_0x26115f[_0x35ab2(0x302)](_0x58e33f,_0x40f39e,0x3)),_0x58e33f(_0xf959d7,0x2)),_0x26115f[_0x35ab2(0x27a)](_0x58e33f,_0x40f39e,0x2));}function startInactivityTimer(){const _0x787b19=_0x4e5702,_0x3ecc60={'EQhWB':function(_0x1ecf9a,_0x34e184){return _0x1ecf9a>_0x34e184;},'DmbEO':function(_0x221f75,_0x5b8ea4){return _0x221f75-_0x5b8ea4;},'jjWdE':function(_0x25dbb2,_0xf7c593){return _0x25dbb2*_0xf7c593;},'lepsa':function(_0x6a4529,_0x28c80a){return _0x6a4529!==_0x28c80a;},'FHNiH':function(_0x455b87,_0x5aa72e){return _0x455b87+_0x5aa72e;},'vnhJt':_0x787b19(0x358),'NmxAq':function(_0x4c6c9c,_0x450cbb){return _0x4c6c9c(_0x450cbb);},'rYIDU':'Session\x20expired.','UqnAl':function(_0x5845d4,_0x3a90a1,_0x3011d7){return _0x5845d4(_0x3a90a1,_0x3011d7);}};_0x3ecc60[_0x787b19(0x352)](setInterval,()=>{const _0x2d2ee1=_0x787b19;_0x3ecc60[_0x2d2ee1(0x1ea)](_0x3ecc60[_0x2d2ee1(0x459)](Date[_0x2d2ee1(0x443)](),lastActivity),_0x3ecc60[_0x2d2ee1(0x30d)](0x5,0x3c)*0x3e8)&&_0x3ecc60[_0x2d2ee1(0x31e)](roomCode,STATIC_ROOM)&&(db['ref'](_0x3ecc60[_0x2d2ee1(0x209)](_0x3ecc60[_0x2d2ee1(0x2cd)],roomCode))['update']({'active':![]}),_0x3ecc60[_0x2d2ee1(0x2b2)](alert,_0x3ecc60[_0x2d2ee1(0x2d6)]),location[_0x2d2ee1(0x29b)]());},0x7530);}function setupSidebarBackHandler(){const _0x4c8f41=_0x4e5702,_0x22e3b4={'uIHoG':'show','lRLHW':_0x4c8f41(0x1c8)};window[_0x4c8f41(0x3d9)](_0x22e3b4[_0x4c8f41(0x2d3)],()=>{const _0xe7849=_0x4c8f41,_0x304bc9=document['getElementById']('userSidebar');_0x304bc9?.['classList']['contains'](_0x22e3b4[_0xe7849(0x25b)])&&_0x304bc9[_0xe7849(0x2c3)][_0xe7849(0x21d)](_0x22e3b4[_0xe7849(0x25b)]);});}function toggleSidebar(){const _0x5448c2=_0x4e5702,_0x2df5cc={'Igldx':_0x5448c2(0x36c)},_0x244b1c=document[_0x5448c2(0x210)](_0x5448c2(0x1fe));if(!_0x244b1c[_0x5448c2(0x2c3)][_0x5448c2(0x41c)](_0x2df5cc[_0x5448c2(0x237)]))_0x244b1c['classList'][_0x5448c2(0x1cc)](_0x2df5cc[_0x5448c2(0x237)]),history[_0x5448c2(0x437)]({'sidebarOpen':!![]},'');else{_0x244b1c[_0x5448c2(0x2c3)][_0x5448c2(0x21d)](_0x5448c2(0x36c));if(history[_0x5448c2(0x468)]?.[_0x5448c2(0x41f)])history[_0x5448c2(0x2bd)]();}}function setupVisibilityAttention(){const _0x6493bc=_0x4e5702,_0x46a6ca={'wYpbw':_0x6493bc(0x1e7)};let _0x272fbe=0x0,_0x4294da=document[_0x6493bc(0x2b8)];document['addEventListener'](_0x46a6ca[_0x6493bc(0x35b)],()=>{const _0x525e86=_0x6493bc;!document['hidden']&&(document[_0x525e86(0x2b8)]=_0x4294da,_0x272fbe=0x0);}),window[_0x6493bc(0x3b9)]=function(){const _0x441353=_0x6493bc;document['hidden']&&(_0x272fbe++,document[_0x441353(0x2b8)]='('+_0x272fbe+_0x441353(0x357)+_0x4294da);};}function tryEditProfile(){const _0x5422ec={'HqUWa':function(_0x3cebf4,_0x48e04b){return _0x3cebf4(_0x48e04b);}};_0x5422ec['HqUWa'](showScreen,'editProfileScreen');}async function submitEditProfile(){const _0x4793b4=_0x4e5702,_0x35ac94={'DzKAN':'oldPasswordInput','sZzqP':'newPasswordInput','HrLmO':_0x4793b4(0x35f),'dVvUM':_0x4793b4(0x469),'gWsYk':_0x4793b4(0x3de),'EcQbC':function(_0x4826b8,_0x5bfc77){return _0x4826b8(_0x5bfc77);},'UvzPC':function(_0x68d325,_0xf924d1){return _0x68d325!==_0xf924d1;},'oYcZD':'Incorrect\x20current\x20password.','PoovN':function(_0x48270d,_0x50b2ad){return _0x48270d(_0x50b2ad);},'eCEfl':function(_0x206ae1,_0xb88804){return _0x206ae1*_0xb88804;},'XdtVZ':function(_0x4e0bf9,_0x4a96a9){return _0x4e0bf9*_0x4a96a9;},'arITh':function(_0x46f68f,_0x384671){return _0x46f68f>_0x384671;},'YQWeo':_0x4793b4(0x1a0),'GUGsi':function(_0xf47395,_0x29161a){return _0xf47395(_0x29161a);},'spjBI':_0x4793b4(0x446),'QWaYT':function(_0x1533d9,_0x24366f){return _0x1533d9(_0x24366f);},'OaESB':function(_0x2c084b,_0x52dbd2){return _0x2c084b(_0x52dbd2);},'uzmcz':_0x4793b4(0x2ea)},_0x2e1284=document[_0x4793b4(0x210)](_0x35ac94[_0x4793b4(0x234)])[_0x4793b4(0x295)],_0x4fb8a4=document[_0x4793b4(0x210)](_0x35ac94['sZzqP'])['value'],_0xd175e4=document[_0x4793b4(0x210)](_0x35ac94['HrLmO'])[_0x4793b4(0x295)][_0x4793b4(0x262)](),_0x17f5f6=document['getElementById'](_0x4793b4(0x260));if(!_0x2e1284){_0x17f5f6[_0x4793b4(0x370)]=_0x35ac94[_0x4793b4(0x40d)],_0x17f5f6[_0x4793b4(0x374)][_0x4793b4(0x48e)]=_0x35ac94['gWsYk'];return;}const _0x248976=_0x35ac94[_0x4793b4(0x19d)](sanitizeUsername,username),_0x411db6=await db[_0x4793b4(0x26a)](_0x4793b4(0x4a3)+_0x248976)[_0x4793b4(0x375)]();if(!_0x411db6['exists']()){_0x17f5f6[_0x4793b4(0x370)]='Profile\x20not\x20found.',_0x17f5f6[_0x4793b4(0x374)][_0x4793b4(0x48e)]=_0x35ac94[_0x4793b4(0x31d)];return;}const _0x16bed3=_0x411db6[_0x4793b4(0x2c4)](),_0x4384a5=await _0x35ac94[_0x4793b4(0x19d)](sha256,_0x2e1284);if(_0x35ac94[_0x4793b4(0x447)](_0x4384a5,_0x16bed3['passwordHash'])){_0x17f5f6[_0x4793b4(0x370)]=_0x35ac94[_0x4793b4(0x47f)],_0x17f5f6[_0x4793b4(0x374)][_0x4793b4(0x48e)]='block';return;}const _0x1eeffa={};if(_0x4fb8a4){const _0x377d14=await _0x35ac94['PoovN'](sha256,_0x4fb8a4);_0x1eeffa['passwordHash']=_0x377d14;}_0x35ac94[_0x4793b4(0x447)](_0xd175e4,_0x16bed3[_0x4793b4(0x457)])&&(_0x1eeffa[_0x4793b4(0x457)]=_0xd175e4);const _0x10b93b=Date[_0x4793b4(0x443)](),_0x45beab=_0x35ac94[_0x4793b4(0x3ea)](_0x35ac94[_0x4793b4(0x2c9)](0x18,0x3c),0x3c)*0x3e8,_0x57ed65=_0x35ac94[_0x4793b4(0x3ba)](_0x10b93b-(_0x16bed3['lastChanged']||0x0),_0x45beab);if(_0x57ed65&&confirm(_0x35ac94[_0x4793b4(0x3f4)])){const _0x161e6f=_0x35ac94['GUGsi'](prompt,_0x35ac94[_0x4793b4(0x418)]);_0x161e6f&&_0x161e6f['trim']()&&(_0x1eeffa['username']=_0x161e6f[_0x4793b4(0x262)](),_0x1eeffa[_0x4793b4(0x279)]=(_0x16bed3[_0x4793b4(0x279)]||[])['concat'](_0x161e6f['trim']()),_0x1eeffa[_0x4793b4(0x3ed)]=_0x10b93b);}_0x1eeffa[_0x4793b4(0x43c)]&&_0x1eeffa[_0x4793b4(0x43c)]!==_0x16bed3[_0x4793b4(0x43c)]?(await db['ref'](_0x4793b4(0x4a3)+_0x35ac94[_0x4793b4(0x282)](sanitizeUsername,_0x1eeffa[_0x4793b4(0x43c)]))[_0x4793b4(0x46d)]({..._0x16bed3,..._0x1eeffa}),await db[_0x4793b4(0x26a)]('auth/'+_0x248976)['remove'](),username=_0x1eeffa[_0x4793b4(0x43c)]):await db[_0x4793b4(0x26a)]('auth/'+_0x248976)[_0x4793b4(0x33c)](_0x1eeffa),_0x35ac94[_0x4793b4(0x1e5)](alert,_0x35ac94[_0x4793b4(0x1b4)]),location[_0x4793b4(0x29b)]();}function cancelEditProfile(){const _0x43416a=_0x4e5702,_0x402663={'LNWWp':function(_0x250a42,_0x53334c){return _0x250a42(_0x53334c);},'zCXdi':'chatScreen'};document['getElementById'](_0x43416a(0x31f))[_0x43416a(0x374)][_0x43416a(0x48e)]=_0x43416a(0x397),_0x402663[_0x43416a(0x1d6)](showScreen,_0x402663['zCXdi']);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function _0x45d4(){const _0x254ded=['qgHjC','kJBWG','YlJNx','tjHoK','jTgFn','OCzDF','jjWdE','\x20was\x20demoted','https://easy-chatroom-default-rtdb.firebaseio.com','2666629fOwOyO','mute','UinGY','Invalid\x20verification\x20code.','toLocaleTimeString','color','CEWam','split','🔕\x20Disable\x20Notifications','floor','BSnIE','10px','</span>','gWsYk','lepsa','editProfileScreen','GYcww','vNFFw','scrollHeight','users/','recordBtn','tCCrp','aTUGG','zIndex','roomStates/','0|4|1|2|3','catch','hwCsG','notifications_enabled','created','⚠️\x20Failed\x20to\x20update\x20avatar.','/announcement','caralho','WrmwC','Dppwf','EecFX','ZUrJP','TIMESTAMP','ApGWX','ZIQYx','aSAFd','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','pointer','gGlMX','update','permission','WHRXu','\x27,\x201)\x22>Mute\x201m</button>','GJeTb','Rddne','<button\x20onclick=\x22deleteUserMessages(\x27','oKpxU','entries','emailVerified','EDTer','repeat(auto-fill,\x20minmax(32px,\x201fr))','0.8rem','Passwords\x20do\x20not\x20match.','dick','\x0aUsername\x20History:\x20','gmBEC','passwordError','ABCDEFGHIJKLMNOPQRSTUVWXYZ','hZNPl','🔔\x20Enable\x20Notifications','moderator','UqnAl','lfApg','zkhkG','UitjV','<button\x20onclick=\x22demoteUser(\x27',')\x20New\x20message\x20•\x20','rooms/','wgrvP','cxGkH','wYpbw','dataset','NQPZL','slpHn','editBioInput','online','/messages/','✅\x20Profile\x20picture\x20updated!','mxImp','Create\x20Account','otario','fwCkH','tENZQ','wLANh','DqFmT','ebWgS','You\x20got\x20a\x20message\x20from\x20','show','textAlign','YTARw','BgaMB','innerText','yCzyT','MpHco','TdNUW','style','get','❌\x20Username\x20already\x20taken.','avatar_base64','user','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','GqRGE','gago','length','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','4|0|5|2|3|1','yjzqG','touchend','profileViewer','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','muted/','exists','EZZWj','\x20in\x20room\x20','bBlfC','authAvatar','authAvatarPreview','Jsqrl','bwisit','❌\x20Image\x20must\x20be\x20under\x202MB','object','AktwK','DkVhi','fontSize','WJVQV','szphZ','values','bxrsI','NyspE','jPScy','none','ivMlc','\x0aDescription:\x20','<img\x20src=\x22','dhwMw','MaFod','keypress','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','GIrnJ','random','ndIJv','zGAaU','zxgvp','size','notifToggleBtn','AjeCc','WDpWv','onloadend','roomCodeInput','Missing\x20room\x20or\x20user\x20information.','sYoMZ','database','\x0a\x20\x20\x20\x20','avatarBase64','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','replace','diNzk','\x20minutes','15LscwaB','\x27)\x22>+Mod</button>','tXEsl','\x20deleted.','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','flagPageAttention','arITh','bSmzH','PMhSt','gJhbh','TooRO','cocJX','\x27)\x22>+Admin</button>','QlnYZ','14034ddGyvJ','Error\x20checking\x20username:','baiUg','toUpperCase','WXWPh','AZQfm','data','Room\x20password\x20not\x20set.\x20Cannot\x20join.','msg','createElement','scrollTop','profileScreen','mierda','GsNFV','aBBgt','position','<br>','dvnQD','OWTMC','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','Remove\x20this\x20announcement?','zOGpO','UDDVg','addEventListener','6px','getUserMedia','\x20promoted\x20to\x20Moderator!','YSnuZ','block','ulOnR','ALJBk','roomDisplay','pxkzA','sounds/beep.mp3','\x27)\x22>Promote\x20to\x20Moderator</button>','clear','all','</button>','vxfqt','pkvJI','eCEfl','profileContent','height','lastChanged','namePreview','CtFwA','[data-msg-id=\x22','authUsername','Enter','vtNIz','YQWeo','oYiMK','🚫\x20Cannot\x20promote\x20Developers.','MUMTC','userDisplay','<li>','/paused','WYQgg','BztKJ','sPsgx','true','IhYWN','Profile\x20not\x20found.','gr8stg/','BVBZn','Register','VokId','kGFCr','hfhdq','sort','userList','left','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','authEmail','QXTda','dVvUM','phHWh','UZGEX','hSgmu','ujPHa','GQQNF','dhPjm','inline-block','[Voice\x20message]','toggleAuthMode','ETuLw','spjBI','roomChoiceScreen','EJvaS','32px','contains','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','tangina','sidebarOpen','#222','hKAkh','bNiOc','Email\x20not\x20verified.','hxydU','onstop','mvzPC','SICFP','geqwq','</small>','CiGOk','data:audio/webm;base64,','template_uadxvmp','Failed\x20to\x20save\x20profile:','requestPermission','atJib','MWcJu','onlineStatus','DSyUL','OSrpN','reaction-tray','gLwtL','\x20promoted\x20to\x20Admin!','pushState','Zihle','RlLFn','nVvZB','system-msg','username','\x20muted\x20for\x20','⚠️\x20No\x20spamming\x20allowed.','ivrBM','NBgRI','addAnnouncementBtn','deleteMessage','now','bGbfF','</span>\x20','Enter\x20your\x20new\x20username:','UvzPC','c1EG9jBJFQSM_dFHY','kZAVz','uvGCj','appendChild','2-digit','CRzld','20px','sidebarAvatarPreview','signInWithEmailAndPassword','qnUyh','5|0|1|2|4|3','wFBqM','easy-chatroom','sAqkk','NLywa','description','454VQvkvA','DmbEO','lfgle','sent','cunt','Account\x20created!\x20You\x20may\x20now\x20login.','RdbXC','JFaVm','flex','DeHrr','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','219270NcmDlK','SAXfr','toLowerCase','mxlLR','0|3|4|1|2','state','Please\x20enter\x20your\x20current\x20password.','promote','KvVwo','ucjTi','set','Already\x20have\x20an\x20account?\x20Login','710tUbovV','Admins\x20only.','050BBB66HH','sIuTm','YjWtI','153087wWeETk','gilipollas','children','announcementArea','985049198428','join','querySelector','ondataavailable','bobo','BNvTl','AYpCr','oYcZD','AXMVf','subtle','from','ejEkU','AXTmu','\x20demoted\x20to\x20user.','audio/webm','5044424nrPqng','uPzTE','bvakn','innerHTML','Verification\x20code\x20sent!','qhJPK','cabron','display','VtLdP','qnhHY','pAbHy','\x20minutes.','Type\x20a\x20message...','<button\x20onclick=\x22muteUser(\x27','umygH','content','LGyUW','error','authPassword','0123456789','JahZH','FZsmf','QSQuX','profileDescriptionInput','\x20is\x20typing...','passwordScreen','6|9|10|0|1|5|2|12|7|8|11|4|3','auth','auth/','zsicw','files','oRGUx','kppaV','YQiMM','includes','div','MwcBL','KwMVO','stopPropagation','OjTbN','\x0aLast\x20Changed:\x20','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','messages','You\x20got\x20messages\x20from\x20','EcQbC','absolute','JdKZd','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','-45px','Failed\x20to\x20register\x20user\x20into\x20room.','GJhsM','alignItems','QOeNc','NXcLU','authError','HCdys','LEZXU','service_qfnrrrl','hBWyd','\x20was\x20muted\x20for\x20','sGvPJ','zUwDv','zqozz','2px\x20solid\x20red','96724gzKMpZ','NaoLP','\x27,\x2010)\x22>Mute\x2010m</button>','uzmcz','disabled','jGLgD','\x20🔧\x20','Incorrect\x20password','some','SBDRq','UCdIw','jklDo','center','ssqEq','profile_description','moderators/','1:985049198428:web:d0eb7e2de39887710c9b99','chat_username','TFYeH','Enter\x20email\x20and\x20username\x20first.','email','522aeEOfb','child_changed','popstate','padding','authTitle','ayHiw','add','JwVOi','<span\x20style=\x22margin-right:6px;\x22>','</div>','src','btHSK','PaqjY','uUndR','fFGED','sender','LNWWp','<button>','YLOah','normal','ulol','ZIdYh','asRSi','cGzyu','raCcG','WcYsZ','orDKm','qvSED','CBNTG','#00ff88','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','OaESB','\x27)\x22>','visibilitychange','staticPasswordInput','false','EQhWB','ExzJK','llYeC','signOut','🎙️','ffBRs','DKeEZ','wOnIN','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','XsfJH','gridTemplateColumns','AuDcY','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','usernameScreen','dwaiY','6px\x20auto','relative','fpcKZ','reaction-box','then','userSidebar','0\x202px\x206px\x20rgba(0,0,0,0.5)','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','tGbSo','GSOae','margin','eTlUP','marginTop','setItem','Username\x20not\x20found.','CTmNP','FHNiH','BDcGY','fIfQg','OQwax','EwcJG','XQNoB','mCaix','getElementById','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','result','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','audioBase64','kRQNd','BvYhg','orderByChild','gDLyY','/messages','match','system','cESXk','remove','rgTcr','gap','LqtiV','RtftT','boxShadow','KoCJZ','Fill\x20all\x20fields.','fDPzA','antispam/','YUhIr','drrql','WcjNG','send','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','cnjtL','unknown','JPGmV','etwQb','Kzyey','key','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','<small>','DzKAN','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','UxFuS','Igldx','start','aWqPN','\x20is\x20online','UgdGM','padStart','Enter\x20a\x20valid\x20room\x20code','<button\x20onclick=\x22promoteToAdmin(\x27','LhgvP','pendejo','120px','dqMdJ','ghluh','OSLfi','msgInput','eyVYU','btKiN','eTKQr','adminControlsSection','click','mIwkE','admins/','rzePH','authVerificationCode','easy-chatroom.firebaseapp.com','QNhKL','No\x20bio\x20set','Enter\x20username\x20and\x20password.','slice','ajqLK','MovKu','KQRpu','<div>','RmZyt','JoPbj','rooms','uIHoG','ALrMH','fdp','pLfbE','authPasswordConfirm','editProfileError','<img\x20src=\x22data:image/png;base64,','trim','kMsoe','<button\x20onclick=\x22promoteToModerator(\x27','message','lTsfO','\x20was\x20promoted\x20to\x20Admin','🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','VIvsc','ref','MMktg','VVDDz','userOptions-','PFypT','substr','justifyContent','ncmMU','QMPxY','top','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','MDlok','FXSWw','VbHpM','VihER','usernameHistory','OFhQe','DqMeh','xdGXg','No\x20room\x20code\x20available\x20for\x20private\x20rooms','SHA-256','Room\x20is\x20currently\x20paused.','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','child_added','QWaYT','UMjNC','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','hdyjX','pLzdc','mod','WIpsU','bitch','fuck','G-QDESJ2WR42','pausedOverlay','fgrZR','typing/','lJibf','\x27)\x22>Delete\x20Messages</button>','16px','aUdXw','/reactions','background','value','Error\x20sending\x20code.\x20Check\x20emailJS\x20keys.','hkJVS','\x27)\x22>Demote</button>','[Unknown]','NqPKQ','reload','Czjua','NxKpq','mSyze','maxWidth','dev','timestamp','ojDqq','messaging','pEVAP','New\x20Chat\x20Message','lFNZQ','NDzfJ','shit','VzDmj','/avatarBase64','aYNit','muteUntil','aUvvv','getItem','chatScreen','placeholder','wfHkj','NmxAq','FAWit','push','text','initializeApp','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','title','GpkjU','MmWrV','FQGJI','data:image/png;base64,','back','cLAry','ElKHJ','\x0aName:\x20','aBpuB','KFMej','classList','val','KLHfi','readAsDataURL','audioUrl','authScreen','XdtVZ','mqMeO','COecL','40816hsgUpg','vnhJt','\x20was\x20promoted\x20to\x20Moderator','putangina','mQtbC','whqsn','KHAag','lRLHW','detail','forEach','rYIDU','krVjb','border','ncVQd','className','saITt','digest','<audio\x20controls\x20src=\x22','#aaa','hDCfq','msgId','wwIbn','qCIsW','antispamBlocked/','rDuGn','CQVNS','FubrF','4px','udrVD','diGHR','✅\x20Profile\x20updated!\x20Please\x20reload.','filter','toString','OLwYz','wHzsQ','FxUgz','map','<a\x20href=\x22','puta','antispam','typing','once','JTuFN','granted','Please\x20enter\x20the\x20password.','QAwdh','admin','xNrIA','volume','fIFpX','authDescription','JaiaC','init','play','bcMAX','apLAj','BojMX','head','No\x20changes\x20yet'];_0x45d4=function(){return _0x254ded;};return _0x45d4();}function listenForUserList(){const _0x24d521=_0x4e5702,_0x1f64fe={'JFaVm':function(_0x3e8139,_0x512f98){return _0x3e8139(_0x512f98);},'NxKpq':function(_0x172f37,_0x10f61c){return _0x172f37(_0x10f61c);},'bjLWG':_0x24d521(0x295)};db[_0x24d521(0x26a)](_0x24d521(0x323)+roomCode)['on'](_0x1f64fe['bjLWG'],async _0x695691=>{const _0x5360ac=_0x24d521;if(!_0x695691['exists']())return;const _0x5e57c5=_0x695691[_0x5360ac(0x2c4)]();for(const _0xb55044 in previousUsers){if(!_0x5e57c5[_0xb55044])_0x5e57c5[_0xb55044]=previousUsers[_0xb55044];}_0x1f64fe[_0x5360ac(0x45f)](renderUserLists,_0x5e57c5),previousUsers=_0x5e57c5,await loadRoomRoles(),_0x1f64fe[_0x5360ac(0x29d)](renderUserLists,_0x5e57c5);});}function trackPresence(){const _0x398c96=_0x4e5702,_0x19ff1a={'EwcJG':function(_0xbc42c0){return _0xbc42c0();},'YUhIr':_0x398c96(0x21b),'COecL':function(_0x262f85,_0x2839f3){return _0x262f85||_0x2839f3;},'KvVwo':function(_0x352b9f,_0x25433f){return _0x352b9f||_0x25433f;},'GYaKQ':function(_0x21108c,_0x9cab7c){return _0x21108c||_0x9cab7c;},'dwaiY':_0x398c96(0x295)};if(_0x19ff1a[_0x398c96(0x2cb)](!username,!roomCode))return;const _0x104367=sanitizeUsername(username),_0x57774c=db[_0x398c96(0x26a)]('users/'+roomCode+'/'+_0x104367),_0x502655={'username':username,'avatarBase64':_0x19ff1a[_0x398c96(0x46b)](avatarBase64,''),'description':_0x19ff1a['GYaKQ'](userDescription,''),'online':!![],'lastOnline':firebase[_0x398c96(0x3ad)]['ServerValue'][_0x398c96(0x335)]};_0x57774c[_0x398c96(0x2f5)](_0x19ff1a[_0x398c96(0x1f8)])[_0x398c96(0x1fd)](_0x9de894=>{const _0x275b83=_0x398c96,_0x2971b2=_0x9de894[_0x275b83(0x2c4)]()?.[_0x275b83(0x360)];_0x57774c[_0x275b83(0x46d)](_0x502655)[_0x275b83(0x1fd)](()=>{const _0x17dc09=_0x275b83;_0x19ff1a[_0x17dc09(0x20d)](updateOnlineIndicator);if(!_0x2971b2){const _0x39b5f0=db[_0x17dc09(0x26a)]()['push']()[_0x17dc09(0x231)];db['ref'](_0x17dc09(0x358)+roomCode+_0x17dc09(0x361)+_0x39b5f0)[_0x17dc09(0x46d)]({'msg':username+_0x17dc09(0x23a),'sender':_0x19ff1a[_0x17dc09(0x227)],'senderId':_0x19ff1a['YUhIr'],'timestamp':Date[_0x17dc09(0x443)]()});}_0x57774c['onDisconnect']()['update']({'online':![],'lastOnline':Date[_0x17dc09(0x443)]()});});});}function uploadSidebarAvatar(_0x4d2aad){const _0x401522=_0x4e5702,_0x3ce312={'szphZ':function(_0x314090,_0x39f5ea){return _0x314090(_0x39f5ea);},'eTKQr':function(_0x450a32,_0x2697bf){return _0x450a32(_0x2697bf);},'IFCKt':_0x401522(0x32e)};if(!_0x4d2aad[_0x401522(0x4a5)]['length'])return;const _0x368dcd=_0x4d2aad[_0x401522(0x4a5)][0x0],_0x4916d6=new FileReader();_0x4916d6['onloadend']=async()=>{const _0x51f8ef=_0x401522,_0x2b445f=_0x4916d6[_0x51f8ef(0x212)][_0x51f8ef(0x317)](',')[0x1];document[_0x51f8ef(0x210)](_0x51f8ef(0x44f))[_0x51f8ef(0x1d0)]=_0x4916d6['result'],document[_0x51f8ef(0x210)](_0x51f8ef(0x44f))[_0x51f8ef(0x374)]['display']=_0x51f8ef(0x3de);try{const _0x1c55a9=_0x3ce312[_0x51f8ef(0x392)](sanitizeUsername,username);await db[_0x51f8ef(0x26a)](_0x51f8ef(0x4a3)+_0x1c55a9+_0x51f8ef(0x2aa))[_0x51f8ef(0x46d)](_0x2b445f),_0x3ce312[_0x51f8ef(0x248)](alert,_0x51f8ef(0x362));}catch(_0x41cbb5){console[_0x51f8ef(0x498)](_0x41cbb5),_0x3ce312[_0x51f8ef(0x248)](alert,_0x3ce312['IFCKt']);}},_0x4916d6['readAsDataURL'](_0x368dcd);}function muteUser(_0x18baf9,_0x19b038){const _0xb829ac=_0x4e5702,_0x17153e={'GYcww':function(_0x558590,_0x54b371){return _0x558590(_0x54b371);},'Dppwf':function(_0x2a17ad,_0x1322dc){return _0x2a17ad+_0x1322dc;}},_0x2259d8=_0x17153e[_0xb829ac(0x332)](Date[_0xb829ac(0x443)](),_0x19b038*0x3c*0x3e8);db['ref'](_0xb829ac(0x383)+roomCode+'/'+_0x17153e['GYcww'](sanitizeUsername,_0x18baf9))['set']({'muteUntil':_0x2259d8})[_0xb829ac(0x1fd)](()=>{const _0x24bf22=_0xb829ac;_0x17153e[_0x24bf22(0x320)](alert,_0x18baf9+_0x24bf22(0x43d)+_0x19b038+_0x24bf22(0x492)),_0x17153e[_0x24bf22(0x320)](addSystemMessage,_0x18baf9+_0x24bf22(0x1ac)+_0x19b038+_0x24bf22(0x3b3));});}function unmuteUser(_0x12977e){const _0x5e91b3=_0x4e5702,_0x4594d2={'KHAag':function(_0xe4c172,_0x5d07cc){return _0xe4c172(_0x5d07cc);},'jTgFn':function(_0x3bfc75,_0x16a4b2){return _0x3bfc75(_0x16a4b2);}};if(!isRoomAdmin)return _0x4594d2[_0x5e91b3(0x2d2)](alert,_0x5e91b3(0x470));db[_0x5e91b3(0x26a)]('muted/'+roomCode+'/'+_0x4594d2[_0x5e91b3(0x30b)](sanitizeUsername,_0x12977e))[_0x5e91b3(0x21d)]();}function updateOnlineIndicator(){const _0x6ab7dc=_0x4e5702,_0x5a92c0={'whqsn':'●\x20Online','qCIsW':_0x6ab7dc(0x1e3)},_0x48975c=document[_0x6ab7dc(0x210)](_0x6ab7dc(0x431));_0x48975c[_0x6ab7dc(0x370)]=_0x5a92c0[_0x6ab7dc(0x2d1)],_0x48975c[_0x6ab7dc(0x374)][_0x6ab7dc(0x315)]=_0x5a92c0[_0x6ab7dc(0x2e2)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x35d78a){const _0x4892c6=_0x4e5702,_0x86811e={'FJOxC':function(_0x5bc3d0,_0x2e3690){return _0x5bc3d0(_0x2e3690);},'AjeCc':_0x4892c6(0x251),'kppaV':_0x4892c6(0x306),'krVjb':_0x4892c6(0x381),'huRQL':'block'};db[_0x4892c6(0x26a)](_0x4892c6(0x4a3)+_0x35d78a)[_0x4892c6(0x375)]()[_0x4892c6(0x1fd)](_0x59d4d6=>{const _0x99a2bb=_0x4892c6;if(!_0x59d4d6[_0x99a2bb(0x384)]())return _0x86811e['FJOxC'](alert,_0x99a2bb(0x400));const _0x503607=_0x59d4d6[_0x99a2bb(0x2c4)](),_0x1301f4=(_0x99a2bb(0x2c0)+_0x503607[_0x99a2bb(0x43c)]+_0x99a2bb(0x399)+(_0x503607[_0x99a2bb(0x457)]||_0x86811e[_0x99a2bb(0x3a7)])+_0x99a2bb(0x34b)+((_0x503607[_0x99a2bb(0x279)]||[])[_0x99a2bb(0x479)](',\x20')||_0x86811e[_0x99a2bb(0x4a7)])+_0x99a2bb(0x198)+(_0x503607['lastChanged']?new Date(_0x503607[_0x99a2bb(0x3ed)])['toLocaleString']():'Unknown')+_0x99a2bb(0x3ae))[_0x99a2bb(0x262)]();document['getElementById'](_0x99a2bb(0x3eb))[_0x99a2bb(0x370)]=_0x1301f4,document[_0x99a2bb(0x210)](_0x86811e[_0x99a2bb(0x2d7)])[_0x99a2bb(0x374)][_0x99a2bb(0x48e)]=_0x86811e['huRQL'];});}function initUsernameFlow(){const _0x5c3b69=_0x4e5702,_0x1883fe={'MMktg':function(_0x21fdb1,_0x41cdf2){return _0x21fdb1(_0x41cdf2);},'LqtiV':_0x5c3b69(0x3cd),'EJvaS':function(_0x289b82,_0x130638){return _0x289b82(_0x130638);},'JoPbj':_0x5c3b69(0x419)},_0x253a5e=localStorage['getItem'](_0x5c3b69(0x1c2));!_0x253a5e?_0x1883fe[_0x5c3b69(0x26b)](showScreen,_0x1883fe[_0x5c3b69(0x220)]):(username=_0x253a5e,document[_0x5c3b69(0x210)]('namePreview')[_0x5c3b69(0x370)]=username,_0x1883fe[_0x5c3b69(0x41a)](showScreen,_0x1883fe[_0x5c3b69(0x259)]));}function closeProfile(){const _0x4f531c=_0x4e5702,_0x29db6a={'oYiMK':_0x4f531c(0x381),'tENZQ':'none'};document['getElementById'](_0x29db6a[_0x4f531c(0x3f5)])['style']['display']=_0x29db6a[_0x4f531c(0x367)];}function resetWebsiteData(){const _0x3f47e6=_0x4e5702,_0x27a729={'GqRGE':_0x3f47e6(0x32c),'drrql':function(_0x1c1a0f,_0xff9d4){return _0x1c1a0f||_0xff9d4;}};try{const _0x148138=localStorage[_0x3f47e6(0x2ae)](_0x3f47e6(0x32c));localStorage[_0x3f47e6(0x3e5)](),sessionStorage[_0x3f47e6(0x3e5)](),_0x148138&&localStorage[_0x3f47e6(0x206)](_0x27a729[_0x3f47e6(0x37a)],_0x148138);}catch(_0x102873){}if(_0x27a729[_0x3f47e6(0x228)](!username,!roomCode)){const _0x32fea6=_0x3f47e6(0x467)['split']('|');let _0x5f3493=0x0;while(!![]){switch(_0x32fea6[_0x5f3493++]){case'0':username=null;continue;case'1':pendingMessages=[];continue;case'2':clientId='_'+Math[_0x3f47e6(0x3a1)]()[_0x3f47e6(0x2ec)](0x24)['substr'](0x2,0x9);continue;case'3':roomCode=null;continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x28b8d9=_0x4e5702,_0xb09870={'kGFCr':function(_0x2d453c,_0xd009b6){return _0x2d453c(_0xd009b6);},'WXWPh':'Enter\x20Announcement\x20Text:'},_0x38b4fd=_0xb09870[_0x28b8d9(0x405)](prompt,_0xb09870[_0x28b8d9(0x3c6)]);if(!_0x38b4fd)return;db[_0x28b8d9(0x26a)]('rooms/'+roomCode+_0x28b8d9(0x32f))[_0x28b8d9(0x46d)]({'text':_0x38b4fd,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x1f72c7=_0x4e5702,_0x2a2ebe={'kMsoe':_0x1f72c7(0x477),'zqozz':_0x1f72c7(0x295)},_0x247297=db[_0x1f72c7(0x26a)](_0x1f72c7(0x358)+roomCode+_0x1f72c7(0x32f));_0x247297['on'](_0x2a2ebe[_0x1f72c7(0x1af)],_0xb23ec7=>{const _0x391221=_0x1f72c7,_0x41d5d6=_0xb23ec7['val']();if(!_0x41d5d6){document[_0x391221(0x210)](_0x2a2ebe[_0x391221(0x263)])['innerText']='';return;}const _0x243079=document[_0x391221(0x210)](_0x2a2ebe[_0x391221(0x263)]);_0x243079[_0x391221(0x370)]=''+_0x41d5d6[_0x391221(0x2b5)];});}document[_0x4e5702(0x210)](_0x4e5702(0x477))['addEventListener'](_0x4e5702(0x24a),_0x571311=>{const _0x45fd5e=_0x4e5702,_0x3d15bd={'ZpKCq':function(_0x28af96,_0x1ffd1c){return _0x28af96(_0x1ffd1c);},'sPsgx':'Remove\x20Announcement?'};_0x571311[_0x45fd5e(0x2d4)]===0x3&&isRoomAdmin&&(_0x3d15bd['ZpKCq'](confirm,_0x3d15bd[_0x45fd5e(0x3fd)])&&db[_0x45fd5e(0x26a)](_0x45fd5e(0x358)+roomCode+_0x45fd5e(0x32f))[_0x45fd5e(0x21d)]());}),document[_0x4e5702(0x210)](_0x4e5702(0x245))[_0x4e5702(0x3d9)]('input',()=>{const _0x22784c=_0x4e5702,_0x37e5c3={'IeXxT':_0x22784c(0x245),'JTuFN':_0x22784c(0x1b0)},_0xe91ced=document[_0x22784c(0x210)](_0x37e5c3['IeXxT']);_0x1f89ff?_0xe91ced[_0x22784c(0x374)][_0x22784c(0x2d8)]=_0x37e5c3['JTuFN']:_0xe91ced[_0x22784c(0x374)]['border']='';const _0x34a4bc=_0xe91ced['value'][_0x22784c(0x465)](),_0x1f89ff=swearWords[_0x22784c(0x1b9)](_0x50116f=>_0x34a4bc[_0x22784c(0x4a9)](_0x50116f));_0x1f89ff?(_0xe91ced[_0x22784c(0x374)][_0x22784c(0x2d8)]=_0x37e5c3[_0x22784c(0x2f6)],sendBtn[_0x22784c(0x1b5)]=!![]):(_0xe91ced[_0x22784c(0x374)]['border']='',_0x1f89ff?_0xe91ced[_0x22784c(0x374)][_0x22784c(0x2d8)]=_0x37e5c3[_0x22784c(0x2f6)]:_0xe91ced[_0x22784c(0x374)][_0x22784c(0x2d8)]='');});function muteUser(_0x3e6345,_0x19578d){const _0x2646c7=_0x4e5702,_0x2d0711={'AJofg':function(_0x3c264e,_0x4da4ed){return _0x3c264e(_0x4da4ed);},'ucjTi':function(_0x1991e7,_0x5da41a){return _0x1991e7+_0x5da41a;},'cocJX':function(_0x516c0c,_0x4275f1){return _0x516c0c*_0x4275f1;},'MpHco':function(_0x9e2d43,_0x85b487){return _0x9e2d43*_0x85b487;},'srbJs':function(_0x6ebea7,_0x370fdb){return _0x6ebea7(_0x370fdb);}},_0x15e63b=_0x2d0711[_0x2646c7(0x46c)](Date[_0x2646c7(0x443)](),_0x2d0711[_0x2646c7(0x3bf)](_0x2d0711[_0x2646c7(0x372)](_0x19578d,0x3c),0x3e8));db[_0x2646c7(0x26a)]('muted/'+roomCode+'/'+_0x2d0711['srbJs'](sanitizeUsername,_0x3e6345))[_0x2646c7(0x46d)]({'muteUntil':_0x15e63b})[_0x2646c7(0x1fd)](()=>{const _0x416b40=_0x2646c7;_0x2d0711['AJofg'](alert,_0x3e6345+_0x416b40(0x43d)+_0x19578d+_0x416b40(0x492));});}function deleteUserMessages(_0xce0951){const _0x453786=_0x4e5702,_0xe02962={'ffBRs':function(_0x4bc3d6,_0x508626){return _0x4bc3d6(_0x508626);},'pkEQP':'sender'};db[_0x453786(0x26a)](_0x453786(0x358)+roomCode+_0x453786(0x219))[_0x453786(0x217)](_0xe02962['pkEQP'])['equalTo'](_0xce0951)['get']()[_0x453786(0x1fd)](_0x5a0f25=>{const _0x5b50e9=_0x453786;_0x5a0f25[_0x5b50e9(0x2d5)](_0x1e2602=>{const _0x4dc1fb=_0x5b50e9;db[_0x4dc1fb(0x26a)](_0x4dc1fb(0x358)+roomCode+_0x4dc1fb(0x361)+_0x1e2602[_0x4dc1fb(0x231)])[_0x4dc1fb(0x21d)]();}),_0xe02962[_0x5b50e9(0x1ef)](alert,'Messages\x20by\x20'+_0xce0951+_0x5b50e9(0x3b7));});}function pauseRoom(_0x2cd892){const _0x4cf53d=_0x4e5702,_0x1e06d6={'JwVOi':_0x4cf53d(0x28c),'GpkjU':'block','OWTMC':'none'};db['ref'](_0x4cf53d(0x358)+roomCode+_0x4cf53d(0x3fa))['on'](_0x4cf53d(0x295),_0x307cf6=>{const _0x451ddf=_0x4cf53d,_0xbed06e=_0x307cf6[_0x451ddf(0x2c4)]();document[_0x451ddf(0x210)](_0x1e06d6[_0x451ddf(0x1cd)])[_0x451ddf(0x374)][_0x451ddf(0x48e)]=_0xbed06e?_0x1e06d6[_0x451ddf(0x2b9)]:_0x1e06d6[_0x451ddf(0x3d4)];});}function canPerformAction(_0x526975){const _0x2ee565=_0x4e5702,_0x249f0c={'DSyUL':function(_0x518f2f,_0x19780b){return _0x518f2f===_0x19780b;},'HCdys':function(_0x4c3fe0,_0x531275){return _0x4c3fe0===_0x531275;},'wfHkj':_0x2ee565(0x311),'Czjua':'admin','AZwdM':function(_0x1fbd68,_0x532c6d){return _0x1fbd68===_0x532c6d;},'HLYJp':_0x2ee565(0x351),'TKfSu':_0x2ee565(0x287),'BvYhg':'deleteMessage','kRQNd':function(_0x1ef0f9,_0x1fa4cd){return _0x1ef0f9===_0x1fa4cd;},'ExzJK':_0x2ee565(0x46a),'gwCWu':function(_0x5f0798,_0xc8b30d){return _0x5f0798===_0xc8b30d;},'rDuGn':function(_0x42a579,_0x4247bc){return _0x42a579===_0x4247bc;},'orDKm':function(_0x4de1c0,_0x51f3a9){return _0x4de1c0===_0x51f3a9;}};if(_0x249f0c[_0x2ee565(0x432)](role,_0x2ee565(0x2a0)))return!![];if(_0x249f0c[_0x2ee565(0x1a8)](_0x526975,_0x249f0c[_0x2ee565(0x2b1)]))return _0x249f0c[_0x2ee565(0x432)](role,_0x249f0c[_0x2ee565(0x29c)])||_0x249f0c['AZwdM'](role,_0x249f0c['HLYJp'])||role===_0x249f0c['TKfSu'];if(_0x249f0c['DSyUL'](_0x526975,_0x249f0c[_0x2ee565(0x216)])||_0x249f0c[_0x2ee565(0x215)](_0x526975,_0x249f0c['ExzJK']))return _0x249f0c['gwCWu'](role,_0x249f0c[_0x2ee565(0x29c)]);if(_0x249f0c[_0x2ee565(0x2e4)](_0x526975,_0x249f0c[_0x2ee565(0x1eb)]))return _0x249f0c[_0x2ee565(0x1e0)](role,_0x249f0c[_0x2ee565(0x29c)]);return![];}const html=Object[_0x4e5702(0x393)](roomUsers)[_0x4e5702(0x2f0)](_0x300f5b=>{const _0x1e8945=_0x4e5702,_0xfc6c12={'hwCsG':function(_0x3a5508,_0x39724e){return _0x3a5508(_0x39724e);},'JdKZd':function(_0x323838,_0x3455e4){return _0x323838(_0x3455e4);},'dhPjm':_0x1e8945(0x311),'uMfkZ':_0x1e8945(0x442),'sYoMZ':function(_0x4e7ba8,_0x4d7738){return _0x4e7ba8===_0x4d7738;},'ayHiw':'dev'},_0x2ca3fe=_0xfc6c12[_0x1e8945(0x32b)](sanitizeUsername,_0x300f5b[_0x1e8945(0x43c)]),_0xfdd9f=[];if(_0x2ca3fe!==_0xfc6c12[_0x1e8945(0x32b)](sanitizeUsername,username)){_0xfc6c12[_0x1e8945(0x19f)](canPerformAction,_0xfc6c12[_0x1e8945(0x413)])&&(_0xfdd9f['push'](_0x1e8945(0x494)+_0x2ca3fe+'\x27,\x205)\x22>Mute\x205m</button>'),_0xfdd9f[_0x1e8945(0x2b4)](_0x1e8945(0x494)+_0x2ca3fe+_0x1e8945(0x1b3)));_0xfc6c12[_0x1e8945(0x19f)](canPerformAction,_0xfc6c12['uMfkZ'])&&_0xfdd9f['push'](_0x1e8945(0x342)+_0x2ca3fe+_0x1e8945(0x290));if(_0xfc6c12[_0x1e8945(0x3ac)](role,_0xfc6c12[_0x1e8945(0x1cb)]))_0xfdd9f[_0x1e8945(0x2b4)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x2ca3fe+_0x1e8945(0x3e4)),_0xfdd9f[_0x1e8945(0x2b4)](_0x1e8945(0x23e)+_0x2ca3fe+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0xfc6c12['sYoMZ'](role,_0x1e8945(0x2fa))&&_0xfdd9f[_0x1e8945(0x2b4)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x2ca3fe+_0x1e8945(0x3e4));}return _0x1e8945(0x382)+_0x300f5b[_0x1e8945(0x43c)]+'\x20'+_0xfc6c12['JdKZd'](getRoleTag,_0xfc6c12[_0x1e8945(0x19f)](sanitizeUsername,_0x300f5b['username']))+_0x1e8945(0x379)+_0x2ca3fe+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0xfdd9f[_0x1e8945(0x479)]('')+_0x1e8945(0x280)+_0x2ca3fe+_0x1e8945(0x199);})[_0x4e5702(0x479)]('');function promoteToModerator(_0x2a5517){const _0x41c8ac=_0x4e5702,_0x47ca1f={'NDzfJ':function(_0x36b4d7,_0xdaf412){return _0x36b4d7(_0xdaf412);},'cGzyu':function(_0xb3f6f2,_0xeb1d44){return _0xb3f6f2(_0xeb1d44);},'btKiN':_0x41c8ac(0x3f6),'zxgvp':function(_0x589d59,_0x4ac8b3){return _0x589d59!==_0x4ac8b3;},'ekVRB':function(_0x59af53,_0x413eaf){return _0x59af53!==_0x413eaf;}},_0x6de74=_0x47ca1f[_0x41c8ac(0x1dd)](sanitizeUsername,_0x2a5517);if(isProtected(_0x6de74))return alert(_0x47ca1f[_0x41c8ac(0x247)]);if(_0x47ca1f[_0x41c8ac(0x3a4)](role,_0x41c8ac(0x2a0))&&_0x47ca1f['ekVRB'](role,'admin')){alert(_0x41c8ac(0x39e));return;}db['ref']('moderators/'+roomCode+'/'+_0x6de74)['set'](!![])[_0x41c8ac(0x1fd)](()=>{const _0x38edaf=_0x41c8ac;_0x47ca1f[_0x38edaf(0x2a7)](alert,_0x2a5517+_0x38edaf(0x3dc)),_0x47ca1f[_0x38edaf(0x2a7)](addSystemMessage,_0x2a5517+_0x38edaf(0x2ce));});}function promoteToAdmin(_0x38709d){const _0x5b0ca8=_0x4e5702,_0x4be545={'NqPKQ':function(_0x213e53,_0x180a81){return _0x213e53(_0x180a81);},'ncVQd':function(_0x1d38ec,_0x6e1366){return _0x1d38ec(_0x6e1366);},'rgTcr':function(_0x22c83f,_0x44b9af){return _0x22c83f(_0x44b9af);},'BSnIE':function(_0x16d9f5,_0x285c8d){return _0x16d9f5(_0x285c8d);},'EDTer':_0x5b0ca8(0x3f6),'gJhbh':_0x5b0ca8(0x2a0),'wgrvP':'Only\x20Devs\x20can\x20promote\x20to\x20Admin.'},_0x128f8b=sanitizeUsername(_0x38709d);if(_0x4be545[_0x5b0ca8(0x21e)](isProtected,_0x128f8b))return _0x4be545[_0x5b0ca8(0x31a)](alert,_0x4be545[_0x5b0ca8(0x346)]);if(role!==_0x4be545[_0x5b0ca8(0x3bd)]){alert(_0x4be545[_0x5b0ca8(0x359)]);return;}db[_0x5b0ca8(0x26a)]('admins/'+roomCode+'/'+_0x128f8b)[_0x5b0ca8(0x46d)](!![])[_0x5b0ca8(0x1fd)](()=>{const _0x268155=_0x5b0ca8;_0x4be545[_0x268155(0x29a)](alert,_0x38709d+_0x268155(0x436)),_0x4be545[_0x268155(0x2d9)](addSystemMessage,_0x38709d+_0x268155(0x267));});}function toggleUserOptions(_0x27cf59){const _0x5367c7=_0x4e5702,_0x223c61={'EZZWj':function(_0x544ad8,_0x4bb63f){return _0x544ad8===_0x4bb63f;},'zPNMa':_0x5367c7(0x2a0),'mxlLR':_0x5367c7(0x2fa),'zUwDv':function(_0x4ebe62,_0x2b920f){return _0x4ebe62===_0x2b920f;},'ZIdYh':_0x5367c7(0x397),'ZUrJP':_0x5367c7(0x3de)};(_0x223c61[_0x5367c7(0x385)](role,_0x223c61['zPNMa'])||_0x223c61[_0x5367c7(0x385)](role,_0x223c61[_0x5367c7(0x466)]))&&controls[_0x5367c7(0x2b4)]('<button\x20onclick=\x22demoteUser(\x27'+safeName+'\x27)\x22>Demote</button>');const _0x399085=document['getElementById'](_0x5367c7(0x26d)+_0x27cf59);_0x223c61[_0x5367c7(0x1ae)](_0x399085['style'][_0x5367c7(0x48e)],_0x223c61[_0x5367c7(0x1db)])?_0x399085[_0x5367c7(0x374)][_0x5367c7(0x48e)]=_0x223c61[_0x5367c7(0x334)]:_0x399085['style'][_0x5367c7(0x48e)]='none';}function demoteUser(_0xc5e695){const _0x1a704e=_0x4e5702,_0x486aca={'LEZXU':function(_0x4d09d0,_0x1811b3){return _0x4d09d0(_0x1811b3);},'uJbKf':function(_0x10f5a6,_0x25811c){return _0x10f5a6===_0x25811c;},'tXEsl':'dev','MwcBL':function(_0x38386c,_0x512709){return _0x38386c===_0x512709;},'YjWtI':_0x1a704e(0x2fa),'XmsWr':function(_0x34c809,_0x29cb6d){return _0x34c809(_0x29cb6d);},'aYNit':'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(_0x486aca['LEZXU'](isProtected,_0xc5e695))return alert(_0x1a704e(0x3b8));if(_0x486aca['uJbKf'](role,_0x486aca[_0x1a704e(0x3b6)]))db[_0x1a704e(0x26a)](_0x1a704e(0x24c)+roomCode+'/'+_0xc5e695)[_0x1a704e(0x21d)](),db['ref']('moderators/'+roomCode+'/'+_0xc5e695)[_0x1a704e(0x21d)](),_0x486aca[_0x1a704e(0x1a9)](alert,_0xc5e695+'\x20demoted\x20to\x20user.'),addSystemMessage(_0xc5e695+_0x1a704e(0x30e));else _0x486aca[_0x1a704e(0x194)](role,_0x486aca[_0x1a704e(0x473)])?(db[_0x1a704e(0x26a)](_0x1a704e(0x1c0)+roomCode+'/'+_0xc5e695)[_0x1a704e(0x21d)](),alert(_0xc5e695+_0x1a704e(0x485)),_0x486aca['XmsWr'](addSystemMessage,_0xc5e695+_0x1a704e(0x30e))):alert(_0x486aca[_0x1a704e(0x2ab)]);}function getRoleTag(_0x4ff6a6){const _0x12c390=_0x4e5702,_0x4c6e1a={'dMmuq':function(_0x2a2731,_0x563cd1){return _0x2a2731(_0x563cd1);}},_0x1efb35=_0x4c6e1a['dMmuq'](sanitizeUsername,_0x4ff6a6);if(globalDevs[_0x12c390(0x4a9)](_0x1efb35))return _0x12c390(0x3d5);if(roomAdmins['includes'](_0x1efb35))return _0x12c390(0x3b0);if(roomModerators[_0x12c390(0x4a9)](_0x1efb35))return _0x12c390(0x462);return'';}async function loadRoomRoles(){const _0x5d980d=_0x4e5702,_0x398096={'cESXk':function(_0x5d5743,_0x84c2c){return _0x5d5743===_0x84c2c;},'KwMVO':_0x5d980d(0x2a0),'xdGXg':function(_0x2fb11c,_0x3e1402){return _0x2fb11c(_0x3e1402);},'bNiOc':_0x5d980d(0x4a2),'pAbHy':_0x5d980d(0x2fa),'HZXcF':'moderator','bvakn':_0x5d980d(0x378)},_0x4b14b2=_0x398096[_0x5d980d(0x27c)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x4d171c=await db[_0x5d980d(0x26a)](_0x398096[_0x5d980d(0x422)])[_0x5d980d(0x375)]();_0x4d171c[_0x5d980d(0x2d5)](_0x55ebe9=>{const _0x2c5f5d=_0x5d980d;if(_0x398096[_0x2c5f5d(0x21c)](_0x55ebe9[_0x2c5f5d(0x2c4)]()['role'],_0x398096[_0x2c5f5d(0x195)]))globalDevs[_0x2c5f5d(0x2b4)](_0x55ebe9[_0x2c5f5d(0x231)]);});const _0x1fa9d3=await db['ref'](_0x5d980d(0x24c)+roomCode)[_0x5d980d(0x375)]();_0x1fa9d3['exists']()&&_0x1fa9d3[_0x5d980d(0x2d5)](_0x300fcf=>roomAdmins[_0x5d980d(0x2b4)](_0x300fcf[_0x5d980d(0x231)]));const _0x151f9e=await db[_0x5d980d(0x26a)]('moderators/'+roomCode)['get']();_0x151f9e[_0x5d980d(0x384)]()&&_0x151f9e['forEach'](_0x167951=>roomModerators[_0x5d980d(0x2b4)](_0x167951[_0x5d980d(0x231)]));if(globalDevs[_0x5d980d(0x4a9)](_0x4b14b2))role=_0x398096['KwMVO'];else{if(roomAdmins[_0x5d980d(0x4a9)](_0x4b14b2))role=_0x398096[_0x5d980d(0x491)];else roomModerators[_0x5d980d(0x4a9)](_0x4b14b2)?role=_0x398096['HZXcF']:role=_0x398096[_0x5d980d(0x489)];}}async function renderUserLists(_0x3876f7){const _0xbc7e5e=_0x4e5702,_0x187fe7={'TooRO':function(_0x4029cf,_0x3f4970){return _0x4029cf(_0x3f4970);},'diGHR':function(_0x1282c0,_0x253b6c){return _0x1282c0(_0x253b6c);},'mlYNr':function(_0x6e4590,_0x2866d0){return _0x6e4590(_0x2866d0);},'apLAj':function(_0x541ad3,_0x19046d){return _0x541ad3===_0x19046d;},'kZAVz':_0xbc7e5e(0x287),'YSnuZ':_0xbc7e5e(0x351),'etwQb':'admin','yCzyT':function(_0x113f0e,_0x5dd764){return _0x113f0e===_0x5dd764;},'hgapE':function(_0x354d4f,_0x186e3f){return _0x354d4f(_0x186e3f);},'vTHee':_0xbc7e5e(0x2a0),'fIfQg':_0xbc7e5e(0x249),'UitjV':_0xbc7e5e(0x3de),'KoCJZ':'none','GIrnJ':_0xbc7e5e(0x408),'lTsfO':'adminUserList'};roomUsers=_0x3876f7;const _0xe0edd8=_0x187fe7['hgapE'](sanitizeUsername,username),_0x391bc5=[_0x187fe7['vTHee'],_0xbc7e5e(0x2fa),_0x187fe7[_0xbc7e5e(0x3dd)],_0x187fe7[_0xbc7e5e(0x449)]][_0xbc7e5e(0x4a9)](role);document[_0xbc7e5e(0x210)](_0x187fe7[_0xbc7e5e(0x20b)])[_0xbc7e5e(0x374)][_0xbc7e5e(0x48e)]=_0x391bc5?_0x187fe7[_0xbc7e5e(0x355)]:_0x187fe7[_0xbc7e5e(0x223)];const _0x226a97=Object[_0xbc7e5e(0x344)](_0x3876f7)['map'](async([_0x1a11ef,_0x10e561])=>{const _0x27fe03=_0xbc7e5e,_0x5c7cc4=_0x187fe7[_0x27fe03(0x3be)](sanitizeUsername,_0x10e561[_0x27fe03(0x43c)]||_0x1a11ef),_0x33ab7e=await _0x187fe7[_0x27fe03(0x2e9)](fetchAvatar,_0x5c7cc4),_0x50f763=_0x33ab7e?_0x27fe03(0x261)+_0x33ab7e+_0x27fe03(0x19a):'',_0x2241d4=_0x10e561[_0x27fe03(0x360)]?_0x27fe03(0x235):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return _0x27fe03(0x3f9)+_0x50f763+'\x20'+_0x2241d4+_0x27fe03(0x41d)+_0x5c7cc4+_0x27fe03(0x1e6)+(_0x10e561[_0x27fe03(0x43c)]||_0x1a11ef)+_0x27fe03(0x445)+_0x187fe7['mlYNr'](getRoleTag,_0x5c7cc4)+'</li>';});document[_0xbc7e5e(0x210)](_0x187fe7[_0xbc7e5e(0x3a0)])[_0xbc7e5e(0x48a)]=(await Promise[_0xbc7e5e(0x3e6)](_0x226a97))[_0xbc7e5e(0x479)]('');if(!_0x391bc5)return;const _0x5acedd=Object[_0xbc7e5e(0x344)](_0x3876f7)[_0xbc7e5e(0x2f0)](async([_0x3e28a6,_0x185bea])=>{const _0x21b5e9=_0xbc7e5e,_0x48785e=sanitizeUsername(_0x185bea['username']||_0x3e28a6);if(_0x187fe7[_0x21b5e9(0x303)](_0x48785e,_0xe0edd8))return'';const _0x2d9771=globalDevs[_0x21b5e9(0x4a9)](_0x48785e),_0x52d622=await _0x187fe7[_0x21b5e9(0x3be)](fetchAvatar,_0x48785e),_0x513172=_0x52d622?_0x21b5e9(0x261)+_0x52d622+_0x21b5e9(0x19a):'',_0x16531a=_0x185bea[_0x21b5e9(0x360)]?_0x21b5e9(0x235):_0x21b5e9(0x1f2),_0x356aaf=[];if(!_0x2d9771){[_0x187fe7[_0x21b5e9(0x449)],_0x187fe7[_0x21b5e9(0x3dd)],_0x187fe7[_0x21b5e9(0x22f)],_0x21b5e9(0x2a0)][_0x21b5e9(0x4a9)](role)&&(_0x356aaf['push'](_0x21b5e9(0x494)+_0x48785e+_0x21b5e9(0x33f)),_0x356aaf[_0x21b5e9(0x2b4)](_0x21b5e9(0x494)+_0x48785e+'\x27,\x205)\x22>Mute\x205m</button>'),_0x356aaf['push'](_0x21b5e9(0x494)+_0x48785e+_0x21b5e9(0x1b3)));if(_0x187fe7[_0x21b5e9(0x371)](role,_0x21b5e9(0x2a0)))_0x356aaf[_0x21b5e9(0x2b4)](_0x21b5e9(0x264)+_0x48785e+'\x27)\x22>+Mod</button>'),_0x356aaf[_0x21b5e9(0x2b4)](_0x21b5e9(0x23e)+_0x48785e+_0x21b5e9(0x3c0)),_0x356aaf['push']('<button\x20onclick=\x22demoteUser(\x27'+_0x48785e+_0x21b5e9(0x298));else _0x187fe7[_0x21b5e9(0x371)](role,_0x187fe7['etwQb'])&&(_0x356aaf[_0x21b5e9(0x2b4)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x48785e+_0x21b5e9(0x3b5)),_0x356aaf[_0x21b5e9(0x2b4)](_0x21b5e9(0x356)+_0x48785e+'\x27)\x22>Demote</button>'));}return _0x21b5e9(0x339)+_0x513172+'\x20'+_0x16531a+_0x21b5e9(0x1b7)+(_0x185bea[_0x21b5e9(0x43c)]||_0x3e28a6)+'\x20'+getRoleTag(_0x48785e)+'<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>'+_0x356aaf['join']('\x20')+'</div>\x0a\x20\x20\x20\x20\x20\x20</li>';});document[_0xbc7e5e(0x210)](_0x187fe7[_0xbc7e5e(0x266)])[_0xbc7e5e(0x48a)]=(await Promise[_0xbc7e5e(0x3e6)](_0x5acedd))[_0xbc7e5e(0x479)]('');}function updateAnnouncementVisibility(){const _0x20d922=_0x4e5702,_0x18e1d0={'jHRsq':_0x20d922(0x441),'PaqjY':function(_0x455147,_0x312227){return _0x455147===_0x312227;},'oRGUx':function(_0x2cb989,_0x588125){return _0x2cb989===_0x588125;},'EecFX':_0x20d922(0x2a0),'CTmNP':'block','MtlSF':_0x20d922(0x397)},_0x4a3496=document[_0x20d922(0x210)](_0x18e1d0['jHRsq']);_0x18e1d0[_0x20d922(0x1d2)](role,_0x20d922(0x2fa))||_0x18e1d0[_0x20d922(0x4a6)](role,_0x18e1d0[_0x20d922(0x333)])?_0x4a3496['style'][_0x20d922(0x48e)]=_0x18e1d0[_0x20d922(0x208)]:_0x4a3496[_0x20d922(0x374)][_0x20d922(0x48e)]=_0x18e1d0['MtlSF'];}async function fetchAvatar(_0x45a04e){const _0x3dbd18=_0x4e5702;if(userAvatars[_0x45a04e])return userAvatars[_0x45a04e];const _0x379864=await db[_0x3dbd18(0x26a)](_0x3dbd18(0x4a3)+_0x45a04e)[_0x3dbd18(0x375)]();if(_0x379864['exists']()&&_0x379864[_0x3dbd18(0x2c4)]()[_0x3dbd18(0x3af)])return userAvatars[_0x45a04e]=_0x379864[_0x3dbd18(0x2c4)]()['avatarBase64'],userAvatars[_0x45a04e];return null;}function sendTyping(){const _0x3b336d=_0x4e5702,_0x560917={'ssqEq':function(_0xb37afc,_0x8b01a2){return _0xb37afc(_0x8b01a2);}},_0x280c91=_0x560917[_0x3b336d(0x1be)](sanitizeUsername,username),_0x5c6fe2=Date[_0x3b336d(0x443)]();db[_0x3b336d(0x26a)](_0x3b336d(0x28e)+roomCode+'/'+_0x280c91)[_0x3b336d(0x46d)](_0x5c6fe2);if(typingTimeout)clearTimeout(typingTimeout);typingTimeout=setTimeout(()=>{const _0x3933ec=_0x3b336d;db[_0x3933ec(0x26a)]('typing/'+roomCode+'/'+_0x280c91)[_0x3933ec(0x21d)]();},0x1f4);}function listenForTyping(){const _0x2ff1da=_0x4e5702,_0x8d0a8b={'mSyze':_0x2ff1da(0x2f4),'RlLFn':_0x2ff1da(0x295)};db[_0x2ff1da(0x26a)]('typing/'+roomCode)['on'](_0x8d0a8b[_0x2ff1da(0x439)],_0x507b69=>{const _0x2c0130=_0x2ff1da,_0x25d28d=document[_0x2c0130(0x210)](_0x8d0a8b[_0x2c0130(0x29e)]);if(!_0x507b69[_0x2c0130(0x384)]())return _0x25d28d[_0x2c0130(0x370)]='';const _0x25ebdf=Date[_0x2c0130(0x443)](),_0x19963d=Object[_0x2c0130(0x344)](_0x507b69[_0x2c0130(0x2c4)]())['filter'](([_0x383425,_0xa0eac0])=>_0x383425!==sanitizeUsername(username)&&_0x25ebdf-_0xa0eac0<0x1388)[_0x2c0130(0x2f0)](([_0x5a0124])=>_0x5a0124);_0x25d28d[_0x2c0130(0x370)]=_0x19963d['length']?_0x19963d[_0x2c0130(0x479)](',\x20')+_0x2c0130(0x49f):'';});}function watchMuteStatus(){const _0x587bc2=_0x4e5702,_0x5766ae={'cDSAH':function(_0x3904f0,_0x18e1c6){return _0x3904f0>_0x18e1c6;},'sAqkk':function(_0x190d3e,_0x1e0051){return _0x190d3e(_0x1e0051);},'mCaix':'msgInput','RdbXC':'Type\x20a\x20message...','CBszb':function(_0x2e3491,_0x2ca1ee){return _0x2e3491===_0x2ca1ee;},'YHVqy':'⛔\x20You\x20are\x20muted.','wnuVx':function(_0x2d4f79,_0xf62046,_0x488a16){return _0x2d4f79(_0xf62046,_0x488a16);}},_0x40ed1c=db[_0x587bc2(0x26a)](_0x587bc2(0x383)+roomCode+'/'+sanitizeUsername(username));let _0x8c2fe8;_0x40ed1c['on'](_0x587bc2(0x295),_0x1d194f=>{const _0x2b8038=_0x587bc2;_0x5766ae[_0x2b8038(0x455)](clearInterval,_0x8c2fe8);const _0x3b9fca=document['getElementById'](_0x5766ae[_0x2b8038(0x20f)]);if(!_0x1d194f[_0x2b8038(0x384)]()){_0x3b9fca['disabled']=![],_0x3b9fca['placeholder']=_0x5766ae[_0x2b8038(0x45e)];return;}const _0x1d497d=_0x1d194f[_0x2b8038(0x2c4)](),_0x317cc0=_0x5766ae['CBszb'](typeof _0x1d497d,'object')&&_0x1d497d[_0x2b8038(0x2ac)]?_0x1d497d[_0x2b8038(0x2ac)]:_0x1d497d;_0x317cc0>Date['now']()?(_0x3b9fca[_0x2b8038(0x1b5)]=!![],_0x3b9fca[_0x2b8038(0x2b0)]=_0x5766ae['YHVqy'],_0x8c2fe8=_0x5766ae['wnuVx'](setInterval,()=>{const _0x5369d8=_0x2b8038;_0x5766ae['cDSAH'](Date[_0x5369d8(0x443)](),_0x317cc0)&&_0x40ed1c['remove']();},0xbb8)):(_0x3b9fca[_0x2b8038(0x1b5)]=![],_0x3b9fca['placeholder']=_0x2b8038(0x493),_0x40ed1c[_0x2b8038(0x21d)]());});}function isProtected(_0x3a0b4b){const _0x1e35c5=_0x4e5702;return globalDevs[_0x1e35c5(0x4a9)](_0x3a0b4b);}function addSystemMessage(_0x554cbe){const _0x408fb9=_0x4e5702,_0x41eb6d={'hDCfq':_0x408fb9(0x1bd),'kJBWG':_0x408fb9(0x348),'hSgmu':'#aaa','bxrsI':_0x408fb9(0x1f9),'tGbSo':_0x408fb9(0x19b)},_0x557911=document[_0x408fb9(0x3cb)](_0x408fb9(0x193));_0x557911[_0x408fb9(0x374)][_0x408fb9(0x36d)]=_0x41eb6d[_0x408fb9(0x2df)],_0x557911['style'][_0x408fb9(0x390)]=_0x41eb6d[_0x408fb9(0x308)],_0x557911[_0x408fb9(0x374)][_0x408fb9(0x315)]=_0x41eb6d[_0x408fb9(0x410)],_0x557911[_0x408fb9(0x374)][_0x408fb9(0x203)]=_0x41eb6d[_0x408fb9(0x394)],_0x557911[_0x408fb9(0x370)]=_0x554cbe,document[_0x408fb9(0x210)](_0x408fb9(0x19b))[_0x408fb9(0x44b)](_0x557911),document[_0x408fb9(0x210)](_0x41eb6d[_0x408fb9(0x201)])[_0x408fb9(0x3cc)]=document['getElementById']('messages')['scrollHeight'];}function reactToMessage(_0x7acb5c,_0x1223cd){const _0x5d7d05=_0x4e5702,_0x24b64a={'AXMVf':function(_0x283183,_0x463b94){return _0x283183(_0x463b94);},'KOCVz':_0x5d7d05(0x295)},_0x4e842a=_0x24b64a[_0x5d7d05(0x480)](sanitizeUsername,username),_0x5675d7=db[_0x5d7d05(0x26a)]('rooms/'+roomCode+_0x5d7d05(0x361)+_0x7acb5c+_0x5d7d05(0x293));_0x5675d7[_0x5d7d05(0x2f5)](_0x24b64a['KOCVz'])[_0x5d7d05(0x1fd)](_0xa8659b=>{const _0x4fff58=_0x5d7d05,_0x2ea62b=_0xa8659b[_0x4fff58(0x2c4)]()||{},_0xd63fe7={};for(const [_0x5a1460,_0xfa9660]of Object[_0x4fff58(0x344)](_0x2ea62b)){_0xd63fe7[_0x5a1460]=(_0xfa9660||[])[_0x4fff58(0x2eb)](_0x560b2c=>_0x560b2c!==_0x4e842a);}if(!_0x2ea62b[_0x1223cd]||!_0x2ea62b[_0x1223cd][_0x4fff58(0x4a9)](_0x4e842a)){if(!_0xd63fe7[_0x1223cd])_0xd63fe7[_0x1223cd]=[];_0xd63fe7[_0x1223cd]['push'](_0x4e842a);}_0x5675d7[_0x4fff58(0x46d)](_0xd63fe7);});}function startSidebarSyncLoop(){const _0x1e664c=_0x4e5702,_0x20c439={'mQtbC':function(_0x2c4a41,_0x5a8ce4){return _0x2c4a41(_0x5a8ce4);},'QNhKL':function(_0x388680,_0x1ee400,_0x21a64e){return _0x388680(_0x1ee400,_0x21a64e);}};_0x20c439[_0x1e664c(0x250)](setInterval,async()=>{const _0x4fe96a=_0x1e664c;if(!roomCode)return;const _0x2735ef=await db['ref']('users/'+roomCode)['get']();if(_0x2735ef[_0x4fe96a(0x384)]()){const _0x59fc13=_0x2735ef['val']();_0x20c439[_0x4fe96a(0x2d0)](renderUserLists,_0x59fc13);}},0x1388);}