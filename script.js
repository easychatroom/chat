const _0xa6da94=_0x4cba;(function(_0x286f5e,_0x54db86){const _0x3fb3d0=_0x4cba,_0x72f54a=_0x286f5e();while(!![]){try{const _0x247714=parseInt(_0x3fb3d0(0x372))/0x1*(parseInt(_0x3fb3d0(0x34f))/0x2)+parseInt(_0x3fb3d0(0x347))/0x3+parseInt(_0x3fb3d0(0x41d))/0x4*(-parseInt(_0x3fb3d0(0x2a9))/0x5)+parseInt(_0x3fb3d0(0x457))/0x6*(-parseInt(_0x3fb3d0(0x2f8))/0x7)+parseInt(_0x3fb3d0(0x3ff))/0x8*(-parseInt(_0x3fb3d0(0x179))/0x9)+-parseInt(_0x3fb3d0(0x331))/0xa+-parseInt(_0x3fb3d0(0x304))/0xb*(-parseInt(_0x3fb3d0(0x142))/0xc);if(_0x247714===_0x54db86)break;else _0x72f54a['push'](_0x72f54a['shift']());}catch(_0x15e089){_0x72f54a['push'](_0x72f54a['shift']());}}}(_0x10f3,0x23b4e));const firebaseConfig={'apiKey':_0xa6da94(0x26c),'authDomain':_0xa6da94(0x39b),'databaseURL':'https://easy-chatroom-default-rtdb.firebaseio.com','projectId':_0xa6da94(0x138),'storageBucket':_0xa6da94(0x367),'messagingSenderId':_0xa6da94(0x2f7),'appId':_0xa6da94(0x375),'measurementId':_0xa6da94(0x450)};let lastVerificationCode=null;firebase[_0xa6da94(0x426)](firebaseConfig);const messaging=firebase['messaging'](),db=firebase[_0xa6da94(0x2c9)]();let deviceId=null;((async()=>{deviceId=await generateDeviceId();})());const swearWords=['fuck',_0xa6da94(0x2f1),_0xa6da94(0x1f8),_0xa6da94(0x43d),_0xa6da94(0x415),'dick',_0xa6da94(0x393),_0xa6da94(0x3dd),_0xa6da94(0x3f6),_0xa6da94(0x1ee),'coño','cabron','gilipollas',_0xa6da94(0x238),_0xa6da94(0x181),_0xa6da94(0x226),_0xa6da94(0x3dd),_0xa6da94(0x15f),'otario','putangina',_0xa6da94(0x1d4),_0xa6da94(0x285),_0xa6da94(0x2e5),_0xa6da94(0x1a2),_0xa6da94(0x1f5),'putang\x20ina'],style=document[_0xa6da94(0x219)]('style');style[_0xa6da94(0x132)]=_0xa6da94(0x204);let userDescription='',avatarBase64='';document['head'][_0xa6da94(0x21d)](style);const userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0xa6da94(0x387)]()[_0xa6da94(0x1ec)](0x24)[_0xa6da94(0x305)](0x2,0x9),lastActivity=Date[_0xa6da94(0x294)](),typingTimeout,gr8stg='';const STATIC_ROOM='050BBB66HH',MAX_MESSAGES=0xfa,sound=new Audio(_0xa6da94(0x3ae));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x3e0601=_0xa6da94,_0x1d5d3b={'zVnSP':function(_0x458365,_0x27f69e){return _0x458365+_0x27f69e;},'JinQX':function(_0x1e63c2,_0x16e601){return _0x1e63c2(_0x16e601);},'tMncM':function(_0x3f6afc,_0x1bae51){return _0x3f6afc+_0x1bae51;}},_0x404f71=_0x1d5d3b[_0x3e0601(0x251)](navigator[_0x3e0601(0x30d)],screen[_0x3e0601(0x13f)])+screen['height'],_0x494f10=await _0x1d5d3b[_0x3e0601(0x33d)](sha256,_0x404f71);return _0x1d5d3b[_0x3e0601(0x2bc)]('_',_0x494f10['substr'](0x0,0x14));}function sha256(_0x5c1542){const _0x2257b8=_0xa6da94,_0x33e105={'BYgyh':'SHA-256'},_0x53318c=new TextEncoder()[_0x2257b8(0x313)](_0x5c1542);return crypto[_0x2257b8(0x2f6)][_0x2257b8(0x447)](_0x33e105[_0x2257b8(0x3d3)],_0x53318c)['then'](_0x2eba26=>{const _0x4b9449=_0x2257b8;return Array[_0x4b9449(0x28a)](new Uint8Array(_0x2eba26))[_0x4b9449(0x249)](_0x525040=>_0x525040[_0x4b9449(0x1ec)](0x10)[_0x4b9449(0x1a4)](0x2,'0'))[_0x4b9449(0x1d6)]('');});}function toggleNotifications(){const _0x141cf0=_0xa6da94,_0x24e742={'benuB':function(_0x5a5f13,_0x2e8e0a){return _0x5a5f13===_0x2e8e0a;},'PgTyU':_0x141cf0(0x408),'aIFGQ':_0x141cf0(0x39f),'XXDpv':_0x141cf0(0x3fd),'tvGnB':function(_0x18d183,_0x35611c){return _0x18d183!==_0x35611c;},'RsEHb':'🔕\x20Disable\x20Notifications'};_0x24e742['tvGnB'](Notification[_0x141cf0(0x1a7)],_0x141cf0(0x408))?Notification[_0x141cf0(0x230)]()[_0x141cf0(0x1b2)](_0x363271=>{const _0x4e0408=_0x141cf0;_0x24e742[_0x4e0408(0x37c)](_0x363271,_0x24e742['PgTyU'])&&(notificationsEnabled=!![],localStorage[_0x4e0408(0x1dc)](_0x24e742[_0x4e0408(0x31d)],_0x24e742[_0x4e0408(0x234)]),document[_0x4e0408(0x2b0)]('notifToggleBtn')[_0x4e0408(0x286)]=_0x4e0408(0x297));}):(notificationsEnabled=!notificationsEnabled,localStorage[_0x141cf0(0x1dc)](_0x24e742[_0x141cf0(0x31d)],notificationsEnabled?_0x24e742[_0x141cf0(0x234)]:_0x141cf0(0x2ef)),document[_0x141cf0(0x2b0)](_0x141cf0(0x1bb))[_0x141cf0(0x286)]=notificationsEnabled?_0x24e742[_0x141cf0(0x462)]:_0x141cf0(0x3db));}function toggleAuthMode(){const _0x3e94ef=_0xa6da94,_0xbdb19c={'fgEOc':_0x3e94ef(0x2b2),'bIqik':_0x3e94ef(0x241),'VxwCb':_0x3e94ef(0x381),'kzFLJ':_0x3e94ef(0x21b),'rLfmr':_0x3e94ef(0x1c8),'EaYJK':_0x3e94ef(0x311),'Kdazo':_0x3e94ef(0x374),'iKkir':'authAvatar','Xqfxz':_0x3e94ef(0x162),'guNlJ':_0x3e94ef(0x1b8),'WmcMl':_0x3e94ef(0x424),'sASwa':_0x3e94ef(0x40d),'ceZtx':'Don\x27t\x20have\x20an\x20account?\x20Register'};isRegisterMode=!isRegisterMode,document[_0x3e94ef(0x2b0)]('authTitle')[_0x3e94ef(0x286)]=isRegisterMode?_0xbdb19c[_0x3e94ef(0x3cd)]:'Login',document[_0x3e94ef(0x2b0)]('authEmail')['style'][_0x3e94ef(0x289)]=isRegisterMode?_0xbdb19c[_0x3e94ef(0x156)]:_0xbdb19c[_0x3e94ef(0x17e)],document[_0x3e94ef(0x2b0)](_0xbdb19c[_0x3e94ef(0x2cd)])['style'][_0x3e94ef(0x289)]=isRegisterMode?_0xbdb19c[_0x3e94ef(0x156)]:_0x3e94ef(0x381),document[_0x3e94ef(0x2b0)](_0xbdb19c[_0x3e94ef(0x254)])[_0x3e94ef(0x438)][_0x3e94ef(0x289)]=isRegisterMode?_0x3e94ef(0x241):_0x3e94ef(0x381),document[_0x3e94ef(0x2b0)](_0xbdb19c['EaYJK'])['style'][_0x3e94ef(0x289)]=isRegisterMode?_0x3e94ef(0x241):_0xbdb19c[_0x3e94ef(0x17e)],document[_0x3e94ef(0x2b0)](_0xbdb19c[_0x3e94ef(0x3e6)])['style'][_0x3e94ef(0x289)]=isRegisterMode?_0xbdb19c[_0x3e94ef(0x156)]:_0xbdb19c[_0x3e94ef(0x17e)],document[_0x3e94ef(0x2b0)](_0xbdb19c['iKkir'])[_0x3e94ef(0x438)][_0x3e94ef(0x289)]=isRegisterMode?_0xbdb19c['bIqik']:_0xbdb19c[_0x3e94ef(0x17e)],document[_0x3e94ef(0x2b0)](_0x3e94ef(0x1be))[_0x3e94ef(0x438)]['display']=_0xbdb19c[_0x3e94ef(0x17e)],document['getElementById'](_0x3e94ef(0x2eb))['style'][_0x3e94ef(0x289)]=_0x3e94ef(0x241),document[_0x3e94ef(0x2b0)](_0x3e94ef(0x244))['innerText']=isRegisterMode?_0xbdb19c[_0x3e94ef(0x2ab)]:_0x3e94ef(0x20b),document['getElementById'](_0xbdb19c[_0x3e94ef(0x1a3)])['style']['display']=_0xbdb19c[_0x3e94ef(0x17e)],document['getElementById'](_0xbdb19c[_0x3e94ef(0x1e2)])[_0x3e94ef(0x286)]=isRegisterMode?_0xbdb19c[_0x3e94ef(0x469)]:_0xbdb19c[_0x3e94ef(0x3a9)];}function previewAvatar(){const _0x531647=_0xa6da94,_0x12b207={'erqHT':_0x531647(0x1be),'GUoiV':_0x531647(0x241),'exJuq':'authAvatar'},_0x4867cb=document['getElementById'](_0x12b207[_0x531647(0x34c)]);if(!_0x4867cb[_0x531647(0x158)][_0x531647(0x1b0)])return;const _0x51af01=new FileReader();_0x51af01['onloadend']=()=>{const _0x28e26b=_0x531647;document[_0x28e26b(0x2b0)](_0x12b207[_0x28e26b(0x2d0)])['src']=_0x51af01[_0x28e26b(0x46d)],document[_0x28e26b(0x2b0)](_0x28e26b(0x1be))['style'][_0x28e26b(0x289)]=_0x12b207[_0x28e26b(0x193)];},_0x51af01[_0x531647(0x328)](_0x4867cb[_0x531647(0x158)][0x0]);}async function sendVerificationCode(){const _0x5dce2b=_0xa6da94,_0x383f5f={'Jstou':_0x5dce2b(0x1b8),'VOeUA':function(_0x61c894,_0x43bcab){return _0x61c894||_0x43bcab;},'ZZFCe':_0x5dce2b(0x169),'LhjGS':function(_0x313ae6,_0x20f7bd){return _0x313ae6*_0x20f7bd;},'PpZlP':function(_0xc4ce0a,_0x2d49b5){return _0xc4ce0a*_0x2d49b5;},'bDobG':function(_0x21f7de,_0x572985){return _0x21f7de>=_0x572985;},'dbmWN':function(_0x63fd2d,_0x2be054){return _0x63fd2d<_0x2be054;},'vrEdL':function(_0x21237a,_0x3bb5ee){return _0x21237a-_0x3bb5ee;},'oQKOU':function(_0x474583,_0x41758e){return _0x474583*_0x41758e;},'ojSGi':'❌\x20Too\x20many\x20attempts.\x20Try\x20again\x20in\x202\x20days.','MsWFD':'block','CUdSO':function(_0x2b1738,_0x4388ef){return _0x2b1738/_0x4388ef;},'xOtQR':function(_0x3d8646,_0x2be2a3){return _0x3d8646*_0x2be2a3;},'OvNHB':_0x5dce2b(0x260),'UAtnW':_0x5dce2b(0x46b),'TdyYV':'template_uadxvmp','ehbhd':_0x5dce2b(0x2da),'aVITc':function(_0x318864,_0x14fb7b){return _0x318864(_0x14fb7b);},'HEJUQ':_0x5dce2b(0x202)},_0x4b3699=document['getElementById']('authEmail')[_0x5dce2b(0x3c0)]['trim']()[_0x5dce2b(0x20a)](),_0x1300da=document[_0x5dce2b(0x2b0)](_0x5dce2b(0x2eb))[_0x5dce2b(0x3c0)]['trim'](),_0x36d145=document[_0x5dce2b(0x2b0)](_0x383f5f[_0x5dce2b(0x172)]);_0x36d145['style'][_0x5dce2b(0x289)]=_0x5dce2b(0x381);if(_0x383f5f['VOeUA'](!_0x4b3699,!_0x1300da)){_0x36d145[_0x5dce2b(0x286)]=_0x383f5f[_0x5dce2b(0x463)],_0x36d145[_0x5dce2b(0x438)]['display']=_0x5dce2b(0x241);return;}const _0x48d637=_0x4b3699[_0x5dce2b(0x1d9)](/[.#$\[\]]/g,'_'),_0x56ab58=db['ref'](_0x5dce2b(0x31f)+_0x48d637),_0x288418=await _0x56ab58[_0x5dce2b(0x236)](),_0x46a32f=Date[_0x5dce2b(0x294)](),_0x27d098=_0x383f5f[_0x5dce2b(0x423)](0x18*0x3c*0x3c,0x3e8),_0x1450b7=_0x383f5f['PpZlP'](0xa*0x3c,0x3e8);let _0x3ff329=[];if(_0x288418['exists']()){const _0x8af80d=_0x288418[_0x5dce2b(0x3b5)]();_0x3ff329=_0x8af80d[_0x5dce2b(0x22c)]||[],_0x3ff329=_0x3ff329[_0x5dce2b(0x1fc)](_0x1de0a2=>_0x46a32f-_0x1de0a2<0x2*_0x27d098);if(_0x383f5f[_0x5dce2b(0x335)](_0x3ff329['length'],0x3)&&_0x383f5f[_0x5dce2b(0x1c0)](_0x383f5f['vrEdL'](_0x46a32f,_0x3ff329[0x2]),_0x383f5f[_0x5dce2b(0x21f)](0x2,_0x27d098))){_0x36d145[_0x5dce2b(0x286)]=_0x383f5f['ojSGi'],_0x36d145[_0x5dce2b(0x438)][_0x5dce2b(0x289)]=_0x383f5f[_0x5dce2b(0x337)];return;}const _0x44268e=_0x8af80d[_0x5dce2b(0x362)]||0x0;if(_0x383f5f['dbmWN'](_0x383f5f[_0x5dce2b(0x16b)](_0x46a32f,_0x44268e),_0x1450b7)){const _0x3b026c=Math[_0x5dce2b(0x2d3)](_0x383f5f[_0x5dce2b(0x223)](_0x383f5f[_0x5dce2b(0x16b)](_0x1450b7,_0x383f5f[_0x5dce2b(0x16b)](_0x46a32f,_0x44268e)),0xea60));_0x36d145[_0x5dce2b(0x286)]=_0x5dce2b(0x191)+_0x3b026c+_0x5dce2b(0x3bd),_0x36d145[_0x5dce2b(0x438)][_0x5dce2b(0x289)]=_0x383f5f['MsWFD'];return;}}const _0x4e182f=Math[_0x5dce2b(0x2ca)](0x186a0+_0x383f5f[_0x5dce2b(0x40c)](Math['random'](),0xdbba0))[_0x5dce2b(0x1ec)]();lastVerificationCode=_0x4e182f;try{const _0x554dd1=_0x383f5f[_0x5dce2b(0x245)][_0x5dce2b(0x2b7)]('|');let _0x40f459=0x0;while(!![]){switch(_0x554dd1[_0x40f459++]){case'0':_0x3ff329[_0x5dce2b(0x352)](_0x46a32f);continue;case'1':await _0x56ab58[_0x5dce2b(0x176)]({'lastSent':_0x46a32f,'attempts':_0x3ff329});continue;case'2':await emailjs[_0x5dce2b(0x136)](_0x383f5f[_0x5dce2b(0x1a8)],_0x383f5f[_0x5dce2b(0x292)],{'to_email':_0x4b3699,'to_name':_0x1300da,'message':_0x4e182f},_0x383f5f[_0x5dce2b(0x442)]);continue;case'3':_0x383f5f['aVITc'](alert,'Verification\x20code\x20sent!');continue;case'4':document[_0x5dce2b(0x2b0)](_0x5dce2b(0x1c8))[_0x5dce2b(0x438)][_0x5dce2b(0x289)]=_0x5dce2b(0x241);continue;}break;}}catch(_0x3794d3){_0x36d145[_0x5dce2b(0x286)]=_0x383f5f['HEJUQ'],_0x36d145[_0x5dce2b(0x438)][_0x5dce2b(0x289)]=_0x383f5f[_0x5dce2b(0x337)],console[_0x5dce2b(0x20f)](_0x3794d3);}}async function submitAuth(){const _0xf2a46f=_0xa6da94,_0x1422f7={'UwIsS':_0xf2a46f(0x1a6),'MZdJm':_0xf2a46f(0x2eb),'wSUUM':_0xf2a46f(0x279),'hNwAm':_0xf2a46f(0x311),'QrIgS':_0xf2a46f(0x1c8),'XbaRy':_0xf2a46f(0x381),'KReXi':function(_0xce74e,_0x16145f){return _0xce74e||_0x16145f;},'OQebU':_0xf2a46f(0x3b9),'oVJHJ':'block','UgFlU':function(_0xbc514b,_0x58fa7c){return _0xbc514b!==_0x58fa7c;},'BKcSk':_0xf2a46f(0x344),'QMThe':'users/','DXued':function(_0x41d5f3,_0x1c5d6c){return _0x41d5f3(_0x1c5d6c);},'mWjlT':_0xf2a46f(0x417),'hxgai':function(_0x48c40b,_0x9bfbbc){return _0x48c40b===_0x9bfbbc;},'pbcSZ':_0xf2a46f(0x155),'iWHMw':'Incorrect\x20password.','AjlSv':_0xf2a46f(0x14a),'vincn':_0xf2a46f(0x413),'feEIF':function(_0x2ebf3b,_0x29b11a){return _0x2ebf3b||_0x29b11a;},'HYPps':_0xf2a46f(0x2e8),'JoQFb':_0xf2a46f(0x171),'zKXKF':_0xf2a46f(0x3c0),'TnBNg':_0xf2a46f(0x31b),'rGfzM':function(_0x335628,_0x4edfdd){return _0x335628+_0x4edfdd;},'kfJrA':function(_0xbd48a8,_0xc040dd){return _0xbd48a8(_0xc040dd);},'gjUJW':_0xf2a46f(0x1c1),'yWrNG':function(_0x7d0dfd,_0x57fddc){return _0x7d0dfd===_0x57fddc;},'hiWlA':'auth/email-already-in-use','IDpMr':function(_0x110df7,_0x37c80c){return _0x110df7===_0x37c80c;},'PMUlp':_0xf2a46f(0x19c),'YWTcl':_0xf2a46f(0x40a)},_0x1472e0=document[_0xf2a46f(0x2b0)](_0x1422f7[_0xf2a46f(0x38d)])[_0xf2a46f(0x3c0)][_0xf2a46f(0x15e)](),_0x217dc8=document['getElementById'](_0x1422f7['MZdJm'])[_0xf2a46f(0x3c0)][_0xf2a46f(0x15e)](),_0x52afe2=document['getElementById'](_0x1422f7[_0xf2a46f(0x1e3)])[_0xf2a46f(0x3c0)][_0xf2a46f(0x15e)](),_0x519b1f=document[_0xf2a46f(0x2b0)](_0x1422f7[_0xf2a46f(0x340)])[_0xf2a46f(0x3c0)]['trim'](),_0x1adb2f=document['getElementById'](_0x1422f7[_0xf2a46f(0x2d2)])[_0xf2a46f(0x3c0)][_0xf2a46f(0x15e)](),_0x24a3c0=document[_0xf2a46f(0x2b0)](_0xf2a46f(0x1b8));_0x24a3c0[_0xf2a46f(0x438)]['display']=_0x1422f7[_0xf2a46f(0x259)];if(isRegisterMode){if(_0x1422f7[_0xf2a46f(0x30b)](!_0x1472e0,!_0x217dc8)||!_0x52afe2||!_0x519b1f||!_0x1adb2f){_0x24a3c0[_0xf2a46f(0x286)]=_0x1422f7[_0xf2a46f(0x22a)],_0x24a3c0[_0xf2a46f(0x438)]['display']=_0x1422f7[_0xf2a46f(0x435)];return;}if(_0x52afe2!==_0x519b1f){_0x24a3c0[_0xf2a46f(0x286)]=_0xf2a46f(0x1a0),_0x24a3c0[_0xf2a46f(0x438)][_0xf2a46f(0x289)]=_0xf2a46f(0x241);return;}if(_0x1422f7[_0xf2a46f(0x163)](_0x1adb2f,lastVerificationCode)){_0x24a3c0['innerText']=_0x1422f7[_0xf2a46f(0x3a5)],_0x24a3c0[_0xf2a46f(0x438)][_0xf2a46f(0x289)]=_0x1422f7[_0xf2a46f(0x435)];return;}try{const _0x2e7fc6=await firebase[_0xf2a46f(0x3bb)]()[_0xf2a46f(0x2a0)](_0x1472e0,_0x52afe2),_0x3671fa=_0x2e7fc6[_0xf2a46f(0x263)],_0x1690d1=sanitizeUsername(_0x217dc8);await db[_0xf2a46f(0x306)](_0x1422f7[_0xf2a46f(0x265)]+_0x1690d1)[_0xf2a46f(0x176)]({'username':_0x217dc8,'email':_0x1472e0,'createdAt':Date['now']()}),await firebase['auth']()[_0xf2a46f(0x323)](),_0x1422f7[_0xf2a46f(0x45e)](alert,_0xf2a46f(0x160)),toggleAuthMode();}catch(_0x2996f5){console[_0xf2a46f(0x459)](_0xf2a46f(0x434),_0x2996f5);let _0x4bd34d=_0x1422f7[_0xf2a46f(0x390)];if(_0x1422f7[_0xf2a46f(0x388)](_0x2996f5[_0xf2a46f(0x15d)],_0x1422f7['pbcSZ']))_0x4bd34d=_0x1422f7[_0xf2a46f(0x13b)];else{if(_0x1422f7['hxgai'](_0x2996f5[_0xf2a46f(0x15d)],_0xf2a46f(0x270)))_0x4bd34d=_0x1422f7['AjlSv'];else _0x1422f7['hxgai'](_0x2996f5[_0xf2a46f(0x15d)],'auth/too-many-requests')&&(_0x4bd34d=_0x1422f7[_0xf2a46f(0x324)]);}_0x24a3c0['innerText']=_0x4bd34d,_0x24a3c0[_0xf2a46f(0x438)]['display']=_0x1422f7['oVJHJ'];}}else{const _0x2b4601=document[_0xf2a46f(0x2b0)](_0x1422f7[_0xf2a46f(0x1c2)])['value'][_0xf2a46f(0x15e)]();if(_0x1422f7[_0xf2a46f(0x321)](!_0x2b4601,!_0x52afe2)){_0x24a3c0[_0xf2a46f(0x286)]=_0x1422f7[_0xf2a46f(0x3d0)],_0x24a3c0[_0xf2a46f(0x438)][_0xf2a46f(0x289)]=_0x1422f7[_0xf2a46f(0x435)];return;}try{let _0x54f980='',_0x2f2101=null;const _0x2bd4d9=/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0xf2a46f(0x3be)](_0x2b4601);if(_0x2bd4d9){const _0x4d7127=await db[_0xf2a46f(0x306)](_0x1422f7[_0xf2a46f(0x148)])[_0xf2a46f(0x206)](_0x1422f7[_0xf2a46f(0x1cf)]),_0x5dbaa9=_0x4d7127['val'](),_0x33cd84=Object['values'](_0x5dbaa9)[_0xf2a46f(0x3f8)](_0x2738af=>_0x2738af[_0xf2a46f(0x453)]===_0x2b4601);if(!_0x33cd84)throw new Error(_0x1422f7['TnBNg']);_0x54f980=_0x33cd84['email'],username=_0x33cd84['username'];}else{_0x2f2101=await db[_0xf2a46f(0x306)](_0x1422f7[_0xf2a46f(0x1f7)](_0xf2a46f(0x205),_0x1422f7[_0xf2a46f(0x454)](sanitizeUsername,_0x2b4601)))[_0xf2a46f(0x236)]();if(!_0x2f2101[_0xf2a46f(0x164)]())throw new Error(_0xf2a46f(0x3b2));_0x54f980=_0x2f2101[_0xf2a46f(0x3b5)]()['email'],username=_0x2f2101[_0xf2a46f(0x3b5)]()['username'];}const _0x5c0a68=await firebase[_0xf2a46f(0x3bb)]()[_0xf2a46f(0x400)](_0x54f980,_0x52afe2),_0x3c0a1c=_0x5c0a68[_0xf2a46f(0x263)];startAfterAuth();}catch(_0x16d5ab){console[_0xf2a46f(0x459)](_0xf2a46f(0x20c),_0x16d5ab);let _0x219f08=_0x1422f7[_0xf2a46f(0x3fc)];if(_0x1422f7[_0xf2a46f(0x173)](_0x16d5ab['code'],_0x1422f7[_0xf2a46f(0x1bc)]))_0x219f08=_0xf2a46f(0x16c);else _0x1422f7['IDpMr'](_0x16d5ab[_0xf2a46f(0x15d)],_0x1422f7[_0xf2a46f(0x3ec)])&&(_0x219f08=_0x1422f7[_0xf2a46f(0x17d)]);_0x24a3c0[_0xf2a46f(0x286)]=_0x219f08,_0x24a3c0['style'][_0xf2a46f(0x289)]=_0x1422f7['oVJHJ'];}}}async function saveNewUser(_0x53cfd3,_0xf29bd4,_0xa0a91f,_0x5b34c7,_0x3ef33a){const _0xc5db9b=_0xa6da94,_0x3159a9={'XHuuy':_0xc5db9b(0x263),'pBISy':function(_0x2a8f54,_0x2d07e4){return _0x2a8f54||_0x2d07e4;},'GqUfx':function(_0xf9e993){return _0xf9e993();}},_0x4605b6=db[_0xc5db9b(0x306)]('auth/'+sanitizeUsername(_0x53cfd3)),_0x568cd2={'username':_0x53cfd3,'passwordHash':_0xf29bd4,'role':_0x3159a9[_0xc5db9b(0x267)],'deviceId':_0xa0a91f,'description':_0x3159a9[_0xc5db9b(0x41b)](_0x3ef33a,''),'avatarBase64':_0x5b34c7||'','usernameHistory':[_0x53cfd3],'lastChanged':Date[_0xc5db9b(0x294)]()};await _0x4605b6[_0xc5db9b(0x176)](_0x568cd2),username=_0x53cfd3,_0x5b34c7=_0x568cd2[_0xc5db9b(0x392)],userDescription=_0x568cd2['description'],_0x3159a9[_0xc5db9b(0x3a2)](startAfterAuth);}async function startAfterAuth(){const _0x408acb=_0xa6da94,_0x3988ef={'whJgz':function(_0x5d91fc,_0x15541f){return _0x5d91fc(_0x15541f);},'qDQXV':_0x408acb(0x263),'FNHPN':_0x408acb(0x406),'LSLxt':function(_0x3a0904,_0xf078d5){return _0x3a0904+_0xf078d5;},'WZbtd':_0x408acb(0x2ea),'uQPnm':_0x408acb(0x241),'lTnLq':_0x408acb(0x174),'FIqHf':function(_0x5a237d){return _0x5a237d();},'LTHRC':function(_0x1f12dd,_0x3322bd){return _0x1f12dd(_0x3322bd);}},_0xb9866a=_0x3988ef[_0x408acb(0x26d)](sanitizeUsername,username),_0x1ad04b=db[_0x408acb(0x306)](_0x408acb(0x282)+_0xb9866a),_0x206681=await _0x1ad04b[_0x408acb(0x236)]();if(_0x206681[_0x408acb(0x164)]()){const _0x56bd67=_0x206681[_0x408acb(0x3b5)]();username=_0x56bd67['username'],userDescription=_0x56bd67[_0x408acb(0x2b6)]||'',avatarBase64=_0x56bd67[_0x408acb(0x392)]||'',role=_0x56bd67[_0x408acb(0x2dc)]||_0x3988ef[_0x408acb(0x29f)];if(avatarBase64){const _0x3a547c=document[_0x408acb(0x2b0)](_0x3988ef[_0x408acb(0x1df)]);_0x3a547c['src']=_0x3988ef[_0x408acb(0x1c4)](_0x3988ef[_0x408acb(0x24c)],avatarBase64),_0x3a547c[_0x408acb(0x438)]['display']=_0x3988ef[_0x408acb(0x19b)];}}else console[_0x408acb(0x459)](_0x3988ef[_0x408acb(0x2f3)]);await _0x3988ef['FIqHf'](loadRoomRoles),document[_0x408acb(0x2b0)](_0x408acb(0x1b3))[_0x408acb(0x286)]=username,_0x3988ef[_0x408acb(0x2c4)](showScreen,_0x408acb(0x455));}function toggleRecording(){const _0x42dc2b=_0xa6da94,_0x1950b3={'Riyri':_0x42dc2b(0x16d),'buuqi':_0x42dc2b(0x29d),'CGatU':function(_0x3dff05,_0xf172ee,_0x1c3c9d){return _0x3dff05(_0xf172ee,_0x1c3c9d);},'cBxZL':_0x42dc2b(0x30a),'fpwVt':function(_0x44fda0){return _0x44fda0();}};isRecording?_0x1950b3[_0x42dc2b(0x2f2)](stopRecording):navigator[_0x42dc2b(0x1b1)][_0x42dc2b(0x319)]({'audio':!![]})[_0x42dc2b(0x1b2)](_0x14df0e=>{const _0x1b3e35=_0x42dc2b;mediaRecorder=new MediaRecorder(_0x14df0e),mediaRecorder[_0x1b3e35(0x42d)](),isRecording=!![],document[_0x1b3e35(0x2b0)](_0x1950b3['buuqi'])['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x1b3e35(0x1cc)]=_0x5d362c=>audioChunks[_0x1b3e35(0x352)](_0x5d362c['data']),mediaRecorder[_0x1b3e35(0x26e)]=()=>{const _0x23ee7a=_0x1b3e35,_0x6b9b03={'oRSlC':_0x23ee7a(0x178)};clearTimeout(recordingTimer);const _0x130b84=new Blob(audioChunks,{'type':_0x1950b3['Riyri']}),_0x221180=new FileReader();_0x221180[_0x23ee7a(0x154)]=()=>{const _0x5bf501=_0x23ee7a,_0x4eae00=_0x221180['result'][_0x5bf501(0x2b7)](',')[0x1],_0x5dcbb2=db[_0x5bf501(0x306)]()[_0x5bf501(0x352)]()[_0x5bf501(0x371)];db[_0x5bf501(0x306)](_0x5bf501(0x177)+roomCode+_0x5bf501(0x231)+_0x5dcbb2)[_0x5bf501(0x176)]({'msg':_0x6b9b03[_0x5bf501(0x35f)],'audioBase64':_0x4eae00,'sender':username,'senderId':clientId,'timestamp':Date[_0x5bf501(0x294)]()});},_0x221180[_0x23ee7a(0x328)](_0x130b84);},recordingTimer=_0x1950b3[_0x1b3e35(0x460)](setTimeout,()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})[_0x42dc2b(0x36f)](_0x74ac19=>{const _0x5f30de=_0x42dc2b;alert(_0x1950b3[_0x5f30de(0x309)]);});}function stopRecording(){const _0x3b1564=_0xa6da94,_0x2c0f29={'CHUYo':function(_0x5a4a74,_0x1e2bd1){return _0x5a4a74&&_0x1e2bd1;},'CHzBL':_0x3b1564(0x29d),'rUHNg':_0x3b1564(0x19e)};_0x2c0f29[_0x3b1564(0x23e)](mediaRecorder,isRecording)&&(mediaRecorder['stop'](),isRecording=![],document[_0x3b1564(0x2b0)](_0x2c0f29[_0x3b1564(0x247)])[_0x3b1564(0x286)]=_0x2c0f29[_0x3b1564(0x385)]);}window['onload']=async()=>{const _0x45d2f2=_0xa6da94,_0x4c0cf0={'XVJuK':function(_0x134af4){return _0x134af4();},'NlbRZ':function(_0x297cad){return _0x297cad();},'nrORa':function(_0x3d18d2){return _0x3d18d2();},'sONoB':_0x45d2f2(0x39f),'HBpmq':function(_0x4504fa,_0x2023fc){return _0x4504fa===_0x2023fc;},'alZKS':function(_0x24053f,_0x372024){return _0x24053f(_0x372024);},'ShVNW':_0x45d2f2(0x32b)};_0x4c0cf0[_0x45d2f2(0x1f3)](cleanupOldRooms),_0x4c0cf0[_0x45d2f2(0x3e2)](setupSidebarBackHandler),_0x4c0cf0[_0x45d2f2(0x281)](setupVisibilityAttention),_0x4c0cf0[_0x45d2f2(0x1f3)](resetWebsiteData);const _0x36169a=localStorage['getItem'](_0x4c0cf0[_0x45d2f2(0x38e)]);notificationsEnabled=_0x4c0cf0['HBpmq'](_0x36169a,_0x45d2f2(0x3fd)),isRegisterMode=![],_0x4c0cf0[_0x45d2f2(0x281)](toggleAuthMode),_0x4c0cf0['alZKS'](showScreen,_0x4c0cf0[_0x45d2f2(0x39e)]);};function sanitizeUsername(_0x1e7f49){const _0x713570=_0xa6da94;return _0x1e7f49[_0x713570(0x1d9)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5d2aad=_0xa6da94,_0x3ab51d={'dwHyj':_0x5d2aad(0x302),'XUubL':_0x5d2aad(0x3fe),'kDXzs':_0x5d2aad(0x241),'lwKWw':_0x5d2aad(0x288),'UysQv':_0x5d2aad(0x1e8),'rWNej':_0x5d2aad(0x1b3),'kTrQc':function(_0x536323,_0x548d75){return _0x536323(_0x548d75);},'VWUwV':_0x5d2aad(0x455),'SihSu':_0x5d2aad(0x159),'SMmwA':_0x5d2aad(0x308),'Egvsa':_0x5d2aad(0x13c),'UaJOJ':_0x5d2aad(0x1e4),'HwzYn':_0x5d2aad(0x2db),'Xjnrh':function(_0x4c2542,_0x4b18c0){return _0x4c2542||_0x4b18c0;},'Ahtee':_0x5d2aad(0x3c0)},_0x18dbf2=document[_0x5d2aad(0x2b0)](_0x3ab51d[_0x5d2aad(0x363)])[_0x5d2aad(0x3c0)][_0x5d2aad(0x15e)](),_0x23a15e=document[_0x5d2aad(0x2b0)](_0x3ab51d[_0x5d2aad(0x364)])[_0x5d2aad(0x3c0)][_0x5d2aad(0x15e)](),_0x20c9ed=document[_0x5d2aad(0x2b0)](_0x3ab51d[_0x5d2aad(0x1ed)]);if(_0x3ab51d[_0x5d2aad(0x3b1)](!_0x18dbf2,!_0x23a15e)){_0x20c9ed[_0x5d2aad(0x286)]=_0x5d2aad(0x373),_0x20c9ed[_0x5d2aad(0x438)][_0x5d2aad(0x289)]=_0x3ab51d['kDXzs'];return;}const _0x2716bc=sanitizeUsername(_0x18dbf2),_0x5d044d=db[_0x5d2aad(0x306)](_0x5d2aad(0x2ff)+_0x2716bc);_0x5d044d['once'](_0x3ab51d[_0x5d2aad(0x31e)])['then'](_0x52760b=>{const _0x2efa4c=_0x5d2aad;if(_0x52760b['exists']())_0x20c9ed[_0x2efa4c(0x286)]=_0x3ab51d[_0x2efa4c(0x261)],_0x20c9ed['style'][_0x2efa4c(0x289)]=_0x3ab51d[_0x2efa4c(0x1c3)];else{const _0x133531={'username':_0x18dbf2,'description':_0x23a15e,'lastChanged':Date[_0x2efa4c(0x294)](),'usernameHistory':[_0x18dbf2]};_0x5d044d[_0x2efa4c(0x176)](_0x133531,_0x4b46e4=>{const _0xa22066=_0x2efa4c;_0x4b46e4?(console[_0xa22066(0x20f)](_0x3ab51d[_0xa22066(0x17a)],_0x4b46e4),_0x20c9ed[_0xa22066(0x286)]=_0x3ab51d['XUubL'],_0x20c9ed['style'][_0xa22066(0x289)]=_0x3ab51d[_0xa22066(0x1c3)]):(localStorage[_0xa22066(0x1dc)](_0x3ab51d[_0xa22066(0x1f2)],_0x18dbf2),localStorage[_0xa22066(0x1dc)](_0x3ab51d[_0xa22066(0x13a)],_0x23a15e),username=_0x18dbf2,document[_0xa22066(0x2b0)](_0x3ab51d[_0xa22066(0x22b)])[_0xa22066(0x286)]=_0x18dbf2,_0x3ab51d['kTrQc'](showScreen,_0x3ab51d[_0xa22066(0x29e)]));});}})[_0x5d2aad(0x36f)](_0x58d740=>{const _0x5f5825=_0x5d2aad;console[_0x5f5825(0x20f)]('Error\x20checking\x20username:',_0x58d740),_0x20c9ed[_0x5f5825(0x286)]=_0x3ab51d[_0x5f5825(0x310)],_0x20c9ed[_0x5f5825(0x438)][_0x5f5825(0x289)]=_0x5f5825(0x241);});}function saveProfile(_0xc1a48c,_0x4033de,_0x314fee){const _0x3aadbf=_0xa6da94,_0x4eddc4={'eXEIZ':_0x3aadbf(0x1b3)},_0x10704a=Date[_0x3aadbf(0x294)](),_0x542d1f=[_0xc1a48c];db[_0x3aadbf(0x306)](_0x3aadbf(0x2ff)+_0x314fee)[_0x3aadbf(0x176)]({'username':_0xc1a48c,'description':_0x4033de,'lastChanged':_0x10704a,'usernameHistory':_0x542d1f}),document[_0x3aadbf(0x2b0)](_0x4eddc4[_0x3aadbf(0x1ad)])[_0x3aadbf(0x286)]=_0xc1a48c,showScreen(_0x3aadbf(0x455));}function generateRoom(){const _0x3fa970=_0xa6da94,_0x37f58a={'foHtt':function(_0x47e6da){return _0x47e6da();},'YyYjB':function(_0x2c9189,_0x4a9b66){return _0x2c9189+_0x4a9b66;},'jpkBb':_0x3fa970(0x177),'lRmsa':function(_0x1ac3db){return _0x1ac3db();}};roomCode=_0x37f58a[_0x3fa970(0x458)](genRoomCode),db['ref'](_0x37f58a['YyYjB'](_0x37f58a[_0x3fa970(0x27a)],roomCode))[_0x3fa970(0x176)]({'active':!![],'created':Date[_0x3fa970(0x294)]()}),_0x37f58a[_0x3fa970(0x19a)](startChat);}function joinRoom(){const _0x342311=_0xa6da94,_0x26ce23={'DhslW':function(_0x292d29){return _0x292d29();},'uTVdS':_0x342311(0x274),'DVNvm':function(_0x31aabd,_0x3b84bd){return _0x31aabd(_0x3b84bd);},'BvZVp':function(_0x3490b1,_0x1b10e1){return _0x3490b1===_0x1b10e1;},'vyHOK':_0x342311(0x41a)},_0x1a429f=roomCode||document[_0x342311(0x2b0)](_0x26ce23[_0x342311(0x2a1)])[_0x342311(0x3c0)][_0x342311(0x15e)]()[_0x342311(0x1ce)]();if(!_0x1a429f)return _0x26ce23[_0x342311(0x3d6)](alert,_0x342311(0x131));roomCode=_0x1a429f;if(_0x26ce23['BvZVp'](roomCode,STATIC_ROOM)){_0x26ce23[_0x342311(0x3d6)](showScreen,_0x26ce23[_0x342311(0x21a)]);return;}db[_0x342311(0x306)](_0x342311(0x177)+roomCode)[_0x342311(0x236)]()[_0x342311(0x1b2)](_0x29c044=>{const _0x2a91d3=_0x342311;_0x29c044[_0x2a91d3(0x164)]()&&_0x29c044[_0x2a91d3(0x3b5)]()[_0x2a91d3(0x2de)]!==![]?_0x26ce23['DhslW'](startChat):alert('Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.');});}async function startChat(){const _0x374490=_0xa6da94,_0x35892a={'GICZB':function(_0x2dc5e3,_0xa0672a){return _0x2dc5e3===_0xa0672a;},'sUSVU':_0x374490(0x276),'eQPfU':function(_0x4a7e6b,_0x2e2ee3){return _0x4a7e6b===_0x2e2ee3;},'RaBuQ':function(_0x590504,_0x1d77d0){return _0x590504(_0x1d77d0);},'GXyxJ':function(_0xf5c4b5){return _0xf5c4b5();},'MhDpe':function(_0x58c912){return _0x58c912();},'UbZvh':function(_0x5d9bf5,_0x56d46e){return _0x5d9bf5+_0x56d46e;},'tdCPO':_0x374490(0x2ea),'xWdSB':_0x374490(0x241),'Zmlef':'userDisplay','OqJAQ':function(_0x58a14f,_0x46c03b){return _0x58a14f(_0x46c03b);},'QWHXq':_0x374490(0x38f),'fHMdq':_0x374490(0x1e6),'gtLrb':function(_0x1ef5b1,_0x131bd4){return _0x1ef5b1(_0x131bd4);},'CYxJS':'chatScreen','SHFlB':_0x374490(0x382),'yxwDW':_0x374490(0x35e),'gRIoj':function(_0x4a6ecb){return _0x4a6ecb();},'bNdAT':function(_0x4a0edf){return _0x4a0edf();},'fDxjy':_0x374490(0x2a8),'MfioU':_0x374490(0x2dd),'tZfKu':function(_0x32f3b0,_0x27fbaf){return _0x32f3b0||_0x27fbaf;},'uwPfA':function(_0x4017a2,_0x528a90){return _0x4017a2(_0x528a90);},'zYRul':'roomChoiceScreen','oifBD':function(_0x494a72){return _0x494a72();},'nERFA':function(_0x514cf6){return _0x514cf6();},'nJbsS':function(_0x44dc7f,_0x1622ac){return _0x44dc7f(_0x1622ac);}};if(_0x35892a[_0x374490(0x449)](!roomCode,!username))return _0x35892a[_0x374490(0x214)](alert,_0x374490(0x140)),_0x35892a[_0x374490(0x355)](showScreen,_0x35892a[_0x374490(0x3e5)]);_0x35892a[_0x374490(0x427)](listenForPauseState),_0x35892a[_0x374490(0x1d0)](listenForUserList),await _0x35892a[_0x374490(0x346)](loadRoomRoles),_0x35892a['bNdAT'](listenForAnnouncement);const _0x1e7b6a=_0x35892a[_0x374490(0x1f4)](sanitizeUsername,username),_0x43194a=db[_0x374490(0x306)](_0x374490(0x205)+roomCode+'/'+_0x1e7b6a),_0x1b9104={'username':username,'online':!![],'lastOnline':firebase[_0x374490(0x2c9)][_0x374490(0x425)][_0x374490(0x42a)]};_0x43194a[_0x374490(0x176)](_0x1b9104,_0x2e22c6=>{const _0x53dd7a=_0x374490;if(_0x2e22c6)return _0x35892a[_0x53dd7a(0x196)](alert,_0x53dd7a(0x3af)),_0x35892a[_0x53dd7a(0x196)](showScreen,_0x53dd7a(0x455));const _0x4381c3=document['getElementById']('sidebarAvatarPreview');avatarBase64&&(_0x4381c3[_0x53dd7a(0x24e)]=_0x35892a[_0x53dd7a(0x3c4)](_0x35892a[_0x53dd7a(0x3a8)],avatarBase64),_0x4381c3[_0x53dd7a(0x438)][_0x53dd7a(0x289)]=_0x35892a[_0x53dd7a(0x2d1)]);document['getElementById'](_0x35892a[_0x53dd7a(0x295)])['innerHTML']=username+'\x20'+_0x35892a[_0x53dd7a(0x355)](getRoleTag,_0x1e7b6a),document[_0x53dd7a(0x2b0)](_0x53dd7a(0x3ab))[_0x53dd7a(0x286)]=roomCode===STATIC_ROOM?_0x35892a[_0x53dd7a(0x2d4)]:roomCode,_0x35892a[_0x53dd7a(0x23c)](updateAnnouncementVisibility);const _0x386c41=db[_0x53dd7a(0x306)]()['push']()[_0x53dd7a(0x371)];db[_0x53dd7a(0x306)](_0x53dd7a(0x177)+roomCode+_0x53dd7a(0x231)+_0x386c41)[_0x53dd7a(0x176)]({'msg':username+'\x20is\x20online','sender':'system','senderId':_0x35892a[_0x53dd7a(0x2ec)],'timestamp':Date[_0x53dd7a(0x294)]()}),_0x35892a['gtLrb'](showScreen,_0x35892a[_0x53dd7a(0x359)]),document['getElementById'](_0x35892a[_0x53dd7a(0x3a6)])[_0x53dd7a(0x338)](_0x35892a['yxwDW'],_0x5044fc=>{const _0xd3d375=_0x53dd7a;_0x5044fc[_0xd3d375(0x354)]===0x3&&(_0x35892a[_0xd3d375(0x283)](role,_0x35892a['sUSVU'])||_0x35892a[_0xd3d375(0x28e)](role,_0xd3d375(0x203)))&&(_0x35892a[_0xd3d375(0x196)](confirm,_0xd3d375(0x198))&&db['ref'](_0xd3d375(0x177)+roomCode+_0xd3d375(0x141))[_0xd3d375(0x3d2)]()[_0xd3d375(0x1b2)](()=>{const _0x1fd264=_0xd3d375;document[_0x1fd264(0x2b0)](_0x1fd264(0x382))[_0x1fd264(0x286)]='';}));}),_0x35892a[_0x53dd7a(0x346)](listenForMessages),_0x35892a[_0x53dd7a(0x23c)](listenForTyping),_0x35892a[_0x53dd7a(0x1ea)](startInactivityTimer),_0x35892a['bNdAT'](trackPresence),watchProfileChanges(),watchMuteStatus(),startSidebarSyncLoop();const _0xb20ec2=()=>{const _0x8416f5=_0x53dd7a,_0x868bb9={'sAGkF':function(_0x23f689,_0x800e84){return _0x23f689(_0x800e84);},'nYUwf':function(_0x5d9321){const _0xcd77c2=_0x4cba;return _0x35892a[_0xcd77c2(0x23c)](_0x5d9321);}};_0x35892a[_0x8416f5(0x346)](loadRoomRoles)[_0x8416f5(0x1b2)](()=>{const _0x43928f=_0x8416f5;_0x868bb9[_0x43928f(0x436)](renderUserLists,roomUsers),_0x868bb9['nYUwf'](updateAnnouncementVisibility);});};db['ref'](_0x53dd7a(0x3bb))['on'](_0x35892a[_0x53dd7a(0x296)],_0xb20ec2),db['ref'](_0x53dd7a(0x3bb))['on'](_0x35892a['MfioU'],_0xb20ec2);});}function updateAnnouncementVisibility(){const _0x5b9e8f=_0xa6da94,_0xe3f486={'jhbrp':_0x5b9e8f(0x1c5),'sXPho':_0x5b9e8f(0x276),'WdQVZ':'none'},_0x8d3100=document['getElementById'](_0xe3f486[_0x5b9e8f(0x456)]);role===_0xe3f486[_0x5b9e8f(0x1dd)]||role===_0x5b9e8f(0x203)?_0x8d3100[_0x5b9e8f(0x438)][_0x5b9e8f(0x289)]='block':_0x8d3100[_0x5b9e8f(0x438)][_0x5b9e8f(0x289)]=_0xe3f486[_0x5b9e8f(0x25b)];}function watchProfileChanges(){const _0x3fe9c1=_0xa6da94,_0x109fdf={'GMatX':'user','ksSaK':function(_0x291f77,_0x17cb24){return _0x291f77+_0x17cb24;},'tbWyf':_0x3fe9c1(0x2ea),'CrxTH':_0x3fe9c1(0x241),'ocSrS':function(_0x11ca76,_0x26b991){return _0x11ca76(_0x26b991);},'LULYI':function(_0xef32d2,_0x722620){return _0xef32d2(_0x722620);},'kKdzk':'value'},_0x243c96=_0x109fdf['LULYI'](sanitizeUsername,username);db['ref'](_0x3fe9c1(0x282)+_0x243c96)['on'](_0x109fdf[_0x3fe9c1(0x184)],_0x36692a=>{const _0x14e058=_0x3fe9c1;if(!_0x36692a[_0x14e058(0x164)]())return;const _0x294ffe=_0x36692a[_0x14e058(0x3b5)]();userDescription=_0x294ffe[_0x14e058(0x2b6)]||'',avatarBase64=_0x294ffe[_0x14e058(0x392)]||'',role=_0x294ffe[_0x14e058(0x2dc)]||_0x109fdf[_0x14e058(0x1ef)];if(avatarBase64){const _0x2a1478=document[_0x14e058(0x2b0)]('sidebarAvatarPreview');!_0x2a1478[_0x14e058(0x24e)][_0x14e058(0x18d)](avatarBase64)&&(_0x2a1478[_0x14e058(0x24e)]=_0x109fdf[_0x14e058(0x3fb)](_0x109fdf['tbWyf'],avatarBase64),_0x2a1478[_0x14e058(0x438)][_0x14e058(0x289)]=_0x109fdf[_0x14e058(0x27f)]);}_0x109fdf[_0x14e058(0x45d)](renderUserLists,roomUsers);});}let lastImageTime=0x0;function uploadImage(_0x39dbe1){const _0x4a8714=_0xa6da94,_0x2b95f0={'knRcg':'🕒\x20Please\x20wait\x2010\x20seconds\x20before\x20sending\x20another\x20image.','yGkVm':function(_0x59bc48,_0x2e0d58){return _0x59bc48>_0x2e0d58;},'TjTal':function(_0x31aee1,_0x216764){return _0x31aee1*_0x216764;},'HdMgx':function(_0x1f7253,_0x57dbcb){return _0x1f7253*_0x57dbcb;},'rchHb':function(_0x808c67,_0x10e00b){return _0x808c67(_0x10e00b);}},_0x23bad3=Date[_0x4a8714(0x294)]();if(_0x23bad3-lastImageTime<0x2710){alert(_0x2b95f0[_0x4a8714(0x365)]);return;}lastImageTime=_0x23bad3;const _0x46acee=_0x39dbe1[_0x4a8714(0x158)][0x0];if(!_0x46acee||_0x2b95f0[_0x4a8714(0x34d)](_0x46acee['size'],_0x2b95f0[_0x4a8714(0x1b9)](_0x2b95f0[_0x4a8714(0x1d1)](0x2,0x400),0x400))){_0x2b95f0[_0x4a8714(0x14c)](alert,_0x4a8714(0x18f));return;}const _0xb9be46=new FileReader();_0xb9be46[_0x4a8714(0x154)]=()=>{const _0x33fcc0=_0x4a8714,_0x3068d0=_0xb9be46['result']['split'](',')[0x1],_0x3e6cf5=db[_0x33fcc0(0x306)]()[_0x33fcc0(0x352)]()['key'];db[_0x33fcc0(0x306)](_0x33fcc0(0x177)+roomCode+_0x33fcc0(0x231)+_0x3e6cf5)['set']({'imageBase64':_0x3068d0,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0xb9be46[_0x4a8714(0x328)](_0x46acee);}async function fetchProfile(_0x516f50){const _0x5ca43f=_0xa6da94,_0x5ab457=await db[_0x5ca43f(0x306)](_0x5ca43f(0x282)+_0x516f50)[_0x5ca43f(0x236)]();if(!_0x5ab457[_0x5ca43f(0x164)]())return null;return _0x5ab457['val']();}function validateStaticRoomPassword(){const _0x4d66a0=_0xa6da94,_0x47d867={'jYkQU':function(_0x488dbb,_0x28dcb3){return _0x488dbb(_0x28dcb3);},'qhgCd':_0x4d66a0(0x32c),'IjUmG':function(_0x255ce0,_0x413589){return _0x255ce0===_0x413589;},'MiSHl':_0x4d66a0(0x20e),'GFRYh':_0x4d66a0(0x241),'FoKKD':_0x4d66a0(0x461),'QmQSS':_0x4d66a0(0x1d8),'TggiJ':function(_0xf3c337,_0x5b0121){return _0xf3c337(_0x5b0121);},'yAZcH':'Please\x20enter\x20the\x20password.'},_0x4988c3=document[_0x4d66a0(0x2b0)](_0x47d867[_0x4d66a0(0x2c8)])[_0x4d66a0(0x3c0)][_0x4d66a0(0x15e)]();if(!_0x4988c3){_0x47d867[_0x4d66a0(0x3a4)](alert,_0x47d867[_0x4d66a0(0x34a)]);return;}db[_0x4d66a0(0x306)](_0x4d66a0(0x167)+STATIC_ROOM)[_0x4d66a0(0x236)]()[_0x4d66a0(0x1b2)](_0x49d1d9=>{const _0x33317f=_0x4d66a0;if(!_0x49d1d9[_0x33317f(0x164)]()){_0x47d867[_0x33317f(0x3f2)](alert,_0x47d867[_0x33317f(0x27d)]);return;}const _0x51db2e=_0x49d1d9[_0x33317f(0x3b5)]();_0x47d867['IjUmG'](_0x4988c3,_0x51db2e)?(roomCode=STATIC_ROOM,startChat()):(document[_0x33317f(0x2b0)](_0x47d867[_0x33317f(0x152)])['innerText']=_0x33317f(0x339),document[_0x33317f(0x2b0)](_0x47d867[_0x33317f(0x152)])[_0x33317f(0x438)][_0x33317f(0x289)]=_0x47d867[_0x33317f(0x1da)]);})[_0x4d66a0(0x36f)](_0x289c34=>{const _0x4c21e3=_0x4d66a0;console[_0x4c21e3(0x20f)](_0x289c34),alert(_0x47d867[_0x4c21e3(0x3c7)]);});}function listenForPauseState(){const _0x5a7b2a=_0xa6da94,_0x313eea={'JVZzA':function(_0x410367,_0x1e9647){return _0x410367===_0x1e9647;},'lstry':_0x5a7b2a(0x386),'DuguJ':_0x5a7b2a(0x241),'UYaat':_0x5a7b2a(0x381),'ttDqM':_0x5a7b2a(0x3c0)};db['ref'](_0x5a7b2a(0x419)+roomCode+_0x5a7b2a(0x349))['on'](_0x313eea['ttDqM'],_0x1f99b7=>{const _0x5b864a=_0x5a7b2a,_0x5a04d5=_0x1f99b7[_0x5b864a(0x164)]()&&_0x313eea[_0x5b864a(0x3a3)](_0x1f99b7[_0x5b864a(0x3b5)](),!![]);document['getElementById'](_0x313eea[_0x5b864a(0x41c)])[_0x5b864a(0x438)]['display']=_0x5a04d5?_0x313eea[_0x5b864a(0x443)]:_0x313eea[_0x5b864a(0x2d9)];});}const spamTimestamps=[];async function sendMessage(){const _0x255ff5=_0xa6da94,_0x525203={'Cfjkb':_0x255ff5(0x28f),'YQkYK':function(_0x350f3e,_0x778fb9){return _0x350f3e(_0x778fb9);},'KsAXs':'object','nAYDH':function(_0x1bbe17,_0x236f59){return _0x1bbe17>_0x236f59;},'uMCQo':_0x255ff5(0x213),'DDoGH':function(_0x5e1021,_0x14db16){return _0x5e1021===_0x14db16;},'AjbTT':_0x255ff5(0x203),'KHCgU':function(_0x7f0c49,_0x378714){return _0x7f0c49(_0x378714);},'PSfLP':'Room\x20is\x20currently\x20paused.','fJlkd':_0x255ff5(0x149),'piJEU':function(_0x282817,_0x4f2190){return _0x282817||_0x4f2190;},'dmBmK':function(_0x56b2c3,_0x263df6){return _0x56b2c3(_0x263df6);},'qUDTf':_0x255ff5(0x409),'TQOZJ':'2|0|3|4|5|1','ABEFo':_0x255ff5(0x242),'CwExj':function(_0x541ceb,_0x305a3e,_0x4a5b5c){return _0x541ceb(_0x305a3e,_0x4a5b5c);},'fLnkY':_0x255ff5(0x185),'rEgjM':_0x255ff5(0x3d7)},_0x91013b=await db[_0x255ff5(0x306)](_0x255ff5(0x419)+roomCode+_0x255ff5(0x349))[_0x255ff5(0x236)](),_0x27cbe8=await db[_0x255ff5(0x306)](_0x255ff5(0x1d3)+roomCode+'/'+_0x525203['YQkYK'](sanitizeUsername,username))[_0x255ff5(0x236)]();if(_0x27cbe8['exists']()){const _0x3f8861=_0x27cbe8[_0x255ff5(0x3b5)](),_0x1b052a=typeof _0x3f8861===_0x525203['KsAXs']&&_0x3f8861[_0x255ff5(0x168)]?_0x3f8861[_0x255ff5(0x168)]:_0x3f8861;if(_0x525203[_0x255ff5(0x2c1)](_0x1b052a,Date[_0x255ff5(0x294)]())){alert(_0x525203[_0x255ff5(0x1e5)]);return;}}if(_0x91013b[_0x255ff5(0x164)]()&&_0x525203['DDoGH'](_0x91013b[_0x255ff5(0x3b5)](),!![])&&role!==_0x525203[_0x255ff5(0x33f)]){_0x525203['KHCgU'](alert,_0x525203['PSfLP']);return;}const _0x4b55b9=document['getElementById'](_0x525203[_0x255ff5(0x2e1)]),_0x2b9537=_0x4b55b9['value']['trim']();if(_0x525203[_0x255ff5(0x1eb)](!_0x2b9537,isBlocked))return;const _0x598494=Date[_0x255ff5(0x294)](),_0x12c6fc=_0x2b9537[_0x255ff5(0x20a)](),_0x47998f=swearWords['some'](_0x16640d=>_0x12c6fc['includes'](_0x16640d));if(_0x47998f){_0x525203[_0x255ff5(0x2a7)](alert,_0x525203[_0x255ff5(0x36a)]);return;}spamTimestamps[_0x255ff5(0x352)](_0x598494);const _0x932880=spamTimestamps['filter'](_0x1b6fee=>_0x598494-_0x1b6fee<0x1b58);if(_0x932880[_0x255ff5(0x1b0)]>0x5){const _0x246099=_0x525203['TQOZJ'][_0x255ff5(0x2b7)]('|');let _0x4398ee=0x0;while(!![]){switch(_0x246099[_0x4398ee++]){case'0':_0x4b55b9[_0x255ff5(0x3c8)]=!![];continue;case'1':return;case'2':isBlocked=!![];continue;case'3':_0x4b55b9['placeholder']=_0x255ff5(0x28d);continue;case'4':_0x525203[_0x255ff5(0x35c)](alert,_0x525203[_0x255ff5(0x376)]);continue;case'5':_0x525203['CwExj'](setTimeout,()=>{const _0x439837=_0x255ff5;isBlocked=![],_0x4b55b9[_0x439837(0x3c8)]=![],_0x4b55b9[_0x439837(0x317)]=_0x525203[_0x439837(0x1f6)],spamTimestamps[_0x439837(0x1b0)]=0x0;},0x7530);continue;}break;}}const _0xa2dc40=_0x2b9537['match'](/(.)\1{14,}/);if(_0xa2dc40){_0x525203['dmBmK'](alert,_0x525203[_0x255ff5(0x39d)]);return;}const _0x549b4e=localStorage[_0x255ff5(0x38b)](_0x525203[_0x255ff5(0x25c)])||'',_0xab129e=db[_0x255ff5(0x306)]()[_0x255ff5(0x352)]()[_0x255ff5(0x371)];db['ref'](_0x255ff5(0x177)+roomCode+_0x255ff5(0x231)+_0xab129e)[_0x255ff5(0x176)]({'msg':_0x2b9537,'sender':username,'senderId':clientId,'avatarBase64':_0x549b4e,'timestamp':_0x598494}),_0x4b55b9[_0x255ff5(0x3c0)]='',_0x525203[_0x255ff5(0x2a7)](sendTyping,!![]),lastActivity=_0x598494;}function listenForMessages(){const _0x31a6f1=_0xa6da94,_0x28709e={'RwgsP':function(_0x5e0f32,_0xc66ed8){return _0x5e0f32!==_0xc66ed8;},'tGCEp':'system','cMADO':function(_0x101f05){return _0x101f05();},'LdceP':function(_0x51159b,_0x51dde9){return _0x51159b&&_0x51dde9;},'ZeShF':_0x31a6f1(0x32f),'sjbmu':_0x31a6f1(0x3fa),'JoGxQ':_0x31a6f1(0x192),'RwxzP':_0x31a6f1(0x1c6),'fMTPy':function(_0x53d17e,_0xcdcdf6){return _0x53d17e||_0xcdcdf6;},'FFEAs':function(_0x511c7a,_0x3d1fbe){return _0x511c7a>_0x3d1fbe;},'ukLfN':function(_0x4b6dc4,_0x505763){return _0x4b6dc4-_0x505763;},'hwEpk':_0x31a6f1(0x2dd),'LaEUa':_0x31a6f1(0x3c0),'sbpzt':'child_removed'},_0x2cb7a6=db[_0x31a6f1(0x306)](_0x31a6f1(0x177)+roomCode+'/messages'),_0x895213=_0x2cb7a6[_0x31a6f1(0x20d)](MAX_MESSAGES);userListReady=!![],_0x895213['on'](_0x28709e[_0x31a6f1(0x396)],_0x33c977=>{const _0x2f9205=_0x31a6f1,_0x4f89c0=_0x33c977[_0x2f9205(0x3b5)](),{senderId:_0x1e1be0}=_0x4f89c0,_0x4021e0=_0x1e1be0===clientId;if(!userListReady){pendingMessages['forEach'](({data:_0x19b4cb,sent:_0x4e2877,key:_0x87a1a})=>{addMessage(_0x19b4cb,_0x4e2877,_0x87a1a);}),pendingMessages=[];return;}const _0x1b7cfb=_0x4f89c0[_0x2f9205(0x1a9)]||null,_0x416f08=_0x4f89c0[_0x2f9205(0x3ee)]||null;addMessage(_0x4f89c0,_0x4021e0,_0x33c977[_0x2f9205(0x371)]);if(_0x28709e['RwgsP'](roomCode,STATIC_ROOM)&&_0x28709e['RwgsP'](_0x4f89c0['sender'],_0x28709e[_0x2f9205(0x18c)])){}!_0x4021e0&&(sound[_0x2f9205(0x215)](),_0x28709e[_0x2f9205(0x3f1)](flagPageAttention));if(_0x28709e[_0x2f9205(0x1fe)](notificationsEnabled,!_0x4021e0)&&Notification[_0x2f9205(0x1a7)]===_0x2f9205(0x408)){const _0x3adaca=_0x4f89c0[_0x2f9205(0x3ed)]||(_0x4f89c0[_0x2f9205(0x3ee)]?_0x28709e['ZeShF']:_0x4f89c0[_0x2f9205(0x35d)]?_0x28709e['sjbmu']:_0x28709e[_0x2f9205(0x397)]);new Notification('💬\x20'+_0x4f89c0[_0x2f9205(0x3de)],{'body':_0x3adaca,'icon':_0x28709e[_0x2f9205(0x3b3)]});}}),_0x2cb7a6[_0x31a6f1(0x206)](_0x28709e[_0x31a6f1(0x2b8)])[_0x31a6f1(0x1b2)](_0x52af01=>{const _0x4b52bb=_0x31a6f1,_0x1cfe47=_0x52af01[_0x4b52bb(0x3b5)](),_0x3cb704=Object[_0x4b52bb(0x2ae)](_0x28709e[_0x4b52bb(0x1f1)](_0x1cfe47,{}));if(_0x28709e[_0x4b52bb(0x2a6)](_0x3cb704[_0x4b52bb(0x1b0)],MAX_MESSAGES)){const _0x1a0a37=_0x28709e[_0x4b52bb(0x36b)](_0x3cb704[_0x4b52bb(0x1b0)],MAX_MESSAGES),_0x23adc1=_0x3cb704['sort']((_0x1ae499,_0x21b9e8)=>_0x1cfe47[_0x1ae499][_0x4b52bb(0x2be)]-_0x1cfe47[_0x21b9e8][_0x4b52bb(0x2be)])[_0x4b52bb(0x15c)](0x0,_0x1a0a37);_0x23adc1[_0x4b52bb(0x188)](_0x41c2a5=>{const _0x5a5104=_0x4b52bb;db[_0x5a5104(0x306)](_0x5a5104(0x177)+roomCode+_0x5a5104(0x231)+_0x41c2a5)['remove']();});}}),db[_0x31a6f1(0x306)](_0x31a6f1(0x177)+roomCode+_0x31a6f1(0x17c))['on'](_0x28709e[_0x31a6f1(0x27e)],_0x2341d2=>{const _0xa03bdf=_0x31a6f1,_0x28e99b=_0x2341d2[_0xa03bdf(0x371)],_0x938f75=document['querySelector'](_0xa03bdf(0x290)+_0x28e99b+'\x22]');if(_0x938f75)_0x938f75[_0xa03bdf(0x3d2)]();});}function stackNotification(_0x49701a,_0x598d7d){const _0x367ef4=_0xa6da94,_0x6a8e9={'AxPIL':function(_0x3284a1,_0x589fb8){return _0x3284a1(_0x589fb8);},'NIdau':function(_0x42b2b6,_0x4ece4c,_0x539857){return _0x42b2b6(_0x4ece4c,_0x539857);}};notificationStack['push']({'sender':_0x49701a,'content':_0x598d7d}),_0x6a8e9[_0x367ef4(0x14f)](clearTimeout,notificationTimer),notificationTimer=_0x6a8e9[_0x367ef4(0x3df)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x23543e=_0xa6da94,_0x1982bc={'wBGma':_0x23543e(0x36e),'OIywc':_0x23543e(0x1c6),'finOS':'granted','ZlLxO':function(_0x500fe0,_0x4b6d09){return _0x500fe0||_0x4b6d09;},'dNqeL':function(_0x3c45b2,_0x945f07){return _0x3c45b2===_0x945f07;},'bQrHF':function(_0x220493,_0x559e09,_0x168321){return _0x220493(_0x559e09,_0x168321);}};if(!notificationStack[_0x23543e(0x1b0)]||Notification[_0x23543e(0x1a7)]!==_0x1982bc[_0x23543e(0x14d)])return;const _0x31ddd8=[...new Set(notificationStack[_0x23543e(0x249)](_0x20c18b=>_0x20c18b[_0x23543e(0x3de)]))],_0xfe7217=_0x1982bc['ZlLxO'](roomCode,_0x23543e(0x29a)),_0x2c6d41=_0x1982bc['dNqeL'](_0x31ddd8['length'],0x1)?'You\x20got\x20a\x20message\x20from\x20'+_0x31ddd8[0x0]+'\x20in\x20room\x20'+_0xfe7217+':\x20'+notificationStack[0x0][_0x23543e(0x248)]:_0x23543e(0x3a0)+_0x31ddd8[_0x23543e(0x1d6)](',\x20')+_0x23543e(0x2e6)+_0xfe7217;_0x1982bc['bQrHF'](setTimeout,()=>{const _0x33c594=_0x23543e;new Notification(_0x1982bc[_0x33c594(0x307)],{'body':_0x2c6d41,'icon':_0x1982bc[_0x33c594(0x175)]});},0x64);}async function addMessage(_0xb26ed,_0x339742,_0x36badd=null){const _0x4541ae=_0xa6da94,_0x4382aa={'gMqoI':_0x4541ae(0x383),'ZNuts':_0x4541ae(0x3e8),'MsVQk':'flex','fEdLc':_0x4541ae(0x316),'tKPuK':_0x4541ae(0x2bf),'hDBJF':_0x4541ae(0x2b1),'Xdxnk':function(_0x785a03,_0x21e969,_0x59e862){return _0x785a03(_0x21e969,_0x59e862);},'iaRXB':function(_0x45045f,_0x422d6f){return _0x45045f(_0x422d6f);},'RQCYU':function(_0x5c7047,_0x15d305,_0x459c58){return _0x5c7047(_0x15d305,_0x459c58);},'xnSKe':function(_0x489d06,_0x4ce1f5){return _0x489d06>_0x4ce1f5;},'BxSFG':function(_0x4862d8,_0x5ed7ce){return _0x4862d8===_0x5ed7ce;},'bPjFl':function(_0x515ed3,_0x34fa37){return _0x515ed3(_0x34fa37);},'YvRSP':_0x4541ae(0x151),'ttnFs':function(_0x578f5e,_0x5ab998){return _0x578f5e(_0x5ab998);},'ZTErK':_0x4541ae(0x284),'fjfBW':function(_0x3202c5,_0x2fb440){return _0x3202c5===_0x2fb440;},'YDUZZ':_0x4541ae(0x1e6),'socHB':'system-msg','ARbSP':_0x4541ae(0x418),'papbR':_0x4541ae(0x40f),'uYrLA':'msg','UxjnZ':_0x4541ae(0x3bc),'HWItL':_0x4541ae(0x3b6),'CfGZv':_0x4541ae(0x17f),'mzxVq':function(_0x430358,_0x129bb7){return _0x430358(_0x129bb7);},'ejzIR':_0x4541ae(0x3c5),'EZBJW':_0x4541ae(0x287),'ODFcn':'16px','YLJzU':_0x4541ae(0x165),'ankVP':_0x4541ae(0x381),'VIgbY':_0x4541ae(0x35b),'pIOIU':_0x4541ae(0x197),'MARUD':_0x4541ae(0x303),'kWXKI':_0x4541ae(0x25d),'WfiAE':'120px','NISXT':'normal','DpfnZ':_0x4541ae(0x16e),'SOuhD':'repeat(auto-fill,\x20minmax(32px,\x201fr))','TDBRJ':'0\x202px\x206px\x20rgba(0,0,0,0.5)','HeJSM':_0x4541ae(0x429),'iDCGS':'touchstart','JOKYl':_0x4541ae(0x135),'RAtir':_0x4541ae(0x3c0),'GQqUL':_0x4541ae(0x203),'iGtja':'admin','BsRKY':_0x4541ae(0x35e)},{msg:_0x3dc984,sender:_0x2a017,senderId:_0x2177d6,timestamp:_0x5464ec,audioUrl:_0x5588ee,audioBase64:_0x462cd8,imageBase64:_0x43ba06}=_0xb26ed,_0x897a44=_0x4382aa[_0x4541ae(0x430)](sanitizeUsername,_0x2a017),_0x4455b9=document[_0x4541ae(0x219)](_0x4382aa[_0x4541ae(0x3f4)]);if(_0x4382aa[_0x4541ae(0x2c0)](_0xb26ed[_0x4541ae(0x3de)],_0x4382aa[_0x4541ae(0x2f9)])){const _0x56878c=document['createElement'](_0x4382aa[_0x4541ae(0x3f4)]);_0x56878c[_0x4541ae(0x207)]=_0x4382aa['socHB'],_0x56878c[_0x4541ae(0x28c)][_0x4541ae(0x334)]=_0x36badd||_0xb26ed[_0x4541ae(0x2be)],_0x56878c['dataset']['timestamp']=_0xb26ed[_0x4541ae(0x2be)],_0x56878c[_0x4541ae(0x438)][_0x4541ae(0x407)]=_0x4382aa[_0x4541ae(0x41e)],_0x56878c['style'][_0x4541ae(0x336)]=_0x4541ae(0x25e),_0x56878c[_0x4541ae(0x438)][_0x4541ae(0x414)]=_0x4382aa[_0x4541ae(0x3d4)],_0x56878c[_0x4541ae(0x438)]['margin']=_0x4541ae(0x166),_0x56878c[_0x4541ae(0x286)]=_0xb26ed[_0x4541ae(0x3ed)];const _0x179c47=document['getElementById'](_0x4382aa['papbR']);_0x179c47[_0x4541ae(0x21d)](_0x56878c);const _0x1734dd=Array['from'](_0x179c47[_0x4541ae(0x366)]);_0x1734dd['sort']((_0x55cd17,_0x49c6be)=>{const _0x48705f=_0x4541ae;return(+_0x55cd17[_0x48705f(0x28c)][_0x48705f(0x2be)]||0x0)-(+_0x49c6be[_0x48705f(0x28c)][_0x48705f(0x2be)]||0x0);}),_0x179c47[_0x4541ae(0x132)]='',_0x1734dd[_0x4541ae(0x188)](_0x497794=>_0x179c47['appendChild'](_0x497794)),_0x179c47['scrollTop']=_0x179c47['scrollHeight'];return;}_0x4455b9[_0x4541ae(0x384)][_0x4541ae(0x280)](_0x4382aa['uYrLA'],_0x339742?_0x4382aa['UxjnZ']:_0x4541ae(0x43b)),_0x4455b9[_0x4541ae(0x438)][_0x4541ae(0x421)]=_0x4382aa[_0x4541ae(0x325)];_0x36badd&&(_0x4455b9[_0x4541ae(0x28c)][_0x4541ae(0x334)]=_0x36badd);const _0x2c87ea=new Date(_0x5464ec)[_0x4541ae(0x209)]([],{'hour':_0x4382aa['CfGZv'],'minute':_0x4382aa[_0x4541ae(0x2fe)]}),_0xa3ccc2=_0x4382aa['mzxVq'](getRoleTag,_0x897a44),_0x3afc99=await _0x4382aa[_0x4541ae(0x430)](fetchAvatar,_0x897a44),_0x2a97d3=_0x3afc99?_0x4541ae(0x3ea)+_0x3afc99+_0x4541ae(0x1e7):'',_0x435b42=_0x2a97d3+_0x4541ae(0x1b4)+_0x2a017+'\x20'+_0xa3ccc2+_0x4541ae(0x2aa),_0x2062ed=_0x3dc984?.[_0x4541ae(0x1d9)](new RegExp('@'+username+'\x5cb','gi'),_0x4541ae(0x208));let _0xa0bb13=_0x435b42+_0x4541ae(0x3e9);if(_0x5588ee)_0xa0bb13+=_0x4541ae(0x239)+_0x5588ee+_0x4541ae(0x268);else{if(_0x462cd8){const _0x2a7eca=_0x4541ae(0x378)+_0x462cd8;_0xa0bb13+=_0x4541ae(0x239)+_0x2a7eca+_0x4541ae(0x268);}else{if(_0x43ba06){const _0x131e1b='data:image/png;base64,'+_0x43ba06;_0xa0bb13+=_0x4541ae(0x26b)+_0x131e1b+_0x4541ae(0x399);}else{const _0x5d816a=_0x2062ed[_0x4541ae(0x1d9)](/(https?:\/\/[^\s]+)/g,_0x1750c2=>{const _0x4031e0=_0x4541ae;return _0x4031e0(0x170)+_0x1750c2+_0x4031e0(0x2fa)+_0x1750c2+_0x4031e0(0x368);});_0xa0bb13+=_0x4541ae(0x2fc)+_0x5d816a+_0x4541ae(0x3d1);}}}_0xa0bb13+=_0x4541ae(0x2b4)+_0x2c87ea+_0x4541ae(0x1ae),_0x4455b9[_0x4541ae(0x132)]=_0xa0bb13;const _0x12a2d7=document[_0x4541ae(0x219)](_0x4382aa[_0x4541ae(0x3f4)]);_0x12a2d7['className']=_0x4382aa[_0x4541ae(0x1bd)],_0x12a2d7[_0x4541ae(0x438)][_0x4541ae(0x23b)]=_0x4382aa[_0x4541ae(0x21c)],_0x12a2d7[_0x4541ae(0x438)][_0x4541ae(0x336)]=_0x4382aa[_0x4541ae(0x13d)],_0x4455b9['appendChild'](_0x12a2d7);const _0x2db735=document[_0x4541ae(0x219)]('div');_0x2db735['className']=_0x4382aa[_0x4541ae(0x16a)];const _0x18b288=['❤️','😂','😮','😢','👎','💀','🤯'];_0x2db735[_0x4541ae(0x132)]=_0x18b288[_0x4541ae(0x249)](_0x309980=>_0x4541ae(0x348)+_0x309980+_0x4541ae(0x36c))[_0x4541ae(0x1d6)](''),_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x289)]=_0x4382aa[_0x4541ae(0x146)],_0x2db735[_0x4541ae(0x438)]['position']='absolute',_0x2db735[_0x4541ae(0x438)]['background']=_0x4382aa[_0x4541ae(0x3f9)],_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x180)]=_0x4382aa['pIOIU'],_0x2db735[_0x4541ae(0x438)]['borderRadius']='10px',_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x336)]=_0x4541ae(0x431),_0x2db735['style']['top']=_0x4382aa['MARUD'],_0x2db735['style']['left']=_0x4382aa[_0x4541ae(0x432)],_0x2db735[_0x4541ae(0x438)]['zIndex']='10',_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x16f)]=_0x4541ae(0x183),_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x36d)]=_0x4382aa[_0x4541ae(0x1b7)],_0x2db735['style']['whiteSpace']=_0x4382aa[_0x4541ae(0x217)],_0x2db735['style']['display']=_0x4382aa['DpfnZ'],_0x2db735['style'][_0x4541ae(0x23d)]=_0x4382aa[_0x4541ae(0x240)],_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x360)]='4px',_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x143)]=_0x4382aa['TDBRJ'],Array[_0x4541ae(0x28a)](_0x2db735[_0x4541ae(0x366)])[_0x4541ae(0x188)](_0x57278e=>{const _0x205208=_0x4541ae;_0x57278e[_0x205208(0x438)][_0x205208(0x403)]=_0x4382aa['gMqoI'],_0x57278e[_0x205208(0x45f)]=_0x106ec1=>{const _0x22fc71=_0x205208;_0x106ec1[_0x22fc71(0x2e9)]();const _0x369661=_0x57278e['textContent'];reactToMessage(_0x36badd,_0x369661);};}),Array[_0x4541ae(0x28a)](_0x2db735[_0x4541ae(0x366)])[_0x4541ae(0x188)](_0x28b16c=>{const _0x2c5efc=_0x4541ae,_0x6b2945=_0x2c5efc(0x2ac)['split']('|');let _0x323e91=0x0;while(!![]){switch(_0x6b2945[_0x323e91++]){case'0':_0x28b16c[_0x2c5efc(0x438)][_0x2c5efc(0x190)]=_0x4382aa['ZNuts'];continue;case'1':_0x28b16c[_0x2c5efc(0x438)]['display']=_0x4382aa['MsVQk'];continue;case'2':_0x28b16c['style'][_0x2c5efc(0x13f)]=_0x4382aa[_0x2c5efc(0x2ad)];continue;case'3':_0x28b16c[_0x2c5efc(0x438)][_0x2c5efc(0x1ab)]=_0x4382aa[_0x2c5efc(0x2ad)];continue;case'4':_0x28b16c['style']['fontSize']=_0x4382aa['tKPuK'];continue;case'5':_0x28b16c[_0x2c5efc(0x438)]['justifyContent']='center';continue;}break;}}),_0x4455b9[_0x4541ae(0x21d)](_0x2db735),_0x2db735[_0x4541ae(0x438)][_0x4541ae(0x289)]=_0x4382aa['ankVP'];let _0xa0c8cb;_0x4455b9[_0x4541ae(0x338)](_0x4382aa[_0x4541ae(0x266)],()=>{const _0x4b03c7=_0x4541ae;_0xa0c8cb=_0x4382aa[_0x4b03c7(0x3f5)](setTimeout,()=>{const _0x18eb2a=_0x4b03c7;_0x2db735[_0x18eb2a(0x438)][_0x18eb2a(0x289)]=_0x4382aa[_0x18eb2a(0x44e)];},0x5dc);}),_0x4455b9['addEventListener'](_0x4541ae(0x229),()=>{const _0x4454a9=_0x4541ae;_0x4382aa[_0x4454a9(0x211)](clearTimeout,_0xa0c8cb),_0x2db735[_0x4454a9(0x438)][_0x4454a9(0x289)]=_0x4454a9(0x381);});let _0xde790b;_0x4455b9[_0x4541ae(0x338)](_0x4382aa[_0x4541ae(0x186)],()=>{_0xde790b=_0x4382aa['RQCYU'](setTimeout,()=>{const _0x33b31a=_0x4cba;_0x2db735['style'][_0x33b31a(0x289)]=_0x33b31a(0x2b1);},0x5dc);}),_0x4455b9['addEventListener'](_0x4382aa[_0x4541ae(0x2e3)],()=>clearTimeout(_0xde790b));_0x36badd&&db['ref']('rooms/'+roomCode+_0x4541ae(0x231)+_0x36badd+_0x4541ae(0x389))['on'](_0x4382aa[_0x4541ae(0x2a4)],_0x2d3575=>{const _0x1a28e6=_0x4541ae;if(!_0x2d3575[_0x1a28e6(0x164)]()){_0x12a2d7[_0x1a28e6(0x132)]='';return;}const _0x578407=_0x2d3575['val']();let _0x1e796e='';Object[_0x1a28e6(0x272)](_0x578407)[_0x1a28e6(0x188)](([_0x23d264,_0x547f91])=>{const _0x546f47=_0x1a28e6;Array['isArray'](_0x547f91)&&_0x4382aa[_0x546f47(0x357)](_0x547f91[_0x546f47(0x1b0)],0x0)&&(_0x1e796e+=_0x546f47(0x21e)+_0x23d264+'\x20'+_0x547f91[_0x546f47(0x1b0)]+_0x546f47(0x2aa));}),_0x12a2d7[_0x1a28e6(0x132)]=_0x1e796e;});if([_0x4382aa[_0x4541ae(0x44f)],_0x4382aa['iGtja'],_0x4541ae(0x30c)]['includes'](role)){let _0x306e41=0x0;_0x4455b9[_0x4541ae(0x338)](_0x4382aa['BsRKY'],()=>{const _0x2f1013=_0x4541ae;_0x306e41++,_0x4382aa[_0x2f1013(0x210)](_0x306e41,0x3)&&(_0x4382aa['bPjFl'](confirm,_0x4382aa[_0x2f1013(0x221)])&&(db[_0x2f1013(0x306)](_0x2f1013(0x177)+roomCode+_0x2f1013(0x231)+_0x36badd)[_0x2f1013(0x3d2)](),_0x4455b9[_0x2f1013(0x3d2)]())),setTimeout(()=>_0x306e41=0x0,0x5dc);});}const _0x462ba6=document[_0x4541ae(0x2b0)](_0x4382aa['papbR']);_0x462ba6[_0x4541ae(0x21d)](_0x4455b9),_0x462ba6[_0x4541ae(0x25a)]=_0x462ba6[_0x4541ae(0x314)];}function cleanupOldRooms(){const _0x1913da=_0xa6da94,_0x2f2685={'FDEyT':function(_0x1cc1cd,_0x5183c3){return _0x1cc1cd!==_0x5183c3;},'GSqDK':function(_0x361e45,_0x22cbb4){return _0x361e45!==_0x22cbb4;},'SylZY':function(_0x4aad44,_0x4cdb5b){return _0x4aad44===_0x4cdb5b;},'PxWJj':function(_0x37428b,_0x3b973c){return _0x37428b>_0x3b973c;},'DVsHt':function(_0xf218b2,_0x206f49){return _0xf218b2-_0x206f49;},'gIqea':function(_0x5832ab,_0x47eb39){return _0x5832ab*_0x47eb39;},'bxlJe':function(_0x2b5054,_0x1c29bf){return _0x2b5054+_0x1c29bf;},'Dsjma':'antispam','DipIv':'antispamBlocked','cSXxN':'value','PIcSJ':'rooms'};db[_0x1913da(0x306)](_0x2f2685[_0x1913da(0x465)])[_0x1913da(0x206)](_0x1913da(0x3c0))[_0x1913da(0x1b2)](_0x36555d=>{const _0x38c883=_0x1913da,_0x37764a={'nFMSF':function(_0x4051d9,_0x327618){const _0x3cdeca=_0x4cba;return _0x2f2685[_0x3cdeca(0x2cc)](_0x4051d9,_0x327618);}},_0x342695=_0x36555d[_0x38c883(0x3b5)]();if(!_0x342695)return;const _0x4b9aff=Date['now']();for(const _0x3b7d50 in _0x342695){if(_0x2f2685[_0x38c883(0x264)](_0x3b7d50,STATIC_ROOM))continue;const _0x1fdfab=_0x342695[_0x3b7d50];_0x2f2685['PxWJj'](_0x2f2685['DVsHt'](_0x4b9aff,_0x1fdfab[_0x38c883(0x298)]||0x0),_0x2f2685['gIqea'](0x2*0x3c,0x3e8))&&db[_0x38c883(0x306)](_0x2f2685[_0x38c883(0x278)](_0x38c883(0x177),_0x3b7d50))['remove']();}db['ref'](_0x2f2685[_0x38c883(0x182)])[_0x38c883(0x206)](_0x38c883(0x3c0))['then'](_0x3f7a42=>{const _0x2ac135=_0x38c883,_0x597257=_0x3f7a42[_0x2ac135(0x3b5)]();if(!_0x597257)return;for(const _0x8f2eb5 in _0x597257){if(_0x2f2685['FDEyT'](_0x8f2eb5,STATIC_ROOM))db[_0x2ac135(0x306)]('antispam/'+_0x8f2eb5)['remove']();}}),db[_0x38c883(0x306)](_0x2f2685[_0x38c883(0x402)])[_0x38c883(0x206)](_0x2f2685[_0x38c883(0x345)])[_0x38c883(0x1b2)](_0x974b19=>{const _0x6e231e=_0x38c883,_0x4f4dfc=_0x974b19[_0x6e231e(0x3b5)]();if(!_0x4f4dfc)return;for(const _0x12ed46 in _0x4f4dfc){if(_0x37764a['nFMSF'](_0x12ed46,STATIC_ROOM))db[_0x6e231e(0x306)](_0x6e231e(0x40b)+_0x12ed46)[_0x6e231e(0x3d2)]();}});});}document['addEventListener'](_0xa6da94(0x428),()=>{const _0x18864b=_0xa6da94,_0xa7ea46={'aQkMP':function(_0x45cbe7,_0x552d52){return _0x45cbe7===_0x552d52;},'pKvZK':_0x18864b(0x14b),'qRnkk':function(_0xbbe46e){return _0xbbe46e();},'JIzzM':'msgInput','qdZsX':'keypress'},_0x33629a=document[_0x18864b(0x2b0)](_0xa7ea46[_0x18864b(0x1db)]);_0x33629a&&_0x33629a[_0x18864b(0x338)](_0xa7ea46['qdZsX'],function(_0x12ab66){const _0x507a99=_0x18864b;_0xa7ea46[_0x507a99(0x137)](_0x12ab66[_0x507a99(0x371)],_0xa7ea46[_0x507a99(0x405)])&&(_0x12ab66[_0x507a99(0x394)](),_0xa7ea46[_0x507a99(0x195)](sendMessage));});});function showScreen(_0x582cb5){const _0xe2c4c6=_0xa6da94,_0x3b9960={'ntRvI':_0xe2c4c6(0x201),'fTwQV':'chatScreen','dMWMT':_0xe2c4c6(0x41a),'wPMOv':'profileScreen','ysBps':_0xe2c4c6(0x300),'iIpgv':_0xe2c4c6(0x32b),'cXgZS':_0xe2c4c6(0x2c7)};['usernameScreen',_0xe2c4c6(0x455),_0x3b9960['ntRvI'],_0x3b9960[_0xe2c4c6(0x2cf)],_0x3b9960['dMWMT'],_0x3b9960[_0xe2c4c6(0x2ed)],_0x3b9960[_0xe2c4c6(0x29b)],_0x3b9960[_0xe2c4c6(0x2ba)],_0x3b9960[_0xe2c4c6(0x258)]][_0xe2c4c6(0x188)](_0x13a17b=>{const _0x4146e5=_0xe2c4c6;document[_0x4146e5(0x2b0)](_0x13a17b)['style'][_0x4146e5(0x289)]=_0x4146e5(0x381);}),document[_0xe2c4c6(0x2b0)](_0x582cb5)[_0xe2c4c6(0x438)][_0xe2c4c6(0x289)]=_0xe2c4c6(0x1ac);}function genRoomCode(){const _0x1f8b7b=_0xa6da94,_0x40e9eb={'mzDXN':_0x1f8b7b(0x273),'NQXNb':_0x1f8b7b(0x2ce),'FfCwE':function(_0x226331,_0x276a7a){return _0x226331+_0x276a7a;},'XcPFk':function(_0x33c636,_0x54deb7,_0x4bd6d6){return _0x33c636(_0x54deb7,_0x4bd6d6);},'AgVLF':function(_0x30d016,_0x59ee13,_0x33c8cc){return _0x30d016(_0x59ee13,_0x33c8cc);}},_0x545484=_0x40e9eb[_0x1f8b7b(0x2a5)],_0x19d141=_0x40e9eb[_0x1f8b7b(0x2d6)],_0x227109=(_0x5d8ef9,_0xeef2cf)=>Array[_0x1f8b7b(0x28a)]({'length':_0xeef2cf},()=>_0x5d8ef9[Math['floor'](Math[_0x1f8b7b(0x387)]()*_0x5d8ef9[_0x1f8b7b(0x1b0)])])[_0x1f8b7b(0x1d6)]('');return _0x40e9eb['FfCwE'](_0x40e9eb[_0x1f8b7b(0x332)](_0x40e9eb['FfCwE'](_0x40e9eb[_0x1f8b7b(0x2a3)](_0x227109,_0x19d141,0x3),_0x40e9eb[_0x1f8b7b(0x2a3)](_0x227109,_0x545484,0x3)),_0x40e9eb[_0x1f8b7b(0x451)](_0x227109,_0x19d141,0x2)),_0x40e9eb[_0x1f8b7b(0x2a3)](_0x227109,_0x545484,0x2));}function startInactivityTimer(){const _0x36e6f7=_0xa6da94,_0x367d42={'wkFpk':function(_0x3c9006,_0x376729){return _0x3c9006>_0x376729;},'NCrDK':function(_0x3f7f74,_0x4c2a04){return _0x3f7f74-_0x4c2a04;},'dIlEU':function(_0x1fcf26,_0x1fa76c){return _0x1fcf26*_0x1fa76c;},'zgwKW':function(_0x21f72e,_0x1a6d74){return _0x21f72e*_0x1a6d74;},'qTQSg':function(_0x2fd1dd,_0x4192d2){return _0x2fd1dd!==_0x4192d2;},'hAIaN':function(_0x36c5e2,_0x4b925a){return _0x36c5e2+_0x4b925a;},'WDOxn':_0x36e6f7(0x177),'gSroG':function(_0x1a1c62,_0x325ec5){return _0x1a1c62(_0x325ec5);},'YDClY':_0x36e6f7(0x39a),'znkuK':function(_0x4ffc18,_0x5ae7eb,_0x117760){return _0x4ffc18(_0x5ae7eb,_0x117760);}};_0x367d42[_0x36e6f7(0x440)](setInterval,()=>{const _0x2bf144=_0x36e6f7;_0x367d42['wkFpk'](_0x367d42['NCrDK'](Date[_0x2bf144(0x294)](),lastActivity),_0x367d42['dIlEU'](_0x367d42[_0x2bf144(0x391)](0x5,0x3c),0x3e8))&&_0x367d42['qTQSg'](roomCode,STATIC_ROOM)&&(db['ref'](_0x367d42[_0x2bf144(0x38a)](_0x367d42[_0x2bf144(0x1af)],roomCode))['update']({'active':![]}),_0x367d42[_0x2bf144(0x3c6)](alert,_0x367d42[_0x2bf144(0x133)]),location[_0x2bf144(0x3b8)]());},0x7530);}function setupSidebarBackHandler(){const _0x44e82d=_0xa6da94,_0x3e8d0f={'KLUTs':_0x44e82d(0x38c),'QeATp':'popstate'};window['addEventListener'](_0x3e8d0f[_0x44e82d(0x3a7)],()=>{const _0xa954f6=_0x44e82d,_0x629ece=document[_0xa954f6(0x2b0)]('userSidebar');_0x629ece?.[_0xa954f6(0x384)][_0xa954f6(0x145)](_0x3e8d0f[_0xa954f6(0x3c1)])&&_0x629ece[_0xa954f6(0x384)][_0xa954f6(0x3d2)](_0xa954f6(0x38c));});}function _0x10f3(){const _0x1a3149=['<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','ixfWx','subtle','985049198428','7WHUacD','YDUZZ','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22\x20style=\x22color:#0ff;\x22>','\x0aLast\x20Changed:\x20','<div>','\x20promoted\x20to\x20Moderator!','CfGZv','profiles/','profileViewer','kmGQO','Failed\x20to\x20save\x20profile:','-45px','78254bcFPAd','substr','ref','wBGma','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','cBxZL','Microphone\x20permission\x20denied.','KReXi','moderator','userAgent','kNKWk','concat','SMmwA','authPasswordConfirm','AYasn','encode','scrollHeight','LPViW','32px','placeholder','raBzX','getUserMedia','hJHaA','Email\x20not\x20found.','toLocaleString','aIFGQ','Ahtee','verificationTracker/','DgWuS','feEIF','hAIqY','signOut','vincn','HWItL','2px\x20solid\x20red','xrPew','readAsDataURL','PqExj','vYLKv','authScreen','Room\x20password\x20not\x20set.\x20Cannot\x20join.','pushState','vaEER','[Voice\x20Message]','NFaId','1862670SfIsPR','FfCwE','QhsgV','msgId','bDobG','fontSize','MsWFD','addEventListener','Incorrect\x20password','\x27,\x201)\x22>Mute\x201m</button>','APMUt','Enter\x20your\x20new\x20username:','JinQX','some','AjbTT','hNwAm','HrwES','✅\x20Profile\x20updated!\x20Please\x20reload.','XGqWI','Invalid\x20verification\x20code.','cSXxN','MhDpe','819480PwJjzC','<button>','/paused','yAZcH','nrGMZ','exJuq','yGkVm','Unknown','4TVBhqb','TPFcA','Qlvfl','push','typing/','detail','OqJAQ','RwClR','xnSKe','#00ff88','CYxJS','dVLPX','#222','YQkYK','imageBase64','click','oRSlC','gap','promote','lastSent','Egvsa','UaJOJ','knRcg','children','easy-chatroom.firebasestorage.app','</a>','\x20deleted.','qUDTf','ukLfN','</button>','minWidth','New\x20Chat\x20Message','catch','VHYAx','key','2023etLytX','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','authDescription','1:985049198428:web:d0eb7e2de39887710c9b99','ABEFo','\x20minutes.','data:audio/webm;base64,','rigny','userOptions-','FeasM','benuB','cvXZV','text','\x20muted\x20for\x20','\x27,\x205)\x22>Mute\x205m</button>','none','announcementArea','pointer','classList','rUHNg','pausedOverlay','random','hxgai','/reactions','hAIaN','getItem','show','UwIsS','sONoB','No\x20room\x20code\x20available\x20for\x20private\x20rooms','mWjlT','zgwKW','avatarBase64','cunt','preventDefault','editBioInput','hwEpk','JoGxQ','FWffp','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','Session\x20expired.','easy-chatroom.firebaseapp.com','clear','fLnkY','ShVNW','notifications_enabled','You\x20got\x20messages\x20from\x20','qMies','GqUfx','JVZzA','TggiJ','BKcSk','SHFlB','QeATp','tdCPO','ceZtx','IuMfD','roomDisplay','back','RfqEK','sounds/beep.mp3','Failed\x20to\x20register\x20user\x20into\x20room.','lastChanged','Xjnrh','Username\x20not\x20found.','RwxzP','OWQCj','val','relative','wNmux','reload','Fill\x20all\x20fields.','⚠️\x20Failed\x20to\x20update\x20avatar.','auth','sent','\x20minutes\x20before\x20resending.','test','NGBlP','value','KLUTs','rlZgO','AUHEr','UbZvh','reaction-box','gSroG','FoKKD','disabled','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','admins/','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','wsDgf','fgEOc','XVUWo','nJswZ','HYPps','</div>','remove','BYgyh','ARbSP','bjnve','DVNvm','avatar_base64','VAPbg','wUrQH','equalTo','🔔\x20Enable\x20Notifications','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','puta','sender','NIdau','\x20is\x20online','ALMWO','NlbRZ','\x27)\x22>Demote</button>','wSZBu','zYRul','Kdazo','update','center','<br>','<img\x20src=\x22data:image/png;base64,','ujUlx','PMUlp','msg','audioBase64','ZIoRo','MgHoW','cMADO','jYkQU','NseKr','ZTErK','Xdxnk','mierda','<button\x20onclick=\x22demoteUser(\x27','find','VIgbY','[Image]','ksSaK','gjUJW','true','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','37544Fxbjpu','signInWithEmailAndPassword','jNIkT','DipIv','cursor','deleteMessage','pKvZK','sidebarAvatarPreview','textAlign','granted','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','Password\x20should\x20be\x20at\x20least\x206\x20characters.','antispamBlocked/','xOtQR','Already\x20have\x20an\x20account?\x20Login','kkKgL','messages','yFznj','JVUfU','eEkws','Too\x20many\x20attempts.\x20Try\x20again\x20later.','color','bastard','GfLwe','Login\x20failed.\x20Please\x20check\x20your\x20credentials.','#aaa','roomStates/','passwordScreen','pBISy','lstry','1724KBnoXN','ZNuts','\x27)\x22>Delete\x20Messages</button>','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','position','mpSuj','LhjGS','toggleAuthMode','ServerValue','initializeApp','oifBD','DOMContentLoaded','mouseenter','TIMESTAMP','LZijf','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','start','visibilitychange','margin','ttnFs','18px','kWXKI','xwoYz','Firebase\x20login\x20error:','oVJHJ','sAGkF','RUMgD','style','\x27)\x22>+Admin</button>','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','received','fNBSY','asshole','VNkxq','SqSFU','znkuK','icuGQ','ehbhd','DuguJ','jusZd','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20',')\x20New\x20message\x20•\x20','digest','qFFMR','tZfKu','lRHgR','mOTRv','bfFXr','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','hDBJF','GQqUL','G-QDESJ2WR42','AgVLF','No\x20changes\x20yet','email','kfJrA','roomChoiceScreen','jhbrp','19266gVEzST','foHtt','warn','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','/avatarBase64','flagPageAttention','ocSrS','DXued','onclick','CGatU','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','RsEHb','ZZFCe','moderators/','PIcSJ','\x20was\x20demoted','jDYXR','Owfqs','sASwa','oldPasswordInput','service_qfnrrrl','<button\x20onclick=\x22deleteUserMessages(\x27','result','Enter\x20a\x20valid\x20room\x20code','innerHTML','YDClY','</li>','touchend','send','aQkMP','easy-chatroom','okfhx','UysQv','iWHMw','profileUsernameInput','ODFcn','GnDGP','width','Missing\x20room\x20or\x20user\x20information.','/announcement','372qTalKh','boxShadow','aOAtG','contains','ankVP','vWspW','JoQFb','msgInput','Username\x20or\x20email\x20not\x20found.','Enter','rchHb','finOS','YJYmJ','AxPIL','pDUUx','Delete\x20this\x20message?','MiSHl','online','onloadend','auth/wrong-password','bIqik','usernameHistory','files','❌\x20Username\x20already\x20taken.','VNZRs','AbPYG','slice','code','trim','fdp','Account\x20created!\x20You\x20may\x20now\x20login.','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','Create\x20Account','UgFlU','exists','reaction-tray','6px\x20auto','gr8stg/','muteUntil','Enter\x20email\x20and\x20username\x20first.','YLJzU','vrEdL','Email\x20is\x20already\x20in\x20use.','audio/webm','grid','maxWidth','<a\x20href=\x22','users','Jstou','yWrNG','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','OIywc','set','rooms/','[Voice\x20message]','9NhjjwT','dwHyj','hidden','/messages','YWTcl','VxwCb','2-digit','padding','caralho','Dsjma','160px','kKdzk','⚠️\x20No\x20spamming\x20allowed.','iDCGS','adminUserList','forEach','\x20was\x20muted\x20for\x20','🚫\x20Cannot\x20promote\x20Developers.','<button\x20onclick=\x22promoteToAdmin(\x27','tGCEp','includes','KSCpy','❌\x20Image\x20must\x20be\x20under\x202MB','alignItems','Please\x20wait\x20','[Unknown]','GUoiV','KBSgD','qRnkk','RaBuQ','6px','Remove\x20this\x20announcement?','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','lRmsa','uQPnm','auth/weak-password','JFvVU','🎙️','Incorrect\x20current\x20password.','Passwords\x20do\x20not\x20match.','jLzPf','bobo','guNlJ','padStart','orderByChild','authEmail','permission','UAtnW','audioUrl','AMlXS','height','flex','eXEIZ','</small>','WDOxn','length','mediaDevices','then','namePreview','<span\x20class=\x22sender-name\x22>','MJCzF','Please\x20enter\x20your\x20current\x20password.','WfiAE','authError','TjTal','dCaYr','notifToggleBtn','hiWlA','ejzIR','authAvatarPreview','UOHcs','dbmWN','Could\x20not\x20create\x20account.\x20Try\x20again.','MZdJm','kDXzs','LSLxt','addAnnouncementBtn','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','VRRvr','authVerificationCode','GoVnh','\x27)\x22>+Mod</button>','rgREf','ondataavailable','\x20🔧\x20','toUpperCase','zKXKF','nERFA','HdMgx','eRVyP','muted/','gago','No\x20bio\x20set','join','FmrSp','staticPasswordInput','replace','GFRYh','JIzzM','setItem','sXPho','\x20demoted\x20to\x20user.','FNHPN','TMBta','\x0aName:\x20','WmcMl','wSUUM','profileDescriptionInput','uMCQo','system','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','profile_description','eYuwB','gRIoj','piJEU','toString','HwzYn','pendejo','GMatX','\x0aDescription:\x20','fMTPy','lwKWw','XVJuK','nJbsS','bwisit','Cfjkb','rGfzM','bitch','Remove\x20Announcement?','GzbPP','WHaYN','filter','FvrFs','LdceP','<button\x20onclick=\x22muteUser(\x27','editProfileError','codeEntryScreen','Error\x20sending\x20code.\x20Check\x20EmailJS\x20setup.','dev','\x0a\x20\x20.reaction-tray\x20{\x0a\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20background:\x20#222;\x0a\x20\x20\x20\x20padding:\x206px\x208px;\x0a\x20\x20\x20\x20border-radius:\x2010px;\x0a\x20\x20\x20\x20font-size:\x2018px;\x0a\x20\x20\x20\x20top:\x20-45px;\x0a\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20z-index:\x2010;\x0a\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20overflow-x:\x20auto;\x0a\x20\x20\x20\x20max-width:\x20100%;\x0a\x20\x20\x20\x20box-shadow:\x200\x202px\x206px\x20rgba(0,\x200,\x200,\x200.5);\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar\x20{\x0a\x20\x20\x20\x20height:\x206px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray::-webkit-scrollbar-thumb\x20{\x0a\x20\x20\x20\x20background:\x20#444;\x0a\x20\x20\x20\x20border-radius:\x203px;\x0a\x20\x20}\x0a\x20\x20.reaction-tray\x20button\x20{\x0a\x20\x20\x20\x20display:\x20inline-block;\x0a\x20\x20\x20\x20margin:\x200\x204px;\x0a\x20\x20\x20\x20font-size:\x2020px;\x0a\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20}\x0a','users/','once','className','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','toLocaleTimeString','toLowerCase','Login','Firebase\x20registration\x20error:','limitToLast','passwordError','error','BxSFG','iaRXB','ncyeo','⛔\x20You\x20are\x20muted.','uwPfA','play','DGWjy','NISXT','mod','createElement','vyHOK','sendCodeBtn','EZBJW','appendChild','<span\x20style=\x22margin-right:6px;\x22>','oQKOU','YhcMi','YvRSP','mute','CUdSO','jWFNI','0|1|4|2|3','merda','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','hyvqj','mouseleave','OQebU','rWNej','attempts','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','hnOSz','bZHmv','requestPermission','/messages/','Gtaln','passwordHash','XXDpv','teyEH','get','username','porra','<audio\x20controls\x20src=\x22','czniy','marginTop','GXyxJ','gridTemplateColumns','CHUYo','all','SOuhD','block','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','adminControlsSection','authSubmitBtn','OvNHB','IXNOl','CHzBL','content','map','DMTiE','sidebarOpen','WZbtd','ufYDM','src','<button\x20onclick=\x22promoteToModerator(\x27','title','zVnSP','\x20was\x20promoted\x20to\x20Admin','\x27)\x22>Promote\x20to\x20Moderator</button>','rLfmr','input','chatScreen','YxgPq','cXgZS','XbaRy','scrollTop','WdQVZ','rEgjM','0px','0.8rem','PAtMW','2|3|4|0|1','SihSu','QrRiu','user','SylZY','QMThe','HeJSM','XHuuy','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','newPasswordInput','XuGdg','<img\x20src=\x22','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','whJgz','onstop','qWhiZ','auth/user-not-found','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','entries','ABCDEFGHIJKLMNOPQRSTUVWXYZ','roomCodeInput','OcArs','admin','object','bxlJe','authPassword','jpkBb','Messages\x20by\x20','TFHGW','qhgCd','sbpzt','CrxTH','add','nrORa','auth/','GICZB','div','tangina','innerText','4px','chat_username','display','from','DWODh','dataset','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','eQPfU','Type\x20a\x20message...','[data-msg-id=\x22','</span>\x20','TdyYV','\x20promoted\x20to\x20Admin!','now','Zmlef','fDxjy','🔕\x20Disable\x20Notifications','created','WAgqg','unknown','ysBps','vPcPL','recordBtn','VWUwV','qDQXV','createUserWithEmailAndPassword','uTVdS','UfmBf','XcPFk','RAtir','mzDXN','FFEAs','dmBmK','child_changed','1825DFftZF','</span>','Xqfxz','2|3|1|0|5|4','fEdLc','keys','Profile\x20not\x20found.','getElementById','inline-block','Register','QuYFH','<small>','\x20was\x20promoted\x20to\x20Moderator','description','split','LaEUa','ITRfO','iIpgv','nrjdH','tMncM','IpNsT','timestamp','20px','fjfBW','nAYDH','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','zGJim','LTHRC','hvDmr','onlineStatus','editProfileScreen','QmQSS','database','floor','LhCwg','GSqDK','kzFLJ','0123456789','fTwQV','erqHT','xWdSB','QrIgS','ceil','QWHXq','\x27)\x22>Promote\x20to\x20Admin</button>','NQXNb','oeYtB','AFIcB','UYaat','c1EG9jBJFQSM_dFHY','profileError','role','child_added','active','cSTaa','IUGUZ','fJlkd','\x27,\x2010)\x22>Mute\x2010m</button>','JOKYl','sreMY','ulol','\x20in\x20room\x20','AaNMw','Enter\x20username\x20or\x20email\x20and\x20password.','stopPropagation','data:image/png;base64,','authUsername','fHMdq','wPMOv','ItipS','false','border','shit','fpwVt','lTnLq'];_0x10f3=function(){return _0x1a3149;};return _0x10f3();}function toggleSidebar(){const _0x15d3b0=_0xa6da94,_0x21f866={'MgHoW':'userSidebar','FvrFs':_0x15d3b0(0x38c)},_0x46f3d0=document[_0x15d3b0(0x2b0)](_0x21f866[_0x15d3b0(0x3f0)]);if(!_0x46f3d0[_0x15d3b0(0x384)][_0x15d3b0(0x145)](_0x15d3b0(0x38c)))_0x46f3d0['classList'][_0x15d3b0(0x280)](_0x21f866[_0x15d3b0(0x1fd)]),history[_0x15d3b0(0x32d)]({'sidebarOpen':!![]},'');else{_0x46f3d0[_0x15d3b0(0x384)]['remove'](_0x15d3b0(0x38c));if(history['state']?.[_0x15d3b0(0x24b)])history[_0x15d3b0(0x3ac)]();}}function setupVisibilityAttention(){const _0xf41fe6=_0xa6da94,_0x14eef7={'QrRiu':_0xf41fe6(0x42e)};let _0xfd9aae=0x0,_0x10c88f=document[_0xf41fe6(0x250)];document[_0xf41fe6(0x338)](_0x14eef7[_0xf41fe6(0x262)],()=>{const _0x2263b4=_0xf41fe6;!document['hidden']&&(document[_0x2263b4(0x250)]=_0x10c88f,_0xfd9aae=0x0);}),window[_0xf41fe6(0x45c)]=function(){const _0x5cb4ae=_0xf41fe6;document[_0x5cb4ae(0x17b)]&&(_0xfd9aae++,document[_0x5cb4ae(0x250)]='('+_0xfd9aae+_0x5cb4ae(0x446)+_0x10c88f);};}function tryEditProfile(){const _0x378464=_0xa6da94,_0x41c4a8={'jusZd':function(_0x241f6e,_0x59a0ba){return _0x241f6e(_0x59a0ba);},'LNgYE':_0x378464(0x2c7)};_0x41c4a8[_0x378464(0x444)](showScreen,_0x41c4a8['LNgYE']);}async function submitEditProfile(){const _0x363137=_0xa6da94,_0x260a95={'OcArs':_0x363137(0x269),'YhcMi':_0x363137(0x395),'AaNMw':_0x363137(0x1b6),'qWhiZ':'block','SqSFU':_0x363137(0x19f),'JFvVU':function(_0x275ed6,_0x5eb601){return _0x275ed6(_0x5eb601);},'ItipS':function(_0x278374,_0xcac580){return _0x278374*_0xcac580;},'xrPew':function(_0x1b3bb1,_0x5bde60){return _0x1b3bb1*_0x5bde60;},'LZijf':function(_0x1550cf,_0x5d1377){return _0x1550cf>_0x5d1377;},'VRRvr':function(_0x1d26f0,_0x13f8eb){return _0x1d26f0-_0x13f8eb;},'GnDGP':_0x363137(0x43a),'QuYFH':_0x363137(0x33c),'NFHTS':function(_0x9703be,_0x29909b){return _0x9703be!==_0x29909b;},'zyEYc':_0x363137(0x342)},_0x51eb55=document['getElementById'](_0x363137(0x46a))['value'],_0x410e4c=document['getElementById'](_0x260a95[_0x363137(0x275)])[_0x363137(0x3c0)],_0x2516e7=document[_0x363137(0x2b0)](_0x260a95[_0x363137(0x220)])[_0x363137(0x3c0)][_0x363137(0x15e)](),_0x3ad6ea=document[_0x363137(0x2b0)](_0x363137(0x200));if(!_0x51eb55){_0x3ad6ea[_0x363137(0x286)]=_0x260a95[_0x363137(0x2e7)],_0x3ad6ea[_0x363137(0x438)][_0x363137(0x289)]=_0x260a95[_0x363137(0x26f)];return;}const _0x1114b6=sanitizeUsername(username),_0x1afab4=await db[_0x363137(0x306)](_0x363137(0x282)+_0x1114b6)[_0x363137(0x236)]();if(!_0x1afab4[_0x363137(0x164)]()){_0x3ad6ea['innerText']=_0x363137(0x2af),_0x3ad6ea[_0x363137(0x438)][_0x363137(0x289)]=_0x260a95['qWhiZ'];return;}const _0x326cbe=_0x1afab4['val'](),_0x23e338=await sha256(_0x51eb55);if(_0x23e338!==_0x326cbe[_0x363137(0x233)]){_0x3ad6ea[_0x363137(0x286)]=_0x260a95[_0x363137(0x43f)],_0x3ad6ea[_0x363137(0x438)]['display']=_0x260a95[_0x363137(0x26f)];return;}const _0x2d92b5={};if(_0x410e4c){const _0x5dacff=await _0x260a95[_0x363137(0x19d)](sha256,_0x410e4c);_0x2d92b5[_0x363137(0x233)]=_0x5dacff;}_0x2516e7!==_0x326cbe['description']&&(_0x2d92b5[_0x363137(0x2b6)]=_0x2516e7);const _0x289b00=Date[_0x363137(0x294)](),_0xb4cac5=_0x260a95[_0x363137(0x2ee)](_0x260a95[_0x363137(0x327)](0x18*0x3c,0x3c),0x3e8),_0x1afd76=_0x260a95[_0x363137(0x42b)](_0x260a95[_0x363137(0x1c7)](_0x289b00,_0x326cbe[_0x363137(0x3b0)]||0x0),_0xb4cac5);if(_0x1afd76&&confirm(_0x260a95[_0x363137(0x13e)])){const _0x1eb076=_0x260a95[_0x363137(0x19d)](prompt,_0x260a95[_0x363137(0x2b3)]);_0x1eb076&&_0x1eb076['trim']()&&(_0x2d92b5[_0x363137(0x237)]=_0x1eb076[_0x363137(0x15e)](),_0x2d92b5[_0x363137(0x157)]=(_0x326cbe[_0x363137(0x157)]||[])[_0x363137(0x30f)](_0x1eb076[_0x363137(0x15e)]()),_0x2d92b5['lastChanged']=_0x289b00);}_0x2d92b5['username']&&_0x260a95['NFHTS'](_0x2d92b5[_0x363137(0x237)],_0x326cbe['username'])?(await db[_0x363137(0x306)]('auth/'+sanitizeUsername(_0x2d92b5[_0x363137(0x237)]))['set']({..._0x326cbe,..._0x2d92b5}),await db[_0x363137(0x306)](_0x363137(0x282)+_0x1114b6)[_0x363137(0x3d2)](),username=_0x2d92b5['username']):await db[_0x363137(0x306)](_0x363137(0x282)+_0x1114b6)[_0x363137(0x3e7)](_0x2d92b5),_0x260a95[_0x363137(0x19d)](alert,_0x260a95['zyEYc']),location[_0x363137(0x3b8)]();}function _0x4cba(_0x5e6bff,_0x547151){const _0x10f319=_0x10f3();return _0x4cba=function(_0x4cbaf3,_0x2b9a3b){_0x4cbaf3=_0x4cbaf3-0x131;let _0x434dc0=_0x10f319[_0x4cbaf3];return _0x434dc0;},_0x4cba(_0x5e6bff,_0x547151);}function cancelEditProfile(){const _0x298d50=_0xa6da94,_0x175c6b={'XGqWI':_0x298d50(0x2c7),'FWffp':'none','vaEER':function(_0x3d5b10,_0x24a1dd){return _0x3d5b10(_0x24a1dd);},'bjnve':_0x298d50(0x256)};document[_0x298d50(0x2b0)](_0x175c6b[_0x298d50(0x343)])[_0x298d50(0x438)][_0x298d50(0x289)]=_0x175c6b[_0x298d50(0x398)],_0x175c6b[_0x298d50(0x32e)](showScreen,_0x175c6b[_0x298d50(0x3d5)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0x4fa3aa=_0xa6da94,_0x3492e3={'kkKgL':function(_0x20e65a,_0x46e67e){return _0x20e65a(_0x46e67e);},'jEJdQ':function(_0x132151){return _0x132151();}};db['ref'](_0x4fa3aa(0x205)+roomCode)['on'](_0x4fa3aa(0x3c0),async _0x3b3fd2=>{const _0x35d560=_0x4fa3aa;if(!_0x3b3fd2[_0x35d560(0x164)]())return;const _0x2612be=_0x3b3fd2[_0x35d560(0x3b5)]();for(const _0x1bb843 in previousUsers){if(!_0x2612be[_0x1bb843])_0x2612be[_0x1bb843]=previousUsers[_0x1bb843];}_0x3492e3[_0x35d560(0x40e)](renderUserLists,_0x2612be),previousUsers=_0x2612be,await _0x3492e3['jEJdQ'](loadRoomRoles),_0x3492e3[_0x35d560(0x40e)](renderUserLists,_0x2612be);});}function trackPresence(){const _0x3a2156=_0xa6da94,_0x4a185d={'aOAtG':function(_0x1f2478){return _0x1f2478();},'UfmBf':_0x3a2156(0x1e6),'vWspW':function(_0x5bc82a,_0x101899){return _0x5bc82a||_0x101899;},'ixfWx':function(_0x2e7342,_0x460815){return _0x2e7342(_0x460815);},'bfFXr':function(_0x1bb924,_0x4e315d){return _0x1bb924||_0x4e315d;},'TkeLp':_0x3a2156(0x3c0)};if(_0x4a185d[_0x3a2156(0x147)](!username,!roomCode))return;const _0x102ad0=_0x4a185d[_0x3a2156(0x2f5)](sanitizeUsername,username),_0x309189=db[_0x3a2156(0x306)]('users/'+roomCode+'/'+_0x102ad0),_0x245e2c={'username':username,'avatarBase64':_0x4a185d[_0x3a2156(0x44c)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x3a2156(0x2c9)][_0x3a2156(0x425)][_0x3a2156(0x42a)]};_0x309189[_0x3a2156(0x206)](_0x4a185d['TkeLp'])[_0x3a2156(0x1b2)](_0x91c1ca=>{const _0x3a63bd=_0x3a2156,_0x23133d=_0x91c1ca[_0x3a63bd(0x3b5)]()?.[_0x3a63bd(0x153)];_0x309189[_0x3a63bd(0x176)](_0x245e2c)[_0x3a63bd(0x1b2)](()=>{const _0x598730=_0x3a63bd;_0x4a185d[_0x598730(0x144)](updateOnlineIndicator);if(!_0x23133d){const _0x577747=db['ref']()[_0x598730(0x352)]()[_0x598730(0x371)];db['ref']('rooms/'+roomCode+_0x598730(0x231)+_0x577747)['set']({'msg':username+_0x598730(0x3e0),'sender':_0x598730(0x1e6),'senderId':_0x4a185d[_0x598730(0x2a2)],'timestamp':Date['now']()});}_0x309189['onDisconnect']()[_0x598730(0x3e7)]({'online':![],'lastOnline':Date[_0x598730(0x294)]()});});});}function uploadSidebarAvatar(_0xb05efe){const _0x326e35=_0xa6da94,_0x865659={'wSZBu':_0x326e35(0x406),'APMUt':_0x326e35(0x241),'KSCpy':function(_0x40bd67,_0x29b71c){return _0x40bd67(_0x29b71c);},'DgWuS':'✅\x20Profile\x20picture\x20updated!','czniy':_0x326e35(0x3ba)};if(!_0xb05efe[_0x326e35(0x158)][_0x326e35(0x1b0)])return;const _0x11b85c=_0xb05efe['files'][0x0],_0x31aa8b=new FileReader();_0x31aa8b[_0x326e35(0x154)]=async()=>{const _0x1e5ea9=_0x326e35,_0x43b41d=_0x31aa8b['result'][_0x1e5ea9(0x2b7)](',')[0x1];document[_0x1e5ea9(0x2b0)](_0x865659[_0x1e5ea9(0x3e4)])['src']=_0x31aa8b[_0x1e5ea9(0x46d)],document[_0x1e5ea9(0x2b0)](_0x865659['wSZBu'])[_0x1e5ea9(0x438)][_0x1e5ea9(0x289)]=_0x865659[_0x1e5ea9(0x33b)];try{const _0x42b640=_0x865659[_0x1e5ea9(0x18e)](sanitizeUsername,username);await db[_0x1e5ea9(0x306)]('auth/'+_0x42b640+_0x1e5ea9(0x45b))[_0x1e5ea9(0x176)](_0x43b41d),_0x865659['KSCpy'](alert,_0x865659[_0x1e5ea9(0x320)]);}catch(_0x37e9a3){console[_0x1e5ea9(0x20f)](_0x37e9a3),alert(_0x865659[_0x1e5ea9(0x23a)]);}},_0x31aa8b[_0x326e35(0x328)](_0x11b85c);}function muteUser(_0x264392,_0x281b2c){const _0x5cda60=_0xa6da94,_0xfa1936={'bZHmv':function(_0x3ff003,_0x311b51){return _0x3ff003(_0x311b51);},'Owfqs':function(_0x5e7bf1,_0x18b2bd){return _0x5e7bf1+_0x18b2bd;},'teyEH':function(_0x4a1ad8,_0x70190c){return _0x4a1ad8(_0x70190c);}},_0x3f30fb=_0xfa1936[_0x5cda60(0x468)](Date[_0x5cda60(0x294)](),_0x281b2c*0x3c*0x3e8);db[_0x5cda60(0x306)](_0x5cda60(0x1d3)+roomCode+'/'+_0xfa1936[_0x5cda60(0x235)](sanitizeUsername,_0x264392))[_0x5cda60(0x176)]({'muteUntil':_0x3f30fb})[_0x5cda60(0x1b2)](()=>{const _0x1db19f=_0x5cda60;alert(_0x264392+_0x1db19f(0x37f)+_0x281b2c+_0x1db19f(0x377)),_0xfa1936[_0x1db19f(0x22f)](addSystemMessage,_0x264392+_0x1db19f(0x189)+_0x281b2c+'\x20minutes');});}function unmuteUser(_0x12c044){const _0x10b323=_0xa6da94,_0x360a8c={'rigny':function(_0x2f7655,_0x23d336){return _0x2f7655(_0x23d336);},'jLzPf':'Admins\x20only.','TFHGW':function(_0x388c3f,_0x4ae8f1){return _0x388c3f(_0x4ae8f1);}};if(!isRoomAdmin)return _0x360a8c[_0x10b323(0x379)](alert,_0x360a8c[_0x10b323(0x1a1)]);db[_0x10b323(0x306)]('muted/'+roomCode+'/'+_0x360a8c[_0x10b323(0x27c)](sanitizeUsername,_0x12c044))[_0x10b323(0x3d2)]();}function updateOnlineIndicator(){const _0x11d7db=_0xa6da94,_0x1330e7={'kNKWk':_0x11d7db(0x2c6),'Gtaln':_0x11d7db(0x358)},_0x4bb056=document[_0x11d7db(0x2b0)](_0x1330e7[_0x11d7db(0x30e)]);_0x4bb056[_0x11d7db(0x286)]='●\x20Online',_0x4bb056[_0x11d7db(0x438)][_0x11d7db(0x414)]=_0x1330e7[_0x11d7db(0x232)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x60f9fd){const _0x3c95ef=_0xa6da94,_0x550acd={'eRVyP':function(_0x2b7ff9,_0x17104a){return _0x2b7ff9(_0x17104a);},'NFaId':_0x3c95ef(0x1d5),'FmrSp':_0x3c95ef(0x452),'YxgPq':_0x3c95ef(0x34e),'juFiu':'profileContent','fOxlL':_0x3c95ef(0x300),'Fedbr':'block'};db[_0x3c95ef(0x306)](_0x3c95ef(0x282)+_0x60f9fd)[_0x3c95ef(0x236)]()[_0x3c95ef(0x1b2)](_0x59868d=>{const _0x4be782=_0x3c95ef;if(!_0x59868d[_0x4be782(0x164)]())return _0x550acd[_0x4be782(0x1d2)](alert,_0x4be782(0x2af));const _0x94a354=_0x59868d['val'](),_0x1f8d07=(_0x4be782(0x1e1)+_0x94a354[_0x4be782(0x237)]+_0x4be782(0x1f0)+(_0x94a354['description']||_0x550acd[_0x4be782(0x330)])+'\x0aUsername\x20History:\x20'+((_0x94a354[_0x4be782(0x157)]||[])[_0x4be782(0x1d6)](',\x20')||_0x550acd[_0x4be782(0x1d7)])+_0x4be782(0x2fb)+(_0x94a354['lastChanged']?new Date(_0x94a354['lastChanged'])[_0x4be782(0x31c)]():_0x550acd[_0x4be782(0x257)])+'\x0a\x20\x20\x20\x20')['trim']();document[_0x4be782(0x2b0)](_0x550acd['juFiu'])[_0x4be782(0x286)]=_0x1f8d07,document['getElementById'](_0x550acd['fOxlL'])[_0x4be782(0x438)][_0x4be782(0x289)]=_0x550acd['Fedbr'];});}function initUsernameFlow(){const _0x589980=_0xa6da94,_0x8c88c2={'APuLF':_0x589980(0x288),'hyvqj':function(_0x4a5210,_0x296f25){return _0x4a5210(_0x296f25);},'zGJim':'profileScreen','IXNOl':_0x589980(0x1b3),'nrjdH':_0x589980(0x455)},_0x220311=localStorage['getItem'](_0x8c88c2['APuLF']);!_0x220311?_0x8c88c2[_0x589980(0x228)](showScreen,_0x8c88c2[_0x589980(0x2c3)]):(username=_0x220311,document[_0x589980(0x2b0)](_0x8c88c2[_0x589980(0x246)])['innerText']=username,_0x8c88c2['hyvqj'](showScreen,_0x8c88c2[_0x589980(0x2bb)]));}function closeProfile(){const _0x2434c2=_0xa6da94,_0x171162={'eEkws':_0x2434c2(0x381)};document[_0x2434c2(0x2b0)](_0x2434c2(0x300))[_0x2434c2(0x438)][_0x2434c2(0x289)]=_0x171162[_0x2434c2(0x412)];}function resetWebsiteData(){const _0x1e8c7e=_0xa6da94,_0x5d8e95={'DWODh':'notifications_enabled','Qlvfl':function(_0x499103,_0x1fe918){return _0x499103||_0x1fe918;},'ujUlx':_0x1e8c7e(0x225)};try{const _0x25ba0c=localStorage[_0x1e8c7e(0x38b)](_0x1e8c7e(0x39f));localStorage[_0x1e8c7e(0x39c)](),sessionStorage[_0x1e8c7e(0x39c)](),_0x25ba0c&&localStorage[_0x1e8c7e(0x1dc)](_0x5d8e95[_0x1e8c7e(0x28b)],_0x25ba0c);}catch(_0x4c3aef){}if(_0x5d8e95[_0x1e8c7e(0x351)](!username,!roomCode)){const _0x27a869=_0x5d8e95[_0x1e8c7e(0x3eb)][_0x1e8c7e(0x2b7)]('|');let _0x41256b=0x0;while(!![]){switch(_0x27a869[_0x41256b++]){case'0':username=null;continue;case'1':roomCode=null;continue;case'2':pendingMessages=[];continue;case'3':clientId='_'+Math[_0x1e8c7e(0x387)]()[_0x1e8c7e(0x1ec)](0x24)[_0x1e8c7e(0x305)](0x2,0x9);continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x136306=_0xa6da94,_0x446cf4={'FeasM':function(_0xaf0342,_0x3e1677){return _0xaf0342(_0x3e1677);},'cwWqS':'Enter\x20Announcement\x20Text:'},_0x5c2970=_0x446cf4[_0x136306(0x37b)](prompt,_0x446cf4['cwWqS']);if(!_0x5c2970)return;db[_0x136306(0x306)]('rooms/'+roomCode+'/announcement')['set']({'text':_0x5c2970,'by':username,'timestamp':Date['now']()});}function listenForAnnouncement(){const _0x161007=_0xa6da94,_0x361e54={'ncyeo':_0x161007(0x382),'RwClR':_0x161007(0x3c0)},_0x149c7e=db['ref']('rooms/'+roomCode+_0x161007(0x141));_0x149c7e['on'](_0x361e54[_0x161007(0x356)],_0x1636c7=>{const _0x5f73b=_0x161007,_0x279bb1=_0x1636c7['val']();if(!_0x279bb1){document[_0x5f73b(0x2b0)](_0x361e54[_0x5f73b(0x212)])[_0x5f73b(0x286)]='';return;}const _0x49f68a=document['getElementById'](_0x361e54['ncyeo']);_0x49f68a[_0x5f73b(0x286)]=''+_0x279bb1[_0x5f73b(0x37e)];});}document[_0xa6da94(0x2b0)](_0xa6da94(0x382))[_0xa6da94(0x338)]('click',_0x486b31=>{const _0x18bf97=_0xa6da94,_0x2df908={'OWQCj':function(_0x164d29,_0x486b17){return _0x164d29===_0x486b17;}};_0x2df908[_0x18bf97(0x3b4)](_0x486b31[_0x18bf97(0x354)],0x3)&&isRoomAdmin&&(confirm(_0x18bf97(0x1f9))&&db[_0x18bf97(0x306)](_0x18bf97(0x177)+roomCode+_0x18bf97(0x141))['remove']());}),document[_0xa6da94(0x2b0)](_0xa6da94(0x149))[_0xa6da94(0x338)](_0xa6da94(0x255),()=>{const _0x4d88e4=_0xa6da94,_0xf7210a={'pDUUx':'msgInput'},_0x123541=document['getElementById'](_0xf7210a[_0x4d88e4(0x150)]);_0x1c9412?_0x123541[_0x4d88e4(0x438)][_0x4d88e4(0x2f0)]=_0x4d88e4(0x326):_0x123541[_0x4d88e4(0x438)][_0x4d88e4(0x2f0)]='';const _0x28756e=_0x123541[_0x4d88e4(0x3c0)][_0x4d88e4(0x20a)](),_0x1c9412=swearWords[_0x4d88e4(0x33e)](_0x3f977f=>_0x28756e[_0x4d88e4(0x18d)](_0x3f977f));_0x1c9412?(_0x123541[_0x4d88e4(0x438)][_0x4d88e4(0x2f0)]=_0x4d88e4(0x326),sendBtn[_0x4d88e4(0x3c8)]=!![]):(_0x123541[_0x4d88e4(0x438)]['border']='',_0x1c9412?_0x123541['style']['border']=_0x4d88e4(0x326):_0x123541[_0x4d88e4(0x438)][_0x4d88e4(0x2f0)]='');});function muteUser(_0x28bafe,_0x206947){const _0x381651=_0xa6da94,_0x1eb64f={'eYuwB':function(_0x1bc421,_0xfb51b4){return _0x1bc421(_0xfb51b4);},'xwoYz':function(_0x4aff18,_0x3b73ce){return _0x4aff18*_0x3b73ce;}},_0x5ce495=Date[_0x381651(0x294)]()+_0x1eb64f[_0x381651(0x433)](_0x206947,0x3c)*0x3e8;db[_0x381651(0x306)](_0x381651(0x1d3)+roomCode+'/'+_0x1eb64f[_0x381651(0x1e9)](sanitizeUsername,_0x28bafe))[_0x381651(0x176)]({'muteUntil':_0x5ce495})[_0x381651(0x1b2)](()=>{const _0x5e2bc7=_0x381651;_0x1eb64f[_0x5e2bc7(0x1e9)](alert,_0x28bafe+_0x5e2bc7(0x37f)+_0x206947+_0x5e2bc7(0x377));});}function deleteUserMessages(_0x4a846d){const _0x27ab70=_0xa6da94,_0x1240e7={'PqExj':'sender'};db['ref'](_0x27ab70(0x177)+roomCode+_0x27ab70(0x17c))[_0x27ab70(0x1a5)](_0x1240e7[_0x27ab70(0x329)])[_0x27ab70(0x3da)](_0x4a846d)[_0x27ab70(0x236)]()['then'](_0x3abb7c=>{const _0x985305=_0x27ab70;_0x3abb7c['forEach'](_0xf0cec0=>{const _0x4ec4ec=_0x4cba;db[_0x4ec4ec(0x306)](_0x4ec4ec(0x177)+roomCode+_0x4ec4ec(0x231)+_0xf0cec0['key'])['remove']();}),alert(_0x985305(0x27b)+_0x4a846d+_0x985305(0x369));});}function pauseRoom(_0x354ec1){const _0x26d407=_0xa6da94,_0x15ff98={'GzbPP':_0x26d407(0x386),'jDYXR':_0x26d407(0x381),'xyfku':_0x26d407(0x3c0)};db[_0x26d407(0x306)](_0x26d407(0x177)+roomCode+_0x26d407(0x349))['on'](_0x15ff98['xyfku'],_0x5b95e5=>{const _0x5c1712=_0x26d407,_0x1cb475=_0x5b95e5[_0x5c1712(0x3b5)]();document[_0x5c1712(0x2b0)](_0x15ff98[_0x5c1712(0x1fa)])[_0x5c1712(0x438)][_0x5c1712(0x289)]=_0x1cb475?_0x5c1712(0x241):_0x15ff98[_0x5c1712(0x467)];});}function canPerformAction(_0x1f223b){const _0x12459c=_0xa6da94,_0x582d9a={'hAIqY':'2|4|1|0|3','AbPYG':_0x12459c(0x361),'VHYAx':function(_0x4cc959,_0x2f04b9){return _0x4cc959===_0x2f04b9;},'fNBSY':_0x12459c(0x276),'vYLKv':_0x12459c(0x404),'AYasn':function(_0x462952,_0x69097e){return _0x462952===_0x69097e;},'rgREf':_0x12459c(0x203),'Frivh':function(_0x38276a,_0x3c1ab8){return _0x38276a===_0x3c1ab8;},'okfhx':_0x12459c(0x222),'wUrQH':'moderator','OPfgZ':_0x12459c(0x218)},_0x143f7b=_0x582d9a[_0x12459c(0x322)][_0x12459c(0x2b7)]('|');let _0x44b446=0x0;while(!![]){switch(_0x143f7b[_0x44b446++]){case'0':if(_0x1f223b===_0x582d9a[_0x12459c(0x15b)])return _0x582d9a[_0x12459c(0x370)](role,_0x582d9a[_0x12459c(0x43c)]);continue;case'1':if(_0x1f223b===_0x582d9a[_0x12459c(0x32a)]||_0x582d9a['VHYAx'](_0x1f223b,_0x12459c(0x361)))return _0x582d9a['VHYAx'](role,_0x582d9a[_0x12459c(0x43c)]);continue;case'2':if(_0x582d9a['AYasn'](role,_0x582d9a[_0x12459c(0x1cb)]))return!![];continue;case'3':return![];case'4':if(_0x582d9a['Frivh'](_0x1f223b,_0x582d9a[_0x12459c(0x139)]))return _0x582d9a[_0x12459c(0x312)](role,_0x12459c(0x276))||role===_0x582d9a[_0x12459c(0x3d9)]||_0x582d9a[_0x12459c(0x312)](role,_0x582d9a['OPfgZ']);continue;}break;}}const html=Object['values'](roomUsers)[_0xa6da94(0x249)](_0x5f5c6f=>{const _0x9328=_0xa6da94,_0x3d46ec={'XVUWo':function(_0x363171,_0x21e01c){return _0x363171!==_0x21e01c;},'jWFNI':function(_0x10a898,_0x489f2b){return _0x10a898(_0x489f2b);},'TMBta':function(_0x555c4a,_0x22c074){return _0x555c4a(_0x22c074);},'ITRfO':_0x9328(0x222),'fjspc':'deleteMessage','ALMWO':function(_0x258e52,_0x3ca63d){return _0x258e52===_0x3ca63d;},'BXCVN':'dev'},_0x3c824b=sanitizeUsername(_0x5f5c6f['username']),_0x583980=[];if(_0x3d46ec[_0x9328(0x3ce)](_0x3c824b,_0x3d46ec[_0x9328(0x224)](sanitizeUsername,username))){_0x3d46ec[_0x9328(0x1e0)](canPerformAction,_0x3d46ec[_0x9328(0x2b9)])&&(_0x583980[_0x9328(0x352)]('<button\x20onclick=\x22muteUser(\x27'+_0x3c824b+'\x27,\x205)\x22>Mute\x205m</button>'),_0x583980[_0x9328(0x352)](_0x9328(0x1ff)+_0x3c824b+_0x9328(0x2e2)));_0x3d46ec['TMBta'](canPerformAction,_0x3d46ec['fjspc'])&&_0x583980[_0x9328(0x352)](_0x9328(0x46c)+_0x3c824b+_0x9328(0x41f));if(_0x3d46ec['ALMWO'](role,_0x3d46ec['BXCVN']))_0x583980[_0x9328(0x352)](_0x9328(0x24f)+_0x3c824b+_0x9328(0x253)),_0x583980[_0x9328(0x352)](_0x9328(0x18b)+_0x3c824b+_0x9328(0x2d5));else _0x3d46ec[_0x9328(0x3e1)](role,'admin')&&_0x583980['push'](_0x9328(0x24f)+_0x3c824b+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x9328(0x445)+_0x5f5c6f[_0x9328(0x237)]+'\x20'+_0x3d46ec['TMBta'](getRoleTag,_0x3d46ec['jWFNI'](sanitizeUsername,_0x5f5c6f['username']))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x3c824b+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x583980[_0x9328(0x1d6)]('')+_0x9328(0x42c)+_0x3c824b+_0x9328(0x161);})[_0xa6da94(0x1d6)]('');function promoteToModerator(_0x295579){const _0x537403=_0xa6da94,_0xdc2d53={'aiSXc':function(_0xbe1646,_0x2c4506){return _0xbe1646(_0x2c4506);},'raBzX':function(_0x2d0be5,_0x2faf3d){return _0x2d0be5(_0x2faf3d);},'IUGUZ':function(_0x39ff7e,_0x7824b8){return _0x39ff7e(_0x7824b8);},'oRCOr':function(_0x57034a,_0x1e235b){return _0x57034a(_0x1e235b);},'hvDmr':_0x537403(0x18a),'IuMfD':_0x537403(0x203),'DMTiE':function(_0x58629e,_0x4654f3){return _0x58629e!==_0x4654f3;},'hnOSz':'admin','sreMY':_0x537403(0x227)},_0x10f9e2=_0xdc2d53[_0x537403(0x318)](sanitizeUsername,_0x295579);if(_0xdc2d53[_0x537403(0x2e0)](isProtected,_0x10f9e2))return _0xdc2d53['oRCOr'](alert,_0xdc2d53[_0x537403(0x2c5)]);if(role!==_0xdc2d53[_0x537403(0x3aa)]&&_0xdc2d53[_0x537403(0x24a)](role,_0xdc2d53[_0x537403(0x22e)])){_0xdc2d53['raBzX'](alert,_0xdc2d53[_0x537403(0x2e4)]);return;}db[_0x537403(0x306)](_0x537403(0x464)+roomCode+'/'+_0x10f9e2)[_0x537403(0x176)](!![])[_0x537403(0x1b2)](()=>{const _0x49c66b=_0x537403;_0xdc2d53['aiSXc'](alert,_0x295579+_0x49c66b(0x2fd)),_0xdc2d53['aiSXc'](addSystemMessage,_0x295579+_0x49c66b(0x2b5));});}function promoteToAdmin(_0x1e5592){const _0x52da9f=_0xa6da94,_0x315d39={'TPFcA':function(_0x387628,_0x1891dd){return _0x387628(_0x1891dd);},'PAtMW':'🚫\x20Cannot\x20promote\x20Developers.','ufYDM':function(_0x17da63,_0x5071e9){return _0x17da63!==_0x5071e9;},'icuGQ':_0x52da9f(0x203),'cvXZV':function(_0x525d97,_0x599d75){return _0x525d97(_0x599d75);},'lRHgR':_0x52da9f(0x3dc)},_0x4ae54a=sanitizeUsername(_0x1e5592);if(_0x315d39[_0x52da9f(0x350)](isProtected,_0x4ae54a))return alert(_0x315d39[_0x52da9f(0x25f)]);if(_0x315d39[_0x52da9f(0x24d)](role,_0x315d39[_0x52da9f(0x441)])){_0x315d39[_0x52da9f(0x37d)](alert,_0x315d39[_0x52da9f(0x44a)]);return;}db[_0x52da9f(0x306)](_0x52da9f(0x3ca)+roomCode+'/'+_0x4ae54a)[_0x52da9f(0x176)](!![])[_0x52da9f(0x1b2)](()=>{const _0xb96a62=_0x52da9f;_0x315d39[_0xb96a62(0x350)](alert,_0x1e5592+_0xb96a62(0x293)),addSystemMessage(_0x1e5592+_0xb96a62(0x252));});}function toggleUserOptions(_0x359ba8){const _0x948d9d=_0xa6da94,_0x5dd77b={'HrwES':function(_0x472cd2,_0x554d02){return _0x472cd2===_0x554d02;},'mOTRv':_0x948d9d(0x203),'AMlXS':_0x948d9d(0x276),'NGBlP':'none'};(_0x5dd77b[_0x948d9d(0x341)](role,_0x5dd77b[_0x948d9d(0x44b)])||_0x5dd77b[_0x948d9d(0x341)](role,_0x5dd77b[_0x948d9d(0x1aa)]))&&controls[_0x948d9d(0x352)](_0x948d9d(0x3f7)+safeName+_0x948d9d(0x3e3));const _0x1d79a9=document[_0x948d9d(0x2b0)](_0x948d9d(0x37a)+_0x359ba8);_0x5dd77b[_0x948d9d(0x341)](_0x1d79a9[_0x948d9d(0x438)][_0x948d9d(0x289)],_0x5dd77b[_0x948d9d(0x3bf)])?_0x1d79a9[_0x948d9d(0x438)][_0x948d9d(0x289)]=_0x948d9d(0x241):_0x1d79a9[_0x948d9d(0x438)]['display']=_0x948d9d(0x381);}function demoteUser(_0x480553){const _0x1c6228=_0xa6da94,_0x48e609={'wNmux':function(_0x1cb6a1,_0x391980){return _0x1cb6a1(_0x391980);},'nJswZ':'🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','wsDgf':function(_0x597cca,_0x430566){return _0x597cca===_0x430566;},'dVLPX':function(_0x997c64,_0x182462){return _0x997c64(_0x182462);},'oeYtB':'admin','LhCwg':function(_0xfa5070,_0x3822f8){return _0xfa5070(_0x3822f8);},'UOHcs':function(_0x5ef719,_0x17efe1){return _0x5ef719(_0x17efe1);},'IpNsT':_0x1c6228(0x199)};if(isProtected(_0x480553))return _0x48e609[_0x1c6228(0x3b7)](alert,_0x48e609[_0x1c6228(0x3cf)]);if(_0x48e609[_0x1c6228(0x3cc)](role,_0x1c6228(0x203)))db['ref']('admins/'+roomCode+'/'+_0x480553)[_0x1c6228(0x3d2)](),db[_0x1c6228(0x306)](_0x1c6228(0x464)+roomCode+'/'+_0x480553)[_0x1c6228(0x3d2)](),_0x48e609[_0x1c6228(0x3b7)](alert,_0x480553+_0x1c6228(0x1de)),_0x48e609[_0x1c6228(0x35a)](addSystemMessage,_0x480553+_0x1c6228(0x466));else _0x48e609['wsDgf'](role,_0x48e609[_0x1c6228(0x2d7)])?(db['ref'](_0x1c6228(0x464)+roomCode+'/'+_0x480553)[_0x1c6228(0x3d2)](),_0x48e609[_0x1c6228(0x2cb)](alert,_0x480553+_0x1c6228(0x1de)),_0x48e609[_0x1c6228(0x1bf)](addSystemMessage,_0x480553+'\x20was\x20demoted')):_0x48e609[_0x1c6228(0x3b7)](alert,_0x48e609[_0x1c6228(0x2bd)]);}function getRoleTag(_0x270657){const _0x830870=_0xa6da94,_0x436c6b={'MJCzF':function(_0x443915,_0x1483d3){return _0x443915(_0x1483d3);}},_0x4981fb=_0x436c6b[_0x830870(0x1b5)](sanitizeUsername,_0x270657);if(globalDevs[_0x830870(0x18d)](_0x4981fb))return _0x830870(0x3c9);if(roomAdmins[_0x830870(0x18d)](_0x4981fb))return _0x830870(0x3cb);if(roomModerators[_0x830870(0x18d)](_0x4981fb))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x3be7c5=_0xa6da94,_0x6a6cd5={'nrGMZ':function(_0x4d1f6c,_0x59a03b){return _0x4d1f6c===_0x59a03b;},'Uljxa':function(_0x1f5686,_0x33fa3c){return _0x1f5686(_0x33fa3c);},'hJHaA':_0x3be7c5(0x3bb),'AUHEr':_0x3be7c5(0x203),'yFznj':_0x3be7c5(0x276),'mpSuj':_0x3be7c5(0x30c),'GfLwe':_0x3be7c5(0x263)},_0x377d82=_0x6a6cd5['Uljxa'](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x58e4ae=await db[_0x3be7c5(0x306)](_0x6a6cd5[_0x3be7c5(0x31a)])[_0x3be7c5(0x236)]();_0x58e4ae[_0x3be7c5(0x188)](_0x380db4=>{const _0x31af11=_0x3be7c5;if(_0x6a6cd5[_0x31af11(0x34b)](_0x380db4['val']()[_0x31af11(0x2dc)],_0x31af11(0x203)))globalDevs[_0x31af11(0x352)](_0x380db4[_0x31af11(0x371)]);});const _0x275657=await db[_0x3be7c5(0x306)](_0x3be7c5(0x3ca)+roomCode)[_0x3be7c5(0x236)]();_0x275657['exists']()&&_0x275657[_0x3be7c5(0x188)](_0x54f573=>roomAdmins['push'](_0x54f573['key']));const _0x4bf2be=await db[_0x3be7c5(0x306)]('moderators/'+roomCode)['get']();_0x4bf2be['exists']()&&_0x4bf2be[_0x3be7c5(0x188)](_0x1a6843=>roomModerators['push'](_0x1a6843[_0x3be7c5(0x371)]));if(globalDevs[_0x3be7c5(0x18d)](_0x377d82))role=_0x6a6cd5[_0x3be7c5(0x3c3)];else{if(roomAdmins['includes'](_0x377d82))role=_0x6a6cd5[_0x3be7c5(0x410)];else roomModerators['includes'](_0x377d82)?role=_0x6a6cd5[_0x3be7c5(0x422)]:role=_0x6a6cd5[_0x3be7c5(0x416)];}}async function renderUserLists(_0x5254a0){const _0x1b02a9=_0xa6da94,_0x4eae2c={'cSTaa':function(_0xf64704,_0x1f8211){return _0xf64704(_0x1f8211);},'emAQV':function(_0xb05a82,_0x351c82){return _0xb05a82(_0x351c82);},'LPViW':function(_0x28989d,_0x566c61){return _0x28989d(_0x566c61);},'ZIoRo':function(_0x4c4d6a,_0x20e9c9){return _0x4c4d6a===_0x20e9c9;},'KBSgD':function(_0xb96c97,_0x24370b){return _0xb96c97(_0x24370b);},'qFFMR':'moderator','cNQiv':_0x1b02a9(0x276),'VNZRs':_0x1b02a9(0x203),'RUMgD':function(_0x4e9119,_0x42fe3e){return _0x4e9119===_0x42fe3e;},'kmGQO':function(_0x5e5bbd,_0x3c9b6e){return _0x5e5bbd(_0x3c9b6e);},'gcdrd':'mod','AFIcB':_0x1b02a9(0x243),'qMies':_0x1b02a9(0x381),'WHaYN':_0x1b02a9(0x187)};roomUsers=_0x5254a0;const _0xd46809=_0x4eae2c[_0x1b02a9(0x301)](sanitizeUsername,username),_0xac9d2=[_0x4eae2c[_0x1b02a9(0x15a)],_0x1b02a9(0x276),_0x4eae2c['qFFMR'],_0x4eae2c['gcdrd']][_0x1b02a9(0x18d)](role);document[_0x1b02a9(0x2b0)](_0x4eae2c[_0x1b02a9(0x2d8)])[_0x1b02a9(0x438)]['display']=_0xac9d2?_0x1b02a9(0x241):_0x4eae2c[_0x1b02a9(0x3a1)];const _0x1b4e36=Object[_0x1b02a9(0x272)](_0x5254a0)['map'](async([_0x1b5e66,_0x5f17f0])=>{const _0x2f5875=_0x1b02a9,_0x55aedf=_0x4eae2c[_0x2f5875(0x2df)](sanitizeUsername,_0x5f17f0['username']||_0x1b5e66),_0x447d46=await _0x4eae2c['emAQV'](fetchAvatar,_0x55aedf),_0x3c3047=_0x447d46?_0x2f5875(0x3ea)+_0x447d46+_0x2f5875(0x2c2):'',_0x427ab1=_0x5f17f0[_0x2f5875(0x153)]?_0x2f5875(0x22d):'<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>';return'<li>'+_0x3c3047+'\x20'+_0x427ab1+_0x2f5875(0x271)+_0x55aedf+'\x27)\x22>'+(_0x5f17f0['username']||_0x1b5e66)+_0x2f5875(0x291)+getRoleTag(_0x55aedf)+_0x2f5875(0x134);});document[_0x1b02a9(0x2b0)]('userList')['innerHTML']=(await Promise[_0x1b02a9(0x23f)](_0x1b4e36))[_0x1b02a9(0x1d6)]('');if(!_0xac9d2)return;const _0x3f3170=Object['entries'](_0x5254a0)[_0x1b02a9(0x249)](async([_0x3773d5,_0x1ff482])=>{const _0x105fea=_0x1b02a9,_0x3f927f=_0x4eae2c[_0x105fea(0x315)](sanitizeUsername,_0x1ff482[_0x105fea(0x237)]||_0x3773d5);if(_0x4eae2c[_0x105fea(0x3ef)](_0x3f927f,_0xd46809))return'';const _0x296167=globalDevs['includes'](_0x3f927f),_0x39c88d=await _0x4eae2c[_0x105fea(0x194)](fetchAvatar,_0x3f927f),_0xafbb4d=_0x39c88d?_0x105fea(0x3ea)+_0x39c88d+_0x105fea(0x2c2):'',_0x258e53=_0x1ff482[_0x105fea(0x153)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x105fea(0x2f4),_0x306a94=[];if(!_0x296167){[_0x105fea(0x218),_0x4eae2c[_0x105fea(0x448)],_0x4eae2c['cNQiv'],_0x4eae2c[_0x105fea(0x15a)]][_0x105fea(0x18d)](role)&&(_0x306a94[_0x105fea(0x352)](_0x105fea(0x1ff)+_0x3f927f+_0x105fea(0x33a)),_0x306a94[_0x105fea(0x352)](_0x105fea(0x1ff)+_0x3f927f+_0x105fea(0x380)),_0x306a94[_0x105fea(0x352)](_0x105fea(0x1ff)+_0x3f927f+_0x105fea(0x2e2)));if(_0x4eae2c[_0x105fea(0x3ef)](role,_0x4eae2c[_0x105fea(0x15a)]))_0x306a94[_0x105fea(0x352)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x3f927f+_0x105fea(0x1ca)),_0x306a94['push'](_0x105fea(0x18b)+_0x3f927f+_0x105fea(0x439)),_0x306a94[_0x105fea(0x352)](_0x105fea(0x3f7)+_0x3f927f+_0x105fea(0x3e3));else _0x4eae2c[_0x105fea(0x437)](role,_0x4eae2c['cNQiv'])&&(_0x306a94[_0x105fea(0x352)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x3f927f+'\x27)\x22>+Mod</button>'),_0x306a94[_0x105fea(0x352)](_0x105fea(0x3f7)+_0x3f927f+_0x105fea(0x3e3)));}return _0x105fea(0x44d)+_0xafbb4d+'\x20'+_0x258e53+_0x105fea(0x1cd)+(_0x1ff482[_0x105fea(0x237)]||_0x3773d5)+'\x20'+_0x4eae2c[_0x105fea(0x194)](getRoleTag,_0x3f927f)+_0x105fea(0x420)+_0x306a94[_0x105fea(0x1d6)]('\x20')+_0x105fea(0x45a);});document[_0x1b02a9(0x2b0)](_0x4eae2c[_0x1b02a9(0x1fb)])['innerHTML']=(await Promise['all'](_0x3f3170))[_0x1b02a9(0x1d6)]('');}function updateAnnouncementVisibility(){const _0x1b1556=_0xa6da94,_0x4ab6dd={'dCaYr':_0x1b1556(0x1c5),'XuGdg':function(_0xd855da,_0x2976fd){return _0xd855da===_0x2976fd;},'VNkxq':_0x1b1556(0x276)},_0x26f533=document[_0x1b1556(0x2b0)](_0x4ab6dd[_0x1b1556(0x1ba)]);_0x4ab6dd[_0x1b1556(0x26a)](role,_0x4ab6dd[_0x1b1556(0x43e)])||_0x4ab6dd['XuGdg'](role,_0x1b1556(0x203))?_0x26f533[_0x1b1556(0x438)]['display']=_0x1b1556(0x241):_0x26f533[_0x1b1556(0x438)][_0x1b1556(0x289)]=_0x1b1556(0x381);}async function fetchAvatar(_0x3ca88c){const _0x10877b=_0xa6da94;if(userAvatars[_0x3ca88c])return userAvatars[_0x3ca88c];const _0x400d98=await db[_0x10877b(0x306)]('auth/'+_0x3ca88c)[_0x10877b(0x236)]();if(_0x400d98[_0x10877b(0x164)]()&&_0x400d98[_0x10877b(0x3b5)]()['avatarBase64'])return userAvatars[_0x3ca88c]=_0x400d98[_0x10877b(0x3b5)]()[_0x10877b(0x392)],userAvatars[_0x3ca88c];return null;}function sendTyping(){const _0xf0e60f=_0xa6da94,_0x1cb8a6={'ognXo':function(_0x475021,_0x2db355){return _0x475021(_0x2db355);}},_0x156294=_0x1cb8a6['ognXo'](sanitizeUsername,username),_0x5d18aa=Date[_0xf0e60f(0x294)]();db[_0xf0e60f(0x306)]('typing/'+roomCode+'/'+_0x156294)[_0xf0e60f(0x176)](_0x5d18aa);if(typingTimeout)_0x1cb8a6['ognXo'](clearTimeout,typingTimeout);typingTimeout=setTimeout(()=>{const _0x31ced7=_0xf0e60f;db[_0x31ced7(0x306)](_0x31ced7(0x353)+roomCode+'/'+_0x156294)[_0x31ced7(0x3d2)]();},0x1f4);}function listenForTyping(){const _0x532ac6=_0xa6da94,_0x5ba8e1={'jNIkT':'typing','rlZgO':'value'};db['ref']('typing/'+roomCode)['on'](_0x5ba8e1[_0x532ac6(0x3c2)],_0x4dd525=>{const _0x245574=_0x532ac6,_0x3b98d3=document[_0x245574(0x2b0)](_0x5ba8e1[_0x245574(0x401)]);if(!_0x4dd525['exists']())return _0x3b98d3['innerText']='';const _0x13d172=Date[_0x245574(0x294)](),_0x19cb01=Object[_0x245574(0x272)](_0x4dd525['val']())[_0x245574(0x1fc)](([_0x43d47e,_0x595387])=>_0x43d47e!==sanitizeUsername(username)&&_0x13d172-_0x595387<0x1388)[_0x245574(0x249)](([_0x19751a])=>_0x19751a);_0x3b98d3[_0x245574(0x286)]=_0x19cb01[_0x245574(0x1b0)]?_0x19cb01['join'](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x24013f=_0xa6da94,_0x551202={'NseKr':function(_0x215013,_0x5722db){return _0x215013>_0x5722db;},'VAPbg':function(_0x4fab5d,_0x26fb5e){return _0x4fab5d(_0x26fb5e);},'YJYmJ':_0x24013f(0x149),'RfqEK':_0x24013f(0x28f),'MMkLK':function(_0xbc0f34,_0x4a8d9c){return _0xbc0f34===_0x4a8d9c;},'WAgqg':_0x24013f(0x277),'LPEvb':_0x24013f(0x213),'QhsgV':function(_0x8a2e24,_0x284584){return _0x8a2e24(_0x284584);},'LtJlp':_0x24013f(0x3c0)},_0x579deb=db[_0x24013f(0x306)](_0x24013f(0x1d3)+roomCode+'/'+_0x551202[_0x24013f(0x333)](sanitizeUsername,username));let _0x17ef75;_0x579deb['on'](_0x551202['LtJlp'],_0x2cb944=>{const _0x3c5682=_0x24013f;_0x551202[_0x3c5682(0x3d8)](clearInterval,_0x17ef75);const _0x3b6fcd=document[_0x3c5682(0x2b0)](_0x551202[_0x3c5682(0x14e)]);if(!_0x2cb944['exists']()){_0x3b6fcd[_0x3c5682(0x3c8)]=![],_0x3b6fcd['placeholder']=_0x551202['RfqEK'];return;}const _0x3376dd=_0x2cb944[_0x3c5682(0x3b5)](),_0xce5e2b=_0x551202['MMkLK'](typeof _0x3376dd,_0x551202[_0x3c5682(0x299)])&&_0x3376dd['muteUntil']?_0x3376dd['muteUntil']:_0x3376dd;_0x551202[_0x3c5682(0x3f3)](_0xce5e2b,Date[_0x3c5682(0x294)]())?(_0x3b6fcd[_0x3c5682(0x3c8)]=!![],_0x3b6fcd[_0x3c5682(0x317)]=_0x551202['LPEvb'],_0x17ef75=setInterval(()=>{const _0x51fda8=_0x3c5682;_0x551202[_0x51fda8(0x3f3)](Date['now'](),_0xce5e2b)&&_0x579deb[_0x51fda8(0x3d2)]();},0xbb8)):(_0x3b6fcd[_0x3c5682(0x3c8)]=![],_0x3b6fcd[_0x3c5682(0x317)]=_0x551202[_0x3c5682(0x3ad)],_0x579deb[_0x3c5682(0x3d2)]());});}function isProtected(_0x2661ab){const _0x48e56e=_0xa6da94;return globalDevs[_0x48e56e(0x18d)](_0x2661ab);}function addSystemMessage(_0x55dd01){const _0x28fb82=_0xa6da94,_0x68da44={'GoVnh':_0x28fb82(0x284),'gMPJK':_0x28fb82(0x3e8),'vPcPL':'0.8rem','sZCjv':'#aaa','DGWjy':_0x28fb82(0x166),'JVUfU':'messages'},_0x532475=document['createElement'](_0x68da44[_0x28fb82(0x1c9)]);_0x532475['style'][_0x28fb82(0x407)]=_0x68da44['gMPJK'],_0x532475[_0x28fb82(0x438)][_0x28fb82(0x336)]=_0x68da44[_0x28fb82(0x29c)],_0x532475[_0x28fb82(0x438)][_0x28fb82(0x414)]=_0x68da44['sZCjv'],_0x532475[_0x28fb82(0x438)][_0x28fb82(0x42f)]=_0x68da44[_0x28fb82(0x216)],_0x532475[_0x28fb82(0x286)]=_0x55dd01,document[_0x28fb82(0x2b0)](_0x28fb82(0x40f))[_0x28fb82(0x21d)](_0x532475),document[_0x28fb82(0x2b0)](_0x68da44[_0x28fb82(0x411)])[_0x28fb82(0x25a)]=document['getElementById'](_0x68da44[_0x28fb82(0x411)])[_0x28fb82(0x314)];}function reactToMessage(_0x370e62,_0x203256){const _0x32346b=_0xa6da94,_0x5e944e={'yGCFH':function(_0x2d4120,_0x1dd324){return _0x2d4120(_0x1dd324);},'bOJXC':_0x32346b(0x3c0)},_0x5ca919=_0x5e944e['yGCFH'](sanitizeUsername,username),_0x30dae4=db[_0x32346b(0x306)](_0x32346b(0x177)+roomCode+_0x32346b(0x231)+_0x370e62+_0x32346b(0x389));_0x30dae4[_0x32346b(0x206)](_0x5e944e['bOJXC'])[_0x32346b(0x1b2)](_0x52dc24=>{const _0x1d309e=_0x32346b,_0x551f66=_0x52dc24['val']()||{},_0x16bc6d={};for(const [_0x475c2a,_0xa94dde]of Object[_0x1d309e(0x272)](_0x551f66)){_0x16bc6d[_0x475c2a]=(_0xa94dde||[])[_0x1d309e(0x1fc)](_0xbcf2ab=>_0xbcf2ab!==_0x5ca919);}if(!_0x551f66[_0x203256]||!_0x551f66[_0x203256][_0x1d309e(0x18d)](_0x5ca919)){if(!_0x16bc6d[_0x203256])_0x16bc6d[_0x203256]=[];_0x16bc6d[_0x203256]['push'](_0x5ca919);}_0x30dae4[_0x1d309e(0x176)](_0x16bc6d);});}function startSidebarSyncLoop(){const _0x596bb9={'NMZSh':function(_0x1dcfb0,_0xca1003){return _0x1dcfb0(_0xca1003);},'BhuZg':function(_0x18c809,_0x3eae8e,_0x4b540e){return _0x18c809(_0x3eae8e,_0x4b540e);}};_0x596bb9['BhuZg'](setInterval,async()=>{const _0x2094a8=_0x4cba;if(!roomCode)return;const _0x4e6803=await db['ref'](_0x2094a8(0x205)+roomCode)[_0x2094a8(0x236)]();if(_0x4e6803['exists']()){const _0x4e45e3=_0x4e6803[_0x2094a8(0x3b5)]();_0x596bb9['NMZSh'](renderUserLists,_0x4e45e3);}},0x1388);}