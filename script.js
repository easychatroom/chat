const _0x2a85ff=_0x4411;(function(_0x52c459,_0x241ee5){const _0x33ba74=_0x4411,_0x2ce0f0=_0x52c459();while(!![]){try{const _0x4c82ee=parseInt(_0x33ba74(0x129))/0x1*(-parseInt(_0x33ba74(0x110))/0x2)+parseInt(_0x33ba74(0x2fe))/0x3*(parseInt(_0x33ba74(0xed))/0x4)+-parseInt(_0x33ba74(0x159))/0x5+parseInt(_0x33ba74(0xbe))/0x6+parseInt(_0x33ba74(0x305))/0x7+-parseInt(_0x33ba74(0x18d))/0x8*(-parseInt(_0x33ba74(0x161))/0x9)+parseInt(_0x33ba74(0x126))/0xa;if(_0x4c82ee===_0x241ee5)break;else _0x2ce0f0['push'](_0x2ce0f0['shift']());}catch(_0x49e3c7){_0x2ce0f0['push'](_0x2ce0f0['shift']());}}}(_0x1e26,0xc4183));function _0x4411(_0xeb5a60,_0x34eaf5){const _0x1e26f1=_0x1e26();return _0x4411=function(_0x4411d2,_0x4ec5df){_0x4411d2=_0x4411d2-0x78;let _0x3652e5=_0x1e26f1[_0x4411d2];return _0x3652e5;},_0x4411(_0xeb5a60,_0x34eaf5);}const firebaseConfig={'apiKey':_0x2a85ff(0x104),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0x2a85ff(0x2fa),'projectId':'easy-chatroom','storageBucket':_0x2a85ff(0x20f),'messagingSenderId':_0x2a85ff(0x14f),'appId':_0x2a85ff(0x1b9),'measurementId':'G-QDESJ2WR42'};firebase[_0x2a85ff(0xba)](firebaseConfig);const db=firebase[_0x2a85ff(0xc9)]();let deviceId=null;((async()=>{const _0x401a43={'pdpjU':function(_0x39a6ae){return _0x39a6ae();}};deviceId=await _0x401a43['pdpjU'](generateDeviceId);})());const swearWords=['fuck',_0x2a85ff(0x13b),_0x2a85ff(0x83),_0x2a85ff(0x27c),_0x2a85ff(0x2b5),_0x2a85ff(0x1a7),_0x2a85ff(0x252),_0x2a85ff(0x19d),_0x2a85ff(0x102),'pendejo',_0x2a85ff(0x2cd),_0x2a85ff(0x28d),'gilipollas',_0x2a85ff(0x171),'caralho',_0x2a85ff(0xd4),_0x2a85ff(0x19d),'fdp','otario',_0x2a85ff(0xd9),'gago',_0x2a85ff(0x136),_0x2a85ff(0x100),_0x2a85ff(0x151),_0x2a85ff(0x24a),_0x2a85ff(0xe8)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x2a85ff(0x125)]()[_0x2a85ff(0x233)](0x24)[_0x2a85ff(0x138)](0x2,0x9),lastActivity=Date[_0x2a85ff(0x24f)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x2a85ff(0x1b1),MAX_MESSAGES=0xfa,sound=new Audio(_0x2a85ff(0x23a));sound[_0x2a85ff(0x306)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x5f2f49=_0x2a85ff,_0x53a464={'bvySO':function(_0x1387ea,_0x1a8ef2){return _0x1387ea+_0x1a8ef2;},'QvNGz':function(_0x208eeb,_0x296f36){return _0x208eeb+_0x296f36;},'JUCcr':function(_0x4de598,_0x56dc80){return _0x4de598(_0x56dc80);}},_0x1100f0=_0x53a464[_0x5f2f49(0x215)](_0x53a464['QvNGz'](navigator[_0x5f2f49(0x296)],screen['width']),screen[_0x5f2f49(0x28b)]),_0x347677=await _0x53a464[_0x5f2f49(0xb5)](sha256,_0x1100f0);return _0x53a464[_0x5f2f49(0x215)]('_',_0x347677[_0x5f2f49(0x138)](0x0,0x14));}function sha256(_0x4e64e5){const _0x47df9e=_0x2a85ff,_0x37aa20={'TLurq':'SHA-256'},_0x1e07b7=new TextEncoder()[_0x47df9e(0x2a0)](_0x4e64e5);return crypto[_0x47df9e(0xae)][_0x47df9e(0x14c)](_0x37aa20[_0x47df9e(0x216)],_0x1e07b7)[_0x47df9e(0x148)](_0x4844f0=>{const _0x365f21=_0x47df9e;return Array[_0x365f21(0x2e0)](new Uint8Array(_0x4844f0))['map'](_0x37d2e8=>_0x37d2e8[_0x365f21(0x233)](0x10)[_0x365f21(0x101)](0x2,'0'))[_0x365f21(0x2ef)]('');});}function toggleNotifications(){const _0x25588c=_0x2a85ff,_0x431147={'vKBFs':function(_0x160405,_0x56f1f2){return _0x160405===_0x56f1f2;},'lajor':_0x25588c(0x10f),'oCkRr':_0x25588c(0xea),'Mqxah':'notifToggleBtn','dgJNG':_0x25588c(0x302),'SWKlD':_0x25588c(0x16a),'FTUPf':_0x25588c(0x2ed),'cinMe':'🔔\x20Enable\x20Notifications'};Notification[_0x25588c(0x130)]!==_0x431147[_0x25588c(0x2ca)]?Notification['requestPermission']()[_0x25588c(0x148)](_0x13c21c=>{const _0x56d21f=_0x25588c;_0x431147[_0x56d21f(0xfe)](_0x13c21c,'granted')&&(notificationsEnabled=!![],localStorage[_0x56d21f(0x2dd)](_0x431147[_0x56d21f(0x13f)],_0x431147['oCkRr']),document[_0x56d21f(0x217)](_0x431147['Mqxah'])[_0x56d21f(0x213)]=_0x431147[_0x56d21f(0x107)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem'](_0x431147['lajor'],notificationsEnabled?'true':_0x431147[_0x25588c(0x1de)]),document[_0x25588c(0x217)](_0x431147[_0x25588c(0x16c)])['innerText']=notificationsEnabled?_0x431147[_0x25588c(0x107)]:_0x431147[_0x25588c(0x150)]);}function toggleAuthMode(){const _0x386570=_0x2a85ff,_0x2a5f77={'BxsnG':_0x386570(0xce),'SKxje':_0x386570(0x118),'MrlSm':_0x386570(0x127),'iMIwB':'authDescription','VDQoF':_0x386570(0xf6),'UlmCE':_0x386570(0x94),'fQiYd':'authAvatarPreview','uoyrE':_0x386570(0x245),'vLIpC':_0x386570(0x2e2)};isRegisterMode=!isRegisterMode,document[_0x386570(0x217)]('authTitle')[_0x386570(0x213)]=isRegisterMode?_0x2a5f77[_0x386570(0x144)]:_0x2a5f77['SKxje'],document[_0x386570(0x217)](_0x386570(0x9b))['style'][_0x386570(0x202)]=isRegisterMode?_0x386570(0xf6):_0x2a5f77[_0x386570(0x19e)],document['getElementById'](_0x2a5f77[_0x386570(0x79)])[_0x386570(0x28f)][_0x386570(0x202)]=isRegisterMode?_0x2a5f77[_0x386570(0x1c9)]:_0x2a5f77[_0x386570(0x19e)],document[_0x386570(0x217)](_0x2a5f77[_0x386570(0xb0)])[_0x386570(0x28f)][_0x386570(0x202)]=isRegisterMode?'block':_0x2a5f77[_0x386570(0x19e)],document[_0x386570(0x217)](_0x2a5f77[_0x386570(0x1f4)])[_0x386570(0x28f)][_0x386570(0x202)]=_0x386570(0x127),document[_0x386570(0x217)](_0x2a5f77['uoyrE'])['innerText']=isRegisterMode?_0x2a5f77[_0x386570(0x144)]:'Login',document[_0x386570(0x217)](_0x2a5f77['vLIpC'])['style'][_0x386570(0x202)]=_0x2a5f77[_0x386570(0x19e)];}function previewAvatar(){const _0x1593b7=_0x2a85ff,_0x21d2ab={'rICnl':_0x1593b7(0x94)},_0x253158=document['getElementById'](_0x21d2ab[_0x1593b7(0xeb)]);if(!_0x253158[_0x1593b7(0x20b)][_0x1593b7(0x16e)])return;const _0x3afab2=new FileReader();_0x3afab2[_0x1593b7(0x23e)]=()=>{const _0x263f3f=_0x1593b7;document['getElementById'](_0x263f3f(0x2e3))[_0x263f3f(0x238)]=_0x3afab2['result'],document['getElementById'](_0x263f3f(0x2e3))[_0x263f3f(0x28f)][_0x263f3f(0x202)]='block';},_0x3afab2['readAsDataURL'](_0x253158['files'][0x0]);}async function submitAuth(){const _0x3938d5=_0x2a85ff,_0x2ac4f4={'DZdhq':function(_0x7c9f5a,_0xdf6648){return _0x7c9f5a||_0xdf6648;},'HTJYB':'user','MiwFD':function(_0x3dede1){return _0x3dede1();},'PEUFW':_0x3938d5(0x106),'ktWbb':'authAvatar','uCGFm':'authError','rhGag':_0x3938d5(0x127),'UhVJR':'Please\x20fill\x20in\x20all\x20fields.','XBlfT':_0x3938d5(0xf6),'rgxLp':function(_0x36ff8c,_0x84295b){return _0x36ff8c(_0x84295b);},'vmCRw':_0x3938d5(0x170),'hqVDQ':function(_0x1282e2,_0x19edbd){return _0x1282e2!==_0x19edbd;},'ICetv':_0x3938d5(0x299),'Batqd':_0x3938d5(0x304),'MhkJj':function(_0x399197,_0x20d3c5){return _0x399197||_0x20d3c5;},'sDZzy':_0x3938d5(0x2a8),'ZSHqu':function(_0x1c0300,_0xd7e235){return _0x1c0300(_0xd7e235);},'qQOvZ':_0x3938d5(0x116)},_0x336e53=document[_0x3938d5(0x217)](_0x3938d5(0x2c0))[_0x3938d5(0x19b)][_0x3938d5(0xab)](),_0xa5f38=document[_0x3938d5(0x217)](_0x2ac4f4[_0x3938d5(0x112)])[_0x3938d5(0x19b)]['trim'](),_0x321914=document['getElementById'](_0x3938d5(0x9b))[_0x3938d5(0x19b)][_0x3938d5(0xab)](),_0x5acee1=document['getElementById'](_0x3938d5(0x1b4))[_0x3938d5(0x19b)][_0x3938d5(0xab)](),_0x2aa8e0=document['getElementById'](_0x2ac4f4[_0x3938d5(0x289)]),_0x1bb9cb=document['getElementById'](_0x2ac4f4[_0x3938d5(0x167)]);_0x1bb9cb['style'][_0x3938d5(0x202)]=_0x2ac4f4['rhGag'];if(!_0x336e53||!_0xa5f38){_0x1bb9cb[_0x3938d5(0x213)]=_0x2ac4f4[_0x3938d5(0x1fb)],_0x1bb9cb[_0x3938d5(0x28f)][_0x3938d5(0x202)]=_0x2ac4f4[_0x3938d5(0x288)];return;}const _0x56190d=_0x2ac4f4[_0x3938d5(0x2fd)](sanitizeUsername,_0x336e53),_0x3ceabc=db['ref'](_0x3938d5(0x1d7)+_0x56190d),_0x3360ef=await _0x3ceabc[_0x3938d5(0x1c6)]();if(isRegisterMode){if(_0x3360ef[_0x3938d5(0xc3)]()){_0x1bb9cb[_0x3938d5(0x213)]=_0x2ac4f4['vmCRw'],_0x1bb9cb[_0x3938d5(0x28f)][_0x3938d5(0x202)]=_0x2ac4f4[_0x3938d5(0x288)];return;}if(_0x2ac4f4['hqVDQ'](_0xa5f38,_0x321914)){_0x1bb9cb[_0x3938d5(0x213)]=_0x2ac4f4[_0x3938d5(0x1b0)],_0x1bb9cb[_0x3938d5(0x28f)][_0x3938d5(0x202)]=_0x2ac4f4[_0x3938d5(0x288)];return;}const _0x3d64bd=await sha256(_0xa5f38),_0x4cf4eb=await _0x2ac4f4[_0x3938d5(0x1ab)](generateDeviceId);if(_0x2aa8e0['files'][_0x3938d5(0x16e)]){const _0x24a40e=_0x2aa8e0['files'][0x0],_0x3b885d=new FileReader();_0x3b885d[_0x3938d5(0x23e)]=async()=>{const _0xc3fbe5=_0x3938d5,_0x57c533=_0x3b885d['result'][_0xc3fbe5(0xaa)](',')[0x1];await _0x3ceabc[_0xc3fbe5(0x1db)]({'username':_0x336e53,'passwordHash':_0x3d64bd,'description':_0x2ac4f4[_0xc3fbe5(0x2b0)](_0x5acee1,''),'avatarBase64':_0x57c533,'role':_0x2ac4f4['HTJYB'],'deviceId':_0x4cf4eb,'usernameHistory':[_0x336e53],'lastChanged':Date[_0xc3fbe5(0x24f)]()}),username=_0x336e53,userDescription=_0x5acee1,avatarBase64=_0x57c533,role=_0xc3fbe5(0x93),_0x2ac4f4['MiwFD'](startAfterAuth);},_0x3b885d['readAsDataURL'](_0x24a40e);}else{const _0x5b9ffd=_0x2ac4f4[_0x3938d5(0x160)][_0x3938d5(0xaa)]('|');let _0x1e67d0=0x0;while(!![]){switch(_0x5b9ffd[_0x1e67d0++]){case'0':avatarBase64='';continue;case'1':role=_0x2ac4f4[_0x3938d5(0x29b)];continue;case'2':startAfterAuth();continue;case'3':username=_0x336e53;continue;case'4':userDescription=_0x5acee1;continue;case'5':await _0x3ceabc[_0x3938d5(0x1db)]({'username':_0x336e53,'passwordHash':_0x3d64bd,'description':_0x2ac4f4[_0x3938d5(0x1ea)](_0x5acee1,''),'avatarBase64':'','role':_0x2ac4f4[_0x3938d5(0x29b)],'deviceId':_0x4cf4eb,'usernameHistory':[_0x336e53],'lastChanged':Date[_0x3938d5(0x24f)]()});continue;}break;}}}else{if(!_0x3360ef[_0x3938d5(0xc3)]()){_0x1bb9cb[_0x3938d5(0x213)]=_0x2ac4f4[_0x3938d5(0x2c9)],_0x1bb9cb[_0x3938d5(0x28f)][_0x3938d5(0x202)]=_0x3938d5(0xf6);return;}const _0x1f6377=_0x3360ef['val'](),_0x2fe259=await _0x2ac4f4[_0x3938d5(0xe7)](sha256,_0xa5f38);if(_0x2ac4f4[_0x3938d5(0x111)](_0x2fe259,_0x1f6377[_0x3938d5(0x2f5)])){_0x1bb9cb['innerText']=_0x2ac4f4[_0x3938d5(0x1a6)],_0x1bb9cb['style']['display']=_0x3938d5(0xf6);return;}username=_0x336e53;if(_0x1f6377[_0x3938d5(0x1dc)])userDescription=_0x1f6377[_0x3938d5(0x1dc)];if(_0x1f6377['avatarBase64'])avatarBase64=_0x1f6377[_0x3938d5(0xee)];if(_0x1f6377[_0x3938d5(0x1eb)])role=_0x1f6377[_0x3938d5(0x1eb)];else role=_0x3938d5(0x93);_0x2ac4f4[_0x3938d5(0x1ab)](startAfterAuth);}}async function saveNewUser(_0x160e45,_0x57742e,_0x2df0a2,_0x3e6933,_0x29f9b2){const _0x3a03cc=_0x2a85ff,_0x4ccb78={'knRPF':function(_0x1afccd,_0x59b771){return _0x1afccd(_0x59b771);},'RSQbB':_0x3a03cc(0x93),'alYJv':function(_0x1db6f3,_0x2b6c6c){return _0x1db6f3||_0x2b6c6c;}},_0x187005=db[_0x3a03cc(0xef)](_0x3a03cc(0x1d7)+_0x4ccb78[_0x3a03cc(0x13a)](sanitizeUsername,_0x160e45)),_0x148ec5={'username':_0x160e45,'passwordHash':_0x57742e,'role':_0x4ccb78[_0x3a03cc(0x11b)],'deviceId':_0x2df0a2,'description':_0x4ccb78[_0x3a03cc(0x23b)](_0x29f9b2,''),'avatarBase64':_0x4ccb78[_0x3a03cc(0x23b)](_0x3e6933,''),'usernameHistory':[_0x160e45],'lastChanged':Date[_0x3a03cc(0x24f)]()};await _0x187005[_0x3a03cc(0x1db)](_0x148ec5),username=_0x160e45,_0x3e6933=_0x148ec5[_0x3a03cc(0xee)],userDescription=_0x148ec5[_0x3a03cc(0x1dc)],startAfterAuth();}async function startAfterAuth(){const _0x32f2ec=_0x2a85ff,_0xd8c788={'grQVR':function(_0x16d928,_0x494a09){return _0x16d928(_0x494a09);},'rjngY':_0x32f2ec(0x93),'Kzcqz':'sidebarAvatarPreview','vmYHo':_0x32f2ec(0xf6),'HGpFS':_0x32f2ec(0xde),'IzYMM':'namePreview','vvxRw':_0x32f2ec(0x25f)},_0x1e5a54=_0xd8c788['grQVR'](sanitizeUsername,username),_0x3148d6=db['ref'](_0x32f2ec(0x1d7)+_0x1e5a54),_0x234342=await _0x3148d6[_0x32f2ec(0x1c6)]();if(_0x234342['exists']()){const _0x5ae4ca=_0x234342[_0x32f2ec(0x1b5)]();username=_0x5ae4ca[_0x32f2ec(0x8d)],userDescription=_0x5ae4ca['description']||'',avatarBase64=_0x5ae4ca[_0x32f2ec(0xee)]||'',role=_0x5ae4ca[_0x32f2ec(0x1eb)]||_0xd8c788[_0x32f2ec(0x185)];if(avatarBase64){const _0x43c159=document[_0x32f2ec(0x217)](_0xd8c788[_0x32f2ec(0x237)]);_0x43c159['src']=_0x32f2ec(0xf4)+avatarBase64,_0x43c159['style'][_0x32f2ec(0x202)]=_0xd8c788[_0x32f2ec(0x81)];}}else console[_0x32f2ec(0x2a5)](_0xd8c788['HGpFS']);await loadRoomRoles(),document[_0x32f2ec(0x217)](_0xd8c788['IzYMM'])[_0x32f2ec(0x213)]=username,_0xd8c788[_0x32f2ec(0x197)](showScreen,_0xd8c788[_0x32f2ec(0x92)]);}function toggleRecording(){const _0x2d80e6=_0x2a85ff,_0x4935ad={'UlhVY':function(_0x4c51fe,_0x4269c0){return _0x4c51fe(_0x4269c0);},'uzRUD':'audio/webm','VgipY':function(_0x29e7de,_0x420444){return _0x29e7de&&_0x420444;},'Mmjhe':function(_0x117f17){return _0x117f17();},'oykRk':function(_0x1fe495,_0x6b7f69,_0x1c48b9){return _0x1fe495(_0x6b7f69,_0x1c48b9);},'gEUUV':_0x2d80e6(0x267)};isRecording?_0x4935ad['Mmjhe'](stopRecording):navigator[_0x2d80e6(0xcb)][_0x2d80e6(0x2d7)]({'audio':!![]})[_0x2d80e6(0x148)](_0x14da7f=>{const _0x48f2b6=_0x2d80e6;mediaRecorder=new MediaRecorder(_0x14da7f),mediaRecorder['start'](),isRecording=!![],document[_0x48f2b6(0x217)](_0x48f2b6(0x22f))['innerText']='⏹️',audioChunks=[],mediaRecorder[_0x48f2b6(0x285)]=_0xd61d87=>audioChunks['push'](_0xd61d87[_0x48f2b6(0xa5)]),mediaRecorder[_0x48f2b6(0x157)]=()=>{const _0x1ae616=_0x48f2b6;_0x4935ad[_0x1ae616(0x2f3)](clearTimeout,recordingTimer);const _0xe2f061=new Blob(audioChunks,{'type':_0x4935ad[_0x1ae616(0xa6)]}),_0x5d779a=new FileReader();_0x5d779a[_0x1ae616(0x23e)]=()=>{const _0x396c3a=_0x1ae616,_0x29ad67=_0x5d779a[_0x396c3a(0x1e2)][_0x396c3a(0xaa)](',')[0x1],_0x56227a=db[_0x396c3a(0xef)]()[_0x396c3a(0x229)]()[_0x396c3a(0x2b1)];db[_0x396c3a(0xef)](_0x396c3a(0xd7)+roomCode+_0x396c3a(0x1f9)+_0x56227a)[_0x396c3a(0x1db)]({'msg':_0x396c3a(0x1e6),'audioBase64':_0x29ad67,'sender':username,'senderId':clientId,'timestamp':Date[_0x396c3a(0x24f)]()});},_0x5d779a['readAsDataURL'](_0xe2f061);},recordingTimer=_0x4935ad['oykRk'](setTimeout,()=>{const _0x1d0d72=_0x48f2b6;_0x4935ad[_0x1d0d72(0x1a8)](mediaRecorder,isRecording)&&_0x4935ad[_0x1d0d72(0x308)](stopRecording);},0x4e20);})[_0x2d80e6(0x1a5)](_0x5c9ec7=>{const _0x41cd6d=_0x2d80e6;alert(_0x4935ad[_0x41cd6d(0x123)]);});}function stopRecording(){const _0x3ac81c=_0x2a85ff,_0xdd2400={'ljVZQ':function(_0x418b84,_0x183703){return _0x418b84&&_0x183703;},'ZHuDb':_0x3ac81c(0x14b)};_0xdd2400[_0x3ac81c(0x27a)](mediaRecorder,isRecording)&&(mediaRecorder[_0x3ac81c(0x275)](),isRecording=![],document[_0x3ac81c(0x217)](_0x3ac81c(0x22f))[_0x3ac81c(0x213)]=_0xdd2400[_0x3ac81c(0xad)]);}window['onload']=async()=>{const _0x22ab9c=_0x2a85ff,_0xed377={'yozHC':function(_0x559125){return _0x559125();},'bqRyp':_0x22ab9c(0x10f),'sGlwl':function(_0x1d7142,_0x431713){return _0x1d7142===_0x431713;},'wWgtp':_0x22ab9c(0xea),'QKzFM':function(_0x2dc422,_0x409294){return _0x2dc422(_0x409294);},'FHavs':_0x22ab9c(0x260)};cleanupOldRooms(),_0xed377['yozHC'](setupSidebarBackHandler),_0xed377[_0x22ab9c(0x279)](setupVisibilityAttention),resetWebsiteData();const _0x282470=localStorage['getItem'](_0xed377['bqRyp']);notificationsEnabled=_0xed377[_0x22ab9c(0x242)](_0x282470,_0xed377[_0x22ab9c(0x2d4)]),_0xed377['QKzFM'](showScreen,_0xed377['FHavs']);};function sanitizeUsername(_0x88195c){const _0x4ebf07=_0x2a85ff;return _0x88195c[_0x4ebf07(0x274)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x5cc284=_0x2a85ff,_0x4ae42b={'LwHfm':'⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','EzgIJ':_0x5cc284(0xf6),'ZeqWU':'0|2|1|3|4','rJtnu':_0x5cc284(0x26e),'SNgLu':_0x5cc284(0xf3),'HZiwI':function(_0x7e043a,_0x1a2437){return _0x7e043a(_0x1a2437);},'RfAXl':_0x5cc284(0x25f),'xPPhl':_0x5cc284(0x17e),'JJprk':_0x5cc284(0x200),'sVlLz':_0x5cc284(0x1a3),'jFPYO':_0x5cc284(0x1ee),'YjLNf':_0x5cc284(0x231),'kBZYq':function(_0x1be65b,_0x1a119c){return _0x1be65b||_0x1a119c;},'qFVpj':'Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','XJmnt':_0x5cc284(0x19b)},_0x4d84aa=document[_0x5cc284(0x217)](_0x4ae42b['jFPYO'])['value']['trim'](),_0x1c11cb=document[_0x5cc284(0x217)](_0x5cc284(0x264))[_0x5cc284(0x19b)][_0x5cc284(0xab)](),_0xf12a32=document['getElementById'](_0x4ae42b[_0x5cc284(0x262)]);if(_0x4ae42b[_0x5cc284(0xe6)](!_0x4d84aa,!_0x1c11cb)){_0xf12a32['innerText']=_0x4ae42b[_0x5cc284(0x1d4)],_0xf12a32[_0x5cc284(0x28f)][_0x5cc284(0x202)]=_0x4ae42b[_0x5cc284(0x22d)];return;}const _0x294009=sanitizeUsername(_0x4d84aa),_0x3822f6=db[_0x5cc284(0xef)](_0x5cc284(0x27f)+_0x294009);_0x3822f6['once'](_0x4ae42b[_0x5cc284(0xb6)])[_0x5cc284(0x148)](_0x151319=>{const _0x594aba=_0x5cc284;if(_0x151319[_0x594aba(0xc3)]())_0xf12a32[_0x594aba(0x213)]=_0x4ae42b[_0x594aba(0x201)],_0xf12a32['style'][_0x594aba(0x202)]=_0x4ae42b[_0x594aba(0x22d)];else{const _0xa7cf31={'username':_0x4d84aa,'description':_0x1c11cb,'lastChanged':Date[_0x594aba(0x24f)](),'usernameHistory':[_0x4d84aa]};_0x3822f6[_0x594aba(0x1db)](_0xa7cf31,_0xe3a77=>{const _0x5a0f92=_0x594aba;if(_0xe3a77)console[_0x5a0f92(0x1a9)](_0x5a0f92(0x21c),_0xe3a77),_0xf12a32['innerText']=_0x4ae42b['LwHfm'],_0xf12a32[_0x5a0f92(0x28f)][_0x5a0f92(0x202)]=_0x4ae42b['EzgIJ'];else{const _0x1ccf56=_0x4ae42b[_0x5a0f92(0x1df)][_0x5a0f92(0xaa)]('|');let _0x43ac18=0x0;while(!![]){switch(_0x1ccf56[_0x43ac18++]){case'0':localStorage[_0x5a0f92(0x2dd)](_0x4ae42b[_0x5a0f92(0x190)],_0x4d84aa);continue;case'1':username=_0x4d84aa;continue;case'2':localStorage['setItem']('profile_description',_0x1c11cb);continue;case'3':document[_0x5a0f92(0x217)](_0x4ae42b[_0x5a0f92(0x10e)])[_0x5a0f92(0x213)]=_0x4d84aa;continue;case'4':_0x4ae42b['HZiwI'](showScreen,_0x4ae42b['RfAXl']);continue;}break;}}});}})['catch'](_0xa95ae9=>{const _0x54fa4c=_0x5cc284;console['error'](_0x4ae42b['JJprk'],_0xa95ae9),_0xf12a32[_0x54fa4c(0x213)]=_0x4ae42b[_0x54fa4c(0x155)],_0xf12a32[_0x54fa4c(0x28f)][_0x54fa4c(0x202)]=_0x54fa4c(0xf6);});}function saveProfile(_0x54e441,_0x511bb9,_0x45e4c6){const _0x37fb4f=_0x2a85ff,_0x19fa34={'HsHvN':'namePreview','jgdHG':function(_0x16190d,_0x353a47){return _0x16190d(_0x353a47);},'ecaUF':'roomChoiceScreen'},_0x3278d4=Date['now'](),_0x2cc333=[_0x54e441];db[_0x37fb4f(0xef)]('profiles/'+_0x45e4c6)[_0x37fb4f(0x1db)]({'username':_0x54e441,'description':_0x511bb9,'lastChanged':_0x3278d4,'usernameHistory':_0x2cc333}),document[_0x37fb4f(0x217)](_0x19fa34[_0x37fb4f(0x222)])[_0x37fb4f(0x213)]=_0x54e441,_0x19fa34[_0x37fb4f(0x25e)](showScreen,_0x19fa34[_0x37fb4f(0x1e8)]);}function generateRoom(){const _0x2edd33=_0x2a85ff,_0x386d99={'AJETk':function(_0x361ead,_0x4c409b){return _0x361ead+_0x4c409b;},'NKagd':_0x2edd33(0xd7),'vNZbI':function(_0x12e51b){return _0x12e51b();}};roomCode=genRoomCode(),db[_0x2edd33(0xef)](_0x386d99[_0x2edd33(0x80)](_0x386d99['NKagd'],roomCode))[_0x2edd33(0x1db)]({'active':!![],'created':Date[_0x2edd33(0x24f)]()}),_0x386d99[_0x2edd33(0x209)](startChat);}function joinRoom(){const _0x13da85=_0x2a85ff,_0x21a24d={'aVOvv':function(_0x2d20b2,_0x33c6c9){return _0x2d20b2(_0x33c6c9);},'lEihn':_0x13da85(0xdd),'fprFq':_0x13da85(0x1cb),'rFGso':function(_0x23ac6f,_0x5c8e1f){return _0x23ac6f(_0x5c8e1f);},'djsHO':function(_0x574770,_0x44e638){return _0x574770(_0x44e638);},'DrIXx':_0x13da85(0x22e),'jigij':function(_0x348494,_0x5da85a){return _0x348494+_0x5da85a;}},_0x5b6380=roomCode||document[_0x13da85(0x217)](_0x21a24d[_0x13da85(0x278)])[_0x13da85(0x19b)][_0x13da85(0xab)]()['toUpperCase']();if(!_0x5b6380)return _0x21a24d[_0x13da85(0x2f2)](alert,_0x13da85(0xf8));roomCode=_0x5b6380;if(roomCode===STATIC_ROOM){_0x21a24d['djsHO'](showScreen,_0x21a24d[_0x13da85(0x1e5)]);return;}db['ref'](_0x21a24d[_0x13da85(0x2ee)]('rooms/',roomCode))[_0x13da85(0x1c6)]()['then'](_0xbd24e7=>{const _0x28f92e=_0x13da85;_0xbd24e7[_0x28f92e(0xc3)]()&&_0xbd24e7[_0x28f92e(0x1b5)]()[_0x28f92e(0x211)]!==![]?startChat():_0x21a24d[_0x28f92e(0xdc)](alert,_0x21a24d['lEihn']);});}async function startChat(){const _0x1b95a7=_0x2a85ff,_0x277d7e={'XNyOe':function(_0x2797b3,_0x42c84c){return _0x2797b3===_0x42c84c;},'RbtBa':_0x1b95a7(0x158),'VLFFp':_0x1b95a7(0x1ba),'CDJvx':_0x1b95a7(0x1ff),'lNPaB':function(_0x1522e9,_0x40e593){return _0x1522e9(_0x40e593);},'WANXx':_0x1b95a7(0x25f),'epqrG':'sidebarAvatarPreview','XOpIO':function(_0x4c47db,_0xa3ed58){return _0x4c47db+_0xa3ed58;},'eBIbV':_0x1b95a7(0xf4),'SJrcG':_0x1b95a7(0x1d0),'ohnnJ':'No\x20room\x20code\x20available\x20for\x20private\x20rooms','rtzfA':_0x1b95a7(0x163),'JwncP':_0x1b95a7(0xf6),'tXHix':_0x1b95a7(0x1bd),'xTcWP':function(_0x204a32,_0x1dd0cd){return _0x204a32(_0x1dd0cd);},'wGxVO':_0x1b95a7(0x20c),'MwDFv':_0x1b95a7(0xa0),'RooRW':_0x1b95a7(0x254),'gfldQ':function(_0x3c189a){return _0x3c189a();},'ZmbNs':function(_0x19279c){return _0x19279c();},'qdVLF':function(_0x5d57d4){return _0x5d57d4();},'BSmbG':function(_0xebdf00,_0x39fcf1){return _0xebdf00||_0x39fcf1;},'LCxDq':function(_0x104bfe){return _0x104bfe();},'wOlUK':function(_0x13a423,_0x4f0130){return _0x13a423(_0x4f0130);}};if(_0x277d7e[_0x1b95a7(0xa7)](!roomCode,!username))return _0x277d7e[_0x1b95a7(0x9e)](alert,_0x1b95a7(0x2f9)),_0x277d7e['xTcWP'](showScreen,_0x1b95a7(0x25f));listenForPauseState(),listenForUserList(),await _0x277d7e[_0x1b95a7(0x154)](loadRoomRoles),_0x277d7e[_0x1b95a7(0xd8)](listenForAnnouncement);const _0x90404c=_0x277d7e[_0x1b95a7(0x191)](sanitizeUsername,username),_0x1aabfb=db['ref'](_0x1b95a7(0x24b)+roomCode+'/'+_0x90404c),_0x2f4aa0={'username':username,'online':!![],'lastOnline':firebase['database']['ServerValue'][_0x1b95a7(0x1c7)]};_0x1aabfb[_0x1b95a7(0x1db)](_0x2f4aa0,_0x13304c=>{const _0x3a964f=_0x1b95a7,_0x211931={'lbcVv':function(_0x3a1733,_0x562413){return _0x277d7e['XNyOe'](_0x3a1733,_0x562413);},'lrdSC':_0x277d7e['RbtBa'],'kRXEm':function(_0x367fed,_0x4aae89){return _0x277d7e['XNyOe'](_0x367fed,_0x4aae89);},'SlJnq':_0x277d7e['VLFFp'],'TAcyk':_0x277d7e[_0x3a964f(0x1d2)]};if(_0x13304c)return _0x277d7e[_0x3a964f(0x9e)](alert,_0x3a964f(0x276)),_0x277d7e[_0x3a964f(0x9e)](showScreen,_0x277d7e[_0x3a964f(0x8a)]);const _0x5b5b27=document[_0x3a964f(0x217)](_0x277d7e[_0x3a964f(0x1a1)]);avatarBase64&&(_0x5b5b27['src']=_0x277d7e['XOpIO'](_0x277d7e[_0x3a964f(0x121)],avatarBase64),_0x5b5b27[_0x3a964f(0x28f)][_0x3a964f(0x202)]=_0x3a964f(0xf6));document[_0x3a964f(0x217)](_0x277d7e[_0x3a964f(0x18f)])['innerHTML']=username+'\x20'+getRoleTag(_0x90404c),document['getElementById'](_0x3a964f(0x2c8))['innerText']=_0x277d7e['XNyOe'](roomCode,STATIC_ROOM)?_0x277d7e[_0x3a964f(0x2ec)]:roomCode;['admin',_0x277d7e['VLFFp'],_0x3a964f(0x156)][_0x3a964f(0x1b8)](role)?document[_0x3a964f(0x217)](_0x277d7e[_0x3a964f(0x109)])['style'][_0x3a964f(0x202)]=_0x277d7e[_0x3a964f(0xe1)]:document[_0x3a964f(0x217)](_0x277d7e[_0x3a964f(0x109)])[_0x3a964f(0x28f)][_0x3a964f(0x202)]=_0x3a964f(0x127);const _0xd38e1b=db[_0x3a964f(0xef)]()[_0x3a964f(0x229)]()['key'];db['ref'](_0x3a964f(0xd7)+roomCode+_0x3a964f(0x1f9)+_0xd38e1b)[_0x3a964f(0x1db)]({'msg':username+_0x3a964f(0x1f6),'sender':_0x277d7e[_0x3a964f(0x91)],'senderId':_0x277d7e[_0x3a964f(0x91)],'timestamp':Date[_0x3a964f(0x24f)]()}),_0x277d7e[_0x3a964f(0x1b7)](showScreen,_0x277d7e[_0x3a964f(0x25d)]);const _0x3a0719=document[_0x3a964f(0x217)](_0x277d7e['MwDFv']);_0x3a0719[_0x3a964f(0x2cb)](_0x277d7e['RooRW'],_0x23cf4f=>{const _0xb7542b=_0x3a964f;_0x211931[_0xb7542b(0x95)](_0x23cf4f['detail'],0x3)&&(role===_0x211931[_0xb7542b(0x2e7)]||_0x211931[_0xb7542b(0x1ec)](role,_0x211931[_0xb7542b(0xdf)]))&&(confirm(_0x211931[_0xb7542b(0xfc)])&&db[_0xb7542b(0xef)](_0xb7542b(0xd7)+roomCode+_0xb7542b(0x1d5))[_0xb7542b(0x146)]()['then'](()=>{_0x3a0719['innerText']='';}));}),listenForMessages(),_0x277d7e[_0x3a964f(0x2f1)](listenForTyping),_0x277d7e[_0x3a964f(0x154)](startInactivityTimer),_0x277d7e[_0x3a964f(0x154)](trackPresence),_0x277d7e['qdVLF'](watchProfileChanges),_0x277d7e[_0x3a964f(0x2f1)](watchMuteStatus);});}function watchProfileChanges(){const _0x19188f=_0x2a85ff,_0x5b8c8e={'arYNd':_0x19188f(0x93),'nOMvg':_0x19188f(0x22b),'WOQwd':function(_0x42c708,_0x40d4a2){return _0x42c708+_0x40d4a2;},'mOTHp':_0x19188f(0xf4),'Krtvv':_0x19188f(0xf6),'LRZfA':function(_0x1e0466,_0x581e8a){return _0x1e0466(_0x581e8a);},'WnhDP':function(_0x5a7a75,_0x33e339){return _0x5a7a75(_0x33e339);},'BhsVk':_0x19188f(0x19b)},_0x595404=_0x5b8c8e['WnhDP'](sanitizeUsername,username);db['ref'](_0x19188f(0x1d7)+_0x595404)['on'](_0x5b8c8e[_0x19188f(0x2af)],_0x2f1b54=>{const _0x5cbec0=_0x19188f;if(!_0x2f1b54['exists']())return;const _0x5d14de=_0x2f1b54[_0x5cbec0(0x1b5)]();userDescription=_0x5d14de[_0x5cbec0(0x1dc)]||'',avatarBase64=_0x5d14de[_0x5cbec0(0xee)]||'',role=_0x5d14de[_0x5cbec0(0x1eb)]||_0x5b8c8e[_0x5cbec0(0x7f)];if(avatarBase64){const _0x43cfed=document[_0x5cbec0(0x217)](_0x5b8c8e[_0x5cbec0(0x253)]);!_0x43cfed[_0x5cbec0(0x238)]['includes'](avatarBase64)&&(_0x43cfed[_0x5cbec0(0x238)]=_0x5b8c8e[_0x5cbec0(0x11a)](_0x5b8c8e['mOTHp'],avatarBase64),_0x43cfed[_0x5cbec0(0x28f)][_0x5cbec0(0x202)]=_0x5b8c8e[_0x5cbec0(0xda)]);}_0x5b8c8e[_0x5cbec0(0x128)](renderUserLists,roomUsers);});}function uploadImage(_0x1a9bea){const _0xfde8d1=_0x2a85ff,_0x24b92d={'XQDoN':function(_0x1dc0cf,_0x1d8f0c){return _0x1dc0cf>_0x1d8f0c;},'oJhVg':function(_0x5ee583,_0x3f0d0d){return _0x5ee583*_0x3f0d0d;},'eUEQm':function(_0x35d8a0,_0x1af2ac){return _0x35d8a0*_0x1af2ac;},'Zhjev':function(_0xd106c8,_0x3fb5dd){return _0xd106c8(_0x3fb5dd);},'OqziV':_0xfde8d1(0x271)},_0x79e07a=_0x1a9bea[_0xfde8d1(0x20b)][0x0];if(!_0x79e07a||_0x24b92d[_0xfde8d1(0x2da)](_0x79e07a['size'],_0x24b92d['oJhVg'](_0x24b92d[_0xfde8d1(0x280)](0x2,0x400),0x400))){_0x24b92d[_0xfde8d1(0x24e)](alert,_0x24b92d[_0xfde8d1(0xca)]);return;}const _0x3a0050=new FileReader();_0x3a0050[_0xfde8d1(0x23e)]=()=>{const _0x5e9e8a=_0xfde8d1,_0x186ccd=_0x3a0050['result'][_0x5e9e8a(0xaa)](',')[0x1],_0x76974a=db[_0x5e9e8a(0xef)]()[_0x5e9e8a(0x229)]()[_0x5e9e8a(0x2b1)];db[_0x5e9e8a(0xef)](_0x5e9e8a(0xd7)+roomCode+_0x5e9e8a(0x1f9)+_0x76974a)[_0x5e9e8a(0x1db)]({'imageBase64':_0x186ccd,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x3a0050['readAsDataURL'](_0x79e07a);}async function fetchProfile(_0x338eeb){const _0x2c8ca9=_0x2a85ff,_0x520f63=await db[_0x2c8ca9(0xef)](_0x2c8ca9(0x1d7)+_0x338eeb)['get']();if(!_0x520f63[_0x2c8ca9(0xc3)]())return null;return _0x520f63['val']();}function validateStaticRoomPassword(){const _0x463ca2=_0x2a85ff,_0x321253={'Hntbz':function(_0x2d708b,_0x26633d){return _0x2d708b(_0x26633d);},'SHopI':_0x463ca2(0x2e4),'LJDjT':function(_0x3351d2,_0x23ba81){return _0x3351d2===_0x23ba81;},'ujUOJ':function(_0x14631d){return _0x14631d();},'qApGm':'Incorrect\x20password','WMksz':_0x463ca2(0xe9),'dshfZ':_0x463ca2(0xf6),'aWcUp':_0x463ca2(0x19f),'DwYJg':_0x463ca2(0x115),'tsKvL':_0x463ca2(0xbb)},_0x69ade1=document[_0x463ca2(0x217)](_0x321253[_0x463ca2(0xc6)])[_0x463ca2(0x19b)][_0x463ca2(0xab)]();if(!_0x69ade1){_0x321253[_0x463ca2(0x26f)](alert,_0x321253['tsKvL']);return;}db[_0x463ca2(0xef)](_0x463ca2(0x22a)+STATIC_ROOM)[_0x463ca2(0x1c6)]()[_0x463ca2(0x148)](_0xfe0b5a=>{const _0x3f1345=_0x463ca2;if(!_0xfe0b5a[_0x3f1345(0xc3)]()){_0x321253[_0x3f1345(0x26f)](alert,_0x321253[_0x3f1345(0x251)]);return;}const _0x310e85=_0xfe0b5a[_0x3f1345(0x1b5)]();_0x321253[_0x3f1345(0xb3)](_0x69ade1,_0x310e85)?(roomCode=STATIC_ROOM,_0x321253[_0x3f1345(0x239)](startChat)):(document[_0x3f1345(0x217)](_0x3f1345(0xe9))[_0x3f1345(0x213)]=_0x321253[_0x3f1345(0x165)],document[_0x3f1345(0x217)](_0x321253['WMksz'])[_0x3f1345(0x28f)][_0x3f1345(0x202)]=_0x321253[_0x3f1345(0x122)]);})[_0x463ca2(0x1a5)](_0x57a900=>{const _0x31ef75=_0x463ca2;console[_0x31ef75(0x1a9)](_0x57a900),alert(_0x321253[_0x31ef75(0x1f8)]);});}function listenForPauseState(){const _0x117ae3=_0x2a85ff,_0x838eaa={'Opkqw':function(_0x1cac7d,_0x1ccc29){return _0x1cac7d===_0x1ccc29;},'Ptbba':_0x117ae3(0x135),'IQVSa':_0x117ae3(0xf6)};db['ref']('roomStates/'+roomCode+'/paused')['on'](_0x117ae3(0x19b),_0x6b3c81=>{const _0x4b2da2=_0x117ae3,_0x1ee5a4=_0x6b3c81[_0x4b2da2(0xc3)]()&&_0x838eaa[_0x4b2da2(0x258)](_0x6b3c81[_0x4b2da2(0x1b5)](),!![]);document[_0x4b2da2(0x217)](_0x838eaa[_0x4b2da2(0xfd)])[_0x4b2da2(0x28f)][_0x4b2da2(0x202)]=_0x1ee5a4?_0x838eaa[_0x4b2da2(0x256)]:_0x4b2da2(0x127);});}const spamTimestamps=[];async function sendMessage(){const _0x35813f=_0x2a85ff,_0x3b1d22={'FrZMt':_0x35813f(0x2be),'lpGNW':function(_0x4bc679,_0x288d5b){return _0x4bc679(_0x288d5b);},'zsxLs':function(_0x331e61,_0x3e27e4){return _0x331e61===_0x3e27e4;},'iSuJI':function(_0x491d91,_0x424b2b){return _0x491d91>_0x424b2b;},'qkhto':_0x35813f(0x228),'WFATV':function(_0x4250dd,_0x53bd17){return _0x4250dd!==_0x53bd17;},'cZbMC':'msgInput','lwtxL':function(_0x5a3546,_0x1cd38d){return _0x5a3546||_0x1cd38d;},'LdnWK':function(_0x191b3a,_0x11e64d){return _0x191b3a(_0x11e64d);},'OQsXY':_0x35813f(0x277),'EMWWB':function(_0x5e03e2,_0xd0966,_0x2f147a){return _0x5e03e2(_0xd0966,_0x2f147a);},'gJite':_0x35813f(0x263),'OYXxa':function(_0x1f10ac,_0x43a629){return _0x1f10ac(_0x43a629);}},_0x316b01=await db['ref']('roomStates/'+roomCode+_0x35813f(0x13d))[_0x35813f(0x1c6)](),_0x37db46=await db['ref'](_0x35813f(0x2b3)+roomCode+'/'+_0x3b1d22[_0x35813f(0x11c)](sanitizeUsername,username))[_0x35813f(0x1c6)]();if(_0x37db46[_0x35813f(0xc3)]()){const _0x3ab7b6=_0x37db46[_0x35813f(0x1b5)](),_0x3e72d3=_0x3b1d22[_0x35813f(0x1ce)](typeof _0x3ab7b6,_0x35813f(0x18a))&&_0x3ab7b6[_0x35813f(0x225)]?_0x3ab7b6[_0x35813f(0x225)]:_0x3ab7b6;if(_0x3b1d22[_0x35813f(0x133)](_0x3e72d3,Date[_0x35813f(0x24f)]())){_0x3b1d22['lpGNW'](alert,_0x3b1d22[_0x35813f(0x141)]);return;}}if(_0x316b01[_0x35813f(0xc3)]()&&_0x3b1d22[_0x35813f(0x1ce)](_0x316b01[_0x35813f(0x1b5)](),!![])&&_0x3b1d22[_0x35813f(0x25c)](role,_0x35813f(0x1ba))){alert(_0x35813f(0x87));return;}const _0x20a92c=document['getElementById'](_0x3b1d22[_0x35813f(0x11d)]),_0x147b31=_0x20a92c[_0x35813f(0x19b)][_0x35813f(0xab)]();if(_0x3b1d22[_0x35813f(0x2df)](!_0x147b31,isBlocked))return;const _0x27373d=Date['now'](),_0x5224bf=_0x147b31[_0x35813f(0xb2)](),_0x47925b=swearWords[_0x35813f(0x164)](_0x32b41e=>_0x5224bf[_0x35813f(0x1b8)](_0x32b41e));if(_0x47925b){_0x3b1d22[_0x35813f(0x168)](alert,_0x35813f(0x113));return;}spamTimestamps[_0x35813f(0x229)](_0x27373d);const _0xb4089=spamTimestamps[_0x35813f(0x103)](_0x3bb5d6=>_0x27373d-_0x3bb5d6<0x1b58);if(_0xb4089[_0x35813f(0x16e)]>0x5){const _0x529faf=_0x35813f(0xc1)[_0x35813f(0xaa)]('|');let _0x205fd0=0x0;while(!![]){switch(_0x529faf[_0x205fd0++]){case'0':_0x20a92c[_0x35813f(0x2bb)]=_0x35813f(0x16d);continue;case'1':alert(_0x3b1d22[_0x35813f(0x20d)]);continue;case'2':isBlocked=!![];continue;case'3':_0x20a92c[_0x35813f(0xff)]=!![];continue;case'4':return;case'5':_0x3b1d22[_0x35813f(0x2eb)](setTimeout,()=>{const _0x277bf2=_0x35813f;isBlocked=![],_0x20a92c['disabled']=![],_0x20a92c['placeholder']=_0x3b1d22[_0x277bf2(0x1bf)],spamTimestamps['length']=0x0;},0x7530);continue;}break;}}const _0x33ce6f=localStorage[_0x35813f(0x2f0)](_0x3b1d22[_0x35813f(0x12e)])||'',_0x4dccd6=db['ref']()[_0x35813f(0x229)]()['key'];db[_0x35813f(0xef)](_0x35813f(0xd7)+roomCode+'/messages/'+_0x4dccd6)['set']({'msg':_0x147b31,'sender':username,'senderId':clientId,'avatarBase64':_0x33ce6f,'timestamp':_0x27373d}),_0x20a92c[_0x35813f(0x19b)]='',_0x3b1d22[_0x35813f(0x250)](sendTyping,!![]),lastActivity=_0x27373d;}function listenForMessages(){const _0x1c593f=_0x2a85ff,_0x139637={'AJmQP':function(_0x1197ba,_0x493d41,_0x47d2ef,_0x23f2f0){return _0x1197ba(_0x493d41,_0x47d2ef,_0x23f2f0);},'cGFpK':function(_0x4cb105,_0x285293){return _0x4cb105===_0x285293;},'miweD':function(_0xb3e400,_0x4f683f){return _0xb3e400!==_0x4f683f;},'fprgA':function(_0x30a210,_0x5ace25){return _0x30a210!==_0x5ace25;},'GlIBi':function(_0x277a67,_0xa34cca){return _0x277a67&&_0xa34cca;},'JEnYA':function(_0x121938,_0x4ebdc0){return _0x121938===_0x4ebdc0;},'Vqutj':'granted','fLTpg':_0x1c593f(0xf0),'XJOTq':_0x1c593f(0x8f),'TndKU':_0x1c593f(0x282),'caezB':_0x1c593f(0x240)},_0x50f82d=db[_0x1c593f(0xef)](_0x1c593f(0xd7)+roomCode+_0x1c593f(0x28e)),_0x7750d4=_0x50f82d[_0x1c593f(0x2c5)](MAX_MESSAGES);userListReady=!![],_0x7750d4['on'](_0x139637['caezB'],_0x3631d9=>{const _0x5a1762=_0x1c593f,_0x57fa92=_0x3631d9['val'](),{senderId:_0x2420b8}=_0x57fa92,_0x22f62=_0x139637[_0x5a1762(0x241)](_0x2420b8,clientId);if(!userListReady){pendingMessages['forEach'](({data:_0x3a1551,sent:_0x11b7bc,key:_0x4044e3})=>{_0x139637['AJmQP'](addMessage,_0x3a1551,_0x11b7bc,_0x4044e3);}),pendingMessages=[];return;}const _0x380824=_0x57fa92['audioUrl']||null,_0x525b31=_0x57fa92[_0x5a1762(0x24c)]||null;_0x139637['AJmQP'](addMessage,_0x57fa92,_0x22f62,_0x3631d9[_0x5a1762(0x2b1)]);_0x139637[_0x5a1762(0x2e6)](roomCode,STATIC_ROOM)&&_0x139637[_0x5a1762(0x2d0)](_0x57fa92[_0x5a1762(0x2a3)],_0x5a1762(0x1bd))&&db['ref'](_0x5a1762(0xd7)+roomCode+_0x5a1762(0x1f9)+_0x3631d9[_0x5a1762(0x2b1)])['remove']();!_0x22f62&&(sound[_0x5a1762(0x96)](),flagPageAttention());if(_0x139637[_0x5a1762(0xe4)](notificationsEnabled,!_0x22f62)){if(document['hidden']&&_0x139637[_0x5a1762(0x9c)](Notification[_0x5a1762(0x130)],_0x139637[_0x5a1762(0x1c4)])){const _0x20f114=_0x57fa92[_0x5a1762(0x11e)]||(_0x57fa92['audioBase64']?_0x139637[_0x5a1762(0x78)]:_0x57fa92['imageBase64']?'[Image]':_0x139637[_0x5a1762(0x2c3)]);new Notification(_0x5a1762(0x19c)+_0x57fa92[_0x5a1762(0x2a3)],{'body':_0x20f114,'icon':_0x139637['TndKU']});}}});}function stackNotification(_0x326173,_0x556b24){const _0x3f9827=_0x2a85ff,_0x4145d9={'haSDy':function(_0x5ad5ce){return _0x5ad5ce();},'PElnG':function(_0x18367e,_0x139847){return _0x18367e(_0x139847);},'TmmPN':function(_0x580885,_0x111bec,_0x194753){return _0x580885(_0x111bec,_0x194753);}};notificationStack['push']({'sender':_0x326173,'content':_0x556b24}),_0x4145d9[_0x3f9827(0x2b7)](clearTimeout,notificationTimer),notificationTimer=_0x4145d9[_0x3f9827(0x309)](setTimeout,()=>{const _0x12a2e8=_0x3f9827;_0x4145d9[_0x12a2e8(0x284)](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x22e034=_0x2a85ff,_0x2a6f4d={'rpSqV':_0x22e034(0x12a),'uVvPt':_0x22e034(0x282),'JSGyV':function(_0x3768e1,_0x65bcb7){return _0x3768e1!==_0x65bcb7;},'OWjgE':'granted','YkkGx':function(_0x431b2c,_0x32bbcc){return _0x431b2c||_0x32bbcc;},'RgPjh':_0x22e034(0x19a),'cjfRN':function(_0x154fef,_0x2258fd){return _0x154fef===_0x2258fd;}};if(!notificationStack[_0x22e034(0x16e)]||_0x2a6f4d[_0x22e034(0x2a1)](Notification[_0x22e034(0x130)],_0x2a6f4d[_0x22e034(0x1bc)]))return;const _0x5e29de=[...new Set(notificationStack['map'](_0x2fc619=>_0x2fc619[_0x22e034(0x2a3)]))],_0x10050b=_0x2a6f4d[_0x22e034(0x257)](roomCode,_0x2a6f4d[_0x22e034(0x208)]),_0x453287=_0x2a6f4d[_0x22e034(0x82)](_0x5e29de['length'],0x1)?_0x22e034(0x2d9)+_0x5e29de[0x0]+_0x22e034(0xf5)+_0x10050b+':\x20'+notificationStack[0x0][_0x22e034(0x15d)]:_0x22e034(0x1b2)+_0x5e29de[_0x22e034(0x2ef)](',\x20')+_0x22e034(0xf5)+_0x10050b;setTimeout(()=>{const _0x155d40=_0x22e034;new Notification(_0x2a6f4d['rpSqV'],{'body':_0x453287,'icon':_0x2a6f4d[_0x155d40(0x212)]});},0x64);}async function addMessage(_0x4694bb,_0x68fc72,_0x558c15=null){const _0xe40ea9=_0x2a85ff,_0x1f7499={'BBmrr':_0xe40ea9(0x85),'iAtCT':function(_0x2f4fa1,_0x2b8fee){return _0x2f4fa1(_0x2b8fee);},'LhqdC':_0xe40ea9(0x176),'RkECa':function(_0x5c809c,_0x35e871){return _0x5c809c===_0x35e871;},'uxpen':_0xe40ea9(0x1bd),'IaTWT':_0xe40ea9(0xc7),'aXeHF':_0xe40ea9(0xb9),'tqWbu':'sent','OdlBx':_0xe40ea9(0x223),'tXbvJ':function(_0x17cda6,_0x50f48d){return _0x17cda6(_0x50f48d);},'DVnkK':_0xe40ea9(0x1ba),'ASECv':_0xe40ea9(0x158),'ZjivU':'moderator','qnvxU':_0xe40ea9(0x210)},{msg:_0x1939a1,sender:_0x50516e,senderId:_0x5033da,timestamp:_0x180392,audioUrl:_0x22e574,audioBase64:_0x54a817,imageBase64:_0x2133bf}=_0x4694bb,_0x5c0ef9=_0x1f7499[_0xe40ea9(0x17d)](sanitizeUsername,_0x50516e),_0x4ea2f9=document['createElement'](_0x1f7499['LhqdC']);if(_0x1f7499[_0xe40ea9(0x10c)](_0x4694bb[_0xe40ea9(0x2a3)],_0x1f7499[_0xe40ea9(0x206)])){const _0x344c1a=document[_0xe40ea9(0x1e3)](_0x1f7499[_0xe40ea9(0x1fc)]);_0x344c1a['style']['textAlign']=_0x1f7499[_0xe40ea9(0x27e)],_0x344c1a['style'][_0xe40ea9(0x2ba)]=_0xe40ea9(0x2aa),_0x344c1a[_0xe40ea9(0x28f)]['color']=_0x1f7499[_0xe40ea9(0x259)],_0x344c1a[_0xe40ea9(0x28f)][_0xe40ea9(0x1af)]=_0xe40ea9(0x234),_0x344c1a[_0xe40ea9(0x213)]=_0x4694bb[_0xe40ea9(0x11e)];const _0x584394=document[_0xe40ea9(0x217)](_0xe40ea9(0x210));_0x584394[_0xe40ea9(0x26d)](_0x344c1a),_0x584394['scrollTop']=_0x584394[_0xe40ea9(0x7e)];return;}_0x4ea2f9[_0xe40ea9(0x132)][_0xe40ea9(0x230)](_0xe40ea9(0x11e),_0x68fc72?_0x1f7499[_0xe40ea9(0x143)]:_0xe40ea9(0x195));const _0x1c6ad9=new Date(_0x180392)['toLocaleTimeString']([],{'hour':_0x1f7499[_0xe40ea9(0x227)],'minute':'2-digit'}),_0x392c1d=_0x1f7499[_0xe40ea9(0x186)](getRoleTag,_0x5c0ef9),_0x206c8a=await fetchAvatar(_0x5c0ef9),_0x40f9cc=_0x206c8a?'<img\x20src=\x22data:image/png;base64,'+_0x206c8a+'\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>':'',_0x17a8f4=_0x40f9cc+_0xe40ea9(0x2c1)+_0x50516e+'\x20'+_0x392c1d+_0xe40ea9(0x90),_0x980576=_0x1939a1?.[_0xe40ea9(0x274)](new RegExp('@'+username+'\x5cb','gi'),_0xe40ea9(0x2d6));let _0x29fdeb=_0x17a8f4+'<br>';if(_0x22e574)_0x29fdeb+='<audio\x20controls\x20src=\x22'+_0x22e574+_0xe40ea9(0x294);else{if(_0x54a817){const _0x8053f5='data:audio/webm;base64,'+_0x54a817;_0x29fdeb+='<audio\x20controls\x20src=\x22'+_0x8053f5+_0xe40ea9(0x294);}else{if(_0x2133bf){const _0x43c805=_0xe40ea9(0xf4)+_0x2133bf;_0x29fdeb+=_0xe40ea9(0x2ce)+_0x43c805+'\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x29fdeb+='<div>'+_0x980576+_0xe40ea9(0x10a);}}_0x29fdeb+=_0xe40ea9(0x26b)+_0x1c6ad9+'</small>',_0x4ea2f9[_0xe40ea9(0x2ad)]=_0x29fdeb;if([_0x1f7499[_0xe40ea9(0x21d)],_0x1f7499[_0xe40ea9(0x88)],_0x1f7499[_0xe40ea9(0xbc)]]['includes'](role)){let _0x526c4e=0x0;_0x4ea2f9[_0xe40ea9(0x2cb)](_0xe40ea9(0x254),()=>{const _0x464851=_0xe40ea9;_0x526c4e++,_0x526c4e===0x3&&(confirm(_0x1f7499[_0x464851(0xbf)])&&(db[_0x464851(0xef)]('rooms/'+roomCode+_0x464851(0x1f9)+_0x558c15)[_0x464851(0x146)](),_0x4ea2f9['remove']())),setTimeout(()=>_0x526c4e=0x0,0x1f4);});}const _0x31a4f3=document['getElementById'](_0x1f7499[_0xe40ea9(0x114)]);_0x31a4f3[_0xe40ea9(0x26d)](_0x4ea2f9),_0x31a4f3[_0xe40ea9(0x261)]=_0x31a4f3[_0xe40ea9(0x7e)];}function cleanupOldRooms(){const _0x241256=_0x2a85ff,_0x1da04e={'XQNcA':function(_0x23b6be,_0x876390){return _0x23b6be===_0x876390;},'XYjJB':function(_0x356675,_0x5b64d4){return _0x356675>_0x5b64d4;},'YNndp':function(_0x23db09,_0x95b99){return _0x23db09-_0x95b99;},'CzlpV':function(_0x1ad1c5,_0x4dce42){return _0x1ad1c5*_0x4dce42;},'WVCcm':function(_0x440ac7,_0x373a4f){return _0x440ac7*_0x373a4f;},'MYwqA':function(_0x18db5f,_0x1525cb){return _0x18db5f+_0x1525cb;},'PEvUH':_0x241256(0xd7),'fBLjp':_0x241256(0x2f8),'ZNyqY':_0x241256(0x189),'xRjQk':_0x241256(0x2fc),'nMYQn':'value'};db['ref'](_0x1da04e[_0x241256(0x25a)])['once'](_0x1da04e[_0x241256(0xaf)])[_0x241256(0x148)](_0x302b2e=>{const _0x44e975=_0x241256,_0x38c1f8=_0x302b2e[_0x44e975(0x1b5)]();if(!_0x38c1f8)return;const _0x19a28b=Date[_0x44e975(0x24f)]();for(const _0x42da12 in _0x38c1f8){if(_0x1da04e[_0x44e975(0x1cd)](_0x42da12,STATIC_ROOM))continue;const _0x2f7074=_0x38c1f8[_0x42da12];_0x1da04e[_0x44e975(0x86)](_0x1da04e[_0x44e975(0x14e)](_0x19a28b,_0x2f7074[_0x44e975(0x2a4)]||0x0),_0x1da04e['CzlpV'](_0x1da04e[_0x44e975(0xb4)](0x2,0x3c),0x3e8))&&db[_0x44e975(0xef)](_0x1da04e[_0x44e975(0x17f)](_0x1da04e[_0x44e975(0x184)],_0x42da12))[_0x44e975(0x146)]();}db['ref'](_0x1da04e['fBLjp'])['once'](_0x44e975(0x19b))[_0x44e975(0x148)](_0xabd7e1=>{const _0x376d81=_0x44e975,_0x56ef01=_0xabd7e1[_0x376d81(0x1b5)]();if(!_0x56ef01)return;for(const _0x3d9bb4 in _0x56ef01){if(_0x3d9bb4!==STATIC_ROOM)db['ref'](_0x376d81(0xb7)+_0x3d9bb4)[_0x376d81(0x146)]();}}),db[_0x44e975(0xef)](_0x1da04e[_0x44e975(0x17b)])[_0x44e975(0x17c)]('value')['then'](_0x49ed47=>{const _0x3af529=_0x44e975,_0x532b60=_0x49ed47[_0x3af529(0x1b5)]();if(!_0x532b60)return;for(const _0x354c08 in _0x532b60){if(_0x354c08!==STATIC_ROOM)db['ref']('antispamBlocked/'+_0x354c08)['remove']();}});});}document[_0x2a85ff(0x2cb)](_0x2a85ff(0xb1),()=>{const _0x366008=_0x2a85ff,_0x39b7b5={'QJaav':function(_0x5c21e4,_0x71e604){return _0x5c21e4===_0x71e604;},'lmFBN':_0x366008(0x16f),'ENZBy':function(_0x319811){return _0x319811();},'EjGjB':'msgInput'},_0x214277=document[_0x366008(0x217)](_0x39b7b5[_0x366008(0x145)]);_0x214277&&_0x214277[_0x366008(0x2cb)]('keypress',function(_0x341a19){const _0x2c8ffd=_0x366008;_0x39b7b5[_0x2c8ffd(0x9f)](_0x341a19[_0x2c8ffd(0x2b1)],_0x39b7b5[_0x2c8ffd(0xd6)])&&(_0x341a19[_0x2c8ffd(0x182)](),_0x39b7b5[_0x2c8ffd(0x15a)](sendMessage));});});function showScreen(_0x4db6d2){const _0x267820=_0x2a85ff,_0x59cc7d={'wdckK':_0x267820(0x127),'lJWpL':_0x267820(0x2e8),'NxCGM':_0x267820(0x22e),'stuSG':_0x267820(0x2b8),'HwSHY':_0x267820(0xd0),'VrBVh':'authScreen','EYDOM':'flex'};[_0x59cc7d[_0x267820(0x2f7)],'roomChoiceScreen',_0x267820(0x166),_0x267820(0x20c),_0x59cc7d[_0x267820(0x2ff)],_0x59cc7d[_0x267820(0xf7)],_0x59cc7d[_0x267820(0x283)],_0x59cc7d['VrBVh'],_0x267820(0x2fb)][_0x267820(0x1fd)](_0x4155d4=>{const _0x2b494a=_0x267820;document[_0x2b494a(0x217)](_0x4155d4)['style'][_0x2b494a(0x202)]=_0x59cc7d[_0x2b494a(0x269)];}),document['getElementById'](_0x4db6d2)['style'][_0x267820(0x202)]=_0x59cc7d[_0x267820(0x153)];}function genRoomCode(){const _0x3f8cee=_0x2a85ff,_0x564f80={'SafIy':'0123456789','hCrvc':function(_0x3c8711,_0x1bff01){return _0x3c8711+_0x1bff01;},'SCIDA':function(_0x18fc68,_0x48363e){return _0x18fc68+_0x48363e;},'EJPBG':function(_0x405144,_0x172c35){return _0x405144+_0x172c35;},'dlDIk':function(_0x5c5597,_0x421133,_0x3fcd3c){return _0x5c5597(_0x421133,_0x3fcd3c);},'YFnEG':function(_0x14f994,_0x4cf7a0,_0x36f501){return _0x14f994(_0x4cf7a0,_0x36f501);},'rjWvb':function(_0x7b95f4,_0x373b1d,_0x5dda57){return _0x7b95f4(_0x373b1d,_0x5dda57);}},_0x2b8da0=_0x3f8cee(0x30b),_0x59a37a=_0x564f80['SafIy'],_0x4ebfdf=(_0x568b3f,_0x34068e)=>Array[_0x3f8cee(0x2e0)]({'length':_0x34068e},()=>_0x568b3f[Math['floor'](Math[_0x3f8cee(0x125)]()*_0x568b3f[_0x3f8cee(0x16e)])])[_0x3f8cee(0x2ef)]('');return _0x564f80[_0x3f8cee(0x291)](_0x564f80[_0x3f8cee(0x142)](_0x564f80['EJPBG'](_0x564f80[_0x3f8cee(0x12f)](_0x4ebfdf,_0x59a37a,0x3),_0x564f80[_0x3f8cee(0x12f)](_0x4ebfdf,_0x2b8da0,0x3)),_0x564f80[_0x3f8cee(0x180)](_0x4ebfdf,_0x59a37a,0x2)),_0x564f80[_0x3f8cee(0x10b)](_0x4ebfdf,_0x2b8da0,0x2));}function startInactivityTimer(){const _0x47f2a3=_0x2a85ff,_0x1b65b0={'jVOGy':function(_0x2addb5,_0x32c764){return _0x2addb5>_0x32c764;},'RdSKq':function(_0x1ce3c9,_0x772aef){return _0x1ce3c9-_0x772aef;},'jPCTb':function(_0x420fa1,_0x2b918f){return _0x420fa1*_0x2b918f;},'Gmaze':function(_0x5db41a,_0x242de7){return _0x5db41a!==_0x242de7;},'iNMTw':function(_0x2ca386,_0x202d7a){return _0x2ca386+_0x202d7a;},'wmTpe':_0x47f2a3(0xd7),'yybPA':function(_0x3d8e63,_0x51c907){return _0x3d8e63(_0x51c907);},'yuHXX':function(_0x501fb5,_0x53837b,_0x404e23){return _0x501fb5(_0x53837b,_0x404e23);}};_0x1b65b0[_0x47f2a3(0x220)](setInterval,()=>{const _0x1045e3=_0x47f2a3;_0x1b65b0[_0x1045e3(0x15e)](_0x1b65b0[_0x1045e3(0xcc)](Date[_0x1045e3(0x24f)](),lastActivity),_0x1b65b0[_0x1045e3(0x1ed)](_0x1b65b0[_0x1045e3(0x1ed)](0x5,0x3c),0x3e8))&&_0x1b65b0[_0x1045e3(0x18c)](roomCode,STATIC_ROOM)&&(db['ref'](_0x1b65b0[_0x1045e3(0x12c)](_0x1b65b0[_0x1045e3(0x1cf)],roomCode))[_0x1045e3(0x23d)]({'active':![]}),_0x1b65b0[_0x1045e3(0xac)](alert,_0x1045e3(0x2cf)),location[_0x1045e3(0x249)]());},0x7530);}function setupSidebarBackHandler(){const _0x16e51b=_0x2a85ff,_0x33a5f3={'oHctJ':_0x16e51b(0x28c),'qMwYB':_0x16e51b(0x8c),'qJJOW':_0x16e51b(0xa2)};window[_0x16e51b(0x2cb)](_0x33a5f3[_0x16e51b(0x265)],()=>{const _0x451c28=_0x16e51b,_0x179462=document[_0x451c28(0x217)](_0x33a5f3[_0x451c28(0x199)]);_0x179462?.[_0x451c28(0x132)][_0x451c28(0x2bc)](_0x33a5f3[_0x451c28(0x1b6)])&&_0x179462['classList'][_0x451c28(0x146)](_0x33a5f3[_0x451c28(0x1b6)]);});}function toggleSidebar(){const _0x450eb1=_0x2a85ff,_0x4fcea6={'CjsIG':_0x450eb1(0x8c)},_0x55a928=document[_0x450eb1(0x217)](_0x450eb1(0x28c));if(!_0x55a928[_0x450eb1(0x132)][_0x450eb1(0x2bc)](_0x4fcea6['CjsIG']))_0x55a928[_0x450eb1(0x132)][_0x450eb1(0x230)](_0x4fcea6['CjsIG']),history[_0x450eb1(0x295)]({'sidebarOpen':!![]},'');else{_0x55a928[_0x450eb1(0x132)][_0x450eb1(0x146)](_0x4fcea6['CjsIG']);if(history[_0x450eb1(0x28a)]?.[_0x450eb1(0x1f0)])history[_0x450eb1(0xc2)]();}}function setupVisibilityAttention(){const _0x1fe539=_0x2a85ff,_0x7703f4={'jBPqx':_0x1fe539(0x29f)};let _0x3d3577=0x0,_0x285c00=document[_0x1fe539(0x1a2)];document['addEventListener'](_0x7703f4[_0x1fe539(0x286)],()=>{const _0x26d731=_0x1fe539;!document[_0x26d731(0x1fa)]&&(document['title']=_0x285c00,_0x3d3577=0x0);}),window['flagPageAttention']=function(){const _0x3d8c91=_0x1fe539;document[_0x3d8c91(0x1fa)]&&(_0x3d3577++,document[_0x3d8c91(0x1a2)]='('+_0x3d3577+')\x20New\x20message\x20•\x20'+_0x285c00);};}function _0x1e26(){const _0x3f9b50=['EYDOM','ZmbNs','sVlLz','moderator','onstop','admin','7814135IxJRXD','ENZBy','IfDzl','JDIaP','content','jVOGy','iUNTE','Batqd','6903UBnfed','myyYx','addAnnouncementBtn','some','qApGm','codeEntryScreen','uCGFm','LdnWK','LevEa','granted','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','Mqxah','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','length','Enter','Username\x20already\x20exists.','porra','Enter\x20Announcement\x20Text:','text','JdTka','qpDmd','div','yVdGr','ReeVT','0|3|1|4|2','profileContent','ZNyqY','once','iAtCT','❌\x20Username\x20already\x20taken.','MYwqA','YFnEG','typing/','preventDefault','kZjkO','PEvUH','rjngY','tXbvJ','Kxuez','QAcnt','antispamBlocked','object','paaTA','Gmaze','440SnjOWe','auth','SJrcG','rJtnu','wOlUK','\x20was\x20promoted\x20to\x20Moderator','iMyzJ','URnoB','received','IFGaO','grQVR','eauuN','oHctJ','unknown','value','💬\x20','puta','MrlSm','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','WSFkx','epqrG','title','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','\x20minutes','catch','qQOvZ','dick','VgipY','error','all','MiwFD','bnoOP','TzvMr','2px\x20solid\x20red','margin','ICetv','050BBB66HH','You\x20got\x20messages\x20from\x20','textAlign','authDescription','val','qMwYB','xTcWP','includes','1:985049198428:web:d0eb7e2de39887710c9b99','dev','flex','OWjgE','system','✅\x20Profile\x20picture\x20updated!','FrZMt','adminControlsSection','qRbAX','\x20promoted\x20to\x20Moderator!','eFzSe','Vqutj','yZgIA','get','TIMESTAMP','oqpaG','VDQoF','clear','roomCodeInput','\x27)\x22>+Admin</button>','XQNcA','zsxLs','wmTpe','userDisplay','QjbEd','CDJvx','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','qFVpj','/announcement','\x27)\x22>Delete\x20Messages</button>','auth/','UKdVl','zGIDd','vprPJ','set','description','<li>','FTUPf','ZeqWU','\x27,\x2010)\x22>Mute\x2010m</button>','userList','result','createElement','DPMjv','DrIXx','[Voice\x20message]','keBfo','ecaUF','border','MhkJj','role','kRXEm','jPCTb','profileUsernameInput','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20','sidebarOpen','DgcGq','EREMl','ZlTaM','fQiYd','Surbv','\x20is\x20online','onDisconnect','aWcUp','/messages/','hidden','UhVJR','LhqdC','forEach','🚫\x20Cannot\x20promote\x20Developers.','Remove\x20this\x20announcement?','Error\x20checking\x20username:','xPPhl','display','map','⚠️\x20Failed\x20to\x20update\x20avatar.','color','uxpen','moderators/','RgPjh','vNZbI','TdQig','files','chatScreen','OQsXY','iFBfb','easy-chatroom.firebasestorage.app','messages','active','uVvPt','innerText','deleteMessage','bvySO','TLurq','getElementById','wufPi','onlineStatus','\x20minutes.','DdyvZ','Failed\x20to\x20save\x20profile:','DVnkK','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','jgefs','yuHXX','vZkgI','HsHvN','2-digit','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','muteUntil','pGbBZ','OdlBx','⛔\x20You\x20are\x20muted.','push','gr8stg/','sidebarAvatarPreview','MxJSs','EzgIJ','passwordScreen','recordBtn','add','profileError','rcTZa','toString','6px\x20auto','PnjUl','<button\x20onclick=\x22muteUser(\x27','Kzcqz','src','ujUOJ','sounds/beep.mp3','alYJv','Enter\x20your\x20new\x20username:','update','onloadend','lqFzT','child_added','cGFpK','sGlwl','eHnyr','nYCyW','authSubmitBtn','userOptions-','GenaG','Remove\x20Announcement?','reload','bwisit','users/','audioBase64','<button\x20onclick=\x22demoteUser(\x27','Zhjev','now','OYXxa','SHopI','cunt','nOMvg','click','vFKwk','IQVSa','YkkGx','Opkqw','aXeHF','xRjQk','vLNBx','WFATV','wGxVO','jgdHG','roomChoiceScreen','authScreen','scrollTop','YjLNf','avatar_base64','profileDescriptionInput','qJJOW','OUHHj','Microphone\x20permission\x20denied.','uqdWA','wdckK','MeMTb','<small>','prXmj','appendChild','chat_username','Hntbz','orderByChild','❌\x20Image\x20must\x20be\x20under\x202MB','\x27)\x22>Promote\x20to\x20Moderator</button>','✅\x20Profile\x20updated!\x20Please\x20reload.','replace','stop','Failed\x20to\x20register\x20user\x20into\x20room.','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','fprFq','yozHC','ljVZQ','online','asshole','lIATV','IaTWT','profiles/','eUEQm','<button\x20onclick=\x22promoteToModerator(\x27','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','HwSHY','haSDy','ondataavailable','jBPqx','PRnUu','XBlfT','ktWbb','state','height','userSidebar','cabron','/messages','style','WaIRq','hCrvc','vdmnz','SNtFK','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','pushState','userAgent','tTIxh','JbPWr','Passwords\x20do\x20not\x20match.','\x20was\x20promoted\x20to\x20Admin','HTJYB','Profile\x20not\x20found.','WhNgT','Incorrect\x20current\x20password.','visibilitychange','encode','JSGyV','\x27)\x22>Demote</button>','sender','created','warn','oldPasswordInput','/avatarBase64','Account\x20not\x20found.','ErtUO','0.8rem','🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','YLYoJ','innerHTML','LnlfX','BhsVk','DZdhq','key','wguyj','muted/','JdhrF','bastard','mYVBY','PElnG','profileScreen','OmMyw','fontSize','placeholder','contains','UYOyS','Type\x20a\x20message...','equalTo','authUsername','<span\x20class=\x22sender-name\x22>','VqXYE','XJOTq','UweOo','limitToLast','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','tsAzl','roomDisplay','sDZzy','SWKlD','addEventListener','oUOBd','coño','<img\x20src=\x22','Session\x20expired.','fprgA','🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.','promote','●\x20Online','wWgtp','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','getUserMedia','fSEzb','You\x20got\x20a\x20message\x20from\x20','XQDoN','HcViG','iFQsG','setItem','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','lwtxL','from','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','authError','authAvatarPreview','Room\x20password\x20not\x20set.\x20Cannot\x20join.','mAbhn','miweD','lrdSC','usernameScreen','cPJkl','MnNGZ','EMWWB','ohnnJ','false','jigij','join','getItem','gfldQ','rFGso','UlhVY','oyTWJ','passwordHash','<button\x20onclick=\x22deleteUserMessages(\x27','lJWpL','antispam','Missing\x20room\x20or\x20user\x20information.','https://easy-chatroom-default-rtdb.firebaseio.com','editProfileScreen','rooms','rgxLp','3NZJJnR','NxCGM','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','JxdYh','🔕\x20Disable\x20Notifications','mMBCt','5|3|4|0|1|2','2208808FbMfty','volume','Messages\x20by\x20','Mmjhe','TmmPN','1|3|4|0|2','ABCDEFGHIJKLMNOPQRSTUVWXYZ','entries','fLTpg','iMIwB','kaViP','IPHYf','<button\x20onclick=\x22promoteToAdmin(\x27','\x27)\x22>+Mod</button>','scrollHeight','arYNd','AJETk','vmYHo','cjfRN','bitch','Unknown','Delete\x20this\x20message?','XYjJB','Room\x20is\x20currently\x20paused.','ASECv','zQDCi','WANXx','DHbyo','show','username','XMyzg','[Unknown]','</span>','tXHix','vvxRw','user','authAvatar','lbcVv','play','\x20was\x20muted\x20for\x20','FRXQq','SaFce','fBxrU','authPasswordConfirm','JEnYA','admins/','lNPaB','QJaav','announcementArea','qQPea','popstate','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','typing','data','uzRUD','BSmbG','\x27,\x201)\x22>Mute\x201m</button>','lastChanged','split','trim','yybPA','ZHuDb','subtle','nMYQn','UlmCE','DOMContentLoaded','toLowerCase','LJDjT','WVCcm','JUCcr','XJmnt','antispam/','OrtBc','#aaa','initializeApp','Please\x20enter\x20the\x20password.','ZjivU','readAsDataURL','4773468jUSAhw','BBmrr','input','2|3|0|1|5|4','back','exists','concat','No\x20bio\x20set','DwYJg','center','XnATu','database','OqziV','mediaDevices','RdSKq','BUasE','Register','zkCrW','profileViewer','bLmMf','VYvxW','GGykw','merda','KptGs','lmFBN','rooms/','LCxDq','putangina','Krtvv','<img\x20src=\x22data:image/png;base64,','aVOvv','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','SlJnq','newPasswordInput','JwncP','VUKlb','TYOvH','GlIBi','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','kBZYq','ZSHqu','putang\x20ina','passwordError','true','rICnl','\x0a\x20\x20\x20\x20','4142224PEwrDo','avatarBase64','ref','[Voice\x20Message]','usernameHistory','CpKFz','namePreview','data:image/png;base64,','\x20in\x20room\x20','block','stuSG','Enter\x20a\x20valid\x20room\x20code','FNYZO','QPsFU','\x0aDescription:\x20','TAcyk','Ptbba','vKBFs','disabled','ulol','padStart','mierda','filter','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','rNkBQ','authPassword','dgJNG','\x0aUsername\x20History:\x20','rtzfA','</div>','rjWvb','RkECa','\x20🔧\x20','SNgLu','notifications_enabled','15032jUKirL','hqVDQ','PEUFW','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','qnvxU','staticPasswordInput','Incorrect\x20password.','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','Login','\x0aLast\x20Changed:\x20','WOQwd','RSQbB','lpGNW','cZbMC','msg','FEIaM','zSRgB','eBIbV','dshfZ','gEUUV','\x27)\x22>Promote\x20to\x20Admin</button>','random','6130950aOWTVJ','none','LRZfA','58yUGjSu','New\x20Chat\x20Message','ServerValue','iNMTw','bwaje','gJite','dlDIk','permission','Please\x20enter\x20your\x20current\x20password.','classList','iSuJI','vtSam','pausedOverlay','tangina','JvhHc','substr','QpFtF','knRPF','shit','jZSco','/paused','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','lajor','afxWx','qkhto','SCIDA','tqWbu','BxsnG','EjGjB','remove','\x20demoted\x20to\x20user.','then','mute','gVmBK','🎙️','digest','msgInput','YNndp','985049198428','cinMe','bobo','LYimw'];_0x1e26=function(){return _0x3f9b50;};return _0x1e26();}function tryEditProfile(){const _0xddf324=_0x2a85ff;document[_0xddf324(0x217)](_0xddf324(0x2fb))[_0xddf324(0x28f)]['display']=_0xddf324(0x1bb);}async function submitEditProfile(){const _0x228cd4=_0x2a85ff,_0x65102a={'WbhgT':_0x228cd4(0x2a6),'TzvMr':_0x228cd4(0xe0),'kZjkO':'editBioInput','JDIaP':'editProfileError','VYvxW':_0x228cd4(0x131),'iFQsG':_0x228cd4(0xf6),'qpDmd':function(_0x11d421,_0x514363){return _0x11d421(_0x514363);},'OrtBc':_0x228cd4(0x29c),'DHbyo':function(_0xdedefe,_0x177e74){return _0xdedefe!==_0x177e74;},'oyTWJ':_0x228cd4(0x29e),'tKxWg':function(_0x49aed2,_0x5b30a8){return _0x49aed2(_0x5b30a8);},'lZMda':function(_0xcf7a60,_0x5145cc){return _0xcf7a60!==_0x5145cc;},'WSFkx':function(_0x1e7c02,_0x1d4b30){return _0x1e7c02*_0x1d4b30;},'LHvII':function(_0x7e18e5,_0x4ab749){return _0x7e18e5*_0x4ab749;},'JdhrF':function(_0x208e77,_0x28fae7){return _0x208e77-_0x28fae7;},'MeMTb':function(_0x350e52,_0x3ab27b){return _0x350e52(_0x3ab27b);},'vYWWF':_0x228cd4(0x300),'mMBCt':function(_0x11cd7a,_0xcd5862){return _0x11cd7a!==_0xcd5862;},'GenaG':_0x228cd4(0x273)},_0x56a2a5=document['getElementById'](_0x65102a['WbhgT'])[_0x228cd4(0x19b)],_0x3107d5=document[_0x228cd4(0x217)](_0x65102a[_0x228cd4(0x1ad)])[_0x228cd4(0x19b)],_0x3994c5=document[_0x228cd4(0x217)](_0x65102a[_0x228cd4(0x183)])['value'][_0x228cd4(0xab)](),_0x17a972=document[_0x228cd4(0x217)](_0x65102a[_0x228cd4(0x15c)]);if(!_0x56a2a5){_0x17a972[_0x228cd4(0x213)]=_0x65102a[_0x228cd4(0xd2)],_0x17a972[_0x228cd4(0x28f)]['display']=_0x65102a[_0x228cd4(0x2dc)];return;}const _0x5ad5ed=_0x65102a[_0x228cd4(0x175)](sanitizeUsername,username),_0x3e86ad=await db[_0x228cd4(0xef)](_0x228cd4(0x1d7)+_0x5ad5ed)[_0x228cd4(0x1c6)]();if(!_0x3e86ad[_0x228cd4(0xc3)]()){_0x17a972[_0x228cd4(0x213)]=_0x65102a[_0x228cd4(0xb8)],_0x17a972['style']['display']=_0x65102a[_0x228cd4(0x2dc)];return;}const _0x5a25fe=_0x3e86ad[_0x228cd4(0x1b5)](),_0x24bbd2=await sha256(_0x56a2a5);if(_0x65102a[_0x228cd4(0x8b)](_0x24bbd2,_0x5a25fe[_0x228cd4(0x2f5)])){_0x17a972[_0x228cd4(0x213)]=_0x65102a[_0x228cd4(0x2f4)],_0x17a972['style'][_0x228cd4(0x202)]=_0x65102a[_0x228cd4(0x2dc)];return;}const _0x12e34f={};if(_0x3107d5){const _0x1b662f=await _0x65102a['tKxWg'](sha256,_0x3107d5);_0x12e34f[_0x228cd4(0x2f5)]=_0x1b662f;}_0x65102a['lZMda'](_0x3994c5,_0x5a25fe[_0x228cd4(0x1dc)])&&(_0x12e34f[_0x228cd4(0x1dc)]=_0x3994c5);const _0x11f839=Date['now'](),_0x544c23=_0x65102a[_0x228cd4(0x1a0)](_0x65102a['LHvII'](0x18*0x3c,0x3c),0x3e8),_0x4d6062=_0x65102a[_0x228cd4(0x2b4)](_0x11f839,_0x5a25fe[_0x228cd4(0xa9)]||0x0)>_0x544c23;if(_0x4d6062&&_0x65102a[_0x228cd4(0x26a)](confirm,_0x65102a['vYWWF'])){const _0x1014e9=_0x65102a['MeMTb'](prompt,_0x228cd4(0x23c));_0x1014e9&&_0x1014e9[_0x228cd4(0xab)]()&&(_0x12e34f['username']=_0x1014e9[_0x228cd4(0xab)](),_0x12e34f['usernameHistory']=(_0x5a25fe['usernameHistory']||[])[_0x228cd4(0xc4)](_0x1014e9[_0x228cd4(0xab)]()),_0x12e34f[_0x228cd4(0xa9)]=_0x11f839);}_0x12e34f[_0x228cd4(0x8d)]&&_0x65102a[_0x228cd4(0x303)](_0x12e34f[_0x228cd4(0x8d)],_0x5a25fe[_0x228cd4(0x8d)])?(await db['ref'](_0x228cd4(0x1d7)+_0x65102a['qpDmd'](sanitizeUsername,_0x12e34f['username']))[_0x228cd4(0x1db)]({..._0x5a25fe,..._0x12e34f}),await db['ref'](_0x228cd4(0x1d7)+_0x5ad5ed)[_0x228cd4(0x146)](),username=_0x12e34f['username']):await db[_0x228cd4(0xef)]('auth/'+_0x5ad5ed)['update'](_0x12e34f),_0x65102a['tKxWg'](alert,_0x65102a[_0x228cd4(0x247)]),location[_0x228cd4(0x249)]();}function cancelEditProfile(){const _0x23ff3c=_0x2a85ff,_0x5d28f9={'LevEa':_0x23ff3c(0x2fb),'JdTka':_0x23ff3c(0x127),'TdQig':_0x23ff3c(0x20c)};document[_0x23ff3c(0x217)](_0x5d28f9[_0x23ff3c(0x169)])[_0x23ff3c(0x28f)][_0x23ff3c(0x202)]=_0x5d28f9[_0x23ff3c(0x174)],showScreen(_0x5d28f9[_0x23ff3c(0x20a)]);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={};function listenForUserList(){const _0x6ddaf=_0x2a85ff,_0x405848={'zQDCi':function(_0x2098b8,_0x7e0666){return _0x2098b8===_0x7e0666;},'EREMl':'system','oUOBd':function(_0xd33680){return _0xd33680();},'KQOmZ':function(_0x44e119,_0x2a5f13){return _0x44e119(_0x2a5f13);},'kbqnQ':_0x6ddaf(0x19b)};db[_0x6ddaf(0xef)](_0x6ddaf(0x24b)+roomCode)['on'](_0x405848['kbqnQ'],async _0xf1d645=>{const _0x27b326=_0x6ddaf;if(!_0xf1d645[_0x27b326(0xc3)]())return;const _0x5bac2b=_0xf1d645[_0x27b326(0x1b5)]();for(const [_0x2f1d8f,_0x5261c2]of Object[_0x27b326(0x30c)](_0x5bac2b)){const _0x4a3fac=cachedOnlineStatus[_0x2f1d8f],_0x32e00c=_0x405848['zQDCi'](_0x5261c2[_0x27b326(0x27b)],!![]);if(_0x32e00c&&_0x405848[_0x27b326(0x89)](_0x4a3fac,![])){const _0x48e50c=db[_0x27b326(0xef)]()['push']()[_0x27b326(0x2b1)];db[_0x27b326(0xef)](_0x27b326(0xd7)+roomCode+_0x27b326(0x1f9)+_0x48e50c)[_0x27b326(0x1db)]({'msg':(_0x5261c2[_0x27b326(0x8d)]||_0x2f1d8f)+_0x27b326(0x1f6),'sender':_0x405848['EREMl'],'senderId':_0x405848[_0x27b326(0x1f2)],'timestamp':Date[_0x27b326(0x24f)]()});}if(!_0x32e00c&&_0x405848[_0x27b326(0x89)](_0x4a3fac,!![])){const _0x2968c6=db[_0x27b326(0xef)]()['push']()[_0x27b326(0x2b1)];db[_0x27b326(0xef)](_0x27b326(0xd7)+roomCode+_0x27b326(0x1f9)+_0x2968c6)[_0x27b326(0x1db)]({'msg':(_0x5261c2[_0x27b326(0x8d)]||_0x2f1d8f)+'\x20went\x20offline','sender':_0x405848[_0x27b326(0x1f2)],'senderId':_0x405848[_0x27b326(0x1f2)],'timestamp':Date[_0x27b326(0x24f)]()});}cachedOnlineStatus[_0x2f1d8f]=_0x32e00c;}await _0x405848[_0x27b326(0x2cc)](loadRoomRoles),_0x405848['KQOmZ'](renderUserLists,_0x5bac2b);});}function trackPresence(){const _0x397c83=_0x2a85ff,_0x319b47={'fBxrU':function(_0x21904c){return _0x21904c();},'WhNgT':function(_0x153f2f,_0x25405a){return _0x153f2f||_0x25405a;},'bwaje':function(_0x1a5c77,_0x167969){return _0x1a5c77||_0x167969;},'OHvwE':function(_0x4b354f,_0x1f0aa7){return _0x4b354f(_0x1f0aa7);},'iUNTE':_0x397c83(0x19b)};if(_0x319b47[_0x397c83(0x29d)](!username,!roomCode))return;const _0x444f7e=_0x319b47['OHvwE'](sanitizeUsername,username),_0x395553=db[_0x397c83(0xef)](_0x397c83(0x24b)+roomCode+'/'+_0x444f7e),_0x367876={'username':username,'avatarBase64':_0x319b47[_0x397c83(0x29d)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x397c83(0xc9)][_0x397c83(0x12b)][_0x397c83(0x1c7)]};db[_0x397c83(0xef)](_0x397c83(0x9d)+roomCode+'/'+_0x444f7e)[_0x397c83(0x17c)](_0x319b47[_0x397c83(0x15f)])[_0x397c83(0x148)](_0x5130c7=>{const _0x6bd464=_0x397c83,_0x2c8f7d=_0x6bd464(0x179)['split']('|');let _0x425171=0x0;while(!![]){switch(_0x2c8f7d[_0x425171++]){case'0':_0x5130c7['exists']()&&(_0x367876[_0x6bd464(0x158)]=!![]);continue;case'1':_0x395553[_0x6bd464(0x1db)](_0x367876);continue;case'2':_0x319b47[_0x6bd464(0x9a)](updateOnlineIndicator);continue;case'3':_0x395553['onDisconnect']()[_0x6bd464(0x23d)]({'online':![],'lastOnline':Date[_0x6bd464(0x24f)]()});continue;case'4':_0x395553[_0x6bd464(0x1f7)]()[_0x6bd464(0x1db)]({'username':username,'avatarBase64':_0x319b47[_0x6bd464(0x29d)](avatarBase64,''),'description':_0x319b47[_0x6bd464(0x12d)](userDescription,''),'online':![],'lastOnline':Date['now']()});continue;}break;}});}function uploadSidebarAvatar(_0x29185e){const _0xae5894=_0x2a85ff,_0x129c25={'JcEri':_0xae5894(0x22b),'QPsFU':_0xae5894(0xf6),'IPHYf':function(_0x16525a,_0x1560f5){return _0x16525a(_0x1560f5);},'QpFtF':_0xae5894(0x1be),'GGykw':_0xae5894(0x204)};if(!_0x29185e[_0xae5894(0x20b)][_0xae5894(0x16e)])return;const _0x5c3c23=_0x29185e[_0xae5894(0x20b)][0x0],_0x19535f=new FileReader();_0x19535f['onloadend']=async()=>{const _0x5512a6=_0xae5894,_0x59c580=_0x19535f[_0x5512a6(0x1e2)]['split'](',')[0x1];document[_0x5512a6(0x217)](_0x129c25['JcEri'])[_0x5512a6(0x238)]=_0x19535f[_0x5512a6(0x1e2)],document[_0x5512a6(0x217)](_0x5512a6(0x22b))[_0x5512a6(0x28f)][_0x5512a6(0x202)]=_0x129c25[_0x5512a6(0xfa)];try{const _0x59b623=sanitizeUsername(username);await db[_0x5512a6(0xef)](_0x5512a6(0x1d7)+_0x59b623+_0x5512a6(0x2a7))[_0x5512a6(0x1db)](_0x59c580),_0x129c25['IPHYf'](alert,_0x129c25[_0x5512a6(0x139)]);}catch(_0x27f72a){console['error'](_0x27f72a),_0x129c25[_0x5512a6(0x7b)](alert,_0x129c25[_0x5512a6(0xd3)]);}},_0x19535f[_0xae5894(0xbd)](_0x5c3c23);}function muteUser(_0x25f1f4,_0x1b6c77){const _0x5bdb8a=_0x2a85ff,_0x55fabe={'LYimw':function(_0x3ab4bb,_0x21508b){return _0x3ab4bb(_0x21508b);},'vprPJ':function(_0x5ba37e,_0x10e7a7){return _0x5ba37e+_0x10e7a7;},'prXmj':function(_0xdc1962,_0x375537){return _0xdc1962*_0x375537;},'MxJSs':function(_0x276730,_0x5f1663){return _0x276730(_0x5f1663);}},_0x21369c=_0x55fabe[_0x5bdb8a(0x1da)](Date['now'](),_0x55fabe[_0x5bdb8a(0x26c)](_0x55fabe[_0x5bdb8a(0x26c)](_0x1b6c77,0x3c),0x3e8));db[_0x5bdb8a(0xef)](_0x5bdb8a(0x2b3)+roomCode+'/'+_0x55fabe[_0x5bdb8a(0x22c)](sanitizeUsername,_0x25f1f4))[_0x5bdb8a(0x1db)]({'muteUntil':_0x21369c})['then'](()=>{const _0x3d6802=_0x5bdb8a;_0x55fabe[_0x3d6802(0x152)](alert,_0x25f1f4+'\x20muted\x20for\x20'+_0x1b6c77+_0x3d6802(0x21a)),_0x55fabe[_0x3d6802(0x152)](addSystemMessage,_0x25f1f4+_0x3d6802(0x97)+_0x1b6c77+_0x3d6802(0x1a4));});}function unmuteUser(_0x182e8e){const _0x3c562d=_0x2a85ff,_0x43cea3={'AeUly':function(_0x2d3e77,_0x27b348){return _0x2d3e77(_0x27b348);}};if(!isRoomAdmin)return _0x43cea3['AeUly'](alert,'Admins\x20only.');db['ref'](_0x3c562d(0x2b3)+roomCode+'/'+sanitizeUsername(_0x182e8e))[_0x3c562d(0x146)]();}function updateOnlineIndicator(){const _0x2435c6=_0x2a85ff,_0x551508={'JxdYh':_0x2435c6(0x219),'lVzPi':_0x2435c6(0x2d3),'MNkMb':'#00ff88'},_0x323352=document[_0x2435c6(0x217)](_0x551508[_0x2435c6(0x301)]);_0x323352[_0x2435c6(0x213)]=_0x551508['lVzPi'],_0x323352['style'][_0x2435c6(0x205)]=_0x551508['MNkMb'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x44361c){const _0x10173d=_0x2a85ff,_0xb8f28b={'KptGs':function(_0x11978b,_0xc49301){return _0x11978b(_0xc49301);},'vdmnz':_0x10173d(0x29c),'wguyj':_0x10173d(0x17a),'gVmBK':_0x10173d(0xd0),'hhaPj':_0x10173d(0xf6)};db[_0x10173d(0xef)]('auth/'+_0x44361c)[_0x10173d(0x1c6)]()[_0x10173d(0x148)](_0x575177=>{const _0x50f9dd=_0x10173d;if(!_0x575177['exists']())return _0xb8f28b[_0x50f9dd(0xd5)](alert,_0xb8f28b[_0x50f9dd(0x292)]);const _0x2fb7ad=_0x575177[_0x50f9dd(0x1b5)](),_0x5dfb0c=('\x0aName:\x20'+_0x2fb7ad[_0x50f9dd(0x8d)]+_0x50f9dd(0xfb)+(_0x2fb7ad[_0x50f9dd(0x1dc)]||_0x50f9dd(0xc5))+_0x50f9dd(0x108)+((_0x2fb7ad[_0x50f9dd(0xf1)]||[])[_0x50f9dd(0x2ef)](',\x20')||'No\x20changes\x20yet')+_0x50f9dd(0x119)+(_0x2fb7ad[_0x50f9dd(0xa9)]?new Date(_0x2fb7ad[_0x50f9dd(0xa9)])['toLocaleString']():_0x50f9dd(0x84))+_0x50f9dd(0xec))[_0x50f9dd(0xab)]();document[_0x50f9dd(0x217)](_0xb8f28b[_0x50f9dd(0x2b2)])['innerText']=_0x5dfb0c,document[_0x50f9dd(0x217)](_0xb8f28b[_0x50f9dd(0x14a)])[_0x50f9dd(0x28f)][_0x50f9dd(0x202)]=_0xb8f28b['hhaPj'];});}function initUsernameFlow(){const _0x3e847a=_0x2a85ff,_0xe4da55={'bHdqE':'chat_username','ZlTaM':function(_0x210813,_0x3c8db1){return _0x210813(_0x3c8db1);},'SaFce':_0x3e847a(0x2b8),'lqFzT':'namePreview','mAbhn':_0x3e847a(0x25f)},_0x2fde30=localStorage[_0x3e847a(0x2f0)](_0xe4da55['bHdqE']);!_0x2fde30?_0xe4da55[_0x3e847a(0x1f3)](showScreen,_0xe4da55[_0x3e847a(0x99)]):(username=_0x2fde30,document[_0x3e847a(0x217)](_0xe4da55[_0x3e847a(0x23f)])[_0x3e847a(0x213)]=username,showScreen(_0xe4da55[_0x3e847a(0x2e5)]));}function closeProfile(){const _0x2de99d=_0x2a85ff,_0x456404={'wtHIv':_0x2de99d(0xd0),'bLmMf':_0x2de99d(0x127)};document[_0x2de99d(0x217)](_0x456404['wtHIv'])[_0x2de99d(0x28f)][_0x2de99d(0x202)]=_0x456404[_0x2de99d(0xd1)];}function resetWebsiteData(){const _0x532414=_0x2a85ff,_0x4602a9={'DdyvZ':_0x532414(0x10f),'paaTA':function(_0x59a2fb,_0x109399){return _0x59a2fb||_0x109399;},'QAcnt':_0x532414(0x30a),'FEIaM':function(_0xfd419f,_0x393ed2){return _0xfd419f+_0x393ed2;}};try{const _0x12b1b0=localStorage[_0x532414(0x2f0)](_0x4602a9[_0x532414(0x21b)]);localStorage[_0x532414(0x1ca)](),sessionStorage[_0x532414(0x1ca)](),_0x12b1b0&&localStorage['setItem'](_0x532414(0x10f),_0x12b1b0);}catch(_0x2ac74c){}if(_0x4602a9[_0x532414(0x18b)](!username,!roomCode)){const _0x310df3=_0x4602a9[_0x532414(0x188)][_0x532414(0xaa)]('|');let _0x4edfd5=0x0;while(!![]){switch(_0x310df3[_0x4edfd5++]){case'0':pendingMessages=[];continue;case'1':username=null;continue;case'2':clientId=_0x4602a9[_0x532414(0x11f)]('_',Math['random']()[_0x532414(0x233)](0x24)[_0x532414(0x138)](0x2,0x9));continue;case'3':roomCode=null;continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x470e82=_0x2a85ff,_0x5a8c9d={'GwJHJ':function(_0x592f6c,_0x4bb1bb){return _0x592f6c(_0x4bb1bb);}},_0x2db82a=_0x5a8c9d['GwJHJ'](prompt,_0x470e82(0x172));if(!_0x2db82a)return;db[_0x470e82(0xef)]('rooms/'+roomCode+'/announcement')['set']({'text':_0x2db82a,'by':username,'timestamp':Date[_0x470e82(0x24f)]()});}function listenForAnnouncement(){const _0xefe043=_0x2a85ff,_0x43090c={'vLNBx':_0xefe043(0xa0),'nYCyW':'value'},_0x33a883=db[_0xefe043(0xef)](_0xefe043(0xd7)+roomCode+'/announcement');_0x33a883['on'](_0x43090c[_0xefe043(0x244)],_0x103eca=>{const _0x3096a6=_0xefe043,_0x3d2af7=_0x103eca[_0x3096a6(0x1b5)]();if(!_0x3d2af7){document[_0x3096a6(0x217)](_0x43090c[_0x3096a6(0x25b)])[_0x3096a6(0x213)]='';return;}const _0x46d18a=document['getElementById'](_0x43090c[_0x3096a6(0x25b)]);_0x46d18a[_0x3096a6(0x213)]=''+_0x3d2af7[_0x3096a6(0x173)];});}document[_0x2a85ff(0x217)](_0x2a85ff(0xa0))[_0x2a85ff(0x2cb)]('click',_0x3b117c=>{const _0x5ea5e3=_0x2a85ff,_0x496de2={'kaViP':function(_0x4921c7,_0x527da4){return _0x4921c7===_0x527da4;},'QjbEd':function(_0x2a742a,_0x24d208){return _0x2a742a(_0x24d208);}};_0x496de2[_0x5ea5e3(0x7a)](_0x3b117c['detail'],0x3)&&isRoomAdmin&&(_0x496de2[_0x5ea5e3(0x1d1)](confirm,_0x5ea5e3(0x248))&&db[_0x5ea5e3(0xef)](_0x5ea5e3(0xd7)+roomCode+_0x5ea5e3(0x1d5))[_0x5ea5e3(0x146)]());}),document[_0x2a85ff(0x217)](_0x2a85ff(0x14d))[_0x2a85ff(0x2cb)](_0x2a85ff(0xc0),()=>{const _0x513cab=_0x2a85ff,_0x3758a2={'MnNGZ':_0x513cab(0x14d)},_0x571035=document[_0x513cab(0x217)](_0x3758a2[_0x513cab(0x2ea)]);_0xc367ca?_0x571035[_0x513cab(0x28f)][_0x513cab(0x1e9)]=_0x513cab(0x1ae):_0x571035[_0x513cab(0x28f)]['border']='';const _0xfa881a=_0x571035['value'][_0x513cab(0xb2)](),_0xc367ca=swearWords[_0x513cab(0x164)](_0x1f7916=>_0xfa881a[_0x513cab(0x1b8)](_0x1f7916));_0xc367ca?(_0x571035['style'][_0x513cab(0x1e9)]=_0x513cab(0x1ae),sendBtn[_0x513cab(0xff)]=!![]):(_0x571035[_0x513cab(0x28f)][_0x513cab(0x1e9)]='',_0xc367ca?_0x571035[_0x513cab(0x28f)][_0x513cab(0x1e9)]=_0x513cab(0x1ae):_0x571035[_0x513cab(0x28f)]['border']='');});function muteUser(_0x44cddd,_0x92a4ba){const _0x325c8d=_0x2a85ff,_0x562385={'bnoOP':function(_0x1e2910,_0x452a49){return _0x1e2910(_0x452a49);},'DgcGq':function(_0x19f038,_0x443a85){return _0x19f038+_0x443a85;},'yVdGr':function(_0x55bde4,_0x20630d){return _0x55bde4*_0x20630d;}},_0x313d41=_0x562385[_0x325c8d(0x1f1)](Date[_0x325c8d(0x24f)](),_0x562385[_0x325c8d(0x177)](_0x562385[_0x325c8d(0x177)](_0x92a4ba,0x3c),0x3e8));db[_0x325c8d(0xef)](_0x325c8d(0x2b3)+roomCode+'/'+_0x562385[_0x325c8d(0x1ac)](sanitizeUsername,_0x44cddd))[_0x325c8d(0x1db)]({'muteUntil':_0x313d41})[_0x325c8d(0x148)](()=>{const _0x3bb543=_0x325c8d;_0x562385[_0x3bb543(0x1ac)](alert,_0x44cddd+'\x20muted\x20for\x20'+_0x92a4ba+'\x20minutes.');});}function deleteUserMessages(_0x5e55b0){const _0x15f112=_0x2a85ff,_0x490045={'BUasE':_0x15f112(0x2a3)};db['ref'](_0x15f112(0xd7)+roomCode+'/messages')[_0x15f112(0x270)](_0x490045[_0x15f112(0xcd)])[_0x15f112(0x2bf)](_0x5e55b0)[_0x15f112(0x1c6)]()[_0x15f112(0x148)](_0x2c99b7=>{const _0x24e07c=_0x15f112;_0x2c99b7[_0x24e07c(0x1fd)](_0x11d579=>{const _0x49a736=_0x24e07c;db[_0x49a736(0xef)](_0x49a736(0xd7)+roomCode+_0x49a736(0x1f9)+_0x11d579[_0x49a736(0x2b1)])[_0x49a736(0x146)]();}),alert(_0x24e07c(0x307)+_0x5e55b0+'\x20deleted.');});}function pauseRoom(_0x3493a3){const _0xb91fb1=_0x2a85ff,_0x4b2a70={'QhjbF':_0xb91fb1(0x135),'VAUeB':_0xb91fb1(0xf6),'LfGHp':_0xb91fb1(0x127),'jZSco':_0xb91fb1(0x19b)};db[_0xb91fb1(0xef)](_0xb91fb1(0xd7)+roomCode+_0xb91fb1(0x13d))['on'](_0x4b2a70[_0xb91fb1(0x13c)],_0x16aa47=>{const _0x53d12d=_0xb91fb1,_0x4fa1dd=_0x16aa47[_0x53d12d(0x1b5)]();document[_0x53d12d(0x217)](_0x4b2a70['QhjbF'])[_0x53d12d(0x28f)][_0x53d12d(0x202)]=_0x4fa1dd?_0x4b2a70['VAUeB']:_0x4b2a70['LfGHp'];});}function canPerformAction(_0x445f6e){const _0xcfc3d4=_0x2a85ff,_0x16cb49={'eauuN':function(_0x2d088b,_0x484dab){return _0x2d088b===_0x484dab;},'qdFkm':_0xcfc3d4(0x1ba),'tsAzl':_0xcfc3d4(0x149),'VUKlb':_0xcfc3d4(0x214),'uqdWA':_0xcfc3d4(0x158),'keBfo':function(_0xbe9545,_0x1f964a){return _0xbe9545===_0x1f964a;},'ErtUO':_0xcfc3d4(0x156),'rNkBQ':_0xcfc3d4(0x2d2)};if(_0x16cb49[_0xcfc3d4(0x198)](role,_0x16cb49['qdFkm']))return!![];if(_0x445f6e===_0x16cb49[_0xcfc3d4(0x2c7)]||_0x16cb49[_0xcfc3d4(0x198)](_0x445f6e,_0x16cb49[_0xcfc3d4(0xe2)]))return _0x16cb49[_0xcfc3d4(0x198)](role,_0x16cb49[_0xcfc3d4(0x268)])||_0x16cb49[_0xcfc3d4(0x1e7)](role,_0x16cb49[_0xcfc3d4(0x2a9)]);if(_0x445f6e===_0x16cb49[_0xcfc3d4(0x105)])return _0x16cb49[_0xcfc3d4(0x198)](role,_0x16cb49['uqdWA']);return![];}const html=Object['values'](roomUsers)['map'](_0x559e22=>{const _0x53e5b6=_0x2a85ff,_0xee35e={'tTIxh':function(_0x11ffab,_0x11327a){return _0x11ffab(_0x11327a);},'HcViG':'mute','Kxuez':_0x53e5b6(0x214),'IfDzl':function(_0x47d433,_0x27360e){return _0x47d433===_0x27360e;},'zkCrW':_0x53e5b6(0x1ba),'PnjUl':function(_0x3b400f,_0x235dc5){return _0x3b400f===_0x235dc5;},'xWxbJ':function(_0x28d9ea,_0x22a4cc){return _0x28d9ea(_0x22a4cc);},'WaIRq':function(_0x32b58b,_0x2457da){return _0x32b58b(_0x2457da);}},_0x569cf7=sanitizeUsername(_0x559e22[_0x53e5b6(0x8d)]),_0x2b6ba9=[];if(_0x569cf7!==_0xee35e[_0x53e5b6(0x297)](sanitizeUsername,username)){canPerformAction(_0xee35e[_0x53e5b6(0x2db)])&&(_0x2b6ba9['push']('<button\x20onclick=\x22muteUser(\x27'+_0x569cf7+'\x27,\x205)\x22>Mute\x205m</button>'),_0x2b6ba9[_0x53e5b6(0x229)](_0x53e5b6(0x236)+_0x569cf7+_0x53e5b6(0x1e0)));canPerformAction(_0xee35e[_0x53e5b6(0x187)])&&_0x2b6ba9['push'](_0x53e5b6(0x2f6)+_0x569cf7+_0x53e5b6(0x1d6));if(_0xee35e[_0x53e5b6(0x15b)](role,_0xee35e[_0x53e5b6(0xcf)]))_0x2b6ba9['push'](_0x53e5b6(0x281)+_0x569cf7+_0x53e5b6(0x272)),_0x2b6ba9[_0x53e5b6(0x229)](_0x53e5b6(0x7c)+_0x569cf7+_0x53e5b6(0x124));else _0xee35e[_0x53e5b6(0x235)](role,'admin')&&_0x2b6ba9[_0x53e5b6(0x229)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x569cf7+_0x53e5b6(0x272));}return _0x53e5b6(0x1ef)+_0x559e22[_0x53e5b6(0x8d)]+'\x20'+_0xee35e['xWxbJ'](getRoleTag,_0xee35e[_0x53e5b6(0x290)](sanitizeUsername,_0x559e22[_0x53e5b6(0x8d)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x569cf7+_0x53e5b6(0x224)+_0x2b6ba9['join']('')+_0x53e5b6(0x1d3)+_0x569cf7+_0x53e5b6(0x2e1);})[_0x2a85ff(0x2ef)]('');function promoteToModerator(_0x510617){const _0x3566df=_0x2a85ff,_0x36b611={'iFBfb':function(_0x54c1d6,_0x5bcd7d){return _0x54c1d6(_0x5bcd7d);},'ReeVT':function(_0x68f5e1,_0x2e81a2){return _0x68f5e1(_0x2e81a2);},'qRbAX':function(_0x52dbeb,_0x18a804){return _0x52dbeb(_0x18a804);},'FRXQq':function(_0x3e0eb0,_0x29ceb2){return _0x3e0eb0!==_0x29ceb2;},'XnATu':'dev','eHnyr':_0x3566df(0x158),'YCqOg':function(_0x2cb170,_0x56db35){return _0x2cb170(_0x56db35);},'WsePh':_0x3566df(0x21e)},_0x4efa6c=_0x36b611[_0x3566df(0x178)](sanitizeUsername,_0x510617);if(isProtected(_0x4efa6c))return _0x36b611[_0x3566df(0x1c1)](alert,_0x3566df(0x1fe));if(_0x36b611[_0x3566df(0x98)](role,_0x36b611[_0x3566df(0xc8)])&&_0x36b611['FRXQq'](role,_0x36b611[_0x3566df(0x243)])){_0x36b611['YCqOg'](alert,_0x36b611['WsePh']);return;}db['ref'](_0x3566df(0x207)+roomCode+'/'+_0x4efa6c)[_0x3566df(0x1db)](!![])[_0x3566df(0x148)](()=>{const _0xedbd4e=_0x3566df;_0x36b611[_0xedbd4e(0x20e)](alert,_0x510617+_0xedbd4e(0x1c2)),_0x36b611[_0xedbd4e(0x20e)](addSystemMessage,_0x510617+_0xedbd4e(0x192));});}function promoteToAdmin(_0x2c1e7d){const _0x3e8150=_0x2a85ff,_0x6709b5={'SNtFK':function(_0xbd397d,_0x2c07e2){return _0xbd397d(_0x2c07e2);},'myyYx':_0x3e8150(0x1fe),'oqpaG':function(_0x203aac,_0x225e58){return _0x203aac!==_0x225e58;},'SSFSa':_0x3e8150(0x1ba),'UweOo':function(_0x2e08e9,_0x48d3d2){return _0x2e08e9(_0x48d3d2);},'YLYoJ':_0x3e8150(0x2de)},_0x1c47ec=_0x6709b5[_0x3e8150(0x293)](sanitizeUsername,_0x2c1e7d);if(_0x6709b5[_0x3e8150(0x293)](isProtected,_0x1c47ec))return alert(_0x6709b5[_0x3e8150(0x162)]);if(_0x6709b5[_0x3e8150(0x1c8)](role,_0x6709b5['SSFSa'])){_0x6709b5[_0x3e8150(0x2c4)](alert,_0x6709b5[_0x3e8150(0x2ac)]);return;}db[_0x3e8150(0xef)](_0x3e8150(0x9d)+roomCode+'/'+_0x1c47ec)[_0x3e8150(0x1db)](!![])['then'](()=>{const _0x325261=_0x3e8150;_0x6709b5[_0x325261(0x293)](alert,_0x2c1e7d+'\x20promoted\x20to\x20Admin!'),_0x6709b5['SNtFK'](addSystemMessage,_0x2c1e7d+_0x325261(0x29a));});}function toggleUserOptions(_0x25cef3){const _0x3aadc0=_0x2a85ff,_0x49e9f6={'vFKwk':function(_0x13a231,_0x25c1bb){return _0x13a231===_0x25c1bb;},'cPJkl':_0x3aadc0(0x127),'FNYZO':_0x3aadc0(0xf6)};(role==='dev'||_0x49e9f6[_0x3aadc0(0x255)](role,_0x3aadc0(0x158)))&&controls[_0x3aadc0(0x229)]('<button\x20onclick=\x22demoteUser(\x27'+safeName+_0x3aadc0(0x2a2));const _0x352b6a=document['getElementById'](_0x3aadc0(0x246)+_0x25cef3);_0x49e9f6[_0x3aadc0(0x255)](_0x352b6a[_0x3aadc0(0x28f)][_0x3aadc0(0x202)],_0x49e9f6[_0x3aadc0(0x2e9)])?_0x352b6a[_0x3aadc0(0x28f)][_0x3aadc0(0x202)]=_0x49e9f6[_0x3aadc0(0xf9)]:_0x352b6a[_0x3aadc0(0x28f)][_0x3aadc0(0x202)]=_0x49e9f6[_0x3aadc0(0x2e9)];}function demoteUser(_0x54c395){const _0x476236=_0x2a85ff,_0x4287e3={'XMyzg':function(_0x3369de,_0x43845e){return _0x3369de(_0x43845e);},'zjmTa':function(_0x55e71f,_0x17b001){return _0x55e71f(_0x17b001);},'XzZpx':_0x476236(0x2ab),'Hwwun':_0x476236(0x1ba),'Surbv':function(_0xd9ddd5,_0x9fba57){return _0xd9ddd5===_0x9fba57;},'PRnUu':'admin','zydIq':_0x476236(0x2d1)};if(_0x4287e3['XMyzg'](isProtected,_0x54c395))return _0x4287e3['zjmTa'](alert,_0x4287e3['XzZpx']);if(role===_0x4287e3['Hwwun'])db[_0x476236(0xef)](_0x476236(0x9d)+roomCode+'/'+_0x54c395)['remove'](),db[_0x476236(0xef)]('moderators/'+roomCode+'/'+_0x54c395)[_0x476236(0x146)](),_0x4287e3['zjmTa'](alert,_0x54c395+_0x476236(0x147));else _0x4287e3[_0x476236(0x1f5)](role,_0x4287e3[_0x476236(0x287)])?(db[_0x476236(0xef)](_0x476236(0x207)+roomCode+'/'+_0x54c395)[_0x476236(0x146)](),alert(_0x54c395+_0x476236(0x147))):_0x4287e3[_0x476236(0x8e)](alert,_0x4287e3['zydIq']);}function getRoleTag(_0x46f6ea){const _0x4a8af6=_0x2a85ff,_0xb6b329={'afxWx':function(_0xd38f38,_0x5f3c7d){return _0xd38f38(_0x5f3c7d);}},_0x11cf50=_0xb6b329[_0x4a8af6(0x140)](sanitizeUsername,_0x46f6ea);if(globalDevs[_0x4a8af6(0x1b8)](_0x11cf50))return _0x4a8af6(0x117);if(roomAdmins['includes'](_0x11cf50))return'<span\x20style=\x22color:darkred;\x22>[Admin]</span>';if(roomModerators[_0x4a8af6(0x1b8)](_0x11cf50))return'<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>';return'';}async function loadRoomRoles(){const _0x1dd184=_0x2a85ff,_0x5d1d32={'TYOvH':function(_0x8a55a8,_0x30af34){return _0x8a55a8(_0x30af34);},'OmMyw':_0x1dd184(0x18e),'qqmBt':'dev','pGbBZ':_0x1dd184(0x158),'hglWj':_0x1dd184(0x156),'lIATV':_0x1dd184(0x93)},_0x50c4d9=_0x5d1d32[_0x1dd184(0xe3)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x2c0d38=await db[_0x1dd184(0xef)](_0x5d1d32[_0x1dd184(0x2b9)])[_0x1dd184(0x1c6)]();_0x2c0d38[_0x1dd184(0x1fd)](_0x3aaba6=>{const _0x3ddc1e=_0x1dd184;if(_0x3aaba6[_0x3ddc1e(0x1b5)]()['role']==='dev')globalDevs['push'](_0x3aaba6['key']);});const _0x2dd620=await db[_0x1dd184(0xef)](_0x1dd184(0x9d)+roomCode)[_0x1dd184(0x1c6)]();_0x2dd620[_0x1dd184(0xc3)]()&&_0x2dd620[_0x1dd184(0x1fd)](_0x135761=>roomAdmins[_0x1dd184(0x229)](_0x135761['key']));const _0x3fe99e=await db[_0x1dd184(0xef)](_0x1dd184(0x207)+roomCode)[_0x1dd184(0x1c6)]();_0x3fe99e[_0x1dd184(0xc3)]()&&_0x3fe99e[_0x1dd184(0x1fd)](_0x20d605=>roomModerators[_0x1dd184(0x229)](_0x20d605[_0x1dd184(0x2b1)]));if(globalDevs[_0x1dd184(0x1b8)](_0x50c4d9))role=_0x5d1d32['qqmBt'];else{if(roomAdmins[_0x1dd184(0x1b8)](_0x50c4d9))role=_0x5d1d32[_0x1dd184(0x226)];else roomModerators[_0x1dd184(0x1b8)](_0x50c4d9)?role=_0x5d1d32['hglWj']:role=_0x5d1d32[_0x1dd184(0x27d)];}}async function renderUserLists(_0x2ab019){const _0x574ad9=_0x2a85ff,_0x49d52c={'jgefs':function(_0x5a3e20,_0x37e416){return _0x5a3e20(_0x37e416);},'CpKFz':function(_0x5a7c40,_0x1a61a6){return _0x5a7c40(_0x1a61a6);},'LnlfX':'dev','wufPi':function(_0x5a8c86,_0x322496){return _0x5a8c86===_0x322496;},'JvhHc':'admin','iMyzJ':function(_0x1383dc,_0x41f1b9){return _0x1383dc===_0x41f1b9;},'UKdVl':_0x574ad9(0x156),'zSRgB':function(_0x82ebe1,_0x4c2a8d){return _0x82ebe1===_0x4c2a8d;},'UYOyS':_0x574ad9(0x1c0),'VqXYE':_0x574ad9(0x127),'rcTZa':'adminUserList'};roomUsers=_0x2ab019;const _0x49dc38=sanitizeUsername(username),_0x541e7f=_0x49d52c[_0x574ad9(0x120)](role,_0x574ad9(0x1ba))||role===_0x574ad9(0x158)||_0x49d52c[_0x574ad9(0x218)](role,_0x49d52c[_0x574ad9(0x1d8)]);document[_0x574ad9(0x217)](_0x49d52c[_0x574ad9(0x2bd)])['style'][_0x574ad9(0x202)]=_0x541e7f?_0x574ad9(0xf6):_0x49d52c[_0x574ad9(0x2c2)];const _0x43b2d2=Object[_0x574ad9(0x30c)](_0x2ab019)[_0x574ad9(0x203)](async([_0x48dff5,_0x41f1e6])=>{const _0xa7cd8c=_0x574ad9,_0x4415d1=_0x49d52c[_0xa7cd8c(0x21f)](sanitizeUsername,_0x41f1e6[_0xa7cd8c(0x8d)]||_0x48dff5),_0x4cd85d=await fetchAvatar(_0x4415d1),_0x2c2700=_0x4cd85d?_0xa7cd8c(0xdb)+_0x4cd85d+_0xa7cd8c(0xa3):'',_0x18a9d8=_0x41f1e6[_0xa7cd8c(0x27b)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0xa7cd8c(0x2d5);return _0xa7cd8c(0x1dd)+_0x2c2700+'\x20'+_0x18a9d8+_0xa7cd8c(0x16b)+_0x4415d1+'\x27)\x22>'+(_0x41f1e6[_0xa7cd8c(0x8d)]||_0x48dff5)+'</span>\x20'+_0x49d52c[_0xa7cd8c(0xf2)](getRoleTag,_0x4415d1)+'</li>';}),_0x5d4b97=await Promise[_0x574ad9(0x1aa)](_0x43b2d2);document[_0x574ad9(0x217)](_0x574ad9(0x1e1))[_0x574ad9(0x2ad)]=_0x5d4b97[_0x574ad9(0x2ef)]('');if(!_0x541e7f)return;const _0xce5bf2=Object['entries'](_0x2ab019)['map'](async([_0x17df17,_0x28b256])=>{const _0x54df33=_0x574ad9,_0x32e745=_0x49d52c[_0x54df33(0x21f)](sanitizeUsername,_0x28b256['username']||_0x17df17);if(_0x32e745===_0x49dc38)return'';const _0xb88a9f=globalDevs[_0x54df33(0x1b8)](_0x32e745),_0x11b7d0=await fetchAvatar(_0x32e745),_0x5c9322=_0x11b7d0?_0x54df33(0xdb)+_0x11b7d0+_0x54df33(0xa3):'',_0x5c0db9=_0x28b256[_0x54df33(0x27b)]?'<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>':_0x54df33(0x2d5),_0x1bc45f=[];if(!_0xb88a9f){(role===_0x49d52c[_0x54df33(0x2ae)]||_0x49d52c[_0x54df33(0x218)](role,_0x49d52c[_0x54df33(0x137)])||_0x49d52c[_0x54df33(0x193)](role,_0x49d52c[_0x54df33(0x1d8)]))&&(_0x1bc45f['push'](_0x54df33(0x236)+_0x32e745+_0x54df33(0xa8)),_0x1bc45f[_0x54df33(0x229)](_0x54df33(0x236)+_0x32e745+'\x27,\x205)\x22>Mute\x205m</button>'),_0x1bc45f['push'](_0x54df33(0x236)+_0x32e745+'\x27,\x2010)\x22>Mute\x2010m</button>'));if(_0x49d52c['iMyzJ'](role,_0x49d52c[_0x54df33(0x2ae)]))_0x1bc45f[_0x54df33(0x229)](_0x54df33(0x281)+_0x32e745+_0x54df33(0x7d)),_0x1bc45f[_0x54df33(0x229)]('<button\x20onclick=\x22promoteToAdmin(\x27'+_0x32e745+_0x54df33(0x1cc)),_0x1bc45f[_0x54df33(0x229)](_0x54df33(0x24d)+_0x32e745+'\x27)\x22>Demote</button>');else role===_0x49d52c[_0x54df33(0x137)]&&(_0x1bc45f['push'](_0x54df33(0x281)+_0x32e745+_0x54df33(0x7d)),_0x1bc45f[_0x54df33(0x229)](_0x54df33(0x24d)+_0x32e745+_0x54df33(0x2a2)));}return _0x54df33(0x2c6)+_0x5c9322+'\x20'+_0x5c0db9+_0x54df33(0x10d)+(_0x28b256[_0x54df33(0x8d)]||_0x17df17)+'\x20'+_0x49d52c[_0x54df33(0x21f)](getRoleTag,_0x32e745)+_0x54df33(0x13e)+_0x1bc45f[_0x54df33(0x2ef)]('\x20')+_0x54df33(0xe5);}),_0x1ad549=await Promise[_0x574ad9(0x1aa)](_0xce5bf2);document[_0x574ad9(0x217)](_0x49d52c[_0x574ad9(0x232)])[_0x574ad9(0x2ad)]=_0x1ad549[_0x574ad9(0x2ef)]('');}async function fetchAvatar(_0xd0d475){const _0x465894=_0x2a85ff;if(userAvatars[_0xd0d475])return userAvatars[_0xd0d475];const _0x5d0d1a=await db[_0x465894(0xef)](_0x465894(0x1d7)+_0xd0d475)['get']();if(_0x5d0d1a[_0x465894(0xc3)]()&&_0x5d0d1a[_0x465894(0x1b5)]()[_0x465894(0xee)])return userAvatars[_0xd0d475]=_0x5d0d1a[_0x465894(0x1b5)]()[_0x465894(0xee)],userAvatars[_0xd0d475];return null;}function sendTyping(){const _0x164280=_0x2a85ff,_0x5adb23={'OUHHj':function(_0x2e0800,_0x402ed3){return _0x2e0800(_0x402ed3);},'eFzSe':function(_0x290808,_0x1bda1d){return _0x290808(_0x1bda1d);},'fSEzb':function(_0xa78bc1,_0x63c42d,_0x5a0ffa){return _0xa78bc1(_0x63c42d,_0x5a0ffa);}},_0x2a3ef6=_0x5adb23[_0x164280(0x266)](sanitizeUsername,username),_0x2cf07c=Date[_0x164280(0x24f)]();db[_0x164280(0xef)]('typing/'+roomCode+'/'+_0x2a3ef6)[_0x164280(0x1db)](_0x2cf07c);if(typingTimeout)_0x5adb23[_0x164280(0x1c3)](clearTimeout,typingTimeout);typingTimeout=_0x5adb23[_0x164280(0x2d8)](setTimeout,()=>{const _0x93d210=_0x164280;db[_0x93d210(0xef)](_0x93d210(0x181)+roomCode+'/'+_0x2a3ef6)[_0x93d210(0x146)]();},0xbb8);}function listenForTyping(){const _0x1d3525=_0x2a85ff,_0x44895f={'djxRV':_0x1d3525(0x19b)};db[_0x1d3525(0xef)]('typing/'+roomCode)['on'](_0x44895f['djxRV'],_0x3f8658=>{const _0x1695fb=_0x1d3525,_0x142bd3=document['getElementById'](_0x1695fb(0xa4));if(!_0x3f8658[_0x1695fb(0xc3)]())return _0x142bd3['innerText']='';const _0x75e88d=Date['now'](),_0x573dea=Object[_0x1695fb(0x30c)](_0x3f8658[_0x1695fb(0x1b5)]())[_0x1695fb(0x103)](([_0x414c4d,_0x38ef21])=>_0x414c4d!==sanitizeUsername(username)&&_0x75e88d-_0x38ef21<0x1388)[_0x1695fb(0x203)](([_0x4efcd4])=>_0x4efcd4);_0x142bd3[_0x1695fb(0x213)]=_0x573dea[_0x1695fb(0x16e)]?_0x573dea['join'](',\x20')+'\x20is\x20typing...':'';});}function watchMuteStatus(){const _0x21a74a=_0x2a85ff,_0x2f6c0a={'Lmixl':_0x21a74a(0x14d),'qQPea':function(_0x470a0c,_0x59d04f){return _0x470a0c===_0x59d04f;},'yZgIA':function(_0x2a96c0,_0xb15472){return _0x2a96c0>_0xb15472;},'JbPWr':_0x21a74a(0x228),'vZkgI':_0x21a74a(0x2be),'IFGaO':'value'},_0x1405ee=db[_0x21a74a(0xef)](_0x21a74a(0x2b3)+roomCode+'/'+sanitizeUsername(username));_0x1405ee['on'](_0x2f6c0a[_0x21a74a(0x196)],_0x1c242b=>{const _0xb71bbe=_0x21a74a,_0x4551c0=document[_0xb71bbe(0x217)](_0x2f6c0a['Lmixl']);if(_0x1c242b['exists']()){const _0x4541ff=_0x1c242b[_0xb71bbe(0x1b5)](),_0xec0d7e=_0x2f6c0a[_0xb71bbe(0xa1)](typeof _0x4541ff,_0xb71bbe(0x18a))&&_0x4541ff[_0xb71bbe(0x225)]?_0x4541ff[_0xb71bbe(0x225)]:_0x4541ff;_0x4551c0[_0xb71bbe(0xff)]=_0x2f6c0a[_0xb71bbe(0x1c5)](_0xec0d7e,Date[_0xb71bbe(0x24f)]()),_0x4551c0['placeholder']=_0x2f6c0a[_0xb71bbe(0x1c5)](_0xec0d7e,Date[_0xb71bbe(0x24f)]())?_0x2f6c0a[_0xb71bbe(0x298)]:_0x2f6c0a[_0xb71bbe(0x221)];}else _0x4551c0[_0xb71bbe(0xff)]=![],_0x4551c0['placeholder']=_0x2f6c0a[_0xb71bbe(0x221)];});}function isProtected(_0x5935e1){return globalDevs['includes'](_0x5935e1);}function addSystemMessage(_0x590f99){const _0x2896e7=_0x2a85ff,_0x259488={'zGIDd':'div','DPMjv':_0x2896e7(0xc7),'URnoB':_0x2896e7(0x2aa),'mYVBY':_0x2896e7(0xb9),'vtSam':'messages'},_0x474370=document[_0x2896e7(0x1e3)](_0x259488[_0x2896e7(0x1d9)]);_0x474370[_0x2896e7(0x28f)][_0x2896e7(0x1b3)]=_0x259488[_0x2896e7(0x1e4)],_0x474370['style'][_0x2896e7(0x2ba)]=_0x259488[_0x2896e7(0x194)],_0x474370['style'][_0x2896e7(0x205)]=_0x259488[_0x2896e7(0x2b6)],_0x474370['style']['margin']=_0x2896e7(0x234),_0x474370[_0x2896e7(0x213)]=_0x590f99,document[_0x2896e7(0x217)](_0x259488[_0x2896e7(0x134)])[_0x2896e7(0x26d)](_0x474370),document[_0x2896e7(0x217)](_0x259488[_0x2896e7(0x134)])[_0x2896e7(0x261)]=document[_0x2896e7(0x217)](_0x2896e7(0x210))[_0x2896e7(0x7e)];}