const _0x339b03=_0xf6af;(function(_0x1d5ce5,_0x2ee9e8){const _0x33bb28=_0xf6af,_0x15d224=_0x1d5ce5();while(!![]){try{const _0x2720ba=-parseInt(_0x33bb28(0x258))/0x1+-parseInt(_0x33bb28(0x285))/0x2+-parseInt(_0x33bb28(0x118))/0x3+parseInt(_0x33bb28(0x1f4))/0x4+-parseInt(_0x33bb28(0x11f))/0x5+parseInt(_0x33bb28(0x22f))/0x6+parseInt(_0x33bb28(0x212))/0x7;if(_0x2720ba===_0x2ee9e8)break;else _0x15d224['push'](_0x15d224['shift']());}catch(_0x8bce8e){_0x15d224['push'](_0x15d224['shift']());}}}(_0x1aed,0xebd03));const firebaseConfig={'apiKey':_0x339b03(0x72),'authDomain':_0x339b03(0x23e),'databaseURL':_0x339b03(0x98),'projectId':_0x339b03(0x254),'storageBucket':_0x339b03(0x76),'messagingSenderId':_0x339b03(0x242),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':'G-QDESJ2WR42'};firebase['initializeApp'](firebaseConfig);const db=firebase[_0x339b03(0x14a)]();let deviceId=null;((async()=>{const _0x2bfd19=_0x339b03,_0x388135={'Iskbr':function(_0x355a67){return _0x355a67();}};deviceId=await _0x388135[_0x2bfd19(0x85)](generateDeviceId);})());const swearWords=['fuck',_0x339b03(0xf6),_0x339b03(0x16c),'asshole',_0x339b03(0xfb),_0x339b03(0x1be),'cunt',_0x339b03(0x183),'mierda',_0x339b03(0x1b9),_0x339b03(0x122),'cabron',_0x339b03(0x134),'porra',_0x339b03(0x195),'merda',_0x339b03(0x183),_0x339b03(0xc1),'otario',_0x339b03(0x25b),_0x339b03(0xef),_0x339b03(0x26d),_0x339b03(0xa1),_0x339b03(0x287),_0x339b03(0xa6),_0x339b03(0x12d)];let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math['random']()[_0x339b03(0x20b)](0x24)[_0x339b03(0x158)](0x2,0x9),lastActivity=Date[_0x339b03(0x14f)](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x339b03(0x87),MAX_MESSAGES=0xfa,sound=new Audio(_0x339b03(0x21c));sound[_0x339b03(0x201)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x5eb8e4=_0x339b03,_0x3cba06={'pTURk':function(_0x4ea8cc,_0x33efff){return _0x4ea8cc+_0x33efff;},'uBRxK':function(_0x3c9d36,_0x2aaf7a){return _0x3c9d36(_0x2aaf7a);},'EHhoO':function(_0x24c066,_0x45ea92){return _0x24c066+_0x45ea92;}},_0x44f60c=_0x3cba06['pTURk'](navigator['userAgent'],screen[_0x5eb8e4(0x14e)])+screen[_0x5eb8e4(0x150)],_0x9657e1=await _0x3cba06[_0x5eb8e4(0x167)](sha256,_0x44f60c);return _0x3cba06['EHhoO']('_',_0x9657e1[_0x5eb8e4(0x158)](0x0,0x14));}function sha256(_0x2167de){const _0x2b8de7=_0x339b03,_0x547c7f={'inSFR':_0x2b8de7(0x1a1)},_0x428741=new TextEncoder()[_0x2b8de7(0xd8)](_0x2167de);return crypto[_0x2b8de7(0xfd)][_0x2b8de7(0x237)](_0x547c7f['inSFR'],_0x428741)[_0x2b8de7(0x8a)](_0x360c13=>{const _0x36c562=_0x2b8de7;return Array['from'](new Uint8Array(_0x360c13))['map'](_0x1b1f82=>_0x1b1f82[_0x36c562(0x20b)](0x10)['padStart'](0x2,'0'))[_0x36c562(0x198)]('');});}function toggleNotifications(){const _0xf461bf=_0x339b03,_0x401982={'dXBcU':function(_0x404df2,_0x424699){return _0x404df2===_0x424699;},'doHYf':'granted','VSBek':_0xf461bf(0x121),'PWmkQ':function(_0x38edd5,_0x1c1d5d){return _0x38edd5!==_0x1c1d5d;},'KvwnZ':'🔔\x20Enable\x20Notifications'};_0x401982[_0xf461bf(0x1ce)](Notification[_0xf461bf(0x283)],_0x401982[_0xf461bf(0xb2)])?Notification[_0xf461bf(0x202)]()[_0xf461bf(0x8a)](_0xc76675=>{const _0x4bf8d7=_0xf461bf;_0x401982['dXBcU'](_0xc76675,_0x401982[_0x4bf8d7(0xb2)])&&(notificationsEnabled=!![],document[_0x4bf8d7(0x12a)](_0x401982[_0x4bf8d7(0x15b)])[_0x4bf8d7(0x92)]=_0x4bf8d7(0xf4));}):(notificationsEnabled=!notificationsEnabled,document[_0xf461bf(0x12a)](_0x401982[_0xf461bf(0x15b)])[_0xf461bf(0x92)]=notificationsEnabled?_0xf461bf(0xf4):_0x401982[_0xf461bf(0x26b)]);}function toggleAuthMode(){const _0xc25283=_0x339b03,_0x2798fc={'XfOZM':_0xc25283(0x15e),'aYFix':_0xc25283(0x1fd),'DEqOv':'none','vyVlc':'authDescription','mOVAn':_0xc25283(0x24f),'XqaUy':'authAvatarPreview','btCjm':_0xc25283(0x1f0)};isRegisterMode=!isRegisterMode,document[_0xc25283(0x12a)](_0xc25283(0x25a))[_0xc25283(0x92)]=isRegisterMode?_0x2798fc[_0xc25283(0x230)]:_0xc25283(0xcb),document['getElementById'](_0xc25283(0x26c))[_0xc25283(0x282)][_0xc25283(0xb5)]=isRegisterMode?_0x2798fc['aYFix']:_0x2798fc[_0xc25283(0x10a)],document[_0xc25283(0x12a)](_0x2798fc[_0xc25283(0x171)])[_0xc25283(0x282)][_0xc25283(0xb5)]=isRegisterMode?_0xc25283(0x1fd):_0x2798fc['DEqOv'],document[_0xc25283(0x12a)](_0x2798fc[_0xc25283(0x65)])[_0xc25283(0x282)][_0xc25283(0xb5)]=isRegisterMode?_0x2798fc[_0xc25283(0x8b)]:_0x2798fc[_0xc25283(0x10a)],document['getElementById'](_0x2798fc[_0xc25283(0x91)])['style']['display']=_0xc25283(0x214),document[_0xc25283(0x12a)](_0x2798fc[_0xc25283(0xd1)])[_0xc25283(0x92)]=isRegisterMode?_0xc25283(0x15e):_0xc25283(0xcb),document[_0xc25283(0x12a)](_0xc25283(0x1e6))[_0xc25283(0x282)]['display']=_0xc25283(0x214);}function previewAvatar(){const _0x22fbef=_0x339b03,_0x30e5fe={'LyyRC':_0x22fbef(0x145),'HdbyL':_0x22fbef(0x24f)},_0x12b28d=document[_0x22fbef(0x12a)](_0x30e5fe['HdbyL']);if(!_0x12b28d['files'][_0x22fbef(0x19c)])return;const _0x61ea27=new FileReader();_0x61ea27[_0x22fbef(0x79)]=()=>{const _0x283859=_0x22fbef;document['getElementById']('authAvatarPreview')[_0x283859(0xad)]=_0x61ea27[_0x283859(0xa0)],document[_0x283859(0x12a)](_0x30e5fe[_0x283859(0x88)])[_0x283859(0x282)][_0x283859(0xb5)]=_0x283859(0x1fd);},_0x61ea27[_0x22fbef(0x103)](_0x12b28d['files'][0x0]);}async function submitAuth(){const _0x5890d2=_0x339b03,_0x5f27c9={'QiekX':function(_0x169f63,_0x20980b,_0x22c5a1,_0x140ef5,_0xb9d524,_0x28f15a){return _0x169f63(_0x20980b,_0x22c5a1,_0x140ef5,_0xb9d524,_0x28f15a);},'QevLt':'block','DIIkj':_0x5890d2(0x24f),'gXjYk':_0x5890d2(0xe6),'SlJWK':function(_0x277f20,_0x236da2){return _0x277f20!==_0x236da2;},'JirCW':'Passwords\x20do\x20not\x20match.','QmLAl':_0x5890d2(0x19b),'qKlAQ':_0x5890d2(0x10f),'hTGJe':_0x5890d2(0x1ed),'fwHHX':function(_0x556845,_0x2a4e2a){return _0x556845!==_0x2a4e2a;},'wWVMy':_0x5890d2(0x13f),'xAcZz':function(_0x331f07,_0x11b1d1,_0x34794b,_0xb19bf7,_0x4ae8f4,_0xa50aaf){return _0x331f07(_0x11b1d1,_0x34794b,_0xb19bf7,_0x4ae8f4,_0xa50aaf);},'imLIY':function(_0x15d765){return _0x15d765();},'sNtmQ':function(_0x5a59e8){return _0x5a59e8();},'vgXfx':_0x5890d2(0x136),'RBFHR':'authPasswordConfirm','pxLcd':'authDescription','fDjUX':function(_0x215aa1,_0x14c054){return _0x215aa1&&_0x14c054;},'wklIA':_0x5890d2(0xca),'aJdAU':function(_0x202dc5,_0x465d77){return _0x202dc5(_0x465d77);}};!deviceId&&(deviceId=await _0x5f27c9[_0x5890d2(0x23d)](generateDeviceId));const _0x26feae=document['getElementById'](_0x5f27c9['vgXfx'])['value'][_0x5890d2(0xd5)](),_0x3ea165=document[_0x5890d2(0x12a)](_0x5890d2(0x10d))[_0x5890d2(0x1a8)],_0x1bdbbe=document['getElementById'](_0x5f27c9[_0x5890d2(0x143)])[_0x5890d2(0x1a8)],_0x11f6ee=document[_0x5890d2(0x12a)](_0x5890d2(0x1e6)),_0x505647=document[_0x5890d2(0x12a)](_0x5f27c9[_0x5890d2(0x253)])[_0x5890d2(0x1a8)][_0x5890d2(0xd5)](),_0x55a627=document[_0x5890d2(0x12a)](_0x5f27c9[_0x5890d2(0xb1)]);if(!_0x26feae||!_0x3ea165||_0x5f27c9[_0x5890d2(0x251)](isRegisterMode,!_0x1bdbbe)){_0x11f6ee['innerText']=_0x5f27c9[_0x5890d2(0x194)],_0x11f6ee['style'][_0x5890d2(0xb5)]=_0x5f27c9['QevLt'];return;}const _0x5c1779=await sha256(_0x3ea165),_0x351dde=db[_0x5890d2(0x1d9)]('auth/'+_0x5f27c9['aJdAU'](sanitizeUsername,_0x26feae));_0x351dde['get']()[_0x5890d2(0x8a)](_0x3f6b70=>{const _0x3aa9ec=_0x5890d2,_0x1e966d={'SISJv':function(_0xdd2107,_0x3f666f,_0x463d8f,_0x2d6af8,_0x2c5ea3,_0x552fd9){const _0x4ba619=_0xf6af;return _0x5f27c9[_0x4ba619(0x21b)](_0xdd2107,_0x3f666f,_0x463d8f,_0x2d6af8,_0x2c5ea3,_0x552fd9);},'pnWCh':_0x3aa9ec(0x169),'QDLQS':_0x5f27c9[_0x3aa9ec(0x27f)],'okIyF':_0x3aa9ec(0x1c6),'yRFZx':_0x5f27c9[_0x3aa9ec(0xb1)]};if(isRegisterMode){if(_0x3f6b70[_0x3aa9ec(0x152)]()){_0x11f6ee[_0x3aa9ec(0x92)]=_0x5f27c9[_0x3aa9ec(0xc9)],_0x11f6ee['style'][_0x3aa9ec(0xb5)]='block';return;}if(_0x5f27c9[_0x3aa9ec(0x102)](_0x3ea165,_0x1bdbbe)){_0x11f6ee[_0x3aa9ec(0x92)]=_0x5f27c9[_0x3aa9ec(0x6a)],_0x11f6ee[_0x3aa9ec(0x282)][_0x3aa9ec(0xb5)]=_0x5f27c9[_0x3aa9ec(0x27f)];return;}db[_0x3aa9ec(0x1d9)](_0x5f27c9[_0x3aa9ec(0x23c)])['orderByChild'](_0x5f27c9[_0x3aa9ec(0x221)])['equalTo'](deviceId)[_0x3aa9ec(0x1da)]()[_0x3aa9ec(0x8a)](_0x1e4851=>{const _0x369d36=_0x3aa9ec;if(_0x1e4851[_0x369d36(0x152)]())_0x11f6ee[_0x369d36(0x92)]=_0x1e966d['pnWCh'],_0x11f6ee[_0x369d36(0x282)][_0x369d36(0xb5)]=_0x1e966d[_0x369d36(0x1cd)];else{const _0x722429=document[_0x369d36(0x12a)](_0x1e966d[_0x369d36(0xec)])[_0x369d36(0x1a8)]['trim'](),_0x4ecec1=document['getElementById'](_0x1e966d[_0x369d36(0xdf)]);let _0x2f7346='';if(_0x4ecec1['files']['length']){const _0x20cbef=new FileReader();_0x20cbef[_0x369d36(0x79)]=async()=>{const _0x1c54f3=_0x369d36;_0x2f7346=_0x20cbef['result'][_0x1c54f3(0x22e)](',')[0x1],await _0x1e966d['SISJv'](saveNewUser,_0x26feae,_0x5c1779,deviceId,_0x2f7346,_0x722429);},_0x20cbef[_0x369d36(0x103)](_0x4ecec1['files'][0x0]);}else _0x1e966d[_0x369d36(0x281)](saveNewUser,_0x26feae,_0x5c1779,deviceId,_0x2f7346,_0x722429);}});}else{if(!_0x3f6b70['exists']()){_0x11f6ee['innerText']=_0x5f27c9[_0x3aa9ec(0x1f2)],_0x11f6ee[_0x3aa9ec(0x282)][_0x3aa9ec(0xb5)]=_0x5f27c9[_0x3aa9ec(0x27f)];return;}if(_0x5f27c9[_0x3aa9ec(0x168)](_0x3f6b70[_0x3aa9ec(0x278)]()[_0x3aa9ec(0x66)],_0x5c1779)){_0x11f6ee['innerText']=_0x5f27c9[_0x3aa9ec(0x22a)],_0x11f6ee[_0x3aa9ec(0x282)][_0x3aa9ec(0xb5)]=_0x5f27c9[_0x3aa9ec(0x27f)];return;}let _0x36224e='';if(_0x55a627[_0x3aa9ec(0x184)][_0x3aa9ec(0x19c)]){const _0x1b10fd=new FileReader();_0x1b10fd['onloadend']=()=>{const _0x54143d=_0x3aa9ec;_0x36224e=_0x1b10fd['result'][_0x54143d(0x22e)](',')[0x1],_0x5f27c9[_0x54143d(0x21b)](saveNewUser,_0x26feae,_0x5c1779,deviceId,_0x36224e,_0x505647);},_0x1b10fd[_0x3aa9ec(0x103)](_0x55a627[_0x3aa9ec(0x184)][0x0]);}else _0x5f27c9['xAcZz'](saveNewUser,_0x26feae,_0x5c1779,deviceId,_0x36224e,_0x505647);username=_0x26feae,_0x5f27c9[_0x3aa9ec(0x207)](startAfterAuth);}});}async function saveNewUser(_0x5ec320,_0xa72609,_0x2a3c65,_0xcc6a5a,_0x49ffda){const _0x35c449=_0x339b03,_0xf2f55b={'QofVj':_0x35c449(0x80),'vMNaF':function(_0x59cb23,_0x59acaf){return _0x59cb23||_0x59acaf;}},_0x5d867e=db[_0x35c449(0x1d9)]('auth/'+sanitizeUsername(_0x5ec320)),_0x497c88={'username':_0x5ec320,'passwordHash':_0xa72609,'role':_0xf2f55b[_0x35c449(0x170)],'deviceId':_0x2a3c65,'description':_0x49ffda||'','avatarBase64':_0xf2f55b[_0x35c449(0x16b)](_0xcc6a5a,''),'usernameHistory':[_0x5ec320],'lastChanged':Date[_0x35c449(0x14f)]()};await _0x5d867e['set'](_0x497c88),username=_0x5ec320,_0xcc6a5a=_0x497c88[_0x35c449(0x144)],userDescription=_0x497c88['description'],startAfterAuth();}async function startAfterAuth(){const _0x3d616a=_0x339b03,_0x408fb6={'wvJgo':function(_0x48efc8,_0x59304d){return _0x48efc8(_0x59304d);},'WFCnH':function(_0x5ab88c,_0x2e0b54){return _0x5ab88c+_0x2e0b54;},'MVljx':_0x3d616a(0x225),'uxeuZ':'roomChoiceScreen'},_0x1f214f=_0x408fb6[_0x3d616a(0x260)](sanitizeUsername,username),_0x5ace23=db[_0x3d616a(0x1d9)](_0x3d616a(0xa9)+_0x1f214f),_0x3d5e39=await _0x5ace23[_0x3d616a(0x1da)]();if(_0x3d5e39[_0x3d616a(0x152)]()){const _0x582f07=_0x3d5e39[_0x3d616a(0x278)]();username=_0x582f07[_0x3d616a(0xb4)],userDescription=_0x582f07['description']||'',avatarBase64=_0x582f07[_0x3d616a(0x144)]||'',role=_0x582f07[_0x3d616a(0x111)]||'user';if(avatarBase64){const _0x1962c3=document['getElementById'](_0x3d616a(0x235));_0x1962c3[_0x3d616a(0xad)]=_0x408fb6[_0x3d616a(0x13a)](_0x3d616a(0x130),avatarBase64),_0x1962c3[_0x3d616a(0x282)]['display']=_0x3d616a(0x1fd);}}else console[_0x3d616a(0x206)](_0x3d616a(0x126));document['getElementById'](_0x408fb6[_0x3d616a(0x9b)])[_0x3d616a(0x92)]=username,_0x408fb6['wvJgo'](showScreen,_0x408fb6[_0x3d616a(0x1dc)]);}function toggleRecording(){const _0x38ff13=_0x339b03,_0x4507f3={'TLUxu':_0x38ff13(0xb6),'dVNuv':function(_0x3a8ccf,_0xb2818a){return _0x3a8ccf&&_0xb2818a;},'UyNry':_0x38ff13(0x25c),'aKQXL':function(_0x3a6d0f,_0x3dc7f9){return _0x3a6d0f(_0x3dc7f9);},'lgNjl':'Microphone\x20permission\x20denied.'};isRecording?stopRecording():navigator[_0x38ff13(0x82)][_0x38ff13(0x104)]({'audio':!![]})[_0x38ff13(0x8a)](_0x9e6e37=>{const _0x30a589=_0x38ff13,_0x400eb6={'cXjkr':_0x30a589(0x1eb)};mediaRecorder=new MediaRecorder(_0x9e6e37),mediaRecorder[_0x30a589(0x75)](),isRecording=!![],document['getElementById'](_0x4507f3[_0x30a589(0x77)])[_0x30a589(0x92)]='⏹️',audioChunks=[],mediaRecorder['ondataavailable']=_0x51afe1=>audioChunks[_0x30a589(0xbb)](_0x51afe1[_0x30a589(0x1b6)]),mediaRecorder[_0x30a589(0x108)]=()=>{const _0x5a8985=_0x30a589;clearTimeout(recordingTimer);const _0x221f1a=new Blob(audioChunks,{'type':_0x4507f3[_0x5a8985(0x125)]}),_0xc58591=new FileReader();_0xc58591[_0x5a8985(0x79)]=()=>{const _0x2696ec=_0x5a8985,_0xd804d4=_0xc58591[_0x2696ec(0xa0)][_0x2696ec(0x22e)](',')[0x1],_0x3f7a32=db[_0x2696ec(0x1d9)]()[_0x2696ec(0xbb)]()[_0x2696ec(0x280)];db[_0x2696ec(0x1d9)](_0x2696ec(0x96)+roomCode+'/messages/'+_0x3f7a32)[_0x2696ec(0xc2)]({'msg':_0x400eb6['cXjkr'],'audioBase64':_0xd804d4,'sender':username,'senderId':clientId,'timestamp':Date[_0x2696ec(0x14f)]()});},_0xc58591[_0x5a8985(0x103)](_0x221f1a);},recordingTimer=setTimeout(()=>{const _0x1a2635=_0x30a589;_0x4507f3[_0x1a2635(0xb3)](mediaRecorder,isRecording)&&stopRecording();},0x4e20);})['catch'](_0x13fc89=>{const _0x44eadc=_0x38ff13;_0x4507f3[_0x44eadc(0xda)](alert,_0x4507f3[_0x44eadc(0x226)]);});}function stopRecording(){const _0x260857=_0x339b03,_0x2ce3ea={'NnJCW':'🎙️'};mediaRecorder&&isRecording&&(mediaRecorder[_0x260857(0x1a9)](),isRecording=![],document[_0x260857(0x12a)](_0x260857(0x25c))['innerText']=_0x2ce3ea[_0x260857(0x20e)]);}window[_0x339b03(0xf8)]=async()=>{const _0x11cbc5=_0x339b03,_0x555742={'oabTf':function(_0x28b825,_0x3fbb0a){return _0x28b825(_0x3fbb0a);},'YXEFu':_0x11cbc5(0xe3),'ixozJ':function(_0x677838){return _0x677838();},'DrIFn':function(_0x557c43){return _0x557c43();},'wRQLr':function(_0x559522){return _0x559522();}},_0xefd5ee=_0x11cbc5(0x276)[_0x11cbc5(0x22e)]('|');let _0x4b52e2=0x0;while(!![]){switch(_0xefd5ee[_0x4b52e2++]){case'0':resetWebsiteData();continue;case'1':_0x555742[_0x11cbc5(0x24a)](showScreen,_0x555742['YXEFu']);continue;case'2':_0x555742[_0x11cbc5(0xd7)](setupSidebarBackHandler);continue;case'3':_0x555742['DrIFn'](setupVisibilityAttention);continue;case'4':_0x555742[_0x11cbc5(0x142)](cleanupOldRooms);continue;}break;}};function sanitizeUsername(_0x13c4e6){const _0x44bfb6=_0x339b03;return _0x13c4e6[_0x44bfb6(0x7c)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x159982=_0x339b03,_0x159f14={'gUkHs':'Failed\x20to\x20save\x20profile:','OQptO':_0x159982(0x15a),'ULixt':_0x159982(0x1fd),'znjYB':'0|2|3|1|4','gZvVc':_0x159982(0x93),'IIIou':_0x159982(0x162),'bfQHq':_0x159982(0x113),'DPPBV':_0x159982(0xc5),'RpjWW':_0x159982(0x1c5),'DJQQW':_0x159982(0x266),'oDZZq':function(_0x13d5ed,_0x3fa22d){return _0x13d5ed||_0x3fa22d;},'PqtVo':'value'},_0x3c43fc=document[_0x159982(0x12a)](_0x159f14[_0x159982(0x179)])[_0x159982(0x1a8)][_0x159982(0xd5)](),_0x52b137=document[_0x159982(0x12a)](_0x159982(0x9d))[_0x159982(0x1a8)]['trim'](),_0x27ab00=document[_0x159982(0x12a)]('profileError');if(_0x159f14[_0x159982(0xea)](!_0x3c43fc,!_0x52b137)){_0x27ab00[_0x159982(0x92)]=_0x159982(0xb8),_0x27ab00[_0x159982(0x282)][_0x159982(0xb5)]=_0x159982(0x1fd);return;}const _0x17e0c9=sanitizeUsername(_0x3c43fc),_0x19f896=db[_0x159982(0x1d9)](_0x159982(0x208)+_0x17e0c9);_0x19f896[_0x159982(0x245)](_0x159f14[_0x159982(0x243)])[_0x159982(0x8a)](_0x1bbef2=>{const _0x1cd017=_0x159982,_0x2e47e={'xGkGp':_0x159f14[_0x1cd017(0xbe)],'gyWLS':_0x159f14['OQptO'],'xShon':_0x159f14['ULixt'],'evHps':_0x159f14['znjYB'],'ETtbC':_0x159f14['gZvVc'],'LSnST':_0x1cd017(0xba),'khlVi':function(_0x5d3993,_0x5bc2b5){return _0x5d3993(_0x5bc2b5);},'utvJR':_0x159f14[_0x1cd017(0x1b3)]};if(_0x1bbef2[_0x1cd017(0x152)]())_0x27ab00['innerText']=_0x159f14['bfQHq'],_0x27ab00[_0x1cd017(0x282)][_0x1cd017(0xb5)]=_0x159f14[_0x1cd017(0xfa)];else{const _0x5914b5={'username':_0x3c43fc,'description':_0x52b137,'lastChanged':Date[_0x1cd017(0x14f)](),'usernameHistory':[_0x3c43fc]};_0x19f896[_0x1cd017(0xc2)](_0x5914b5,_0x536a79=>{const _0x108cab=_0x1cd017;if(_0x536a79)console[_0x108cab(0x228)](_0x2e47e[_0x108cab(0x270)],_0x536a79),_0x27ab00[_0x108cab(0x92)]=_0x2e47e[_0x108cab(0xd6)],_0x27ab00[_0x108cab(0x282)][_0x108cab(0xb5)]=_0x2e47e[_0x108cab(0x181)];else{const _0x738ecc=_0x2e47e[_0x108cab(0x106)]['split']('|');let _0x3db579=0x0;while(!![]){switch(_0x738ecc[_0x3db579++]){case'0':localStorage[_0x108cab(0x205)](_0x2e47e['ETtbC'],_0x3c43fc);continue;case'1':document[_0x108cab(0x12a)](_0x108cab(0x225))[_0x108cab(0x92)]=_0x3c43fc;continue;case'2':localStorage[_0x108cab(0x205)](_0x2e47e[_0x108cab(0xb0)],_0x52b137);continue;case'3':username=_0x3c43fc;continue;case'4':_0x2e47e[_0x108cab(0x215)](showScreen,_0x2e47e[_0x108cab(0x101)]);continue;}break;}}});}})[_0x159982(0x1b4)](_0x28fdab=>{const _0x469e19=_0x159982;console[_0x469e19(0x228)](_0x159f14[_0x469e19(0x127)],_0x28fdab),_0x27ab00[_0x469e19(0x92)]=_0x159f14['RpjWW'],_0x27ab00[_0x469e19(0x282)]['display']=_0x159f14[_0x469e19(0xfa)];});}function saveProfile(_0x2a33ca,_0x211ce3,_0x15f2b4){const _0x482c57=_0x339b03,_0x498e89={'CBKnC':function(_0x22c3b1,_0x3a382e){return _0x22c3b1(_0x3a382e);},'dTJkl':_0x482c57(0x162)},_0x4b71a9=Date[_0x482c57(0x14f)](),_0x1016b6=[_0x2a33ca];db['ref'](_0x482c57(0x208)+_0x15f2b4)[_0x482c57(0xc2)]({'username':_0x2a33ca,'description':_0x211ce3,'lastChanged':_0x4b71a9,'usernameHistory':_0x1016b6}),document[_0x482c57(0x12a)](_0x482c57(0x225))[_0x482c57(0x92)]=_0x2a33ca,_0x498e89[_0x482c57(0xe5)](showScreen,_0x498e89['dTJkl']);}function generateRoom(){const _0x522bf8=_0x339b03,_0x175308={'sCyxh':function(_0x1e0453,_0xedfe12){return _0x1e0453+_0xedfe12;},'RINai':_0x522bf8(0x96),'RZnIa':function(_0x42fee5){return _0x42fee5();}};roomCode=genRoomCode(),db[_0x522bf8(0x1d9)](_0x175308[_0x522bf8(0x159)](_0x175308[_0x522bf8(0x223)],roomCode))['set']({'active':!![],'created':Date['now']()}),_0x175308[_0x522bf8(0x1e8)](startChat);}function joinRoom(){const _0x47f166=_0x339b03,_0x246a8a={'VaMOu':function(_0x2e029e,_0x1ec6d2){return _0x2e029e!==_0x1ec6d2;},'tGgok':function(_0x4b7d04){return _0x4b7d04();},'zVken':function(_0x6412ab,_0x545d6e){return _0x6412ab(_0x545d6e);},'EQBCM':_0x47f166(0x7e),'FfcNg':function(_0x55441d,_0x4e7def){return _0x55441d===_0x4e7def;},'Nobwt':_0x47f166(0x172),'KAQXh':function(_0x85c1f1,_0x353bc6){return _0x85c1f1+_0x353bc6;},'BFeTf':_0x47f166(0x96)},_0x556285=roomCode||document[_0x47f166(0x12a)]('roomCodeInput')[_0x47f166(0x1a8)]['trim']()[_0x47f166(0x8c)]();if(!_0x556285)return _0x246a8a[_0x47f166(0x6c)](alert,_0x246a8a[_0x47f166(0xdb)]);roomCode=_0x556285;if(_0x246a8a[_0x47f166(0x174)](roomCode,STATIC_ROOM)){showScreen(_0x246a8a['Nobwt']);return;}db[_0x47f166(0x1d9)](_0x246a8a[_0x47f166(0x1ae)](_0x246a8a['BFeTf'],roomCode))['get']()[_0x47f166(0x8a)](_0x5537d8=>{const _0x4c24ff=_0x47f166;_0x5537d8[_0x4c24ff(0x152)]()&&_0x246a8a[_0x4c24ff(0x1dd)](_0x5537d8[_0x4c24ff(0x278)]()[_0x4c24ff(0x70)],![])?_0x246a8a[_0x4c24ff(0x12b)](startChat):alert(_0x4c24ff(0x164));});}async function startChat(){const _0x39d72a=_0x339b03,_0x2e7135={'AWisn':function(_0x4831a4,_0x4f7da1){return _0x4831a4(_0x4f7da1);},'lqOVA':_0x39d72a(0x84),'dOYkr':function(_0x55f02d,_0x24b94c){return _0x55f02d(_0x24b94c);},'nZXTk':'sidebarAvatarPreview','QLXoC':function(_0x143929,_0xe916f6){return _0x143929+_0xe916f6;},'IAdyi':_0x39d72a(0x130),'tabJC':'block','URAkd':_0x39d72a(0x13d),'UIynh':function(_0x37c705,_0x7a11bf){return _0x37c705(_0x7a11bf);},'GzquY':'roomDisplay','fVhfl':function(_0xaca876,_0x21fd3c){return _0xaca876===_0x21fd3c;},'KdFBY':_0x39d72a(0x94),'JymAa':_0x39d72a(0x26f),'LHWze':function(_0x9d0c8e,_0x2559b3){return _0x9d0c8e===_0x2559b3;},'SjXbr':'dev','KlLon':_0x39d72a(0x1f9),'cMaKi':'chatScreen','OuGRs':function(_0x41aee7){return _0x41aee7();},'mWdJb':function(_0x4f96ca){return _0x4f96ca();},'jyYsq':function(_0x4acb8d,_0x130a25){return _0x4acb8d(_0x130a25);},'MSdFZ':function(_0x179e23,_0x4a518d){return _0x179e23(_0x4a518d);},'AMlcJ':'roomChoiceScreen','DbZyR':function(_0x1b456e){return _0x1b456e();}};if(!roomCode||!username)return _0x2e7135[_0x39d72a(0x25f)](alert,_0x39d72a(0x109)),_0x2e7135['MSdFZ'](showScreen,_0x2e7135[_0x39d72a(0x211)]);await _0x2e7135[_0x39d72a(0xf7)](loadRoomRoles),_0x2e7135[_0x39d72a(0xf7)](listenForAnnouncement);const _0x17a8d9=_0x2e7135[_0x39d72a(0x11b)](sanitizeUsername,username),_0x2f530a=db[_0x39d72a(0x1d9)](_0x39d72a(0x203)+roomCode+'/'+_0x17a8d9),_0x2af617={'username':username,'online':!![],'lastOnline':firebase['database']['ServerValue'][_0x39d72a(0xe8)]};_0x2f530a[_0x39d72a(0xc2)](_0x2af617,_0x560bd8=>{const _0x168bc7=_0x39d72a;if(_0x560bd8)return _0x2e7135['AWisn'](alert,_0x2e7135[_0x168bc7(0x193)]),_0x2e7135[_0x168bc7(0x16e)](showScreen,'roomChoiceScreen');_0x2f530a[_0x168bc7(0x178)]()[_0x168bc7(0xcd)]({'online':![],'lastOnline':Date['now']()});const _0x134b04=document[_0x168bc7(0x12a)](_0x2e7135['nZXTk']);avatarBase64&&(_0x134b04[_0x168bc7(0xad)]=_0x2e7135[_0x168bc7(0xe7)](_0x2e7135[_0x168bc7(0xc6)],avatarBase64),_0x134b04['style'][_0x168bc7(0xb5)]=_0x2e7135[_0x168bc7(0x26e)]),document[_0x168bc7(0x12a)](_0x2e7135[_0x168bc7(0xee)])[_0x168bc7(0x263)]=username+'\x20'+_0x2e7135[_0x168bc7(0x1db)](getRoleTag,_0x17a8d9),document['getElementById'](_0x2e7135[_0x168bc7(0xc0)])[_0x168bc7(0x92)]=_0x2e7135['fVhfl'](roomCode,STATIC_ROOM)?_0x2e7135['KdFBY']:roomCode,role===_0x2e7135[_0x168bc7(0x24c)]||_0x2e7135[_0x168bc7(0x176)](role,_0x2e7135['SjXbr'])?document['getElementById'](_0x2e7135['KlLon'])[_0x168bc7(0x282)]['display']='block':document[_0x168bc7(0x12a)](_0x2e7135[_0x168bc7(0x1f3)])[_0x168bc7(0x282)][_0x168bc7(0xb5)]=_0x168bc7(0x214),_0x2e7135['AWisn'](showScreen,_0x2e7135['cMaKi']),listenForMessages(),_0x2e7135[_0x168bc7(0x1fb)](listenForTyping),_0x2e7135[_0x168bc7(0x1fb)](startInactivityTimer),trackPresence(),_0x2e7135['mWdJb'](listenForUserList);});}async function fetchProfile(_0x3ac2c8){const _0x27481a=_0x339b03,_0x16fc9e=await db[_0x27481a(0x1d9)](_0x27481a(0xa9)+_0x3ac2c8)[_0x27481a(0x1da)]();if(!_0x16fc9e[_0x27481a(0x152)]())return null;return _0x16fc9e[_0x27481a(0x278)]();}function validateStaticRoomPassword(){const _0x201083=_0x339b03,_0x9ed14e={'LLuNq':_0x201083(0x131),'NQpzk':function(_0x26537b){return _0x26537b();},'pPSqL':_0x201083(0x27e),'HhfvW':_0x201083(0x1fd),'yrDlt':_0x201083(0x1a0),'BHkyH':_0x201083(0x22b),'NKAGe':function(_0x5db96a,_0x4c6258){return _0x5db96a(_0x4c6258);},'kKbzj':_0x201083(0x6e)},_0x1ce313=document[_0x201083(0x12a)](_0x9ed14e[_0x201083(0x1d6)])[_0x201083(0x1a8)][_0x201083(0xd5)]();if(!_0x1ce313){_0x9ed14e[_0x201083(0x1f1)](alert,_0x9ed14e[_0x201083(0x7b)]);return;}db[_0x201083(0x1d9)](_0x201083(0x1b8)+STATIC_ROOM)['get']()[_0x201083(0x8a)](_0x222441=>{const _0x43e71f=_0x201083;if(!_0x222441[_0x43e71f(0x152)]()){alert(_0x9ed14e[_0x43e71f(0x16d)]);return;}const _0x255018=_0x222441['val']();_0x1ce313===_0x255018?(roomCode=STATIC_ROOM,_0x9ed14e[_0x43e71f(0xc7)](startChat)):(document[_0x43e71f(0x12a)](_0x9ed14e[_0x43e71f(0x23a)])[_0x43e71f(0x92)]=_0x43e71f(0x6f),document['getElementById'](_0x9ed14e[_0x43e71f(0x23a)])[_0x43e71f(0x282)][_0x43e71f(0xb5)]=_0x9ed14e[_0x43e71f(0x1ca)]);})['catch'](_0x41adb8=>{const _0x37049a=_0x201083;console['error'](_0x41adb8),alert(_0x9ed14e[_0x37049a(0x1de)]);});}const spamTimestamps=[];function sendMessage(){const _0x13816d=_0x339b03,_0x300bd2={'rRtLE':_0x13816d(0x8d),'KtHBM':function(_0x2e0a1d,_0x1894a9){return _0x2e0a1d(_0x1894a9);},'FYIJO':_0x13816d(0x14d),'Eyojg':function(_0x418a3a,_0x2ef5ee){return _0x418a3a(_0x2ef5ee);},'kdsmG':_0x13816d(0x249),'mfwjM':function(_0x2df5b9,_0x4a33b2){return _0x2df5b9>_0x4a33b2;},'QYspb':_0x13816d(0xa5),'SsUnw':function(_0x471194,_0x1a5a9b,_0x35f9ee){return _0x471194(_0x1a5a9b,_0x35f9ee);},'JDLDa':_0x13816d(0x199),'AAGxy':function(_0x19bfb6,_0x4442dc){return _0x19bfb6(_0x4442dc);},'YIQEn':_0x13816d(0x12e),'lzPJI':_0x13816d(0x1b1),'CXcHX':function(_0x2cd213,_0x12c715){return _0x2cd213(_0x12c715);}};if(roomIsPaused){_0x300bd2[_0x13816d(0x19e)](alert,_0x13816d(0x1e5));return;}const _0xb16df9=document[_0x13816d(0x12a)](_0x300bd2[_0x13816d(0xdd)]),_0x583857=_0xb16df9[_0x13816d(0x1a8)]['trim']();if(!_0x583857||isBlocked)return;const _0x4a8469=Date[_0x13816d(0x14f)](),_0x27cb83=_0x583857[_0x13816d(0x141)](),_0x160cd3=swearWords[_0x13816d(0x9e)](_0x71ea4a=>_0x27cb83[_0x13816d(0x78)](_0x71ea4a));if(_0x160cd3){_0x300bd2['Eyojg'](alert,_0x300bd2[_0x13816d(0x1ef)]);return;}spamTimestamps[_0x13816d(0xbb)](_0x4a8469);const _0x27a6f3=spamTimestamps[_0x13816d(0x1e3)](_0x3f5382=>_0x4a8469-_0x3f5382<0x1b58);if(_0x300bd2[_0x13816d(0x1d2)](_0x27a6f3[_0x13816d(0x19c)],0x5)){const _0x384bac=_0x300bd2[_0x13816d(0x1a4)]['split']('|');let _0xf9ef0e=0x0;while(!![]){switch(_0x384bac[_0xf9ef0e++]){case'0':_0x300bd2[_0x13816d(0x189)](setTimeout,()=>{const _0x1becbe=_0x13816d;isBlocked=![],_0xb16df9[_0x1becbe(0x157)]=![],_0xb16df9[_0x1becbe(0x18c)]=_0x300bd2[_0x1becbe(0x271)],spamTimestamps[_0x1becbe(0x19c)]=0x0;},0x7530);continue;case'1':_0xb16df9['placeholder']=_0x300bd2[_0x13816d(0x1b0)];continue;case'2':isBlocked=!![];continue;case'3':_0x300bd2['AAGxy'](alert,_0x300bd2['YIQEn']);continue;case'4':return;case'5':_0xb16df9[_0x13816d(0x157)]=!![];continue;}break;}}const _0x57b177=localStorage[_0x13816d(0xbd)](_0x300bd2['lzPJI'])||'',_0x371760=db[_0x13816d(0x1d9)]()[_0x13816d(0xbb)]()[_0x13816d(0x280)];db['ref'](_0x13816d(0x96)+roomCode+_0x13816d(0x1bd)+_0x371760)[_0x13816d(0xc2)]({'msg':_0x583857,'sender':username,'senderId':clientId,'avatarBase64':_0x57b177,'timestamp':_0x4a8469}),_0xb16df9[_0x13816d(0x1a8)]='',_0x300bd2[_0x13816d(0x17a)](sendTyping,!![]),lastActivity=_0x4a8469;}function listenForMessages(){const _0x17513a=_0x339b03,_0x310bc2={'VuxIp':function(_0x671d6b,_0x38a6d8,_0x38cf72,_0x4ca894){return _0x671d6b(_0x38a6d8,_0x38cf72,_0x4ca894);},'bEVaq':function(_0x361e9b,_0x3c55d2){return _0x361e9b!==_0x3c55d2;},'jDInS':function(_0xb529f4){return _0xb529f4();},'uQllo':function(_0xa67b04,_0xac91f0){return _0xa67b04&&_0xac91f0;},'VFcUm':function(_0x229831,_0x340ad3,_0xe91932){return _0x229831(_0x340ad3,_0xe91932);},'ibdxp':'[Voice\x20Message]','SOphT':_0x17513a(0x269)},_0x26cbcb=db[_0x17513a(0x1d9)](_0x17513a(0x96)+roomCode+_0x17513a(0x74)),_0x52dbd8=_0x26cbcb[_0x17513a(0x71)](MAX_MESSAGES);userListReady=!![],_0x52dbd8['on'](_0x310bc2[_0x17513a(0x21d)],_0x342fd9=>{const _0x8575a8=_0x17513a,_0x1e4832={'NxcIH':function(_0x535c02,_0x85adc9,_0x3bc19d,_0x7584f3){const _0x2dc25a=_0xf6af;return _0x310bc2[_0x2dc25a(0x10b)](_0x535c02,_0x85adc9,_0x3bc19d,_0x7584f3);}},_0x262fcd=_0x342fd9[_0x8575a8(0x278)](),{senderId:_0x39a8e0}=_0x262fcd,_0x520f7f=_0x39a8e0===clientId;if(!userListReady){pendingMessages[_0x8575a8(0x1ab)](({data:_0x5c8e3f,sent:_0x14e153,key:_0x1ac74c})=>{const _0xccad31=_0x8575a8;_0x1e4832[_0xccad31(0x137)](addMessage,_0x5c8e3f,_0x14e153,_0x1ac74c);}),pendingMessages=[];return;}const _0x29f160=_0x262fcd[_0x8575a8(0xe9)]||null,_0x3d366c=_0x262fcd[_0x8575a8(0xab)]||null;_0x310bc2[_0x8575a8(0x10b)](addMessage,_0x262fcd,_0x520f7f,_0x342fd9['key']),_0x310bc2['bEVaq'](roomCode,STATIC_ROOM)&&db[_0x8575a8(0x1d9)]('rooms/'+roomCode+'/messages/'+_0x342fd9[_0x8575a8(0x280)])['remove'](),!_0x520f7f&&(sound[_0x8575a8(0x17d)](),_0x310bc2[_0x8575a8(0x1a6)](flagPageAttention)),_0x310bc2[_0x8575a8(0x1cf)](notificationsEnabled,!_0x520f7f)&&_0x310bc2[_0x8575a8(0x284)](stackNotification,_0x262fcd[_0x8575a8(0x27d)],_0x262fcd[_0x8575a8(0x107)]||(_0x262fcd[_0x8575a8(0xab)]?_0x310bc2[_0x8575a8(0xed)]:_0x8575a8(0x1d5)));});}function stackNotification(_0x243502,_0xb9f0a3){const _0x5d09a2=_0x339b03,_0x377578={'SzvBJ':function(_0x43b5ce){return _0x43b5ce();},'dvwUt':function(_0x13d1d,_0x40bd7,_0x21dc73){return _0x13d1d(_0x40bd7,_0x21dc73);}};notificationStack['push']({'sender':_0x243502,'content':_0xb9f0a3}),clearTimeout(notificationTimer),notificationTimer=_0x377578[_0x5d09a2(0x7f)](setTimeout,()=>{_0x377578['SzvBJ'](showStackedNotification),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x50c01c=_0x339b03,_0x2f0eea={'lDPKg':_0x50c01c(0x1b7),'DouRm':function(_0x3feed0,_0x92bae1){return _0x3feed0!==_0x92bae1;},'evaFK':_0x50c01c(0x1d8),'Hscbu':_0x50c01c(0x138)};if(!notificationStack[_0x50c01c(0x19c)]||_0x2f0eea[_0x50c01c(0x24e)](Notification['permission'],_0x2f0eea[_0x50c01c(0xac)]))return;const _0x3f676e=[...new Set(notificationStack[_0x50c01c(0x222)](_0x319783=>_0x319783['sender']))],_0x30a9e2=roomCode||_0x2f0eea[_0x50c01c(0x20d)],_0x29e470=_0x3f676e[_0x50c01c(0x19c)]===0x1?_0x50c01c(0x13b)+_0x3f676e[0x0]+'\x20in\x20room\x20'+_0x30a9e2+':\x20'+notificationStack[0x0][_0x50c01c(0x1df)]:_0x50c01c(0x210)+_0x3f676e[_0x50c01c(0x198)](',\x20')+_0x50c01c(0x27c)+_0x30a9e2;setTimeout(()=>{const _0x3d96d2=_0x50c01c;new Notification(_0x3d96d2(0x15c),{'body':_0x29e470,'icon':_0x2f0eea['lDPKg']});},0x64);}function addMessage(_0x4a851d,_0x1b5354,_0x51750d=null){const _0x149749=_0x339b03,_0x30817f={'OfqQZ':'msg','oMHCt':_0x149749(0x1af),'BYOJa':_0x149749(0x186),'AGQSY':_0x149749(0x18f),'dWaAn':function(_0x550cca,_0x28de04){return _0x550cca(_0x28de04);},'Rtmgi':function(_0x3de30e,_0x33d5da){return _0x3de30e(_0x33d5da);},'sUFEA':function(_0x4b563b,_0x20c7ba){return _0x4b563b(_0x20c7ba);},'aOFpD':_0x149749(0x9a)},{msg:_0x345143,sender:_0x280138,senderId:_0x2015a3,timestamp:_0x174f6d,audioUrl:_0x3a984b,audioBase64:_0x439885,imageBase64:_0x40855d}=_0x4a851d,_0x50e47c=document[_0x149749(0x267)]('div');_0x50e47c[_0x149749(0x204)][_0x149749(0x11a)](_0x30817f[_0x149749(0x90)],_0x1b5354?_0x30817f['oMHCt']:_0x30817f[_0x149749(0x217)]);const _0x2da07f=new Date(_0x174f6d)[_0x149749(0x216)]([],{'hour':_0x30817f[_0x149749(0xe4)],'minute':_0x149749(0x18f)}),_0x3ee6b5=_0x30817f[_0x149749(0x1e2)](sanitizeUsername,_0x280138),_0x391707=roomUsers[_0x3ee6b5]||{},_0x691166=_0x391707[_0x149749(0x144)]?'<img\x20src=\x22data:image/png;base64,'+_0x391707[_0x149749(0x144)]+_0x149749(0x89):_0x149749(0x275);let _0x3e1350=_0x691166+_0x149749(0x133)+_0x280138+'\x20'+_0x30817f['Rtmgi'](getRoleTag,_0x30817f[_0x149749(0x20c)](sanitizeUsername,_0x280138))+_0x149749(0x18e);_0x391707[_0x149749(0x26f)]&&(_0x3e1350+='\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>');_0x3e1350+=_0x149749(0xe2);const _0x1c1259=_0x345143?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x149749(0x1b2));if(_0x3a984b)_0x3e1350+=_0x149749(0x124)+_0x3a984b+_0x149749(0x95);else{if(_0x439885){const _0x132aba=_0x149749(0x20a)+_0x439885;_0x3e1350+='<audio\x20controls\x20src=\x22'+_0x132aba+_0x149749(0x95);}else{if(_0x40855d){const _0x3d5d16=_0x149749(0x130)+_0x40855d;_0x3e1350+=_0x149749(0x139)+_0x3d5d16+'\x22\x20style=\x22max-width:100%;margin-top:5px;border-radius:10px;\x22\x20/>';}else _0x3e1350+=_0x149749(0x173)+_0x1c1259+_0x149749(0x6d);}}_0x3e1350+=_0x149749(0xe1)+_0x2da07f+'</small>',_0x50e47c[_0x149749(0x263)]=_0x3e1350;const _0x302474=document[_0x149749(0x12a)](_0x30817f['aOFpD']);_0x302474[_0x149749(0xdc)](_0x50e47c),_0x302474[_0x149749(0x1d1)]=_0x302474[_0x149749(0x1fe)];}function cleanupOldRooms(){const _0x27149a=_0x339b03,_0x1270dd={'cIHQT':function(_0x19660f,_0x4e21e8){return _0x19660f!==_0x4e21e8;},'aJJCA':function(_0x56005a,_0x27f07d){return _0x56005a===_0x27f07d;},'VbZGb':function(_0x4db007,_0x2137ad){return _0x4db007>_0x2137ad;},'nePZC':function(_0x3bd6fd,_0x4a5b15){return _0x3bd6fd-_0x4a5b15;},'nofZY':function(_0x5b144b,_0x56642b){return _0x5b144b*_0x56642b;},'jUDdU':function(_0x4fdc3b,_0x3a851d){return _0x4fdc3b+_0x3a851d;},'lVDIz':_0x27149a(0x25e),'Xihmo':'antispamBlocked','SsSls':_0x27149a(0x1a8),'anZiA':_0x27149a(0x1e4)};db[_0x27149a(0x1d9)](_0x1270dd[_0x27149a(0x17f)])['once'](_0x1270dd[_0x27149a(0x18a)])[_0x27149a(0x8a)](_0x14017c=>{const _0x4f7fd=_0x27149a,_0x89a0e8={'XizvQ':function(_0x4c5e9f,_0x5e6684){return _0x4c5e9f!==_0x5e6684;}},_0x19279f=_0x14017c[_0x4f7fd(0x278)]();if(!_0x19279f)return;const _0x231e4f=Date[_0x4f7fd(0x14f)]();for(const _0x1e3ebd in _0x19279f){if(_0x1270dd['aJJCA'](_0x1e3ebd,STATIC_ROOM))continue;const _0x44e12d=_0x19279f[_0x1e3ebd];_0x1270dd[_0x4f7fd(0xce)](_0x1270dd[_0x4f7fd(0x1d0)](_0x231e4f,_0x44e12d['created']||0x0),_0x1270dd[_0x4f7fd(0x200)](0x2*0x3c,0x3e8))&&db[_0x4f7fd(0x1d9)](_0x1270dd[_0x4f7fd(0x21e)]('rooms/',_0x1e3ebd))['remove']();}db['ref'](_0x1270dd['lVDIz'])[_0x4f7fd(0x245)](_0x4f7fd(0x1a8))['then'](_0x2fb3df=>{const _0x53f4ed=_0x4f7fd,_0x5f4b04=_0x2fb3df[_0x53f4ed(0x278)]();if(!_0x5f4b04)return;for(const _0x588f7f in _0x5f4b04){if(_0x1270dd[_0x53f4ed(0x1c1)](_0x588f7f,STATIC_ROOM))db[_0x53f4ed(0x1d9)]('antispam/'+_0x588f7f)[_0x53f4ed(0x177)]();}}),db[_0x4f7fd(0x1d9)](_0x1270dd[_0x4f7fd(0x272)])[_0x4f7fd(0x245)](_0x1270dd['SsSls'])[_0x4f7fd(0x8a)](_0x37d18c=>{const _0x8f7731=_0x4f7fd,_0x4e86ef=_0x37d18c['val']();if(!_0x4e86ef)return;for(const _0x386160 in _0x4e86ef){if(_0x89a0e8[_0x8f7731(0x1aa)](_0x386160,STATIC_ROOM))db[_0x8f7731(0x1d9)](_0x8f7731(0xff)+_0x386160)[_0x8f7731(0x177)]();}});});}document[_0x339b03(0x153)](_0x339b03(0x114),()=>{const _0x1fa4b0=_0x339b03,_0xe064fe={'AyeNv':function(_0x41170d,_0x94a96b){return _0x41170d===_0x94a96b;},'ygSVR':_0x1fa4b0(0x154),'Uvqnp':function(_0x4958f2){return _0x4958f2();},'diErh':_0x1fa4b0(0x14d),'nyPjg':'keypress'},_0x44f1b5=document[_0x1fa4b0(0x12a)](_0xe064fe[_0x1fa4b0(0x18d)]);_0x44f1b5&&_0x44f1b5[_0x1fa4b0(0x153)](_0xe064fe[_0x1fa4b0(0x1cb)],function(_0x3060f6){const _0x178aa5=_0x1fa4b0;_0xe064fe[_0x178aa5(0xbf)](_0x3060f6[_0x178aa5(0x280)],_0xe064fe[_0x178aa5(0x1fa)])&&(_0x3060f6[_0x178aa5(0xf2)](),_0xe064fe[_0x178aa5(0x14b)](sendMessage));});});function showScreen(_0x2a93d9){const _0x59974c=_0x339b03,_0x3bef48={'RBqxB':_0x59974c(0x214),'InIDe':_0x59974c(0x1e1),'VAYbV':_0x59974c(0x19a),'oopKJ':_0x59974c(0x10e),'hrWsk':_0x59974c(0x180),'zCVCF':_0x59974c(0xe3),'xDWZH':_0x59974c(0x13e)};[_0x3bef48['InIDe'],_0x59974c(0x162),_0x3bef48['VAYbV'],'chatScreen',_0x59974c(0x172),_0x3bef48[_0x59974c(0x1a5)],_0x3bef48[_0x59974c(0x1a7)],_0x3bef48[_0x59974c(0x129)]]['forEach'](_0xf8edc3=>{const _0x578914=_0x59974c;document[_0x578914(0x12a)](_0xf8edc3)[_0x578914(0x282)][_0x578914(0xb5)]=_0x3bef48[_0x578914(0x227)];}),document['getElementById'](_0x2a93d9)[_0x59974c(0x282)][_0x59974c(0xb5)]=_0x3bef48['xDWZH'];}function _0x1aed(){const _0x7cc468=['Only\x20one\x20account\x20per\x20device\x20allowed.','BtOYS','vMNaF','bitch','LLuNq','dOYkr','tUxzW','QofVj','vyVlc','passwordScreen','<div>','FfcNg','aktrO','LHWze','remove','onDisconnect','DJQQW','CXcHX','flagPageAttention','leDgW','play','DgmWX','anZiA','profileViewer','xShon','nyOKV','puta','files','oIfir','received','Profile\x20not\x20found.','dNwOZ','SsUnw','SsSls','uEZUZ','placeholder','diErh','</span>','2-digit','bQlmR','CuFYo','\x20minutes.','lqOVA','wklIA','caralho','GrSIQ','\x0aDescription:\x20','join','⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','codeEntryScreen','auth','length','IqHaY','KtHBM','PjULN','Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.','SHA-256','values','state','QYspb','oopKJ','jDInS','hrWsk','value','stop','XizvQ','forEach','ctdUl','GXCTW','KAQXh','sent','JDLDa','avatar_base64','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','IIIou','catch','avcke','data','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','gr8stg/','pendejo','chatScreen','announcementArea','HIUQC','/messages/','dick','deleteMessage','editBioInput','cIHQT','TShDi','\x20<span\x20style=\x22color:red;font-weight:bold;\x22>Admin</span>','eLJVN','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','authDescription','userOptions-','BYaVs','AuUmR','HhfvW','nyPjg','RqgnB','QDLQS','PWmkQ','uQllo','nePZC','scrollTop','mfwjM','\x27)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','clear','[Unknown\x20Message]','BHkyH','Admins\x20only.','granted','ref','get','UIynh','uxeuZ','VaMOu','yrDlt','content','bzKxD','usernameScreen','dWaAn','filter','rooms','Room\x20is\x20paused.\x20Wait\x20for\x20Dev/Admin\x20to\x20resume.','authError','profileContent','RZnIa','tWHmm','WPHWt','[Voice\x20message]','jcEyG','Username\x20not\x20found.','bUJac','kdsmG','authSubmitBtn','NKAGe','hTGJe','KlLon','5579880CVyxjx','Session\x20expired.','0|3|2|1|4','admins/','XCMrD','addAnnouncementBtn','ygSVR','OuGRs','clVNt','block','scrollHeight','No\x20bio\x20set','nofZY','volume','requestPermission','users/','classList','setItem','warn','imLIY','profiles/','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','data:audio/webm;base64,','toString','sUFEA','Hscbu','NnJCW','vJVkx','You\x20got\x20messages\x20from\x20','AMlcJ','19542782uLBsSP','AVuCm','none','khlVi','toLocaleTimeString','BYOJa','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','cFRQf','bAYfX','QiekX','sounds/beep.mp3','SOphT','jUDdU','mafYi','equalTo','qKlAQ','map','RINai','RlUuP','namePreview','lgNjl','RBqxB','error','floor','wWVMy','staticPasswordInput','onlineStatus','contains','split','2510838DVBGNE','XfOZM','TTIEZ','NcPJA','BOQAi','EfgCm','sidebarAvatarPreview','usernameHistory','digest','RTypU','<span\x20style=\x22color:darkred;font-weight:bold;\x22>[Admin]</span>','pPSqL','/typing/','QmLAl','sNtmQ','easy-chatroom.firebaseapp.com','moderators/','dev','Unknown','985049198428','PqtVo','\x27,\x2010)\x22>Mute\x2010m</button>','once','GNLcJ','Glepg','vhpgv','⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.\x20Remove\x20inappropriate\x20words.','oabTf','No\x20changes\x20yet','JymAa','bMbzG','DouRm','authAvatar','cjmlR','fDjUX','popstate','pxLcd','easy-chatroom','pausedOverlay','Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)','xrFyL','690779NnlYHr','✅\x20Profile\x20updated!\x20Please\x20reload.','authTitle','putangina','recordBtn','fHpyd','antispam','jyYsq','wvJgo','mute','SccqN','innerHTML','\x0aLast\x20Changed:\x20','title','profileUsernameInput','createElement','WGcaV','child_added','NLhVZ','KvwnZ','authPasswordConfirm','tangina','tabJC','admin','xGkGp','rRtLE','Xihmo','<span\x20style=\x22color:darkgreen;font-weight:bold;\x22>[Mod]</span>','IuVqX','<span\x20style=\x22margin-right:8px;\x22>👤</span>','4|2|3|0|1','click','val','XHnSM','userList','qPlKg','\x20in\x20room\x20','sender','passwordError','QevLt','key','SISJv','style','permission','VFcUm','1185276uJiCSI','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:5px;vertical-align:middle;\x22>','bobo','QvEnO','ServerValue','moderator','HrflS','mOVAn','passwordHash','pAZqn','\x20promoted\x20to\x20Admin!','iQJMO','JirCW','qtYxv','zVken','</div>','Please\x20enter\x20the\x20password.','Incorrect\x20password','active','limitToLast','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','nDXzD','/messages','start','easy-chatroom.firebasestorage.app','UyNry','includes','onloadend','Enter\x20your\x20new\x20username:','kKbzj','replace','KxiXy','Enter\x20a\x20valid\x20room\x20code','dvwUt','user','/paused','mediaDevices','dtodc','Failed\x20to\x20register\x20user\x20into\x20room.','Iskbr','\x0a\x20\x20\x20\x20\x20\x20</li>','050BBB66HH','LyyRC','\x22\x20style=\x22width:28px;height:28px;border-radius:50%;margin-right:8px;vertical-align:middle;\x22>','then','aYFix','toUpperCase','Type\x20a\x20message...','detail','puZJV','OfqQZ','XqaUy','innerText','chat_username','No\x20room\x20code\x20available\x20for\x20private\x20rooms','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','rooms/','<button\x20onclick=\x22promoteToAdmin(\x27','https://easy-chatroom-default-rtdb.firebaseio.com','hTAxU','messages','MVljx','random','profileDescriptionInput','some','mQXol','result','ulol','entries','from','xUqaa','2|5|1|3|0|4','bwisit','yPodl','/announcement','auth/','promote','audioBase64','evaFK','src','text','SfGlz','LSnST','DIIkj','doHYf','dVNuv','username','display','audio/webm','2px\x20solid\x20red','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','<button\x20onclick=\x22deleteUserMessages(\x27','profile_description','push','Enter\x20Announcement\x20Text:','getItem','gUkHs','AyeNv','GzquY','fdp','set','aUAFe','OYxst','Error\x20checking\x20username:','IAdyi','NQpzk','vDaaQ','gXjYk','Please\x20fill\x20all\x20fields.','Login','\x27)\x22>Promote\x20to\x20Moderator</button>','update','VbZGb','OflXX','\x27,\x205)\x22>Mute\x205m</button>','btCjm','PnPNw','ZgrPR','fyejM','trim','gyWLS','ixozJ','encode','BVaFb','aKQXL','EQBCM','appendChild','FYIJO','#00ff88','yRFZx','ScEOY','<small>','<br>','authScreen','AGQSY','CBKnC','Username\x20already\x20exists.','QLXoC','TIMESTAMP','audioUrl','oDZZq','dyURf','okIyF','ibdxp','URAkd','gago','input','uUxSk','preventDefault','tdppA','🔕\x20Disable\x20Notifications',')\x20New\x20message\x20•\x20','shit','DbZyR','onload','iLXpA','ULixt','bastard','orderByChild','subtle','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20👤\x20','antispamBlocked/','JLmCx','utvJR','SlJWK','readAsDataURL','getUserMedia','FBMBd','evHps','msg','onstop','Missing\x20room\x20or\x20user\x20information.','DEqOv','VuxIp','<button\x20onclick=\x22promoteToModerator(\x27','authPassword','profileScreen','deviceId','lastChanged','role','reload','❌\x20Username\x20already\x20taken.','DOMContentLoaded','ZSTwN','<li\x20style=\x22color:','DizmK','4531968iTZnmF','online','add','AWisn','concat','dFbtm','Please\x20enter\x20your\x20current\x20password.','4226525lDfPFt','oRIyw','notifToggleBtn','coño','lastOnline','<audio\x20controls\x20src=\x22','TLUxu','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','DPPBV','vLYpX','zCVCF','getElementById','tGgok','hidden','putang\x20ina','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','userSidebar','data:image/png;base64,','Room\x20password\x20not\x20set.\x20Cannot\x20join.','XskEp','<span\x20class=\x22sender-name\x22>','gilipollas','muted/','authUsername','NxcIH','unknown','<img\x20src=\x22','WFCnH','You\x20got\x20a\x20message\x20from\x20','MXaCJ','userDisplay','flex','Incorrect\x20password.','iukZR','toLowerCase','wRQLr','RBFHR','avatarBase64','authAvatarPreview','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','newPasswordInput','QaiSG','zCGeC','database','Uvqnp','border','msgInput','width','now','height','●\x20Online','exists','addEventListener','Enter','EnSXy','jrhty','disabled','substr','sCyxh','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','VSBek','New\x20Chat\x20Message','\x20deleted.','Register','xVtnx','Ddvnd','description','roomChoiceScreen','/avatarBase64','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','oldPasswordInput','<button\x20onclick=\x22muteUser(\x27','uBRxK','fwHHX'];_0x1aed=function(){return _0x7cc468;};return _0x1aed();}function genRoomCode(){const _0x123012=_0x339b03,_0x398ca4={'cjmlR':function(_0x453461,_0x2360ed){return _0x453461+_0x2360ed;},'uEZUZ':function(_0x27cc2c,_0x5c415a,_0x39b52b){return _0x27cc2c(_0x5c415a,_0x39b52b);},'VYXxh':function(_0xc915a,_0xf98b6b,_0x482bd6){return _0xc915a(_0xf98b6b,_0x482bd6);},'vrKgZ':function(_0x2052d2,_0x240482,_0x396123){return _0x2052d2(_0x240482,_0x396123);}},_0x4aedcc='ABCDEFGHIJKLMNOPQRSTUVWXYZ',_0xc30d7d='0123456789',_0x29a946=(_0x3836a9,_0x184bca)=>Array[_0x123012(0xa3)]({'length':_0x184bca},()=>_0x3836a9[Math[_0x123012(0x229)](Math[_0x123012(0x9c)]()*_0x3836a9[_0x123012(0x19c)])])[_0x123012(0x198)]('');return _0x398ca4[_0x123012(0x250)](_0x398ca4[_0x123012(0x250)](_0x398ca4[_0x123012(0x250)](_0x398ca4[_0x123012(0x18b)](_0x29a946,_0xc30d7d,0x3),_0x398ca4['VYXxh'](_0x29a946,_0x4aedcc,0x3)),_0x398ca4['vrKgZ'](_0x29a946,_0xc30d7d,0x2)),_0x29a946(_0x4aedcc,0x2));}function startInactivityTimer(){const _0x23c00b=_0x339b03,_0x4582f0={'KLZQm':function(_0x264b60,_0x545c9d){return _0x264b60>_0x545c9d;},'aUAFe':function(_0x1a5ba0,_0x5a749e){return _0x1a5ba0*_0x5a749e;},'vLYpX':function(_0x3c50ae,_0x794fcf){return _0x3c50ae+_0x794fcf;},'TNeaK':_0x23c00b(0x96),'GNLcJ':function(_0xe3b6a5,_0x45a2dd){return _0xe3b6a5(_0x45a2dd);},'syVZJ':_0x23c00b(0x1f5),'fyejM':function(_0x5bf5d7,_0x4e3fca,_0x2776f3){return _0x5bf5d7(_0x4e3fca,_0x2776f3);}};_0x4582f0[_0x23c00b(0xd4)](setInterval,()=>{const _0x55095c=_0x23c00b;_0x4582f0['KLZQm'](Date[_0x55095c(0x14f)]()-lastActivity,_0x4582f0[_0x55095c(0xc3)](0x5*0x3c,0x3e8))&&roomCode!==STATIC_ROOM&&(db['ref'](_0x4582f0[_0x55095c(0x128)](_0x4582f0['TNeaK'],roomCode))[_0x55095c(0xcd)]({'active':![]}),_0x4582f0[_0x55095c(0x246)](alert,_0x4582f0['syVZJ']),location['reload']());},0x7530);}function setupSidebarBackHandler(){const _0x5357a0=_0x339b03,_0x528347={'AVuCm':_0x5357a0(0x12f),'DgmWX':'show','Glepg':_0x5357a0(0x252)};window[_0x5357a0(0x153)](_0x528347[_0x5357a0(0x247)],()=>{const _0x2f26af=_0x5357a0,_0x14650d=document[_0x2f26af(0x12a)](_0x528347[_0x2f26af(0x213)]);_0x14650d?.[_0x2f26af(0x204)][_0x2f26af(0x22d)](_0x528347[_0x2f26af(0x17e)])&&_0x14650d[_0x2f26af(0x204)][_0x2f26af(0x177)]('show');});}function toggleSidebar(){const _0x45c299=_0x339b03,_0x4dfc86={'EnSXy':_0x45c299(0x12f),'puZJV':'show'},_0x2d4854=document['getElementById'](_0x4dfc86[_0x45c299(0x155)]);if(!_0x2d4854[_0x45c299(0x204)][_0x45c299(0x22d)](_0x4dfc86[_0x45c299(0x8f)]))_0x2d4854[_0x45c299(0x204)]['add'](_0x4dfc86[_0x45c299(0x8f)]),history['pushState']({'sidebarOpen':!![]},'');else{_0x2d4854[_0x45c299(0x204)][_0x45c299(0x177)](_0x4dfc86[_0x45c299(0x8f)]);if(history[_0x45c299(0x1a3)]?.['sidebarOpen'])history['back']();}}function setupVisibilityAttention(){const _0x537e97=_0x339b03,_0xfa135e={'XCMrD':'visibilitychange'};let _0xa08a7b=0x0,_0x3637b9=document[_0x537e97(0x265)];document[_0x537e97(0x153)](_0xfa135e[_0x537e97(0x1f8)],()=>{const _0x1f7d7e=_0x537e97;!document[_0x1f7d7e(0x12c)]&&(document['title']=_0x3637b9,_0xa08a7b=0x0);}),window[_0x537e97(0x17b)]=function(){const _0x158f15=_0x537e97;document[_0x158f15(0x12c)]&&(_0xa08a7b++,document['title']='('+_0xa08a7b+_0x158f15(0xf5)+_0x3637b9);};}function tryEditProfile(){const _0xfe243e=_0x339b03;document[_0xfe243e(0x12a)]('editProfileScreen')[_0xfe243e(0x282)][_0xfe243e(0xb5)]=_0xfe243e(0x13e);}async function submitEditProfile(){const _0x231014=_0x339b03,_0x188827={'DizmK':_0x231014(0x165),'SfGlz':_0x231014(0x147),'ctdUl':'editProfileError','Eefsl':_0x231014(0x11e),'TlRaC':_0x231014(0x1fd),'WGcaV':function(_0x449cf3,_0x3d9dd4){return _0x449cf3(_0x3d9dd4);},'bzKxD':function(_0x1df15f,_0x4c102a){return _0x1df15f!==_0x4c102a;},'dNwOZ':function(_0x1c8eb6,_0x1026d3){return _0x1c8eb6*_0x1026d3;},'PnPNw':function(_0x2f0617,_0x40c7b6){return _0x2f0617*_0x40c7b6;},'bAYfX':function(_0x8cac93,_0x518627){return _0x8cac93*_0x518627;},'dyURf':function(_0xc01177,_0x5e4c43){return _0xc01177>_0x5e4c43;},'pCBSn':function(_0xfc39,_0x418630){return _0xfc39-_0x418630;},'WPHWt':_0x231014(0x256),'QaiSG':_0x231014(0x7a),'OflXX':function(_0x34390f,_0x2d7bbc){return _0x34390f(_0x2d7bbc);},'jrhty':function(_0x276473,_0x14f033){return _0x276473(_0x14f033);}},_0x44db21=document['getElementById'](_0x188827[_0x231014(0x117)])[_0x231014(0x1a8)],_0x5b69df=document['getElementById'](_0x188827[_0x231014(0xaf)])[_0x231014(0x1a8)],_0x3990ac=document[_0x231014(0x12a)](_0x231014(0x1c0))['value'][_0x231014(0xd5)](),_0xee065a=document[_0x231014(0x12a)](_0x188827[_0x231014(0x1ac)]);if(!_0x44db21){_0xee065a[_0x231014(0x92)]=_0x188827['Eefsl'],_0xee065a[_0x231014(0x282)][_0x231014(0xb5)]=_0x188827['TlRaC'];return;}const _0x382e1d=_0x188827[_0x231014(0x268)](sanitizeUsername,username),_0x2157f8=await db['ref'](_0x231014(0xa9)+_0x382e1d)['get']();if(!_0x2157f8[_0x231014(0x152)]()){_0xee065a[_0x231014(0x92)]=_0x231014(0x187),_0xee065a[_0x231014(0x282)][_0x231014(0xb5)]=_0x188827['TlRaC'];return;}const _0x42eec9=_0x2157f8[_0x231014(0x278)](),_0x3ba099=await sha256(_0x44db21);if(_0x188827[_0x231014(0x1e0)](_0x3ba099,_0x42eec9[_0x231014(0x66)])){_0xee065a[_0x231014(0x92)]='Incorrect\x20current\x20password.',_0xee065a['style']['display']=_0x188827['TlRaC'];return;}const _0x21cb1a={};if(_0x5b69df){const _0xf6166b=await _0x188827[_0x231014(0x268)](sha256,_0x5b69df);_0x21cb1a['passwordHash']=_0xf6166b;}_0x3990ac!==_0x42eec9[_0x231014(0x161)]&&(_0x21cb1a[_0x231014(0x161)]=_0x3990ac);const _0x2abafb=Date[_0x231014(0x14f)](),_0x4caf84=_0x188827[_0x231014(0x188)](_0x188827[_0x231014(0xd2)](_0x188827[_0x231014(0x21a)](0x18,0x3c),0x3c),0x3e8),_0x40c763=_0x188827[_0x231014(0xeb)](_0x188827['pCBSn'](_0x2abafb,_0x42eec9[_0x231014(0x110)]||0x0),_0x4caf84);if(_0x40c763&&confirm(_0x188827[_0x231014(0x1ea)])){const _0x13b6b1=prompt(_0x188827[_0x231014(0x148)]);_0x13b6b1&&_0x13b6b1[_0x231014(0xd5)]()&&(_0x21cb1a[_0x231014(0xb4)]=_0x13b6b1['trim'](),_0x21cb1a[_0x231014(0x236)]=(_0x42eec9['usernameHistory']||[])[_0x231014(0x11c)](_0x13b6b1['trim']()),_0x21cb1a[_0x231014(0x110)]=_0x2abafb);}_0x21cb1a[_0x231014(0xb4)]&&_0x188827[_0x231014(0x1e0)](_0x21cb1a[_0x231014(0xb4)],_0x42eec9[_0x231014(0xb4)])?(await db['ref'](_0x231014(0xa9)+_0x188827[_0x231014(0xcf)](sanitizeUsername,_0x21cb1a[_0x231014(0xb4)]))['set']({..._0x42eec9,..._0x21cb1a}),await db[_0x231014(0x1d9)](_0x231014(0xa9)+_0x382e1d)[_0x231014(0x177)](),username=_0x21cb1a[_0x231014(0xb4)]):await db[_0x231014(0x1d9)](_0x231014(0xa9)+_0x382e1d)[_0x231014(0xcd)](_0x21cb1a),_0x188827[_0x231014(0x156)](alert,_0x231014(0x259)),location[_0x231014(0x112)]();}function _0xf6af(_0xddf68d,_0x1e5d3b){const _0x1aed4c=_0x1aed();return _0xf6af=function(_0xf6af1d,_0x47e2fb){_0xf6af1d=_0xf6af1d-0x65;let _0x473bdf=_0x1aed4c[_0xf6af1d];return _0x473bdf;},_0xf6af(_0xddf68d,_0x1e5d3b);}function cancelEditProfile(){const _0x54969f=_0x339b03,_0x139776={'uUxSk':_0x54969f(0x214),'NLhVZ':function(_0xdd9608,_0x4c0be6){return _0xdd9608(_0x4c0be6);},'MvXwN':_0x54969f(0x1ba)};document[_0x54969f(0x12a)]('editProfileScreen')[_0x54969f(0x282)][_0x54969f(0xb5)]=_0x139776[_0x54969f(0xf1)],_0x139776[_0x54969f(0x26a)](showScreen,_0x139776['MvXwN']);}function listenForUserList(){const _0x23b521=_0x339b03,_0x255b4f={'RTypU':function(_0x541954,_0x2c8875){return _0x541954<=_0x2c8875;},'iLXpA':function(_0x637c3f,_0x383dea){return _0x637c3f-_0x383dea;},'hTAxU':function(_0x46dca6,_0x599b35){return _0x46dca6*_0x599b35;},'dguZT':function(_0x4f6f8c,_0x592107){return _0x4f6f8c&&_0x592107;},'aktrO':function(_0x522510,_0x4cc0b0){return _0x522510(_0x4cc0b0);},'BtOYS':function(_0x42cb3d,_0x24226f){return _0x42cb3d(_0x24226f);},'mafYi':function(_0x517609,_0xc03b4,_0x3db36a,_0x38b11e){return _0x517609(_0xc03b4,_0x3db36a,_0x38b11e);},'xrFyL':_0x23b521(0x27a)};db[_0x23b521(0x1d9)](_0x23b521(0x203)+roomCode)['on']('value',_0x4be9f0=>{const _0x3614d7=_0x23b521,_0x20b07a={'FBMBd':function(_0x52c86b,_0x17b48c){return _0x52c86b-_0x17b48c;},'GrSIQ':function(_0x277006,_0x292160){const _0x12dcc1=_0xf6af;return _0x255b4f[_0x12dcc1(0x99)](_0x277006,_0x292160);},'tdppA':function(_0x15aa66,_0x24a1b7,_0x57e617,_0x305561){const _0x5b4815=_0xf6af;return _0x255b4f[_0x5b4815(0x21f)](_0x15aa66,_0x24a1b7,_0x57e617,_0x305561);}},_0x8797f=_0x4be9f0['val']()||{},_0x39a287=Date[_0x3614d7(0x14f)](),_0x4e3602={};Object[_0x3614d7(0xa2)](_0x8797f)[_0x3614d7(0x1ab)](([_0x51d76f,_0x1b2663])=>{const _0x1ad1c4=_0x3614d7,_0x5b3137=_0x20b07a[_0x1ad1c4(0x105)](_0x39a287,_0x1b2663['lastOnline'])<=_0x20b07a[_0x1ad1c4(0x196)](0x5*0x3c,0x3e8);(_0x1b2663['online']||_0x5b3137)&&(_0x4e3602[_0x51d76f]=_0x1b2663);}),userListReady=!![],pendingMessages[_0x3614d7(0x1ab)](({data:_0x45acaf,sent:_0xa85182,key:_0x53bdf6})=>{const _0xf7da27=_0x3614d7;_0x20b07a[_0xf7da27(0xf3)](addMessage,_0x45acaf,_0xa85182,_0x53bdf6);}),pendingMessages=[];const _0x2af863=Object[_0x3614d7(0x1a2)](_0x8797f)[_0x3614d7(0x222)](_0x3d2397=>{const _0x4c21a0=_0x3614d7,_0xd91bc2=_0x3d2397[_0x4c21a0(0x119)],_0x3c0ed5=_0x255b4f[_0x4c21a0(0x238)](_0x255b4f[_0x4c21a0(0xf9)](_0x39a287,_0x3d2397[_0x4c21a0(0x123)]),_0x255b4f['hTAxU'](0x1e,0x3c)*0x3e8);if(_0x255b4f['dguZT'](!_0xd91bc2,!_0x3c0ed5))return'';const _0x53b44b=_0xd91bc2?_0x4c21a0(0xde):'#888',_0x32afc5=_0xd91bc2?'🟢':'🕒',_0x3ff0a7=_0x3d2397[_0x4c21a0(0x144)]?'<img\x20src=\x22data:image/png;base64,'+_0x3d2397[_0x4c21a0(0x144)]+_0x4c21a0(0x286):'<span\x20style=\x22margin-right:5px;\x22>👤</span>',_0xd2b2cb=_0x3d2397[_0x4c21a0(0x26f)]?_0x4c21a0(0x1c3):'';return _0x4c21a0(0x116)+_0x53b44b+';cursor:pointer;display:flex;align-items:center;gap:6px;\x22\x20onclick=\x22viewProfile(\x27'+_0x255b4f['aktrO'](sanitizeUsername,_0x3d2397['username'])+_0x4c21a0(0x1d3)+_0x3ff0a7+_0x32afc5+'\x20'+_0x3d2397[_0x4c21a0(0xb4)]+'\x20'+_0x255b4f[_0x4c21a0(0x175)](getRoleTag,_0x255b4f[_0x4c21a0(0x16a)](sanitizeUsername,_0x3d2397[_0x4c21a0(0xb4)]))+_0x4c21a0(0x86);})[_0x3614d7(0x198)]('');document['getElementById'](_0x255b4f[_0x3614d7(0x257)])[_0x3614d7(0x263)]=_0x2af863;});}function sendTyping(_0x432ace=![]){const _0x17ea67=_0x339b03,_0x3a233a={'bMbzG':function(_0x559a49,_0x135b74){return _0x559a49(_0x135b74);},'DwLXu':function(_0x155733,_0x340122,_0x439b1b){return _0x155733(_0x340122,_0x439b1b);}};if(isBlocked)return;const _0x1683dc=_0x17ea67(0x96)+roomCode+_0x17ea67(0x23b)+clientId;_0x432ace?db[_0x17ea67(0x1d9)](_0x1683dc)[_0x17ea67(0x177)]():(db[_0x17ea67(0x1d9)](_0x1683dc)[_0x17ea67(0xc2)](username),_0x3a233a[_0x17ea67(0x24d)](clearTimeout,typingTimeout),typingTimeout=_0x3a233a['DwLXu'](setTimeout,()=>{const _0x3d7b23=_0x17ea67;db[_0x3d7b23(0x1d9)](_0x1683dc)[_0x3d7b23(0x177)]();},0xbb8));}function listenForTyping(){const _0x2cc2b5=_0x339b03,_0x1fcddb={'xVtnx':'typing'},_0x4cfee2=document[_0x2cc2b5(0x12a)](_0x1fcddb[_0x2cc2b5(0x15f)]);db[_0x2cc2b5(0x1d9)](_0x2cc2b5(0x96)+roomCode+'/typing')['on']('value',_0x16db8d=>{const _0x25faaa=_0x2cc2b5,_0x78bc06=_0x16db8d[_0x25faaa(0x278)]();if(!_0x78bc06)return _0x4cfee2[_0x25faaa(0x92)]='';const _0x33ddc6=Object[_0x25faaa(0x1a2)](_0x78bc06)['filter'](_0x14b0fe=>_0x14b0fe!==username);_0x4cfee2[_0x25faaa(0x92)]=_0x33ddc6['length']?_0x33ddc6[_0x25faaa(0x198)](',\x20')+'\x20typing...':'';});}function trackPresence(){const _0x73c4f6=_0x339b03,_0x29070b={'QvEnO':function(_0x193271){return _0x193271();},'tWHmm':function(_0x75b213,_0x31b377){return _0x75b213||_0x31b377;},'oIfir':function(_0x54f7e2,_0x213592){return _0x54f7e2(_0x213592);},'XHnSM':function(_0x25e491,_0x3404f6){return _0x25e491||_0x3404f6;},'Ddvnd':_0x73c4f6(0x1a8)};if(_0x29070b[_0x73c4f6(0x1e9)](!username,!roomCode))return;const _0x3f9c7c=_0x29070b[_0x73c4f6(0x185)](sanitizeUsername,username),_0x540d9f=db[_0x73c4f6(0x1d9)](_0x73c4f6(0x203)+roomCode+'/'+_0x3f9c7c),_0x262f94={'username':username,'avatarBase64':_0x29070b[_0x73c4f6(0x279)](avatarBase64,''),'description':userDescription||'','online':!![],'lastOnline':firebase[_0x73c4f6(0x14a)][_0x73c4f6(0x289)][_0x73c4f6(0xe8)]};db[_0x73c4f6(0x1d9)](_0x73c4f6(0x1f7)+roomCode+'/'+_0x3f9c7c)[_0x73c4f6(0x245)](_0x29070b[_0x73c4f6(0x160)])[_0x73c4f6(0x8a)](_0x4c377e=>{const _0x3e8c4a=_0x73c4f6;_0x4c377e[_0x3e8c4a(0x152)]()&&(_0x262f94[_0x3e8c4a(0x26f)]=!![]),_0x540d9f[_0x3e8c4a(0xc2)](_0x262f94),_0x540d9f[_0x3e8c4a(0x178)]()['update']({'online':![],'lastOnline':Date[_0x3e8c4a(0x14f)]()}),_0x29070b[_0x3e8c4a(0x288)](updateOnlineIndicator);});}function uploadSidebarAvatar(_0x42c83a){const _0x1b1562=_0x339b03,_0x52dfbb={'SccqN':_0x1b1562(0x235),'ZgrPR':_0x1b1562(0x1fd),'vhpgv':function(_0x559c65,_0x2a6a58){return _0x559c65(_0x2a6a58);},'nyOKV':'✅\x20Profile\x20picture\x20updated!','AuUmR':'⚠️\x20Failed\x20to\x20update\x20avatar.'};if(!_0x42c83a[_0x1b1562(0x184)][_0x1b1562(0x19c)])return;const _0x5c27dc=_0x42c83a[_0x1b1562(0x184)][0x0],_0x4226ec=new FileReader();_0x4226ec[_0x1b1562(0x79)]=async()=>{const _0xa98173=_0x1b1562,_0x1e2ed0=_0x4226ec[_0xa98173(0xa0)][_0xa98173(0x22e)](',')[0x1];document['getElementById']('sidebarAvatarPreview')['src']=_0x4226ec['result'],document['getElementById'](_0x52dfbb[_0xa98173(0x262)])[_0xa98173(0x282)]['display']=_0x52dfbb[_0xa98173(0xd3)];try{const _0x341bf5=_0x52dfbb[_0xa98173(0x248)](sanitizeUsername,username);await db[_0xa98173(0x1d9)]('auth/'+_0x341bf5+_0xa98173(0x163))[_0xa98173(0xc2)](_0x1e2ed0),_0x52dfbb['vhpgv'](alert,_0x52dfbb[_0xa98173(0x182)]);}catch(_0x2d2326){console[_0xa98173(0x228)](_0x2d2326),_0x52dfbb[_0xa98173(0x248)](alert,_0x52dfbb[_0xa98173(0x1c9)]);}},_0x4226ec[_0x1b1562(0x103)](_0x5c27dc);}function muteUser(_0x122095,_0x23832f){const _0x39986a=_0x339b03,_0x13a0e3={'EfgCm':_0x39986a(0x1d7),'TShDi':function(_0x4124d1,_0x28b37e){return _0x4124d1+_0x28b37e;},'FBZGA':function(_0x2b7284,_0x4afc29){return _0x2b7284*_0x4afc29;},'Xqvjg':function(_0x40a652,_0x39cad7){return _0x40a652*_0x39cad7;},'JlBQC':function(_0x29baf8,_0x59e2dc){return _0x29baf8(_0x59e2dc);}};if(!isRoomAdmin)return alert(_0x13a0e3[_0x39986a(0x234)]);const _0x28986f=_0x13a0e3[_0x39986a(0x1c2)](Date[_0x39986a(0x14f)](),_0x13a0e3['FBZGA'](_0x13a0e3['Xqvjg'](_0x23832f,0x3c),0x3e8));db[_0x39986a(0x1d9)](_0x39986a(0x135)+roomCode+'/'+_0x13a0e3['JlBQC'](sanitizeUsername,_0x122095))[_0x39986a(0xc2)](_0x28986f);}function unmuteUser(_0xbbff52){const _0x537c97=_0x339b03,_0x1c5bb3={'uTdTg':function(_0x5e6fcb,_0x15032f){return _0x5e6fcb(_0x15032f);},'ABdSj':function(_0xb66ee2,_0x4bd1e9){return _0xb66ee2(_0x4bd1e9);}};if(!isRoomAdmin)return _0x1c5bb3['uTdTg'](alert,_0x537c97(0x1d7));db['ref']('muted/'+roomCode+'/'+_0x1c5bb3['ABdSj'](sanitizeUsername,_0xbbff52))[_0x537c97(0x177)]();}function updateOnlineIndicator(){const _0xf08dfd=_0x339b03,_0x3d7ca4={'RlUuP':_0xf08dfd(0x22c),'RVoIO':_0xf08dfd(0x151),'JHyXK':_0xf08dfd(0xde)},_0x3fccad=document[_0xf08dfd(0x12a)](_0x3d7ca4[_0xf08dfd(0x224)]);_0x3fccad['innerText']=_0x3d7ca4['RVoIO'],_0x3fccad[_0xf08dfd(0x282)]['color']=_0x3d7ca4['JHyXK'];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x87c3eb){const _0x2647e0=_0x339b03,_0x556400={'iukZR':_0x2647e0(0x187),'hUabN':_0x2647e0(0x24b),'wLhXi':_0x2647e0(0x241),'KxiXy':_0x2647e0(0x1e7),'vJVkx':_0x2647e0(0x180)};db[_0x2647e0(0x1d9)](_0x2647e0(0xa9)+_0x87c3eb)[_0x2647e0(0x1da)]()[_0x2647e0(0x8a)](_0x5e5a96=>{const _0x44140f=_0x2647e0;if(!_0x5e5a96['exists']())return alert(_0x556400[_0x44140f(0x140)]);const _0x27d79a=_0x5e5a96[_0x44140f(0x278)](),_0xb390cf=('\x0aName:\x20'+_0x27d79a[_0x44140f(0xb4)]+_0x44140f(0x197)+(_0x27d79a['description']||_0x44140f(0x1ff))+'\x0aUsername\x20History:\x20'+((_0x27d79a[_0x44140f(0x236)]||[])['join'](',\x20')||_0x556400['hUabN'])+_0x44140f(0x264)+(_0x27d79a[_0x44140f(0x110)]?new Date(_0x27d79a['lastChanged'])['toLocaleString']():_0x556400['wLhXi'])+'\x0a\x20\x20\x20\x20')['trim']();document[_0x44140f(0x12a)](_0x556400[_0x44140f(0x7d)])[_0x44140f(0x92)]=_0xb390cf,document['getElementById'](_0x556400[_0x44140f(0x20f)])[_0x44140f(0x282)][_0x44140f(0xb5)]=_0x44140f(0x1fd);});}function initUsernameFlow(){const _0x4d3137=_0x339b03,_0x40bbaf={'bUJac':_0x4d3137(0x93),'leDgW':_0x4d3137(0x10e),'IuVqX':_0x4d3137(0x162)},_0x23c39c=localStorage['getItem'](_0x40bbaf[_0x4d3137(0x1ee)]);!_0x23c39c?showScreen(_0x40bbaf[_0x4d3137(0x17c)]):(username=_0x23c39c,document[_0x4d3137(0x12a)](_0x4d3137(0x225))[_0x4d3137(0x92)]=username,showScreen(_0x40bbaf[_0x4d3137(0x274)]));}function closeProfile(){const _0x30e168=_0x339b03,_0x112549={'zCGeC':_0x30e168(0x180),'gAfSF':'none'};document[_0x30e168(0x12a)](_0x112549[_0x30e168(0x149)])[_0x30e168(0x282)][_0x30e168(0xb5)]=_0x112549['gAfSF'];}function resetWebsiteData(){const _0x2403d3=_0x339b03,_0x5cc277={'ywHkk':function(_0x458d64,_0x18bc96){return _0x458d64||_0x18bc96;},'BOQAi':_0x2403d3(0x1f6),'HrflS':function(_0x25844a,_0x504ec1){return _0x25844a+_0x504ec1;}};try{localStorage[_0x2403d3(0x1d4)](),sessionStorage[_0x2403d3(0x1d4)]();}catch(_0x4dbdc3){}if(_0x5cc277['ywHkk'](!username,!roomCode)){const _0x320ca3=_0x5cc277[_0x2403d3(0x233)][_0x2403d3(0x22e)]('|');let _0x1e75b9=0x0;while(!![]){switch(_0x320ca3[_0x1e75b9++]){case'0':username=null;continue;case'1':pendingMessages=[];continue;case'2':isRoomAdmin=![];continue;case'3':roomCode=null;continue;case'4':clientId=_0x5cc277[_0x2403d3(0x28b)]('_',Math[_0x2403d3(0x9c)]()[_0x2403d3(0x20b)](0x24)[_0x2403d3(0x158)](0x2,0x9));continue;}break;}}}function addAnnouncement(){const _0x337abb=_0x339b03,_0x4b394a={'XskEp':_0x337abb(0xbc)},_0x2ebe23=prompt(_0x4b394a[_0x337abb(0x132)]);if(!_0x2ebe23)return;db[_0x337abb(0x1d9)](_0x337abb(0x96)+roomCode+_0x337abb(0xa8))[_0x337abb(0xc2)]({'text':_0x2ebe23,'by':username,'timestamp':Date[_0x337abb(0x14f)]()});}function listenForAnnouncement(){const _0x44cff9=_0x339b03,_0x5409a5={'ScEOY':_0x44cff9(0x1bb)},_0x3dcffd=db[_0x44cff9(0x1d9)](_0x44cff9(0x96)+roomCode+'/announcement');_0x3dcffd['on']('value',_0x3843b5=>{const _0x2045e0=_0x44cff9,_0x1484fe=_0x3843b5['val']();if(!_0x1484fe){document[_0x2045e0(0x12a)](_0x5409a5[_0x2045e0(0xe0)])[_0x2045e0(0x92)]='';return;}const _0x8f270d=document[_0x2045e0(0x12a)](_0x5409a5['ScEOY']);_0x8f270d[_0x2045e0(0x92)]=''+_0x1484fe[_0x2045e0(0xae)];});}document['getElementById']('announcementArea')[_0x339b03(0x153)](_0x339b03(0x277),_0x4a6c95=>{const _0x1103f2=_0x339b03,_0x262b61={'PtrAo':function(_0x3be20a,_0x53e54f){return _0x3be20a(_0x53e54f);},'nDXzD':'Remove\x20Announcement?'};_0x4a6c95[_0x1103f2(0x8e)]===0x3&&isRoomAdmin&&(_0x262b61['PtrAo'](confirm,_0x262b61[_0x1103f2(0x73)])&&db[_0x1103f2(0x1d9)](_0x1103f2(0x96)+roomCode+_0x1103f2(0xa8))[_0x1103f2(0x177)]());}),document['getElementById'](_0x339b03(0x14d))['addEventListener'](_0x339b03(0xf0),()=>{const _0x3cab90=_0x339b03,_0x8c0aaa={'BVaFb':'sendBtn','VinZj':_0x3cab90(0xb7)},_0x5af327=document[_0x3cab90(0x12a)](_0x3cab90(0x14d)),_0x1a9565=document[_0x3cab90(0x12a)](_0x8c0aaa[_0x3cab90(0xd9)]),_0xa27483=_0x5af327['value']['toLowerCase'](),_0x57d0fd=swearWords['some'](_0x434231=>_0xa27483[_0x3cab90(0x78)](_0x434231));_0x57d0fd?(_0x5af327[_0x3cab90(0x282)][_0x3cab90(0x14c)]=_0x8c0aaa['VinZj'],_0x1a9565[_0x3cab90(0x157)]=!![]):(_0x5af327[_0x3cab90(0x282)][_0x3cab90(0x14c)]='',_0x1a9565[_0x3cab90(0x157)]=![]);});function muteUser(_0x96d3d3,_0x517916){const _0x3b4149=_0x339b03,_0x5c17e9={'yPodl':function(_0xbe638c,_0x582117){return _0xbe638c(_0x582117);},'dFbtm':function(_0x218ebe,_0x308f6f){return _0x218ebe+_0x308f6f;},'xUqaa':function(_0x53ab59,_0x4460bc){return _0x53ab59(_0x4460bc);}},_0xf91c7a=_0x5c17e9[_0x3b4149(0x11d)](Date[_0x3b4149(0x14f)](),_0x517916*0x3c*0x3e8);db[_0x3b4149(0x1d9)](_0x3b4149(0x135)+roomCode+'/'+_0x5c17e9[_0x3b4149(0xa4)](sanitizeUsername,_0x96d3d3))[_0x3b4149(0xc2)]({'muteUntil':_0xf91c7a})[_0x3b4149(0x8a)](()=>{const _0x5e5368=_0x3b4149;_0x5c17e9[_0x5e5368(0xa7)](alert,_0x96d3d3+'\x20muted\x20for\x20'+_0x517916+_0x5e5368(0x192));});}function deleteUserMessages(_0x112a54){const _0x1b17b6=_0x339b03,_0x15e83f={'oRIyw':function(_0x78fb7b,_0x33021b){return _0x78fb7b(_0x33021b);}};db[_0x1b17b6(0x1d9)](_0x1b17b6(0x96)+roomCode+'/messages')[_0x1b17b6(0xfc)]('sender')[_0x1b17b6(0x220)](_0x112a54)[_0x1b17b6(0x1da)]()[_0x1b17b6(0x8a)](_0x42724a=>{const _0x1badb7=_0x1b17b6;_0x42724a[_0x1badb7(0x1ab)](_0x137fb5=>{const _0x2de7ae=_0x1badb7;db['ref'](_0x2de7ae(0x96)+roomCode+_0x2de7ae(0x1bd)+_0x137fb5[_0x2de7ae(0x280)])[_0x2de7ae(0x177)]();}),_0x15e83f[_0x1badb7(0x120)](alert,'Messages\x20by\x20'+_0x112a54+_0x1badb7(0x15d));});}function pauseRoom(_0x3cc406){const _0x16104b=_0x339b03,_0x2b4aa9={'KOXES':'block','MXaCJ':_0x16104b(0x214)};db[_0x16104b(0x1d9)](_0x16104b(0x96)+roomCode+_0x16104b(0x81))['on'](_0x16104b(0x1a8),_0x5de0ad=>{const _0x450855=_0x16104b,_0x85faf=_0x5de0ad[_0x450855(0x278)]();document[_0x450855(0x12a)](_0x450855(0x255))['style'][_0x450855(0xb5)]=_0x85faf?_0x2b4aa9['KOXES']:_0x2b4aa9[_0x450855(0x13c)];});}function canPerformAction(_0x5e4b2a){const _0x169c35=_0x339b03,_0x3df80a={'IqHaY':function(_0x4c0df0,_0x3564cb){return _0x4c0df0===_0x3564cb;},'JLmCx':'dev','qtYxv':'mute','fHpyd':function(_0x49f551,_0x40eb36){return _0x49f551===_0x40eb36;},'bQlmR':'deleteMessage','eLJVN':_0x169c35(0x26f),'TTIEZ':function(_0x2caaec,_0x39e9a3){return _0x2caaec===_0x39e9a3;},'dtodc':_0x169c35(0x28a),'qPlKg':_0x169c35(0xaa),'NcPJA':function(_0x380a3a,_0x2af105){return _0x380a3a===_0x2af105;}};if(_0x3df80a[_0x169c35(0x19d)](role,_0x3df80a[_0x169c35(0x100)]))return!![];if(_0x3df80a[_0x169c35(0x19d)](_0x5e4b2a,_0x3df80a[_0x169c35(0x6b)])||_0x3df80a[_0x169c35(0x25d)](_0x5e4b2a,_0x3df80a[_0x169c35(0x190)]))return _0x3df80a['fHpyd'](role,_0x3df80a[_0x169c35(0x1c4)])||_0x3df80a[_0x169c35(0x231)](role,_0x3df80a[_0x169c35(0x83)]);if(_0x3df80a[_0x169c35(0x231)](_0x5e4b2a,_0x3df80a[_0x169c35(0x27b)]))return _0x3df80a[_0x169c35(0x232)](role,_0x3df80a['eLJVN']);return![];}const html=Object[_0x339b03(0x1a2)](activeUsers)[_0x339b03(0x222)](_0x3f828d=>{const _0x197224=_0x339b03,_0x448c07={'iQJMO':function(_0x16f053,_0x282f80){return _0x16f053(_0x282f80);},'PjULN':function(_0x451f3f,_0x2b0c54){return _0x451f3f(_0x2b0c54);},'ZSTwN':_0x197224(0x261),'vDaaQ':_0x197224(0x1bf),'OYxst':_0x197224(0x240),'NyOSm':function(_0x32ab43,_0x1c4656){return _0x32ab43===_0x1c4656;},'GXCTW':_0x197224(0x26f),'CuFYo':function(_0x3b3ba3,_0x57be43){return _0x3b3ba3(_0x57be43);}},_0x1ebf07=_0x448c07[_0x197224(0x69)](sanitizeUsername,_0x3f828d['username']),_0x4630fd=[];if(_0x1ebf07!==sanitizeUsername(username)){_0x448c07[_0x197224(0x19f)](canPerformAction,_0x448c07[_0x197224(0x115)])&&(_0x4630fd[_0x197224(0xbb)](_0x197224(0x166)+_0x1ebf07+_0x197224(0xd0)),_0x4630fd[_0x197224(0xbb)](_0x197224(0x166)+_0x1ebf07+_0x197224(0x244)));_0x448c07[_0x197224(0x19f)](canPerformAction,_0x448c07[_0x197224(0xc8)])&&_0x4630fd[_0x197224(0xbb)](_0x197224(0xb9)+_0x1ebf07+'\x27)\x22>Delete\x20Messages</button>');if(role===_0x448c07[_0x197224(0xc4)])_0x4630fd[_0x197224(0xbb)]('<button\x20onclick=\x22promoteToModerator(\x27'+_0x1ebf07+_0x197224(0xcc)),_0x4630fd[_0x197224(0xbb)](_0x197224(0x97)+_0x1ebf07+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x448c07['NyOSm'](role,_0x448c07[_0x197224(0x1ad)])&&_0x4630fd['push'](_0x197224(0x10c)+_0x1ebf07+_0x197224(0xcc));}return _0x197224(0xfe)+_0x3f828d[_0x197224(0xb4)]+'\x20'+_0x448c07[_0x197224(0x69)](getRoleTag,_0x448c07[_0x197224(0x191)](sanitizeUsername,_0x3f828d[_0x197224(0xb4)]))+'\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-'+_0x1ebf07+'\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4630fd[_0x197224(0x198)]('')+_0x197224(0x218)+_0x1ebf07+'\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>';})[_0x339b03(0x198)]('');function promoteToModerator(_0x575412){const _0x3a1d07=_0x339b03,_0x40f208={'mQXol':function(_0x378e85,_0x45c140){return _0x378e85(_0x45c140);},'clVNt':function(_0x476c04,_0x3a3dc7){return _0x476c04!==_0x3a3dc7;},'RqgnB':_0x3a1d07(0x240),'pAZqn':_0x3a1d07(0x146)};if(_0x40f208[_0x3a1d07(0x1fc)](role,_0x40f208[_0x3a1d07(0x1cc)])&&_0x40f208[_0x3a1d07(0x1fc)](role,'admin')){_0x40f208[_0x3a1d07(0x9f)](alert,_0x40f208[_0x3a1d07(0x67)]);return;}db[_0x3a1d07(0x1d9)]('moderators/'+roomCode+'/'+sanitizeUsername(_0x575412))['set'](!![])[_0x3a1d07(0x8a)](()=>{const _0x2bfe0f=_0x3a1d07;_0x40f208[_0x2bfe0f(0x9f)](alert,_0x575412+'\x20promoted\x20to\x20Moderator!');});}function promoteToAdmin(_0x1b3468){const _0x51a792=_0x339b03,_0x2c16d8={'MkyCx':'dev','cFRQf':function(_0x2f788e,_0x3a4d70){return _0x2f788e(_0x3a4d70);}};if(role!==_0x2c16d8['MkyCx']){_0x2c16d8[_0x51a792(0x219)](alert,_0x51a792(0x209));return;}db[_0x51a792(0x1d9)]('admins/'+roomCode+'/'+_0x2c16d8['cFRQf'](sanitizeUsername,_0x1b3468))['set'](!![])[_0x51a792(0x8a)](()=>{const _0x2989fa=_0x51a792;alert(_0x1b3468+_0x2989fa(0x68));});}function toggleUserOptions(_0x4b812b){const _0x4063b3=_0x339b03,_0x28de87={'jcEyG':function(_0x2daff7,_0x451406){return _0x2daff7===_0x451406;},'tUxzW':_0x4063b3(0x214)},_0x3aa18a=document[_0x4063b3(0x12a)](_0x4063b3(0x1c7)+_0x4b812b);_0x28de87[_0x4063b3(0x1ec)](_0x3aa18a[_0x4063b3(0x282)][_0x4063b3(0xb5)],_0x28de87[_0x4063b3(0x16f)])?_0x3aa18a['style']['display']=_0x4063b3(0x1fd):_0x3aa18a[_0x4063b3(0x282)][_0x4063b3(0xb5)]=_0x28de87[_0x4063b3(0x16f)];}function getRoleTag(_0x46630c){const _0x4a8ca4=_0x339b03;if(globalDevs[_0x4a8ca4(0x78)](_0x46630c))return'<span\x20style=\x22color:darkblue;font-weight:bold;\x22>[Dev]</span>';if(roomAdmins[_0x4a8ca4(0x78)](_0x46630c))return _0x4a8ca4(0x239);if(roomModerators[_0x4a8ca4(0x78)](_0x46630c))return _0x4a8ca4(0x273);return'';}async function loadRoomRoles(){const _0x563ccc=_0x339b03,_0x367514={'BYaVs':function(_0x483ad2,_0x14748b){return _0x483ad2===_0x14748b;},'HIUQC':function(_0x9fb966,_0x122318){return _0x9fb966(_0x122318);},'avcke':'auth'};globalDevs=[],roomAdmins=[],roomModerators=[];const _0x487657=_0x367514[_0x563ccc(0x1bc)](sanitizeUsername,username),_0x25d6b7=await db[_0x563ccc(0x1d9)](_0x367514[_0x563ccc(0x1b5)])[_0x563ccc(0x1da)]();_0x25d6b7[_0x563ccc(0x152)]()&&_0x25d6b7[_0x563ccc(0x1ab)](_0x39ae20=>{const _0x163808=_0x563ccc;_0x367514[_0x163808(0x1c8)](_0x39ae20[_0x163808(0x278)]()[_0x163808(0x111)],'dev')&&globalDevs[_0x163808(0xbb)](_0x39ae20[_0x163808(0x280)]);});const _0x2b5efa=await db[_0x563ccc(0x1d9)](_0x563ccc(0x1f7)+roomCode)[_0x563ccc(0x1da)]();_0x2b5efa[_0x563ccc(0x152)]()&&_0x2b5efa[_0x563ccc(0x1ab)](_0x1c66e3=>{const _0x2ccb8a=_0x563ccc;roomAdmins['push'](_0x1c66e3[_0x2ccb8a(0x280)]);});const _0x4702c3=await db[_0x563ccc(0x1d9)](_0x563ccc(0x23f)+roomCode)[_0x563ccc(0x1da)]();_0x4702c3['exists']()&&_0x4702c3[_0x563ccc(0x1ab)](_0x33922f=>{const _0xe01097=_0x563ccc;roomModerators[_0xe01097(0xbb)](_0x33922f[_0xe01097(0x280)]);});}