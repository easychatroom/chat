const _0x4260f6=_0x232c;(function(_0x473ca6,_0xb08b2e){const _0x343b1c=_0x232c,_0x3db9b8=_0x473ca6();while(!![]){try{const _0x3beb32=-parseInt(_0x343b1c(0x1a2))/0x1+parseInt(_0x343b1c(0xcd))/0x2*(parseInt(_0x343b1c(0x196))/0x3)+-parseInt(_0x343b1c(0x1e1))/0x4+-parseInt(_0x343b1c(0x2da))/0x5*(-parseInt(_0x343b1c(0x32a))/0x6)+-parseInt(_0x343b1c(0xac))/0x7+parseInt(_0x343b1c(0x332))/0x8*(parseInt(_0x343b1c(0x202))/0x9)+parseInt(_0x343b1c(0x226))/0xa*(parseInt(_0x343b1c(0x1ca))/0xb);if(_0x3beb32===_0xb08b2e)break;else _0x3db9b8['push'](_0x3db9b8['shift']());}catch(_0x769b7b){_0x3db9b8['push'](_0x3db9b8['shift']());}}}(_0x295e,0x78901));const firebaseConfig={'apiKey':'AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','authDomain':_0x4260f6(0x330),'databaseURL':_0x4260f6(0x1a5),'projectId':'easy-chatroom','storageBucket':_0x4260f6(0x1b8),'messagingSenderId':_0x4260f6(0x2ad),'appId':'1:985049198428:web:d0eb7e2de39887710c9b99','measurementId':_0x4260f6(0xc8)};firebase[_0x4260f6(0x346)](firebaseConfig);const db=firebase['database']();let deviceId=null;((async()=>{const _0x369f90={'BBbok':function(_0x15dbf2){return _0x15dbf2();}};deviceId=await _0x369f90['BBbok'](generateDeviceId);})());const swearWords=[_0x4260f6(0x296),'shit',_0x4260f6(0x2df),_0x4260f6(0x27b),_0x4260f6(0x1fe),_0x4260f6(0x30e),_0x4260f6(0x270),_0x4260f6(0x26c),'mierda','pendejo',_0x4260f6(0x28d),'cabron',_0x4260f6(0xe3),_0x4260f6(0x2d5),_0x4260f6(0x117),_0x4260f6(0x14a),_0x4260f6(0x26c),_0x4260f6(0x20f),'otario','putangina',_0x4260f6(0xdf),_0x4260f6(0x1e7),_0x4260f6(0x31f),_0x4260f6(0x33c),'bwisit',_0x4260f6(0xb1)],userAvatars={};let globalDevs=[],roomAdmins=[],roomModerators=[],notificationsEnabled=![],notificationStack=[],notificationTimer=null,roomUsers={},userListReady=![],pendingMessages=[],messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math[_0x4260f6(0x29e)]()[_0x4260f6(0x2d9)](0x24)[_0x4260f6(0x27c)](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0x4260f6(0x1b2),MAX_MESSAGES=0xfa,sound=new Audio(_0x4260f6(0x21d));sound['volume']=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer,isRoomAdmin=![],isRegisterMode=![];async function generateDeviceId(){const _0x4cdd64=_0x4260f6,_0x190b74={'oYzYq':function(_0xd02143,_0x4f7e58){return _0xd02143+_0x4f7e58;},'nmVWZ':function(_0x592227,_0x4586f8){return _0x592227(_0x4586f8);},'PTSzZ':function(_0x35e844,_0x481def){return _0x35e844+_0x481def;}},_0x3261c1=_0x190b74[_0x4cdd64(0x2f7)](navigator['userAgent']+screen['width'],screen[_0x4cdd64(0x10b)]),_0x55f401=await _0x190b74[_0x4cdd64(0x27e)](sha256,_0x3261c1);return _0x190b74[_0x4cdd64(0xfd)]('_',_0x55f401[_0x4cdd64(0x27c)](0x0,0x14));}function sha256(_0x3bb54e){const _0x237b42=_0x4260f6,_0x1ea3af={'PJITa':_0x237b42(0x28e)},_0x348ebb=new TextEncoder()[_0x237b42(0x25d)](_0x3bb54e);return crypto[_0x237b42(0x221)][_0x237b42(0x301)](_0x1ea3af['PJITa'],_0x348ebb)[_0x237b42(0x325)](_0x200348=>{const _0x1809bd=_0x237b42;return Array['from'](new Uint8Array(_0x200348))[_0x1809bd(0x26b)](_0x233880=>_0x233880['toString'](0x10)[_0x1809bd(0x1e0)](0x2,'0'))[_0x1809bd(0x1dc)]('');});}function toggleNotifications(){const _0x7de1e6=_0x4260f6,_0x12834f={'iArJu':function(_0x36c142,_0x1d3a21){return _0x36c142===_0x1d3a21;},'lqUSs':_0x7de1e6(0x134),'uyKKN':_0x7de1e6(0x249),'HqFqh':_0x7de1e6(0x2bf),'IcstA':_0x7de1e6(0x24c),'feDme':function(_0x3f9915,_0x10ae6d){return _0x3f9915!==_0x10ae6d;},'qRIrg':_0x7de1e6(0x11b)};_0x12834f[_0x7de1e6(0x1e2)](Notification['permission'],_0x7de1e6(0x134))?Notification[_0x7de1e6(0x10c)]()[_0x7de1e6(0x325)](_0x1fb998=>{const _0x5029ce=_0x7de1e6;_0x12834f[_0x5029ce(0x16d)](_0x1fb998,_0x12834f[_0x5029ce(0x324)])&&(notificationsEnabled=!![],localStorage[_0x5029ce(0x328)](_0x12834f['uyKKN'],_0x12834f[_0x5029ce(0x240)]),document[_0x5029ce(0x13f)](_0x5029ce(0x288))['innerText']=_0x12834f[_0x5029ce(0x129)]);}):(notificationsEnabled=!notificationsEnabled,localStorage['setItem']('notifications_enabled',notificationsEnabled?_0x12834f['HqFqh']:_0x12834f['qRIrg']),document[_0x7de1e6(0x13f)](_0x7de1e6(0x288))['innerText']=notificationsEnabled?_0x12834f[_0x7de1e6(0x129)]:_0x7de1e6(0x340));}function toggleAuthMode(){const _0x3a80c0=_0x4260f6,_0x151199={'HnNzc':'authTitle','ydOZJ':_0x3a80c0(0x100),'Mlnec':'authPasswordConfirm','tSKXq':_0x3a80c0(0x19d),'dfSja':_0x3a80c0(0x1ff),'eIDgA':_0x3a80c0(0x32f),'eenQF':_0x3a80c0(0x14e),'edHYU':'authSubmitBtn','hnfiY':_0x3a80c0(0x2b6)};isRegisterMode=!isRegisterMode,document[_0x3a80c0(0x13f)](_0x151199['HnNzc'])[_0x3a80c0(0x119)]=isRegisterMode?_0x151199['ydOZJ']:_0x3a80c0(0x2b6),document[_0x3a80c0(0x13f)](_0x151199[_0x3a80c0(0x2d0)])[_0x3a80c0(0x35a)][_0x3a80c0(0x1f5)]=isRegisterMode?'block':_0x151199['tSKXq'],document[_0x3a80c0(0x13f)](_0x151199[_0x3a80c0(0x164)])[_0x3a80c0(0x35a)]['display']=isRegisterMode?_0x3a80c0(0x11d):_0x151199[_0x3a80c0(0x2fe)],document[_0x3a80c0(0x13f)](_0x151199[_0x3a80c0(0x2e0)])['style']['display']=isRegisterMode?'block':_0x3a80c0(0x19d),document['getElementById'](_0x151199[_0x3a80c0(0x2e2)])['style'][_0x3a80c0(0x1f5)]=_0x151199[_0x3a80c0(0x2fe)],document['getElementById'](_0x151199['edHYU'])[_0x3a80c0(0x119)]=isRegisterMode?_0x151199['ydOZJ']:_0x151199[_0x3a80c0(0xc0)],document[_0x3a80c0(0x13f)]('authError')[_0x3a80c0(0x35a)][_0x3a80c0(0x1f5)]=_0x151199[_0x3a80c0(0x2fe)];}function previewAvatar(){const _0x4570d2=_0x4260f6,_0x253caf={'dFmCB':_0x4570d2(0x14e),'VVOkJ':_0x4570d2(0x11d),'YqjuH':_0x4570d2(0x32f)},_0x491747=document[_0x4570d2(0x13f)](_0x253caf[_0x4570d2(0x24e)]);if(!_0x491747[_0x4570d2(0x293)][_0x4570d2(0x23c)])return;const _0x19b751=new FileReader();_0x19b751[_0x4570d2(0xb3)]=()=>{const _0x377ddd=_0x4570d2;document['getElementById'](_0x253caf['dFmCB'])[_0x377ddd(0xc4)]=_0x19b751[_0x377ddd(0x310)],document[_0x377ddd(0x13f)](_0x253caf[_0x377ddd(0xdb)])[_0x377ddd(0x35a)][_0x377ddd(0x1f5)]=_0x253caf[_0x377ddd(0x2e5)];},_0x19b751[_0x4570d2(0x291)](_0x491747['files'][0x0]);}async function submitAuth(){const _0x2386c4=_0x4260f6,_0x11dfed={'zAjXq':function(_0x44c123,_0x212ab0){return _0x44c123||_0x212ab0;},'OpDHc':_0x2386c4(0x211),'RLpfv':function(_0x3bf366){return _0x3bf366();},'jZXQN':_0x2386c4(0x182),'yLhKo':'authPasswordConfirm','VsBlv':_0x2386c4(0x1ff),'MsvaN':_0x2386c4(0x32f),'KTWRq':_0x2386c4(0x19d),'hLfph':_0x2386c4(0x17c),'HCahl':_0x2386c4(0x11d),'OocmD':function(_0x88203a,_0x54c71c){return _0x88203a(_0x54c71c);},'WehBL':_0x2386c4(0x2d6),'HwDKk':'2|3|0|4|5|1','DkFnt':function(_0x3001b9){return _0x3001b9();},'SpPRq':function(_0x49ef4d,_0x296c9f){return _0x49ef4d||_0x296c9f;},'TPKKD':'Account\x20not\x20found.','rCtTu':function(_0x260250,_0xb958c){return _0x260250!==_0xb958c;},'JtuJq':_0x2386c4(0x316),'SVluK':function(_0x3279ac){return _0x3279ac();}},_0x3ee19c=document[_0x2386c4(0x13f)]('authUsername')[_0x2386c4(0x18a)][_0x2386c4(0x18c)](),_0x242396=document[_0x2386c4(0x13f)](_0x11dfed[_0x2386c4(0x207)])['value'][_0x2386c4(0x18c)](),_0x56b3fa=document[_0x2386c4(0x13f)](_0x11dfed[_0x2386c4(0xf8)])[_0x2386c4(0x18a)][_0x2386c4(0x18c)](),_0x3c0885=document[_0x2386c4(0x13f)](_0x11dfed[_0x2386c4(0x2c9)])[_0x2386c4(0x18a)][_0x2386c4(0x18c)](),_0x14e8a7=document['getElementById'](_0x11dfed[_0x2386c4(0xda)]),_0x19b7b6=document[_0x2386c4(0x13f)](_0x2386c4(0x2d7));_0x19b7b6['style']['display']=_0x11dfed['KTWRq'];if(!_0x3ee19c||!_0x242396){_0x19b7b6[_0x2386c4(0x119)]=_0x11dfed['hLfph'],_0x19b7b6[_0x2386c4(0x35a)][_0x2386c4(0x1f5)]=_0x11dfed[_0x2386c4(0x23f)];return;}const _0x58ffa2=_0x11dfed[_0x2386c4(0x128)](sanitizeUsername,_0x3ee19c),_0x3c7523=db[_0x2386c4(0xe9)]('auth/'+_0x58ffa2),_0x571d3a=await _0x3c7523['get']();if(isRegisterMode){if(_0x571d3a[_0x2386c4(0x154)]()){_0x19b7b6['innerText']=_0x11dfed[_0x2386c4(0x1e5)],_0x19b7b6[_0x2386c4(0x35a)]['display']=_0x11dfed['HCahl'];return;}if(_0x242396!==_0x56b3fa){_0x19b7b6[_0x2386c4(0x119)]=_0x2386c4(0x1c6),_0x19b7b6[_0x2386c4(0x35a)][_0x2386c4(0x1f5)]=_0x11dfed[_0x2386c4(0x23f)];return;}const _0x1ebd50=await _0x11dfed[_0x2386c4(0x128)](sha256,_0x242396),_0x4e8b39=await _0x11dfed['RLpfv'](generateDeviceId);if(_0x14e8a7[_0x2386c4(0x293)][_0x2386c4(0x23c)]){const _0x5adfba=_0x14e8a7[_0x2386c4(0x293)][0x0],_0x3bc86f=new FileReader();_0x3bc86f[_0x2386c4(0xb3)]=async()=>{const _0x4839cd=_0x2386c4,_0x493584=_0x3bc86f['result']['split'](',')[0x1];await _0x3c7523[_0x4839cd(0xd0)]({'username':_0x3ee19c,'passwordHash':_0x1ebd50,'description':_0x11dfed[_0x4839cd(0x25e)](_0x3c0885,''),'avatarBase64':_0x493584,'role':_0x11dfed['OpDHc'],'deviceId':_0x4e8b39,'usernameHistory':[_0x3ee19c],'lastChanged':Date[_0x4839cd(0x22f)]()}),username=_0x3ee19c,userDescription=_0x3c0885,avatarBase64=_0x493584,role=_0x11dfed['OpDHc'],_0x11dfed[_0x4839cd(0xd2)](startAfterAuth);},_0x3bc86f[_0x2386c4(0x291)](_0x5adfba);}else{const _0x582c05=_0x11dfed[_0x2386c4(0x2ec)][_0x2386c4(0x2e9)]('|');let _0x352f18=0x0;while(!![]){switch(_0x582c05[_0x352f18++]){case'0':userDescription=_0x3c0885;continue;case'1':_0x11dfed['DkFnt'](startAfterAuth);continue;case'2':await _0x3c7523[_0x2386c4(0xd0)]({'username':_0x3ee19c,'passwordHash':_0x1ebd50,'description':_0x11dfed[_0x2386c4(0x232)](_0x3c0885,''),'avatarBase64':'','role':_0x11dfed[_0x2386c4(0x210)],'deviceId':_0x4e8b39,'usernameHistory':[_0x3ee19c],'lastChanged':Date['now']()});continue;case'3':username=_0x3ee19c;continue;case'4':avatarBase64='';continue;case'5':role=_0x11dfed[_0x2386c4(0x210)];continue;}break;}}}else{if(!_0x571d3a[_0x2386c4(0x154)]()){_0x19b7b6[_0x2386c4(0x119)]=_0x11dfed[_0x2386c4(0x2c4)],_0x19b7b6['style']['display']=_0x11dfed['HCahl'];return;}const _0x47e546=_0x571d3a[_0x2386c4(0x274)](),_0x5f1029=await _0x11dfed['OocmD'](sha256,_0x242396);if(_0x11dfed['rCtTu'](_0x5f1029,_0x47e546[_0x2386c4(0x14d)])){_0x19b7b6[_0x2386c4(0x119)]=_0x11dfed[_0x2386c4(0x2bc)],_0x19b7b6[_0x2386c4(0x35a)][_0x2386c4(0x1f5)]=_0x11dfed[_0x2386c4(0x23f)];return;}username=_0x3ee19c;if(_0x47e546[_0x2386c4(0x139)])userDescription=_0x47e546[_0x2386c4(0x139)];if(_0x47e546['avatarBase64'])avatarBase64=_0x47e546['avatarBase64'];if(_0x47e546[_0x2386c4(0x341)])role=_0x47e546['role'];else role=_0x11dfed['OpDHc'];_0x11dfed[_0x2386c4(0x23a)](startAfterAuth);}}async function saveNewUser(_0x2ac79d,_0x198452,_0x56c42c,_0x4c5ba2,_0x5a79e1){const _0x531dad=_0x4260f6,_0x4fe2fd={'yitEu':function(_0x27cbe8,_0x3b5788){return _0x27cbe8(_0x3b5788);},'ryAbr':'user','llUGf':function(_0x2aebc2,_0x4c93a3){return _0x2aebc2||_0x4c93a3;},'olRhB':function(_0x4db0fb){return _0x4db0fb();}},_0xde8711=db[_0x531dad(0xe9)](_0x531dad(0x17a)+_0x4fe2fd[_0x531dad(0x1da)](sanitizeUsername,_0x2ac79d)),_0x1fd088={'username':_0x2ac79d,'passwordHash':_0x198452,'role':_0x4fe2fd['ryAbr'],'deviceId':_0x56c42c,'description':_0x4fe2fd[_0x531dad(0x1c0)](_0x5a79e1,''),'avatarBase64':_0x4c5ba2||'','usernameHistory':[_0x2ac79d],'lastChanged':Date['now']()};await _0xde8711[_0x531dad(0xd0)](_0x1fd088),username=_0x2ac79d,_0x4c5ba2=_0x1fd088[_0x531dad(0x1d5)],userDescription=_0x1fd088['description'],_0x4fe2fd[_0x531dad(0x333)](startAfterAuth);}async function startAfterAuth(){const _0x183e9f=_0x4260f6,_0x4d0ad8={'GylUo':function(_0x31ed8c,_0x4f4e42){return _0x31ed8c(_0x4f4e42);},'TuaVK':'user','PGgJz':'sidebarAvatarPreview','fMutW':function(_0x139057,_0x2cafa6){return _0x139057+_0x2cafa6;},'UipyY':_0x183e9f(0x1b1),'mOYor':_0x183e9f(0x11d),'CzRaw':_0x183e9f(0x183),'aTkhT':function(_0x2c4c34){return _0x2c4c34();},'DAGvf':_0x183e9f(0x1cb),'btDUX':function(_0x1c7ff1,_0x143cde){return _0x1c7ff1(_0x143cde);},'jqZUQ':_0x183e9f(0x116)},_0x3905b7=_0x4d0ad8[_0x183e9f(0x268)](sanitizeUsername,username),_0x3e4f5c=db[_0x183e9f(0xe9)](_0x183e9f(0x17a)+_0x3905b7),_0x29f8e3=await _0x3e4f5c['get']();if(_0x29f8e3[_0x183e9f(0x154)]()){const _0x49b1ba=_0x29f8e3[_0x183e9f(0x274)]();username=_0x49b1ba[_0x183e9f(0x1d1)],userDescription=_0x49b1ba[_0x183e9f(0x139)]||'',avatarBase64=_0x49b1ba[_0x183e9f(0x1d5)]||'',role=_0x49b1ba[_0x183e9f(0x341)]||_0x4d0ad8[_0x183e9f(0xa1)];if(avatarBase64){const _0x4ff2ed=document[_0x183e9f(0x13f)](_0x4d0ad8['PGgJz']);_0x4ff2ed[_0x183e9f(0xc4)]=_0x4d0ad8[_0x183e9f(0x19c)](_0x4d0ad8[_0x183e9f(0x33b)],avatarBase64),_0x4ff2ed['style']['display']=_0x4d0ad8[_0x183e9f(0x213)];}}else console[_0x183e9f(0x238)](_0x4d0ad8['CzRaw']);await _0x4d0ad8['aTkhT'](loadRoomRoles),document[_0x183e9f(0x13f)](_0x4d0ad8[_0x183e9f(0x177)])[_0x183e9f(0x119)]=username,_0x4d0ad8[_0x183e9f(0x26a)](showScreen,_0x4d0ad8[_0x183e9f(0x2b4)]);}function toggleRecording(){const _0x2b5aa9=_0x4260f6,_0x4acc25={'DPcGq':function(_0x221166,_0x441613){return _0x221166(_0x441613);},'LaMjK':'audio/webm','hnuMS':function(_0x5014c6){return _0x5014c6();},'nijML':_0x2b5aa9(0x204),'VqovH':function(_0x4d0342,_0x33af72){return _0x4d0342(_0x33af72);},'ItuGT':'Microphone\x20permission\x20denied.','icIui':function(_0x12354c){return _0x12354c();}};isRecording?_0x4acc25['icIui'](stopRecording):navigator[_0x2b5aa9(0xe2)][_0x2b5aa9(0x2ab)]({'audio':!![]})[_0x2b5aa9(0x325)](_0x47c2e7=>{const _0x56fe2e=_0x2b5aa9;mediaRecorder=new MediaRecorder(_0x47c2e7),mediaRecorder[_0x56fe2e(0x33e)](),isRecording=!![],document[_0x56fe2e(0x13f)](_0x4acc25[_0x56fe2e(0x272)])[_0x56fe2e(0x119)]='⏹️',audioChunks=[],mediaRecorder[_0x56fe2e(0x209)]=_0x2e4f63=>audioChunks[_0x56fe2e(0x1d3)](_0x2e4f63[_0x56fe2e(0x303)]),mediaRecorder[_0x56fe2e(0x277)]=()=>{const _0x123cd9=_0x56fe2e;_0x4acc25[_0x123cd9(0x19e)](clearTimeout,recordingTimer);const _0x3e7926=new Blob(audioChunks,{'type':_0x4acc25[_0x123cd9(0x34c)]}),_0x51adcb=new FileReader();_0x51adcb[_0x123cd9(0xb3)]=()=>{const _0x5db90c=_0x123cd9,_0x3e1a4e=_0x51adcb['result'][_0x5db90c(0x2e9)](',')[0x1],_0x4004c6=db[_0x5db90c(0xe9)]()[_0x5db90c(0x1d3)]()['key'];db['ref'](_0x5db90c(0x2e7)+roomCode+_0x5db90c(0x106)+_0x4004c6)[_0x5db90c(0xd0)]({'msg':'[Voice\x20message]','audioBase64':_0x3e1a4e,'sender':username,'senderId':clientId,'timestamp':Date['now']()});},_0x51adcb[_0x123cd9(0x291)](_0x3e7926);},recordingTimer=setTimeout(()=>{const _0x708005=_0x56fe2e;mediaRecorder&&isRecording&&_0x4acc25[_0x708005(0xe1)](stopRecording);},0x4e20);})[_0x2b5aa9(0x28f)](_0x411b00=>{const _0x5dad27=_0x2b5aa9;_0x4acc25[_0x5dad27(0x336)](alert,_0x4acc25[_0x5dad27(0x11e)]);});}function stopRecording(){const _0x40723c=_0x4260f6,_0xbe945d={'kLJpo':function(_0xa1d24d,_0xf33b43){return _0xa1d24d&&_0xf33b43;},'hIOjM':'recordBtn','dwknZ':_0x40723c(0x18b)};_0xbe945d['kLJpo'](mediaRecorder,isRecording)&&(mediaRecorder['stop'](),isRecording=![],document['getElementById'](_0xbe945d[_0x40723c(0x24b)])[_0x40723c(0x119)]=_0xbe945d[_0x40723c(0x161)]);}window[_0x4260f6(0x25a)]=async()=>{const _0x16e5de=_0x4260f6,_0x2f547a={'CcwkM':function(_0x4cade8){return _0x4cade8();},'TIHSg':function(_0x11fbc8){return _0x11fbc8();},'ojwJv':function(_0x37ad62){return _0x37ad62();},'rUQiw':function(_0x7f3cf9,_0x1b8d68){return _0x7f3cf9===_0x1b8d68;},'ljrsS':_0x16e5de(0x2bf),'abVUb':'authScreen'};_0x2f547a[_0x16e5de(0x197)](cleanupOldRooms),_0x2f547a[_0x16e5de(0x12e)](setupSidebarBackHandler),setupVisibilityAttention(),_0x2f547a[_0x16e5de(0x141)](resetWebsiteData);const _0x556d37=localStorage[_0x16e5de(0x233)](_0x16e5de(0x249));notificationsEnabled=_0x2f547a['rUQiw'](_0x556d37,_0x2f547a[_0x16e5de(0x311)]),showScreen(_0x2f547a['abVUb']);};function sanitizeUsername(_0x48974c){const _0x5bd76e=_0x4260f6;return _0x48974c[_0x5bd76e(0x25b)](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3c4f7f=_0x4260f6,_0xbad96e={'fCTIC':_0x3c4f7f(0x1fd),'aMZrZ':_0x3c4f7f(0x11d),'AWKCU':_0x3c4f7f(0x19b),'KlHeP':_0x3c4f7f(0x1cb),'XbJsa':_0x3c4f7f(0x2fb),'Tufnm':_0x3c4f7f(0x2fd),'opHIO':_0x3c4f7f(0x297),'Ouhur':_0x3c4f7f(0x21e),'eifzR':_0x3c4f7f(0x352),'xzeGS':function(_0x1099b8,_0x569d76){return _0x1099b8||_0x569d76;},'Rfnju':_0x3c4f7f(0x171)},_0x124da5=document['getElementById'](_0xbad96e['opHIO'])[_0x3c4f7f(0x18a)][_0x3c4f7f(0x18c)](),_0x28973d=document[_0x3c4f7f(0x13f)](_0xbad96e[_0x3c4f7f(0xe0)])[_0x3c4f7f(0x18a)][_0x3c4f7f(0x18c)](),_0x4afd8c=document[_0x3c4f7f(0x13f)](_0xbad96e['eifzR']);if(_0xbad96e[_0x3c4f7f(0x31a)](!_0x124da5,!_0x28973d)){_0x4afd8c[_0x3c4f7f(0x119)]=_0xbad96e[_0x3c4f7f(0xca)],_0x4afd8c[_0x3c4f7f(0x35a)][_0x3c4f7f(0x1f5)]=_0x3c4f7f(0x11d);return;}const _0x21d97b=sanitizeUsername(_0x124da5),_0x4e93b2=db[_0x3c4f7f(0xe9)](_0x3c4f7f(0x1f6)+_0x21d97b);_0x4e93b2[_0x3c4f7f(0x1f7)](_0x3c4f7f(0x18a))[_0x3c4f7f(0x325)](_0x21736e=>{const _0x50cbea=_0x3c4f7f,_0x3cdb77={'PrqUL':_0xbad96e['fCTIC'],'TSzfI':_0x50cbea(0x2ce),'HHInN':_0xbad96e[_0x50cbea(0x1e3)],'qhVNt':_0xbad96e[_0x50cbea(0x18f)],'VbTpC':_0x50cbea(0x344),'HQobP':_0xbad96e['KlHeP'],'givrT':'roomChoiceScreen','RIWtZ':_0x50cbea(0x21f)};if(_0x21736e[_0x50cbea(0x154)]())_0x4afd8c['innerText']=_0xbad96e[_0x50cbea(0xbc)],_0x4afd8c[_0x50cbea(0x35a)][_0x50cbea(0x1f5)]=_0x50cbea(0x11d);else{const _0x406786={'username':_0x124da5,'description':_0x28973d,'lastChanged':Date['now'](),'usernameHistory':[_0x124da5]};_0x4e93b2[_0x50cbea(0xd0)](_0x406786,_0x4bf3bb=>{const _0x572387=_0x50cbea;if(_0x4bf3bb)console['error'](_0x3cdb77[_0x572387(0x2e8)],_0x4bf3bb),_0x4afd8c[_0x572387(0x119)]=_0x3cdb77['TSzfI'],_0x4afd8c[_0x572387(0x35a)][_0x572387(0x1f5)]=_0x3cdb77[_0x572387(0x298)];else{const _0x2daac4=_0x3cdb77['qhVNt'][_0x572387(0x2e9)]('|');let _0x146ae4=0x0;while(!![]){switch(_0x2daac4[_0x146ae4++]){case'0':localStorage['setItem'](_0x3cdb77[_0x572387(0x2cd)],_0x124da5);continue;case'1':username=_0x124da5;continue;case'2':document[_0x572387(0x13f)](_0x3cdb77[_0x572387(0x2e3)])[_0x572387(0x119)]=_0x124da5;continue;case'3':showScreen(_0x3cdb77[_0x572387(0xdd)]);continue;case'4':localStorage[_0x572387(0x328)](_0x3cdb77[_0x572387(0x16a)],_0x28973d);continue;}break;}}});}})['catch'](_0xd0f565=>{const _0x2fa28a=_0x3c4f7f;console['error'](_0xbad96e[_0x2fa28a(0x136)],_0xd0f565),_0x4afd8c[_0x2fa28a(0x119)]=_0x2fa28a(0x260),_0x4afd8c[_0x2fa28a(0x35a)][_0x2fa28a(0x1f5)]=_0xbad96e[_0x2fa28a(0x1e3)];});}function _0x232c(_0x410900,_0x3f892f){const _0x295e80=_0x295e();return _0x232c=function(_0x232c72,_0x14930a){_0x232c72=_0x232c72-0xa0;let _0x288c0e=_0x295e80[_0x232c72];return _0x288c0e;},_0x232c(_0x410900,_0x3f892f);}function saveProfile(_0x567afb,_0x2f7939,_0x578928){const _0x3a5465=_0x4260f6,_0x61ee5a={'urvVn':function(_0x3b6ad8,_0x183d37){return _0x3b6ad8(_0x183d37);},'KGQgi':_0x3a5465(0x116)},_0x1afeda=Date[_0x3a5465(0x22f)](),_0x3a0b6c=[_0x567afb];db['ref'](_0x3a5465(0x1f6)+_0x578928)[_0x3a5465(0xd0)]({'username':_0x567afb,'description':_0x2f7939,'lastChanged':_0x1afeda,'usernameHistory':_0x3a0b6c}),document[_0x3a5465(0x13f)](_0x3a5465(0x1cb))[_0x3a5465(0x119)]=_0x567afb,_0x61ee5a['urvVn'](showScreen,_0x61ee5a[_0x3a5465(0x279)]);}function generateRoom(){const _0x38fc43=_0x4260f6,_0x35f2d2={'UaXGc':function(_0x43d3ab,_0x52399f){return _0x43d3ab+_0x52399f;}};roomCode=genRoomCode(),db[_0x38fc43(0xe9)](_0x35f2d2[_0x38fc43(0xf0)](_0x38fc43(0x2e7),roomCode))[_0x38fc43(0xd0)]({'active':!![],'created':Date[_0x38fc43(0x22f)]()}),startChat();}function _0x295e(){const _0x4c32ef=['JtuJq','left','database','true','hpdvA','No\x20changes\x20yet','</div>\x0a\x20\x20\x20\x20\x20\x20</li>','uRVFm','TPKKD','nvalr','vaNXK','\x27,\x205)\x22>Mute\x205m</button>','audioBase64','VsBlv','EDqFb','[Voice\x20Message]','Type\x20a\x20message...','VbTpC','⚠️\x20Failed\x20to\x20save\x20profile.\x20Try\x20again.','EFoGP','Mlnec','Profile\x20not\x20found.','wVADx','placeholder','TdVZu','porra','Username\x20already\x20exists.','authError','fHKYf','toString','534560PWIMFs','gynwl','contains','show','userDisplay','bitch','eIDgA','cwLBM','eenQF','HQobP','You\x20got\x20a\x20message\x20from\x20','VVOkJ','rpVYb','rooms/','PrqUL','split','dTBXJ','\x0aUsername\x20History:\x20','HwDKk','RbvUr','EjSHe','ppuLs','xeeuM','zRmFC','dXwVc','Messages\x20by\x20','Enter\x20a\x20valid\x20room\x20code','rfYUN','VDuLv','oYzYq','xzcco','Missing\x20room\x20or\x20user\x20information.','adminControlsSection','❌\x20Username\x20already\x20taken.','\x22\x20style=\x22width:20px;height:20px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','Error\x20checking\x20username:','tSKXq','nfftk','mIflP','digest','codeEntryScreen','data','\x22\x20style=\x22width:100%;\x20max-width:100%;\x20margin-top:5px;\x22></audio>','margin','permission','\x20muted\x20for\x20','RaIUO','ytkbi','\x27)\x22>Demote</button>','\x20is\x20online','ylObO','<button\x20onclick=\x22muteUser(\x27','dick','PdNuC','result','ljrsS','bSipN','\x27,\x201)\x22>Mute\x201m</button>','jZlfU','vljUQ','Incorrect\x20password.','EwFCM','AVWua','moderators/','xzeGS','vajPF','18px','jwtJw','NsfYr','ulol','JeRHl','nandd','OklYD','equalTo','lqUSs','then','zbVIk','gYisb','setItem','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','6YtidMe','PHyWk','uEeiQ','users/','\x27)\x22\x20style=\x22background:none;border:none;color:#0ff;font-size:0.8rem;\x22>⚙️</button>\x0a\x20\x20\x20\x20</li>','authAvatar','easy-chatroom.firebaseapp.com','ZTBLZ','46032yPDZQG','olRhB','editBioInput','addAnnouncementBtn','VqovH','msg','cdyOq','3|2|4|1|0','qxZyK','UipyY','bobo','play','start','Admins\x20only.','🔔\x20Enable\x20Notifications','role','YCICT','zIndex','chat_username','eXPdD','initializeApp','<span\x20style=\x22color:darkgreen;\x22>[Mod]</span>','textContent','ghcup','6px\x20auto','key','LaMjK','sidebarAvatarPreview','update','EWrvt','Mzhkf','profileScreen','profileError','HmocV','WCRWD','\x27)\x22>','QApPh','<span\x20style=\x22color:darkblue;\x22>[Dev]</span>','JLoHr','sender','style','kuewA','ARWzh','KuvPO','mute','TuaVK','IhGcL','/reactions','PalsQ','hAmGf','\x20was\x20muted\x20for\x20','child_removed','textAlign','NzpHJ','remove','\x0a\x20\x20<button>❤️</button>\x0a\x20\x20<button>😂</button>\x0a\x20\x20<button>😮</button>\x0a\x20\x20<button>😢</button>\x0a\x20\x20<button>👎</button>\x0a','2832396tCXMOT','background','rooms','cErYw','WbulV','putang\x20ina','promote','onloadend','dcLYD','Incorrect\x20password','<span\x20style=\x22color:darkred;\x22>[Admin]</span>','rNzgY','Unknown','\x20was\x20promoted\x20to\x20Moderator','pblBn','bVLLR','XbJsa','vYPwA','/messages','nfiUM','hnfiY','userList','vxGuE','antispamBlocked/','src','top','sidebarOpen','nlqMu','G-QDESJ2WR42','4px\x206px','Rfnju','EbSbD','\x27)\x22>Promote\x20to\x20Moderator</button>','2390ByetBV','title','LaJSp','set','nXtZP','RLpfv','querySelector','⛔\x20You’ve\x20been\x20muted\x20for\x20spamming.\x20Please\x20wait\x2030\x20seconds.','cveWW','reaction-box','EycLz','\x20minutes','⛔\x20You\x20are\x20muted.','MsvaN','dFmCB','EHcpR','givrT','XtgNk','gago','Ouhur','hnuMS','mediaDevices','gilipollas','toLowerCase','kNkDH','IILDY','marginTop','\x27)\x22>Delete\x20Messages</button>','ref','DOMContentLoaded','usernameHistory','oldPasswordInput','VktbF','pointer','pausedOverlay','UaXGc','</span>','huwnl','zqKEQ','entries','/announcement','gQOEq','⚠️\x20Failed\x20to\x20update\x20avatar.','yLhKo','IjKCH','MfqNa','OiSnM','online','PTSzZ','passwordScreen','qAnSl','Register','swZhE','sDqcq','admins/','orderByChild','messages','/messages/','spxoj','KAlne','No\x20bio\x20set','edOvn','height','requestPermission','TCjph','JgrQt','yQbwJ','lxMWo','-35px','QhLCv','\x27)\x22>+Admin</button>','sIpWo','JIZbh','roomChoiceScreen','caralho','IOENc','innerText','classList','false','uOdew','block','ItuGT','VKUvH','active','toLocaleTimeString','iRTWu','dWwVQ','FGrcq','ToYou','WODDw','reaction-tray','OocmD','IcstA','YYsrk','<button\x20onclick=\x22promoteToAdmin(\x27','floor','KAoHg','TIHSg','\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22userOptions-','weeAE','admin','msgInput','MDdDT','granted','pwemS','Tufnm','RjADS','YVpct','description','2px\x20solid\x20red','staticPasswordInput','4px','tBuih','tmvGD','getElementById','AEWJo','ojwJv','nBYMA','className','profileViewer','nfeop','●\x20Online','dyEsk','sNYQN','BGgZv','merda','usernameScreen','Only\x20Devs\x20or\x20Admins\x20can\x20promote.','passwordHash','authAvatarPreview','filter','EuQzy','moderator','whWdk','kfUYq','exists','XSQYf','LuYGY','SWhSm','jayLu','clear','QQtrr','\x0a\x20\x20\x20\x20','LSafz','pexgh','tTjLo','VzGte','GxYad','dwknZ','content','profileContent','dfSja','ABCDEFGHIJKLMNOPQRSTUVWXYZ','Xsjce','hIOIs','ReCud','YyasE','RIWtZ','ZWsWE','roomStates/','iArJu','cDrvA','chatScreen','mouseleave','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','click','<li>','Loien','UoGPj','hyXjd','DAGvf','nvnOk','#00ff88','auth/','vJdva','Please\x20fill\x20in\x20all\x20fields.','all','GNLPF','aqygo','Room\x20password\x20not\x20set.\x20Cannot\x20join.','<span\x20class=\x22sender-name\x22>','authPassword','User\x20profile\x20not\x20found\x20in\x20auth\x20database.','<small>','\x27,\x2010)\x22>Mute\x2010m</button>','16px','VRMRa','editProfileScreen','</div>','value','🎙️','trim','\x20<span\x20style=\x22cursor:pointer;color:#00ffc3;\x22\x20onclick=\x22viewProfile(\x27','MfSua','AWKCU','sazub','vVQni','deleteMessage','toUpperCase','fcHdO','vFbyc','1581VyfRHz','CcwkM','EaZvF','\x0aDescription:\x20','WoRtZ','0|4|1|2|3','fMutW','none','DPcGq','ihccY','pNRdO','announcementArea','536904yRRAVE','vCUQW','QxsGy','https://easy-chatroom-default-rtdb.firebaseio.com','passwordError','position','borderRadius','HCkpt','center','OVnDW','touchstart','back','YoUoZ','\x20deleted.','WPrPJ','data:image/png;base64,','050BBB66HH','zzLdu','\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleUserOptions(\x27','forEach','ceAsu','received','easy-chatroom.firebasestorage.app','\x0a\x20\x20\x20\x20<li\x20style=\x22color:#0ff;\x22>\x0a\x20\x20\x20\x20\x20\x20',')\x20New\x20message\x20•\x20','YnOwl','xissC','EOVHA','https://upload.wikimedia.org/wikipedia/commons/8/8c/Speech_bubble_icon.svg','Xcddu','llUGf','\x22\x20class=\x22user-options\x22\x20style=\x22display:none;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','rhMNL','sent','WPCFV','</li>','Passwords\x20do\x20not\x20match.','QiTvg','get','<button\x20onclick=\x22demoteUser(\x27','3245OMbPoP','namePreview','\x20promoted\x20to\x20Moderator!','<span\x20style=\x22color:red;font-size:1rem;\x22>●</span>','IxUCa','scrollTop','createElement','username','nOqyy','push','typing/','avatarBase64','reload','Kfdtz','addEventListener','hidden','yitEu','padding','join','border','<span\x20style=\x22color:#0f0;font-size:1rem;\x22>●</span>','\x0a\x20\x20\x20\x20\x20\x20<li\x20style=\x22margin-bottom:10px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','padStart','3164332hcpgUD','feDme','aMZrZ','antispamBlocked','WehBL','PEdCJ','tangina','ikpEN','<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin-top:5px;\x22>','whfFZ','scrollHeight','\x0aName:\x20','appendChild','yXnGR','tSRtl','cFfoF','cQctU','ZOAXm','OsxCq','dev','display','profiles/','once','xqpbw','New\x20Chat\x20Message','onDisconnect','XGTPD','<audio\x20controls\x20src=\x22','Failed\x20to\x20save\x20profile:','bastard','authDescription','bGAnz','popstate','963wefIOK','No\x20room\x20code\x20available\x20for\x20private\x20rooms','recordBtn','oJwSn','disabled','jZXQN','UdveE','ondataavailable','UFfFJ','<span\x20style=\x22margin-right:6px;\x22>','OtiqB','2|1|4|3|0|5','🚫\x20Cannot\x20promote\x20Developers.','fdp','OpDHc','user','<img\x20src=\x22data:image/png;base64,','mOYor','Nrszo','includes','isArray','children','LKKNp','antispam','Failed\x20to\x20register\x20user\x20into\x20room.','</span>\x20','KUmst','sounds/beep.mp3','profileDescriptionInput','profile_description','from','subtle','szNRF','userSidebar','tPwXw','VSymR','29630rmCmtn','Enter\x20your\x20new\x20username:','add','bCskf','Only\x20Devs\x20can\x20promote\x20to\x20Admin.','ntmIB','state','qPKOU','Ibobp','now','\x22\x20style=\x22width:24px;height:24px;border-radius:50%;margin-right:6px;vertical-align:middle;\x22>','wLXDD','SpPRq','getItem','gr8stg/','\x20is\x20typing...','onlineStatus','PLwQw','warn','IAbRW','SVluK','DwCMz','length','1|4|2|0|3','exsCN','HCahl','HqFqh','auth','2-digit','CZOlI','dataset','avatar_base64','[Image]','hthsm','absolute','notifications_enabled','xSjZr','hIOjM','🔕\x20Disable\x20Notifications','yJjdu','YqjuH','/reactions/','SloGR','XlEfH','eJgMz','You\x20got\x20messages\x20from\x20','iOoPV','\x20in\x20room\x20','TIMESTAMP','innerHTML','DsjYz','JxyHK','onload','replace','\x22\x20style=\x22max-width:80%;height:auto;margin-top:5px;border-radius:10px;\x22\x20/>','encode','zAjXq','lastChanged','⚠️\x20Could\x20not\x20check\x20username.\x20Try\x20again.','LkNJq','values','flex','pHZnL','kvdbn','fmNeE','nXDDi','GylUo','\x27)\x22>+Mod</button>','btDUX','map','puta','YPmfu','<button\x20onclick=\x22promoteToModerator(\x27','qezWW','cunt','Enter','nijML','adminUserList','val','wrMZV','qflaB','onstop','object','KGQgi','pgbhn','asshole','substr','color','nmVWZ','flagPageAttention','created','UQBHL','NHMWG','authScreen','div','/paused','KKgMI','VFDfT','notifToggleBtn','relative','system','<br>','error','coño','SHA-256','catch','muted/','readAsDataURL','BEWYF','files','HGBPo','UqVTv','fuck','profileUsernameInput','HHInN','RyAOD','fZCyo','some','#aaa','tehzY','random','\x20🔧\x20','child_added','<span\x20style=\x22color:#ff4081;\x22>@$&</span>','fyybJ','unknown','userOptions-','fontSize','HGxgy','BDxml','zWTWt','msgId','sKByV','getUserMedia','dZFKe','985049198428','yhXyq','SfmCd','Remove\x20this\x20announcement?','Incorrect\x20current\x20password.','qSEkU','<button\x20onclick=\x22deleteUserMessages(\x27','jqZUQ','muteUntil','Login','SGfTR','[data-msg-id=\x22','detail','qbbeA','Remove\x20Announcement?'];_0x295e=function(){return _0x4c32ef;};return _0x295e();}function joinRoom(){const _0x2201b2=_0x4260f6,_0x5e442c={'zbVIk':function(_0x2fb733,_0x363c85){return _0x2fb733!==_0x363c85;},'YUEto':function(_0x22e4ff){return _0x22e4ff();},'GxYad':_0x2201b2(0x329),'iRTWu':'roomCodeInput','ihccY':function(_0x7be65e,_0x4990e5){return _0x7be65e(_0x4990e5);},'ZWsWE':_0x2201b2(0x2f4),'cDrvA':function(_0x1fe6aa,_0x475b35){return _0x1fe6aa===_0x475b35;},'pgbhn':function(_0x5517b2,_0x229ee8){return _0x5517b2(_0x229ee8);},'jzFqU':function(_0x12d768,_0x47e973){return _0x12d768+_0x47e973;},'PbFRz':_0x2201b2(0x2e7)},_0x334fb1=roomCode||document[_0x2201b2(0x13f)](_0x5e442c[_0x2201b2(0x122)])[_0x2201b2(0x18a)][_0x2201b2(0x18c)]()[_0x2201b2(0x193)]();if(!_0x334fb1)return _0x5e442c[_0x2201b2(0x19f)](alert,_0x5e442c[_0x2201b2(0x16b)]);roomCode=_0x334fb1;if(_0x5e442c[_0x2201b2(0x16e)](roomCode,STATIC_ROOM)){_0x5e442c[_0x2201b2(0x27a)](showScreen,_0x2201b2(0xfe));return;}db[_0x2201b2(0xe9)](_0x5e442c['jzFqU'](_0x5e442c['PbFRz'],roomCode))[_0x2201b2(0x1c8)]()[_0x2201b2(0x325)](_0x3d01e6=>{const _0x29a00d=_0x2201b2;_0x3d01e6[_0x29a00d(0x154)]()&&_0x5e442c[_0x29a00d(0x326)](_0x3d01e6[_0x29a00d(0x274)]()[_0x29a00d(0x120)],![])?_0x5e442c['YUEto'](startChat):alert(_0x5e442c[_0x29a00d(0x160)]);});}async function startChat(){const _0x22f047=_0x4260f6,_0x593a87={'spxoj':function(_0x24fdea,_0xbd3d1d){return _0x24fdea===_0xbd3d1d;},'zRmFC':function(_0x2cfcb9,_0x89cbac){return _0x2cfcb9(_0x89cbac);},'Mzhkf':function(_0x439db8,_0x402709){return _0x439db8(_0x402709);},'zqKEQ':_0x22f047(0x21a),'NsfYr':_0x22f047(0x116),'cveWW':_0x22f047(0x34d),'Xcddu':function(_0x7a133f,_0x40946a){return _0x7a133f+_0x40946a;},'skXMt':_0x22f047(0x2de),'nfiUM':'roomDisplay','nandd':function(_0x4cb0ca,_0x73008f){return _0x4cb0ca===_0x73008f;},'JgrQt':_0x22f047(0x203),'GnVrB':'admin','RbvUr':_0x22f047(0x1f4),'IjKCH':_0x22f047(0x151),'vJdva':_0x22f047(0x335),'sfhaZ':_0x22f047(0x11d),'ZEqgZ':'none','SWhSm':'system','UdveE':function(_0x7c58c7,_0x4a0a24){return _0x7c58c7(_0x4a0a24);},'IIOqU':_0x22f047(0x1a1),'QhLCv':_0x22f047(0x172),'FGrcq':function(_0x157f26){return _0x157f26();},'xissC':function(_0x18a801){return _0x18a801();},'IOENc':function(_0x27355b){return _0x27355b();},'NzpHJ':function(_0x21ba30,_0x1015ce){return _0x21ba30||_0x1015ce;},'SloGR':_0x22f047(0x2f9),'hIOIs':function(_0x114978){return _0x114978();},'wLXDD':function(_0x1a93f0){return _0x1a93f0();},'ybNBT':function(_0x302417){return _0x302417();}};if(_0x593a87[_0x22f047(0xa9)](!roomCode,!username))return alert(_0x593a87[_0x22f047(0x250)]),_0x593a87[_0x22f047(0x2f1)](showScreen,_0x593a87[_0x22f047(0x31e)]);_0x593a87[_0x22f047(0x167)](listenForPauseState),_0x593a87[_0x22f047(0x231)](listenForUserList),await _0x593a87[_0x22f047(0x1bc)](loadRoomRoles),_0x593a87['ybNBT'](listenForAnnouncement);const _0x28a178=_0x593a87[_0x22f047(0x208)](sanitizeUsername,username),_0x4a86f4=db[_0x22f047(0xe9)](_0x22f047(0x32d)+roomCode+'/'+_0x28a178),_0x5f1b8e={'username':username,'online':!![],'lastOnline':firebase[_0x22f047(0x2be)]['ServerValue'][_0x22f047(0x256)]};_0x4a86f4[_0x22f047(0xd0)](_0x5f1b8e,_0x2a7241=>{const _0x61d5c2=_0x22f047,_0x328df6={'QQtrr':function(_0x4dac41,_0x153169){const _0x5647da=_0x232c;return _0x593a87[_0x5647da(0x107)](_0x4dac41,_0x153169);},'HGxgy':_0x61d5c2(0x131),'PalsQ':function(_0xa457fd,_0x518b93){const _0x281575=_0x61d5c2;return _0x593a87[_0x281575(0x107)](_0xa457fd,_0x518b93);},'qbbeA':function(_0x22f9dc,_0x127026){const _0x52a758=_0x61d5c2;return _0x593a87[_0x52a758(0x2f1)](_0x22f9dc,_0x127026);}};if(_0x2a7241)return _0x593a87[_0x61d5c2(0x350)](alert,_0x593a87[_0x61d5c2(0xf3)]),_0x593a87[_0x61d5c2(0x350)](showScreen,_0x593a87[_0x61d5c2(0x31e)]);const _0xe26bf9=document['getElementById'](_0x593a87[_0x61d5c2(0xd5)]);avatarBase64&&(_0xe26bf9[_0x61d5c2(0xc4)]=_0x593a87[_0x61d5c2(0x1bf)](_0x61d5c2(0x1b1),avatarBase64),_0xe26bf9[_0x61d5c2(0x35a)]['display']=_0x61d5c2(0x11d));document[_0x61d5c2(0x13f)](_0x593a87['skXMt'])['innerHTML']=username+'\x20'+_0x593a87[_0x61d5c2(0x2f1)](getRoleTag,_0x28a178),document[_0x61d5c2(0x13f)](_0x593a87[_0x61d5c2(0xbf)])[_0x61d5c2(0x119)]=_0x593a87[_0x61d5c2(0x321)](roomCode,STATIC_ROOM)?_0x593a87[_0x61d5c2(0x10e)]:roomCode;[_0x593a87['GnVrB'],_0x593a87[_0x61d5c2(0x2ed)],_0x593a87[_0x61d5c2(0xf9)]][_0x61d5c2(0x215)](role)?document[_0x61d5c2(0x13f)](_0x593a87[_0x61d5c2(0x17b)])[_0x61d5c2(0x35a)][_0x61d5c2(0x1f5)]=_0x593a87['sfhaZ']:document[_0x61d5c2(0x13f)](_0x61d5c2(0x335))['style'][_0x61d5c2(0x1f5)]=_0x593a87['ZEqgZ'];const _0x12c894=db[_0x61d5c2(0xe9)]()['push']()[_0x61d5c2(0x34b)];db[_0x61d5c2(0xe9)]('rooms/'+roomCode+_0x61d5c2(0x106)+_0x12c894)[_0x61d5c2(0xd0)]({'msg':username+_0x61d5c2(0x30b),'sender':_0x593a87[_0x61d5c2(0x157)],'senderId':_0x593a87[_0x61d5c2(0x157)],'timestamp':Date['now']()}),_0x593a87[_0x61d5c2(0x208)](showScreen,'chatScreen');const _0x4f28d5=document[_0x61d5c2(0x13f)](_0x593a87['IIOqU']);_0x4f28d5[_0x61d5c2(0x1d8)](_0x593a87[_0x61d5c2(0x112)],_0xd4d13d=>{const _0x4b35ee=_0x61d5c2;_0x328df6[_0x4b35ee(0x15a)](_0xd4d13d['detail'],0x3)&&(role===_0x328df6[_0x4b35ee(0x2a6)]||_0x328df6[_0x4b35ee(0xa4)](role,_0x4b35ee(0x1f4)))&&(_0x328df6[_0x4b35ee(0x2ba)](confirm,_0x4b35ee(0x2b0))&&db[_0x4b35ee(0xe9)](_0x4b35ee(0x2e7)+roomCode+'/announcement')[_0x4b35ee(0xaa)]()[_0x4b35ee(0x325)](()=>{const _0x3d1f54=_0x4b35ee;_0x4f28d5[_0x3d1f54(0x119)]='';}));}),_0x593a87[_0x61d5c2(0x124)](listenForMessages),_0x593a87[_0x61d5c2(0x124)](listenForTyping),_0x593a87[_0x61d5c2(0x124)](startInactivityTimer),trackPresence(),_0x593a87[_0x61d5c2(0x1bc)](watchProfileChanges),_0x593a87[_0x61d5c2(0x118)](watchMuteStatus);});}function watchProfileChanges(){const _0x3bc7e4=_0x4260f6,_0x569bfd={'eXPdD':'user','Zazvi':'sidebarAvatarPreview','QiTvg':function(_0x594fbb,_0x117137){return _0x594fbb+_0x117137;},'fbLmA':'data:image/png;base64,','Loien':_0x3bc7e4(0x11d),'ikpEN':function(_0x27c48f,_0x3bd8b2){return _0x27c48f(_0x3bd8b2);},'dhyNP':'value'},_0x374810=_0x569bfd[_0x3bc7e4(0x1e8)](sanitizeUsername,username);db['ref']('auth/'+_0x374810)['on'](_0x569bfd['dhyNP'],_0x983e68=>{const _0x545a5b=_0x3bc7e4;if(!_0x983e68[_0x545a5b(0x154)]())return;const _0x308cd1=_0x983e68[_0x545a5b(0x274)]();userDescription=_0x308cd1[_0x545a5b(0x139)]||'',avatarBase64=_0x308cd1[_0x545a5b(0x1d5)]||'',role=_0x308cd1[_0x545a5b(0x341)]||_0x569bfd[_0x545a5b(0x345)];if(avatarBase64){const _0x4679f6=document['getElementById'](_0x569bfd['Zazvi']);!_0x4679f6[_0x545a5b(0xc4)][_0x545a5b(0x215)](avatarBase64)&&(_0x4679f6[_0x545a5b(0xc4)]=_0x569bfd[_0x545a5b(0x1c7)](_0x569bfd['fbLmA'],avatarBase64),_0x4679f6[_0x545a5b(0x35a)][_0x545a5b(0x1f5)]=_0x569bfd[_0x545a5b(0x174)]);}renderUserLists(roomUsers);});}function uploadImage(_0x47feb9){const _0x5e65cc=_0x4260f6,_0x5bbebd={'ZTqeC':function(_0x285d84,_0x278364){return _0x285d84>_0x278364;},'GNLPF':function(_0x4e7686,_0x146135){return _0x4e7686(_0x146135);}},_0xd82784=_0x47feb9[_0x5e65cc(0x293)][0x0];if(!_0xd82784||_0x5bbebd['ZTqeC'](_0xd82784['size'],0x2*0x400*0x400)){_0x5bbebd[_0x5e65cc(0x17e)](alert,'❌\x20Image\x20must\x20be\x20under\x202MB');return;}const _0x439b5e=new FileReader();_0x439b5e[_0x5e65cc(0xb3)]=()=>{const _0x461496=_0x5e65cc,_0xe9049b=_0x439b5e[_0x461496(0x310)][_0x461496(0x2e9)](',')[0x1],_0x47aad1=db['ref']()[_0x461496(0x1d3)]()[_0x461496(0x34b)];db[_0x461496(0xe9)](_0x461496(0x2e7)+roomCode+'/messages/'+_0x47aad1)[_0x461496(0xd0)]({'imageBase64':_0xe9049b,'sender':username,'senderId':clientId,'timestamp':Date[_0x461496(0x22f)]()});},_0x439b5e[_0x5e65cc(0x291)](_0xd82784);}async function fetchProfile(_0x1342cd){const _0x2d3e02=_0x4260f6,_0xf2232=await db[_0x2d3e02(0xe9)]('auth/'+_0x1342cd)[_0x2d3e02(0x1c8)]();if(!_0xf2232[_0x2d3e02(0x154)]())return null;return _0xf2232[_0x2d3e02(0x274)]();}function validateStaticRoomPassword(){const _0x4cd9ab=_0x4260f6,_0x4935f6={'KUmst':function(_0x160534,_0xd41c77){return _0x160534(_0xd41c77);},'bCskf':_0x4cd9ab(0x180),'UqVTv':function(_0x2d60b4,_0x3425c6){return _0x2d60b4===_0x3425c6;},'xzcco':function(_0x10f622){return _0x10f622();},'YVpct':_0x4cd9ab(0x1a6),'EWrvt':_0x4cd9ab(0xb5),'OklYD':_0x4cd9ab(0x13b),'edOvn':'Please\x20enter\x20the\x20password.'},_0x35dec7=document[_0x4cd9ab(0x13f)](_0x4935f6[_0x4cd9ab(0x322)])[_0x4cd9ab(0x18a)]['trim']();if(!_0x35dec7){alert(_0x4935f6[_0x4cd9ab(0x10a)]);return;}db[_0x4cd9ab(0xe9)](_0x4cd9ab(0x234)+STATIC_ROOM)[_0x4cd9ab(0x1c8)]()[_0x4cd9ab(0x325)](_0x4936a7=>{const _0x3fa84e=_0x4cd9ab;if(!_0x4936a7[_0x3fa84e(0x154)]()){_0x4935f6[_0x3fa84e(0x21c)](alert,_0x4935f6[_0x3fa84e(0x229)]);return;}const _0x11bc56=_0x4936a7[_0x3fa84e(0x274)]();_0x4935f6[_0x3fa84e(0x295)](_0x35dec7,_0x11bc56)?(roomCode=STATIC_ROOM,_0x4935f6[_0x3fa84e(0x2f8)](startChat)):(document[_0x3fa84e(0x13f)](_0x4935f6[_0x3fa84e(0x138)])['innerText']=_0x4935f6[_0x3fa84e(0x34f)],document[_0x3fa84e(0x13f)](_0x4935f6[_0x3fa84e(0x138)])['style'][_0x3fa84e(0x1f5)]=_0x3fa84e(0x11d));})[_0x4cd9ab(0x28f)](_0x218329=>{console['error'](_0x218329),alert('Error\x20connecting\x20to\x20server.\x20Try\x20again\x20later.');});}function listenForPauseState(){const _0x569e53=_0x4260f6,_0x31ce6a={'gHhoX':function(_0x3412da,_0x179990){return _0x3412da===_0x179990;},'jLJxn':_0x569e53(0xef),'fyybJ':_0x569e53(0x11d)};db['ref'](_0x569e53(0x16c)+roomCode+'/paused')['on'](_0x569e53(0x18a),_0x1b9ee1=>{const _0x6a4bf0=_0x569e53,_0x1533d8=_0x1b9ee1[_0x6a4bf0(0x154)]()&&_0x31ce6a['gHhoX'](_0x1b9ee1[_0x6a4bf0(0x274)](),!![]);document[_0x6a4bf0(0x13f)](_0x31ce6a['jLJxn'])['style'][_0x6a4bf0(0x1f5)]=_0x1533d8?_0x31ce6a[_0x6a4bf0(0x2a2)]:_0x6a4bf0(0x19d);});}const spamTimestamps=[];async function sendMessage(){const _0x2a0b6f=_0x4260f6,_0x1c18a9={'AEWJo':_0x2a0b6f(0x2cc),'yQbwJ':function(_0x5a4651,_0x6134e6){return _0x5a4651(_0x6134e6);},'EaZvF':function(_0x241ead,_0x3afe02){return _0x241ead===_0x3afe02;},'tehzY':function(_0x2fe377,_0x5d3e2f){return _0x2fe377(_0x5d3e2f);},'ceAsu':function(_0xf37124,_0x47bb85){return _0xf37124===_0x47bb85;},'cwLBM':function(_0x3993d5,_0x247912){return _0x3993d5!==_0x247912;},'AVWua':function(_0x4ea6d0,_0x4f9276){return _0x4ea6d0(_0x4f9276);},'hoiZl':'Room\x20is\x20currently\x20paused.','VKUvH':_0x2a0b6f(0x132),'xqpbw':function(_0x14d8a1,_0x5808f3){return _0x14d8a1||_0x5808f3;},'RjADS':'⚠️\x20Please\x20keep\x20the\x20chat\x20respectful.','whWdk':function(_0x4cc12c,_0x56c099){return _0x4cc12c>_0x56c099;},'Ibobp':_0x2a0b6f(0x20d),'UFfFJ':function(_0x1ea9fc,_0x8eb87c,_0x1b8052){return _0x1ea9fc(_0x8eb87c,_0x1b8052);},'nOqyy':'⛔\x20You\x27re\x20blocked\x20for\x20spamming\x20(30s)','tBuih':_0x2a0b6f(0x245)},_0x91d4b3=await db[_0x2a0b6f(0xe9)](_0x2a0b6f(0x16c)+roomCode+_0x2a0b6f(0x285))[_0x2a0b6f(0x1c8)](),_0x401686=await db['ref'](_0x2a0b6f(0x290)+roomCode+'/'+_0x1c18a9[_0x2a0b6f(0x10f)](sanitizeUsername,username))['get']();if(_0x401686[_0x2a0b6f(0x154)]()){const _0x5dce99=_0x401686[_0x2a0b6f(0x274)](),_0x4ba721=_0x1c18a9[_0x2a0b6f(0x198)](typeof _0x5dce99,_0x2a0b6f(0x278))&&_0x5dce99[_0x2a0b6f(0x2b5)]?_0x5dce99['muteUntil']:_0x5dce99;if(_0x4ba721>Date[_0x2a0b6f(0x22f)]()){_0x1c18a9[_0x2a0b6f(0x29d)](alert,_0x2a0b6f(0xd9));return;}}if(_0x91d4b3[_0x2a0b6f(0x154)]()&&_0x1c18a9[_0x2a0b6f(0x1b6)](_0x91d4b3[_0x2a0b6f(0x274)](),!![])&&_0x1c18a9[_0x2a0b6f(0x2e1)](role,'dev')){_0x1c18a9[_0x2a0b6f(0x318)](alert,_0x1c18a9['hoiZl']);return;}const _0x3b5efb=document[_0x2a0b6f(0x13f)](_0x1c18a9[_0x2a0b6f(0x11f)]),_0x4366d9=_0x3b5efb[_0x2a0b6f(0x18a)][_0x2a0b6f(0x18c)]();if(_0x1c18a9[_0x2a0b6f(0x1f8)](!_0x4366d9,isBlocked))return;const _0x1be69b=Date[_0x2a0b6f(0x22f)](),_0x21b01a=_0x4366d9['toLowerCase'](),_0x1db349=swearWords[_0x2a0b6f(0x29b)](_0x48fe31=>_0x21b01a[_0x2a0b6f(0x215)](_0x48fe31));if(_0x1db349){alert(_0x1c18a9[_0x2a0b6f(0x137)]);return;}spamTimestamps['push'](_0x1be69b);const _0x29451e=spamTimestamps[_0x2a0b6f(0x14f)](_0x1e1edc=>_0x1be69b-_0x1e1edc<0x1b58);if(_0x1c18a9[_0x2a0b6f(0x152)](_0x29451e[_0x2a0b6f(0x23c)],0x5)){const _0x57817a=_0x1c18a9[_0x2a0b6f(0x22e)][_0x2a0b6f(0x2e9)]('|');let _0x4932ff=0x0;while(!![]){switch(_0x57817a[_0x4932ff++]){case'0':_0x1c18a9[_0x2a0b6f(0x20a)](setTimeout,()=>{const _0x3cb350=_0x2a0b6f;isBlocked=![],_0x3b5efb['disabled']=![],_0x3b5efb['placeholder']=_0x1c18a9[_0x3cb350(0x140)],spamTimestamps[_0x3cb350(0x23c)]=0x0;},0x7530);continue;case'1':_0x3b5efb[_0x2a0b6f(0x206)]=!![];continue;case'2':isBlocked=!![];continue;case'3':_0x1c18a9[_0x2a0b6f(0x10f)](alert,_0x2a0b6f(0xd4));continue;case'4':_0x3b5efb[_0x2a0b6f(0x2d3)]=_0x1c18a9[_0x2a0b6f(0x1d2)];continue;case'5':return;}break;}}const _0x16c3c7=localStorage[_0x2a0b6f(0x233)](_0x1c18a9[_0x2a0b6f(0x13d)])||'',_0x59b5f4=db[_0x2a0b6f(0xe9)]()[_0x2a0b6f(0x1d3)]()[_0x2a0b6f(0x34b)];db[_0x2a0b6f(0xe9)](_0x2a0b6f(0x2e7)+roomCode+_0x2a0b6f(0x106)+_0x59b5f4)['set']({'msg':_0x4366d9,'sender':username,'senderId':clientId,'avatarBase64':_0x16c3c7,'timestamp':_0x1be69b}),_0x3b5efb[_0x2a0b6f(0x18a)]='',_0x1c18a9[_0x2a0b6f(0x10f)](sendTyping,!![]),lastActivity=_0x1be69b;}function listenForMessages(){const _0x36be2b=_0x4260f6,_0x454f9c={'pblBn':function(_0x1c6f14,_0x3f5be5,_0x56f545,_0x41738d){return _0x1c6f14(_0x3f5be5,_0x56f545,_0x41738d);},'dyEsk':function(_0x1e4716,_0x399b66){return _0x1e4716===_0x399b66;},'szNRF':function(_0x232c1b,_0x222fab){return _0x232c1b!==_0x222fab;},'aqygo':_0x36be2b(0x28a),'wVADx':function(_0xb25fca){return _0xb25fca();},'Nrszo':function(_0x10ecc4,_0x498017){return _0x10ecc4&&_0x498017;},'PHyWk':_0x36be2b(0x134),'OHcaa':_0x36be2b(0x2cb),'iDRQk':_0x36be2b(0x1be),'nvalr':_0x36be2b(0x2a0)},_0x716df0=db[_0x36be2b(0xe9)](_0x36be2b(0x2e7)+roomCode+_0x36be2b(0xbe)),_0x58faa2=_0x716df0['limitToLast'](MAX_MESSAGES);userListReady=!![],_0x58faa2['on'](_0x454f9c[_0x36be2b(0x2c5)],_0x51be72=>{const _0x4ac189=_0x36be2b,_0x1f257d={'XSQYf':function(_0x81e219,_0x2f2dcd,_0x3a67d5,_0x2a8e1a){const _0x32c365=_0x232c;return _0x454f9c[_0x32c365(0xba)](_0x81e219,_0x2f2dcd,_0x3a67d5,_0x2a8e1a);}},_0x15fa62=_0x51be72['val'](),{senderId:_0x407956}=_0x15fa62,_0x14a9b1=_0x454f9c[_0x4ac189(0x147)](_0x407956,clientId);if(!userListReady){pendingMessages[_0x4ac189(0x1b5)](({data:_0x151abe,sent:_0x478930,key:_0x11651c})=>{const _0x434239=_0x4ac189;_0x1f257d[_0x434239(0x155)](addMessage,_0x151abe,_0x478930,_0x11651c);}),pendingMessages=[];return;}const _0x4e7328=_0x15fa62['audioUrl']||null,_0x30cf02=_0x15fa62[_0x4ac189(0x2c8)]||null;_0x454f9c['pblBn'](addMessage,_0x15fa62,_0x14a9b1,_0x51be72[_0x4ac189(0x34b)]);roomCode!==STATIC_ROOM&&_0x454f9c[_0x4ac189(0x222)](_0x15fa62[_0x4ac189(0x359)],_0x454f9c[_0x4ac189(0x17f)])&&db[_0x4ac189(0xe9)](_0x4ac189(0x2e7)+roomCode+_0x4ac189(0x106)+_0x51be72['key'])['remove']();!_0x14a9b1&&(sound[_0x4ac189(0x33d)](),_0x454f9c[_0x4ac189(0x2d2)](flagPageAttention));if(_0x454f9c[_0x4ac189(0x214)](notificationsEnabled,!_0x14a9b1)){if(document[_0x4ac189(0x1d9)]&&_0x454f9c[_0x4ac189(0x147)](Notification[_0x4ac189(0x306)],_0x454f9c[_0x4ac189(0x32b)])){const _0x35ba6a=_0x15fa62[_0x4ac189(0x337)]||(_0x15fa62[_0x4ac189(0x2c8)]?_0x454f9c['OHcaa']:_0x15fa62['imageBase64']?_0x4ac189(0x246):'[Unknown]');new Notification('💬\x20'+_0x15fa62[_0x4ac189(0x359)],{'body':_0x35ba6a,'icon':_0x454f9c['iDRQk']});}}}),db[_0x36be2b(0xe9)](_0x36be2b(0x2e7)+roomCode+_0x36be2b(0xbe))['on'](_0x36be2b(0xa7),_0xfef182=>{const _0x4a6f9c=_0x36be2b,_0x1b69ae=_0xfef182[_0x4a6f9c(0x34b)],_0x1503c3=document[_0x4a6f9c(0xd3)](_0x4a6f9c(0x2b8)+_0x1b69ae+'\x22]');if(_0x1503c3)_0x1503c3['remove']();});}function stackNotification(_0x7400c1,_0x427226){const _0x3568c3=_0x4260f6,_0x36e15f={'ZOAXm':function(_0x4af5a1,_0x3cbfca){return _0x4af5a1(_0x3cbfca);},'vaNXK':function(_0x38ce16,_0x51addb,_0x45ceda){return _0x38ce16(_0x51addb,_0x45ceda);}};notificationStack[_0x3568c3(0x1d3)]({'sender':_0x7400c1,'content':_0x427226}),_0x36e15f[_0x3568c3(0x1f2)](clearTimeout,notificationTimer),notificationTimer=_0x36e15f[_0x3568c3(0x2c6)](setTimeout,()=>{showStackedNotification(),notificationStack=[];},0x3e8);}function showStackedNotification(){const _0x4ddbb2=_0x4260f6,_0x5e4356={'vYPwA':_0x4ddbb2(0x1f9),'fmNeE':_0x4ddbb2(0x1be),'pHZnL':function(_0x334401,_0x49de0c){return _0x334401!==_0x49de0c;},'BDxml':'granted','IxUCa':_0x4ddbb2(0x2a3),'SfmCd':function(_0xf42c1a,_0x15c02d){return _0xf42c1a===_0x15c02d;},'lwpHm':function(_0x2e1f3d,_0x593b34,_0x4e89e7){return _0x2e1f3d(_0x593b34,_0x4e89e7);}};if(!notificationStack[_0x4ddbb2(0x23c)]||_0x5e4356[_0x4ddbb2(0x264)](Notification[_0x4ddbb2(0x306)],_0x5e4356[_0x4ddbb2(0x2a7)]))return;const _0x27ad7e=[...new Set(notificationStack[_0x4ddbb2(0x26b)](_0x31bc1e=>_0x31bc1e[_0x4ddbb2(0x359)]))],_0x57e01c=roomCode||_0x5e4356[_0x4ddbb2(0x1ce)],_0x1625e4=_0x5e4356[_0x4ddbb2(0x2af)](_0x27ad7e[_0x4ddbb2(0x23c)],0x1)?_0x4ddbb2(0x2e4)+_0x27ad7e[0x0]+'\x20in\x20room\x20'+_0x57e01c+':\x20'+notificationStack[0x0][_0x4ddbb2(0x162)]:_0x4ddbb2(0x253)+_0x27ad7e[_0x4ddbb2(0x1dc)](',\x20')+_0x4ddbb2(0x255)+_0x57e01c;_0x5e4356['lwpHm'](setTimeout,()=>{const _0x5f5966=_0x4ddbb2;new Notification(_0x5e4356[_0x5f5966(0xbd)],{'body':_0x1625e4,'icon':_0x5e4356[_0x5f5966(0x266)]});},0x64);}async function addMessage(_0x309b48,_0x67184e,_0x20435d=null){const _0x3cc046=_0x4260f6,_0xff0514={'ZDQgi':function(_0x48b1f8,_0x28fc78,_0x4eb283){return _0x48b1f8(_0x28fc78,_0x4eb283);},'fZCyo':'block','OsxCq':_0x3cc046(0x19d),'cErYw':function(_0x30a5f0,_0x383ece){return _0x30a5f0===_0x383ece;},'ToYou':function(_0x1d5ff9,_0x475b32){return _0x1d5ff9(_0x475b32);},'EDqFb':'Delete\x20this\x20message?','BGgZv':'div','ENlCs':'system','LaSQo':'center','KFYxu':'0.8rem','weeAE':'6px\x20auto','VDuLv':_0x3cc046(0x105),'ARWzh':_0x3cc046(0x337),'dXwVc':_0x3cc046(0x1c3),'RUtMZ':_0x3cc046(0x289),'hthsm':_0x3cc046(0x242),'whfFZ':_0x3cc046(0xd6),'xeeuM':_0x3cc046(0x186),'wcitE':_0x3cc046(0x248),'sazub':'#222','GoBxx':_0x3cc046(0xc9),'fcHdO':'10px','XGTPD':_0x3cc046(0x31c),'EycLz':_0x3cc046(0x1ac),'HCkpt':'touchend','HGBPo':_0x3cc046(0x1f4),'Snfgt':_0x3cc046(0x131),'jegjs':_0x3cc046(0x151),'YyasE':_0x3cc046(0x172)},{msg:_0x6a5686,sender:_0x5052d7,senderId:_0x4075d0,timestamp:_0x403c30,audioUrl:_0x266d20,audioBase64:_0x23c839,imageBase64:_0x4d2c9f}=_0x309b48,_0x47b895=_0xff0514[_0x3cc046(0x125)](sanitizeUsername,_0x5052d7),_0x1f4539=document[_0x3cc046(0x1d0)](_0xff0514[_0x3cc046(0x149)]);if(_0xff0514['cErYw'](_0x309b48[_0x3cc046(0x359)],_0xff0514['ENlCs'])){const _0x37d5ba=document['createElement'](_0xff0514[_0x3cc046(0x149)]);_0x37d5ba['style'][_0x3cc046(0xa8)]=_0xff0514['LaSQo'],_0x37d5ba[_0x3cc046(0x35a)][_0x3cc046(0x2a5)]=_0xff0514['KFYxu'],_0x37d5ba['style']['color']=_0x3cc046(0x29c),_0x37d5ba[_0x3cc046(0x35a)][_0x3cc046(0x305)]=_0xff0514[_0x3cc046(0x130)],_0x37d5ba['innerText']=_0x309b48[_0x3cc046(0x337)];const _0x284820=document['getElementById'](_0xff0514[_0x3cc046(0x2f6)]);_0x284820[_0x3cc046(0x1ed)](_0x37d5ba),_0x284820[_0x3cc046(0x1cf)]=_0x284820[_0x3cc046(0x1eb)];return;}_0x1f4539['classList'][_0x3cc046(0x228)](_0xff0514[_0x3cc046(0x35c)],_0x67184e?_0xff0514[_0x3cc046(0x2f2)]:_0x3cc046(0x1b7)),_0x1f4539[_0x3cc046(0x35a)]['position']=_0xff0514['RUtMZ'];_0x20435d&&(_0x1f4539[_0x3cc046(0x244)][_0x3cc046(0x2a9)]=_0x20435d);const _0x5eb785=new Date(_0x403c30)[_0x3cc046(0x121)]([],{'hour':_0xff0514['hthsm'],'minute':_0xff0514[_0x3cc046(0x247)]}),_0x32e5df=_0xff0514[_0x3cc046(0x125)](getRoleTag,_0x47b895),_0x5f40ac=await _0xff0514['ToYou'](fetchAvatar,_0x47b895),_0x32448a=_0x5f40ac?_0x3cc046(0x212)+_0x5f40ac+_0x3cc046(0x230):'',_0x4e4f10=_0x32448a+_0x3cc046(0x181)+_0x5052d7+'\x20'+_0x32e5df+'</span>',_0x3ebede=_0x6a5686?.['replace'](new RegExp('@'+username+'\x5cb','gi'),_0x3cc046(0x2a1));let _0x756431=_0x4e4f10+_0x3cc046(0x28b);if(_0x266d20)_0x756431+='<audio\x20controls\x20src=\x22'+_0x266d20+_0x3cc046(0x304);else{if(_0x23c839){const _0x319625='data:audio/webm;base64,'+_0x23c839;_0x756431+=_0x3cc046(0x1fc)+_0x319625+_0x3cc046(0x304);}else{if(_0x4d2c9f){const _0x2aa567='data:image/png;base64,'+_0x4d2c9f;_0x756431+='<img\x20src=\x22'+_0x2aa567+_0x3cc046(0x25c);}else _0x756431+='<div>'+_0x3ebede+_0x3cc046(0x189);}}_0x756431+=_0x3cc046(0x184)+_0x5eb785+'</small>',_0x1f4539[_0x3cc046(0x257)]=_0x756431;const _0x17eb84=document[_0x3cc046(0x1d0)](_0xff0514['BGgZv']);_0x17eb84['className']=_0xff0514[_0x3cc046(0x1ea)],_0x17eb84[_0x3cc046(0x35a)][_0x3cc046(0xe7)]=_0x3cc046(0x13c),_0x17eb84[_0x3cc046(0x35a)]['fontSize']=_0xff0514[_0x3cc046(0x2f0)],_0x1f4539[_0x3cc046(0x1ed)](_0x17eb84);const _0x4ffb1a=document[_0x3cc046(0x1d0)](_0xff0514[_0x3cc046(0x149)]);_0x4ffb1a[_0x3cc046(0x143)]=_0x3cc046(0x127),_0x4ffb1a[_0x3cc046(0x257)]=_0x3cc046(0xab),_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0x1f5)]=_0xff0514['OsxCq'],_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0x1a7)]=_0xff0514['wcitE'],_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0xad)]=_0xff0514[_0x3cc046(0x190)],_0x4ffb1a['style'][_0x3cc046(0x1db)]=_0xff0514['GoBxx'],_0x4ffb1a['style'][_0x3cc046(0x1a8)]=_0xff0514[_0x3cc046(0x194)],_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0x2a5)]=_0xff0514[_0x3cc046(0x1fb)],_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0xc5)]=_0x3cc046(0x111),_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0x2bd)]=_0xff0514['fcHdO'],_0x4ffb1a[_0x3cc046(0x35a)][_0x3cc046(0x343)]='10',Array[_0x3cc046(0x220)](_0x4ffb1a[_0x3cc046(0x217)])['forEach'](_0x3e38b5=>{const _0x2de8ef=_0x3cc046,_0x3e3ea1={'KIcSO':function(_0x2e4bb6,_0x3b4aab,_0x58050b){return _0xff0514['ZDQgi'](_0x2e4bb6,_0x3b4aab,_0x58050b);}};_0x3e38b5[_0x2de8ef(0x35a)]['cursor']=_0x2de8ef(0xee),_0x3e38b5['onclick']=_0xf4bc25=>{const _0xdc1ee1=_0x2de8ef;_0xf4bc25['stopPropagation']();const _0x3affb1=_0x3e38b5[_0xdc1ee1(0x348)];_0x3e3ea1['KIcSO'](reactToMessage,_0x20435d,_0x3affb1);};}),_0x1f4539['appendChild'](_0x4ffb1a),_0x1f4539['addEventListener']('mouseenter',()=>{const _0x35e91d=_0x3cc046;_0x4ffb1a['style'][_0x35e91d(0x1f5)]=_0xff0514[_0x35e91d(0x29a)];}),_0x1f4539[_0x3cc046(0x1d8)](_0x3cc046(0x170),()=>{const _0x3ae70e=_0x3cc046;_0x4ffb1a[_0x3ae70e(0x35a)][_0x3ae70e(0x1f5)]=_0xff0514[_0x3ae70e(0x1f3)];});let _0xff088;_0x1f4539[_0x3cc046(0x1d8)](_0xff0514[_0x3cc046(0xd7)],()=>{_0xff088=_0xff0514['ZDQgi'](setTimeout,()=>{const _0x221455=_0x232c;_0x4ffb1a[_0x221455(0x35a)]['display']=_0xff0514[_0x221455(0x29a)];},0x1f4);}),_0x1f4539[_0x3cc046(0x1d8)](_0xff0514[_0x3cc046(0x1a9)],()=>clearTimeout(_0xff088));_0x20435d&&db[_0x3cc046(0xe9)]('rooms/'+roomCode+_0x3cc046(0x106)+_0x20435d+_0x3cc046(0xa3))['on']('value',_0x511ed2=>{const _0x180be7=_0x3cc046;if(!_0x511ed2['exists']()){_0x17eb84[_0x180be7(0x257)]='';return;}const _0x1775e6=_0x511ed2[_0x180be7(0x274)]();let _0x16b7f8='';Object[_0x180be7(0xf4)](_0x1775e6)['forEach'](([_0x198b84,_0x54b39e])=>{const _0x586af7=_0x180be7;Array[_0x586af7(0x216)](_0x54b39e)&&_0x54b39e[_0x586af7(0x23c)]>0x0&&(_0x16b7f8+=_0x586af7(0x20b)+_0x198b84+'\x20'+_0x54b39e[_0x586af7(0x23c)]+_0x586af7(0xf1));}),_0x17eb84[_0x180be7(0x257)]=_0x16b7f8;});if([_0xff0514[_0x3cc046(0x294)],_0xff0514['Snfgt'],_0xff0514['jegjs']]['includes'](role)){let _0x59c56a=0x0;_0x1f4539['addEventListener'](_0xff0514[_0x3cc046(0x169)],()=>{const _0x938b68=_0x3cc046;_0x59c56a++,_0xff0514[_0x938b68(0xaf)](_0x59c56a,0x3)&&(_0xff0514[_0x938b68(0x125)](confirm,_0xff0514[_0x938b68(0x2ca)])&&(db['ref']('rooms/'+roomCode+_0x938b68(0x106)+_0x20435d)[_0x938b68(0xaa)](),_0x1f4539[_0x938b68(0xaa)]())),setTimeout(()=>_0x59c56a=0x0,0x1f4);});}const _0x2ce2d6=document[_0x3cc046(0x13f)](_0xff0514[_0x3cc046(0x2f6)]);_0x2ce2d6[_0x3cc046(0x1ed)](_0x1f4539),_0x2ce2d6[_0x3cc046(0x1cf)]=_0x2ce2d6[_0x3cc046(0x1eb)];}function cleanupOldRooms(){const _0xa5f301=_0x4260f6,_0x40cd2a={'cQctU':function(_0x54c1b4,_0x4d3a15){return _0x54c1b4!==_0x4d3a15;},'NHMWG':function(_0x289729,_0x95c9f9){return _0x289729!==_0x95c9f9;},'WbulV':function(_0xa90be6,_0x311c89){return _0xa90be6===_0x311c89;},'sXWUJ':function(_0x1de688,_0xd0f10b){return _0x1de688*_0xd0f10b;},'KKgMI':function(_0xe315c3,_0x29b263){return _0xe315c3+_0x29b263;},'YoUoZ':_0xa5f301(0x219),'vxGuE':_0xa5f301(0x18a),'UoGPj':_0xa5f301(0x1e4),'EjSHe':_0xa5f301(0xae)};db[_0xa5f301(0xe9)](_0x40cd2a[_0xa5f301(0x2ee)])[_0xa5f301(0x1f7)](_0x40cd2a['vxGuE'])['then'](_0x239d8e=>{const _0x3f890a=_0xa5f301,_0x1718a6={'KjVOS':function(_0x6e7ada,_0x506106){const _0x519b35=_0x232c;return _0x40cd2a[_0x519b35(0x282)](_0x6e7ada,_0x506106);}},_0x4004e6=_0x239d8e[_0x3f890a(0x274)]();if(!_0x4004e6)return;const _0x348925=Date['now']();for(const _0x4448ce in _0x4004e6){if(_0x40cd2a[_0x3f890a(0xb0)](_0x4448ce,STATIC_ROOM))continue;const _0x3ff616=_0x4004e6[_0x4448ce];_0x348925-(_0x3ff616[_0x3f890a(0x280)]||0x0)>_0x40cd2a['sXWUJ'](0x2,0x3c)*0x3e8&&db[_0x3f890a(0xe9)](_0x40cd2a[_0x3f890a(0x286)](_0x3f890a(0x2e7),_0x4448ce))[_0x3f890a(0xaa)]();}db[_0x3f890a(0xe9)](_0x40cd2a[_0x3f890a(0x1ae)])[_0x3f890a(0x1f7)](_0x40cd2a[_0x3f890a(0xc2)])[_0x3f890a(0x325)](_0x549f7f=>{const _0x11ec0d=_0x3f890a,_0x2afcd4=_0x549f7f['val']();if(!_0x2afcd4)return;for(const _0x7499e4 in _0x2afcd4){if(_0x40cd2a[_0x11ec0d(0x1f1)](_0x7499e4,STATIC_ROOM))db[_0x11ec0d(0xe9)]('antispam/'+_0x7499e4)[_0x11ec0d(0xaa)]();}}),db[_0x3f890a(0xe9)](_0x40cd2a[_0x3f890a(0x175)])['once'](_0x40cd2a[_0x3f890a(0xc2)])[_0x3f890a(0x325)](_0xa982b4=>{const _0x2b175c=_0x3f890a,_0xd365e5=_0xa982b4['val']();if(!_0xd365e5)return;for(const _0x271ff9 in _0xd365e5){if(_0x1718a6['KjVOS'](_0x271ff9,STATIC_ROOM))db['ref'](_0x2b175c(0xc3)+_0x271ff9)[_0x2b175c(0xaa)]();}});});}document[_0x4260f6(0x1d8)](_0x4260f6(0xea),()=>{const _0x292e58=_0x4260f6,_0x5bccb3={'EsVtV':function(_0x2e700b,_0x331560){return _0x2e700b===_0x331560;},'exsCN':_0x292e58(0x271),'kfUYq':'msgInput'},_0x4e0c2b=document[_0x292e58(0x13f)](_0x5bccb3[_0x292e58(0x153)]);_0x4e0c2b&&_0x4e0c2b[_0x292e58(0x1d8)]('keypress',function(_0x5af167){const _0x468b6d=_0x292e58;_0x5bccb3['EsVtV'](_0x5af167[_0x468b6d(0x34b)],_0x5bccb3[_0x468b6d(0x23e)])&&(_0x5af167['preventDefault'](),sendMessage());});});function showScreen(_0x5248fe){const _0xaa00a8=_0x4260f6,_0x86b1c0={'pNRdO':_0xaa00a8(0x19d),'ReCud':_0xaa00a8(0x116),'HmocV':'chatScreen','EHcpR':_0xaa00a8(0xfe),'rWGqy':'profileScreen','xSjZr':_0xaa00a8(0x144),'MfqNa':_0xaa00a8(0x283),'sKByV':_0xaa00a8(0x263)};[_0xaa00a8(0x14b),_0x86b1c0[_0xaa00a8(0x168)],_0xaa00a8(0x302),_0x86b1c0[_0xaa00a8(0x353)],_0x86b1c0[_0xaa00a8(0xdc)],_0x86b1c0['rWGqy'],_0x86b1c0[_0xaa00a8(0x24a)],_0x86b1c0[_0xaa00a8(0xfa)],_0xaa00a8(0x188)][_0xaa00a8(0x1b5)](_0xe846e7=>{const _0x2b38e4=_0xaa00a8;document[_0x2b38e4(0x13f)](_0xe846e7)[_0x2b38e4(0x35a)][_0x2b38e4(0x1f5)]=_0x86b1c0[_0x2b38e4(0x1a0)];}),document[_0xaa00a8(0x13f)](_0x5248fe)[_0xaa00a8(0x35a)][_0xaa00a8(0x1f5)]=_0x86b1c0[_0xaa00a8(0x2aa)];}function genRoomCode(){const _0x268eaf=_0x4260f6,_0x10c02e={'RaIUO':_0x268eaf(0x165),'VRMRa':function(_0x10c41b,_0xce7374){return _0x10c41b+_0xce7374;},'BEWYF':function(_0x3dd910,_0x43c008){return _0x3dd910+_0x43c008;},'EuQzy':function(_0x30d471,_0x23388b,_0x2b2d22){return _0x30d471(_0x23388b,_0x2b2d22);}},_0x3a668e=_0x10c02e[_0x268eaf(0x308)],_0x4d5b7b='0123456789',_0x3f9226=(_0x3bb884,_0x34c8c2)=>Array['from']({'length':_0x34c8c2},()=>_0x3bb884[Math[_0x268eaf(0x12c)](Math[_0x268eaf(0x29e)]()*_0x3bb884[_0x268eaf(0x23c)])])[_0x268eaf(0x1dc)]('');return _0x10c02e[_0x268eaf(0x187)](_0x10c02e[_0x268eaf(0x292)](_0x3f9226(_0x4d5b7b,0x3)+_0x10c02e['EuQzy'](_0x3f9226,_0x3a668e,0x3),_0x10c02e[_0x268eaf(0x150)](_0x3f9226,_0x4d5b7b,0x2)),_0x10c02e['EuQzy'](_0x3f9226,_0x3a668e,0x2));}function startInactivityTimer(){const _0x4329ed=_0x4260f6,_0x299475={'pexgh':function(_0x5aece5,_0x1bda33){return _0x5aece5>_0x1bda33;},'tPwXw':function(_0x229c5e,_0x10317e){return _0x229c5e-_0x10317e;},'IAbRW':function(_0x3a0eb4,_0x2a4eba){return _0x3a0eb4*_0x2a4eba;},'nmXJP':function(_0x10dba6,_0x148081){return _0x10dba6+_0x148081;},'LkNJq':_0x4329ed(0x2e7),'TbBmH':function(_0x4e3875,_0x5723c2){return _0x4e3875(_0x5723c2);},'kufsK':function(_0x18c2a0,_0x48df90,_0x48c2e2){return _0x18c2a0(_0x48df90,_0x48c2e2);}};_0x299475['kufsK'](setInterval,()=>{const _0x49abd2=_0x4329ed;_0x299475[_0x49abd2(0x15d)](_0x299475[_0x49abd2(0x224)](Date[_0x49abd2(0x22f)](),lastActivity),_0x299475[_0x49abd2(0x239)](_0x299475['IAbRW'](0x5,0x3c),0x3e8))&&roomCode!==STATIC_ROOM&&(db[_0x49abd2(0xe9)](_0x299475['nmXJP'](_0x299475[_0x49abd2(0x261)],roomCode))[_0x49abd2(0x34e)]({'active':![]}),_0x299475['TbBmH'](alert,'Session\x20expired.'),location[_0x49abd2(0x1d6)]());},0x7530);}function setupSidebarBackHandler(){const _0x327643=_0x4260f6,_0x3d26c9={'uEeiQ':_0x327643(0x223),'jZlfU':_0x327643(0x2dd),'uOdew':_0x327643(0x201)};window['addEventListener'](_0x3d26c9[_0x327643(0x11c)],()=>{const _0x3a2c71=_0x327643,_0x3853dd=document[_0x3a2c71(0x13f)](_0x3d26c9[_0x3a2c71(0x32c)]);_0x3853dd?.['classList'][_0x3a2c71(0x2dc)](_0x3d26c9[_0x3a2c71(0x314)])&&_0x3853dd[_0x3a2c71(0x11a)][_0x3a2c71(0xaa)]('show');});}function toggleSidebar(){const _0x381dda=_0x4260f6,_0x427cdf={'bSipN':_0x381dda(0x223),'KAlne':_0x381dda(0x2dd)},_0x46bb18=document['getElementById'](_0x427cdf[_0x381dda(0x312)]);if(!_0x46bb18['classList'][_0x381dda(0x2dc)](_0x381dda(0x2dd)))_0x46bb18[_0x381dda(0x11a)][_0x381dda(0x228)](_0x427cdf['KAlne']),history['pushState']({'sidebarOpen':!![]},'');else{_0x46bb18[_0x381dda(0x11a)]['remove'](_0x427cdf[_0x381dda(0x108)]);if(history[_0x381dda(0x22c)]?.[_0x381dda(0xc6)])history[_0x381dda(0x1ad)]();}}function setupVisibilityAttention(){const _0x5a9dc1=_0x4260f6,_0x371a98={'uRVFm':'visibilitychange'};let _0x4f77bf=0x0,_0x1ff2ce=document[_0x5a9dc1(0xce)];document[_0x5a9dc1(0x1d8)](_0x371a98[_0x5a9dc1(0x2c3)],()=>{const _0x4afed9=_0x5a9dc1;!document['hidden']&&(document[_0x4afed9(0xce)]=_0x1ff2ce,_0x4f77bf=0x0);}),window[_0x5a9dc1(0x27f)]=function(){const _0x487046=_0x5a9dc1;document['hidden']&&(_0x4f77bf++,document[_0x487046(0xce)]='('+_0x4f77bf+_0x487046(0x1ba)+_0x1ff2ce);};}function tryEditProfile(){const _0xde681=_0x4260f6;document[_0xde681(0x13f)](_0xde681(0x188))[_0xde681(0x35a)][_0xde681(0x1f5)]=_0xde681(0x263);}async function submitEditProfile(){const _0x13f615=_0x4260f6,_0x1dfddf={'KuvPO':_0x13f615(0xec),'dIJkU':'newPasswordInput','qEGIb':_0x13f615(0x334),'OVnDW':'editProfileError','zWTWt':'Please\x20enter\x20your\x20current\x20password.','cFfoF':'block','dyypT':function(_0x5ba583,_0x500b29){return _0x5ba583(_0x500b29);},'qezWW':_0x13f615(0x2d1),'nXDDi':function(_0x5b00c4,_0x554b56){return _0x5b00c4(_0x554b56);},'eJgMz':function(_0x4baa4a,_0x343b4a){return _0x4baa4a!==_0x343b4a;},'fHKYf':_0x13f615(0x2b1),'JeRHl':function(_0x5adbc0,_0x105912){return _0x5adbc0*_0x105912;},'LSafz':function(_0x5697a9,_0x5924fd){return _0x5697a9>_0x5924fd;},'ylObO':function(_0x14711e,_0x28e4dd){return _0x14711e-_0x28e4dd;},'spTQW':_0x13f615(0x227),'bVLLR':function(_0x36359c,_0x776dd2){return _0x36359c!==_0x776dd2;},'PLwQw':function(_0x1c34d9,_0x5b7c9f){return _0x1c34d9(_0x5b7c9f);},'jayLu':'✅\x20Profile\x20updated!\x20Please\x20reload.'},_0x160549=document[_0x13f615(0x13f)](_0x1dfddf[_0x13f615(0x35d)])['value'],_0x13761c=document[_0x13f615(0x13f)](_0x1dfddf['dIJkU'])['value'],_0x38283a=document[_0x13f615(0x13f)](_0x1dfddf['qEGIb'])[_0x13f615(0x18a)][_0x13f615(0x18c)](),_0x3d91bf=document['getElementById'](_0x1dfddf[_0x13f615(0x1ab)]);if(!_0x160549){_0x3d91bf['innerText']=_0x1dfddf[_0x13f615(0x2a8)],_0x3d91bf[_0x13f615(0x35a)][_0x13f615(0x1f5)]=_0x1dfddf[_0x13f615(0x1f0)];return;}const _0x11c005=_0x1dfddf['dyypT'](sanitizeUsername,username),_0x13efbc=await db[_0x13f615(0xe9)](_0x13f615(0x17a)+_0x11c005)[_0x13f615(0x1c8)]();if(!_0x13efbc['exists']()){_0x3d91bf[_0x13f615(0x119)]=_0x1dfddf[_0x13f615(0x26f)],_0x3d91bf['style']['display']=_0x1dfddf['cFfoF'];return;}const _0x4db587=_0x13efbc[_0x13f615(0x274)](),_0x491466=await _0x1dfddf[_0x13f615(0x267)](sha256,_0x160549);if(_0x1dfddf[_0x13f615(0x252)](_0x491466,_0x4db587[_0x13f615(0x14d)])){_0x3d91bf['innerText']=_0x1dfddf[_0x13f615(0x2d8)],_0x3d91bf[_0x13f615(0x35a)][_0x13f615(0x1f5)]=_0x1dfddf[_0x13f615(0x1f0)];return;}const _0x586ef6={};if(_0x13761c){const _0x5642d2=await _0x1dfddf[_0x13f615(0x267)](sha256,_0x13761c);_0x586ef6[_0x13f615(0x14d)]=_0x5642d2;}_0x1dfddf[_0x13f615(0x252)](_0x38283a,_0x4db587[_0x13f615(0x139)])&&(_0x586ef6[_0x13f615(0x139)]=_0x38283a);const _0x1f298b=Date[_0x13f615(0x22f)](),_0x31e31c=_0x1dfddf['JeRHl'](_0x1dfddf[_0x13f615(0x320)](_0x1dfddf[_0x13f615(0x320)](0x18,0x3c),0x3c),0x3e8),_0x2f0be5=_0x1dfddf[_0x13f615(0x15c)](_0x1dfddf[_0x13f615(0x30c)](_0x1f298b,_0x4db587[_0x13f615(0x25f)]||0x0),_0x31e31c);if(_0x2f0be5&&_0x1dfddf[_0x13f615(0x267)](confirm,'Do\x20you\x20want\x20to\x20change\x20your\x20username?\x20(only\x20once\x20per\x2024h)')){const _0x551ced=_0x1dfddf['nXDDi'](prompt,_0x1dfddf['spTQW']);_0x551ced&&_0x551ced[_0x13f615(0x18c)]()&&(_0x586ef6['username']=_0x551ced[_0x13f615(0x18c)](),_0x586ef6['usernameHistory']=(_0x4db587['usernameHistory']||[])['concat'](_0x551ced[_0x13f615(0x18c)]()),_0x586ef6[_0x13f615(0x25f)]=_0x1f298b);}_0x586ef6[_0x13f615(0x1d1)]&&_0x1dfddf[_0x13f615(0xbb)](_0x586ef6[_0x13f615(0x1d1)],_0x4db587[_0x13f615(0x1d1)])?(await db[_0x13f615(0xe9)](_0x13f615(0x17a)+_0x1dfddf[_0x13f615(0x237)](sanitizeUsername,_0x586ef6[_0x13f615(0x1d1)]))[_0x13f615(0xd0)]({..._0x4db587,..._0x586ef6}),await db['ref'](_0x13f615(0x17a)+_0x11c005)[_0x13f615(0xaa)](),username=_0x586ef6['username']):await db[_0x13f615(0xe9)](_0x13f615(0x17a)+_0x11c005)[_0x13f615(0x34e)](_0x586ef6),_0x1dfddf[_0x13f615(0x237)](alert,_0x1dfddf[_0x13f615(0x158)]),location['reload']();}function cancelEditProfile(){const _0x503570=_0x4260f6,_0x29d4f2={'ITNYd':_0x503570(0x188),'aMiox':_0x503570(0x19d),'yiWEG':_0x503570(0x16f)};document[_0x503570(0x13f)](_0x29d4f2['ITNYd'])[_0x503570(0x35a)]['display']=_0x29d4f2['aMiox'],showScreen(_0x29d4f2['yiWEG']);}let previousUsers=[],previousUserKeys=new Set();const cachedOnlineStatus={},userStatusMap={};function listenForUserList(){const _0xcfc4c0=_0x4260f6,_0x4f447a={'nfftk':function(_0x39cf2b,_0x15bc0d){return _0x39cf2b(_0x15bc0d);},'VzGte':function(_0x17b1c9){return _0x17b1c9();},'ZzKZa':_0xcfc4c0(0x18a)};db[_0xcfc4c0(0xe9)](_0xcfc4c0(0x32d)+roomCode)['on'](_0x4f447a['ZzKZa'],async _0x375680=>{const _0x3ccc31=_0xcfc4c0;if(!_0x375680['exists']()){_0x4f447a[_0x3ccc31(0x2ff)](renderUserLists,{});return;}const _0x943384=_0x375680[_0x3ccc31(0x274)]();await _0x4f447a[_0x3ccc31(0x15f)](loadRoomRoles),_0x4f447a[_0x3ccc31(0x2ff)](renderUserLists,_0x943384);});}function trackPresence(){const _0x129b22=_0x4260f6,_0x3a1d04={'sIpWo':_0x129b22(0x23d),'UQBHL':function(_0x77d2d1,_0x3f0ed8){return _0x77d2d1||_0x3f0ed8;},'zBmSV':function(_0x1e96fa){return _0x1e96fa();},'vCUQW':function(_0x58f17e,_0x2af81a){return _0x58f17e(_0x2af81a);},'WPCFV':_0x129b22(0x18a)};if(_0x3a1d04[_0x129b22(0x281)](!username,!roomCode))return;const _0x485f26=_0x3a1d04[_0x129b22(0x1a3)](sanitizeUsername,username),_0x1e374c=db[_0x129b22(0xe9)](_0x129b22(0x32d)+roomCode+'/'+_0x485f26),_0xdab12b={'username':username,'avatarBase64':avatarBase64||'','description':_0x3a1d04['UQBHL'](userDescription,''),'online':!![],'lastOnline':firebase[_0x129b22(0x2be)]['ServerValue'][_0x129b22(0x256)]};db[_0x129b22(0xe9)]('admins/'+roomCode+'/'+_0x485f26)['once'](_0x3a1d04[_0x129b22(0x1c4)])[_0x129b22(0x325)](_0x593111=>{const _0x6d6652=_0x129b22,_0x1bfe47=_0x3a1d04[_0x6d6652(0x114)][_0x6d6652(0x2e9)]('|');let _0x65a1ce=0x0;while(!![]){switch(_0x1bfe47[_0x65a1ce++]){case'0':_0x1e374c[_0x6d6652(0x1fa)]()[_0x6d6652(0xd0)]({'username':username,'avatarBase64':_0x3a1d04['UQBHL'](avatarBase64,''),'description':userDescription||'','online':![],'lastOnline':Date[_0x6d6652(0x22f)]()});continue;case'1':_0x593111[_0x6d6652(0x154)]()&&(_0xdab12b['admin']=!![]);continue;case'2':_0x1e374c[_0x6d6652(0xd0)](_0xdab12b);continue;case'3':_0x3a1d04['zBmSV'](updateOnlineIndicator);continue;case'4':_0x1e374c['onDisconnect']()[_0x6d6652(0x34e)]({'online':![],'lastOnline':Date[_0x6d6652(0x22f)]()});continue;}break;}});}function uploadSidebarAvatar(_0x389491){const _0xb8f81d=_0x4260f6,_0xcc9686={'tSRtl':_0xb8f81d(0x34d),'dWwVQ':function(_0xbbb1c5,_0x436c80){return _0xbbb1c5(_0x436c80);},'Xsjce':'✅\x20Profile\x20picture\x20updated!'};if(!_0x389491['files'][_0xb8f81d(0x23c)])return;const _0x5f500f=_0x389491[_0xb8f81d(0x293)][0x0],_0x445d95=new FileReader();_0x445d95[_0xb8f81d(0xb3)]=async()=>{const _0x3192ad=_0xb8f81d,_0x5795d2=_0x445d95[_0x3192ad(0x310)]['split'](',')[0x1];document[_0x3192ad(0x13f)](_0xcc9686[_0x3192ad(0x1ef)])[_0x3192ad(0xc4)]=_0x445d95[_0x3192ad(0x310)],document[_0x3192ad(0x13f)](_0xcc9686[_0x3192ad(0x1ef)])[_0x3192ad(0x35a)][_0x3192ad(0x1f5)]=_0x3192ad(0x11d);try{const _0x41f6f3=_0xcc9686[_0x3192ad(0x123)](sanitizeUsername,username);await db[_0x3192ad(0xe9)](_0x3192ad(0x17a)+_0x41f6f3+'/avatarBase64')[_0x3192ad(0xd0)](_0x5795d2),_0xcc9686['dWwVQ'](alert,_0xcc9686[_0x3192ad(0x166)]);}catch(_0x378902){console[_0x3192ad(0x28c)](_0x378902),_0xcc9686['dWwVQ'](alert,_0x3192ad(0xf7));}},_0x445d95[_0xb8f81d(0x291)](_0x5f500f);}function muteUser(_0x1bd7e5,_0x31c068){const _0x313c93=_0x4260f6,_0x32a68f={'OtiqB':function(_0x18065b,_0x52bb35){return _0x18065b(_0x52bb35);},'rfYUN':function(_0x578cdf,_0x4d6f44){return _0x578cdf+_0x4d6f44;},'dZFKe':function(_0x585d52,_0x452788){return _0x585d52*_0x452788;},'DsjYz':function(_0x4be774,_0x85bec4){return _0x4be774*_0x85bec4;},'ntmIB':function(_0x3849f2,_0x488375){return _0x3849f2(_0x488375);}},_0x2b083d=_0x32a68f[_0x313c93(0x2f5)](Date[_0x313c93(0x22f)](),_0x32a68f[_0x313c93(0x2ac)](_0x32a68f[_0x313c93(0x258)](_0x31c068,0x3c),0x3e8));db[_0x313c93(0xe9)](_0x313c93(0x290)+roomCode+'/'+_0x32a68f[_0x313c93(0x22b)](sanitizeUsername,_0x1bd7e5))['set']({'muteUntil':_0x2b083d})[_0x313c93(0x325)](()=>{const _0x1b3517=_0x313c93;_0x32a68f[_0x1b3517(0x20c)](alert,_0x1bd7e5+_0x1b3517(0x307)+_0x31c068+'\x20minutes.'),addSystemMessage(_0x1bd7e5+_0x1b3517(0xa6)+_0x31c068+_0x1b3517(0xd8));});}function unmuteUser(_0x389be4){const _0x11790b=_0x4260f6,_0x3ba533={'mIflP':function(_0x4e735b,_0x46afee){return _0x4e735b(_0x46afee);}};if(!isRoomAdmin)return _0x3ba533[_0x11790b(0x300)](alert,_0x11790b(0x33f));db[_0x11790b(0xe9)](_0x11790b(0x290)+roomCode+'/'+_0x3ba533[_0x11790b(0x300)](sanitizeUsername,_0x389be4))[_0x11790b(0xaa)]();}function updateOnlineIndicator(){const _0x49fca0=_0x4260f6,_0xad8d64={'gynwl':_0x49fca0(0x236),'kuewA':_0x49fca0(0x146),'ZTBLZ':_0x49fca0(0x179)},_0x44387a=document[_0x49fca0(0x13f)](_0xad8d64[_0x49fca0(0x2db)]);_0x44387a[_0x49fca0(0x119)]=_0xad8d64[_0x49fca0(0x35b)],_0x44387a['style'][_0x49fca0(0x27d)]=_0xad8d64[_0x49fca0(0x331)];}setInterval(updateOnlineIndicator,0xbb8);function viewProfile(_0x34969d){const _0x3669a7=_0x4260f6,_0x49c43c={'sNYQN':_0x3669a7(0x2c1),'vljUQ':_0x3669a7(0x163),'hyXjd':_0x3669a7(0x11d)};db[_0x3669a7(0xe9)](_0x3669a7(0x17a)+_0x34969d)[_0x3669a7(0x1c8)]()[_0x3669a7(0x325)](_0x507690=>{const _0x5cb246=_0x3669a7;if(!_0x507690[_0x5cb246(0x154)]())return alert('Profile\x20not\x20found.');const _0x658bce=_0x507690[_0x5cb246(0x274)](),_0x1c8dd7=(_0x5cb246(0x1ec)+_0x658bce[_0x5cb246(0x1d1)]+_0x5cb246(0x199)+(_0x658bce[_0x5cb246(0x139)]||_0x5cb246(0x109))+_0x5cb246(0x2eb)+((_0x658bce[_0x5cb246(0xeb)]||[])[_0x5cb246(0x1dc)](',\x20')||_0x49c43c[_0x5cb246(0x148)])+'\x0aLast\x20Changed:\x20'+(_0x658bce[_0x5cb246(0x25f)]?new Date(_0x658bce[_0x5cb246(0x25f)])['toLocaleString']():_0x5cb246(0xb8))+_0x5cb246(0x15b))[_0x5cb246(0x18c)]();document[_0x5cb246(0x13f)](_0x49c43c[_0x5cb246(0x315)])[_0x5cb246(0x119)]=_0x1c8dd7,document[_0x5cb246(0x13f)](_0x5cb246(0x144))['style'][_0x5cb246(0x1f5)]=_0x49c43c[_0x5cb246(0x176)];});}function initUsernameFlow(){const _0xb6f282=_0x4260f6,_0x5410f9={'CtVOx':_0xb6f282(0x344),'VFDfT':_0xb6f282(0x1cb),'ytkbi':function(_0x5351af,_0x288208){return _0x5351af(_0x288208);},'vFbyc':_0xb6f282(0x116)},_0x44f409=localStorage[_0xb6f282(0x233)](_0x5410f9['CtVOx']);!_0x44f409?showScreen(_0xb6f282(0x351)):(username=_0x44f409,document['getElementById'](_0x5410f9[_0xb6f282(0x287)])['innerText']=username,_0x5410f9[_0xb6f282(0x309)](showScreen,_0x5410f9[_0xb6f282(0x195)]));}function closeProfile(){const _0x4650ef=_0x4260f6,_0x1d5be2={'TCjph':'profileViewer','qPKOU':'none'};document[_0x4650ef(0x13f)](_0x1d5be2[_0x4650ef(0x10d)])[_0x4650ef(0x35a)][_0x4650ef(0x1f5)]=_0x1d5be2[_0x4650ef(0x22d)];}function resetWebsiteData(){const _0x52584e=_0x4260f6,_0x3d29b0={'rNzgY':_0x52584e(0x249),'EFoGP':function(_0x5ec7a8,_0x42f7af){return _0x5ec7a8||_0x42f7af;},'RNmCP':_0x52584e(0x339),'WCRWD':function(_0x3eb31f,_0x152d67){return _0x3eb31f+_0x152d67;}};try{const _0x263429=localStorage[_0x52584e(0x233)](_0x3d29b0[_0x52584e(0xb7)]);localStorage['clear'](),sessionStorage[_0x52584e(0x159)](),_0x263429&&localStorage[_0x52584e(0x328)](_0x3d29b0[_0x52584e(0xb7)],_0x263429);}catch(_0x2630d2){}if(_0x3d29b0[_0x52584e(0x2cf)](!username,!roomCode)){const _0x5418f7=_0x3d29b0['RNmCP'][_0x52584e(0x2e9)]('|');let _0x54ca78=0x0;while(!![]){switch(_0x5418f7[_0x54ca78++]){case'0':clientId=_0x3d29b0[_0x52584e(0x354)]('_',Math[_0x52584e(0x29e)]()[_0x52584e(0x2d9)](0x24)[_0x52584e(0x27c)](0x2,0x9));continue;case'1':pendingMessages=[];continue;case'2':roomCode=null;continue;case'3':username=null;continue;case'4':isRoomAdmin=![];continue;}break;}}}function addAnnouncement(){const _0x38b605=_0x4260f6,_0x3d46dc={'EOVHA':function(_0x3a2a10,_0x4a6549){return _0x3a2a10(_0x4a6549);}},_0x34818e=_0x3d46dc[_0x38b605(0x1bd)](prompt,'Enter\x20Announcement\x20Text:');if(!_0x34818e)return;db[_0x38b605(0xe9)](_0x38b605(0x2e7)+roomCode+'/announcement')[_0x38b605(0xd0)]({'text':_0x34818e,'by':username,'timestamp':Date[_0x38b605(0x22f)]()});}function listenForAnnouncement(){const _0x4ae4ae=_0x4260f6,_0xc51159={'DKgKb':_0x4ae4ae(0x1a1),'XlEfH':_0x4ae4ae(0x18a)},_0x3cec94=db[_0x4ae4ae(0xe9)](_0x4ae4ae(0x2e7)+roomCode+_0x4ae4ae(0xf5));_0x3cec94['on'](_0xc51159[_0x4ae4ae(0x251)],_0x273ada=>{const _0xc7b280=_0x4ae4ae,_0x1d6d56=_0x273ada[_0xc7b280(0x274)]();if(!_0x1d6d56){document[_0xc7b280(0x13f)]('announcementArea')['innerText']='';return;}const _0x20dc5a=document[_0xc7b280(0x13f)](_0xc51159['DKgKb']);_0x20dc5a[_0xc7b280(0x119)]=''+_0x1d6d56['text'];});}document['getElementById'](_0x4260f6(0x1a1))[_0x4260f6(0x1d8)](_0x4260f6(0x172),_0xa59872=>{const _0x5e17f0=_0x4260f6,_0x18944c={'VktbF':function(_0x2fb89e,_0x243623){return _0x2fb89e===_0x243623;},'tmvGD':function(_0x412f2a,_0x4825a5){return _0x412f2a(_0x4825a5);},'LaJSp':_0x5e17f0(0x2bb)};_0x18944c[_0x5e17f0(0xed)](_0xa59872[_0x5e17f0(0x2b9)],0x3)&&isRoomAdmin&&(_0x18944c[_0x5e17f0(0x13e)](confirm,_0x18944c[_0x5e17f0(0xcf)])&&db[_0x5e17f0(0xe9)](_0x5e17f0(0x2e7)+roomCode+'/announcement')[_0x5e17f0(0xaa)]());}),document[_0x4260f6(0x13f)]('msgInput')[_0x4260f6(0x1d8)]('input',()=>{const _0x4b55e5=_0x4260f6,_0x32be47={'PdNuC':_0x4b55e5(0x13a)},_0x4614c7=document[_0x4b55e5(0x13f)](_0x4b55e5(0x132));_0x563570?_0x4614c7['style'][_0x4b55e5(0x1dd)]=_0x32be47[_0x4b55e5(0x30f)]:_0x4614c7[_0x4b55e5(0x35a)][_0x4b55e5(0x1dd)]='';const _0x570dff=_0x4614c7['value'][_0x4b55e5(0xe4)](),_0x563570=swearWords[_0x4b55e5(0x29b)](_0x23ae6c=>_0x570dff['includes'](_0x23ae6c));_0x563570?(_0x4614c7['style'][_0x4b55e5(0x1dd)]=_0x32be47[_0x4b55e5(0x30f)],sendBtn[_0x4b55e5(0x206)]=!![]):(_0x4614c7[_0x4b55e5(0x35a)][_0x4b55e5(0x1dd)]='',_0x563570?_0x4614c7[_0x4b55e5(0x35a)]['border']=_0x4b55e5(0x13a):_0x4614c7['style']['border']='');});function muteUser(_0x172cf1,_0x4bdc83){const _0x5cfa31=_0x4260f6,_0x4925ea={'VSymR':function(_0x480823,_0xf44231){return _0x480823(_0xf44231);},'nDNUY':function(_0x18a0a5,_0x1df9da){return _0x18a0a5+_0x1df9da;},'OiSnM':function(_0x16ff44,_0x423878){return _0x16ff44*_0x423878;},'zzLdu':function(_0x15adde,_0x1e64ec){return _0x15adde*_0x1e64ec;}},_0x14459e=_0x4925ea['nDNUY'](Date[_0x5cfa31(0x22f)](),_0x4925ea[_0x5cfa31(0xfb)](_0x4925ea[_0x5cfa31(0x1b3)](_0x4bdc83,0x3c),0x3e8));db['ref']('muted/'+roomCode+'/'+sanitizeUsername(_0x172cf1))['set']({'muteUntil':_0x14459e})[_0x5cfa31(0x325)](()=>{const _0x3c92d2=_0x5cfa31;_0x4925ea[_0x3c92d2(0x225)](alert,_0x172cf1+'\x20muted\x20for\x20'+_0x4bdc83+'\x20minutes.');});}function deleteUserMessages(_0x2cb1ec){const _0x22aac6=_0x4260f6,_0x17848e={'XtgNk':function(_0x18e70e,_0x20ab64){return _0x18e70e(_0x20ab64);}};db['ref'](_0x22aac6(0x2e7)+roomCode+_0x22aac6(0xbe))[_0x22aac6(0x104)]('sender')[_0x22aac6(0x323)](_0x2cb1ec)[_0x22aac6(0x1c8)]()[_0x22aac6(0x325)](_0x373667=>{const _0x2c9465=_0x22aac6;_0x373667[_0x2c9465(0x1b5)](_0x379753=>{const _0x538ed7=_0x2c9465;db[_0x538ed7(0xe9)](_0x538ed7(0x2e7)+roomCode+_0x538ed7(0x106)+_0x379753[_0x538ed7(0x34b)])[_0x538ed7(0xaa)]();}),_0x17848e[_0x2c9465(0xde)](alert,_0x2c9465(0x2f3)+_0x2cb1ec+_0x2c9465(0x1af));});}function pauseRoom(_0x425508){const _0x59f01b=_0x4260f6,_0x146d5b={'WxzxU':_0x59f01b(0xef),'IhGcL':_0x59f01b(0x11d),'WPrPJ':_0x59f01b(0x19d),'sDqcq':_0x59f01b(0x18a)};db[_0x59f01b(0xe9)]('rooms/'+roomCode+_0x59f01b(0x285))['on'](_0x146d5b[_0x59f01b(0x102)],_0x4093cf=>{const _0x24dc9c=_0x59f01b,_0x37197a=_0x4093cf['val']();document[_0x24dc9c(0x13f)](_0x146d5b['WxzxU'])['style'][_0x24dc9c(0x1f5)]=_0x37197a?_0x146d5b[_0x24dc9c(0xa2)]:_0x146d5b[_0x24dc9c(0x1b0)];});}function canPerformAction(_0x510549){const _0x6f5d97=_0x4260f6,_0x5cb6f0={'cdyOq':'mute','RyAOD':_0x6f5d97(0x192),'vkDbt':function(_0x5b2ab6,_0x249582){return _0x5b2ab6===_0x249582;},'NsPHz':'admin','SGfTR':function(_0x8bc49b,_0x57668a){return _0x8bc49b===_0x57668a;},'yJjdu':_0x6f5d97(0x151),'iOoPV':function(_0xde6c7,_0x34bc1d){return _0xde6c7===_0x34bc1d;},'EbSbD':_0x6f5d97(0xb2)};if(role===_0x6f5d97(0x1f4))return!![];if(_0x510549===_0x5cb6f0[_0x6f5d97(0x338)]||_0x510549===_0x5cb6f0[_0x6f5d97(0x299)])return _0x5cb6f0['vkDbt'](role,_0x5cb6f0['NsPHz'])||_0x5cb6f0[_0x6f5d97(0x2b7)](role,_0x5cb6f0[_0x6f5d97(0x24d)]);if(_0x5cb6f0[_0x6f5d97(0x254)](_0x510549,_0x5cb6f0[_0x6f5d97(0xcb)]))return role==='admin';return![];}const html=Object[_0x4260f6(0x262)](roomUsers)[_0x4260f6(0x26b)](_0x2a56ea=>{const _0x5bee30=_0x4260f6,_0x12df5a={'WoRtZ':function(_0xe2764c,_0x377504){return _0xe2764c(_0x377504);},'bKnNj':function(_0x420ea4,_0x2a75d5){return _0x420ea4!==_0x2a75d5;},'YYsrk':function(_0x51d34a,_0x25f6f3){return _0x51d34a(_0x25f6f3);},'nfeop':_0x5bee30(0xa0),'kvdbn':_0x5bee30(0x192),'gPMhT':'dev','rhMNL':function(_0x5f387a,_0x427047){return _0x5f387a===_0x427047;},'tTjLo':_0x5bee30(0x131),'JLoHr':function(_0x45e997,_0x1870b8){return _0x45e997(_0x1870b8);}},_0x3f8621=_0x12df5a[_0x5bee30(0x19a)](sanitizeUsername,_0x2a56ea[_0x5bee30(0x1d1)]),_0x16031f=[];if(_0x12df5a['bKnNj'](_0x3f8621,_0x12df5a[_0x5bee30(0x19a)](sanitizeUsername,username))){_0x12df5a[_0x5bee30(0x12a)](canPerformAction,_0x12df5a[_0x5bee30(0x145)])&&(_0x16031f[_0x5bee30(0x1d3)]('<button\x20onclick=\x22muteUser(\x27'+_0x3f8621+'\x27,\x205)\x22>Mute\x205m</button>'),_0x16031f['push'](_0x5bee30(0x30d)+_0x3f8621+_0x5bee30(0x185)));canPerformAction(_0x12df5a[_0x5bee30(0x265)])&&_0x16031f['push'](_0x5bee30(0x2b3)+_0x3f8621+_0x5bee30(0xe8));if(role===_0x12df5a['gPMhT'])_0x16031f[_0x5bee30(0x1d3)](_0x5bee30(0x26e)+_0x3f8621+_0x5bee30(0xcc)),_0x16031f[_0x5bee30(0x1d3)](_0x5bee30(0x12b)+_0x3f8621+'\x27)\x22>Promote\x20to\x20Admin</button>');else _0x12df5a[_0x5bee30(0x1c2)](role,_0x12df5a[_0x5bee30(0x15e)])&&_0x16031f[_0x5bee30(0x1d3)](_0x5bee30(0x26e)+_0x3f8621+'\x27)\x22>Promote\x20to\x20Moderator</button>');}return _0x5bee30(0x1b9)+_0x2a56ea['username']+'\x20'+getRoleTag(_0x12df5a[_0x5bee30(0x358)](sanitizeUsername,_0x2a56ea[_0x5bee30(0x1d1)]))+_0x5bee30(0x12f)+_0x3f8621+_0x5bee30(0x1c1)+_0x16031f[_0x5bee30(0x1dc)]('')+_0x5bee30(0x1b4)+_0x3f8621+_0x5bee30(0x32e);})[_0x4260f6(0x1dc)]('');function promoteToModerator(_0x28a322){const _0x49628f=_0x4260f6,_0x59ff75={'Uzrew':function(_0x23446c,_0x8ec76e){return _0x23446c(_0x8ec76e);},'CZOlI':function(_0x2e51ab,_0x522759){return _0x2e51ab(_0x522759);},'YPmfu':function(_0x3afdab,_0x271ed3){return _0x3afdab(_0x271ed3);},'lxMWo':_0x49628f(0x20e),'aeWdD':function(_0x403f02,_0xc7612f){return _0x403f02!==_0xc7612f;},'PEdCJ':_0x49628f(0x1f4),'myYyB':_0x49628f(0x131),'KrCpG':function(_0x5aaa51,_0x4e4203){return _0x5aaa51(_0x4e4203);},'MDdDT':_0x49628f(0x14c)},_0x9a6e3=_0x59ff75[_0x49628f(0x26d)](sanitizeUsername,_0x28a322);if(isProtected(_0x9a6e3))return alert(_0x59ff75[_0x49628f(0x110)]);if(_0x59ff75['aeWdD'](role,_0x59ff75[_0x49628f(0x1e6)])&&role!==_0x59ff75['myYyB']){_0x59ff75['KrCpG'](alert,_0x59ff75[_0x49628f(0x133)]);return;}db[_0x49628f(0xe9)](_0x49628f(0x319)+roomCode+'/'+_0x9a6e3)[_0x49628f(0xd0)](!![])[_0x49628f(0x325)](()=>{const _0x2681da=_0x49628f;_0x59ff75['Uzrew'](alert,_0x28a322+_0x2681da(0x1cc)),_0x59ff75[_0x2681da(0x243)](addSystemMessage,_0x28a322+_0x2681da(0xb9));});}function promoteToAdmin(_0x5aba6c){const _0x5dd6f6=_0x4260f6,_0x1fc7fc={'qflaB':function(_0x8906d5,_0x2e66d5){return _0x8906d5(_0x2e66d5);},'rcSyK':function(_0x4116d5,_0x3d7c37){return _0x4116d5(_0x3d7c37);},'qAnSl':function(_0x56be0b,_0x5d04a8){return _0x56be0b(_0x5d04a8);},'QxsGy':function(_0x3a5e0d,_0x56f181){return _0x3a5e0d(_0x56f181);},'YnOwl':_0x5dd6f6(0x20e),'Kfdtz':function(_0x1064bb,_0x25b97f){return _0x1064bb!==_0x25b97f;},'KAoHg':function(_0x302d3c,_0x1e1723){return _0x302d3c(_0x1e1723);},'qxZyK':_0x5dd6f6(0x22a)},_0x850f6a=_0x1fc7fc['qAnSl'](sanitizeUsername,_0x5aba6c);if(_0x1fc7fc[_0x5dd6f6(0xff)](isProtected,_0x850f6a))return _0x1fc7fc[_0x5dd6f6(0x1a4)](alert,_0x1fc7fc[_0x5dd6f6(0x1bb)]);if(_0x1fc7fc[_0x5dd6f6(0x1d7)](role,_0x5dd6f6(0x1f4))){_0x1fc7fc[_0x5dd6f6(0x12d)](alert,_0x1fc7fc[_0x5dd6f6(0x33a)]);return;}db['ref']('admins/'+roomCode+'/'+_0x850f6a)[_0x5dd6f6(0xd0)](!![])['then'](()=>{const _0x4a7c22=_0x5dd6f6;_0x1fc7fc[_0x4a7c22(0x276)](alert,_0x5aba6c+'\x20promoted\x20to\x20Admin!'),_0x1fc7fc['rcSyK'](addSystemMessage,_0x5aba6c+'\x20was\x20promoted\x20to\x20Admin');});}function toggleUserOptions(_0x41574b){const _0x599f14=_0x4260f6,_0x6edb38={'nBYMA':function(_0xd7db2d,_0x421e14){return _0xd7db2d===_0x421e14;},'lvJxV':'dev','WODDw':'admin','dcLYD':_0x599f14(0x19d)};(_0x6edb38[_0x599f14(0x142)](role,_0x6edb38['lvJxV'])||role===_0x6edb38[_0x599f14(0x126)])&&controls[_0x599f14(0x1d3)](_0x599f14(0x1c9)+safeName+_0x599f14(0x30a));const _0x5b0004=document[_0x599f14(0x13f)](_0x599f14(0x2a4)+_0x41574b);_0x6edb38[_0x599f14(0x142)](_0x5b0004[_0x599f14(0x35a)][_0x599f14(0x1f5)],_0x6edb38[_0x599f14(0xb4)])?_0x5b0004[_0x599f14(0x35a)]['display']=_0x599f14(0x11d):_0x5b0004[_0x599f14(0x35a)][_0x599f14(0x1f5)]=_0x6edb38['dcLYD'];}function demoteUser(_0xcf5b80){const _0x3bd300=_0x4260f6,_0x2aa772={'JIZbh':function(_0x3b9b0c,_0x3a2768){return _0x3b9b0c(_0x3a2768);},'bGAnz':function(_0x43e22a,_0x4e3118){return _0x43e22a(_0x4e3118);},'BYyPU':'🚫\x20You\x20cannot\x20demote\x20a\x20Developer.','qSEkU':_0x3bd300(0x1f4),'kNkDH':_0x3bd300(0x131),'rpVYb':'🚫\x20Only\x20Admins\x20or\x20Devs\x20can\x20demote.'};if(_0x2aa772[_0x3bd300(0x115)](isProtected,_0xcf5b80))return _0x2aa772[_0x3bd300(0x200)](alert,_0x2aa772['BYyPU']);if(role===_0x2aa772[_0x3bd300(0x2b2)])db['ref']('admins/'+roomCode+'/'+_0xcf5b80)['remove'](),db['ref'](_0x3bd300(0x319)+roomCode+'/'+_0xcf5b80)[_0x3bd300(0xaa)](),_0x2aa772[_0x3bd300(0x200)](alert,_0xcf5b80+'\x20demoted\x20to\x20user.');else role===_0x2aa772[_0x3bd300(0xe5)]?(db[_0x3bd300(0xe9)]('moderators/'+roomCode+'/'+_0xcf5b80)[_0x3bd300(0xaa)](),alert(_0xcf5b80+'\x20demoted\x20to\x20user.')):_0x2aa772[_0x3bd300(0x200)](alert,_0x2aa772[_0x3bd300(0x2e6)]);}function getRoleTag(_0x33653a){const _0x33d2fd=_0x4260f6,_0x1f5a02=sanitizeUsername(_0x33653a);if(globalDevs['includes'](_0x1f5a02))return _0x33d2fd(0x357);if(roomAdmins[_0x33d2fd(0x215)](_0x1f5a02))return _0x33d2fd(0xb6);if(roomModerators['includes'](_0x1f5a02))return _0x33d2fd(0x347);return'';}async function loadRoomRoles(){const _0x52ad61=_0x4260f6,_0x2333f7={'DwCMz':function(_0x5f3915,_0x7fe433){return _0x5f3915(_0x7fe433);},'hINJn':_0x52ad61(0x241),'vajPF':_0x52ad61(0x1f4),'huwnl':'admin','dTBXJ':_0x52ad61(0x151),'ggYWd':_0x52ad61(0x211)},_0x41b828=_0x2333f7[_0x52ad61(0x23b)](sanitizeUsername,username);globalDevs=[],roomAdmins=[],roomModerators=[];const _0x7f8582=await db['ref'](_0x2333f7['hINJn'])[_0x52ad61(0x1c8)]();_0x7f8582['forEach'](_0x7217ac=>{const _0x507957=_0x52ad61;if(_0x7217ac[_0x507957(0x274)]()['role']===_0x507957(0x1f4))globalDevs[_0x507957(0x1d3)](_0x7217ac[_0x507957(0x34b)]);});const _0x3e4a8c=await db[_0x52ad61(0xe9)](_0x52ad61(0x103)+roomCode)[_0x52ad61(0x1c8)]();_0x3e4a8c['exists']()&&_0x3e4a8c['forEach'](_0x892cae=>roomAdmins[_0x52ad61(0x1d3)](_0x892cae[_0x52ad61(0x34b)]));const _0x14eba8=await db[_0x52ad61(0xe9)](_0x52ad61(0x319)+roomCode)[_0x52ad61(0x1c8)]();_0x14eba8[_0x52ad61(0x154)]()&&_0x14eba8[_0x52ad61(0x1b5)](_0x3cc2c9=>roomModerators['push'](_0x3cc2c9[_0x52ad61(0x34b)]));if(globalDevs['includes'](_0x41b828))role=_0x2333f7[_0x52ad61(0x31b)];else{if(roomAdmins[_0x52ad61(0x215)](_0x41b828))role=_0x2333f7[_0x52ad61(0xf2)];else roomModerators[_0x52ad61(0x215)](_0x41b828)?role=_0x2333f7[_0x52ad61(0x2ea)]:role=_0x2333f7['ggYWd'];}}async function renderUserLists(_0x586327){const _0x8e8e7b=_0x4260f6,_0x3d9c26={'hAmGf':function(_0x250d4f,_0x3a4908){return _0x250d4f(_0x3a4908);},'ppuLs':function(_0x5e0409,_0x3762c6){return _0x5e0409(_0x3762c6);},'ghcup':function(_0x3e1ab8,_0x2432db){return _0x3e1ab8===_0x2432db;},'LcvdE':function(_0xf740ad,_0x5d0031){return _0xf740ad===_0x5d0031;},'IILDY':_0x8e8e7b(0x1f4),'gQOEq':_0x8e8e7b(0x131),'nlqMu':function(_0x333b87,_0xd3d5dc){return _0x333b87===_0xd3d5dc;},'YCICT':function(_0x261d6f,_0x1be5b0){return _0x261d6f(_0x1be5b0);},'gYisb':'moderator','nQhtk':_0x8e8e7b(0x2fa),'jwtJw':_0x8e8e7b(0x11d),'pwemS':_0x8e8e7b(0x19d),'yXnGR':_0x8e8e7b(0xc1),'wrMZV':_0x8e8e7b(0x273)};roomUsers=_0x586327;const _0x1b9ad1=_0x3d9c26[_0x8e8e7b(0x342)](sanitizeUsername,username),_0xe451af=_0x3d9c26[_0x8e8e7b(0xc7)](role,_0x3d9c26[_0x8e8e7b(0xe6)])||role===_0x8e8e7b(0x131)||_0x3d9c26[_0x8e8e7b(0xc7)](role,_0x3d9c26[_0x8e8e7b(0x327)]);document[_0x8e8e7b(0x13f)](_0x3d9c26['nQhtk'])[_0x8e8e7b(0x35a)]['display']=_0xe451af?_0x3d9c26[_0x8e8e7b(0x31d)]:_0x3d9c26[_0x8e8e7b(0x135)];const _0x4be741=Object[_0x8e8e7b(0xf4)](_0x586327)[_0x8e8e7b(0x26b)](async([_0x5d5e5b,_0x40ebcf])=>{const _0x38c1f5=_0x8e8e7b,_0x436176=sanitizeUsername(_0x40ebcf[_0x38c1f5(0x1d1)]||_0x5d5e5b),_0xfc907c=await _0x3d9c26[_0x38c1f5(0xa5)](fetchAvatar,_0x436176),_0xccfabd=_0xfc907c?'<img\x20src=\x22data:image/png;base64,'+_0xfc907c+_0x38c1f5(0x2fc):'',_0x4293e5=_0x40ebcf[_0x38c1f5(0xfc)]?_0x38c1f5(0x1de):_0x38c1f5(0x1cd);return _0x38c1f5(0x173)+_0xccfabd+'\x20'+_0x4293e5+_0x38c1f5(0x18d)+_0x436176+_0x38c1f5(0x355)+(_0x40ebcf[_0x38c1f5(0x1d1)]||_0x5d5e5b)+_0x38c1f5(0x21b)+_0x3d9c26[_0x38c1f5(0xa5)](getRoleTag,_0x436176)+_0x38c1f5(0x1c5);}),_0x193e1f=await Promise[_0x8e8e7b(0x17d)](_0x4be741);document[_0x8e8e7b(0x13f)](_0x3d9c26[_0x8e8e7b(0x1ee)])[_0x8e8e7b(0x257)]=_0x193e1f['join']('');if(!_0xe451af)return;const _0x51bc83=Object[_0x8e8e7b(0xf4)](_0x586327)[_0x8e8e7b(0x26b)](async([_0x140f1a,_0xbc8d38])=>{const _0x376715=_0x8e8e7b,_0x2f8277=_0x3d9c26[_0x376715(0x2ef)](sanitizeUsername,_0xbc8d38[_0x376715(0x1d1)]||_0x140f1a);if(_0x3d9c26[_0x376715(0x349)](_0x2f8277,_0x1b9ad1))return'';const _0x245973=globalDevs[_0x376715(0x215)](_0x2f8277),_0x29a3b5=await fetchAvatar(_0x2f8277),_0x3ae377=_0x29a3b5?_0x376715(0x212)+_0x29a3b5+_0x376715(0x2fc):'',_0x2bd58f=_0xbc8d38['online']?_0x376715(0x1de):_0x376715(0x1cd),_0x5824d9=[];if(!_0x245973){(_0x3d9c26['LcvdE'](role,_0x3d9c26[_0x376715(0xe6)])||role===_0x3d9c26[_0x376715(0xf6)]||_0x3d9c26['LcvdE'](role,'moderator'))&&(_0x5824d9[_0x376715(0x1d3)](_0x376715(0x30d)+_0x2f8277+_0x376715(0x313)),_0x5824d9[_0x376715(0x1d3)](_0x376715(0x30d)+_0x2f8277+_0x376715(0x2c7)),_0x5824d9[_0x376715(0x1d3)](_0x376715(0x30d)+_0x2f8277+_0x376715(0x185)));if(_0x3d9c26[_0x376715(0x349)](role,_0x3d9c26[_0x376715(0xe6)]))_0x5824d9['push'](_0x376715(0x26e)+_0x2f8277+_0x376715(0x269)),_0x5824d9[_0x376715(0x1d3)](_0x376715(0x12b)+_0x2f8277+_0x376715(0x113)),_0x5824d9['push']('<button\x20onclick=\x22demoteUser(\x27'+_0x2f8277+_0x376715(0x30a));else _0x3d9c26[_0x376715(0xc7)](role,_0x3d9c26[_0x376715(0xf6)])&&(_0x5824d9[_0x376715(0x1d3)](_0x376715(0x26e)+_0x2f8277+_0x376715(0x269)),_0x5824d9[_0x376715(0x1d3)]('<button\x20onclick=\x22demoteUser(\x27'+_0x2f8277+_0x376715(0x30a)));}return _0x376715(0x1df)+_0x3ae377+'\x20'+_0x2bd58f+_0x376715(0x29f)+(_0xbc8d38[_0x376715(0x1d1)]||_0x140f1a)+'\x20'+_0x3d9c26[_0x376715(0x2ef)](getRoleTag,_0x2f8277)+_0x376715(0x1e9)+_0x5824d9[_0x376715(0x1dc)]('\x20')+_0x376715(0x2c2);}),_0x4dd3fb=await Promise['all'](_0x51bc83);document[_0x8e8e7b(0x13f)](_0x3d9c26[_0x8e8e7b(0x275)])[_0x8e8e7b(0x257)]=_0x4dd3fb['join']('');}async function fetchAvatar(_0x4e0fca){const _0x3f97f0=_0x4260f6;if(userAvatars[_0x4e0fca])return userAvatars[_0x4e0fca];const _0x3a9cee=await db[_0x3f97f0(0xe9)](_0x3f97f0(0x17a)+_0x4e0fca)['get']();if(_0x3a9cee['exists']()&&_0x3a9cee[_0x3f97f0(0x274)]()['avatarBase64'])return userAvatars[_0x4e0fca]=_0x3a9cee[_0x3f97f0(0x274)]()[_0x3f97f0(0x1d5)],userAvatars[_0x4e0fca];return null;}function sendTyping(){const _0x4e5514=_0x4260f6,_0x3489c4={'nvnOk':function(_0x5e10f5,_0x2cbd69){return _0x5e10f5(_0x2cbd69);},'obANV':function(_0x278112,_0x4e34c9){return _0x278112(_0x4e34c9);},'BQBgN':function(_0x368bb1,_0x5bb55e,_0x40ab6d){return _0x368bb1(_0x5bb55e,_0x40ab6d);}},_0x584337=_0x3489c4[_0x4e5514(0x178)](sanitizeUsername,username),_0x2aca40=Date['now']();db[_0x4e5514(0xe9)](_0x4e5514(0x1d4)+roomCode+'/'+_0x584337)[_0x4e5514(0xd0)](_0x2aca40);if(typingTimeout)_0x3489c4['obANV'](clearTimeout,typingTimeout);typingTimeout=_0x3489c4['BQBgN'](setTimeout,()=>{const _0x43c513=_0x4e5514;db[_0x43c513(0xe9)]('typing/'+roomCode+'/'+_0x584337)[_0x43c513(0xaa)]();},0xbb8);}function listenForTyping(){const _0x5972d6=_0x4260f6,_0x258e58={'QApPh':'typing','yhXyq':_0x5972d6(0x18a)};db['ref'](_0x5972d6(0x1d4)+roomCode)['on'](_0x258e58[_0x5972d6(0x2ae)],_0xc05f6a=>{const _0x44e308=_0x5972d6,_0x29d20c=document[_0x44e308(0x13f)](_0x258e58[_0x44e308(0x356)]);if(!_0xc05f6a['exists']())return _0x29d20c['innerText']='';const _0x444d1d=Date[_0x44e308(0x22f)](),_0x22a299=Object[_0x44e308(0xf4)](_0xc05f6a[_0x44e308(0x274)]())['filter'](([_0x3b93f7,_0x5794e3])=>_0x3b93f7!==sanitizeUsername(username)&&_0x444d1d-_0x5794e3<0x1388)[_0x44e308(0x26b)](([_0x3144cf])=>_0x3144cf);_0x29d20c[_0x44e308(0x119)]=_0x22a299[_0x44e308(0x23c)]?_0x22a299[_0x44e308(0x1dc)](',\x20')+_0x44e308(0x235):'';});}function watchMuteStatus(){const _0x14a30b=_0x4260f6,_0x2b54c2={'PDsLD':_0x14a30b(0x132),'aglcH':function(_0x3d73e4,_0x4babaa){return _0x3d73e4===_0x4babaa;},'vVQni':function(_0x1e4933,_0x1dd978){return _0x1e4933>_0x1dd978;},'swZhE':_0x14a30b(0xd9),'TdVZu':_0x14a30b(0x2cc),'oJwSn':function(_0x2a903e,_0x5bcbd2){return _0x2a903e(_0x5bcbd2);},'hpdvA':_0x14a30b(0x18a)},_0x226a4e=db[_0x14a30b(0xe9)]('muted/'+roomCode+'/'+_0x2b54c2[_0x14a30b(0x205)](sanitizeUsername,username));_0x226a4e['on'](_0x2b54c2[_0x14a30b(0x2c0)],_0x45f3c9=>{const _0x12da59=_0x14a30b,_0x32dec7=document['getElementById'](_0x2b54c2['PDsLD']);if(_0x45f3c9[_0x12da59(0x154)]()){const _0x874ab2=_0x45f3c9[_0x12da59(0x274)](),_0x588ae2=_0x2b54c2['aglcH'](typeof _0x874ab2,_0x12da59(0x278))&&_0x874ab2[_0x12da59(0x2b5)]?_0x874ab2[_0x12da59(0x2b5)]:_0x874ab2;_0x32dec7[_0x12da59(0x206)]=_0x2b54c2[_0x12da59(0x191)](_0x588ae2,Date[_0x12da59(0x22f)]()),_0x32dec7[_0x12da59(0x2d3)]=_0x2b54c2[_0x12da59(0x191)](_0x588ae2,Date['now']())?_0x2b54c2[_0x12da59(0x101)]:_0x2b54c2['TdVZu'];}else _0x32dec7[_0x12da59(0x206)]=![],_0x32dec7[_0x12da59(0x2d3)]=_0x2b54c2[_0x12da59(0x2d4)];});}function isProtected(_0x1523da){const _0x42073a=_0x4260f6;return globalDevs[_0x42073a(0x215)](_0x1523da);}function addSystemMessage(_0x44fe2e){const _0x52239e=_0x4260f6,_0x1f6f28={'EwFCM':_0x52239e(0x284),'puQrc':_0x52239e(0x1aa),'LuYGY':'0.8rem','JxyHK':_0x52239e(0x29c),'MfSua':_0x52239e(0x34a),'LKKNp':_0x52239e(0x105)},_0x2ad6ca=document[_0x52239e(0x1d0)](_0x1f6f28[_0x52239e(0x317)]);_0x2ad6ca['style'][_0x52239e(0xa8)]=_0x1f6f28['puQrc'],_0x2ad6ca['style'][_0x52239e(0x2a5)]=_0x1f6f28[_0x52239e(0x156)],_0x2ad6ca[_0x52239e(0x35a)][_0x52239e(0x27d)]=_0x1f6f28[_0x52239e(0x259)],_0x2ad6ca[_0x52239e(0x35a)][_0x52239e(0x305)]=_0x1f6f28[_0x52239e(0x18e)],_0x2ad6ca[_0x52239e(0x119)]=_0x44fe2e,document[_0x52239e(0x13f)](_0x1f6f28[_0x52239e(0x218)])[_0x52239e(0x1ed)](_0x2ad6ca),document['getElementById'](_0x1f6f28['LKKNp'])['scrollTop']=document[_0x52239e(0x13f)](_0x52239e(0x105))[_0x52239e(0x1eb)];}function reactToMessage(_0x33ee89,_0x6d3458){const _0x4e97d1=_0x4260f6,_0x453ea3={'nXtZP':function(_0xf7f6d5,_0x3a5b70){return _0xf7f6d5(_0x3a5b70);}},_0x516d26=_0x453ea3[_0x4e97d1(0xd1)](sanitizeUsername,username),_0x12a124=db[_0x4e97d1(0xe9)](_0x4e97d1(0x2e7)+roomCode+_0x4e97d1(0x106)+_0x33ee89+_0x4e97d1(0x24f)+_0x6d3458);_0x12a124[_0x4e97d1(0x1f7)](_0x4e97d1(0x18a))[_0x4e97d1(0x325)](_0x72f95e=>{const _0x56eb04=_0x4e97d1;let _0x454528=_0x72f95e[_0x56eb04(0x154)]()?_0x72f95e[_0x56eb04(0x274)]():[];!_0x454528[_0x56eb04(0x215)](_0x516d26)?_0x454528[_0x56eb04(0x1d3)](_0x516d26):_0x454528=_0x454528['filter'](_0xbb659e=>_0xbb659e!==_0x516d26),_0x454528[_0x56eb04(0x23c)]?_0x12a124[_0x56eb04(0xd0)](_0x454528):_0x12a124[_0x56eb04(0xaa)]();});}