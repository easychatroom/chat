const _0xd02e04=_0x2926;(function(_0x239680,_0x475f48){const _0x59fcd0=_0x2926,_0x201700=_0x239680();while(!![]){try{const _0x270173=-parseInt(_0x59fcd0(0x25a))/0x1+-parseInt(_0x59fcd0(0x266))/0x2*(parseInt(_0x59fcd0(0x235))/0x3)+parseInt(_0x59fcd0(0x213))/0x4+parseInt(_0x59fcd0(0x200))/0x5*(-parseInt(_0x59fcd0(0x240))/0x6)+-parseInt(_0x59fcd0(0x281))/0x7+parseInt(_0x59fcd0(0x225))/0x8+parseInt(_0x59fcd0(0x20b))/0x9;if(_0x270173===_0x475f48)break;else _0x201700['push'](_0x201700['shift']());}catch(_0x1fdcfc){_0x201700['push'](_0x201700['shift']());}}}(_0x29dd,0x984a2));const firebaseConfig={'apiKey':_0xd02e04(0x1f6),'authDomain':'easy-chatroom.firebaseapp.com','databaseURL':_0xd02e04(0x1ff),'projectId':_0xd02e04(0x1fe),'storageBucket':_0xd02e04(0x216),'messagingSenderId':_0xd02e04(0x1e8),'appId':_0xd02e04(0x219),'measurementId':_0xd02e04(0x22d)};firebase[_0xd02e04(0x1f9)](firebaseConfig);function _0x29dd(){const _0x572429=['\x22\x20style=\x22width:100%;margin-top:5px;\x22></audio>','rooms','exists','received','Please\x20enter\x20both\x20a\x20username\x20and\x20a\x20description.','onload','classList','G-QDESJ2WR42','users/','sent','keypress','floor','ceil','You\x20can\x20change\x20your\x20profile\x20again\x20in\x20','style','514536ghfoBJ','userSidebar','toUpperCase','val','lastOnline','child_added','lastChanged','<li\x20style=\x22color:','No\x20room\x20code\x20available\x20for\x20private\x20rooms','none','getItem','2375682qtcytx','online','filter','namePreview','profileUsernameInput','roomDisplay','description','Enter','toLocaleTimeString','<audio\x20controls\x20src=\x22','audioUrl','antispam/','Please\x20enter\x20a\x20valid\x20name','Missing\x20room\x20or\x20user\x20information.','block','\x0aLast\x20Changed:\x20','update','forEach','messages','roomChoiceScreen','get','database','pushState','profiles/','setItem','orderByChild','1141402UQWokB','onloadend','values','username','then','\x0aHistory:\x0a','data:audio/webm;base64,','Session\x20expired.','profileContent','innerText','contains','#888','6AfPsej','DOMContentLoaded','stop','state','add','from','push','userList','back','profileViewer','050BBB66HH','result','limitToLast','flex','</span><br>','profile_description','toLocaleString','getElementById','2-digit','ondataavailable','passwordError','rooms/','/messages/','\x0aName:\x20','typing','title','msg','1145956vSaelt','flagPageAttention','volume','chat_username','trim','created','usernameHistory','chatScreen','/typing','passwordScreen','mediaDevices','equalTo','random','length','msgInput','start','985049198428','reload','profileError','now','show','#00ff88','Profile\x20not\x20found.','map','innerHTML',')\x20New\x20message\x20‚Ä¢\x20','Room\x20doesn\x27t\x20exist\x20or\x20is\x20inactive.','\x20typing...','antispamBlocked','data','AIzaSyBhfQ1Wf5JEy6sOU4ExXboRI4Ir4y_aKZw','ref','hidden','initializeApp','audioBase64','scrollTop','\x0a\x20\x20\x20\x20','join','easy-chatroom','https://easy-chatroom-default-rtdb.firebaseio.com','5YiOYpV','set','audio/webm','/messages','TIMESTAMP','sidebarOpen',';cursor:pointer;\x22\x20onclick=\x22viewProfile(\x27','<small>','once','split','üéôÔ∏è','23958585qjbWQy','Enter\x20a\x20valid\x20room\x20code','/typing/','key','</li>','preventDefault','createElement','codeEntryScreen','139252qlDByd','ServerValue','remove','easy-chatroom.firebasestorage.app','display','profileScreen','1:985049198428:web:d0eb7e2de39887710c9b99','s\x20due\x20to\x20spam.\x20Please\x20wait.','profileDescriptionInput','0123456789','scrollHeight','play','sounds/beep.mp3','staticPasswordInput','addEventListener','value','recordBtn','antispamBlocked/','1139944gMjmBP'];_0x29dd=function(){return _0x572429;};return _0x29dd();}const db=firebase[_0xd02e04(0x255)]();let messageTimestamps=[],isBlocked=![],username=null,roomCode=null,clientId='_'+Math['random']()['toString'](0x24)['substr'](0x2,0x9),lastActivity=Date['now'](),typingTimeout,gr8stg='';const STATIC_ROOM=_0xd02e04(0x270),MAX_MESSAGES=0xfa,sound=new Audio(_0xd02e04(0x21f));sound[_0xd02e04(0x1da)]=0.3;let mediaRecorder,audioChunks=[],isRecording=![],recordingTimer;function toggleRecording(){const _0x33002c=_0xd02e04;isRecording?stopRecording():navigator[_0x33002c(0x1e2)]['getUserMedia']({'audio':!![]})[_0x33002c(0x25e)](_0x458e60=>{const _0x24ef1b=_0x33002c;mediaRecorder=new MediaRecorder(_0x458e60),mediaRecorder[_0x24ef1b(0x1e7)](),isRecording=!![],document[_0x24ef1b(0x277)](_0x24ef1b(0x223))['innerText']='‚èπÔ∏è',audioChunks=[],mediaRecorder[_0x24ef1b(0x279)]=_0x255321=>audioChunks[_0x24ef1b(0x26c)](_0x255321[_0x24ef1b(0x1f5)]),mediaRecorder['onstop']=()=>{const _0x3b3245=_0x24ef1b;clearTimeout(recordingTimer);const _0x42532d=new Blob(audioChunks,{'type':_0x3b3245(0x202)}),_0x370b79=new FileReader();_0x370b79[_0x3b3245(0x25b)]=()=>{const _0x21cdaf=_0x3b3245,_0xc8c97=_0x370b79[_0x21cdaf(0x271)][_0x21cdaf(0x209)](',')[0x1],_0x2cbf2f=db[_0x21cdaf(0x1f7)]()[_0x21cdaf(0x26c)]()[_0x21cdaf(0x20e)];db['ref'](_0x21cdaf(0x27b)+roomCode+_0x21cdaf(0x27c)+_0x2cbf2f)[_0x21cdaf(0x201)]({'msg':'[Voice\x20message]','audioBase64':_0xc8c97,'sender':username,'senderId':clientId,'timestamp':Date[_0x21cdaf(0x1eb)]()});},_0x370b79['readAsDataURL'](_0x42532d);},recordingTimer=setTimeout(()=>{mediaRecorder&&isRecording&&stopRecording();},0x4e20);})['catch'](_0x4de25a=>{alert('Microphone\x20permission\x20denied.');});}function stopRecording(){const _0x5c1416=_0xd02e04;mediaRecorder&&isRecording&&(mediaRecorder[_0x5c1416(0x268)](),isRecording=![],document['getElementById'](_0x5c1416(0x223))[_0x5c1416(0x263)]=_0x5c1416(0x20a));}window[_0xd02e04(0x22b)]=()=>{cleanupOldRooms(),setupSidebarBackHandler(),initUsernameFlow(),setupVisibilityAttention();};function sanitizeUsername(_0x66dfce){return _0x66dfce['replace'](/[.#$\[\]]/g,'_');}function submitProfile(){const _0x3b9443=_0xd02e04,_0x100323=document[_0x3b9443(0x277)](_0x3b9443(0x244))['value'][_0x3b9443(0x1dc)](),_0x431511=document[_0x3b9443(0x277)](_0x3b9443(0x21b))['value'][_0x3b9443(0x1dc)](),_0x44f6c3=document[_0x3b9443(0x277)](_0x3b9443(0x1ea));if(!_0x100323||!_0x431511){_0x44f6c3['innerText']=_0x3b9443(0x22a),_0x44f6c3[_0x3b9443(0x234)][_0x3b9443(0x217)]=_0x3b9443(0x24e);return;}_0x44f6c3['style'][_0x3b9443(0x217)]=_0x3b9443(0x23e),username=_0x100323;const _0x3a80f6=Date['now'](),_0x4a7e93=sanitizeUsername(_0x100323),_0x5f545d=db[_0x3b9443(0x1f7)](_0x3b9443(0x257)+_0x4a7e93);_0x5f545d[_0x3b9443(0x254)]()[_0x3b9443(0x25e)](_0x5ecf54=>{const _0x58114d=_0x3b9443,_0x3aa730=_0x5ecf54['val']()||{},_0x14a711=_0x3aa730[_0x58114d(0x1de)]||[];if(!_0x14a711['includes'](_0x100323))_0x14a711[_0x58114d(0x26c)](_0x100323);_0x5f545d[_0x58114d(0x201)]({'username':_0x100323,'description':_0x431511,'lastChanged':_0x3a80f6,'usernameHistory':_0x14a711}),localStorage[_0x58114d(0x258)](_0x58114d(0x1db),_0x100323),localStorage[_0x58114d(0x258)](_0x58114d(0x275),_0x431511),document[_0x58114d(0x277)](_0x58114d(0x243))[_0x58114d(0x263)]=username,showScreen(_0x58114d(0x253));});}function saveUsername(){const _0x11cb6d=_0xd02e04,_0x348ae5=document[_0x11cb6d(0x277)]('usernameInput')['value']['trim']();if(!_0x348ae5)return alert(_0x11cb6d(0x24c));username=_0x348ae5,localStorage[_0x11cb6d(0x258)]('chat_username',username),initUsernameFlow();}function generateRoom(){const _0x2404d4=_0xd02e04;roomCode=genRoomCode(),db[_0x2404d4(0x1f7)](_0x2404d4(0x27b)+roomCode)['set']({'active':!![],'created':Date[_0x2404d4(0x1eb)]()}),startChat();}function joinRoom(){const _0x2465c3=_0xd02e04,_0x54ae1a=roomCode||document[_0x2465c3(0x277)]('roomCodeInput')[_0x2465c3(0x222)][_0x2465c3(0x1dc)]()[_0x2465c3(0x237)]();if(!_0x54ae1a)return alert(_0x2465c3(0x20c));roomCode=_0x54ae1a;if(roomCode===STATIC_ROOM){showScreen(_0x2465c3(0x1e1));return;}db[_0x2465c3(0x1f7)](_0x2465c3(0x27b)+roomCode)[_0x2465c3(0x254)]()[_0x2465c3(0x25e)](_0x3a26df=>{const _0x4cc37a=_0x2465c3;_0x3a26df[_0x4cc37a(0x228)]()&&_0x3a26df[_0x4cc37a(0x238)]()['active']!==![]?startChat():alert(_0x4cc37a(0x1f2));});}function startChat(){const _0x39f384=_0xd02e04;if(!roomCode||!username)return alert(_0x39f384(0x24d)),showScreen('roomChoiceScreen');showScreen(_0x39f384(0x1df)),document[_0x39f384(0x277)]('userDisplay')['innerText']=username,(roomCode=_0x39f384(0x270))?document[_0x39f384(0x277)](_0x39f384(0x245))[_0x39f384(0x263)]=_0x39f384(0x23d):document[_0x39f384(0x277)]('roomDisplay')[_0x39f384(0x263)]=roomCode,listenForMessages(),listenForTyping(),startInactivityTimer(),trackPresence(),listenForUserList();}function validateStaticRoomPassword(){const _0x152fd1=_0xd02e04,_0x7ce058=document['getElementById'](_0x152fd1(0x220))[_0x152fd1(0x222)],_0x5394f7=document[_0x152fd1(0x277)](_0x152fd1(0x27a));db[_0x152fd1(0x1f7)]('gr8stg')[_0x152fd1(0x254)]()['then'](_0x5401af=>{const _0x2b0460=_0x152fd1,_0x45144e=_0x5401af[_0x2b0460(0x238)]();_0x7ce058===_0x45144e?(_0x5394f7['style'][_0x2b0460(0x217)]='none',startChat()):_0x5394f7[_0x2b0460(0x234)][_0x2b0460(0x217)]=_0x2b0460(0x24e);});}function sendMessage(){const _0x54c28f=_0xd02e04,_0x32d60f=document[_0x54c28f(0x277)](_0x54c28f(0x1e6)),_0x486be8=_0x32d60f[_0x54c28f(0x222)][_0x54c28f(0x1dc)]();if(!_0x486be8)return;const _0x50401b=Date[_0x54c28f(0x1eb)](),_0x29461e=sanitizeUsername(username);db[_0x54c28f(0x1f7)]('antispamBlocked/'+roomCode+'/'+_0x29461e)['once'](_0x54c28f(0x222))['then'](_0x2f0ff8=>{const _0x31fcec=_0x54c28f,_0x23fa8=_0x2f0ff8[_0x31fcec(0x238)]();if(_0x23fa8&&_0x50401b<_0x23fa8){const _0xaee3cd=Math[_0x31fcec(0x232)]((_0x23fa8-_0x50401b)/0x3e8);alert('‚õî\x20You\x27re\x20blocked\x20for\x20'+_0xaee3cd+_0x31fcec(0x21a));return;}const _0x25a842=db[_0x31fcec(0x1f7)](_0x31fcec(0x24b)+roomCode+'/'+_0x29461e);_0x25a842[_0x31fcec(0x208)](_0x31fcec(0x222))[_0x31fcec(0x25e)](_0x285c1e=>{const _0x1b72c5=_0x31fcec,_0x2d9421=_0x285c1e['val']()||[],_0x17e44c=[..._0x2d9421,_0x50401b]['filter'](_0x1e3188=>_0x50401b-_0x1e3188<0xbb8);if(_0x17e44c[_0x1b72c5(0x1e5)]>=0x5){alert('üö´\x20You\x27ve\x20been\x20blocked\x20for\x2030\x20seconds\x20due\x20to\x20spamming.'),db[_0x1b72c5(0x1f7)](_0x1b72c5(0x224)+roomCode+'/'+_0x29461e)[_0x1b72c5(0x201)](_0x50401b+0x7530);const _0x4ac0e3=db[_0x1b72c5(0x1f7)](_0x1b72c5(0x27b)+roomCode+_0x1b72c5(0x203));_0x4ac0e3[_0x1b72c5(0x259)]('senderId')[_0x1b72c5(0x1e3)](clientId)[_0x1b72c5(0x272)](0x5)['once'](_0x1b72c5(0x222),_0x2d3717=>{const _0x5299d5=_0x1b72c5;_0x2d3717[_0x5299d5(0x251)](_0x3cc3ea=>{const _0x41c127=_0x5299d5;_0x4ac0e3['child'](_0x3cc3ea[_0x41c127(0x20e)])['remove']();});}),_0x25a842[_0x1b72c5(0x201)]([]);return;}_0x25a842[_0x1b72c5(0x201)](_0x17e44c);const _0x468633=db[_0x1b72c5(0x1f7)]()[_0x1b72c5(0x26c)]()['key'];db[_0x1b72c5(0x1f7)](_0x1b72c5(0x27b)+roomCode+_0x1b72c5(0x27c)+_0x468633)[_0x1b72c5(0x201)]({'msg':_0x486be8,'sender':username,'senderId':clientId,'timestamp':_0x50401b}),_0x32d60f[_0x1b72c5(0x222)]='',sendTyping(!![]),lastActivity=_0x50401b;});});}function _0x2926(_0x5abeba,_0x2842ed){const _0x29dd83=_0x29dd();return _0x2926=function(_0x292646,_0x313742){_0x292646=_0x292646-0x1da;let _0x5bdf86=_0x29dd83[_0x292646];return _0x5bdf86;},_0x2926(_0x5abeba,_0x2842ed);}function listenForMessages(){const _0x33a7c1=_0xd02e04,_0x54c452=db['ref']('rooms/'+roomCode+_0x33a7c1(0x203)),_0xb5a4a8=_0x54c452[_0x33a7c1(0x272)](MAX_MESSAGES);_0xb5a4a8['on'](_0x33a7c1(0x23a),_0x113f0a=>{const _0x5dd5db=_0x33a7c1,_0x579f11=_0x113f0a['val'](),{msg:_0x37317b,sender:_0x490222,senderId:_0x297dab,timestamp:_0x46dd29}=_0x579f11,_0x519caf=_0x297dab===clientId;addMessage(_0x37317b,_0x490222,_0x46dd29,_0x519caf,_0x579f11[_0x5dd5db(0x24a)]||null,_0x579f11[_0x5dd5db(0x1fa)]||null),roomCode!==STATIC_ROOM&&db['ref'](_0x5dd5db(0x27b)+roomCode+_0x5dd5db(0x27c)+_0x113f0a[_0x5dd5db(0x20e)])[_0x5dd5db(0x215)](),!_0x519caf&&(sound[_0x5dd5db(0x21e)](),flagPageAttention());});}function addMessage(_0x2a2e8e,_0x794792,_0x4f3e49,_0x431801,_0xb8a159=null,_0x510af0=null){const _0x4b4d95=_0xd02e04,_0x4613cd=document[_0x4b4d95(0x211)]('div');_0x4613cd[_0x4b4d95(0x22c)][_0x4b4d95(0x26a)](_0x4b4d95(0x280),_0x431801?_0x4b4d95(0x22f):_0x4b4d95(0x229));const _0x36302d=new Date(_0x4f3e49)[_0x4b4d95(0x248)]([],{'hour':_0x4b4d95(0x278),'minute':'2-digit'});let _0x41f1f9='<span\x20class=\x22sender-name\x22>'+_0x794792+_0x4b4d95(0x274);if(_0xb8a159)_0x41f1f9+=_0x4b4d95(0x249)+_0xb8a159+'\x22\x20style=\x22width:100%;margin-top:5px;\x22></audio>';else{if(_0x510af0){const _0x20d5f4=_0x4b4d95(0x260)+_0x510af0;_0x41f1f9+='<audio\x20controls\x20src=\x22'+_0x20d5f4+_0x4b4d95(0x226);}else _0x41f1f9+=_0x2a2e8e;}_0x41f1f9+=_0x4b4d95(0x207)+_0x36302d+'</small>',_0x4613cd[_0x4b4d95(0x1f0)]=_0x41f1f9;const _0x1a7d62=document['getElementById'](_0x4b4d95(0x252));_0x1a7d62['appendChild'](_0x4613cd),_0x1a7d62[_0x4b4d95(0x1fb)]=_0x1a7d62[_0x4b4d95(0x21d)];}function cleanupOldRooms(){const _0x309948=_0xd02e04;db[_0x309948(0x1f7)](_0x309948(0x227))['once'](_0x309948(0x222))[_0x309948(0x25e)](_0x52b910=>{const _0x3d9f69=_0x309948,_0x89f790=_0x52b910[_0x3d9f69(0x238)]();if(!_0x89f790)return;const _0x10f2ce=Date[_0x3d9f69(0x1eb)]();for(const _0x315cde in _0x89f790){if(_0x315cde===STATIC_ROOM)continue;const _0x41b56c=_0x89f790[_0x315cde];_0x10f2ce-(_0x41b56c[_0x3d9f69(0x1dd)]||0x0)>0x2*0x3c*0x3e8&&db[_0x3d9f69(0x1f7)](_0x3d9f69(0x27b)+_0x315cde)['remove']();}db[_0x3d9f69(0x1f7)]('antispam')[_0x3d9f69(0x208)]('value')[_0x3d9f69(0x25e)](_0x125ebd=>{const _0x1b7633=_0x3d9f69,_0x2e411f=_0x125ebd[_0x1b7633(0x238)]();if(!_0x2e411f)return;for(const _0x2e71a8 in _0x2e411f){if(_0x2e71a8!==STATIC_ROOM)db[_0x1b7633(0x1f7)](_0x1b7633(0x24b)+_0x2e71a8)[_0x1b7633(0x215)]();}}),db['ref'](_0x3d9f69(0x1f4))['once']('value')[_0x3d9f69(0x25e)](_0x46e768=>{const _0x1b337a=_0x3d9f69,_0xd4b542=_0x46e768[_0x1b337a(0x238)]();if(!_0xd4b542)return;for(const _0x2e1a36 in _0xd4b542){if(_0x2e1a36!==STATIC_ROOM)db[_0x1b337a(0x1f7)]('antispamBlocked/'+_0x2e1a36)['remove']();}});});}document[_0xd02e04(0x221)](_0xd02e04(0x267),()=>{const _0x46d174=_0xd02e04,_0x4d325b=document[_0x46d174(0x277)]('msgInput');_0x4d325b&&_0x4d325b[_0x46d174(0x221)](_0x46d174(0x230),function(_0x32338d){const _0x31903b=_0x46d174;_0x32338d['key']===_0x31903b(0x247)&&(_0x32338d[_0x31903b(0x210)](),sendMessage());});});function showScreen(_0x20394f){const _0x471a27=_0xd02e04;['usernameScreen',_0x471a27(0x253),_0x471a27(0x212),'chatScreen',_0x471a27(0x1e1),'profileScreen'][_0x471a27(0x251)](_0x54a2f2=>{const _0x14366c=_0x471a27;document[_0x14366c(0x277)](_0x54a2f2)['style']['display']=_0x14366c(0x23e);}),document[_0x471a27(0x277)](_0x20394f)[_0x471a27(0x234)][_0x471a27(0x217)]=_0x471a27(0x273);}function genRoomCode(){const _0x2bd354=_0xd02e04,_0x4411da='ABCDEFGHIJKLMNOPQRSTUVWXYZ',_0x4f3b6e=_0x2bd354(0x21c),_0x3eccbe=(_0x21d014,_0x8d8b1)=>Array[_0x2bd354(0x26b)]({'length':_0x8d8b1},()=>_0x21d014[Math[_0x2bd354(0x231)](Math[_0x2bd354(0x1e4)]()*_0x21d014[_0x2bd354(0x1e5)])])[_0x2bd354(0x1fd)]('');return _0x3eccbe(_0x4f3b6e,0x3)+_0x3eccbe(_0x4411da,0x3)+_0x3eccbe(_0x4f3b6e,0x2)+_0x3eccbe(_0x4411da,0x2);}function startInactivityTimer(){setInterval(()=>{const _0x53100b=_0x2926;Date[_0x53100b(0x1eb)]()-lastActivity>0x5*0x3c*0x3e8&&roomCode!==STATIC_ROOM&&(db['ref']('rooms/'+roomCode)[_0x53100b(0x250)]({'active':![]}),alert(_0x53100b(0x261)),location[_0x53100b(0x1e9)]());},0x7530);}function setupSidebarBackHandler(){window['addEventListener']('popstate',()=>{const _0x31677c=_0x2926,_0x593cd4=document[_0x31677c(0x277)](_0x31677c(0x236));_0x593cd4?.[_0x31677c(0x22c)][_0x31677c(0x264)](_0x31677c(0x1ec))&&_0x593cd4['classList'][_0x31677c(0x215)](_0x31677c(0x1ec));});}function toggleSidebar(){const _0x152563=_0xd02e04,_0x305823=document[_0x152563(0x277)](_0x152563(0x236));if(!_0x305823[_0x152563(0x22c)][_0x152563(0x264)](_0x152563(0x1ec)))_0x305823[_0x152563(0x22c)][_0x152563(0x26a)](_0x152563(0x1ec)),history[_0x152563(0x256)]({'sidebarOpen':!![]},'');else{_0x305823[_0x152563(0x22c)]['remove'](_0x152563(0x1ec));if(history[_0x152563(0x269)]?.[_0x152563(0x205)])history[_0x152563(0x26e)]();}}function setupVisibilityAttention(){const _0x361c1d=_0xd02e04;let _0x565cd3=0x0,_0x294d58=document[_0x361c1d(0x27f)];document[_0x361c1d(0x221)]('visibilitychange',()=>{const _0x100b64=_0x361c1d;!document['hidden']&&(document[_0x100b64(0x27f)]=_0x294d58,_0x565cd3=0x0);}),window[_0x361c1d(0x282)]=function(){const _0x546884=_0x361c1d;document[_0x546884(0x1f8)]&&(_0x565cd3++,document[_0x546884(0x27f)]='('+_0x565cd3+_0x546884(0x1f1)+_0x294d58);};}function tryEditProfile(){const _0x553376=_0xd02e04,_0x289e3f=sanitizeUsername(username);db[_0x553376(0x1f7)]('profiles/'+_0x289e3f)[_0x553376(0x254)]()[_0x553376(0x25e)](_0x4a4d22=>{const _0x14d7d0=_0x553376,_0x3a61f6=_0x4a4d22[_0x14d7d0(0x238)]();if(!_0x3a61f6)return alert(_0x14d7d0(0x1ee));const _0x1e38de=_0x3a61f6[_0x14d7d0(0x23b)]||0x0,_0x41261b=Date[_0x14d7d0(0x1eb)](),_0x818685=0x18*0x3c*0x3c*0x3e8;if(_0x41261b-_0x1e38de<_0x818685){const _0x296fad=Math[_0x14d7d0(0x232)]((_0x818685-(_0x41261b-_0x1e38de))/(0x3c*0x3e8));alert(_0x14d7d0(0x233)+_0x296fad+'\x20minutes.');}else showScreen(_0x14d7d0(0x218)),document['getElementById'](_0x14d7d0(0x244))[_0x14d7d0(0x222)]=username,document[_0x14d7d0(0x277)](_0x14d7d0(0x21b))[_0x14d7d0(0x222)]=_0x3a61f6[_0x14d7d0(0x246)]||'';});}function listenForUserList(){const _0x83d137=_0xd02e04;db[_0x83d137(0x1f7)](_0x83d137(0x22e)+roomCode)['on']('value',_0x4e0ae1=>{const _0x3fc417=_0x83d137,_0x232ca0=_0x4e0ae1[_0x3fc417(0x238)]()||{},_0x289303=Date['now'](),_0x116ed5=Object[_0x3fc417(0x25c)](_0x232ca0)[_0x3fc417(0x1ef)](_0x868450=>{const _0x4dbbc8=_0x3fc417,_0x5cea05=_0x868450[_0x4dbbc8(0x241)],_0x4ea79e=_0x289303-_0x868450[_0x4dbbc8(0x239)]<=0x1e*0x3c*0x3e8;if(!_0x5cea05&&!_0x4ea79e)return'';const _0x401fa2=_0x5cea05?_0x4dbbc8(0x1ed):_0x4dbbc8(0x265),_0x3de3d9=_0x5cea05?'üü¢':'üïí',_0x31b169=new Date(_0x868450[_0x4dbbc8(0x239)])[_0x4dbbc8(0x248)]([],{'hour':_0x4dbbc8(0x278),'minute':_0x4dbbc8(0x278)});return _0x4dbbc8(0x23c)+_0x401fa2+_0x4dbbc8(0x206)+sanitizeUsername(_0x868450[_0x4dbbc8(0x25d)])+'\x27)\x22>'+_0x3de3d9+'\x20'+_0x868450[_0x4dbbc8(0x25d)]+_0x4dbbc8(0x20f);})[_0x3fc417(0x1fd)]('');document['getElementById'](_0x3fc417(0x26d))['innerHTML']=_0x116ed5;});}function sendTyping(_0x50d002=![]){const _0x1cf103=_0xd02e04,_0x3bb9be=_0x1cf103(0x27b)+roomCode+_0x1cf103(0x20d)+clientId;_0x50d002?db[_0x1cf103(0x1f7)](_0x3bb9be)[_0x1cf103(0x215)]():(db[_0x1cf103(0x1f7)](_0x3bb9be)['set'](username),clearTimeout(typingTimeout),typingTimeout=setTimeout(()=>{const _0x2f3ebe=_0x1cf103;db[_0x2f3ebe(0x1f7)](_0x3bb9be)[_0x2f3ebe(0x215)]();},0xbb8));}function listenForTyping(){const _0x35b779=_0xd02e04,_0x1d27ad=document['getElementById'](_0x35b779(0x27e));db[_0x35b779(0x1f7)]('rooms/'+roomCode+_0x35b779(0x1e0))['on'](_0x35b779(0x222),_0x5a6410=>{const _0x503a18=_0x35b779,_0x31ae30=_0x5a6410[_0x503a18(0x238)]();if(!_0x31ae30)return _0x1d27ad[_0x503a18(0x263)]='';const _0x541738=Object[_0x503a18(0x25c)](_0x31ae30)[_0x503a18(0x242)](_0x475017=>_0x475017!==username);_0x1d27ad['innerText']=_0x541738['length']?_0x541738[_0x503a18(0x1fd)](',\x20')+_0x503a18(0x1f3):'';});}function trackPresence(){const _0x57d88c=_0xd02e04;if(!username||!roomCode)return;const _0x265d2f=sanitizeUsername(username),_0x1e6a7a=db['ref']('users/'+roomCode+'/'+_0x265d2f),_0xd6fd77={'username':username,'lastOnline':firebase[_0x57d88c(0x255)][_0x57d88c(0x214)][_0x57d88c(0x204)],'online':!![]};_0x1e6a7a[_0x57d88c(0x201)](_0xd6fd77),_0x1e6a7a['onDisconnect']()['update']({'online':![],'lastOnline':Date[_0x57d88c(0x1eb)]()});}function viewProfile(_0x3aa690){const _0x411a95=_0xd02e04;db['ref'](_0x411a95(0x257)+_0x3aa690)[_0x411a95(0x254)]()[_0x411a95(0x25e)](_0x2759c1=>{const _0x351aea=_0x411a95;if(!_0x2759c1[_0x351aea(0x228)]())return;const _0x44a10e=_0x2759c1[_0x351aea(0x238)](),_0xac2988=(_0x351aea(0x27d)+_0x44a10e[_0x351aea(0x25d)]+'\x0aDescription:\x20'+(_0x44a10e[_0x351aea(0x246)]||'No\x20bio\x20set')+_0x351aea(0x25f)+(_0x44a10e[_0x351aea(0x1de)]||[])[_0x351aea(0x1fd)]('\x0a')+_0x351aea(0x24f)+new Date(_0x44a10e['lastChanged'])[_0x351aea(0x276)]()+_0x351aea(0x1fc))[_0x351aea(0x1dc)]();document[_0x351aea(0x277)](_0x351aea(0x262))[_0x351aea(0x263)]=_0xac2988,document[_0x351aea(0x277)](_0x351aea(0x26f))[_0x351aea(0x234)]['display']=_0x351aea(0x24e);});}function initUsernameFlow(){const _0x34fcf6=_0xd02e04,_0x346ef4=localStorage[_0x34fcf6(0x23f)](_0x34fcf6(0x1db));!_0x346ef4?showScreen(_0x34fcf6(0x218)):(username=_0x346ef4,document[_0x34fcf6(0x277)](_0x34fcf6(0x243))[_0x34fcf6(0x263)]=username,showScreen('roomChoiceScreen'));}